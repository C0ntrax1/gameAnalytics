var sC=Object.defineProperty;var lC=(s,o,_)=>o in s?sC(s,o,{enumerable:!0,configurable:!0,writable:!0,value:_}):s[o]=_;var Ji=(s,o,_)=>(lC(s,typeof o!="symbol"?o+"":o,_),_);function uC(s,o){for(var _=0;_<o.length;_++){const V=o[_];if(typeof V!="string"&&!Array.isArray(V)){for(const K in V)if(K!=="default"&&!(K in s)){const le=Object.getOwnPropertyDescriptor(V,K);le&&Object.defineProperty(s,K,le.get?le:{enumerable:!0,get:()=>V[K]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const K of document.querySelectorAll('link[rel="modulepreload"]'))V(K);new MutationObserver(K=>{for(const le of K)if(le.type==="childList")for(const k of le.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&V(k)}).observe(document,{childList:!0,subtree:!0});function _(K){const le={};return K.integrity&&(le.integrity=K.integrity),K.referrerPolicy&&(le.referrerPolicy=K.referrerPolicy),K.crossOrigin==="use-credentials"?le.credentials="include":K.crossOrigin==="anonymous"?le.credentials="omit":le.credentials="same-origin",le}function V(K){if(K.ep)return;K.ep=!0;const le=_(K);fetch(K.href,le)}})();function AA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var c0={},fC={get exports(){return c0},set exports(s){c0=s}},hm={},bi={},cC={get exports(){return bi},set exports(s){bi=s}},ga={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0=Symbol.for("react.element"),hC=Symbol.for("react.portal"),vC=Symbol.for("react.fragment"),dC=Symbol.for("react.strict_mode"),pC=Symbol.for("react.profiler"),gC=Symbol.for("react.provider"),yC=Symbol.for("react.context"),mC=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),bC=Symbol.for("react.memo"),wC=Symbol.for("react.lazy"),pw=Symbol.iterator;function TC(s){return s===null||typeof s!="object"?null:(s=pw&&s[pw]||s["@@iterator"],typeof s=="function"?s:null)}var MA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SA=Object.assign,EA={};function Xd(s,o,_){this.props=s,this.context=o,this.refs=EA,this.updater=_||MA}Xd.prototype.isReactComponent={};Xd.prototype.setState=function(s,o){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,o,"setState")};Xd.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function CA(){}CA.prototype=Xd.prototype;function D2(s,o,_){this.props=s,this.context=o,this.refs=EA,this.updater=_||MA}var _2=D2.prototype=new CA;_2.constructor=D2;SA(_2,Xd.prototype);_2.isPureReactComponent=!0;var gw=Array.isArray,LA=Object.prototype.hasOwnProperty,k2={current:null},PA={key:!0,ref:!0,__self:!0,__source:!0};function RA(s,o,_){var V,K={},le=null,k=null;if(o!=null)for(V in o.ref!==void 0&&(k=o.ref),o.key!==void 0&&(le=""+o.key),o)LA.call(o,V)&&!PA.hasOwnProperty(V)&&(K[V]=o[V]);var F=arguments.length-2;if(F===1)K.children=_;else if(1<F){for(var e=Array(F),h=0;h<F;h++)e[h]=arguments[h+2];K.children=e}if(s&&s.defaultProps)for(V in F=s.defaultProps,F)K[V]===void 0&&(K[V]=F[V]);return{$$typeof:z0,type:s,key:le,ref:k,props:K,_owner:k2.current}}function AC(s,o){return{$$typeof:z0,type:s.type,key:o,ref:s.ref,props:s.props,_owner:s._owner}}function I2(s){return typeof s=="object"&&s!==null&&s.$$typeof===z0}function MC(s){var o={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(_){return o[_]})}var yw=/\/+/g;function T1(s,o){return typeof s=="object"&&s!==null&&s.key!=null?MC(""+s.key):o.toString(36)}function sy(s,o,_,V,K){var le=typeof s;(le==="undefined"||le==="boolean")&&(s=null);var k=!1;if(s===null)k=!0;else switch(le){case"string":case"number":k=!0;break;case"object":switch(s.$$typeof){case z0:case hC:k=!0}}if(k)return k=s,K=K(k),s=V===""?"."+T1(k,0):V,gw(K)?(_="",s!=null&&(_=s.replace(yw,"$&/")+"/"),sy(K,o,_,"",function(h){return h})):K!=null&&(I2(K)&&(K=AC(K,_+(!K.key||k&&k.key===K.key?"":(""+K.key).replace(yw,"$&/")+"/")+s)),o.push(K)),1;if(k=0,V=V===""?".":V+":",gw(s))for(var F=0;F<s.length;F++){le=s[F];var e=V+T1(le,F);k+=sy(le,o,_,e,K)}else if(e=TC(s),typeof e=="function")for(s=e.call(s),F=0;!(le=s.next()).done;)le=le.value,e=V+T1(le,F++),k+=sy(le,o,_,e,K);else if(le==="object")throw o=String(s),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return k}function Eg(s,o,_){if(s==null)return s;var V=[],K=0;return sy(s,V,"","",function(le){return o.call(_,le,K++)}),V}function SC(s){if(s._status===-1){var o=s._result;o=o(),o.then(function(_){(s._status===0||s._status===-1)&&(s._status=1,s._result=_)},function(_){(s._status===0||s._status===-1)&&(s._status=2,s._result=_)}),s._status===-1&&(s._status=0,s._result=o)}if(s._status===1)return s._result.default;throw s._result}var el={current:null},ly={transition:null},EC={ReactCurrentDispatcher:el,ReactCurrentBatchConfig:ly,ReactCurrentOwner:k2};ga.Children={map:Eg,forEach:function(s,o,_){Eg(s,function(){o.apply(this,arguments)},_)},count:function(s){var o=0;return Eg(s,function(){o++}),o},toArray:function(s){return Eg(s,function(o){return o})||[]},only:function(s){if(!I2(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};ga.Component=Xd;ga.Fragment=vC;ga.Profiler=pC;ga.PureComponent=D2;ga.StrictMode=dC;ga.Suspense=xC;ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EC;ga.cloneElement=function(s,o,_){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var V=SA({},s.props),K=s.key,le=s.ref,k=s._owner;if(o!=null){if(o.ref!==void 0&&(le=o.ref,k=k2.current),o.key!==void 0&&(K=""+o.key),s.type&&s.type.defaultProps)var F=s.type.defaultProps;for(e in o)LA.call(o,e)&&!PA.hasOwnProperty(e)&&(V[e]=o[e]===void 0&&F!==void 0?F[e]:o[e])}var e=arguments.length-2;if(e===1)V.children=_;else if(1<e){F=Array(e);for(var h=0;h<e;h++)F[h]=arguments[h+2];V.children=F}return{$$typeof:z0,type:s.type,key:K,ref:le,props:V,_owner:k}};ga.createContext=function(s){return s={$$typeof:yC,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:gC,_context:s},s.Consumer=s};ga.createElement=RA;ga.createFactory=function(s){var o=RA.bind(null,s);return o.type=s,o};ga.createRef=function(){return{current:null}};ga.forwardRef=function(s){return{$$typeof:mC,render:s}};ga.isValidElement=I2;ga.lazy=function(s){return{$$typeof:wC,_payload:{_status:-1,_result:s},_init:SC}};ga.memo=function(s,o){return{$$typeof:bC,type:s,compare:o===void 0?null:o}};ga.startTransition=function(s){var o=ly.transition;ly.transition={};try{s()}finally{ly.transition=o}};ga.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ga.useCallback=function(s,o){return el.current.useCallback(s,o)};ga.useContext=function(s){return el.current.useContext(s)};ga.useDebugValue=function(){};ga.useDeferredValue=function(s){return el.current.useDeferredValue(s)};ga.useEffect=function(s,o){return el.current.useEffect(s,o)};ga.useId=function(){return el.current.useId()};ga.useImperativeHandle=function(s,o,_){return el.current.useImperativeHandle(s,o,_)};ga.useInsertionEffect=function(s,o){return el.current.useInsertionEffect(s,o)};ga.useLayoutEffect=function(s,o){return el.current.useLayoutEffect(s,o)};ga.useMemo=function(s,o){return el.current.useMemo(s,o)};ga.useReducer=function(s,o,_){return el.current.useReducer(s,o,_)};ga.useRef=function(s){return el.current.useRef(s)};ga.useState=function(s){return el.current.useState(s)};ga.useSyncExternalStore=function(s,o,_){return el.current.useSyncExternalStore(s,o,_)};ga.useTransition=function(){return el.current.useTransition()};ga.version="18.2.0";(function(s){s.exports=ga})(cC);const O0=AA(bi),ux=uC({__proto__:null,default:O0},[bi]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC=bi,LC=Symbol.for("react.element"),PC=Symbol.for("react.fragment"),RC=Object.prototype.hasOwnProperty,DC=CC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_C={key:!0,ref:!0,__self:!0,__source:!0};function DA(s,o,_){var V,K={},le=null,k=null;_!==void 0&&(le=""+_),o.key!==void 0&&(le=""+o.key),o.ref!==void 0&&(k=o.ref);for(V in o)RC.call(o,V)&&!_C.hasOwnProperty(V)&&(K[V]=o[V]);if(s&&s.defaultProps)for(V in o=s.defaultProps,o)K[V]===void 0&&(K[V]=o[V]);return{$$typeof:LC,type:s,key:le,ref:k,props:K,_owner:DC.current}}hm.Fragment=PC;hm.jsx=DA;hm.jsxs=DA;(function(s){s.exports=hm})(fC);const kC=c0.Fragment,Gi=c0.jsx,Pf=c0.jsxs;var fx={},cx={},IC={get exports(){return cx},set exports(s){cx=s}},Zl={},hx={},FC={get exports(){return hx},set exports(s){hx=s}},_A={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function o(A,a){var R=A.length;A.push(a);e:for(;0<R;){var b=R-1>>>1,N=A[b];if(0<K(N,a))A[b]=a,A[R]=N,R=b;else break e}}function _(A){return A.length===0?null:A[0]}function V(A){if(A.length===0)return null;var a=A[0],R=A.pop();if(R!==a){A[0]=R;e:for(var b=0,N=A.length,O=N>>>1;b<O;){var Y=2*(b+1)-1,B=A[Y],W=Y+1,H=A[W];if(0>K(B,R))W<N&&0>K(H,B)?(A[b]=H,A[W]=R,b=W):(A[b]=B,A[Y]=R,b=Y);else if(W<N&&0>K(H,R))A[b]=H,A[W]=R,b=W;else break e}}return a}function K(A,a){var R=A.sortIndex-a.sortIndex;return R!==0?R:A.id-a.id}if(typeof performance=="object"&&typeof performance.now=="function"){var le=performance;s.unstable_now=function(){return le.now()}}else{var k=Date,F=k.now();s.unstable_now=function(){return k.now()-F}}var e=[],h=[],E=1,n=null,L=3,w=!1,p=!1,m=!1,t=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,l=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function i(A){for(var a=_(h);a!==null;){if(a.callback===null)V(h);else if(a.startTime<=A)V(h),a.sortIndex=a.expirationTime,o(e,a);else break;a=_(h)}}function f(A){if(m=!1,i(A),!p)if(_(e)!==null)p=!0,T(v);else{var a=_(h);a!==null&&P(f,a.startTime-A)}}function v(A,a){p=!1,m&&(m=!1,r(d),d=-1),w=!0;var R=L;try{for(i(a),n=_(e);n!==null&&(!(n.expirationTime>a)||A&&!u());){var b=n.callback;if(typeof b=="function"){n.callback=null,L=n.priorityLevel;var N=b(n.expirationTime<=a);a=s.unstable_now(),typeof N=="function"?n.callback=N:n===_(e)&&V(e),i(a)}else V(e);n=_(e)}if(n!==null)var O=!0;else{var Y=_(h);Y!==null&&P(f,Y.startTime-a),O=!1}return O}finally{n=null,L=R,w=!1}}var c=!1,x=null,d=-1,M=5,g=-1;function u(){return!(s.unstable_now()-g<M)}function y(){if(x!==null){var A=s.unstable_now();g=A;var a=!0;try{a=x(!0,A)}finally{a?C():(c=!1,x=null)}}else c=!1}var C;if(typeof l=="function")C=function(){l(y)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,D=S.port2;S.port1.onmessage=y,C=function(){D.postMessage(null)}}else C=function(){t(y,0)};function T(A){x=A,c||(c=!0,C())}function P(A,a){d=t(function(){A(s.unstable_now())},a)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(A){A.callback=null},s.unstable_continueExecution=function(){p||w||(p=!0,T(v))},s.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<A?Math.floor(1e3/A):5},s.unstable_getCurrentPriorityLevel=function(){return L},s.unstable_getFirstCallbackNode=function(){return _(e)},s.unstable_next=function(A){switch(L){case 1:case 2:case 3:var a=3;break;default:a=L}var R=L;L=a;try{return A()}finally{L=R}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(A,a){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var R=L;L=A;try{return a()}finally{L=R}},s.unstable_scheduleCallback=function(A,a,R){var b=s.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?b+R:b):R=b,A){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=R+N,A={id:E++,callback:a,priorityLevel:A,startTime:R,expirationTime:N,sortIndex:-1},R>b?(A.sortIndex=R,o(h,A),_(e)===null&&A===_(h)&&(m?(r(d),d=-1):m=!0,P(f,R-b))):(A.sortIndex=N,o(e,A),p||w||(p=!0,T(v))),A},s.unstable_shouldYield=u,s.unstable_wrapCallback=function(A){var a=L;return function(){var R=L;L=a;try{return A.apply(this,arguments)}finally{L=R}}}})(_A);(function(s){s.exports=_A})(FC);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA=bi,Gl=hx;function vi(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,_=1;_<arguments.length;_++)o+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IA=new Set,h0={};function Ov(s,o){Id(s,o),Id(s+"Capture",o)}function Id(s,o){for(h0[s]=o,s=0;s<o.length;s++)IA.add(o[s])}var xc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vx=Object.prototype.hasOwnProperty,zC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mw={},xw={};function OC(s){return vx.call(xw,s)?!0:vx.call(mw,s)?!1:zC.test(s)?xw[s]=!0:(mw[s]=!0,!1)}function BC(s,o,_,V){if(_!==null&&_.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return V?!1:_!==null?!_.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function NC(s,o,_,V){if(o===null||typeof o>"u"||BC(s,o,_,V))return!0;if(V)return!1;if(_!==null)switch(_.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function tl(s,o,_,V,K,le,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=V,this.attributeNamespace=K,this.mustUseProperty=_,this.propertyName=s,this.type=o,this.sanitizeURL=le,this.removeEmptyString=k}var ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){ws[s]=new tl(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];ws[o]=new tl(o,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){ws[s]=new tl(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){ws[s]=new tl(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){ws[s]=new tl(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){ws[s]=new tl(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){ws[s]=new tl(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){ws[s]=new tl(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){ws[s]=new tl(s,5,!1,s.toLowerCase(),null,!1,!1)});var F2=/[\-:]([a-z])/g;function z2(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F2,z2);ws[o]=new tl(o,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F2,z2);ws[o]=new tl(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F2,z2);ws[o]=new tl(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){ws[s]=new tl(s,1,!1,s.toLowerCase(),null,!1,!1)});ws.xlinkHref=new tl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){ws[s]=new tl(s,1,!1,s.toLowerCase(),null,!0,!0)});function O2(s,o,_,V){var K=ws.hasOwnProperty(o)?ws[o]:null;(K!==null?K.type!==0:V||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(NC(o,_,K,V)&&(_=null),V||K===null?OC(o)&&(_===null?s.removeAttribute(o):s.setAttribute(o,""+_)):K.mustUseProperty?s[K.propertyName]=_===null?K.type===3?!1:"":_:(o=K.attributeName,V=K.attributeNamespace,_===null?s.removeAttribute(o):(K=K.type,_=K===3||K===4&&_===!0?"":""+_,V?s.setAttributeNS(V,o,_):s.setAttribute(o,_))))}var Ac=kA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cg=Symbol.for("react.element"),pd=Symbol.for("react.portal"),gd=Symbol.for("react.fragment"),B2=Symbol.for("react.strict_mode"),dx=Symbol.for("react.profiler"),FA=Symbol.for("react.provider"),zA=Symbol.for("react.context"),N2=Symbol.for("react.forward_ref"),px=Symbol.for("react.suspense"),gx=Symbol.for("react.suspense_list"),U2=Symbol.for("react.memo"),oh=Symbol.for("react.lazy"),OA=Symbol.for("react.offscreen"),bw=Symbol.iterator;function Ep(s){return s===null||typeof s!="object"?null:(s=bw&&s[bw]||s["@@iterator"],typeof s=="function"?s:null)}var xo=Object.assign,A1;function Up(s){if(A1===void 0)try{throw Error()}catch(_){var o=_.stack.trim().match(/\n( *(at )?)/);A1=o&&o[1]||""}return`
`+A1+s}var M1=!1;function S1(s,o){if(!s||M1)return"";M1=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(h){var V=h}Reflect.construct(s,[],o)}else{try{o.call()}catch(h){V=h}s.call(o.prototype)}else{try{throw Error()}catch(h){V=h}s()}}catch(h){if(h&&V&&typeof h.stack=="string"){for(var K=h.stack.split(`
`),le=V.stack.split(`
`),k=K.length-1,F=le.length-1;1<=k&&0<=F&&K[k]!==le[F];)F--;for(;1<=k&&0<=F;k--,F--)if(K[k]!==le[F]){if(k!==1||F!==1)do if(k--,F--,0>F||K[k]!==le[F]){var e=`
`+K[k].replace(" at new "," at ");return s.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",s.displayName)),e}while(1<=k&&0<=F);break}}}finally{M1=!1,Error.prepareStackTrace=_}return(s=s?s.displayName||s.name:"")?Up(s):""}function UC(s){switch(s.tag){case 5:return Up(s.type);case 16:return Up("Lazy");case 13:return Up("Suspense");case 19:return Up("SuspenseList");case 0:case 2:case 15:return s=S1(s.type,!1),s;case 11:return s=S1(s.type.render,!1),s;case 1:return s=S1(s.type,!0),s;default:return""}}function yx(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case gd:return"Fragment";case pd:return"Portal";case dx:return"Profiler";case B2:return"StrictMode";case px:return"Suspense";case gx:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case zA:return(s.displayName||"Context")+".Consumer";case FA:return(s._context.displayName||"Context")+".Provider";case N2:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U2:return o=s.displayName||null,o!==null?o:yx(s.type)||"Memo";case oh:o=s._payload,s=s._init;try{return yx(s(o))}catch{}}return null}function HC(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yx(o);case 8:return o===B2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Lh(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function BA(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function VC(s){var o=BA(s)?"checked":"value",_=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),V=""+s[o];if(!s.hasOwnProperty(o)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var K=_.get,le=_.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return K.call(this)},set:function(k){V=""+k,le.call(this,k)}}),Object.defineProperty(s,o,{enumerable:_.enumerable}),{getValue:function(){return V},setValue:function(k){V=""+k},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Lg(s){s._valueTracker||(s._valueTracker=VC(s))}function NA(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var _=o.getValue(),V="";return s&&(V=BA(s)?s.checked?"true":"false":s.value),s=V,s!==_?(o.setValue(s),!0):!1}function Ly(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function mx(s,o){var _=o.checked;return xo({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??s._wrapperState.initialChecked})}function ww(s,o){var _=o.defaultValue==null?"":o.defaultValue,V=o.checked!=null?o.checked:o.defaultChecked;_=Lh(o.value!=null?o.value:_),s._wrapperState={initialChecked:V,initialValue:_,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function UA(s,o){o=o.checked,o!=null&&O2(s,"checked",o,!1)}function xx(s,o){UA(s,o);var _=Lh(o.value),V=o.type;if(_!=null)V==="number"?(_===0&&s.value===""||s.value!=_)&&(s.value=""+_):s.value!==""+_&&(s.value=""+_);else if(V==="submit"||V==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?bx(s,o.type,_):o.hasOwnProperty("defaultValue")&&bx(s,o.type,Lh(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Tw(s,o,_){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var V=o.type;if(!(V!=="submit"&&V!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,_||o===s.value||(s.value=o),s.defaultValue=o}_=s.name,_!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,_!==""&&(s.name=_)}function bx(s,o,_){(o!=="number"||Ly(s.ownerDocument)!==s)&&(_==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+_&&(s.defaultValue=""+_))}var Hp=Array.isArray;function Cd(s,o,_,V){if(s=s.options,o){o={};for(var K=0;K<_.length;K++)o["$"+_[K]]=!0;for(_=0;_<s.length;_++)K=o.hasOwnProperty("$"+s[_].value),s[_].selected!==K&&(s[_].selected=K),K&&V&&(s[_].defaultSelected=!0)}else{for(_=""+Lh(_),o=null,K=0;K<s.length;K++){if(s[K].value===_){s[K].selected=!0,V&&(s[K].defaultSelected=!0);return}o!==null||s[K].disabled||(o=s[K])}o!==null&&(o.selected=!0)}}function wx(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(vi(91));return xo({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Aw(s,o){var _=o.value;if(_==null){if(_=o.children,o=o.defaultValue,_!=null){if(o!=null)throw Error(vi(92));if(Hp(_)){if(1<_.length)throw Error(vi(93));_=_[0]}o=_}o==null&&(o=""),_=o}s._wrapperState={initialValue:Lh(_)}}function HA(s,o){var _=Lh(o.value),V=Lh(o.defaultValue);_!=null&&(_=""+_,_!==s.value&&(s.value=_),o.defaultValue==null&&s.defaultValue!==_&&(s.defaultValue=_)),V!=null&&(s.defaultValue=""+V)}function Mw(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function VA(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tx(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?VA(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Pg,WA=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,_,V,K){MSApp.execUnsafeLocalFunction(function(){return s(o,_,V,K)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Pg=Pg||document.createElement("div"),Pg.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Pg.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function v0(s,o){if(o){var _=s.firstChild;if(_&&_===s.lastChild&&_.nodeType===3){_.nodeValue=o;return}}s.textContent=o}var Qp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WC=["Webkit","ms","Moz","O"];Object.keys(Qp).forEach(function(s){WC.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Qp[o]=Qp[s]})});function GA(s,o,_){return o==null||typeof o=="boolean"||o===""?"":_||typeof o!="number"||o===0||Qp.hasOwnProperty(s)&&Qp[s]?(""+o).trim():o+"px"}function YA(s,o){s=s.style;for(var _ in o)if(o.hasOwnProperty(_)){var V=_.indexOf("--")===0,K=GA(_,o[_],V);_==="float"&&(_="cssFloat"),V?s.setProperty(_,K):s[_]=K}}var GC=xo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ax(s,o){if(o){if(GC[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(vi(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(vi(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(vi(61))}if(o.style!=null&&typeof o.style!="object")throw Error(vi(62))}}function Mx(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sx=null;function H2(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ex=null,Ld=null,Pd=null;function Sw(s){if(s=U0(s)){if(typeof Ex!="function")throw Error(vi(280));var o=s.stateNode;o&&(o=ym(o),Ex(s.stateNode,s.type,o))}}function ZA(s){Ld?Pd?Pd.push(s):Pd=[s]:Ld=s}function jA(){if(Ld){var s=Ld,o=Pd;if(Pd=Ld=null,Sw(s),o)for(s=0;s<o.length;s++)Sw(o[s])}}function XA(s,o){return s(o)}function KA(){}var E1=!1;function JA(s,o,_){if(E1)return s(o,_);E1=!0;try{return XA(s,o,_)}finally{E1=!1,(Ld!==null||Pd!==null)&&(KA(),jA())}}function d0(s,o){var _=s.stateNode;if(_===null)return null;var V=ym(_);if(V===null)return null;_=V[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(s=s.type,V=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!V;break e;default:s=!1}if(s)return null;if(_&&typeof _!="function")throw Error(vi(231,o,typeof _));return _}var Cx=!1;if(xc)try{var Cp={};Object.defineProperty(Cp,"passive",{get:function(){Cx=!0}}),window.addEventListener("test",Cp,Cp),window.removeEventListener("test",Cp,Cp)}catch{Cx=!1}function YC(s,o,_,V,K,le,k,F,e){var h=Array.prototype.slice.call(arguments,3);try{o.apply(_,h)}catch(E){this.onError(E)}}var $p=!1,Py=null,Ry=!1,Lx=null,ZC={onError:function(s){$p=!0,Py=s}};function jC(s,o,_,V,K,le,k,F,e){$p=!1,Py=null,YC.apply(ZC,arguments)}function XC(s,o,_,V,K,le,k,F,e){if(jC.apply(this,arguments),$p){if($p){var h=Py;$p=!1,Py=null}else throw Error(vi(198));Ry||(Ry=!0,Lx=h)}}function Bv(s){var o=s,_=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(_=o.return),s=o.return;while(s)}return o.tag===3?_:null}function QA(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Ew(s){if(Bv(s)!==s)throw Error(vi(188))}function KC(s){var o=s.alternate;if(!o){if(o=Bv(s),o===null)throw Error(vi(188));return o!==s?null:s}for(var _=s,V=o;;){var K=_.return;if(K===null)break;var le=K.alternate;if(le===null){if(V=K.return,V!==null){_=V;continue}break}if(K.child===le.child){for(le=K.child;le;){if(le===_)return Ew(K),s;if(le===V)return Ew(K),o;le=le.sibling}throw Error(vi(188))}if(_.return!==V.return)_=K,V=le;else{for(var k=!1,F=K.child;F;){if(F===_){k=!0,_=K,V=le;break}if(F===V){k=!0,V=K,_=le;break}F=F.sibling}if(!k){for(F=le.child;F;){if(F===_){k=!0,_=le,V=K;break}if(F===V){k=!0,V=le,_=K;break}F=F.sibling}if(!k)throw Error(vi(189))}}if(_.alternate!==V)throw Error(vi(190))}if(_.tag!==3)throw Error(vi(188));return _.stateNode.current===_?s:o}function $A(s){return s=KC(s),s!==null?qA(s):null}function qA(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=qA(s);if(o!==null)return o;s=s.sibling}return null}var e4=Gl.unstable_scheduleCallback,Cw=Gl.unstable_cancelCallback,JC=Gl.unstable_shouldYield,QC=Gl.unstable_requestPaint,Do=Gl.unstable_now,$C=Gl.unstable_getCurrentPriorityLevel,V2=Gl.unstable_ImmediatePriority,t4=Gl.unstable_UserBlockingPriority,Dy=Gl.unstable_NormalPriority,qC=Gl.unstable_LowPriority,r4=Gl.unstable_IdlePriority,vm=null,Rf=null;function eL(s){if(Rf&&typeof Rf.onCommitFiberRoot=="function")try{Rf.onCommitFiberRoot(vm,s,void 0,(s.current.flags&128)===128)}catch{}}var Ju=Math.clz32?Math.clz32:nL,tL=Math.log,rL=Math.LN2;function nL(s){return s>>>=0,s===0?32:31-(tL(s)/rL|0)|0}var Rg=64,Dg=4194304;function Vp(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function _y(s,o){var _=s.pendingLanes;if(_===0)return 0;var V=0,K=s.suspendedLanes,le=s.pingedLanes,k=_&268435455;if(k!==0){var F=k&~K;F!==0?V=Vp(F):(le&=k,le!==0&&(V=Vp(le)))}else k=_&~K,k!==0?V=Vp(k):le!==0&&(V=Vp(le));if(V===0)return 0;if(o!==0&&o!==V&&!(o&K)&&(K=V&-V,le=o&-o,K>=le||K===16&&(le&4194240)!==0))return o;if(V&4&&(V|=_&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=V;0<o;)_=31-Ju(o),K=1<<_,V|=s[_],o&=~K;return V}function iL(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aL(s,o){for(var _=s.suspendedLanes,V=s.pingedLanes,K=s.expirationTimes,le=s.pendingLanes;0<le;){var k=31-Ju(le),F=1<<k,e=K[k];e===-1?(!(F&_)||F&V)&&(K[k]=iL(F,o)):e<=o&&(s.expiredLanes|=F),le&=~F}}function Px(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function n4(){var s=Rg;return Rg<<=1,!(Rg&4194240)&&(Rg=64),s}function C1(s){for(var o=[],_=0;31>_;_++)o.push(s);return o}function B0(s,o,_){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Ju(o),s[o]=_}function oL(s,o){var _=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var V=s.eventTimes;for(s=s.expirationTimes;0<_;){var K=31-Ju(_),le=1<<K;o[K]=0,V[K]=-1,s[K]=-1,_&=~le}}function W2(s,o){var _=s.entangledLanes|=o;for(s=s.entanglements;_;){var V=31-Ju(_),K=1<<V;K&o|s[V]&o&&(s[V]|=o),_&=~K}}var Ua=0;function i4(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var a4,G2,o4,s4,l4,Rx=!1,_g=[],gh=null,yh=null,mh=null,p0=new Map,g0=new Map,lh=[],sL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lw(s,o){switch(s){case"focusin":case"focusout":gh=null;break;case"dragenter":case"dragleave":yh=null;break;case"mouseover":case"mouseout":mh=null;break;case"pointerover":case"pointerout":p0.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":g0.delete(o.pointerId)}}function Lp(s,o,_,V,K,le){return s===null||s.nativeEvent!==le?(s={blockedOn:o,domEventName:_,eventSystemFlags:V,nativeEvent:le,targetContainers:[K]},o!==null&&(o=U0(o),o!==null&&G2(o)),s):(s.eventSystemFlags|=V,o=s.targetContainers,K!==null&&o.indexOf(K)===-1&&o.push(K),s)}function lL(s,o,_,V,K){switch(o){case"focusin":return gh=Lp(gh,s,o,_,V,K),!0;case"dragenter":return yh=Lp(yh,s,o,_,V,K),!0;case"mouseover":return mh=Lp(mh,s,o,_,V,K),!0;case"pointerover":var le=K.pointerId;return p0.set(le,Lp(p0.get(le)||null,s,o,_,V,K)),!0;case"gotpointercapture":return le=K.pointerId,g0.set(le,Lp(g0.get(le)||null,s,o,_,V,K)),!0}return!1}function u4(s){var o=bv(s.target);if(o!==null){var _=Bv(o);if(_!==null){if(o=_.tag,o===13){if(o=QA(_),o!==null){s.blockedOn=o,l4(s.priority,function(){o4(_)});return}}else if(o===3&&_.stateNode.current.memoizedState.isDehydrated){s.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}s.blockedOn=null}function uy(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var _=Dx(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(_===null){_=s.nativeEvent;var V=new _.constructor(_.type,_);Sx=V,_.target.dispatchEvent(V),Sx=null}else return o=U0(_),o!==null&&G2(o),s.blockedOn=_,!1;o.shift()}return!0}function Pw(s,o,_){uy(s)&&_.delete(o)}function uL(){Rx=!1,gh!==null&&uy(gh)&&(gh=null),yh!==null&&uy(yh)&&(yh=null),mh!==null&&uy(mh)&&(mh=null),p0.forEach(Pw),g0.forEach(Pw)}function Pp(s,o){s.blockedOn===o&&(s.blockedOn=null,Rx||(Rx=!0,Gl.unstable_scheduleCallback(Gl.unstable_NormalPriority,uL)))}function y0(s){function o(K){return Pp(K,s)}if(0<_g.length){Pp(_g[0],s);for(var _=1;_<_g.length;_++){var V=_g[_];V.blockedOn===s&&(V.blockedOn=null)}}for(gh!==null&&Pp(gh,s),yh!==null&&Pp(yh,s),mh!==null&&Pp(mh,s),p0.forEach(o),g0.forEach(o),_=0;_<lh.length;_++)V=lh[_],V.blockedOn===s&&(V.blockedOn=null);for(;0<lh.length&&(_=lh[0],_.blockedOn===null);)u4(_),_.blockedOn===null&&lh.shift()}var Rd=Ac.ReactCurrentBatchConfig,ky=!0;function fL(s,o,_,V){var K=Ua,le=Rd.transition;Rd.transition=null;try{Ua=1,Y2(s,o,_,V)}finally{Ua=K,Rd.transition=le}}function cL(s,o,_,V){var K=Ua,le=Rd.transition;Rd.transition=null;try{Ua=4,Y2(s,o,_,V)}finally{Ua=K,Rd.transition=le}}function Y2(s,o,_,V){if(ky){var K=Dx(s,o,_,V);if(K===null)O1(s,o,V,Iy,_),Lw(s,V);else if(lL(K,s,o,_,V))V.stopPropagation();else if(Lw(s,V),o&4&&-1<sL.indexOf(s)){for(;K!==null;){var le=U0(K);if(le!==null&&a4(le),le=Dx(s,o,_,V),le===null&&O1(s,o,V,Iy,_),le===K)break;K=le}K!==null&&V.stopPropagation()}else O1(s,o,V,null,_)}}var Iy=null;function Dx(s,o,_,V){if(Iy=null,s=H2(V),s=bv(s),s!==null)if(o=Bv(s),o===null)s=null;else if(_=o.tag,_===13){if(s=QA(o),s!==null)return s;s=null}else if(_===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Iy=s,null}function f4(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($C()){case V2:return 1;case t4:return 4;case Dy:case qC:return 16;case r4:return 536870912;default:return 16}default:return 16}}var fh=null,Z2=null,fy=null;function c4(){if(fy)return fy;var s,o=Z2,_=o.length,V,K="value"in fh?fh.value:fh.textContent,le=K.length;for(s=0;s<_&&o[s]===K[s];s++);var k=_-s;for(V=1;V<=k&&o[_-V]===K[le-V];V++);return fy=K.slice(s,1<V?1-V:void 0)}function cy(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function kg(){return!0}function Rw(){return!1}function jl(s){function o(_,V,K,le,k){this._reactName=_,this._targetInst=K,this.type=V,this.nativeEvent=le,this.target=k,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(_=s[F],this[F]=_?_(le):le[F]);return this.isDefaultPrevented=(le.defaultPrevented!=null?le.defaultPrevented:le.returnValue===!1)?kg:Rw,this.isPropagationStopped=Rw,this}return xo(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=kg)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=kg)},persist:function(){},isPersistent:kg}),o}var Kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j2=jl(Kd),N0=xo({},Kd,{view:0,detail:0}),hL=jl(N0),L1,P1,Rp,dm=xo({},N0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X2,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Rp&&(Rp&&s.type==="mousemove"?(L1=s.screenX-Rp.screenX,P1=s.screenY-Rp.screenY):P1=L1=0,Rp=s),L1)},movementY:function(s){return"movementY"in s?s.movementY:P1}}),Dw=jl(dm),vL=xo({},dm,{dataTransfer:0}),dL=jl(vL),pL=xo({},N0,{relatedTarget:0}),R1=jl(pL),gL=xo({},Kd,{animationName:0,elapsedTime:0,pseudoElement:0}),yL=jl(gL),mL=xo({},Kd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xL=jl(mL),bL=xo({},Kd,{data:0}),_w=jl(bL),wL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ML(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=AL[s])?!!o[s]:!1}function X2(){return ML}var SL=xo({},N0,{key:function(s){if(s.key){var o=wL[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=cy(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?TL[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X2,charCode:function(s){return s.type==="keypress"?cy(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cy(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),EL=jl(SL),CL=xo({},dm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kw=jl(CL),LL=xo({},N0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X2}),PL=jl(LL),RL=xo({},Kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),DL=jl(RL),_L=xo({},dm,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),kL=jl(_L),IL=[9,13,27,32],K2=xc&&"CompositionEvent"in window,qp=null;xc&&"documentMode"in document&&(qp=document.documentMode);var FL=xc&&"TextEvent"in window&&!qp,h4=xc&&(!K2||qp&&8<qp&&11>=qp),Iw=String.fromCharCode(32),Fw=!1;function v4(s,o){switch(s){case"keyup":return IL.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d4(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yd=!1;function zL(s,o){switch(s){case"compositionend":return d4(o);case"keypress":return o.which!==32?null:(Fw=!0,Iw);case"textInput":return s=o.data,s===Iw&&Fw?null:s;default:return null}}function OL(s,o){if(yd)return s==="compositionend"||!K2&&v4(s,o)?(s=c4(),fy=Z2=fh=null,yd=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return h4&&o.locale!=="ko"?null:o.data;default:return null}}var BL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zw(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!BL[s.type]:o==="textarea"}function p4(s,o,_,V){ZA(V),o=Fy(o,"onChange"),0<o.length&&(_=new j2("onChange","change",null,_,V),s.push({event:_,listeners:o}))}var e0=null,m0=null;function NL(s){E4(s,0)}function pm(s){var o=bd(s);if(NA(o))return s}function UL(s,o){if(s==="change")return o}var g4=!1;if(xc){var D1;if(xc){var _1="oninput"in document;if(!_1){var Ow=document.createElement("div");Ow.setAttribute("oninput","return;"),_1=typeof Ow.oninput=="function"}D1=_1}else D1=!1;g4=D1&&(!document.documentMode||9<document.documentMode)}function Bw(){e0&&(e0.detachEvent("onpropertychange",y4),m0=e0=null)}function y4(s){if(s.propertyName==="value"&&pm(m0)){var o=[];p4(o,m0,s,H2(s)),JA(NL,o)}}function HL(s,o,_){s==="focusin"?(Bw(),e0=o,m0=_,e0.attachEvent("onpropertychange",y4)):s==="focusout"&&Bw()}function VL(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pm(m0)}function WL(s,o){if(s==="click")return pm(o)}function GL(s,o){if(s==="input"||s==="change")return pm(o)}function YL(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var $u=typeof Object.is=="function"?Object.is:YL;function x0(s,o){if($u(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var _=Object.keys(s),V=Object.keys(o);if(_.length!==V.length)return!1;for(V=0;V<_.length;V++){var K=_[V];if(!vx.call(o,K)||!$u(s[K],o[K]))return!1}return!0}function Nw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Uw(s,o){var _=Nw(s);s=0;for(var V;_;){if(_.nodeType===3){if(V=s+_.textContent.length,s<=o&&V>=o)return{node:_,offset:o-s};s=V}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Nw(_)}}function m4(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?m4(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function x4(){for(var s=window,o=Ly();o instanceof s.HTMLIFrameElement;){try{var _=typeof o.contentWindow.location.href=="string"}catch{_=!1}if(_)s=o.contentWindow;else break;o=Ly(s.document)}return o}function J2(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function ZL(s){var o=x4(),_=s.focusedElem,V=s.selectionRange;if(o!==_&&_&&_.ownerDocument&&m4(_.ownerDocument.documentElement,_)){if(V!==null&&J2(_)){if(o=V.start,s=V.end,s===void 0&&(s=o),"selectionStart"in _)_.selectionStart=o,_.selectionEnd=Math.min(s,_.value.length);else if(s=(o=_.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var K=_.textContent.length,le=Math.min(V.start,K);V=V.end===void 0?le:Math.min(V.end,K),!s.extend&&le>V&&(K=V,V=le,le=K),K=Uw(_,le);var k=Uw(_,V);K&&k&&(s.rangeCount!==1||s.anchorNode!==K.node||s.anchorOffset!==K.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(K.node,K.offset),s.removeAllRanges(),le>V?(s.addRange(o),s.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),s.addRange(o)))}}for(o=[],s=_;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<o.length;_++)s=o[_],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jL=xc&&"documentMode"in document&&11>=document.documentMode,md=null,_x=null,t0=null,kx=!1;function Hw(s,o,_){var V=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;kx||md==null||md!==Ly(V)||(V=md,"selectionStart"in V&&J2(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),t0&&x0(t0,V)||(t0=V,V=Fy(_x,"onSelect"),0<V.length&&(o=new j2("onSelect","select",null,o,_),s.push({event:o,listeners:V}),o.target=md)))}function Ig(s,o){var _={};return _[s.toLowerCase()]=o.toLowerCase(),_["Webkit"+s]="webkit"+o,_["Moz"+s]="moz"+o,_}var xd={animationend:Ig("Animation","AnimationEnd"),animationiteration:Ig("Animation","AnimationIteration"),animationstart:Ig("Animation","AnimationStart"),transitionend:Ig("Transition","TransitionEnd")},k1={},b4={};xc&&(b4=document.createElement("div").style,"AnimationEvent"in window||(delete xd.animationend.animation,delete xd.animationiteration.animation,delete xd.animationstart.animation),"TransitionEvent"in window||delete xd.transitionend.transition);function gm(s){if(k1[s])return k1[s];if(!xd[s])return s;var o=xd[s],_;for(_ in o)if(o.hasOwnProperty(_)&&_ in b4)return k1[s]=o[_];return s}var w4=gm("animationend"),T4=gm("animationiteration"),A4=gm("animationstart"),M4=gm("transitionend"),S4=new Map,Vw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kh(s,o){S4.set(s,o),Ov(o,[s])}for(var I1=0;I1<Vw.length;I1++){var F1=Vw[I1],XL=F1.toLowerCase(),KL=F1[0].toUpperCase()+F1.slice(1);kh(XL,"on"+KL)}kh(w4,"onAnimationEnd");kh(T4,"onAnimationIteration");kh(A4,"onAnimationStart");kh("dblclick","onDoubleClick");kh("focusin","onFocus");kh("focusout","onBlur");kh(M4,"onTransitionEnd");Id("onMouseEnter",["mouseout","mouseover"]);Id("onMouseLeave",["mouseout","mouseover"]);Id("onPointerEnter",["pointerout","pointerover"]);Id("onPointerLeave",["pointerout","pointerover"]);Ov("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ov("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ov("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ov("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ov("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ov("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wp));function Ww(s,o,_){var V=s.type||"unknown-event";s.currentTarget=_,XC(V,o,void 0,s),s.currentTarget=null}function E4(s,o){o=(o&4)!==0;for(var _=0;_<s.length;_++){var V=s[_],K=V.event;V=V.listeners;e:{var le=void 0;if(o)for(var k=V.length-1;0<=k;k--){var F=V[k],e=F.instance,h=F.currentTarget;if(F=F.listener,e!==le&&K.isPropagationStopped())break e;Ww(K,F,h),le=e}else for(k=0;k<V.length;k++){if(F=V[k],e=F.instance,h=F.currentTarget,F=F.listener,e!==le&&K.isPropagationStopped())break e;Ww(K,F,h),le=e}}}if(Ry)throw s=Lx,Ry=!1,Lx=null,s}function qa(s,o){var _=o[Bx];_===void 0&&(_=o[Bx]=new Set);var V=s+"__bubble";_.has(V)||(C4(o,s,2,!1),_.add(V))}function z1(s,o,_){var V=0;o&&(V|=4),C4(_,s,V,o)}var Fg="_reactListening"+Math.random().toString(36).slice(2);function b0(s){if(!s[Fg]){s[Fg]=!0,IA.forEach(function(_){_!=="selectionchange"&&(JL.has(_)||z1(_,!1,s),z1(_,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Fg]||(o[Fg]=!0,z1("selectionchange",!1,o))}}function C4(s,o,_,V){switch(f4(o)){case 1:var K=fL;break;case 4:K=cL;break;default:K=Y2}_=K.bind(null,o,_,s),K=void 0,!Cx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(K=!0),V?K!==void 0?s.addEventListener(o,_,{capture:!0,passive:K}):s.addEventListener(o,_,!0):K!==void 0?s.addEventListener(o,_,{passive:K}):s.addEventListener(o,_,!1)}function O1(s,o,_,V,K){var le=V;if(!(o&1)&&!(o&2)&&V!==null)e:for(;;){if(V===null)return;var k=V.tag;if(k===3||k===4){var F=V.stateNode.containerInfo;if(F===K||F.nodeType===8&&F.parentNode===K)break;if(k===4)for(k=V.return;k!==null;){var e=k.tag;if((e===3||e===4)&&(e=k.stateNode.containerInfo,e===K||e.nodeType===8&&e.parentNode===K))return;k=k.return}for(;F!==null;){if(k=bv(F),k===null)return;if(e=k.tag,e===5||e===6){V=le=k;continue e}F=F.parentNode}}V=V.return}JA(function(){var h=le,E=H2(_),n=[];e:{var L=S4.get(s);if(L!==void 0){var w=j2,p=s;switch(s){case"keypress":if(cy(_)===0)break e;case"keydown":case"keyup":w=EL;break;case"focusin":p="focus",w=R1;break;case"focusout":p="blur",w=R1;break;case"beforeblur":case"afterblur":w=R1;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=dL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=PL;break;case w4:case T4:case A4:w=yL;break;case M4:w=DL;break;case"scroll":w=hL;break;case"wheel":w=kL;break;case"copy":case"cut":case"paste":w=xL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=kw}var m=(o&4)!==0,t=!m&&s==="scroll",r=m?L!==null?L+"Capture":null:L;m=[];for(var l=h,i;l!==null;){i=l;var f=i.stateNode;if(i.tag===5&&f!==null&&(i=f,r!==null&&(f=d0(l,r),f!=null&&m.push(w0(l,f,i)))),t)break;l=l.return}0<m.length&&(L=new w(L,p,null,_,E),n.push({event:L,listeners:m}))}}if(!(o&7)){e:{if(L=s==="mouseover"||s==="pointerover",w=s==="mouseout"||s==="pointerout",L&&_!==Sx&&(p=_.relatedTarget||_.fromElement)&&(bv(p)||p[bc]))break e;if((w||L)&&(L=E.window===E?E:(L=E.ownerDocument)?L.defaultView||L.parentWindow:window,w?(p=_.relatedTarget||_.toElement,w=h,p=p?bv(p):null,p!==null&&(t=Bv(p),p!==t||p.tag!==5&&p.tag!==6)&&(p=null)):(w=null,p=h),w!==p)){if(m=Dw,f="onMouseLeave",r="onMouseEnter",l="mouse",(s==="pointerout"||s==="pointerover")&&(m=kw,f="onPointerLeave",r="onPointerEnter",l="pointer"),t=w==null?L:bd(w),i=p==null?L:bd(p),L=new m(f,l+"leave",w,_,E),L.target=t,L.relatedTarget=i,f=null,bv(E)===h&&(m=new m(r,l+"enter",p,_,E),m.target=i,m.relatedTarget=t,f=m),t=f,w&&p)t:{for(m=w,r=p,l=0,i=m;i;i=hd(i))l++;for(i=0,f=r;f;f=hd(f))i++;for(;0<l-i;)m=hd(m),l--;for(;0<i-l;)r=hd(r),i--;for(;l--;){if(m===r||r!==null&&m===r.alternate)break t;m=hd(m),r=hd(r)}m=null}else m=null;w!==null&&Gw(n,L,w,m,!1),p!==null&&t!==null&&Gw(n,t,p,m,!0)}}e:{if(L=h?bd(h):window,w=L.nodeName&&L.nodeName.toLowerCase(),w==="select"||w==="input"&&L.type==="file")var v=UL;else if(zw(L))if(g4)v=GL;else{v=VL;var c=HL}else(w=L.nodeName)&&w.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(v=WL);if(v&&(v=v(s,h))){p4(n,v,_,E);break e}c&&c(s,L,h),s==="focusout"&&(c=L._wrapperState)&&c.controlled&&L.type==="number"&&bx(L,"number",L.value)}switch(c=h?bd(h):window,s){case"focusin":(zw(c)||c.contentEditable==="true")&&(md=c,_x=h,t0=null);break;case"focusout":t0=_x=md=null;break;case"mousedown":kx=!0;break;case"contextmenu":case"mouseup":case"dragend":kx=!1,Hw(n,_,E);break;case"selectionchange":if(jL)break;case"keydown":case"keyup":Hw(n,_,E)}var x;if(K2)e:{switch(s){case"compositionstart":var d="onCompositionStart";break e;case"compositionend":d="onCompositionEnd";break e;case"compositionupdate":d="onCompositionUpdate";break e}d=void 0}else yd?v4(s,_)&&(d="onCompositionEnd"):s==="keydown"&&_.keyCode===229&&(d="onCompositionStart");d&&(h4&&_.locale!=="ko"&&(yd||d!=="onCompositionStart"?d==="onCompositionEnd"&&yd&&(x=c4()):(fh=E,Z2="value"in fh?fh.value:fh.textContent,yd=!0)),c=Fy(h,d),0<c.length&&(d=new _w(d,s,null,_,E),n.push({event:d,listeners:c}),x?d.data=x:(x=d4(_),x!==null&&(d.data=x)))),(x=FL?zL(s,_):OL(s,_))&&(h=Fy(h,"onBeforeInput"),0<h.length&&(E=new _w("onBeforeInput","beforeinput",null,_,E),n.push({event:E,listeners:h}),E.data=x))}E4(n,o)})}function w0(s,o,_){return{instance:s,listener:o,currentTarget:_}}function Fy(s,o){for(var _=o+"Capture",V=[];s!==null;){var K=s,le=K.stateNode;K.tag===5&&le!==null&&(K=le,le=d0(s,_),le!=null&&V.unshift(w0(s,le,K)),le=d0(s,o),le!=null&&V.push(w0(s,le,K))),s=s.return}return V}function hd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Gw(s,o,_,V,K){for(var le=o._reactName,k=[];_!==null&&_!==V;){var F=_,e=F.alternate,h=F.stateNode;if(e!==null&&e===V)break;F.tag===5&&h!==null&&(F=h,K?(e=d0(_,le),e!=null&&k.unshift(w0(_,e,F))):K||(e=d0(_,le),e!=null&&k.push(w0(_,e,F)))),_=_.return}k.length!==0&&s.push({event:o,listeners:k})}var QL=/\r\n?/g,$L=/\u0000|\uFFFD/g;function Yw(s){return(typeof s=="string"?s:""+s).replace(QL,`
`).replace($L,"")}function zg(s,o,_){if(o=Yw(o),Yw(s)!==o&&_)throw Error(vi(425))}function zy(){}var Ix=null,Fx=null;function zx(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ox=typeof setTimeout=="function"?setTimeout:void 0,qL=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,e7=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw<"u"?function(s){return Zw.resolve(null).then(s).catch(t7)}:Ox;function t7(s){setTimeout(function(){throw s})}function B1(s,o){var _=o,V=0;do{var K=_.nextSibling;if(s.removeChild(_),K&&K.nodeType===8)if(_=K.data,_==="/$"){if(V===0){s.removeChild(K),y0(o);return}V--}else _!=="$"&&_!=="$?"&&_!=="$!"||V++;_=K}while(_);y0(o)}function xh(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function jw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var _=s.data;if(_==="$"||_==="$!"||_==="$?"){if(o===0)return s;o--}else _==="/$"&&o++}s=s.previousSibling}return null}var Jd=Math.random().toString(36).slice(2),Cf="__reactFiber$"+Jd,T0="__reactProps$"+Jd,bc="__reactContainer$"+Jd,Bx="__reactEvents$"+Jd,r7="__reactListeners$"+Jd,n7="__reactHandles$"+Jd;function bv(s){var o=s[Cf];if(o)return o;for(var _=s.parentNode;_;){if(o=_[bc]||_[Cf]){if(_=o.alternate,o.child!==null||_!==null&&_.child!==null)for(s=jw(s);s!==null;){if(_=s[Cf])return _;s=jw(s)}return o}s=_,_=s.parentNode}return null}function U0(s){return s=s[Cf]||s[bc],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function bd(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(vi(33))}function ym(s){return s[T0]||null}var Nx=[],wd=-1;function Ih(s){return{current:s}}function eo(s){0>wd||(s.current=Nx[wd],Nx[wd]=null,wd--)}function Ka(s,o){wd++,Nx[wd]=s.current,s.current=o}var Ph={},Bs=Ih(Ph),bl=Ih(!1),Pv=Ph;function Fd(s,o){var _=s.type.contextTypes;if(!_)return Ph;var V=s.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===o)return V.__reactInternalMemoizedMaskedChildContext;var K={},le;for(le in _)K[le]=o[le];return V&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=K),K}function wl(s){return s=s.childContextTypes,s!=null}function Oy(){eo(bl),eo(Bs)}function Xw(s,o,_){if(Bs.current!==Ph)throw Error(vi(168));Ka(Bs,o),Ka(bl,_)}function L4(s,o,_){var V=s.stateNode;if(o=o.childContextTypes,typeof V.getChildContext!="function")return _;V=V.getChildContext();for(var K in V)if(!(K in o))throw Error(vi(108,HC(s)||"Unknown",K));return xo({},_,V)}function By(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ph,Pv=Bs.current,Ka(Bs,s),Ka(bl,bl.current),!0}function Kw(s,o,_){var V=s.stateNode;if(!V)throw Error(vi(169));_?(s=L4(s,o,Pv),V.__reactInternalMemoizedMergedChildContext=s,eo(bl),eo(Bs),Ka(Bs,s)):eo(bl),Ka(bl,_)}var hc=null,mm=!1,N1=!1;function P4(s){hc===null?hc=[s]:hc.push(s)}function i7(s){mm=!0,P4(s)}function Fh(){if(!N1&&hc!==null){N1=!0;var s=0,o=Ua;try{var _=hc;for(Ua=1;s<_.length;s++){var V=_[s];do V=V(!0);while(V!==null)}hc=null,mm=!1}catch(K){throw hc!==null&&(hc=hc.slice(s+1)),e4(V2,Fh),K}finally{Ua=o,N1=!1}}return null}var Td=[],Ad=0,Ny=null,Uy=0,du=[],pu=0,Rv=null,dc=1,pc="";function gv(s,o){Td[Ad++]=Uy,Td[Ad++]=Ny,Ny=s,Uy=o}function R4(s,o,_){du[pu++]=dc,du[pu++]=pc,du[pu++]=Rv,Rv=s;var V=dc;s=pc;var K=32-Ju(V)-1;V&=~(1<<K),_+=1;var le=32-Ju(o)+K;if(30<le){var k=K-K%5;le=(V&(1<<k)-1).toString(32),V>>=k,K-=k,dc=1<<32-Ju(o)+K|_<<K|V,pc=le+s}else dc=1<<le|_<<K|V,pc=s}function Q2(s){s.return!==null&&(gv(s,1),R4(s,1,0))}function $2(s){for(;s===Ny;)Ny=Td[--Ad],Td[Ad]=null,Uy=Td[--Ad],Td[Ad]=null;for(;s===Rv;)Rv=du[--pu],du[pu]=null,pc=du[--pu],du[pu]=null,dc=du[--pu],du[pu]=null}var Vl=null,Hl=null,ao=!1,Xu=null;function D4(s,o){var _=gu(5,null,null,0);_.elementType="DELETED",_.stateNode=o,_.return=s,o=s.deletions,o===null?(s.deletions=[_],s.flags|=16):o.push(_)}function Jw(s,o){switch(s.tag){case 5:var _=s.type;return o=o.nodeType!==1||_.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Vl=s,Hl=xh(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Vl=s,Hl=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(_=Rv!==null?{id:dc,overflow:pc}:null,s.memoizedState={dehydrated:o,treeContext:_,retryLane:1073741824},_=gu(18,null,null,0),_.stateNode=o,_.return=s,s.child=_,Vl=s,Hl=null,!0):!1;default:return!1}}function Ux(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Hx(s){if(ao){var o=Hl;if(o){var _=o;if(!Jw(s,o)){if(Ux(s))throw Error(vi(418));o=xh(_.nextSibling);var V=Vl;o&&Jw(s,o)?D4(V,_):(s.flags=s.flags&-4097|2,ao=!1,Vl=s)}}else{if(Ux(s))throw Error(vi(418));s.flags=s.flags&-4097|2,ao=!1,Vl=s}}}function Qw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Vl=s}function Og(s){if(s!==Vl)return!1;if(!ao)return Qw(s),ao=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!zx(s.type,s.memoizedProps)),o&&(o=Hl)){if(Ux(s))throw _4(),Error(vi(418));for(;o;)D4(s,o),o=xh(o.nextSibling)}if(Qw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(vi(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var _=s.data;if(_==="/$"){if(o===0){Hl=xh(s.nextSibling);break e}o--}else _!=="$"&&_!=="$!"&&_!=="$?"||o++}s=s.nextSibling}Hl=null}}else Hl=Vl?xh(s.stateNode.nextSibling):null;return!0}function _4(){for(var s=Hl;s;)s=xh(s.nextSibling)}function zd(){Hl=Vl=null,ao=!1}function q2(s){Xu===null?Xu=[s]:Xu.push(s)}var a7=Ac.ReactCurrentBatchConfig;function Yu(s,o){if(s&&s.defaultProps){o=xo({},o),s=s.defaultProps;for(var _ in s)o[_]===void 0&&(o[_]=s[_]);return o}return o}var Hy=Ih(null),Vy=null,Md=null,eb=null;function tb(){eb=Md=Vy=null}function rb(s){var o=Hy.current;eo(Hy),s._currentValue=o}function Vx(s,o,_){for(;s!==null;){var V=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,V!==null&&(V.childLanes|=o)):V!==null&&(V.childLanes&o)!==o&&(V.childLanes|=o),s===_)break;s=s.return}}function Dd(s,o){Vy=s,eb=Md=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(xl=!0),s.firstContext=null)}function mu(s){var o=s._currentValue;if(eb!==s)if(s={context:s,memoizedValue:o,next:null},Md===null){if(Vy===null)throw Error(vi(308));Md=s,Vy.dependencies={lanes:0,firstContext:s}}else Md=Md.next=s;return o}var wv=null;function nb(s){wv===null?wv=[s]:wv.push(s)}function k4(s,o,_,V){var K=o.interleaved;return K===null?(_.next=_,nb(o)):(_.next=K.next,K.next=_),o.interleaved=_,wc(s,V)}function wc(s,o){s.lanes|=o;var _=s.alternate;for(_!==null&&(_.lanes|=o),_=s,s=s.return;s!==null;)s.childLanes|=o,_=s.alternate,_!==null&&(_.childLanes|=o),_=s,s=s.return;return _.tag===3?_.stateNode:null}var sh=!1;function ib(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I4(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function yc(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function bh(s,o,_){var V=s.updateQueue;if(V===null)return null;if(V=V.shared,Ca&2){var K=V.pending;return K===null?o.next=o:(o.next=K.next,K.next=o),V.pending=o,wc(s,_)}return K=V.interleaved,K===null?(o.next=o,nb(V)):(o.next=K.next,K.next=o),V.interleaved=o,wc(s,_)}function hy(s,o,_){if(o=o.updateQueue,o!==null&&(o=o.shared,(_&4194240)!==0)){var V=o.lanes;V&=s.pendingLanes,_|=V,o.lanes=_,W2(s,_)}}function $w(s,o){var _=s.updateQueue,V=s.alternate;if(V!==null&&(V=V.updateQueue,_===V)){var K=null,le=null;if(_=_.firstBaseUpdate,_!==null){do{var k={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};le===null?K=le=k:le=le.next=k,_=_.next}while(_!==null);le===null?K=le=o:le=le.next=o}else K=le=o;_={baseState:V.baseState,firstBaseUpdate:K,lastBaseUpdate:le,shared:V.shared,effects:V.effects},s.updateQueue=_;return}s=_.lastBaseUpdate,s===null?_.firstBaseUpdate=o:s.next=o,_.lastBaseUpdate=o}function Wy(s,o,_,V){var K=s.updateQueue;sh=!1;var le=K.firstBaseUpdate,k=K.lastBaseUpdate,F=K.shared.pending;if(F!==null){K.shared.pending=null;var e=F,h=e.next;e.next=null,k===null?le=h:k.next=h,k=e;var E=s.alternate;E!==null&&(E=E.updateQueue,F=E.lastBaseUpdate,F!==k&&(F===null?E.firstBaseUpdate=h:F.next=h,E.lastBaseUpdate=e))}if(le!==null){var n=K.baseState;k=0,E=h=e=null,F=le;do{var L=F.lane,w=F.eventTime;if((V&L)===L){E!==null&&(E=E.next={eventTime:w,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var p=s,m=F;switch(L=o,w=_,m.tag){case 1:if(p=m.payload,typeof p=="function"){n=p.call(w,n,L);break e}n=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,L=typeof p=="function"?p.call(w,n,L):p,L==null)break e;n=xo({},n,L);break e;case 2:sh=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,L=K.effects,L===null?K.effects=[F]:L.push(F))}else w={eventTime:w,lane:L,tag:F.tag,payload:F.payload,callback:F.callback,next:null},E===null?(h=E=w,e=n):E=E.next=w,k|=L;if(F=F.next,F===null){if(F=K.shared.pending,F===null)break;L=F,F=L.next,L.next=null,K.lastBaseUpdate=L,K.shared.pending=null}}while(1);if(E===null&&(e=n),K.baseState=e,K.firstBaseUpdate=h,K.lastBaseUpdate=E,o=K.shared.interleaved,o!==null){K=o;do k|=K.lane,K=K.next;while(K!==o)}else le===null&&(K.shared.lanes=0);_v|=k,s.lanes=k,s.memoizedState=n}}function qw(s,o,_){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var V=s[o],K=V.callback;if(K!==null){if(V.callback=null,V=_,typeof K!="function")throw Error(vi(191,K));K.call(V)}}}var F4=new kA.Component().refs;function Wx(s,o,_,V){o=s.memoizedState,_=_(V,o),_=_==null?o:xo({},o,_),s.memoizedState=_,s.lanes===0&&(s.updateQueue.baseState=_)}var xm={isMounted:function(s){return(s=s._reactInternals)?Bv(s)===s:!1},enqueueSetState:function(s,o,_){s=s._reactInternals;var V=qs(),K=Th(s),le=yc(V,K);le.payload=o,_!=null&&(le.callback=_),o=bh(s,le,K),o!==null&&(Qu(o,s,K,V),hy(o,s,K))},enqueueReplaceState:function(s,o,_){s=s._reactInternals;var V=qs(),K=Th(s),le=yc(V,K);le.tag=1,le.payload=o,_!=null&&(le.callback=_),o=bh(s,le,K),o!==null&&(Qu(o,s,K,V),hy(o,s,K))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var _=qs(),V=Th(s),K=yc(_,V);K.tag=2,o!=null&&(K.callback=o),o=bh(s,K,V),o!==null&&(Qu(o,s,V,_),hy(o,s,V))}};function eT(s,o,_,V,K,le,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(V,le,k):o.prototype&&o.prototype.isPureReactComponent?!x0(_,V)||!x0(K,le):!0}function z4(s,o,_){var V=!1,K=Ph,le=o.contextType;return typeof le=="object"&&le!==null?le=mu(le):(K=wl(o)?Pv:Bs.current,V=o.contextTypes,le=(V=V!=null)?Fd(s,K):Ph),o=new o(_,le),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=xm,s.stateNode=o,o._reactInternals=s,V&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=K,s.__reactInternalMemoizedMaskedChildContext=le),o}function tT(s,o,_,V){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(_,V),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(_,V),o.state!==s&&xm.enqueueReplaceState(o,o.state,null)}function Gx(s,o,_,V){var K=s.stateNode;K.props=_,K.state=s.memoizedState,K.refs=F4,ib(s);var le=o.contextType;typeof le=="object"&&le!==null?K.context=mu(le):(le=wl(o)?Pv:Bs.current,K.context=Fd(s,le)),K.state=s.memoizedState,le=o.getDerivedStateFromProps,typeof le=="function"&&(Wx(s,o,le,_),K.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(o=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),o!==K.state&&xm.enqueueReplaceState(K,K.state,null),Wy(s,_,K,V),K.state=s.memoizedState),typeof K.componentDidMount=="function"&&(s.flags|=4194308)}function Dp(s,o,_){if(s=_.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(vi(309));var V=_.stateNode}if(!V)throw Error(vi(147,s));var K=V,le=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===le?o.ref:(o=function(k){var F=K.refs;F===F4&&(F=K.refs={}),k===null?delete F[le]:F[le]=k},o._stringRef=le,o)}if(typeof s!="string")throw Error(vi(284));if(!_._owner)throw Error(vi(290,s))}return s}function Bg(s,o){throw s=Object.prototype.toString.call(o),Error(vi(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function rT(s){var o=s._init;return o(s._payload)}function O4(s){function o(r,l){if(s){var i=r.deletions;i===null?(r.deletions=[l],r.flags|=16):i.push(l)}}function _(r,l){if(!s)return null;for(;l!==null;)o(r,l),l=l.sibling;return null}function V(r,l){for(r=new Map;l!==null;)l.key!==null?r.set(l.key,l):r.set(l.index,l),l=l.sibling;return r}function K(r,l){return r=Ah(r,l),r.index=0,r.sibling=null,r}function le(r,l,i){return r.index=i,s?(i=r.alternate,i!==null?(i=i.index,i<l?(r.flags|=2,l):i):(r.flags|=2,l)):(r.flags|=1048576,l)}function k(r){return s&&r.alternate===null&&(r.flags|=2),r}function F(r,l,i,f){return l===null||l.tag!==6?(l=Z1(i,r.mode,f),l.return=r,l):(l=K(l,i),l.return=r,l)}function e(r,l,i,f){var v=i.type;return v===gd?E(r,l,i.props.children,f,i.key):l!==null&&(l.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===oh&&rT(v)===l.type)?(f=K(l,i.props),f.ref=Dp(r,l,i),f.return=r,f):(f=my(i.type,i.key,i.props,null,r.mode,f),f.ref=Dp(r,l,i),f.return=r,f)}function h(r,l,i,f){return l===null||l.tag!==4||l.stateNode.containerInfo!==i.containerInfo||l.stateNode.implementation!==i.implementation?(l=j1(i,r.mode,f),l.return=r,l):(l=K(l,i.children||[]),l.return=r,l)}function E(r,l,i,f,v){return l===null||l.tag!==7?(l=Ev(i,r.mode,f,v),l.return=r,l):(l=K(l,i),l.return=r,l)}function n(r,l,i){if(typeof l=="string"&&l!==""||typeof l=="number")return l=Z1(""+l,r.mode,i),l.return=r,l;if(typeof l=="object"&&l!==null){switch(l.$$typeof){case Cg:return i=my(l.type,l.key,l.props,null,r.mode,i),i.ref=Dp(r,null,l),i.return=r,i;case pd:return l=j1(l,r.mode,i),l.return=r,l;case oh:var f=l._init;return n(r,f(l._payload),i)}if(Hp(l)||Ep(l))return l=Ev(l,r.mode,i,null),l.return=r,l;Bg(r,l)}return null}function L(r,l,i,f){var v=l!==null?l.key:null;if(typeof i=="string"&&i!==""||typeof i=="number")return v!==null?null:F(r,l,""+i,f);if(typeof i=="object"&&i!==null){switch(i.$$typeof){case Cg:return i.key===v?e(r,l,i,f):null;case pd:return i.key===v?h(r,l,i,f):null;case oh:return v=i._init,L(r,l,v(i._payload),f)}if(Hp(i)||Ep(i))return v!==null?null:E(r,l,i,f,null);Bg(r,i)}return null}function w(r,l,i,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return r=r.get(i)||null,F(l,r,""+f,v);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Cg:return r=r.get(f.key===null?i:f.key)||null,e(l,r,f,v);case pd:return r=r.get(f.key===null?i:f.key)||null,h(l,r,f,v);case oh:var c=f._init;return w(r,l,i,c(f._payload),v)}if(Hp(f)||Ep(f))return r=r.get(i)||null,E(l,r,f,v,null);Bg(l,f)}return null}function p(r,l,i,f){for(var v=null,c=null,x=l,d=l=0,M=null;x!==null&&d<i.length;d++){x.index>d?(M=x,x=null):M=x.sibling;var g=L(r,x,i[d],f);if(g===null){x===null&&(x=M);break}s&&x&&g.alternate===null&&o(r,x),l=le(g,l,d),c===null?v=g:c.sibling=g,c=g,x=M}if(d===i.length)return _(r,x),ao&&gv(r,d),v;if(x===null){for(;d<i.length;d++)x=n(r,i[d],f),x!==null&&(l=le(x,l,d),c===null?v=x:c.sibling=x,c=x);return ao&&gv(r,d),v}for(x=V(r,x);d<i.length;d++)M=w(x,r,d,i[d],f),M!==null&&(s&&M.alternate!==null&&x.delete(M.key===null?d:M.key),l=le(M,l,d),c===null?v=M:c.sibling=M,c=M);return s&&x.forEach(function(u){return o(r,u)}),ao&&gv(r,d),v}function m(r,l,i,f){var v=Ep(i);if(typeof v!="function")throw Error(vi(150));if(i=v.call(i),i==null)throw Error(vi(151));for(var c=v=null,x=l,d=l=0,M=null,g=i.next();x!==null&&!g.done;d++,g=i.next()){x.index>d?(M=x,x=null):M=x.sibling;var u=L(r,x,g.value,f);if(u===null){x===null&&(x=M);break}s&&x&&u.alternate===null&&o(r,x),l=le(u,l,d),c===null?v=u:c.sibling=u,c=u,x=M}if(g.done)return _(r,x),ao&&gv(r,d),v;if(x===null){for(;!g.done;d++,g=i.next())g=n(r,g.value,f),g!==null&&(l=le(g,l,d),c===null?v=g:c.sibling=g,c=g);return ao&&gv(r,d),v}for(x=V(r,x);!g.done;d++,g=i.next())g=w(x,r,d,g.value,f),g!==null&&(s&&g.alternate!==null&&x.delete(g.key===null?d:g.key),l=le(g,l,d),c===null?v=g:c.sibling=g,c=g);return s&&x.forEach(function(y){return o(r,y)}),ao&&gv(r,d),v}function t(r,l,i,f){if(typeof i=="object"&&i!==null&&i.type===gd&&i.key===null&&(i=i.props.children),typeof i=="object"&&i!==null){switch(i.$$typeof){case Cg:e:{for(var v=i.key,c=l;c!==null;){if(c.key===v){if(v=i.type,v===gd){if(c.tag===7){_(r,c.sibling),l=K(c,i.props.children),l.return=r,r=l;break e}}else if(c.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===oh&&rT(v)===c.type){_(r,c.sibling),l=K(c,i.props),l.ref=Dp(r,c,i),l.return=r,r=l;break e}_(r,c);break}else o(r,c);c=c.sibling}i.type===gd?(l=Ev(i.props.children,r.mode,f,i.key),l.return=r,r=l):(f=my(i.type,i.key,i.props,null,r.mode,f),f.ref=Dp(r,l,i),f.return=r,r=f)}return k(r);case pd:e:{for(c=i.key;l!==null;){if(l.key===c)if(l.tag===4&&l.stateNode.containerInfo===i.containerInfo&&l.stateNode.implementation===i.implementation){_(r,l.sibling),l=K(l,i.children||[]),l.return=r,r=l;break e}else{_(r,l);break}else o(r,l);l=l.sibling}l=j1(i,r.mode,f),l.return=r,r=l}return k(r);case oh:return c=i._init,t(r,l,c(i._payload),f)}if(Hp(i))return p(r,l,i,f);if(Ep(i))return m(r,l,i,f);Bg(r,i)}return typeof i=="string"&&i!==""||typeof i=="number"?(i=""+i,l!==null&&l.tag===6?(_(r,l.sibling),l=K(l,i),l.return=r,r=l):(_(r,l),l=Z1(i,r.mode,f),l.return=r,r=l),k(r)):_(r,l)}return t}var Od=O4(!0),B4=O4(!1),H0={},Df=Ih(H0),A0=Ih(H0),M0=Ih(H0);function Tv(s){if(s===H0)throw Error(vi(174));return s}function ab(s,o){switch(Ka(M0,o),Ka(A0,s),Ka(Df,H0),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Tx(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Tx(o,s)}eo(Df),Ka(Df,o)}function Bd(){eo(Df),eo(A0),eo(M0)}function N4(s){Tv(M0.current);var o=Tv(Df.current),_=Tx(o,s.type);o!==_&&(Ka(A0,s),Ka(Df,_))}function ob(s){A0.current===s&&(eo(Df),eo(A0))}var go=Ih(0);function Gy(s){for(var o=s;o!==null;){if(o.tag===13){var _=o.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var U1=[];function sb(){for(var s=0;s<U1.length;s++)U1[s]._workInProgressVersionPrimary=null;U1.length=0}var vy=Ac.ReactCurrentDispatcher,H1=Ac.ReactCurrentBatchConfig,Dv=0,mo=null,jo=null,os=null,Yy=!1,r0=!1,S0=0,o7=0;function Fs(){throw Error(vi(321))}function lb(s,o){if(o===null)return!1;for(var _=0;_<o.length&&_<s.length;_++)if(!$u(s[_],o[_]))return!1;return!0}function ub(s,o,_,V,K,le){if(Dv=le,mo=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,vy.current=s===null||s.memoizedState===null?f7:c7,s=_(V,K),r0){le=0;do{if(r0=!1,S0=0,25<=le)throw Error(vi(301));le+=1,os=jo=null,o.updateQueue=null,vy.current=h7,s=_(V,K)}while(r0)}if(vy.current=Zy,o=jo!==null&&jo.next!==null,Dv=0,os=jo=mo=null,Yy=!1,o)throw Error(vi(300));return s}function fb(){var s=S0!==0;return S0=0,s}function Sf(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return os===null?mo.memoizedState=os=s:os=os.next=s,os}function xu(){if(jo===null){var s=mo.alternate;s=s!==null?s.memoizedState:null}else s=jo.next;var o=os===null?mo.memoizedState:os.next;if(o!==null)os=o,jo=s;else{if(s===null)throw Error(vi(310));jo=s,s={memoizedState:jo.memoizedState,baseState:jo.baseState,baseQueue:jo.baseQueue,queue:jo.queue,next:null},os===null?mo.memoizedState=os=s:os=os.next=s}return os}function E0(s,o){return typeof o=="function"?o(s):o}function V1(s){var o=xu(),_=o.queue;if(_===null)throw Error(vi(311));_.lastRenderedReducer=s;var V=jo,K=V.baseQueue,le=_.pending;if(le!==null){if(K!==null){var k=K.next;K.next=le.next,le.next=k}V.baseQueue=K=le,_.pending=null}if(K!==null){le=K.next,V=V.baseState;var F=k=null,e=null,h=le;do{var E=h.lane;if((Dv&E)===E)e!==null&&(e=e.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),V=h.hasEagerState?h.eagerState:s(V,h.action);else{var n={lane:E,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};e===null?(F=e=n,k=V):e=e.next=n,mo.lanes|=E,_v|=E}h=h.next}while(h!==null&&h!==le);e===null?k=V:e.next=F,$u(V,o.memoizedState)||(xl=!0),o.memoizedState=V,o.baseState=k,o.baseQueue=e,_.lastRenderedState=V}if(s=_.interleaved,s!==null){K=s;do le=K.lane,mo.lanes|=le,_v|=le,K=K.next;while(K!==s)}else K===null&&(_.lanes=0);return[o.memoizedState,_.dispatch]}function W1(s){var o=xu(),_=o.queue;if(_===null)throw Error(vi(311));_.lastRenderedReducer=s;var V=_.dispatch,K=_.pending,le=o.memoizedState;if(K!==null){_.pending=null;var k=K=K.next;do le=s(le,k.action),k=k.next;while(k!==K);$u(le,o.memoizedState)||(xl=!0),o.memoizedState=le,o.baseQueue===null&&(o.baseState=le),_.lastRenderedState=le}return[le,V]}function U4(){}function H4(s,o){var _=mo,V=xu(),K=o(),le=!$u(V.memoizedState,K);if(le&&(V.memoizedState=K,xl=!0),V=V.queue,cb(G4.bind(null,_,V,s),[s]),V.getSnapshot!==o||le||os!==null&&os.memoizedState.tag&1){if(_.flags|=2048,C0(9,W4.bind(null,_,V,K,o),void 0,null),ss===null)throw Error(vi(349));Dv&30||V4(_,o,K)}return K}function V4(s,o,_){s.flags|=16384,s={getSnapshot:o,value:_},o=mo.updateQueue,o===null?(o={lastEffect:null,stores:null},mo.updateQueue=o,o.stores=[s]):(_=o.stores,_===null?o.stores=[s]:_.push(s))}function W4(s,o,_,V){o.value=_,o.getSnapshot=V,Y4(o)&&Z4(s)}function G4(s,o,_){return _(function(){Y4(o)&&Z4(s)})}function Y4(s){var o=s.getSnapshot;s=s.value;try{var _=o();return!$u(s,_)}catch{return!0}}function Z4(s){var o=wc(s,1);o!==null&&Qu(o,s,1,-1)}function nT(s){var o=Sf();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:s},o.queue=s,s=s.dispatch=u7.bind(null,mo,s),[o.memoizedState,s]}function C0(s,o,_,V){return s={tag:s,create:o,destroy:_,deps:V,next:null},o=mo.updateQueue,o===null?(o={lastEffect:null,stores:null},mo.updateQueue=o,o.lastEffect=s.next=s):(_=o.lastEffect,_===null?o.lastEffect=s.next=s:(V=_.next,_.next=s,s.next=V,o.lastEffect=s)),s}function j4(){return xu().memoizedState}function dy(s,o,_,V){var K=Sf();mo.flags|=s,K.memoizedState=C0(1|o,_,void 0,V===void 0?null:V)}function bm(s,o,_,V){var K=xu();V=V===void 0?null:V;var le=void 0;if(jo!==null){var k=jo.memoizedState;if(le=k.destroy,V!==null&&lb(V,k.deps)){K.memoizedState=C0(o,_,le,V);return}}mo.flags|=s,K.memoizedState=C0(1|o,_,le,V)}function iT(s,o){return dy(8390656,8,s,o)}function cb(s,o){return bm(2048,8,s,o)}function X4(s,o){return bm(4,2,s,o)}function K4(s,o){return bm(4,4,s,o)}function J4(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Q4(s,o,_){return _=_!=null?_.concat([s]):null,bm(4,4,J4.bind(null,o,s),_)}function hb(){}function $4(s,o){var _=xu();o=o===void 0?null:o;var V=_.memoizedState;return V!==null&&o!==null&&lb(o,V[1])?V[0]:(_.memoizedState=[s,o],s)}function q4(s,o){var _=xu();o=o===void 0?null:o;var V=_.memoizedState;return V!==null&&o!==null&&lb(o,V[1])?V[0]:(s=s(),_.memoizedState=[s,o],s)}function eM(s,o,_){return Dv&21?($u(_,o)||(_=n4(),mo.lanes|=_,_v|=_,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,xl=!0),s.memoizedState=_)}function s7(s,o){var _=Ua;Ua=_!==0&&4>_?_:4,s(!0);var V=H1.transition;H1.transition={};try{s(!1),o()}finally{Ua=_,H1.transition=V}}function tM(){return xu().memoizedState}function l7(s,o,_){var V=Th(s);if(_={lane:V,action:_,hasEagerState:!1,eagerState:null,next:null},rM(s))nM(o,_);else if(_=k4(s,o,_,V),_!==null){var K=qs();Qu(_,s,V,K),iM(_,o,V)}}function u7(s,o,_){var V=Th(s),K={lane:V,action:_,hasEagerState:!1,eagerState:null,next:null};if(rM(s))nM(o,K);else{var le=s.alternate;if(s.lanes===0&&(le===null||le.lanes===0)&&(le=o.lastRenderedReducer,le!==null))try{var k=o.lastRenderedState,F=le(k,_);if(K.hasEagerState=!0,K.eagerState=F,$u(F,k)){var e=o.interleaved;e===null?(K.next=K,nb(o)):(K.next=e.next,e.next=K),o.interleaved=K;return}}catch{}finally{}_=k4(s,o,K,V),_!==null&&(K=qs(),Qu(_,s,V,K),iM(_,o,V))}}function rM(s){var o=s.alternate;return s===mo||o!==null&&o===mo}function nM(s,o){r0=Yy=!0;var _=s.pending;_===null?o.next=o:(o.next=_.next,_.next=o),s.pending=o}function iM(s,o,_){if(_&4194240){var V=o.lanes;V&=s.pendingLanes,_|=V,o.lanes=_,W2(s,_)}}var Zy={readContext:mu,useCallback:Fs,useContext:Fs,useEffect:Fs,useImperativeHandle:Fs,useInsertionEffect:Fs,useLayoutEffect:Fs,useMemo:Fs,useReducer:Fs,useRef:Fs,useState:Fs,useDebugValue:Fs,useDeferredValue:Fs,useTransition:Fs,useMutableSource:Fs,useSyncExternalStore:Fs,useId:Fs,unstable_isNewReconciler:!1},f7={readContext:mu,useCallback:function(s,o){return Sf().memoizedState=[s,o===void 0?null:o],s},useContext:mu,useEffect:iT,useImperativeHandle:function(s,o,_){return _=_!=null?_.concat([s]):null,dy(4194308,4,J4.bind(null,o,s),_)},useLayoutEffect:function(s,o){return dy(4194308,4,s,o)},useInsertionEffect:function(s,o){return dy(4,2,s,o)},useMemo:function(s,o){var _=Sf();return o=o===void 0?null:o,s=s(),_.memoizedState=[s,o],s},useReducer:function(s,o,_){var V=Sf();return o=_!==void 0?_(o):o,V.memoizedState=V.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},V.queue=s,s=s.dispatch=l7.bind(null,mo,s),[V.memoizedState,s]},useRef:function(s){var o=Sf();return s={current:s},o.memoizedState=s},useState:nT,useDebugValue:hb,useDeferredValue:function(s){return Sf().memoizedState=s},useTransition:function(){var s=nT(!1),o=s[0];return s=s7.bind(null,s[1]),Sf().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,_){var V=mo,K=Sf();if(ao){if(_===void 0)throw Error(vi(407));_=_()}else{if(_=o(),ss===null)throw Error(vi(349));Dv&30||V4(V,o,_)}K.memoizedState=_;var le={value:_,getSnapshot:o};return K.queue=le,iT(G4.bind(null,V,le,s),[s]),V.flags|=2048,C0(9,W4.bind(null,V,le,_,o),void 0,null),_},useId:function(){var s=Sf(),o=ss.identifierPrefix;if(ao){var _=pc,V=dc;_=(V&~(1<<32-Ju(V)-1)).toString(32)+_,o=":"+o+"R"+_,_=S0++,0<_&&(o+="H"+_.toString(32)),o+=":"}else _=o7++,o=":"+o+"r"+_.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},c7={readContext:mu,useCallback:$4,useContext:mu,useEffect:cb,useImperativeHandle:Q4,useInsertionEffect:X4,useLayoutEffect:K4,useMemo:q4,useReducer:V1,useRef:j4,useState:function(){return V1(E0)},useDebugValue:hb,useDeferredValue:function(s){var o=xu();return eM(o,jo.memoizedState,s)},useTransition:function(){var s=V1(E0)[0],o=xu().memoizedState;return[s,o]},useMutableSource:U4,useSyncExternalStore:H4,useId:tM,unstable_isNewReconciler:!1},h7={readContext:mu,useCallback:$4,useContext:mu,useEffect:cb,useImperativeHandle:Q4,useInsertionEffect:X4,useLayoutEffect:K4,useMemo:q4,useReducer:W1,useRef:j4,useState:function(){return W1(E0)},useDebugValue:hb,useDeferredValue:function(s){var o=xu();return jo===null?o.memoizedState=s:eM(o,jo.memoizedState,s)},useTransition:function(){var s=W1(E0)[0],o=xu().memoizedState;return[s,o]},useMutableSource:U4,useSyncExternalStore:H4,useId:tM,unstable_isNewReconciler:!1};function Nd(s,o){try{var _="",V=o;do _+=UC(V),V=V.return;while(V);var K=_}catch(le){K=`
Error generating stack: `+le.message+`
`+le.stack}return{value:s,source:o,stack:K,digest:null}}function G1(s,o,_){return{value:s,source:null,stack:_??null,digest:o??null}}function Yx(s,o){try{console.error(o.value)}catch(_){setTimeout(function(){throw _})}}var v7=typeof WeakMap=="function"?WeakMap:Map;function aM(s,o,_){_=yc(-1,_),_.tag=3,_.payload={element:null};var V=o.value;return _.callback=function(){Xy||(Xy=!0,t2=V),Yx(s,o)},_}function oM(s,o,_){_=yc(-1,_),_.tag=3;var V=s.type.getDerivedStateFromError;if(typeof V=="function"){var K=o.value;_.payload=function(){return V(K)},_.callback=function(){Yx(s,o)}}var le=s.stateNode;return le!==null&&typeof le.componentDidCatch=="function"&&(_.callback=function(){Yx(s,o),typeof V!="function"&&(wh===null?wh=new Set([this]):wh.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),_}function aT(s,o,_){var V=s.pingCache;if(V===null){V=s.pingCache=new v7;var K=new Set;V.set(o,K)}else K=V.get(o),K===void 0&&(K=new Set,V.set(o,K));K.has(_)||(K.add(_),s=C7.bind(null,s,o,_),o.then(s,s))}function oT(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function sT(s,o,_,V,K){return s.mode&1?(s.flags|=65536,s.lanes=K,s):(s===o?s.flags|=65536:(s.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(o=yc(-1,1),o.tag=2,bh(_,o,1))),_.lanes|=1),s)}var d7=Ac.ReactCurrentOwner,xl=!1;function $s(s,o,_,V){o.child=s===null?B4(o,null,_,V):Od(o,s.child,_,V)}function lT(s,o,_,V,K){_=_.render;var le=o.ref;return Dd(o,K),V=ub(s,o,_,V,le,K),_=fb(),s!==null&&!xl?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~K,Tc(s,o,K)):(ao&&_&&Q2(o),o.flags|=1,$s(s,o,V,K),o.child)}function uT(s,o,_,V,K){if(s===null){var le=_.type;return typeof le=="function"&&!bb(le)&&le.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(o.tag=15,o.type=le,sM(s,o,le,V,K)):(s=my(_.type,null,V,o,o.mode,K),s.ref=o.ref,s.return=o,o.child=s)}if(le=s.child,!(s.lanes&K)){var k=le.memoizedProps;if(_=_.compare,_=_!==null?_:x0,_(k,V)&&s.ref===o.ref)return Tc(s,o,K)}return o.flags|=1,s=Ah(le,V),s.ref=o.ref,s.return=o,o.child=s}function sM(s,o,_,V,K){if(s!==null){var le=s.memoizedProps;if(x0(le,V)&&s.ref===o.ref)if(xl=!1,o.pendingProps=V=le,(s.lanes&K)!==0)s.flags&131072&&(xl=!0);else return o.lanes=s.lanes,Tc(s,o,K)}return Zx(s,o,_,V,K)}function lM(s,o,_){var V=o.pendingProps,K=V.children,le=s!==null?s.memoizedState:null;if(V.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ka(Ed,Ul),Ul|=_;else{if(!(_&1073741824))return s=le!==null?le.baseLanes|_:_,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ka(Ed,Ul),Ul|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},V=le!==null?le.baseLanes:_,Ka(Ed,Ul),Ul|=V}else le!==null?(V=le.baseLanes|_,o.memoizedState=null):V=_,Ka(Ed,Ul),Ul|=V;return $s(s,o,K,_),o.child}function uM(s,o){var _=o.ref;(s===null&&_!==null||s!==null&&s.ref!==_)&&(o.flags|=512,o.flags|=2097152)}function Zx(s,o,_,V,K){var le=wl(_)?Pv:Bs.current;return le=Fd(o,le),Dd(o,K),_=ub(s,o,_,V,le,K),V=fb(),s!==null&&!xl?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~K,Tc(s,o,K)):(ao&&V&&Q2(o),o.flags|=1,$s(s,o,_,K),o.child)}function fT(s,o,_,V,K){if(wl(_)){var le=!0;By(o)}else le=!1;if(Dd(o,K),o.stateNode===null)py(s,o),z4(o,_,V),Gx(o,_,V,K),V=!0;else if(s===null){var k=o.stateNode,F=o.memoizedProps;k.props=F;var e=k.context,h=_.contextType;typeof h=="object"&&h!==null?h=mu(h):(h=wl(_)?Pv:Bs.current,h=Fd(o,h));var E=_.getDerivedStateFromProps,n=typeof E=="function"||typeof k.getSnapshotBeforeUpdate=="function";n||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(F!==V||e!==h)&&tT(o,k,V,h),sh=!1;var L=o.memoizedState;k.state=L,Wy(o,V,k,K),e=o.memoizedState,F!==V||L!==e||bl.current||sh?(typeof E=="function"&&(Wx(o,_,E,V),e=o.memoizedState),(F=sh||eT(o,_,F,V,L,e,h))?(n||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=V,o.memoizedState=e),k.props=V,k.state=e,k.context=h,V=F):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),V=!1)}else{k=o.stateNode,I4(s,o),F=o.memoizedProps,h=o.type===o.elementType?F:Yu(o.type,F),k.props=h,n=o.pendingProps,L=k.context,e=_.contextType,typeof e=="object"&&e!==null?e=mu(e):(e=wl(_)?Pv:Bs.current,e=Fd(o,e));var w=_.getDerivedStateFromProps;(E=typeof w=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(F!==n||L!==e)&&tT(o,k,V,e),sh=!1,L=o.memoizedState,k.state=L,Wy(o,V,k,K);var p=o.memoizedState;F!==n||L!==p||bl.current||sh?(typeof w=="function"&&(Wx(o,_,w,V),p=o.memoizedState),(h=sh||eT(o,_,h,V,L,p,e)||!1)?(E||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(V,p,e),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(V,p,e)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||F===s.memoizedProps&&L===s.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&L===s.memoizedState||(o.flags|=1024),o.memoizedProps=V,o.memoizedState=p),k.props=V,k.state=p,k.context=e,V=h):(typeof k.componentDidUpdate!="function"||F===s.memoizedProps&&L===s.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&L===s.memoizedState||(o.flags|=1024),V=!1)}return jx(s,o,_,V,le,K)}function jx(s,o,_,V,K,le){uM(s,o);var k=(o.flags&128)!==0;if(!V&&!k)return K&&Kw(o,_,!1),Tc(s,o,le);V=o.stateNode,d7.current=o;var F=k&&typeof _.getDerivedStateFromError!="function"?null:V.render();return o.flags|=1,s!==null&&k?(o.child=Od(o,s.child,null,le),o.child=Od(o,null,F,le)):$s(s,o,F,le),o.memoizedState=V.state,K&&Kw(o,_,!0),o.child}function fM(s){var o=s.stateNode;o.pendingContext?Xw(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Xw(s,o.context,!1),ab(s,o.containerInfo)}function cT(s,o,_,V,K){return zd(),q2(K),o.flags|=256,$s(s,o,_,V),o.child}var Xx={dehydrated:null,treeContext:null,retryLane:0};function Kx(s){return{baseLanes:s,cachePool:null,transitions:null}}function cM(s,o,_){var V=o.pendingProps,K=go.current,le=!1,k=(o.flags&128)!==0,F;if((F=k)||(F=s!==null&&s.memoizedState===null?!1:(K&2)!==0),F?(le=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(K|=1),Ka(go,K&1),s===null)return Hx(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(k=V.children,s=V.fallback,le?(V=o.mode,le=o.child,k={mode:"hidden",children:k},!(V&1)&&le!==null?(le.childLanes=0,le.pendingProps=k):le=Am(k,V,0,null),s=Ev(s,V,_,null),le.return=o,s.return=o,le.sibling=s,o.child=le,o.child.memoizedState=Kx(_),o.memoizedState=Xx,s):vb(o,k));if(K=s.memoizedState,K!==null&&(F=K.dehydrated,F!==null))return p7(s,o,k,V,F,K,_);if(le){le=V.fallback,k=o.mode,K=s.child,F=K.sibling;var e={mode:"hidden",children:V.children};return!(k&1)&&o.child!==K?(V=o.child,V.childLanes=0,V.pendingProps=e,o.deletions=null):(V=Ah(K,e),V.subtreeFlags=K.subtreeFlags&14680064),F!==null?le=Ah(F,le):(le=Ev(le,k,_,null),le.flags|=2),le.return=o,V.return=o,V.sibling=le,o.child=V,V=le,le=o.child,k=s.child.memoizedState,k=k===null?Kx(_):{baseLanes:k.baseLanes|_,cachePool:null,transitions:k.transitions},le.memoizedState=k,le.childLanes=s.childLanes&~_,o.memoizedState=Xx,V}return le=s.child,s=le.sibling,V=Ah(le,{mode:"visible",children:V.children}),!(o.mode&1)&&(V.lanes=_),V.return=o,V.sibling=null,s!==null&&(_=o.deletions,_===null?(o.deletions=[s],o.flags|=16):_.push(s)),o.child=V,o.memoizedState=null,V}function vb(s,o){return o=Am({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ng(s,o,_,V){return V!==null&&q2(V),Od(o,s.child,null,_),s=vb(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function p7(s,o,_,V,K,le,k){if(_)return o.flags&256?(o.flags&=-257,V=G1(Error(vi(422))),Ng(s,o,k,V)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(le=V.fallback,K=o.mode,V=Am({mode:"visible",children:V.children},K,0,null),le=Ev(le,K,k,null),le.flags|=2,V.return=o,le.return=o,V.sibling=le,o.child=V,o.mode&1&&Od(o,s.child,null,k),o.child.memoizedState=Kx(k),o.memoizedState=Xx,le);if(!(o.mode&1))return Ng(s,o,k,null);if(K.data==="$!"){if(V=K.nextSibling&&K.nextSibling.dataset,V)var F=V.dgst;return V=F,le=Error(vi(419)),V=G1(le,V,void 0),Ng(s,o,k,V)}if(F=(k&s.childLanes)!==0,xl||F){if(V=ss,V!==null){switch(k&-k){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=K&(V.suspendedLanes|k)?0:K,K!==0&&K!==le.retryLane&&(le.retryLane=K,wc(s,K),Qu(V,s,K,-1))}return xb(),V=G1(Error(vi(421))),Ng(s,o,k,V)}return K.data==="$?"?(o.flags|=128,o.child=s.child,o=L7.bind(null,s),K._reactRetry=o,null):(s=le.treeContext,Hl=xh(K.nextSibling),Vl=o,ao=!0,Xu=null,s!==null&&(du[pu++]=dc,du[pu++]=pc,du[pu++]=Rv,dc=s.id,pc=s.overflow,Rv=o),o=vb(o,V.children),o.flags|=4096,o)}function hT(s,o,_){s.lanes|=o;var V=s.alternate;V!==null&&(V.lanes|=o),Vx(s.return,o,_)}function Y1(s,o,_,V,K){var le=s.memoizedState;le===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:V,tail:_,tailMode:K}:(le.isBackwards=o,le.rendering=null,le.renderingStartTime=0,le.last=V,le.tail=_,le.tailMode=K)}function hM(s,o,_){var V=o.pendingProps,K=V.revealOrder,le=V.tail;if($s(s,o,V.children,_),V=go.current,V&2)V=V&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&hT(s,_,o);else if(s.tag===19)hT(s,_,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}V&=1}if(Ka(go,V),!(o.mode&1))o.memoizedState=null;else switch(K){case"forwards":for(_=o.child,K=null;_!==null;)s=_.alternate,s!==null&&Gy(s)===null&&(K=_),_=_.sibling;_=K,_===null?(K=o.child,o.child=null):(K=_.sibling,_.sibling=null),Y1(o,!1,K,_,le);break;case"backwards":for(_=null,K=o.child,o.child=null;K!==null;){if(s=K.alternate,s!==null&&Gy(s)===null){o.child=K;break}s=K.sibling,K.sibling=_,_=K,K=s}Y1(o,!0,_,null,le);break;case"together":Y1(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function py(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Tc(s,o,_){if(s!==null&&(o.dependencies=s.dependencies),_v|=o.lanes,!(_&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(vi(153));if(o.child!==null){for(s=o.child,_=Ah(s,s.pendingProps),o.child=_,_.return=o;s.sibling!==null;)s=s.sibling,_=_.sibling=Ah(s,s.pendingProps),_.return=o;_.sibling=null}return o.child}function g7(s,o,_){switch(o.tag){case 3:fM(o),zd();break;case 5:N4(o);break;case 1:wl(o.type)&&By(o);break;case 4:ab(o,o.stateNode.containerInfo);break;case 10:var V=o.type._context,K=o.memoizedProps.value;Ka(Hy,V._currentValue),V._currentValue=K;break;case 13:if(V=o.memoizedState,V!==null)return V.dehydrated!==null?(Ka(go,go.current&1),o.flags|=128,null):_&o.child.childLanes?cM(s,o,_):(Ka(go,go.current&1),s=Tc(s,o,_),s!==null?s.sibling:null);Ka(go,go.current&1);break;case 19:if(V=(_&o.childLanes)!==0,s.flags&128){if(V)return hM(s,o,_);o.flags|=128}if(K=o.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Ka(go,go.current),V)break;return null;case 22:case 23:return o.lanes=0,lM(s,o,_)}return Tc(s,o,_)}var vM,Jx,dM,pM;vM=function(s,o){for(var _=o.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break;for(;_.sibling===null;){if(_.return===null||_.return===o)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Jx=function(){};dM=function(s,o,_,V){var K=s.memoizedProps;if(K!==V){s=o.stateNode,Tv(Df.current);var le=null;switch(_){case"input":K=mx(s,K),V=mx(s,V),le=[];break;case"select":K=xo({},K,{value:void 0}),V=xo({},V,{value:void 0}),le=[];break;case"textarea":K=wx(s,K),V=wx(s,V),le=[];break;default:typeof K.onClick!="function"&&typeof V.onClick=="function"&&(s.onclick=zy)}Ax(_,V);var k;_=null;for(h in K)if(!V.hasOwnProperty(h)&&K.hasOwnProperty(h)&&K[h]!=null)if(h==="style"){var F=K[h];for(k in F)F.hasOwnProperty(k)&&(_||(_={}),_[k]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(h0.hasOwnProperty(h)?le||(le=[]):(le=le||[]).push(h,null));for(h in V){var e=V[h];if(F=K!=null?K[h]:void 0,V.hasOwnProperty(h)&&e!==F&&(e!=null||F!=null))if(h==="style")if(F){for(k in F)!F.hasOwnProperty(k)||e&&e.hasOwnProperty(k)||(_||(_={}),_[k]="");for(k in e)e.hasOwnProperty(k)&&F[k]!==e[k]&&(_||(_={}),_[k]=e[k])}else _||(le||(le=[]),le.push(h,_)),_=e;else h==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,F=F?F.__html:void 0,e!=null&&F!==e&&(le=le||[]).push(h,e)):h==="children"?typeof e!="string"&&typeof e!="number"||(le=le||[]).push(h,""+e):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(h0.hasOwnProperty(h)?(e!=null&&h==="onScroll"&&qa("scroll",s),le||F===e||(le=[])):(le=le||[]).push(h,e))}_&&(le=le||[]).push("style",_);var h=le;(o.updateQueue=h)&&(o.flags|=4)}};pM=function(s,o,_,V){_!==V&&(o.flags|=4)};function _p(s,o){if(!ao)switch(s.tailMode){case"hidden":o=s.tail;for(var _=null;o!==null;)o.alternate!==null&&(_=o),o=o.sibling;_===null?s.tail=null:_.sibling=null;break;case"collapsed":_=s.tail;for(var V=null;_!==null;)_.alternate!==null&&(V=_),_=_.sibling;V===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:V.sibling=null}}function zs(s){var o=s.alternate!==null&&s.alternate.child===s.child,_=0,V=0;if(o)for(var K=s.child;K!==null;)_|=K.lanes|K.childLanes,V|=K.subtreeFlags&14680064,V|=K.flags&14680064,K.return=s,K=K.sibling;else for(K=s.child;K!==null;)_|=K.lanes|K.childLanes,V|=K.subtreeFlags,V|=K.flags,K.return=s,K=K.sibling;return s.subtreeFlags|=V,s.childLanes=_,o}function y7(s,o,_){var V=o.pendingProps;switch($2(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zs(o),null;case 1:return wl(o.type)&&Oy(),zs(o),null;case 3:return V=o.stateNode,Bd(),eo(bl),eo(Bs),sb(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),(s===null||s.child===null)&&(Og(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Xu!==null&&(i2(Xu),Xu=null))),Jx(s,o),zs(o),null;case 5:ob(o);var K=Tv(M0.current);if(_=o.type,s!==null&&o.stateNode!=null)dM(s,o,_,V,K),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!V){if(o.stateNode===null)throw Error(vi(166));return zs(o),null}if(s=Tv(Df.current),Og(o)){V=o.stateNode,_=o.type;var le=o.memoizedProps;switch(V[Cf]=o,V[T0]=le,s=(o.mode&1)!==0,_){case"dialog":qa("cancel",V),qa("close",V);break;case"iframe":case"object":case"embed":qa("load",V);break;case"video":case"audio":for(K=0;K<Wp.length;K++)qa(Wp[K],V);break;case"source":qa("error",V);break;case"img":case"image":case"link":qa("error",V),qa("load",V);break;case"details":qa("toggle",V);break;case"input":ww(V,le),qa("invalid",V);break;case"select":V._wrapperState={wasMultiple:!!le.multiple},qa("invalid",V);break;case"textarea":Aw(V,le),qa("invalid",V)}Ax(_,le),K=null;for(var k in le)if(le.hasOwnProperty(k)){var F=le[k];k==="children"?typeof F=="string"?V.textContent!==F&&(le.suppressHydrationWarning!==!0&&zg(V.textContent,F,s),K=["children",F]):typeof F=="number"&&V.textContent!==""+F&&(le.suppressHydrationWarning!==!0&&zg(V.textContent,F,s),K=["children",""+F]):h0.hasOwnProperty(k)&&F!=null&&k==="onScroll"&&qa("scroll",V)}switch(_){case"input":Lg(V),Tw(V,le,!0);break;case"textarea":Lg(V),Mw(V);break;case"select":case"option":break;default:typeof le.onClick=="function"&&(V.onclick=zy)}V=K,o.updateQueue=V,V!==null&&(o.flags|=4)}else{k=K.nodeType===9?K:K.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=VA(_)),s==="http://www.w3.org/1999/xhtml"?_==="script"?(s=k.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof V.is=="string"?s=k.createElement(_,{is:V.is}):(s=k.createElement(_),_==="select"&&(k=s,V.multiple?k.multiple=!0:V.size&&(k.size=V.size))):s=k.createElementNS(s,_),s[Cf]=o,s[T0]=V,vM(s,o,!1,!1),o.stateNode=s;e:{switch(k=Mx(_,V),_){case"dialog":qa("cancel",s),qa("close",s),K=V;break;case"iframe":case"object":case"embed":qa("load",s),K=V;break;case"video":case"audio":for(K=0;K<Wp.length;K++)qa(Wp[K],s);K=V;break;case"source":qa("error",s),K=V;break;case"img":case"image":case"link":qa("error",s),qa("load",s),K=V;break;case"details":qa("toggle",s),K=V;break;case"input":ww(s,V),K=mx(s,V),qa("invalid",s);break;case"option":K=V;break;case"select":s._wrapperState={wasMultiple:!!V.multiple},K=xo({},V,{value:void 0}),qa("invalid",s);break;case"textarea":Aw(s,V),K=wx(s,V),qa("invalid",s);break;default:K=V}Ax(_,K),F=K;for(le in F)if(F.hasOwnProperty(le)){var e=F[le];le==="style"?YA(s,e):le==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&WA(s,e)):le==="children"?typeof e=="string"?(_!=="textarea"||e!=="")&&v0(s,e):typeof e=="number"&&v0(s,""+e):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(h0.hasOwnProperty(le)?e!=null&&le==="onScroll"&&qa("scroll",s):e!=null&&O2(s,le,e,k))}switch(_){case"input":Lg(s),Tw(s,V,!1);break;case"textarea":Lg(s),Mw(s);break;case"option":V.value!=null&&s.setAttribute("value",""+Lh(V.value));break;case"select":s.multiple=!!V.multiple,le=V.value,le!=null?Cd(s,!!V.multiple,le,!1):V.defaultValue!=null&&Cd(s,!!V.multiple,V.defaultValue,!0);break;default:typeof K.onClick=="function"&&(s.onclick=zy)}switch(_){case"button":case"input":case"select":case"textarea":V=!!V.autoFocus;break e;case"img":V=!0;break e;default:V=!1}}V&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return zs(o),null;case 6:if(s&&o.stateNode!=null)pM(s,o,s.memoizedProps,V);else{if(typeof V!="string"&&o.stateNode===null)throw Error(vi(166));if(_=Tv(M0.current),Tv(Df.current),Og(o)){if(V=o.stateNode,_=o.memoizedProps,V[Cf]=o,(le=V.nodeValue!==_)&&(s=Vl,s!==null))switch(s.tag){case 3:zg(V.nodeValue,_,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&zg(V.nodeValue,_,(s.mode&1)!==0)}le&&(o.flags|=4)}else V=(_.nodeType===9?_:_.ownerDocument).createTextNode(V),V[Cf]=o,o.stateNode=V}return zs(o),null;case 13:if(eo(go),V=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ao&&Hl!==null&&o.mode&1&&!(o.flags&128))_4(),zd(),o.flags|=98560,le=!1;else if(le=Og(o),V!==null&&V.dehydrated!==null){if(s===null){if(!le)throw Error(vi(318));if(le=o.memoizedState,le=le!==null?le.dehydrated:null,!le)throw Error(vi(317));le[Cf]=o}else zd(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;zs(o),le=!1}else Xu!==null&&(i2(Xu),Xu=null),le=!0;if(!le)return o.flags&65536?o:null}return o.flags&128?(o.lanes=_,o):(V=V!==null,V!==(s!==null&&s.memoizedState!==null)&&V&&(o.child.flags|=8192,o.mode&1&&(s===null||go.current&1?Xo===0&&(Xo=3):xb())),o.updateQueue!==null&&(o.flags|=4),zs(o),null);case 4:return Bd(),Jx(s,o),s===null&&b0(o.stateNode.containerInfo),zs(o),null;case 10:return rb(o.type._context),zs(o),null;case 17:return wl(o.type)&&Oy(),zs(o),null;case 19:if(eo(go),le=o.memoizedState,le===null)return zs(o),null;if(V=(o.flags&128)!==0,k=le.rendering,k===null)if(V)_p(le,!1);else{if(Xo!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(k=Gy(s),k!==null){for(o.flags|=128,_p(le,!1),V=k.updateQueue,V!==null&&(o.updateQueue=V,o.flags|=4),o.subtreeFlags=0,V=_,_=o.child;_!==null;)le=_,s=V,le.flags&=14680066,k=le.alternate,k===null?(le.childLanes=0,le.lanes=s,le.child=null,le.subtreeFlags=0,le.memoizedProps=null,le.memoizedState=null,le.updateQueue=null,le.dependencies=null,le.stateNode=null):(le.childLanes=k.childLanes,le.lanes=k.lanes,le.child=k.child,le.subtreeFlags=0,le.deletions=null,le.memoizedProps=k.memoizedProps,le.memoizedState=k.memoizedState,le.updateQueue=k.updateQueue,le.type=k.type,s=k.dependencies,le.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),_=_.sibling;return Ka(go,go.current&1|2),o.child}s=s.sibling}le.tail!==null&&Do()>Ud&&(o.flags|=128,V=!0,_p(le,!1),o.lanes=4194304)}else{if(!V)if(s=Gy(k),s!==null){if(o.flags|=128,V=!0,_=s.updateQueue,_!==null&&(o.updateQueue=_,o.flags|=4),_p(le,!0),le.tail===null&&le.tailMode==="hidden"&&!k.alternate&&!ao)return zs(o),null}else 2*Do()-le.renderingStartTime>Ud&&_!==1073741824&&(o.flags|=128,V=!0,_p(le,!1),o.lanes=4194304);le.isBackwards?(k.sibling=o.child,o.child=k):(_=le.last,_!==null?_.sibling=k:o.child=k,le.last=k)}return le.tail!==null?(o=le.tail,le.rendering=o,le.tail=o.sibling,le.renderingStartTime=Do(),o.sibling=null,_=go.current,Ka(go,V?_&1|2:_&1),o):(zs(o),null);case 22:case 23:return mb(),V=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==V&&(o.flags|=8192),V&&o.mode&1?Ul&1073741824&&(zs(o),o.subtreeFlags&6&&(o.flags|=8192)):zs(o),null;case 24:return null;case 25:return null}throw Error(vi(156,o.tag))}function m7(s,o){switch($2(o),o.tag){case 1:return wl(o.type)&&Oy(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Bd(),eo(bl),eo(Bs),sb(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return ob(o),null;case 13:if(eo(go),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(vi(340));zd()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return eo(go),null;case 4:return Bd(),null;case 10:return rb(o.type._context),null;case 22:case 23:return mb(),null;case 24:return null;default:return null}}var Ug=!1,Os=!1,x7=typeof WeakSet=="function"?WeakSet:Set,Ii=null;function Sd(s,o){var _=s.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(V){Mo(s,o,V)}else _.current=null}function Qx(s,o,_){try{_()}catch(V){Mo(s,o,V)}}var vT=!1;function b7(s,o){if(Ix=ky,s=x4(),J2(s)){if("selectionStart"in s)var _={start:s.selectionStart,end:s.selectionEnd};else e:{_=(_=s.ownerDocument)&&_.defaultView||window;var V=_.getSelection&&_.getSelection();if(V&&V.rangeCount!==0){_=V.anchorNode;var K=V.anchorOffset,le=V.focusNode;V=V.focusOffset;try{_.nodeType,le.nodeType}catch{_=null;break e}var k=0,F=-1,e=-1,h=0,E=0,n=s,L=null;t:for(;;){for(var w;n!==_||K!==0&&n.nodeType!==3||(F=k+K),n!==le||V!==0&&n.nodeType!==3||(e=k+V),n.nodeType===3&&(k+=n.nodeValue.length),(w=n.firstChild)!==null;)L=n,n=w;for(;;){if(n===s)break t;if(L===_&&++h===K&&(F=k),L===le&&++E===V&&(e=k),(w=n.nextSibling)!==null)break;n=L,L=n.parentNode}n=w}_=F===-1||e===-1?null:{start:F,end:e}}else _=null}_=_||{start:0,end:0}}else _=null;for(Fx={focusedElem:s,selectionRange:_},ky=!1,Ii=o;Ii!==null;)if(o=Ii,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ii=s;else for(;Ii!==null;){o=Ii;try{var p=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,t=p.memoizedState,r=o.stateNode,l=r.getSnapshotBeforeUpdate(o.elementType===o.type?m:Yu(o.type,m),t);r.__reactInternalSnapshotBeforeUpdate=l}break;case 3:var i=o.stateNode.containerInfo;i.nodeType===1?i.textContent="":i.nodeType===9&&i.documentElement&&i.removeChild(i.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(vi(163))}}catch(f){Mo(o,o.return,f)}if(s=o.sibling,s!==null){s.return=o.return,Ii=s;break}Ii=o.return}return p=vT,vT=!1,p}function n0(s,o,_){var V=o.updateQueue;if(V=V!==null?V.lastEffect:null,V!==null){var K=V=V.next;do{if((K.tag&s)===s){var le=K.destroy;K.destroy=void 0,le!==void 0&&Qx(o,_,le)}K=K.next}while(K!==V)}}function wm(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var _=o=o.next;do{if((_.tag&s)===s){var V=_.create;_.destroy=V()}_=_.next}while(_!==o)}}function $x(s){var o=s.ref;if(o!==null){var _=s.stateNode;switch(s.tag){case 5:s=_;break;default:s=_}typeof o=="function"?o(s):o.current=s}}function gM(s){var o=s.alternate;o!==null&&(s.alternate=null,gM(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Cf],delete o[T0],delete o[Bx],delete o[r7],delete o[n7])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function yM(s){return s.tag===5||s.tag===3||s.tag===4}function dT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||yM(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qx(s,o,_){var V=s.tag;if(V===5||V===6)s=s.stateNode,o?_.nodeType===8?_.parentNode.insertBefore(s,o):_.insertBefore(s,o):(_.nodeType===8?(o=_.parentNode,o.insertBefore(s,_)):(o=_,o.appendChild(s)),_=_._reactRootContainer,_!=null||o.onclick!==null||(o.onclick=zy));else if(V!==4&&(s=s.child,s!==null))for(qx(s,o,_),s=s.sibling;s!==null;)qx(s,o,_),s=s.sibling}function e2(s,o,_){var V=s.tag;if(V===5||V===6)s=s.stateNode,o?_.insertBefore(s,o):_.appendChild(s);else if(V!==4&&(s=s.child,s!==null))for(e2(s,o,_),s=s.sibling;s!==null;)e2(s,o,_),s=s.sibling}var ys=null,Zu=!1;function rh(s,o,_){for(_=_.child;_!==null;)mM(s,o,_),_=_.sibling}function mM(s,o,_){if(Rf&&typeof Rf.onCommitFiberUnmount=="function")try{Rf.onCommitFiberUnmount(vm,_)}catch{}switch(_.tag){case 5:Os||Sd(_,o);case 6:var V=ys,K=Zu;ys=null,rh(s,o,_),ys=V,Zu=K,ys!==null&&(Zu?(s=ys,_=_.stateNode,s.nodeType===8?s.parentNode.removeChild(_):s.removeChild(_)):ys.removeChild(_.stateNode));break;case 18:ys!==null&&(Zu?(s=ys,_=_.stateNode,s.nodeType===8?B1(s.parentNode,_):s.nodeType===1&&B1(s,_),y0(s)):B1(ys,_.stateNode));break;case 4:V=ys,K=Zu,ys=_.stateNode.containerInfo,Zu=!0,rh(s,o,_),ys=V,Zu=K;break;case 0:case 11:case 14:case 15:if(!Os&&(V=_.updateQueue,V!==null&&(V=V.lastEffect,V!==null))){K=V=V.next;do{var le=K,k=le.destroy;le=le.tag,k!==void 0&&(le&2||le&4)&&Qx(_,o,k),K=K.next}while(K!==V)}rh(s,o,_);break;case 1:if(!Os&&(Sd(_,o),V=_.stateNode,typeof V.componentWillUnmount=="function"))try{V.props=_.memoizedProps,V.state=_.memoizedState,V.componentWillUnmount()}catch(F){Mo(_,o,F)}rh(s,o,_);break;case 21:rh(s,o,_);break;case 22:_.mode&1?(Os=(V=Os)||_.memoizedState!==null,rh(s,o,_),Os=V):rh(s,o,_);break;default:rh(s,o,_)}}function pT(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var _=s.stateNode;_===null&&(_=s.stateNode=new x7),o.forEach(function(V){var K=P7.bind(null,s,V);_.has(V)||(_.add(V),V.then(K,K))})}}function Gu(s,o){var _=o.deletions;if(_!==null)for(var V=0;V<_.length;V++){var K=_[V];try{var le=s,k=o,F=k;e:for(;F!==null;){switch(F.tag){case 5:ys=F.stateNode,Zu=!1;break e;case 3:ys=F.stateNode.containerInfo,Zu=!0;break e;case 4:ys=F.stateNode.containerInfo,Zu=!0;break e}F=F.return}if(ys===null)throw Error(vi(160));mM(le,k,K),ys=null,Zu=!1;var e=K.alternate;e!==null&&(e.return=null),K.return=null}catch(h){Mo(K,o,h)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)xM(o,s),o=o.sibling}function xM(s,o){var _=s.alternate,V=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Gu(o,s),Af(s),V&4){try{n0(3,s,s.return),wm(3,s)}catch(m){Mo(s,s.return,m)}try{n0(5,s,s.return)}catch(m){Mo(s,s.return,m)}}break;case 1:Gu(o,s),Af(s),V&512&&_!==null&&Sd(_,_.return);break;case 5:if(Gu(o,s),Af(s),V&512&&_!==null&&Sd(_,_.return),s.flags&32){var K=s.stateNode;try{v0(K,"")}catch(m){Mo(s,s.return,m)}}if(V&4&&(K=s.stateNode,K!=null)){var le=s.memoizedProps,k=_!==null?_.memoizedProps:le,F=s.type,e=s.updateQueue;if(s.updateQueue=null,e!==null)try{F==="input"&&le.type==="radio"&&le.name!=null&&UA(K,le),Mx(F,k);var h=Mx(F,le);for(k=0;k<e.length;k+=2){var E=e[k],n=e[k+1];E==="style"?YA(K,n):E==="dangerouslySetInnerHTML"?WA(K,n):E==="children"?v0(K,n):O2(K,E,n,h)}switch(F){case"input":xx(K,le);break;case"textarea":HA(K,le);break;case"select":var L=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!le.multiple;var w=le.value;w!=null?Cd(K,!!le.multiple,w,!1):L!==!!le.multiple&&(le.defaultValue!=null?Cd(K,!!le.multiple,le.defaultValue,!0):Cd(K,!!le.multiple,le.multiple?[]:"",!1))}K[T0]=le}catch(m){Mo(s,s.return,m)}}break;case 6:if(Gu(o,s),Af(s),V&4){if(s.stateNode===null)throw Error(vi(162));K=s.stateNode,le=s.memoizedProps;try{K.nodeValue=le}catch(m){Mo(s,s.return,m)}}break;case 3:if(Gu(o,s),Af(s),V&4&&_!==null&&_.memoizedState.isDehydrated)try{y0(o.containerInfo)}catch(m){Mo(s,s.return,m)}break;case 4:Gu(o,s),Af(s);break;case 13:Gu(o,s),Af(s),K=s.child,K.flags&8192&&(le=K.memoizedState!==null,K.stateNode.isHidden=le,!le||K.alternate!==null&&K.alternate.memoizedState!==null||(gb=Do())),V&4&&pT(s);break;case 22:if(E=_!==null&&_.memoizedState!==null,s.mode&1?(Os=(h=Os)||E,Gu(o,s),Os=h):Gu(o,s),Af(s),V&8192){if(h=s.memoizedState!==null,(s.stateNode.isHidden=h)&&!E&&s.mode&1)for(Ii=s,E=s.child;E!==null;){for(n=Ii=E;Ii!==null;){switch(L=Ii,w=L.child,L.tag){case 0:case 11:case 14:case 15:n0(4,L,L.return);break;case 1:Sd(L,L.return);var p=L.stateNode;if(typeof p.componentWillUnmount=="function"){V=L,_=L.return;try{o=V,p.props=o.memoizedProps,p.state=o.memoizedState,p.componentWillUnmount()}catch(m){Mo(V,_,m)}}break;case 5:Sd(L,L.return);break;case 22:if(L.memoizedState!==null){yT(n);continue}}w!==null?(w.return=L,Ii=w):yT(n)}E=E.sibling}e:for(E=null,n=s;;){if(n.tag===5){if(E===null){E=n;try{K=n.stateNode,h?(le=K.style,typeof le.setProperty=="function"?le.setProperty("display","none","important"):le.display="none"):(F=n.stateNode,e=n.memoizedProps.style,k=e!=null&&e.hasOwnProperty("display")?e.display:null,F.style.display=GA("display",k))}catch(m){Mo(s,s.return,m)}}}else if(n.tag===6){if(E===null)try{n.stateNode.nodeValue=h?"":n.memoizedProps}catch(m){Mo(s,s.return,m)}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===s)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;E===n&&(E=null),n=n.return}E===n&&(E=null),n.sibling.return=n.return,n=n.sibling}}break;case 19:Gu(o,s),Af(s),V&4&&pT(s);break;case 21:break;default:Gu(o,s),Af(s)}}function Af(s){var o=s.flags;if(o&2){try{e:{for(var _=s.return;_!==null;){if(yM(_)){var V=_;break e}_=_.return}throw Error(vi(160))}switch(V.tag){case 5:var K=V.stateNode;V.flags&32&&(v0(K,""),V.flags&=-33);var le=dT(s);e2(s,le,K);break;case 3:case 4:var k=V.stateNode.containerInfo,F=dT(s);qx(s,F,k);break;default:throw Error(vi(161))}}catch(e){Mo(s,s.return,e)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function w7(s,o,_){Ii=s,bM(s)}function bM(s,o,_){for(var V=(s.mode&1)!==0;Ii!==null;){var K=Ii,le=K.child;if(K.tag===22&&V){var k=K.memoizedState!==null||Ug;if(!k){var F=K.alternate,e=F!==null&&F.memoizedState!==null||Os;F=Ug;var h=Os;if(Ug=k,(Os=e)&&!h)for(Ii=K;Ii!==null;)k=Ii,e=k.child,k.tag===22&&k.memoizedState!==null?mT(K):e!==null?(e.return=k,Ii=e):mT(K);for(;le!==null;)Ii=le,bM(le),le=le.sibling;Ii=K,Ug=F,Os=h}gT(s)}else K.subtreeFlags&8772&&le!==null?(le.return=K,Ii=le):gT(s)}}function gT(s){for(;Ii!==null;){var o=Ii;if(o.flags&8772){var _=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Os||wm(5,o);break;case 1:var V=o.stateNode;if(o.flags&4&&!Os)if(_===null)V.componentDidMount();else{var K=o.elementType===o.type?_.memoizedProps:Yu(o.type,_.memoizedProps);V.componentDidUpdate(K,_.memoizedState,V.__reactInternalSnapshotBeforeUpdate)}var le=o.updateQueue;le!==null&&qw(o,le,V);break;case 3:var k=o.updateQueue;if(k!==null){if(_=null,o.child!==null)switch(o.child.tag){case 5:_=o.child.stateNode;break;case 1:_=o.child.stateNode}qw(o,k,_)}break;case 5:var F=o.stateNode;if(_===null&&o.flags&4){_=F;var e=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&_.focus();break;case"img":e.src&&(_.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var h=o.alternate;if(h!==null){var E=h.memoizedState;if(E!==null){var n=E.dehydrated;n!==null&&y0(n)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(vi(163))}Os||o.flags&512&&$x(o)}catch(L){Mo(o,o.return,L)}}if(o===s){Ii=null;break}if(_=o.sibling,_!==null){_.return=o.return,Ii=_;break}Ii=o.return}}function yT(s){for(;Ii!==null;){var o=Ii;if(o===s){Ii=null;break}var _=o.sibling;if(_!==null){_.return=o.return,Ii=_;break}Ii=o.return}}function mT(s){for(;Ii!==null;){var o=Ii;try{switch(o.tag){case 0:case 11:case 15:var _=o.return;try{wm(4,o)}catch(e){Mo(o,_,e)}break;case 1:var V=o.stateNode;if(typeof V.componentDidMount=="function"){var K=o.return;try{V.componentDidMount()}catch(e){Mo(o,K,e)}}var le=o.return;try{$x(o)}catch(e){Mo(o,le,e)}break;case 5:var k=o.return;try{$x(o)}catch(e){Mo(o,k,e)}}}catch(e){Mo(o,o.return,e)}if(o===s){Ii=null;break}var F=o.sibling;if(F!==null){F.return=o.return,Ii=F;break}Ii=o.return}}var T7=Math.ceil,jy=Ac.ReactCurrentDispatcher,db=Ac.ReactCurrentOwner,yu=Ac.ReactCurrentBatchConfig,Ca=0,ss=null,Uo=null,bs=0,Ul=0,Ed=Ih(0),Xo=0,L0=null,_v=0,Tm=0,pb=0,i0=null,yl=null,gb=0,Ud=1/0,cc=null,Xy=!1,t2=null,wh=null,Hg=!1,ch=null,Ky=0,a0=0,r2=null,gy=-1,yy=0;function qs(){return Ca&6?Do():gy!==-1?gy:gy=Do()}function Th(s){return s.mode&1?Ca&2&&bs!==0?bs&-bs:a7.transition!==null?(yy===0&&(yy=n4()),yy):(s=Ua,s!==0||(s=window.event,s=s===void 0?16:f4(s.type)),s):1}function Qu(s,o,_,V){if(50<a0)throw a0=0,r2=null,Error(vi(185));B0(s,_,V),(!(Ca&2)||s!==ss)&&(s===ss&&(!(Ca&2)&&(Tm|=_),Xo===4&&uh(s,bs)),Tl(s,V),_===1&&Ca===0&&!(o.mode&1)&&(Ud=Do()+500,mm&&Fh()))}function Tl(s,o){var _=s.callbackNode;aL(s,o);var V=_y(s,s===ss?bs:0);if(V===0)_!==null&&Cw(_),s.callbackNode=null,s.callbackPriority=0;else if(o=V&-V,s.callbackPriority!==o){if(_!=null&&Cw(_),o===1)s.tag===0?i7(xT.bind(null,s)):P4(xT.bind(null,s)),e7(function(){!(Ca&6)&&Fh()}),_=null;else{switch(i4(V)){case 1:_=V2;break;case 4:_=t4;break;case 16:_=Dy;break;case 536870912:_=r4;break;default:_=Dy}_=LM(_,wM.bind(null,s))}s.callbackPriority=o,s.callbackNode=_}}function wM(s,o){if(gy=-1,yy=0,Ca&6)throw Error(vi(327));var _=s.callbackNode;if(_d()&&s.callbackNode!==_)return null;var V=_y(s,s===ss?bs:0);if(V===0)return null;if(V&30||V&s.expiredLanes||o)o=Jy(s,V);else{o=V;var K=Ca;Ca|=2;var le=AM();(ss!==s||bs!==o)&&(cc=null,Ud=Do()+500,Sv(s,o));do try{S7();break}catch(F){TM(s,F)}while(1);tb(),jy.current=le,Ca=K,Uo!==null?o=0:(ss=null,bs=0,o=Xo)}if(o!==0){if(o===2&&(K=Px(s),K!==0&&(V=K,o=n2(s,K))),o===1)throw _=L0,Sv(s,0),uh(s,V),Tl(s,Do()),_;if(o===6)uh(s,V);else{if(K=s.current.alternate,!(V&30)&&!A7(K)&&(o=Jy(s,V),o===2&&(le=Px(s),le!==0&&(V=le,o=n2(s,le))),o===1))throw _=L0,Sv(s,0),uh(s,V),Tl(s,Do()),_;switch(s.finishedWork=K,s.finishedLanes=V,o){case 0:case 1:throw Error(vi(345));case 2:yv(s,yl,cc);break;case 3:if(uh(s,V),(V&130023424)===V&&(o=gb+500-Do(),10<o)){if(_y(s,0)!==0)break;if(K=s.suspendedLanes,(K&V)!==V){qs(),s.pingedLanes|=s.suspendedLanes&K;break}s.timeoutHandle=Ox(yv.bind(null,s,yl,cc),o);break}yv(s,yl,cc);break;case 4:if(uh(s,V),(V&4194240)===V)break;for(o=s.eventTimes,K=-1;0<V;){var k=31-Ju(V);le=1<<k,k=o[k],k>K&&(K=k),V&=~le}if(V=K,V=Do()-V,V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*T7(V/1960))-V,10<V){s.timeoutHandle=Ox(yv.bind(null,s,yl,cc),V);break}yv(s,yl,cc);break;case 5:yv(s,yl,cc);break;default:throw Error(vi(329))}}}return Tl(s,Do()),s.callbackNode===_?wM.bind(null,s):null}function n2(s,o){var _=i0;return s.current.memoizedState.isDehydrated&&(Sv(s,o).flags|=256),s=Jy(s,o),s!==2&&(o=yl,yl=_,o!==null&&i2(o)),s}function i2(s){yl===null?yl=s:yl.push.apply(yl,s)}function A7(s){for(var o=s;;){if(o.flags&16384){var _=o.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var V=0;V<_.length;V++){var K=_[V],le=K.getSnapshot;K=K.value;try{if(!$u(le(),K))return!1}catch{return!1}}}if(_=o.child,o.subtreeFlags&16384&&_!==null)_.return=o,o=_;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function uh(s,o){for(o&=~pb,o&=~Tm,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var _=31-Ju(o),V=1<<_;s[_]=-1,o&=~V}}function xT(s){if(Ca&6)throw Error(vi(327));_d();var o=_y(s,0);if(!(o&1))return Tl(s,Do()),null;var _=Jy(s,o);if(s.tag!==0&&_===2){var V=Px(s);V!==0&&(o=V,_=n2(s,V))}if(_===1)throw _=L0,Sv(s,0),uh(s,o),Tl(s,Do()),_;if(_===6)throw Error(vi(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,yv(s,yl,cc),Tl(s,Do()),null}function yb(s,o){var _=Ca;Ca|=1;try{return s(o)}finally{Ca=_,Ca===0&&(Ud=Do()+500,mm&&Fh())}}function kv(s){ch!==null&&ch.tag===0&&!(Ca&6)&&_d();var o=Ca;Ca|=1;var _=yu.transition,V=Ua;try{if(yu.transition=null,Ua=1,s)return s()}finally{Ua=V,yu.transition=_,Ca=o,!(Ca&6)&&Fh()}}function mb(){Ul=Ed.current,eo(Ed)}function Sv(s,o){s.finishedWork=null,s.finishedLanes=0;var _=s.timeoutHandle;if(_!==-1&&(s.timeoutHandle=-1,qL(_)),Uo!==null)for(_=Uo.return;_!==null;){var V=_;switch($2(V),V.tag){case 1:V=V.type.childContextTypes,V!=null&&Oy();break;case 3:Bd(),eo(bl),eo(Bs),sb();break;case 5:ob(V);break;case 4:Bd();break;case 13:eo(go);break;case 19:eo(go);break;case 10:rb(V.type._context);break;case 22:case 23:mb()}_=_.return}if(ss=s,Uo=s=Ah(s.current,null),bs=Ul=o,Xo=0,L0=null,pb=Tm=_v=0,yl=i0=null,wv!==null){for(o=0;o<wv.length;o++)if(_=wv[o],V=_.interleaved,V!==null){_.interleaved=null;var K=V.next,le=_.pending;if(le!==null){var k=le.next;le.next=K,V.next=k}_.pending=V}wv=null}return s}function TM(s,o){do{var _=Uo;try{if(tb(),vy.current=Zy,Yy){for(var V=mo.memoizedState;V!==null;){var K=V.queue;K!==null&&(K.pending=null),V=V.next}Yy=!1}if(Dv=0,os=jo=mo=null,r0=!1,S0=0,db.current=null,_===null||_.return===null){Xo=1,L0=o,Uo=null;break}e:{var le=s,k=_.return,F=_,e=o;if(o=bs,F.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var h=e,E=F,n=E.tag;if(!(E.mode&1)&&(n===0||n===11||n===15)){var L=E.alternate;L?(E.updateQueue=L.updateQueue,E.memoizedState=L.memoizedState,E.lanes=L.lanes):(E.updateQueue=null,E.memoizedState=null)}var w=oT(k);if(w!==null){w.flags&=-257,sT(w,k,F,le,o),w.mode&1&&aT(le,h,o),o=w,e=h;var p=o.updateQueue;if(p===null){var m=new Set;m.add(e),o.updateQueue=m}else p.add(e);break e}else{if(!(o&1)){aT(le,h,o),xb();break e}e=Error(vi(426))}}else if(ao&&F.mode&1){var t=oT(k);if(t!==null){!(t.flags&65536)&&(t.flags|=256),sT(t,k,F,le,o),q2(Nd(e,F));break e}}le=e=Nd(e,F),Xo!==4&&(Xo=2),i0===null?i0=[le]:i0.push(le),le=k;do{switch(le.tag){case 3:le.flags|=65536,o&=-o,le.lanes|=o;var r=aM(le,e,o);$w(le,r);break e;case 1:F=e;var l=le.type,i=le.stateNode;if(!(le.flags&128)&&(typeof l.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(wh===null||!wh.has(i)))){le.flags|=65536,o&=-o,le.lanes|=o;var f=oM(le,F,o);$w(le,f);break e}}le=le.return}while(le!==null)}SM(_)}catch(v){o=v,Uo===_&&_!==null&&(Uo=_=_.return);continue}break}while(1)}function AM(){var s=jy.current;return jy.current=Zy,s===null?Zy:s}function xb(){(Xo===0||Xo===3||Xo===2)&&(Xo=4),ss===null||!(_v&268435455)&&!(Tm&268435455)||uh(ss,bs)}function Jy(s,o){var _=Ca;Ca|=2;var V=AM();(ss!==s||bs!==o)&&(cc=null,Sv(s,o));do try{M7();break}catch(K){TM(s,K)}while(1);if(tb(),Ca=_,jy.current=V,Uo!==null)throw Error(vi(261));return ss=null,bs=0,Xo}function M7(){for(;Uo!==null;)MM(Uo)}function S7(){for(;Uo!==null&&!JC();)MM(Uo)}function MM(s){var o=CM(s.alternate,s,Ul);s.memoizedProps=s.pendingProps,o===null?SM(s):Uo=o,db.current=null}function SM(s){var o=s;do{var _=o.alternate;if(s=o.return,o.flags&32768){if(_=m7(_,o),_!==null){_.flags&=32767,Uo=_;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Xo=6,Uo=null;return}}else if(_=y7(_,o,Ul),_!==null){Uo=_;return}if(o=o.sibling,o!==null){Uo=o;return}Uo=o=s}while(o!==null);Xo===0&&(Xo=5)}function yv(s,o,_){var V=Ua,K=yu.transition;try{yu.transition=null,Ua=1,E7(s,o,_,V)}finally{yu.transition=K,Ua=V}return null}function E7(s,o,_,V){do _d();while(ch!==null);if(Ca&6)throw Error(vi(327));_=s.finishedWork;var K=s.finishedLanes;if(_===null)return null;if(s.finishedWork=null,s.finishedLanes=0,_===s.current)throw Error(vi(177));s.callbackNode=null,s.callbackPriority=0;var le=_.lanes|_.childLanes;if(oL(s,le),s===ss&&(Uo=ss=null,bs=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||Hg||(Hg=!0,LM(Dy,function(){return _d(),null})),le=(_.flags&15990)!==0,_.subtreeFlags&15990||le){le=yu.transition,yu.transition=null;var k=Ua;Ua=1;var F=Ca;Ca|=4,db.current=null,b7(s,_),xM(_,s),ZL(Fx),ky=!!Ix,Fx=Ix=null,s.current=_,w7(_),QC(),Ca=F,Ua=k,yu.transition=le}else s.current=_;if(Hg&&(Hg=!1,ch=s,Ky=K),le=s.pendingLanes,le===0&&(wh=null),eL(_.stateNode),Tl(s,Do()),o!==null)for(V=s.onRecoverableError,_=0;_<o.length;_++)K=o[_],V(K.value,{componentStack:K.stack,digest:K.digest});if(Xy)throw Xy=!1,s=t2,t2=null,s;return Ky&1&&s.tag!==0&&_d(),le=s.pendingLanes,le&1?s===r2?a0++:(a0=0,r2=s):a0=0,Fh(),null}function _d(){if(ch!==null){var s=i4(Ky),o=yu.transition,_=Ua;try{if(yu.transition=null,Ua=16>s?16:s,ch===null)var V=!1;else{if(s=ch,ch=null,Ky=0,Ca&6)throw Error(vi(331));var K=Ca;for(Ca|=4,Ii=s.current;Ii!==null;){var le=Ii,k=le.child;if(Ii.flags&16){var F=le.deletions;if(F!==null){for(var e=0;e<F.length;e++){var h=F[e];for(Ii=h;Ii!==null;){var E=Ii;switch(E.tag){case 0:case 11:case 15:n0(8,E,le)}var n=E.child;if(n!==null)n.return=E,Ii=n;else for(;Ii!==null;){E=Ii;var L=E.sibling,w=E.return;if(gM(E),E===h){Ii=null;break}if(L!==null){L.return=w,Ii=L;break}Ii=w}}}var p=le.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var t=m.sibling;m.sibling=null,m=t}while(m!==null)}}Ii=le}}if(le.subtreeFlags&2064&&k!==null)k.return=le,Ii=k;else e:for(;Ii!==null;){if(le=Ii,le.flags&2048)switch(le.tag){case 0:case 11:case 15:n0(9,le,le.return)}var r=le.sibling;if(r!==null){r.return=le.return,Ii=r;break e}Ii=le.return}}var l=s.current;for(Ii=l;Ii!==null;){k=Ii;var i=k.child;if(k.subtreeFlags&2064&&i!==null)i.return=k,Ii=i;else e:for(k=l;Ii!==null;){if(F=Ii,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:wm(9,F)}}catch(v){Mo(F,F.return,v)}if(F===k){Ii=null;break e}var f=F.sibling;if(f!==null){f.return=F.return,Ii=f;break e}Ii=F.return}}if(Ca=K,Fh(),Rf&&typeof Rf.onPostCommitFiberRoot=="function")try{Rf.onPostCommitFiberRoot(vm,s)}catch{}V=!0}return V}finally{Ua=_,yu.transition=o}}return!1}function bT(s,o,_){o=Nd(_,o),o=aM(s,o,1),s=bh(s,o,1),o=qs(),s!==null&&(B0(s,1,o),Tl(s,o))}function Mo(s,o,_){if(s.tag===3)bT(s,s,_);else for(;o!==null;){if(o.tag===3){bT(o,s,_);break}else if(o.tag===1){var V=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(wh===null||!wh.has(V))){s=Nd(_,s),s=oM(o,s,1),o=bh(o,s,1),s=qs(),o!==null&&(B0(o,1,s),Tl(o,s));break}}o=o.return}}function C7(s,o,_){var V=s.pingCache;V!==null&&V.delete(o),o=qs(),s.pingedLanes|=s.suspendedLanes&_,ss===s&&(bs&_)===_&&(Xo===4||Xo===3&&(bs&130023424)===bs&&500>Do()-gb?Sv(s,0):pb|=_),Tl(s,o)}function EM(s,o){o===0&&(s.mode&1?(o=Dg,Dg<<=1,!(Dg&130023424)&&(Dg=4194304)):o=1);var _=qs();s=wc(s,o),s!==null&&(B0(s,o,_),Tl(s,_))}function L7(s){var o=s.memoizedState,_=0;o!==null&&(_=o.retryLane),EM(s,_)}function P7(s,o){var _=0;switch(s.tag){case 13:var V=s.stateNode,K=s.memoizedState;K!==null&&(_=K.retryLane);break;case 19:V=s.stateNode;break;default:throw Error(vi(314))}V!==null&&V.delete(o),EM(s,_)}var CM;CM=function(s,o,_){if(s!==null)if(s.memoizedProps!==o.pendingProps||bl.current)xl=!0;else{if(!(s.lanes&_)&&!(o.flags&128))return xl=!1,g7(s,o,_);xl=!!(s.flags&131072)}else xl=!1,ao&&o.flags&1048576&&R4(o,Uy,o.index);switch(o.lanes=0,o.tag){case 2:var V=o.type;py(s,o),s=o.pendingProps;var K=Fd(o,Bs.current);Dd(o,_),K=ub(null,o,V,s,K,_);var le=fb();return o.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,wl(V)?(le=!0,By(o)):le=!1,o.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,ib(o),K.updater=xm,o.stateNode=K,K._reactInternals=o,Gx(o,V,s,_),o=jx(null,o,V,!0,le,_)):(o.tag=0,ao&&le&&Q2(o),$s(null,o,K,_),o=o.child),o;case 16:V=o.elementType;e:{switch(py(s,o),s=o.pendingProps,K=V._init,V=K(V._payload),o.type=V,K=o.tag=D7(V),s=Yu(V,s),K){case 0:o=Zx(null,o,V,s,_);break e;case 1:o=fT(null,o,V,s,_);break e;case 11:o=lT(null,o,V,s,_);break e;case 14:o=uT(null,o,V,Yu(V.type,s),_);break e}throw Error(vi(306,V,""))}return o;case 0:return V=o.type,K=o.pendingProps,K=o.elementType===V?K:Yu(V,K),Zx(s,o,V,K,_);case 1:return V=o.type,K=o.pendingProps,K=o.elementType===V?K:Yu(V,K),fT(s,o,V,K,_);case 3:e:{if(fM(o),s===null)throw Error(vi(387));V=o.pendingProps,le=o.memoizedState,K=le.element,I4(s,o),Wy(o,V,null,_);var k=o.memoizedState;if(V=k.element,le.isDehydrated)if(le={element:V,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=le,o.memoizedState=le,o.flags&256){K=Nd(Error(vi(423)),o),o=cT(s,o,V,_,K);break e}else if(V!==K){K=Nd(Error(vi(424)),o),o=cT(s,o,V,_,K);break e}else for(Hl=xh(o.stateNode.containerInfo.firstChild),Vl=o,ao=!0,Xu=null,_=B4(o,null,V,_),o.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(zd(),V===K){o=Tc(s,o,_);break e}$s(s,o,V,_)}o=o.child}return o;case 5:return N4(o),s===null&&Hx(o),V=o.type,K=o.pendingProps,le=s!==null?s.memoizedProps:null,k=K.children,zx(V,K)?k=null:le!==null&&zx(V,le)&&(o.flags|=32),uM(s,o),$s(s,o,k,_),o.child;case 6:return s===null&&Hx(o),null;case 13:return cM(s,o,_);case 4:return ab(o,o.stateNode.containerInfo),V=o.pendingProps,s===null?o.child=Od(o,null,V,_):$s(s,o,V,_),o.child;case 11:return V=o.type,K=o.pendingProps,K=o.elementType===V?K:Yu(V,K),lT(s,o,V,K,_);case 7:return $s(s,o,o.pendingProps,_),o.child;case 8:return $s(s,o,o.pendingProps.children,_),o.child;case 12:return $s(s,o,o.pendingProps.children,_),o.child;case 10:e:{if(V=o.type._context,K=o.pendingProps,le=o.memoizedProps,k=K.value,Ka(Hy,V._currentValue),V._currentValue=k,le!==null)if($u(le.value,k)){if(le.children===K.children&&!bl.current){o=Tc(s,o,_);break e}}else for(le=o.child,le!==null&&(le.return=o);le!==null;){var F=le.dependencies;if(F!==null){k=le.child;for(var e=F.firstContext;e!==null;){if(e.context===V){if(le.tag===1){e=yc(-1,_&-_),e.tag=2;var h=le.updateQueue;if(h!==null){h=h.shared;var E=h.pending;E===null?e.next=e:(e.next=E.next,E.next=e),h.pending=e}}le.lanes|=_,e=le.alternate,e!==null&&(e.lanes|=_),Vx(le.return,_,o),F.lanes|=_;break}e=e.next}}else if(le.tag===10)k=le.type===o.type?null:le.child;else if(le.tag===18){if(k=le.return,k===null)throw Error(vi(341));k.lanes|=_,F=k.alternate,F!==null&&(F.lanes|=_),Vx(k,_,o),k=le.sibling}else k=le.child;if(k!==null)k.return=le;else for(k=le;k!==null;){if(k===o){k=null;break}if(le=k.sibling,le!==null){le.return=k.return,k=le;break}k=k.return}le=k}$s(s,o,K.children,_),o=o.child}return o;case 9:return K=o.type,V=o.pendingProps.children,Dd(o,_),K=mu(K),V=V(K),o.flags|=1,$s(s,o,V,_),o.child;case 14:return V=o.type,K=Yu(V,o.pendingProps),K=Yu(V.type,K),uT(s,o,V,K,_);case 15:return sM(s,o,o.type,o.pendingProps,_);case 17:return V=o.type,K=o.pendingProps,K=o.elementType===V?K:Yu(V,K),py(s,o),o.tag=1,wl(V)?(s=!0,By(o)):s=!1,Dd(o,_),z4(o,V,K),Gx(o,V,K,_),jx(null,o,V,!0,s,_);case 19:return hM(s,o,_);case 22:return lM(s,o,_)}throw Error(vi(156,o.tag))};function LM(s,o){return e4(s,o)}function R7(s,o,_,V){this.tag=s,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gu(s,o,_,V){return new R7(s,o,_,V)}function bb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function D7(s){if(typeof s=="function")return bb(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N2)return 11;if(s===U2)return 14}return 2}function Ah(s,o){var _=s.alternate;return _===null?(_=gu(s.tag,o,s.key,s.mode),_.elementType=s.elementType,_.type=s.type,_.stateNode=s.stateNode,_.alternate=s,s.alternate=_):(_.pendingProps=o,_.type=s.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=s.flags&14680064,_.childLanes=s.childLanes,_.lanes=s.lanes,_.child=s.child,_.memoizedProps=s.memoizedProps,_.memoizedState=s.memoizedState,_.updateQueue=s.updateQueue,o=s.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},_.sibling=s.sibling,_.index=s.index,_.ref=s.ref,_}function my(s,o,_,V,K,le){var k=2;if(V=s,typeof s=="function")bb(s)&&(k=1);else if(typeof s=="string")k=5;else e:switch(s){case gd:return Ev(_.children,K,le,o);case B2:k=8,K|=8;break;case dx:return s=gu(12,_,o,K|2),s.elementType=dx,s.lanes=le,s;case px:return s=gu(13,_,o,K),s.elementType=px,s.lanes=le,s;case gx:return s=gu(19,_,o,K),s.elementType=gx,s.lanes=le,s;case OA:return Am(_,K,le,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case FA:k=10;break e;case zA:k=9;break e;case N2:k=11;break e;case U2:k=14;break e;case oh:k=16,V=null;break e}throw Error(vi(130,s==null?s:typeof s,""))}return o=gu(k,_,o,K),o.elementType=s,o.type=V,o.lanes=le,o}function Ev(s,o,_,V){return s=gu(7,s,V,o),s.lanes=_,s}function Am(s,o,_,V){return s=gu(22,s,V,o),s.elementType=OA,s.lanes=_,s.stateNode={isHidden:!1},s}function Z1(s,o,_){return s=gu(6,s,null,o),s.lanes=_,s}function j1(s,o,_){return o=gu(4,s.children!==null?s.children:[],s.key,o),o.lanes=_,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function _7(s,o,_,V,K){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C1(0),this.expirationTimes=C1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C1(0),this.identifierPrefix=V,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function wb(s,o,_,V,K,le,k,F,e){return s=new _7(s,o,_,F,e),o===1?(o=1,le===!0&&(o|=8)):o=0,le=gu(3,null,null,o),s.current=le,le.stateNode=s,le.memoizedState={element:V,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},ib(le),s}function k7(s,o,_){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pd,key:V==null?null:""+V,children:s,containerInfo:o,implementation:_}}function PM(s){if(!s)return Ph;s=s._reactInternals;e:{if(Bv(s)!==s||s.tag!==1)throw Error(vi(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(wl(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(vi(171))}if(s.tag===1){var _=s.type;if(wl(_))return L4(s,_,o)}return o}function RM(s,o,_,V,K,le,k,F,e){return s=wb(_,V,!0,s,K,le,k,F,e),s.context=PM(null),_=s.current,V=qs(),K=Th(_),le=yc(V,K),le.callback=o??null,bh(_,le,K),s.current.lanes=K,B0(s,K,V),Tl(s,V),s}function Mm(s,o,_,V){var K=o.current,le=qs(),k=Th(K);return _=PM(_),o.context===null?o.context=_:o.pendingContext=_,o=yc(le,k),o.payload={element:s},V=V===void 0?null:V,V!==null&&(o.callback=V),s=bh(K,o,k),s!==null&&(Qu(s,K,k,le),hy(s,K,k)),k}function Qy(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function wT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var _=s.retryLane;s.retryLane=_!==0&&_<o?_:o}}function Tb(s,o){wT(s,o),(s=s.alternate)&&wT(s,o)}function I7(){return null}var DM=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ab(s){this._internalRoot=s}Sm.prototype.render=Ab.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(vi(409));Mm(s,o,null,null)};Sm.prototype.unmount=Ab.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;kv(function(){Mm(null,s,null,null)}),o[bc]=null}};function Sm(s){this._internalRoot=s}Sm.prototype.unstable_scheduleHydration=function(s){if(s){var o=s4();s={blockedOn:null,target:s,priority:o};for(var _=0;_<lh.length&&o!==0&&o<lh[_].priority;_++);lh.splice(_,0,s),_===0&&u4(s)}};function Mb(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Em(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function TT(){}function F7(s,o,_,V,K){if(K){if(typeof V=="function"){var le=V;V=function(){var h=Qy(k);le.call(h)}}var k=RM(o,V,s,0,null,!1,!1,"",TT);return s._reactRootContainer=k,s[bc]=k.current,b0(s.nodeType===8?s.parentNode:s),kv(),k}for(;K=s.lastChild;)s.removeChild(K);if(typeof V=="function"){var F=V;V=function(){var h=Qy(e);F.call(h)}}var e=wb(s,0,!1,null,null,!1,!1,"",TT);return s._reactRootContainer=e,s[bc]=e.current,b0(s.nodeType===8?s.parentNode:s),kv(function(){Mm(o,e,_,V)}),e}function Cm(s,o,_,V,K){var le=_._reactRootContainer;if(le){var k=le;if(typeof K=="function"){var F=K;K=function(){var e=Qy(k);F.call(e)}}Mm(o,k,s,K)}else k=F7(_,o,s,K,V);return Qy(k)}a4=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var _=Vp(o.pendingLanes);_!==0&&(W2(o,_|1),Tl(o,Do()),!(Ca&6)&&(Ud=Do()+500,Fh()))}break;case 13:kv(function(){var V=wc(s,1);if(V!==null){var K=qs();Qu(V,s,1,K)}}),Tb(s,1)}};G2=function(s){if(s.tag===13){var o=wc(s,134217728);if(o!==null){var _=qs();Qu(o,s,134217728,_)}Tb(s,134217728)}};o4=function(s){if(s.tag===13){var o=Th(s),_=wc(s,o);if(_!==null){var V=qs();Qu(_,s,o,V)}Tb(s,o)}};s4=function(){return Ua};l4=function(s,o){var _=Ua;try{return Ua=s,o()}finally{Ua=_}};Ex=function(s,o,_){switch(o){case"input":if(xx(s,_),o=_.name,_.type==="radio"&&o!=null){for(_=s;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<_.length;o++){var V=_[o];if(V!==s&&V.form===s.form){var K=ym(V);if(!K)throw Error(vi(90));NA(V),xx(V,K)}}}break;case"textarea":HA(s,_);break;case"select":o=_.value,o!=null&&Cd(s,!!_.multiple,o,!1)}};XA=yb;KA=kv;var z7={usingClientEntryPoint:!1,Events:[U0,bd,ym,ZA,jA,yb]},kp={findFiberByHostInstance:bv,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},O7={bundleType:kp.bundleType,version:kp.version,rendererPackageName:kp.rendererPackageName,rendererConfig:kp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ac.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=$A(s),s===null?null:s.stateNode},findFiberByHostInstance:kp.findFiberByHostInstance||I7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vg.isDisabled&&Vg.supportsFiber)try{vm=Vg.inject(O7),Rf=Vg}catch{}}Zl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z7;Zl.createPortal=function(s,o){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mb(o))throw Error(vi(200));return k7(s,o,null,_)};Zl.createRoot=function(s,o){if(!Mb(s))throw Error(vi(299));var _=!1,V="",K=DM;return o!=null&&(o.unstable_strictMode===!0&&(_=!0),o.identifierPrefix!==void 0&&(V=o.identifierPrefix),o.onRecoverableError!==void 0&&(K=o.onRecoverableError)),o=wb(s,1,!1,null,null,_,!1,V,K),s[bc]=o.current,b0(s.nodeType===8?s.parentNode:s),new Ab(o)};Zl.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(vi(188)):(s=Object.keys(s).join(","),Error(vi(268,s)));return s=$A(o),s=s===null?null:s.stateNode,s};Zl.flushSync=function(s){return kv(s)};Zl.hydrate=function(s,o,_){if(!Em(o))throw Error(vi(200));return Cm(null,s,o,!0,_)};Zl.hydrateRoot=function(s,o,_){if(!Mb(s))throw Error(vi(405));var V=_!=null&&_.hydratedSources||null,K=!1,le="",k=DM;if(_!=null&&(_.unstable_strictMode===!0&&(K=!0),_.identifierPrefix!==void 0&&(le=_.identifierPrefix),_.onRecoverableError!==void 0&&(k=_.onRecoverableError)),o=RM(o,null,s,1,_??null,K,!1,le,k),s[bc]=o.current,b0(s),V)for(s=0;s<V.length;s++)_=V[s],K=_._getVersion,K=K(_._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[_,K]:o.mutableSourceEagerHydrationData.push(_,K);return new Sm(o)};Zl.render=function(s,o,_){if(!Em(o))throw Error(vi(200));return Cm(null,s,o,!1,_)};Zl.unmountComponentAtNode=function(s){if(!Em(s))throw Error(vi(40));return s._reactRootContainer?(kv(function(){Cm(null,null,s,!1,function(){s._reactRootContainer=null,s[bc]=null})}),!0):!1};Zl.unstable_batchedUpdates=yb;Zl.unstable_renderSubtreeIntoContainer=function(s,o,_,V){if(!Em(_))throw Error(vi(200));if(s==null||s._reactInternals===void 0)throw Error(vi(38));return Cm(s,o,_,!1,V)};Zl.version="18.2.0-next-9e3b772b8-20220608";(function(s){function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(_){console.error(_)}}o(),s.exports=Zl})(IC);var AT=cx;fx.createRoot=AT.createRoot,fx.hydrateRoot=AT.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P0(){return P0=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var V in _)Object.prototype.hasOwnProperty.call(_,V)&&(s[V]=_[V])}return s},P0.apply(this,arguments)}var hh;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(hh||(hh={}));const MT="popstate";function B7(s){s===void 0&&(s={});function o(V,K){let{pathname:le,search:k,hash:F}=V.location;return a2("",{pathname:le,search:k,hash:F},K.state&&K.state.usr||null,K.state&&K.state.key||"default")}function _(V,K){return typeof K=="string"?K:$y(K)}return U7(o,_,null,s)}function Ko(s,o){if(s===!1||s===null||typeof s>"u")throw new Error(o)}function Sb(s,o){if(!s){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function N7(){return Math.random().toString(36).substr(2,8)}function ST(s,o){return{usr:s.state,key:s.key,idx:o}}function a2(s,o,_,V){return _===void 0&&(_=null),P0({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof o=="string"?Qd(o):o,{state:_,key:o&&o.key||V||N7()})}function $y(s){let{pathname:o="/",search:_="",hash:V=""}=s;return _&&_!=="?"&&(o+=_.charAt(0)==="?"?_:"?"+_),V&&V!=="#"&&(o+=V.charAt(0)==="#"?V:"#"+V),o}function Qd(s){let o={};if(s){let _=s.indexOf("#");_>=0&&(o.hash=s.substr(_),s=s.substr(0,_));let V=s.indexOf("?");V>=0&&(o.search=s.substr(V),s=s.substr(0,V)),s&&(o.pathname=s)}return o}function U7(s,o,_,V){V===void 0&&(V={});let{window:K=document.defaultView,v5Compat:le=!1}=V,k=K.history,F=hh.Pop,e=null,h=E();h==null&&(h=0,k.replaceState(P0({},k.state,{idx:h}),""));function E(){return(k.state||{idx:null}).idx}function n(){F=hh.Pop;let t=E(),r=t==null?null:t-h;h=t,e&&e({action:F,location:m.location,delta:r})}function L(t,r){F=hh.Push;let l=a2(m.location,t,r);_&&_(l,t),h=E()+1;let i=ST(l,h),f=m.createHref(l);try{k.pushState(i,"",f)}catch{K.location.assign(f)}le&&e&&e({action:F,location:m.location,delta:1})}function w(t,r){F=hh.Replace;let l=a2(m.location,t,r);_&&_(l,t),h=E();let i=ST(l,h),f=m.createHref(l);k.replaceState(i,"",f),le&&e&&e({action:F,location:m.location,delta:0})}function p(t){let r=K.location.origin!=="null"?K.location.origin:K.location.href,l=typeof t=="string"?t:$y(t);return Ko(r,"No window.location.(origin|href) available to create URL for href: "+l),new URL(l,r)}let m={get action(){return F},get location(){return s(K,k)},listen(t){if(e)throw new Error("A history only accepts one active listener");return K.addEventListener(MT,n),e=t,()=>{K.removeEventListener(MT,n),e=null}},createHref(t){return o(K,t)},createURL:p,encodeLocation(t){let r=p(t);return{pathname:r.pathname,search:r.search,hash:r.hash}},push:L,replace:w,go(t){return k.go(t)}};return m}var ET;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(ET||(ET={}));function H7(s,o,_){_===void 0&&(_="/");let V=typeof o=="string"?Qd(o):o,K=Eb(V.pathname||"/",_);if(K==null)return null;let le=_M(s);V7(le);let k=null;for(let F=0;k==null&&F<le.length;++F)k=Q7(le[F],eP(K));return k}function _M(s,o,_,V){o===void 0&&(o=[]),_===void 0&&(_=[]),V===void 0&&(V="");let K=(le,k,F)=>{let e={relativePath:F===void 0?le.path||"":F,caseSensitive:le.caseSensitive===!0,childrenIndex:k,route:le};e.relativePath.startsWith("/")&&(Ko(e.relativePath.startsWith(V),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+V+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(V.length));let h=Mh([V,e.relativePath]),E=_.concat(e);le.children&&le.children.length>0&&(Ko(le.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),_M(le.children,o,E,h)),!(le.path==null&&!le.index)&&o.push({path:h,score:K7(h,le.index),routesMeta:E})};return s.forEach((le,k)=>{var F;if(le.path===""||!((F=le.path)!=null&&F.includes("?")))K(le,k);else for(let e of kM(le.path))K(le,k,e)}),o}function kM(s){let o=s.split("/");if(o.length===0)return[];let[_,...V]=o,K=_.endsWith("?"),le=_.replace(/\?$/,"");if(V.length===0)return K?[le,""]:[le];let k=kM(V.join("/")),F=[];return F.push(...k.map(e=>e===""?le:[le,e].join("/"))),K&&F.push(...k),F.map(e=>s.startsWith("/")&&e===""?"/":e)}function V7(s){s.sort((o,_)=>o.score!==_.score?_.score-o.score:J7(o.routesMeta.map(V=>V.childrenIndex),_.routesMeta.map(V=>V.childrenIndex)))}const W7=/^:\w+$/,G7=3,Y7=2,Z7=1,j7=10,X7=-2,CT=s=>s==="*";function K7(s,o){let _=s.split("/"),V=_.length;return _.some(CT)&&(V+=X7),o&&(V+=Y7),_.filter(K=>!CT(K)).reduce((K,le)=>K+(W7.test(le)?G7:le===""?Z7:j7),V)}function J7(s,o){return s.length===o.length&&s.slice(0,-1).every((V,K)=>V===o[K])?s[s.length-1]-o[o.length-1]:0}function Q7(s,o){let{routesMeta:_}=s,V={},K="/",le=[];for(let k=0;k<_.length;++k){let F=_[k],e=k===_.length-1,h=K==="/"?o:o.slice(K.length)||"/",E=$7({path:F.relativePath,caseSensitive:F.caseSensitive,end:e},h);if(!E)return null;Object.assign(V,E.params);let n=F.route;le.push({params:V,pathname:Mh([K,E.pathname]),pathnameBase:iP(Mh([K,E.pathnameBase])),route:n}),E.pathnameBase!=="/"&&(K=Mh([K,E.pathnameBase]))}return le}function $7(s,o){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[_,V]=q7(s.path,s.caseSensitive,s.end),K=o.match(_);if(!K)return null;let le=K[0],k=le.replace(/(.)\/+$/,"$1"),F=K.slice(1);return{params:V.reduce((h,E,n)=>{if(E==="*"){let L=F[n]||"";k=le.slice(0,le.length-L.length).replace(/(.)\/+$/,"$1")}return h[E]=tP(F[n]||"",E),h},{}),pathname:le,pathnameBase:k,pattern:s}}function q7(s,o,_){o===void 0&&(o=!1),_===void 0&&(_=!0),Sb(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let V=[],K="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(k,F)=>(V.push(F),"/([^\\/]+)"));return s.endsWith("*")?(V.push("*"),K+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):_?K+="\\/*$":s!==""&&s!=="/"&&(K+="(?:(?=\\/|$))"),[new RegExp(K,o?void 0:"i"),V]}function eP(s){try{return decodeURI(s)}catch(o){return Sb(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),s}}function tP(s,o){try{return decodeURIComponent(s)}catch(_){return Sb(!1,'The value for the URL param "'+o+'" will not be decoded because'+(' the string "'+s+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+_+").")),s}}function Eb(s,o){if(o==="/")return s;if(!s.toLowerCase().startsWith(o.toLowerCase()))return null;let _=o.endsWith("/")?o.length-1:o.length,V=s.charAt(_);return V&&V!=="/"?null:s.slice(_)||"/"}function rP(s,o){o===void 0&&(o="/");let{pathname:_,search:V="",hash:K=""}=typeof s=="string"?Qd(s):s;return{pathname:_?_.startsWith("/")?_:nP(_,o):o,search:aP(V),hash:oP(K)}}function nP(s,o){let _=o.replace(/\/+$/,"").split("/");return s.split("/").forEach(K=>{K===".."?_.length>1&&_.pop():K!=="."&&_.push(K)}),_.length>1?_.join("/"):"/"}function X1(s,o,_,V){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(V)+"].  Please separate it out to the ")+("`to."+_+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IM(s){return s.filter((o,_)=>_===0||o.route.path&&o.route.path.length>0)}function FM(s,o,_,V){V===void 0&&(V=!1);let K;typeof s=="string"?K=Qd(s):(K=P0({},s),Ko(!K.pathname||!K.pathname.includes("?"),X1("?","pathname","search",K)),Ko(!K.pathname||!K.pathname.includes("#"),X1("#","pathname","hash",K)),Ko(!K.search||!K.search.includes("#"),X1("#","search","hash",K)));let le=s===""||K.pathname==="",k=le?"/":K.pathname,F;if(V||k==null)F=_;else{let n=o.length-1;if(k.startsWith("..")){let L=k.split("/");for(;L[0]==="..";)L.shift(),n-=1;K.pathname=L.join("/")}F=n>=0?o[n]:"/"}let e=rP(K,F),h=k&&k!=="/"&&k.endsWith("/"),E=(le||k===".")&&_.endsWith("/");return!e.pathname.endsWith("/")&&(h||E)&&(e.pathname+="/"),e}const Mh=s=>s.join("/").replace(/\/\/+/g,"/"),iP=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),aP=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,oP=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function sP(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lP(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}const uP=typeof Object.is=="function"?Object.is:lP,{useState:fP,useEffect:cP,useLayoutEffect:hP,useDebugValue:vP}=ux;function dP(s,o,_){const V=o(),[{inst:K},le]=fP({inst:{value:V,getSnapshot:o}});return hP(()=>{K.value=V,K.getSnapshot=o,K1(K)&&le({inst:K})},[s,V,o]),cP(()=>(K1(K)&&le({inst:K}),s(()=>{K1(K)&&le({inst:K})})),[s]),vP(V),V}function K1(s){const o=s.getSnapshot,_=s.value;try{const V=o();return!uP(_,V)}catch{return!0}}function pP(s,o,_){return o()}const gP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yP=!gP,mP=yP?pP:dP;"useSyncExternalStore"in ux&&(s=>s.useSyncExternalStore)(ux);const zM=bi.createContext(null),OM=bi.createContext(null),V0=bi.createContext(null),Lm=bi.createContext(null),$d=bi.createContext({outlet:null,matches:[]}),BM=bi.createContext(null);function o2(){return o2=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var V in _)Object.prototype.hasOwnProperty.call(_,V)&&(s[V]=_[V])}return s},o2.apply(this,arguments)}function xP(s,o){let{relative:_}=o===void 0?{}:o;W0()||Ko(!1);let{basename:V,navigator:K}=bi.useContext(V0),{hash:le,pathname:k,search:F}=NM(s,{relative:_}),e=k;return V!=="/"&&(e=k==="/"?V:Mh([V,k])),K.createHref({pathname:e,search:F,hash:le})}function W0(){return bi.useContext(Lm)!=null}function Pm(){return W0()||Ko(!1),bi.useContext(Lm).location}function Rm(){W0()||Ko(!1);let{basename:s,navigator:o}=bi.useContext(V0),{matches:_}=bi.useContext($d),{pathname:V}=Pm(),K=JSON.stringify(IM(_).map(F=>F.pathnameBase)),le=bi.useRef(!1);return bi.useEffect(()=>{le.current=!0}),bi.useCallback(function(F,e){if(e===void 0&&(e={}),!le.current)return;if(typeof F=="number"){o.go(F);return}let h=FM(F,JSON.parse(K),V,e.relative==="path");s!=="/"&&(h.pathname=h.pathname==="/"?s:Mh([s,h.pathname])),(e.replace?o.replace:o.push)(h,e.state,e)},[s,o,K,V])}function NM(s,o){let{relative:_}=o===void 0?{}:o,{matches:V}=bi.useContext($d),{pathname:K}=Pm(),le=JSON.stringify(IM(V).map(k=>k.pathnameBase));return bi.useMemo(()=>FM(s,JSON.parse(le),K,_==="path"),[s,le,K,_])}function bP(s,o){W0()||Ko(!1);let{navigator:_}=bi.useContext(V0),V=bi.useContext(OM),{matches:K}=bi.useContext($d),le=K[K.length-1],k=le?le.params:{};le&&le.pathname;let F=le?le.pathnameBase:"/";le&&le.route;let e=Pm(),h;if(o){var E;let m=typeof o=="string"?Qd(o):o;F==="/"||(E=m.pathname)!=null&&E.startsWith(F)||Ko(!1),h=m}else h=e;let n=h.pathname||"/",L=F==="/"?n:n.slice(F.length)||"/",w=H7(s,{pathname:L}),p=MP(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},k,m.params),pathname:Mh([F,_.encodeLocation?_.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?F:Mh([F,_.encodeLocation?_.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),K,V||void 0);return o&&p?bi.createElement(Lm.Provider,{value:{location:o2({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:hh.Pop}},p):p}function wP(){let s=LP(),o=sP(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),_=s instanceof Error?s.stack:null,K={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},le=null;return bi.createElement(bi.Fragment,null,bi.createElement("h2",null,"Unexpected Application Error!"),bi.createElement("h3",{style:{fontStyle:"italic"}},o),_?bi.createElement("pre",{style:K},_):null,le)}class TP extends bi.Component{constructor(o){super(o),this.state={location:o.location,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,_){return _.location!==o.location?{error:o.error,location:o.location}:{error:o.error||_.error,location:_.location}}componentDidCatch(o,_){console.error("React Router caught the following error during render",o,_)}render(){return this.state.error?bi.createElement($d.Provider,{value:this.props.routeContext},bi.createElement(BM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AP(s){let{routeContext:o,match:_,children:V}=s,K=bi.useContext(zM);return K&&K.static&&K.staticContext&&(_.route.errorElement||_.route.ErrorBoundary)&&(K.staticContext._deepestRenderedBoundaryId=_.route.id),bi.createElement($d.Provider,{value:o},V)}function MP(s,o,_){if(o===void 0&&(o=[]),s==null)if(_!=null&&_.errors)s=_.matches;else return null;let V=s,K=_==null?void 0:_.errors;if(K!=null){let le=V.findIndex(k=>k.route.id&&(K==null?void 0:K[k.route.id]));le>=0||Ko(!1),V=V.slice(0,Math.min(V.length,le+1))}return V.reduceRight((le,k,F)=>{let e=k.route.id?K==null?void 0:K[k.route.id]:null,h=null;_&&(k.route.ErrorBoundary?h=bi.createElement(k.route.ErrorBoundary,null):k.route.errorElement?h=k.route.errorElement:h=bi.createElement(wP,null));let E=o.concat(V.slice(0,F+1)),n=()=>{let L=le;return e?L=h:k.route.Component?L=bi.createElement(k.route.Component,null):k.route.element&&(L=k.route.element),bi.createElement(AP,{match:k,routeContext:{outlet:le,matches:E},children:L})};return _&&(k.route.ErrorBoundary||k.route.errorElement||F===0)?bi.createElement(TP,{location:_.location,component:h,error:e,children:n(),routeContext:{outlet:null,matches:E}}):n()},null)}var LT;(function(s){s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator"})(LT||(LT={}));var qy;(function(s){s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator"})(qy||(qy={}));function SP(s){let o=bi.useContext(OM);return o||Ko(!1),o}function EP(s){let o=bi.useContext($d);return o||Ko(!1),o}function CP(s){let o=EP(),_=o.matches[o.matches.length-1];return _.route.id||Ko(!1),_.route.id}function LP(){var s;let o=bi.useContext(BM),_=SP(qy.UseRouteError),V=CP(qy.UseRouteError);return o||((s=_.errors)==null?void 0:s[V])}function dd(s){Ko(!1)}function PP(s){let{basename:o="/",children:_=null,location:V,navigationType:K=hh.Pop,navigator:le,static:k=!1}=s;W0()&&Ko(!1);let F=o.replace(/^\/*/,"/"),e=bi.useMemo(()=>({basename:F,navigator:le,static:k}),[F,le,k]);typeof V=="string"&&(V=Qd(V));let{pathname:h="/",search:E="",hash:n="",state:L=null,key:w="default"}=V,p=bi.useMemo(()=>{let m=Eb(h,F);return m==null?null:{location:{pathname:m,search:E,hash:n,state:L,key:w},navigationType:K}},[F,h,E,n,L,w,K]);return p==null?null:bi.createElement(V0.Provider,{value:e},bi.createElement(Lm.Provider,{children:_,value:p}))}function RP(s){let{children:o,location:_}=s,V=bi.useContext(zM),K=V&&!o?V.router.routes:s2(o);return bP(K,_)}var PT;(function(s){s[s.pending=0]="pending",s[s.success=1]="success",s[s.error=2]="error"})(PT||(PT={}));new Promise(()=>{});function s2(s,o){o===void 0&&(o=[]);let _=[];return bi.Children.forEach(s,(V,K)=>{if(!bi.isValidElement(V))return;if(V.type===bi.Fragment){_.push.apply(_,s2(V.props.children,o));return}V.type!==dd&&Ko(!1),!V.props.index||!V.props.children||Ko(!1);let le=[...o,K],k={id:V.props.id||le.join("-"),caseSensitive:V.props.caseSensitive,element:V.props.element,Component:V.props.Component,index:V.props.index,path:V.props.path,loader:V.props.loader,action:V.props.action,errorElement:V.props.errorElement,ErrorBoundary:V.props.ErrorBoundary,hasErrorBoundary:V.props.ErrorBoundary!=null||V.props.errorElement!=null,shouldRevalidate:V.props.shouldRevalidate,handle:V.props.handle,lazy:V.props.lazy};V.props.children&&(k.children=s2(V.props.children,le)),_.push(k)}),_}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function l2(){return l2=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var V in _)Object.prototype.hasOwnProperty.call(_,V)&&(s[V]=_[V])}return s},l2.apply(this,arguments)}function DP(s,o){if(s==null)return{};var _={},V=Object.keys(s),K,le;for(le=0;le<V.length;le++)K=V[le],!(o.indexOf(K)>=0)&&(_[K]=s[K]);return _}function _P(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function kP(s,o){return s.button===0&&(!o||o==="_self")&&!_P(s)}const IP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function FP(s){let{basename:o,children:_,window:V}=s,K=bi.useRef();K.current==null&&(K.current=B7({window:V,v5Compat:!0}));let le=K.current,[k,F]=bi.useState({action:le.action,location:le.location});return bi.useLayoutEffect(()=>le.listen(F),[le]),bi.createElement(PP,{basename:o,children:_,location:k.location,navigationType:k.action,navigator:le})}const zP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gp=bi.forwardRef(function(o,_){let{onClick:V,relative:K,reloadDocument:le,replace:k,state:F,target:e,to:h,preventScrollReset:E}=o,n=DP(o,IP),{basename:L}=bi.useContext(V0),w,p=!1;if(typeof h=="string"&&OP.test(h)&&(w=h,zP)){let l=new URL(window.location.href),i=h.startsWith("//")?new URL(l.protocol+h):new URL(h),f=Eb(i.pathname,L);i.origin===l.origin&&f!=null?h=f+i.search+i.hash:p=!0}let m=xP(h,{relative:K}),t=BP(h,{replace:k,state:F,target:e,preventScrollReset:E,relative:K});function r(l){V&&V(l),l.defaultPrevented||t(l)}return bi.createElement("a",l2({},n,{href:w||m,onClick:p||le?V:r,ref:_,target:e}))});var RT;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmitImpl="useSubmitImpl",s.UseFetcher="useFetcher"})(RT||(RT={}));var DT;(function(s){s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(DT||(DT={}));function BP(s,o){let{target:_,replace:V,state:K,preventScrollReset:le,relative:k}=o===void 0?{}:o,F=Rm(),e=Pm(),h=NM(s,{relative:k});return bi.useCallback(E=>{if(kP(E,_)){E.preventDefault();let n=V!==void 0?V:$y(e)===$y(h);F(s,{replace:n,state:K,preventScrollReset:le,relative:k})}},[e,F,h,V,K,_,s,le,k])}function UM(s,o){return function(){return s.apply(o,arguments)}}const{toString:HM}=Object.prototype,{getPrototypeOf:Cb}=Object,Lb=(s=>o=>{const _=HM.call(o);return s[_]||(s[_]=_.slice(8,-1).toLowerCase())})(Object.create(null)),Mc=s=>(s=s.toLowerCase(),o=>Lb(o)===s),Dm=s=>o=>typeof o===s,{isArray:qd}=Array,R0=Dm("undefined");function NP(s){return s!==null&&!R0(s)&&s.constructor!==null&&!R0(s.constructor)&&Rh(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const VM=Mc("ArrayBuffer");function UP(s){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(s):o=s&&s.buffer&&VM(s.buffer),o}const HP=Dm("string"),Rh=Dm("function"),WM=Dm("number"),Pb=s=>s!==null&&typeof s=="object",VP=s=>s===!0||s===!1,xy=s=>{if(Lb(s)!=="object")return!1;const o=Cb(s);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},WP=Mc("Date"),GP=Mc("File"),YP=Mc("Blob"),ZP=Mc("FileList"),jP=s=>Pb(s)&&Rh(s.pipe),XP=s=>{const o="[object FormData]";return s&&(typeof FormData=="function"&&s instanceof FormData||HM.call(s)===o||Rh(s.toString)&&s.toString()===o)},KP=Mc("URLSearchParams"),JP=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function G0(s,o,{allOwnKeys:_=!1}={}){if(s===null||typeof s>"u")return;let V,K;if(typeof s!="object"&&(s=[s]),qd(s))for(V=0,K=s.length;V<K;V++)o.call(null,s[V],V,s);else{const le=_?Object.getOwnPropertyNames(s):Object.keys(s),k=le.length;let F;for(V=0;V<k;V++)F=le[V],o.call(null,s[F],F,s)}}function GM(s,o){o=o.toLowerCase();const _=Object.keys(s);let V=_.length,K;for(;V-- >0;)if(K=_[V],o===K.toLowerCase())return K;return null}const YM=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ZM=s=>!R0(s)&&s!==YM;function u2(){const{caseless:s}=ZM(this)&&this||{},o={},_=(V,K)=>{const le=s&&GM(o,K)||K;xy(o[le])&&xy(V)?o[le]=u2(o[le],V):xy(V)?o[le]=u2({},V):qd(V)?o[le]=V.slice():o[le]=V};for(let V=0,K=arguments.length;V<K;V++)arguments[V]&&G0(arguments[V],_);return o}const QP=(s,o,_,{allOwnKeys:V}={})=>(G0(o,(K,le)=>{_&&Rh(K)?s[le]=UM(K,_):s[le]=K},{allOwnKeys:V}),s),$P=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),qP=(s,o,_,V)=>{s.prototype=Object.create(o.prototype,V),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:o.prototype}),_&&Object.assign(s.prototype,_)},e9=(s,o,_,V)=>{let K,le,k;const F={};if(o=o||{},s==null)return o;do{for(K=Object.getOwnPropertyNames(s),le=K.length;le-- >0;)k=K[le],(!V||V(k,s,o))&&!F[k]&&(o[k]=s[k],F[k]=!0);s=_!==!1&&Cb(s)}while(s&&(!_||_(s,o))&&s!==Object.prototype);return o},t9=(s,o,_)=>{s=String(s),(_===void 0||_>s.length)&&(_=s.length),_-=o.length;const V=s.indexOf(o,_);return V!==-1&&V===_},r9=s=>{if(!s)return null;if(qd(s))return s;let o=s.length;if(!WM(o))return null;const _=new Array(o);for(;o-- >0;)_[o]=s[o];return _},n9=(s=>o=>s&&o instanceof s)(typeof Uint8Array<"u"&&Cb(Uint8Array)),i9=(s,o)=>{const V=(s&&s[Symbol.iterator]).call(s);let K;for(;(K=V.next())&&!K.done;){const le=K.value;o.call(s,le[0],le[1])}},a9=(s,o)=>{let _;const V=[];for(;(_=s.exec(o))!==null;)V.push(_);return V},o9=Mc("HTMLFormElement"),s9=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(_,V,K){return V.toUpperCase()+K}),_T=(({hasOwnProperty:s})=>(o,_)=>s.call(o,_))(Object.prototype),l9=Mc("RegExp"),jM=(s,o)=>{const _=Object.getOwnPropertyDescriptors(s),V={};G0(_,(K,le)=>{o(K,le,s)!==!1&&(V[le]=K)}),Object.defineProperties(s,V)},u9=s=>{jM(s,(o,_)=>{if(Rh(s)&&["arguments","caller","callee"].indexOf(_)!==-1)return!1;const V=s[_];if(Rh(V)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+_+"'")})}})},f9=(s,o)=>{const _={},V=K=>{K.forEach(le=>{_[le]=!0})};return qd(s)?V(s):V(String(s).split(o)),_},c9=()=>{},h9=(s,o)=>(s=+s,Number.isFinite(s)?s:o),J1="abcdefghijklmnopqrstuvwxyz",kT="0123456789",XM={DIGIT:kT,ALPHA:J1,ALPHA_DIGIT:J1+J1.toUpperCase()+kT},v9=(s=16,o=XM.ALPHA_DIGIT)=>{let _="";const{length:V}=o;for(;s--;)_+=o[Math.random()*V|0];return _};function d9(s){return!!(s&&Rh(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const p9=s=>{const o=new Array(10),_=(V,K)=>{if(Pb(V)){if(o.indexOf(V)>=0)return;if(!("toJSON"in V)){o[K]=V;const le=qd(V)?[]:{};return G0(V,(k,F)=>{const e=_(k,K+1);!R0(e)&&(le[F]=e)}),o[K]=void 0,le}}return V};return _(s,0)},Xn={isArray:qd,isArrayBuffer:VM,isBuffer:NP,isFormData:XP,isArrayBufferView:UP,isString:HP,isNumber:WM,isBoolean:VP,isObject:Pb,isPlainObject:xy,isUndefined:R0,isDate:WP,isFile:GP,isBlob:YP,isRegExp:l9,isFunction:Rh,isStream:jP,isURLSearchParams:KP,isTypedArray:n9,isFileList:ZP,forEach:G0,merge:u2,extend:QP,trim:JP,stripBOM:$P,inherits:qP,toFlatObject:e9,kindOf:Lb,kindOfTest:Mc,endsWith:t9,toArray:r9,forEachEntry:i9,matchAll:a9,isHTMLForm:o9,hasOwnProperty:_T,hasOwnProp:_T,reduceDescriptors:jM,freezeMethods:u9,toObjectSet:f9,toCamelCase:s9,noop:c9,toFiniteNumber:h9,findKey:GM,global:YM,isContextDefined:ZM,ALPHABET:XM,generateString:v9,isSpecCompliantForm:d9,toJSONObject:p9};function Ea(s,o,_,V,K){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",o&&(this.code=o),_&&(this.config=_),V&&(this.request=V),K&&(this.response=K)}Xn.inherits(Ea,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const KM=Ea.prototype,JM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{JM[s]={value:s}});Object.defineProperties(Ea,JM);Object.defineProperty(KM,"isAxiosError",{value:!0});Ea.from=(s,o,_,V,K,le)=>{const k=Object.create(KM);return Xn.toFlatObject(s,k,function(e){return e!==Error.prototype},F=>F!=="isAxiosError"),Ea.call(k,s.message,o,_,V,K),k.cause=s,k.name=s.name,le&&Object.assign(k,le),k};const g9=null;function f2(s){return Xn.isPlainObject(s)||Xn.isArray(s)}function QM(s){return Xn.endsWith(s,"[]")?s.slice(0,-2):s}function IT(s,o,_){return s?s.concat(o).map(function(K,le){return K=QM(K),!_&&le?"["+K+"]":K}).join(_?".":""):o}function y9(s){return Xn.isArray(s)&&!s.some(f2)}const m9=Xn.toFlatObject(Xn,{},null,function(o){return/^is[A-Z]/.test(o)});function _m(s,o,_){if(!Xn.isObject(s))throw new TypeError("target must be an object");o=o||new FormData,_=Xn.toFlatObject(_,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,t){return!Xn.isUndefined(t[m])});const V=_.metaTokens,K=_.visitor||E,le=_.dots,k=_.indexes,e=(_.Blob||typeof Blob<"u"&&Blob)&&Xn.isSpecCompliantForm(o);if(!Xn.isFunction(K))throw new TypeError("visitor must be a function");function h(p){if(p===null)return"";if(Xn.isDate(p))return p.toISOString();if(!e&&Xn.isBlob(p))throw new Ea("Blob is not supported. Use a Buffer instead.");return Xn.isArrayBuffer(p)||Xn.isTypedArray(p)?e&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function E(p,m,t){let r=p;if(p&&!t&&typeof p=="object"){if(Xn.endsWith(m,"{}"))m=V?m:m.slice(0,-2),p=JSON.stringify(p);else if(Xn.isArray(p)&&y9(p)||(Xn.isFileList(p)||Xn.endsWith(m,"[]"))&&(r=Xn.toArray(p)))return m=QM(m),r.forEach(function(i,f){!(Xn.isUndefined(i)||i===null)&&o.append(k===!0?IT([m],f,le):k===null?m:m+"[]",h(i))}),!1}return f2(p)?!0:(o.append(IT(t,m,le),h(p)),!1)}const n=[],L=Object.assign(m9,{defaultVisitor:E,convertValue:h,isVisitable:f2});function w(p,m){if(!Xn.isUndefined(p)){if(n.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));n.push(p),Xn.forEach(p,function(r,l){(!(Xn.isUndefined(r)||r===null)&&K.call(o,r,Xn.isString(l)?l.trim():l,m,L))===!0&&w(r,m?m.concat(l):[l])}),n.pop()}}if(!Xn.isObject(s))throw new TypeError("data must be an object");return w(s),o}function FT(s){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(V){return o[V]})}function Rb(s,o){this._pairs=[],s&&_m(s,this,o)}const $M=Rb.prototype;$M.append=function(o,_){this._pairs.push([o,_])};$M.toString=function(o){const _=o?function(V){return o.call(this,V,FT)}:FT;return this._pairs.map(function(K){return _(K[0])+"="+_(K[1])},"").join("&")};function x9(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qM(s,o,_){if(!o)return s;const V=_&&_.encode||x9,K=_&&_.serialize;let le;if(K?le=K(o,_):le=Xn.isURLSearchParams(o)?o.toString():new Rb(o,_).toString(V),le){const k=s.indexOf("#");k!==-1&&(s=s.slice(0,k)),s+=(s.indexOf("?")===-1?"?":"&")+le}return s}class b9{constructor(){this.handlers=[]}use(o,_,V){return this.handlers.push({fulfilled:o,rejected:_,synchronous:V?V.synchronous:!1,runWhen:V?V.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){Xn.forEach(this.handlers,function(V){V!==null&&o(V)})}}const zT=b9,eS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},w9=typeof URLSearchParams<"u"?URLSearchParams:Rb,T9=typeof FormData<"u"?FormData:null,A9=typeof Blob<"u"?Blob:null,M9=(()=>{let s;return typeof navigator<"u"&&((s=navigator.product)==="ReactNative"||s==="NativeScript"||s==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),S9=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Lf={isBrowser:!0,classes:{URLSearchParams:w9,FormData:T9,Blob:A9},isStandardBrowserEnv:M9,isStandardBrowserWebWorkerEnv:S9,protocols:["http","https","file","blob","url","data"]};function E9(s,o){return _m(s,new Lf.classes.URLSearchParams,Object.assign({visitor:function(_,V,K,le){return Lf.isNode&&Xn.isBuffer(_)?(this.append(V,_.toString("base64")),!1):le.defaultVisitor.apply(this,arguments)}},o))}function C9(s){return Xn.matchAll(/\w+|\[(\w*)]/g,s).map(o=>o[0]==="[]"?"":o[1]||o[0])}function L9(s){const o={},_=Object.keys(s);let V;const K=_.length;let le;for(V=0;V<K;V++)le=_[V],o[le]=s[le];return o}function tS(s){function o(_,V,K,le){let k=_[le++];const F=Number.isFinite(+k),e=le>=_.length;return k=!k&&Xn.isArray(K)?K.length:k,e?(Xn.hasOwnProp(K,k)?K[k]=[K[k],V]:K[k]=V,!F):((!K[k]||!Xn.isObject(K[k]))&&(K[k]=[]),o(_,V,K[k],le)&&Xn.isArray(K[k])&&(K[k]=L9(K[k])),!F)}if(Xn.isFormData(s)&&Xn.isFunction(s.entries)){const _={};return Xn.forEachEntry(s,(V,K)=>{o(C9(V),K,_,0)}),_}return null}const P9={"Content-Type":void 0};function R9(s,o,_){if(Xn.isString(s))try{return(o||JSON.parse)(s),Xn.trim(s)}catch(V){if(V.name!=="SyntaxError")throw V}return(_||JSON.stringify)(s)}const km={transitional:eS,adapter:["xhr","http"],transformRequest:[function(o,_){const V=_.getContentType()||"",K=V.indexOf("application/json")>-1,le=Xn.isObject(o);if(le&&Xn.isHTMLForm(o)&&(o=new FormData(o)),Xn.isFormData(o))return K&&K?JSON.stringify(tS(o)):o;if(Xn.isArrayBuffer(o)||Xn.isBuffer(o)||Xn.isStream(o)||Xn.isFile(o)||Xn.isBlob(o))return o;if(Xn.isArrayBufferView(o))return o.buffer;if(Xn.isURLSearchParams(o))return _.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let F;if(le){if(V.indexOf("application/x-www-form-urlencoded")>-1)return E9(o,this.formSerializer).toString();if((F=Xn.isFileList(o))||V.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return _m(F?{"files[]":o}:o,e&&new e,this.formSerializer)}}return le||K?(_.setContentType("application/json",!1),R9(o)):o}],transformResponse:[function(o){const _=this.transitional||km.transitional,V=_&&_.forcedJSONParsing,K=this.responseType==="json";if(o&&Xn.isString(o)&&(V&&!this.responseType||K)){const k=!(_&&_.silentJSONParsing)&&K;try{return JSON.parse(o)}catch(F){if(k)throw F.name==="SyntaxError"?Ea.from(F,Ea.ERR_BAD_RESPONSE,this,null,this.response):F}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lf.classes.FormData,Blob:Lf.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Xn.forEach(["delete","get","head"],function(o){km.headers[o]={}});Xn.forEach(["post","put","patch"],function(o){km.headers[o]=Xn.merge(P9)});const Db=km,D9=Xn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_9=s=>{const o={};let _,V,K;return s&&s.split(`
`).forEach(function(k){K=k.indexOf(":"),_=k.substring(0,K).trim().toLowerCase(),V=k.substring(K+1).trim(),!(!_||o[_]&&D9[_])&&(_==="set-cookie"?o[_]?o[_].push(V):o[_]=[V]:o[_]=o[_]?o[_]+", "+V:V)}),o},OT=Symbol("internals");function Ip(s){return s&&String(s).trim().toLowerCase()}function by(s){return s===!1||s==null?s:Xn.isArray(s)?s.map(by):String(s)}function k9(s){const o=Object.create(null),_=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let V;for(;V=_.exec(s);)o[V[1]]=V[2];return o}function I9(s){return/^[-_a-zA-Z]+$/.test(s.trim())}function Q1(s,o,_,V,K){if(Xn.isFunction(V))return V.call(this,o,_);if(K&&(o=_),!!Xn.isString(o)){if(Xn.isString(V))return o.indexOf(V)!==-1;if(Xn.isRegExp(V))return V.test(o)}}function F9(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,_,V)=>_.toUpperCase()+V)}function z9(s,o){const _=Xn.toCamelCase(" "+o);["get","set","has"].forEach(V=>{Object.defineProperty(s,V+_,{value:function(K,le,k){return this[V].call(this,o,K,le,k)},configurable:!0})})}class Im{constructor(o){o&&this.set(o)}set(o,_,V){const K=this;function le(F,e,h){const E=Ip(e);if(!E)throw new Error("header name must be a non-empty string");const n=Xn.findKey(K,E);(!n||K[n]===void 0||h===!0||h===void 0&&K[n]!==!1)&&(K[n||e]=by(F))}const k=(F,e)=>Xn.forEach(F,(h,E)=>le(h,E,e));return Xn.isPlainObject(o)||o instanceof this.constructor?k(o,_):Xn.isString(o)&&(o=o.trim())&&!I9(o)?k(_9(o),_):o!=null&&le(_,o,V),this}get(o,_){if(o=Ip(o),o){const V=Xn.findKey(this,o);if(V){const K=this[V];if(!_)return K;if(_===!0)return k9(K);if(Xn.isFunction(_))return _.call(this,K,V);if(Xn.isRegExp(_))return _.exec(K);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,_){if(o=Ip(o),o){const V=Xn.findKey(this,o);return!!(V&&this[V]!==void 0&&(!_||Q1(this,this[V],V,_)))}return!1}delete(o,_){const V=this;let K=!1;function le(k){if(k=Ip(k),k){const F=Xn.findKey(V,k);F&&(!_||Q1(V,V[F],F,_))&&(delete V[F],K=!0)}}return Xn.isArray(o)?o.forEach(le):le(o),K}clear(o){const _=Object.keys(this);let V=_.length,K=!1;for(;V--;){const le=_[V];(!o||Q1(this,this[le],le,o,!0))&&(delete this[le],K=!0)}return K}normalize(o){const _=this,V={};return Xn.forEach(this,(K,le)=>{const k=Xn.findKey(V,le);if(k){_[k]=by(K),delete _[le];return}const F=o?F9(le):String(le).trim();F!==le&&delete _[le],_[F]=by(K),V[F]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const _=Object.create(null);return Xn.forEach(this,(V,K)=>{V!=null&&V!==!1&&(_[K]=o&&Xn.isArray(V)?V.join(", "):V)}),_}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,_])=>o+": "+_).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,..._){const V=new this(o);return _.forEach(K=>V.set(K)),V}static accessor(o){const V=(this[OT]=this[OT]={accessors:{}}).accessors,K=this.prototype;function le(k){const F=Ip(k);V[F]||(z9(K,k),V[F]=!0)}return Xn.isArray(o)?o.forEach(le):le(o),this}}Im.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Xn.freezeMethods(Im.prototype);Xn.freezeMethods(Im);const mc=Im;function $1(s,o){const _=this||Db,V=o||_,K=mc.from(V.headers);let le=V.data;return Xn.forEach(s,function(F){le=F.call(_,le,K.normalize(),o?o.status:void 0)}),K.normalize(),le}function rS(s){return!!(s&&s.__CANCEL__)}function Y0(s,o,_){Ea.call(this,s??"canceled",Ea.ERR_CANCELED,o,_),this.name="CanceledError"}Xn.inherits(Y0,Ea,{__CANCEL__:!0});function O9(s,o,_){const V=_.config.validateStatus;!_.status||!V||V(_.status)?s(_):o(new Ea("Request failed with status code "+_.status,[Ea.ERR_BAD_REQUEST,Ea.ERR_BAD_RESPONSE][Math.floor(_.status/100)-4],_.config,_.request,_))}const B9=Lf.isStandardBrowserEnv?function(){return{write:function(_,V,K,le,k,F){const e=[];e.push(_+"="+encodeURIComponent(V)),Xn.isNumber(K)&&e.push("expires="+new Date(K).toGMTString()),Xn.isString(le)&&e.push("path="+le),Xn.isString(k)&&e.push("domain="+k),F===!0&&e.push("secure"),document.cookie=e.join("; ")},read:function(_){const V=document.cookie.match(new RegExp("(^|;\\s*)("+_+")=([^;]*)"));return V?decodeURIComponent(V[3]):null},remove:function(_){this.write(_,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function N9(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function U9(s,o){return o?s.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):s}function nS(s,o){return s&&!N9(o)?U9(s,o):o}const H9=Lf.isStandardBrowserEnv?function(){const o=/(msie|trident)/i.test(navigator.userAgent),_=document.createElement("a");let V;function K(le){let k=le;return o&&(_.setAttribute("href",k),k=_.href),_.setAttribute("href",k),{href:_.href,protocol:_.protocol?_.protocol.replace(/:$/,""):"",host:_.host,search:_.search?_.search.replace(/^\?/,""):"",hash:_.hash?_.hash.replace(/^#/,""):"",hostname:_.hostname,port:_.port,pathname:_.pathname.charAt(0)==="/"?_.pathname:"/"+_.pathname}}return V=K(window.location.href),function(k){const F=Xn.isString(k)?K(k):k;return F.protocol===V.protocol&&F.host===V.host}}():function(){return function(){return!0}}();function V9(s){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return o&&o[1]||""}function W9(s,o){s=s||10;const _=new Array(s),V=new Array(s);let K=0,le=0,k;return o=o!==void 0?o:1e3,function(e){const h=Date.now(),E=V[le];k||(k=h),_[K]=e,V[K]=h;let n=le,L=0;for(;n!==K;)L+=_[n++],n=n%s;if(K=(K+1)%s,K===le&&(le=(le+1)%s),h-k<o)return;const w=E&&h-E;return w?Math.round(L*1e3/w):void 0}}function BT(s,o){let _=0;const V=W9(50,250);return K=>{const le=K.loaded,k=K.lengthComputable?K.total:void 0,F=le-_,e=V(F),h=le<=k;_=le;const E={loaded:le,total:k,progress:k?le/k:void 0,bytes:F,rate:e||void 0,estimated:e&&k&&h?(k-le)/e:void 0,event:K};E[o?"download":"upload"]=!0,s(E)}}const G9=typeof XMLHttpRequest<"u",Y9=G9&&function(s){return new Promise(function(_,V){let K=s.data;const le=mc.from(s.headers).normalize(),k=s.responseType;let F;function e(){s.cancelToken&&s.cancelToken.unsubscribe(F),s.signal&&s.signal.removeEventListener("abort",F)}Xn.isFormData(K)&&(Lf.isStandardBrowserEnv||Lf.isStandardBrowserWebWorkerEnv)&&le.setContentType(!1);let h=new XMLHttpRequest;if(s.auth){const w=s.auth.username||"",p=s.auth.password?unescape(encodeURIComponent(s.auth.password)):"";le.set("Authorization","Basic "+btoa(w+":"+p))}const E=nS(s.baseURL,s.url);h.open(s.method.toUpperCase(),qM(E,s.params,s.paramsSerializer),!0),h.timeout=s.timeout;function n(){if(!h)return;const w=mc.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),m={data:!k||k==="text"||k==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:w,config:s,request:h};O9(function(r){_(r),e()},function(r){V(r),e()},m),h=null}if("onloadend"in h?h.onloadend=n:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(n)},h.onabort=function(){h&&(V(new Ea("Request aborted",Ea.ECONNABORTED,s,h)),h=null)},h.onerror=function(){V(new Ea("Network Error",Ea.ERR_NETWORK,s,h)),h=null},h.ontimeout=function(){let p=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const m=s.transitional||eS;s.timeoutErrorMessage&&(p=s.timeoutErrorMessage),V(new Ea(p,m.clarifyTimeoutError?Ea.ETIMEDOUT:Ea.ECONNABORTED,s,h)),h=null},Lf.isStandardBrowserEnv){const w=(s.withCredentials||H9(E))&&s.xsrfCookieName&&B9.read(s.xsrfCookieName);w&&le.set(s.xsrfHeaderName,w)}K===void 0&&le.setContentType(null),"setRequestHeader"in h&&Xn.forEach(le.toJSON(),function(p,m){h.setRequestHeader(m,p)}),Xn.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),k&&k!=="json"&&(h.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&h.addEventListener("progress",BT(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",BT(s.onUploadProgress)),(s.cancelToken||s.signal)&&(F=w=>{h&&(V(!w||w.type?new Y0(null,s,h):w),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(F),s.signal&&(s.signal.aborted?F():s.signal.addEventListener("abort",F)));const L=V9(E);if(L&&Lf.protocols.indexOf(L)===-1){V(new Ea("Unsupported protocol "+L+":",Ea.ERR_BAD_REQUEST,s));return}h.send(K||null)})},wy={http:g9,xhr:Y9};Xn.forEach(wy,(s,o)=>{if(s){try{Object.defineProperty(s,"name",{value:o})}catch{}Object.defineProperty(s,"adapterName",{value:o})}});const Z9={getAdapter:s=>{s=Xn.isArray(s)?s:[s];const{length:o}=s;let _,V;for(let K=0;K<o&&(_=s[K],!(V=Xn.isString(_)?wy[_.toLowerCase()]:_));K++);if(!V)throw V===!1?new Ea(`Adapter ${_} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Xn.hasOwnProp(wy,_)?`Adapter '${_}' is not available in the build`:`Unknown adapter '${_}'`);if(!Xn.isFunction(V))throw new TypeError("adapter is not a function");return V},adapters:wy};function q1(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Y0(null,s)}function NT(s){return q1(s),s.headers=mc.from(s.headers),s.data=$1.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Z9.getAdapter(s.adapter||Db.adapter)(s).then(function(V){return q1(s),V.data=$1.call(s,s.transformResponse,V),V.headers=mc.from(V.headers),V},function(V){return rS(V)||(q1(s),V&&V.response&&(V.response.data=$1.call(s,s.transformResponse,V.response),V.response.headers=mc.from(V.response.headers))),Promise.reject(V)})}const UT=s=>s instanceof mc?s.toJSON():s;function Hd(s,o){o=o||{};const _={};function V(h,E,n){return Xn.isPlainObject(h)&&Xn.isPlainObject(E)?Xn.merge.call({caseless:n},h,E):Xn.isPlainObject(E)?Xn.merge({},E):Xn.isArray(E)?E.slice():E}function K(h,E,n){if(Xn.isUndefined(E)){if(!Xn.isUndefined(h))return V(void 0,h,n)}else return V(h,E,n)}function le(h,E){if(!Xn.isUndefined(E))return V(void 0,E)}function k(h,E){if(Xn.isUndefined(E)){if(!Xn.isUndefined(h))return V(void 0,h)}else return V(void 0,E)}function F(h,E,n){if(n in o)return V(h,E);if(n in s)return V(void 0,h)}const e={url:le,method:le,data:le,baseURL:k,transformRequest:k,transformResponse:k,paramsSerializer:k,timeout:k,timeoutMessage:k,withCredentials:k,adapter:k,responseType:k,xsrfCookieName:k,xsrfHeaderName:k,onUploadProgress:k,onDownloadProgress:k,decompress:k,maxContentLength:k,maxBodyLength:k,beforeRedirect:k,transport:k,httpAgent:k,httpsAgent:k,cancelToken:k,socketPath:k,responseEncoding:k,validateStatus:F,headers:(h,E)=>K(UT(h),UT(E),!0)};return Xn.forEach(Object.keys(s).concat(Object.keys(o)),function(E){const n=e[E]||K,L=n(s[E],o[E],E);Xn.isUndefined(L)&&n!==F||(_[E]=L)}),_}const iS="1.3.4",_b={};["object","boolean","number","function","string","symbol"].forEach((s,o)=>{_b[s]=function(V){return typeof V===s||"a"+(o<1?"n ":" ")+s}});const HT={};_b.transitional=function(o,_,V){function K(le,k){return"[Axios v"+iS+"] Transitional option '"+le+"'"+k+(V?". "+V:"")}return(le,k,F)=>{if(o===!1)throw new Ea(K(k," has been removed"+(_?" in "+_:"")),Ea.ERR_DEPRECATED);return _&&!HT[k]&&(HT[k]=!0,console.warn(K(k," has been deprecated since v"+_+" and will be removed in the near future"))),o?o(le,k,F):!0}};function j9(s,o,_){if(typeof s!="object")throw new Ea("options must be an object",Ea.ERR_BAD_OPTION_VALUE);const V=Object.keys(s);let K=V.length;for(;K-- >0;){const le=V[K],k=o[le];if(k){const F=s[le],e=F===void 0||k(F,le,s);if(e!==!0)throw new Ea("option "+le+" must be "+e,Ea.ERR_BAD_OPTION_VALUE);continue}if(_!==!0)throw new Ea("Unknown option "+le,Ea.ERR_BAD_OPTION)}}const c2={assertOptions:j9,validators:_b},nh=c2.validators;class em{constructor(o){this.defaults=o,this.interceptors={request:new zT,response:new zT}}request(o,_){typeof o=="string"?(_=_||{},_.url=o):_=o||{},_=Hd(this.defaults,_);const{transitional:V,paramsSerializer:K,headers:le}=_;V!==void 0&&c2.assertOptions(V,{silentJSONParsing:nh.transitional(nh.boolean),forcedJSONParsing:nh.transitional(nh.boolean),clarifyTimeoutError:nh.transitional(nh.boolean)},!1),K!==void 0&&c2.assertOptions(K,{encode:nh.function,serialize:nh.function},!0),_.method=(_.method||this.defaults.method||"get").toLowerCase();let k;k=le&&Xn.merge(le.common,le[_.method]),k&&Xn.forEach(["delete","get","head","post","put","patch","common"],p=>{delete le[p]}),_.headers=mc.concat(k,le);const F=[];let e=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(_)===!1||(e=e&&m.synchronous,F.unshift(m.fulfilled,m.rejected))});const h=[];this.interceptors.response.forEach(function(m){h.push(m.fulfilled,m.rejected)});let E,n=0,L;if(!e){const p=[NT.bind(this),void 0];for(p.unshift.apply(p,F),p.push.apply(p,h),L=p.length,E=Promise.resolve(_);n<L;)E=E.then(p[n++],p[n++]);return E}L=F.length;let w=_;for(n=0;n<L;){const p=F[n++],m=F[n++];try{w=p(w)}catch(t){m.call(this,t);break}}try{E=NT.call(this,w)}catch(p){return Promise.reject(p)}for(n=0,L=h.length;n<L;)E=E.then(h[n++],h[n++]);return E}getUri(o){o=Hd(this.defaults,o);const _=nS(o.baseURL,o.url);return qM(_,o.params,o.paramsSerializer)}}Xn.forEach(["delete","get","head","options"],function(o){em.prototype[o]=function(_,V){return this.request(Hd(V||{},{method:o,url:_,data:(V||{}).data}))}});Xn.forEach(["post","put","patch"],function(o){function _(V){return function(le,k,F){return this.request(Hd(F||{},{method:o,headers:V?{"Content-Type":"multipart/form-data"}:{},url:le,data:k}))}}em.prototype[o]=_(),em.prototype[o+"Form"]=_(!0)});const Ty=em;class kb{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let _;this.promise=new Promise(function(le){_=le});const V=this;this.promise.then(K=>{if(!V._listeners)return;let le=V._listeners.length;for(;le-- >0;)V._listeners[le](K);V._listeners=null}),this.promise.then=K=>{let le;const k=new Promise(F=>{V.subscribe(F),le=F}).then(K);return k.cancel=function(){V.unsubscribe(le)},k},o(function(le,k,F){V.reason||(V.reason=new Y0(le,k,F),_(V.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const _=this._listeners.indexOf(o);_!==-1&&this._listeners.splice(_,1)}static source(){let o;return{token:new kb(function(K){o=K}),cancel:o}}}const X9=kb;function K9(s){return function(_){return s.apply(null,_)}}function J9(s){return Xn.isObject(s)&&s.isAxiosError===!0}const h2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(h2).forEach(([s,o])=>{h2[o]=s});const Q9=h2;function aS(s){const o=new Ty(s),_=UM(Ty.prototype.request,o);return Xn.extend(_,Ty.prototype,o,{allOwnKeys:!0}),Xn.extend(_,o,null,{allOwnKeys:!0}),_.create=function(K){return aS(Hd(s,K))},_}const Jo=aS(Db);Jo.Axios=Ty;Jo.CanceledError=Y0;Jo.CancelToken=X9;Jo.isCancel=rS;Jo.VERSION=iS;Jo.toFormData=_m;Jo.AxiosError=Ea;Jo.Cancel=Jo.CanceledError;Jo.all=function(o){return Promise.all(o)};Jo.spread=K9;Jo.isAxiosError=J9;Jo.mergeConfig=Hd;Jo.AxiosHeaders=mc;Jo.formToJSON=s=>tS(Xn.isHTMLForm(s)?new FormData(s):s);Jo.HttpStatusCode=Q9;Jo.default=Jo;const Ib=Jo,Fm={server:"http://rehansathio.pythonanywhere.com/api/",admin:"http://rehansathio.pythonanywhere.com/admin",client:"http://rehansathio.pythonanywhere.com/"},$9=()=>!!(sessionStorage.getItem("loggedin")&&JSON.parse(sessionStorage.getItem("loggedin")).data),q9=()=>!(sessionStorage.getItem("loggedin")&&JSON.parse(sessionStorage.getItem("loggedin")).data),VT=(s,o)=>{let _=document.getElementById("error");_.innerHTML=s,_.classList.add("text-"+o),_.style.display="block"},eR=()=>{let s=document.getElementById("error");s.innerText="",s.style.display="none",s.classList.remove("text-red-500"),s.classList.remove("text-green-500")},tR=()=>{const s=Rm();bi.useEffect(()=>{$9()&&s("/")},[]);const o=async k=>{k.target.style.pointerEvents="none",k.target.innerHTML='<div className="spinner-border custom-spin" role="status"><span className="visually-hidden">Loading...</span></div>',k.preventDefault(),eR(),V.userid!==""?await Ib.post(Fm.server+"login",V).then(F=>{if(F.status===200){let e=F.data;e.message?VT(e.message,"red-500"):(sessionStorage.setItem("loggedin",JSON.stringify({data:e})),s("/"))}}).catch(F=>{console.log(F)}):VT("Please enter user id.","red-500"),k.target.style.pointerEvents="unset",k.target.innerHTML="Log In"},_={userid:""},[V,K]=bi.useState(_),le=k=>{K({...V,[k.target.name]:k.target.value})};return Gi("section",{className:"bg-gray-50 dark:bg-gray-900",children:Gi("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:Gi("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:Pf("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[Gi(Gp,{to:"/",children:Gi("h1",{className:"text-lg text-center mb-10 font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Point Analytics"})}),Pf("div",{className:"space-y-4 md:space-y-6",children:[Pf("div",{children:[Gi("label",{htmlFor:"userid",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"User ID"}),Gi("input",{type:"number",name:"userid",value:V.userid,onChange:le,className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:!0})]}),Gi("button",{onClick:o,className:"w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Log In"}),Gi("div",{className:"my-10",id:"error",style:{display:"none"}})]})]})})})})};var oS={},sS={},v2={},rR={get exports(){return v2},set exports(s){v2=s}},nR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iR=nR,aR=iR;function lS(){}function uS(){}uS.resetWarningCache=lS;var oR=function(){function s(V,K,le,k,F,e){if(e!==aR){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}s.isRequired=s;function o(){return s}var _={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:uS,resetWarningCache:lS};return _.PropTypes=_,_};rR.exports=oR();(function(s){function o(v){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},o(v)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=f;var _=k(bi),V=K(v2);function K(v){return v&&v.__esModule?v:{default:v}}function le(v){if(typeof WeakMap!="function")return null;var c=new WeakMap,x=new WeakMap;return(le=function(M){return M?x:c})(v)}function k(v,c){if(!c&&v&&v.__esModule)return v;if(v===null||o(v)!=="object"&&typeof v!="function")return{default:v};var x=le(c);if(x&&x.has(v))return x.get(v);var d={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in v)if(g!=="default"&&Object.prototype.hasOwnProperty.call(v,g)){var u=M?Object.getOwnPropertyDescriptor(v,g):null;u&&(u.get||u.set)?Object.defineProperty(d,g,u):d[g]=v[g]}return d.default=v,x&&x.set(v,d),d}function F(v,c){if(!(v instanceof c))throw new TypeError("Cannot call a class as a function")}function e(v,c){for(var x=0;x<c.length;x++){var d=c[x];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(v,d.key,d)}}function h(v,c,x){return c&&e(v.prototype,c),x&&e(v,x),Object.defineProperty(v,"prototype",{writable:!1}),v}function E(v,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(c&&c.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),c&&n(v,c)}function n(v,c){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,M){return d.__proto__=M,d},n(v,c)}function L(v){var c=m();return function(){var d=t(v),M;if(c){var g=t(this).constructor;M=Reflect.construct(d,arguments,g)}else M=d.apply(this,arguments);return w(this,M)}}function w(v,c){if(c&&(o(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(v)}function p(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t(v){return t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},t(v)}var r=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],l=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],i=typeof window<"u";function f(v){var c=function(x){E(M,x);var d=L(M);function M(g){var u;return F(this,M),u=d.call(this,g),u.p=Promise.resolve(),u.resizeHandler=null,u.handlers={},u.syncWindowResize=u.syncWindowResize.bind(p(u)),u.syncEventHandlers=u.syncEventHandlers.bind(p(u)),u.attachUpdateEvents=u.attachUpdateEvents.bind(p(u)),u.getRef=u.getRef.bind(p(u)),u.handleUpdate=u.handleUpdate.bind(p(u)),u.figureCallback=u.figureCallback.bind(p(u)),u.updatePlotly=u.updatePlotly.bind(p(u)),u}return h(M,[{key:"updatePlotly",value:function(u,y,C){var S=this;this.p=this.p.then(function(){if(!S.unmounting){if(!S.el)throw new Error("Missing element reference");return v.react(S.el,{data:S.props.data,layout:S.props.layout,config:S.props.config,frames:S.props.frames})}}).then(function(){S.unmounting||(S.syncWindowResize(u),S.syncEventHandlers(),S.figureCallback(y),C&&S.attachUpdateEvents())}).catch(function(D){S.props.onError&&S.props.onError(D)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(u){this.unmounting=!1;var y=u.frames&&u.frames.length?u.frames.length:0,C=this.props.frames&&this.props.frames.length?this.props.frames.length:0,S=!(u.layout===this.props.layout&&u.data===this.props.data&&u.config===this.props.config&&C===y),D=u.revision!==void 0,T=u.revision!==this.props.revision;!S&&(!D||D&&!T)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&i&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),v.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var u=this;!this.el||!this.el.removeListener||l.forEach(function(y){u.el.on(y,u.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var u=this;!this.el||!this.el.removeListener||l.forEach(function(y){u.el.removeListener(y,u.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(u){if(typeof u=="function"){var y=this.el,C=y.data,S=y.layout,D=this.el._transitionData?this.el._transitionData._frames:null,T={data:C,layout:S,frames:D};u(T,this.el)}}},{key:"syncWindowResize",value:function(u){var y=this;i&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return v.Plots.resize(y.el)},window.addEventListener("resize",this.resizeHandler),u&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(u){this.el=u,this.props.debug&&i&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var u=this;r.forEach(function(y){var C=u.props["on"+y],S=u.handlers[y],D=Boolean(S);C&&!D?u.addEventHandler(y,C):!C&&D?u.removeEventHandler(y):C&&D&&C!==S&&(u.removeEventHandler(y),u.addEventHandler(y,C))})}},{key:"addEventHandler",value:function(u,y){this.handlers[u]=y,this.el.on(this.getPlotlyEventName(u),this.handlers[u])}},{key:"removeEventHandler",value:function(u){this.el.removeListener(this.getPlotlyEventName(u),this.handlers[u]),delete this.handlers[u]}},{key:"getPlotlyEventName",value:function(u){return"plotly_"+u.toLowerCase()}},{key:"render",value:function(){return _.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),M}(_.Component);return c.propTypes={data:V.default.arrayOf(V.default.object),config:V.default.object,layout:V.default.object,frames:V.default.arrayOf(V.default.object),revision:V.default.number,onInitialized:V.default.func,onPurge:V.default.func,onError:V.default.func,onUpdate:V.default.func,debug:V.default.bool,style:V.default.object,className:V.default.string,useResizeHandler:V.default.bool,divId:V.default.string},r.forEach(function(x){c.propTypes["on"+x]=V.default.func}),c.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},c}})(sS);var d2={},sR={get exports(){return d2},set exports(s){d2=s}};(function(s,o){(function(V,K){s.exports=K()})(self,function(){return function(){var _={98847:function(k,F,e){var h=e(71828),E={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var n in E){var L=n.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");h.addStyleRule(L,E[n])}},98222:function(k,F,e){k.exports=e(82887)},27206:function(k,F,e){k.exports=e(60822)},59893:function(k,F,e){k.exports=e(23381)},5224:function(k,F,e){k.exports=e(83832)},59509:function(k,F,e){k.exports=e(72201)},75557:function(k,F,e){k.exports=e(91815)},40338:function(k,F,e){k.exports=e(21462)},35080:function(k,F,e){k.exports=e(51319)},61396:function(k,F,e){k.exports=e(57516)},40549:function(k,F,e){k.exports=e(98128)},49866:function(k,F,e){k.exports=e(99442)},36089:function(k,F,e){k.exports=e(93740)},19548:function(k,F,e){k.exports=e(8729)},35831:function(k,F,e){k.exports=e(93814)},61039:function(k,F,e){k.exports=e(14382)},97040:function(k,F,e){k.exports=e(51759)},77986:function(k,F,e){k.exports=e(10421)},24296:function(k,F,e){k.exports=e(43102)},58872:function(k,F,e){k.exports=e(92165)},29626:function(k,F,e){k.exports=e(3325)},65591:function(k,F,e){k.exports=e(36071)},69738:function(k,F,e){k.exports=e(43905)},92650:function(k,F,e){k.exports=e(35902)},35630:function(k,F,e){k.exports=e(69816)},73434:function(k,F,e){k.exports=e(94507)},27909:function(k,F,e){var h=e(19548);h.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),k.exports=h},46163:function(k,F,e){k.exports=e(15154)},96881:function(k,F,e){k.exports=e(64943)},50581:function(k,F,e){k.exports=e(21164)},55334:function(k,F,e){k.exports=e(54186)},65317:function(k,F,e){k.exports=e(94873)},10021:function(k,F,e){k.exports=e(67618)},54201:function(k,F,e){k.exports=e(58810)},5861:function(k,F,e){k.exports=e(20593)},16122:function(k,F,e){k.exports=e(29396)},83043:function(k,F,e){k.exports=e(13551)},48131:function(k,F,e){k.exports=e(46858)},47582:function(k,F,e){k.exports=e(17988)},21641:function(k,F,e){k.exports=e(68868)},96268:function(k,F,e){k.exports=e(20467)},19440:function(k,F,e){k.exports=e(91271)},99488:function(k,F,e){k.exports=e(21461)},97393:function(k,F,e){k.exports=e(85956)},25743:function(k,F,e){k.exports=e(52979)},66398:function(k,F,e){k.exports=e(32275)},17280:function(k,F,e){k.exports=e(6419)},77900:function(k,F,e){k.exports=e(61510)},81299:function(k,F,e){k.exports=e(87619)},93005:function(k,F,e){k.exports=e(93601)},40344:function(k,F,e){k.exports=e(96595)},47645:function(k,F,e){k.exports=e(70954)},6197:function(k,F,e){k.exports=e(47462)},4534:function(k,F,e){k.exports=e(17659)},85461:function(k,F,e){k.exports=e(19990)},82884:function(k){k.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(k,F,e){var h=e(82884),E=e(41940),n=e(85555),L=e(44467).templatedArray;e(24695),k.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:h.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:h.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:E({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(k,F,e){var h=e(71828),E=e(89298),n=e(92605).draw;k.exports=function(m){var t=m._fullLayout,r=h.filterVisible(t.annotations);if(r.length&&m._fullData.length)return h.syncOrAsync([n,L],m)};function L(p){var m=p._fullLayout;h.filterVisible(m.annotations).forEach(function(t){var r=E.getFromId(p,t.xref),l=E.getFromId(p,t.yref),i=E.getRefType(t.xref),f=E.getRefType(t.yref);t._extremes={},i==="range"&&w(t,r),f==="range"&&w(t,l)})}function w(p,m){var t=m._id,r=t.charAt(0),l=p[r],i=p["a"+r],f=p[r+"ref"],v=p["a"+r+"ref"],c=p["_"+r+"padplus"],x=p["_"+r+"padminus"],d={x:1,y:-1}[r]*p[r+"shift"],M=3*p.arrowsize*p.arrowwidth||0,g=M+d,u=M-d,y=3*p.startarrowsize*p.arrowwidth||0,C=y+d,S=y-d,D;if(v===f){var T=E.findExtremes(m,[m.r2c(l)],{ppadplus:g,ppadminus:u}),P=E.findExtremes(m,[m.r2c(i)],{ppadplus:Math.max(c,C),ppadminus:Math.max(x,S)});D={min:[T.min[0],P.min[0]],max:[T.max[0],P.max[0]]}}else C=i?C+i:C,S=i?S-i:S,D=E.findExtremes(m,[m.r2c(l)],{ppadplus:Math.max(c,g,C),ppadminus:Math.max(x,u,S)});p._extremes[t]=D}},44317:function(k,F,e){var h=e(71828),E=e(73972),n=e(44467).arrayEditor;k.exports={hasClickToShow:L,onClick:w};function L(t,r){var l=p(t,r);return l.on.length>0||l.explicitOff.length>0}function w(t,r){var l=p(t,r),i=l.on,f=l.off.concat(l.explicitOff),v={},c=t._fullLayout.annotations,x,d;if(i.length||f.length){for(x=0;x<i.length;x++)d=n(t.layout,"annotations",c[i[x]]),d.modifyItem("visible",!0),h.extendFlat(v,d.getUpdateObj());for(x=0;x<f.length;x++)d=n(t.layout,"annotations",c[f[x]]),d.modifyItem("visible",!1),h.extendFlat(v,d.getUpdateObj());return E.call("update",t,{},v)}}function p(t,r){var l=t._fullLayout.annotations,i=[],f=[],v=[],c=(r||[]).length,x,d,M,g,u,y,C,S;for(x=0;x<l.length;x++)if(M=l[x],g=M.clicktoshow,g){for(d=0;d<c;d++)if(u=r[d],y=u.xaxis,C=u.yaxis,y._id===M.xref&&C._id===M.yref&&y.d2r(u.x)===m(M._xclick,y)&&C.d2r(u.y)===m(M._yclick,C)){M.visible?g==="onout"?S=f:S=v:S=i,S.push(x);break}d===c&&M.visible&&g==="onout"&&f.push(x)}return{on:i,off:f,explicitOff:v}}function m(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(k,F,e){var h=e(71828),E=e(7901);k.exports=function(L,w,p,m){m("opacity");var t=m("bgcolor"),r=m("bordercolor"),l=E.opacity(r);m("borderpad");var i=m("borderwidth"),f=m("showarrow");m("text",f?" ":p._dfltTitle.annotation),m("textangle"),h.coerceFont(m,"font",p.font),m("width"),m("align");var v=m("height");if(v&&m("valign"),f){var c=m("arrowside"),x,d;c.indexOf("end")!==-1&&(x=m("arrowhead"),d=m("arrowsize")),c.indexOf("start")!==-1&&(m("startarrowhead",x),m("startarrowsize",d)),m("arrowcolor",l?w.bordercolor:E.defaultLine),m("arrowwidth",(l&&i||1)*2),m("standoff"),m("startstandoff")}var M=m("hovertext"),g=p.hoverlabel||{};if(M){var u=m("hoverlabel.bgcolor",g.bgcolor||(E.opacity(t)?E.rgb(t):E.defaultLine)),y=m("hoverlabel.bordercolor",g.bordercolor||E.contrast(u));h.coerceFont(m,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||y})}m("captureevents",!!M)}},94128:function(k,F,e){var h=e(92770),E=e(58163);k.exports=function(L,w,p,m){w=w||{};var t=p==="log"&&w.type==="linear",r=p==="linear"&&w.type==="log";if(!(t||r))return;var l=L._fullLayout.annotations,i=w._id.charAt(0),f,v;function c(d){var M=f[d],g=null;t?g=E(M,w.range):g=Math.pow(10,M),h(g)||(g=null),m(v+d,g)}for(var x=0;x<l.length;x++)f=l[x],v="annotations["+x+"].",f[i+"ref"]===w._id&&c(i),f["a"+i+"ref"]===w._id&&c("a"+i)}},84046:function(k,F,e){var h=e(71828),E=e(89298),n=e(85501),L=e(25625),w=e(50215);k.exports=function(t,r){n(t,r,{name:"annotations",handleItemDefaults:p})};function p(m,t,r){function l(A,a){return h.coerce(m,t,w,A,a)}var i=l("visible"),f=l("clicktoshow");if(i||f){L(m,t,r,l);for(var v=t.showarrow,c=["x","y"],x=[-10,-30],d={_fullLayout:r},M=0;M<2;M++){var g=c[M],u=E.coerceRef(m,t,d,g,"","paper");if(u!=="paper"){var y=E.getFromId(d,u);y._annIndices.push(t._index)}if(E.coercePosition(t,d,l,u,g,.5),v){var C="a"+g,S=E.coerceRef(m,t,d,C,"pixel",["pixel","paper"]);S!=="pixel"&&S!==u&&(S=t[C]="pixel");var D=S==="pixel"?x[M]:.4;E.coercePosition(t,d,l,S,C,D)}l(g+"anchor"),l(g+"shift")}if(h.noneOrAll(m,t,["x","y"]),v&&h.noneOrAll(m,t,["ax","ay"]),f){var T=l("xclick"),P=l("yclick");t._xclick=T===void 0?t.x:E.cleanPosition(T,d,t.xref),t._yclick=P===void 0?t.y:E.cleanPosition(P,d,t.yref)}}}},92605:function(k,F,e){var h=e(39898),E=e(73972),n=e(74875),L=e(71828),w=L.strTranslate,p=e(89298),m=e(7901),t=e(91424),r=e(30211),l=e(63893),i=e(6964),f=e(28569),v=e(44467).arrayEditor,c=e(13011);k.exports={draw:x,drawOne:d,drawRaw:g};function x(u){var y=u._fullLayout;y._infolayer.selectAll(".annotation").remove();for(var C=0;C<y.annotations.length;C++)y.annotations[C].visible&&d(u,C);return n.previousPromises(u)}function d(u,y){var C=u._fullLayout,S=C.annotations[y]||{},D=p.getFromId(u,S.xref),T=p.getFromId(u,S.yref);D&&D.setScale(),T&&T.setScale(),g(u,S,y,!1,D,T)}function M(u,y,C,S,D){var T=D[C],P=D[C+"ref"],A=C.indexOf("y")!==-1,a=p.getRefType(P)==="domain",R=A?S.h:S.w;return u?a?T+(A?-y:y)/u._length:u.p2r(u.r2p(T)+y):T+(A?-y:y)/R}function g(u,y,C,S,D,T){var P=u._fullLayout,A=u._fullLayout._size,a=u._context.edits,R,b;S?(R="annotation-"+S,b=S+".annotations"):(R="annotation",b="annotations");var N=v(u.layout,b,y),O=N.modifyBase,Y=N.modifyItem,B=N.getUpdateObj;P._infolayer.selectAll("."+R+'[data-index="'+C+'"]').remove();var W="clip"+P._uid+"_ann"+C;if(!y._input||y.visible===!1){h.selectAll("#"+W).remove();return}var H={x:{},y:{}},U=+y.textangle||0,G=P._infolayer.append("g").classed(R,!0).attr("data-index",String(C)).style("opacity",y.opacity),j=G.append("g").classed("annotation-text-g",!0),re=a[y.showarrow?"annotationTail":"annotationPosition"],ae=y.captureevents||a.annotationText||re;function ue(we){var Ee={index:C,annotation:y._input,fullAnnotation:y,event:we};return S&&(Ee.subplotId=S),Ee}var de=j.append("g").style("pointer-events",ae?"all":null).call(i,"pointer").on("click",function(){u._dragging=!1,u.emit("plotly_clickannotation",ue(h.event))});y.hovertext&&de.on("mouseover",function(){var we=y.hoverlabel,Ee=we.font,Me=this.getBoundingClientRect(),Be=u.getBoundingClientRect();r.loneHover({x0:Me.left-Be.left,x1:Me.right-Be.left,y:(Me.top+Me.bottom)/2-Be.top,text:y.hovertext,color:we.bgcolor,borderColor:we.bordercolor,fontFamily:Ee.family,fontSize:Ee.size,fontColor:Ee.color},{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:u})}).on("mouseout",function(){r.loneUnhover(P._hoverlayer.node())});var ee=y.borderwidth,X=y.borderpad,Q=ee+X,$=de.append("rect").attr("class","bg").style("stroke-width",ee+"px").call(m.stroke,y.bordercolor).call(m.fill,y.bgcolor),ne=y.width||y.height,fe=P._topclips.selectAll("#"+W).data(ne?[0]:[]);fe.enter().append("clipPath").classed("annclip",!0).attr("id",W).append("rect"),fe.exit().remove();var te=y.font,q=P._meta?L.templateString(y.text,P._meta):y.text,he=de.append("text").classed("annotation-text",!0).text(q);function se(we){return we.call(t.font,te).attr({"text-anchor":{left:"start",right:"end"}[y.align]||"middle"}),l.convertToTspans(we,u,pe),we}function pe(){var we=he.selectAll("a");if(we.size()===1&&we.text()===he.text()){var Ee=de.insert("a",":first-child").attr({"xlink:xlink:href":we.attr("xlink:href"),"xlink:xlink:show":we.attr("xlink:show")}).style({cursor:"pointer"});Ee.node().appendChild($.node())}var Me=de.select(".annotation-text-math-group"),Be=!Me.empty(),Ne=t.bBox((Be?Me:he).node()),Ce=Ne.width,Te=Ne.height,Le=y.width||Ce,Ve=y.height||Te,We=Math.round(Le+2*Q),Fe=Math.round(Ve+2*Q);function Ge(br,hr){return hr==="auto"&&(br<.3333333333333333?hr="left":br>.6666666666666666?hr="right":hr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[hr]}for(var it=!1,qe=["x","y"],$e=0;$e<qe.length;$e++){var tt=qe[$e],vt=y[tt+"ref"]||tt,dt=y["a"+tt+"ref"],gt={x:D,y:T}[tt],Mt=(U+(tt==="x"?0:-90))*Math.PI/180,Ct=We*Math.cos(Mt),Wt=Fe*Math.sin(Mt),Xe=Math.abs(Ct)+Math.abs(Wt),ke=y[tt+"anchor"],Ie=y[tt+"shift"]*(tt==="x"?1:-1),Oe=H[tt],_e,Ae,ce,be,Re,Ue=p.getRefType(vt);if(gt&&Ue!=="domain"){var nt=gt.r2fraction(y[tt]);(nt<0||nt>1)&&(dt===vt?(nt=gt.r2fraction(y["a"+tt]),(nt<0||nt>1)&&(it=!0)):it=!0),_e=gt._offset+gt.r2p(y[tt]),be=.5}else{var ot=Ue==="domain";tt==="x"?(ce=y[tt],_e=ot?gt._offset+gt._length*ce:_e=A.l+A.w*ce):(ce=1-y[tt],_e=ot?gt._offset+gt._length*ce:_e=A.t+A.h*ce),be=y.showarrow?.5:ce}if(y.showarrow){Oe.head=_e;var wt=y["a"+tt];if(Re=Ct*Ge(.5,y.xanchor)-Wt*Ge(.5,y.yanchor),dt===vt){var _t=p.getRefType(dt);_t==="domain"?(tt==="y"&&(wt=1-wt),Oe.tail=gt._offset+gt._length*wt):_t==="paper"?tt==="y"?(wt=1-wt,Oe.tail=A.t+A.h*wt):Oe.tail=A.l+A.w*wt:Oe.tail=gt._offset+gt.r2p(wt),Ae=Re}else Oe.tail=_e+wt,Ae=Re+wt;Oe.text=Oe.tail+Re;var Ut=P[tt==="x"?"width":"height"];if(vt==="paper"&&(Oe.head=L.constrain(Oe.head,1,Ut-1)),dt==="pixel"){var Vt=-Math.max(Oe.tail-3,Oe.text),Lt=Math.min(Oe.tail+3,Oe.text)-Ut;Vt>0?(Oe.tail+=Vt,Oe.text+=Vt):Lt>0&&(Oe.tail-=Lt,Oe.text-=Lt)}Oe.tail+=Ie,Oe.head+=Ie}else Re=Xe*Ge(be,ke),Ae=Re,Oe.text=_e+Re;Oe.text+=Ie,Re+=Ie,Ae+=Ie,y["_"+tt+"padplus"]=Xe/2+Ae,y["_"+tt+"padminus"]=Xe/2-Ae,y["_"+tt+"size"]=Xe,y["_"+tt+"shift"]=Re}if(it){de.remove();return}var Kt=0,ar=0;if(y.align!=="left"&&(Kt=(Le-Ce)*(y.align==="center"?.5:1)),y.valign!=="top"&&(ar=(Ve-Te)*(y.valign==="middle"?.5:1)),Be)Me.select("svg").attr({x:Q+Kt-1,y:Q+ar}).call(t.setClipUrl,ne?W:null,u);else{var Fr=Q+ar-Ne.top,yt=Q+Kt-Ne.left;he.call(l.positionText,yt,Fr).call(t.setClipUrl,ne?W:null,u)}fe.select("rect").call(t.setRect,Q,Q,Le,Ve),$.call(t.setRect,ee/2,ee/2,We-ee,Fe-ee),de.call(t.setTranslate,Math.round(H.x.text-We/2),Math.round(H.y.text-Fe/2)),j.attr({transform:"rotate("+U+","+H.x.text+","+H.y.text+")"});var Xt=function(br,hr){G.selectAll(".annotation-arrow-g").remove();var ut=H.x.head,lt=H.y.head,xt=H.x.tail+br,Tt=H.y.tail+hr,Et=H.x.text+br,At=H.y.text+hr,Ft=L.rotationXYMatrix(U,Et,At),Ht=L.apply2DTransform(Ft),$t=L.apply2DTransform2(Ft),Qt=+$.attr("width"),or=+$.attr("height"),Er=Et-.5*Qt,Ze=Er+Qt,Ye=At-.5*or,Dt=Ye+or,It=[[Er,Ye,Er,Dt],[Er,Dt,Ze,Dt],[Ze,Dt,Ze,Ye],[Ze,Ye,Er,Ye]].map($t);if(!It.reduce(function(kr,pn){return kr^!!L.segmentsIntersect(ut,lt,ut+1e6,lt+1e6,pn[0],pn[1],pn[2],pn[3])},!1)){It.forEach(function(kr){var pn=L.segmentsIntersect(xt,Tt,ut,lt,kr[0],kr[1],kr[2],kr[3]);pn&&(xt=pn.x,Tt=pn.y)});var Zt=y.arrowwidth,nr=y.arrowcolor,lr=y.arrowside,rr=G.append("g").style({opacity:m.opacity(nr)}).classed("annotation-arrow-g",!0),zt=rr.append("path").attr("d","M"+xt+","+Tt+"L"+ut+","+lt).style("stroke-width",Zt+"px").call(m.stroke,m.rgb(nr));if(c(zt,lr,y),a.annotationPosition&&zt.node().parentNode&&!S){var fr=ut,dr=lt;if(y.standoff){var pr=Math.sqrt(Math.pow(ut-xt,2)+Math.pow(lt-Tt,2));fr+=y.standoff*(xt-ut)/pr,dr+=y.standoff*(Tt-lt)/pr}var vr=rr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(xt-fr)+","+(Tt-dr),transform:w(fr,dr)}).style("stroke-width",Zt+6+"px").call(m.stroke,"rgba(0,0,0,0)").call(m.fill,"rgba(0,0,0,0)"),Vr,_r;f.init({element:vr.node(),gd:u,prepFn:function(){var kr=t.getTranslate(de);Vr=kr.x,_r=kr.y,D&&D.autorange&&O(D._name+".autorange",!0),T&&T.autorange&&O(T._name+".autorange",!0)},moveFn:function(kr,pn){var Xr=Ht(Vr,_r),_n=Xr[0]+kr,Dn=Xr[1]+pn;de.call(t.setTranslate,_n,Dn),Y("x",M(D,kr,"x",A,y)),Y("y",M(T,pn,"y",A,y)),y.axref===y.xref&&Y("ax",M(D,kr,"ax",A,y)),y.ayref===y.yref&&Y("ay",M(T,pn,"ay",A,y)),rr.attr("transform",w(kr,pn)),j.attr({transform:"rotate("+U+","+_n+","+Dn+")"})},doneFn:function(){E.call("_guiRelayout",u,B());var kr=document.querySelector(".js-notes-box-panel");kr&&kr.redraw(kr.selectedObj)}})}}};if(y.showarrow&&Xt(0,0),re){var Yt;f.init({element:de.node(),gd:u,prepFn:function(){Yt=j.attr("transform")},moveFn:function(br,hr){var ut="pointer";if(y.showarrow)y.axref===y.xref?Y("ax",M(D,br,"ax",A,y)):Y("ax",y.ax+br),y.ayref===y.yref?Y("ay",M(T,hr,"ay",A.w,y)):Y("ay",y.ay+hr),Xt(br,hr);else{if(S)return;var lt,xt;if(D)lt=M(D,br,"x",A,y);else{var Tt=y._xsize/A.w,Et=y.x+(y._xshift-y.xshift)/A.w-Tt/2;lt=f.align(Et+br/A.w,Tt,0,1,y.xanchor)}if(T)xt=M(T,hr,"y",A,y);else{var At=y._ysize/A.h,Ft=y.y-(y._yshift+y.yshift)/A.h-At/2;xt=f.align(Ft-hr/A.h,At,0,1,y.yanchor)}Y("x",lt),Y("y",xt),(!D||!T)&&(ut=f.getCursor(D?.5:lt,T?.5:xt,y.xanchor,y.yanchor))}j.attr({transform:w(br,hr)+Yt}),i(de,ut)},clickFn:function(br,hr){y.captureevents&&u.emit("plotly_clickannotation",ue(hr))},doneFn:function(){i(de),E.call("_guiRelayout",u,B());var br=document.querySelector(".js-notes-box-panel");br&&br.redraw(br.selectedObj)}})}}a.annotationText?he.call(l.makeEditable,{delegate:de,gd:u}).call(se).on("edit",function(we){y.text=we,this.call(se),Y("text",we),D&&D.autorange&&O(D._name+".autorange",!0),T&&T.autorange&&O(T._name+".autorange",!0),E.call("_guiRelayout",u,B())}):he.call(se)}},13011:function(k,F,e){var h=e(39898),E=e(7901),n=e(82884),L=e(71828),w=L.strScale,p=L.strRotate,m=L.strTranslate;k.exports=function(r,l,i){var f=r.node(),v=n[i.arrowhead||0],c=n[i.startarrowhead||0],x=(i.arrowwidth||1)*(i.arrowsize||1),d=(i.arrowwidth||1)*(i.startarrowsize||1),M=l.indexOf("start")>=0,g=l.indexOf("end")>=0,u=v.backoff*x+i.standoff,y=c.backoff*d+i.startstandoff,C,S,D,T;if(f.nodeName==="line"){C={x:+r.attr("x1"),y:+r.attr("y1")},S={x:+r.attr("x2"),y:+r.attr("y2")};var P=C.x-S.x,A=C.y-S.y;if(D=Math.atan2(A,P),T=D+Math.PI,u&&y&&u+y>Math.sqrt(P*P+A*A)){j();return}if(u){if(u*u>P*P+A*A){j();return}var a=u*Math.cos(D),R=u*Math.sin(D);S.x+=a,S.y+=R,r.attr({x2:S.x,y2:S.y})}if(y){if(y*y>P*P+A*A){j();return}var b=y*Math.cos(D),N=y*Math.sin(D);C.x-=b,C.y-=N,r.attr({x1:C.x,y1:C.y})}}else if(f.nodeName==="path"){var O=f.getTotalLength(),Y="";if(O<u+y){j();return}var B=f.getPointAtLength(0),W=f.getPointAtLength(.1);D=Math.atan2(B.y-W.y,B.x-W.x),C=f.getPointAtLength(Math.min(y,O)),Y="0px,"+y+"px,";var H=f.getPointAtLength(O),U=f.getPointAtLength(O-.1);T=Math.atan2(H.y-U.y,H.x-U.x),S=f.getPointAtLength(Math.max(0,O-u));var G=Y?y+u:u;Y+=O-G+"px,"+O+"px",r.style("stroke-dasharray",Y)}function j(){r.style("stroke-dasharray","0px,100px")}function re(ae,ue,de,ee){ae.path&&(ae.noRotate&&(de=0),h.select(f.parentNode).append("path").attr({class:r.attr("class"),d:ae.path,transform:m(ue.x,ue.y)+p(de*180/Math.PI)+w(ee)}).style({fill:E.rgb(i.arrowcolor),"stroke-width":0}))}M&&re(c,C,D,d),g&&re(v,S,T,x)}},32745:function(k,F,e){var h=e(92605),E=e(44317);k.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:h.draw,drawOne:h.drawOne,drawRaw:h.drawRaw,hasClickToShow:E.hasClickToShow,onClick:E.onClick,convertCoords:e(94128)}},26997:function(k,F,e){var h=e(50215),E=e(30962).overrideAll,n=e(44467).templatedArray;k.exports=E(n("annotation",{visible:h.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:h.xanchor,xshift:h.xshift,yanchor:h.yanchor,yshift:h.yshift,text:h.text,textangle:h.textangle,font:h.font,width:h.width,height:h.height,opacity:h.opacity,align:h.align,valign:h.valign,bgcolor:h.bgcolor,bordercolor:h.bordercolor,borderpad:h.borderpad,borderwidth:h.borderwidth,showarrow:h.showarrow,arrowcolor:h.arrowcolor,arrowhead:h.arrowhead,startarrowhead:h.startarrowhead,arrowside:h.arrowside,arrowsize:h.arrowsize,startarrowsize:h.startarrowsize,arrowwidth:h.arrowwidth,standoff:h.standoff,startstandoff:h.startstandoff,hovertext:h.hovertext,hoverlabel:h.hoverlabel,captureevents:h.captureevents}),"calc","from-root")},5485:function(k,F,e){var h=e(71828),E=e(89298);k.exports=function(w){for(var p=w.fullSceneLayout,m=p.annotations,t=0;t<m.length;t++)n(m[t],w);w.fullLayout._infolayer.selectAll(".annotation-"+w.id).remove()};function n(L,w){var p=w.fullSceneLayout,m=p.domain,t=w.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},h.extendFlat(L._xa,r),E.setConvert(L._xa),L._xa._offset=t.l+m.x[0]*t.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*t.w*(m.x[1]-m.x[0])},L._ya={},h.extendFlat(L._ya,r),E.setConvert(L._ya),L._ya._offset=t.t+(1-m.y[1])*t.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*t.h*(m.y[1]-m.y[0])}}},20226:function(k,F,e){var h=e(71828),E=e(89298),n=e(85501),L=e(25625),w=e(26997);k.exports=function(t,r,l){n(t,r,{name:"annotations",handleItemDefaults:p,fullLayout:l.fullLayout})};function p(m,t,r,l){function i(c,x){return h.coerce(m,t,w,c,x)}function f(c){var x=c+"axis",d={_fullLayout:{}};return d._fullLayout[x]=r[x],E.coercePosition(t,d,i,c,c,.5)}var v=i("visible");v&&(L(m,t,l.fullLayout,i),f("x"),f("y"),f("z"),h.noneOrAll(m,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",i("xanchor"),i("yanchor"),i("xshift"),i("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",i("ax",-10),i("ay",-30),h.noneOrAll(m,t,["ax","ay"])))}},82188:function(k,F,e){var h=e(92605).drawRaw,E=e(63538),n=["x","y","z"];k.exports=function(w){for(var p=w.fullSceneLayout,m=w.dataScale,t=p.annotations,r=0;r<t.length;r++){for(var l=t[r],i=!1,f=0;f<3;f++){var v=n[f],c=l[v],x=p[v+"axis"],d=x.r2fraction(c);if(d<0||d>1){i=!0;break}}i?w.fullLayout._infolayer.select(".annotation-"+w.id+'[data-index="'+r+'"]').remove():(l._pdata=E(w.glplot.cameraParams,[p.xaxis.r2l(l.x)*m[0],p.yaxis.r2l(l.y)*m[1],p.zaxis.r2l(l.z)*m[2]]),h(w.graphDiv,l,r,w.id,l._xa,l._ya))}}},2468:function(k,F,e){var h=e(73972),E=e(71828);k.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:n,convert:e(5485),draw:e(82188)};function n(L,w){var p=h.subplotsRegistry.gl3d;if(p)for(var m=p.attrRegex,t=Object.keys(L),r=0;r<t.length;r++){var l=t[r];m.test(l)&&(L[l].annotations||[]).length&&(E.pushUnique(w._basePlotModules,p),E.pushUnique(w._subplots.gl3d,l))}}},7561:function(k,F,e){k.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(k,F,e){var h=e(7561),E=e(71828),n=e(50606),L=n.EPOCHJD,w=n.ONEDAY,p={valType:"enumerated",values:E.sortObjectKeys(h.calendars),editType:"calc",dflt:"gregorian"},m=function(D,T,P,A){var a={};return a[P]=p,E.coerce(D,T,a,P,A)},t=function(D,T,P,A){for(var a=0;a<P.length;a++)m(D,T,P[a]+"calendar",A.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},l={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},i={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},f="##",v={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:f,w:f,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function c(D,T,P){for(var A=Math.floor((T+.05)/w)+L,a=d(P).fromJD(A),R=0,b,N,O,Y,B;(R=D.indexOf("%",R))!==-1;)b=D.charAt(R+1),b==="0"||b==="-"||b==="_"?(O=3,N=D.charAt(R+2),b==="_"&&(b="-")):(N=b,b="0",O=2),Y=v[N],Y?(Y===f?B=f:B=a.formatDate(Y[b]),D=D.substr(0,R)+B+D.substr(R+O),R+=B.length):R+=O;return D}var x={};function d(D){var T=x[D];return T||(T=x[D]=h.instance(D),T)}function M(D){return E.extendFlat({},p,{description:D})}function g(D){return"Sets the calendar system to use with `"+D+"` date data."}var u={xcalendar:M(g("x"))},y=E.extendFlat({},u,{ycalendar:M(g("y"))}),C=E.extendFlat({},y,{zcalendar:M(g("z"))}),S=M(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));k.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:y,bar:y,box:y,heatmap:y,contour:y,histogram:y,histogram2d:y,histogram2dcontour:y,scatter3d:C,surface:C,mesh3d:C,scattergl:y,ohlc:u,candlestick:u},layout:{calendar:M(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:S},yaxis:{calendar:S},scene:{xaxis:{calendar:S},yaxis:{calendar:S},zaxis:{calendar:S}},polar:{radialaxis:{calendar:S}}},transforms:{filter:{valuecalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:p,handleDefaults:m,handleTraceDefaults:t,CANONICAL_SUNDAY:l,CANONICAL_TICK:r,DFLTRANGE:i,getCal:d,worldCalFmt:c}},22399:function(k,F){F.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],F.defaultLine="#444",F.lightLine="#eee",F.background="#fff",F.borderLine="#BEC8D9",F.lightFraction=90.9090909090909},7901:function(k,F,e){var h=e(84267),E=e(92770),n=e(73627).isTypedArray,L=k.exports={},w=e(22399);L.defaults=w.defaults;var p=L.defaultLine=w.defaultLine;L.lightLine=w.lightLine;var m=L.background=w.background;L.tinyRGB=function(r){var l=r.toRgb();return"rgb("+Math.round(l.r)+", "+Math.round(l.g)+", "+Math.round(l.b)+")"},L.rgb=function(r){return L.tinyRGB(h(r))},L.opacity=function(r){return r?h(r).getAlpha():0},L.addOpacity=function(r,l){var i=h(r).toRgb();return"rgba("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+", "+l+")"},L.combine=function(r,l){var i=h(r).toRgb();if(i.a===1)return h(r).toRgbString();var f=h(l||m).toRgb(),v=f.a===1?f:{r:255*(1-f.a)+f.r*f.a,g:255*(1-f.a)+f.g*f.a,b:255*(1-f.a)+f.b*f.a},c={r:v.r*(1-i.a)+i.r*i.a,g:v.g*(1-i.a)+i.g*i.a,b:v.b*(1-i.a)+i.b*i.a};return h(c).toRgbString()},L.contrast=function(r,l,i){var f=h(r);f.getAlpha()!==1&&(f=h(L.combine(r,m)));var v=f.isDark()?l?f.lighten(l):m:i?f.darken(i):p;return v.toString()},L.stroke=function(r,l){var i=h(l);r.style({stroke:L.tinyRGB(i),"stroke-opacity":i.getAlpha()})},L.fill=function(r,l){var i=h(l);r.style({fill:L.tinyRGB(i),"fill-opacity":i.getAlpha()})},L.clean=function(r){if(!(!r||typeof r!="object")){var l=Object.keys(r),i,f,v,c;for(i=0;i<l.length;i++)if(v=l[i],c=r[v],v.substr(v.length-5)==="color")if(Array.isArray(c))for(f=0;f<c.length;f++)c[f]=t(c[f]);else r[v]=t(c);else if(v.substr(v.length-10)==="colorscale"&&Array.isArray(c))for(f=0;f<c.length;f++)Array.isArray(c[f])&&(c[f][1]=t(c[f][1]));else if(Array.isArray(c)){var x=c[0];if(!Array.isArray(x)&&x&&typeof x=="object")for(f=0;f<c.length;f++)L.clean(c[f])}else c&&typeof c=="object"&&!n(c)&&L.clean(c)}};function t(r){if(E(r)||typeof r!="string")return r;var l=r.trim();if(l.substr(0,3)!=="rgb")return r;var i=l.match(/^rgba?\s*\(([^()]*)\)$/);if(!i)return r;var f=i[1].trim().split(/\s*[\s,]\s*/),v=l.charAt(3)==="a"&&f.length===4;if(!v&&f.length!==3)return r;for(var c=0;c<f.length;c++){if(!f[c].length||(f[c]=Number(f[c]),!(f[c]>=0)))return r;if(c===3)f[c]>1&&(f[c]=1);else if(f[c]>=1)return r}var x=Math.round(f[0]*255)+", "+Math.round(f[1]*255)+", "+Math.round(f[2]*255);return v?"rgba("+x+", "+f[3]+")":"rgb("+x+")"}},63583:function(k,F,e){var h=e(13838),E=e(41940),n=e(1426).extendFlat,L=e(30962).overrideAll;k.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:h.linecolor,outlinewidth:h.linewidth,bordercolor:h.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:h.minor.tickmode,nticks:h.nticks,tick0:h.tick0,dtick:h.dtick,tickvals:h.tickvals,ticktext:h.ticktext,ticks:n({},h.ticks,{dflt:""}),ticklabeloverflow:n({},h.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:h.ticklen,tickwidth:h.tickwidth,tickcolor:h.tickcolor,ticklabelstep:h.ticklabelstep,showticklabels:h.showticklabels,labelalias:h.labelalias,tickfont:E({}),tickangle:h.tickangle,tickformat:h.tickformat,tickformatstops:h.tickformatstops,tickprefix:h.tickprefix,showtickprefix:h.showtickprefix,ticksuffix:h.ticksuffix,showticksuffix:h.showticksuffix,separatethousands:h.separatethousands,exponentformat:h.exponentformat,minexponent:h.minexponent,showexponent:h.showexponent,title:{text:{valType:"string"},font:E({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:E({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(k){k.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(k,F,e){var h=e(71828),E=e(44467),n=e(26218),L=e(38701),w=e(96115),p=e(89426),m=e(63583);k.exports=function(r,l,i){var f=E.newContainer(l,"colorbar"),v=r.colorbar||{};function c(H,U){return h.coerce(v,f,m,H,U)}var x=i.margin||{t:0,b:0,l:0,r:0},d=i.width-x.l-x.r,M=i.height-x.t-x.b,g=c("orientation"),u=g==="v",y=c("thicknessmode");c("thickness",y==="fraction"?30/(u?d:M):30);var C=c("lenmode");c("len",C==="fraction"?1:u?M:d);var S=c("yref"),D=c("xref"),T=S==="paper",P=D==="paper",A,a,R,b="left";u?(R="middle",b=P?"left":"right",A=P?1.02:1,a=.5):(R=T?"bottom":"top",b="center",A=.5,a=T?1.02:1),h.coerce(v,f,{x:{valType:"number",min:P?-2:0,max:P?3:1,dflt:A}},"x"),h.coerce(v,f,{y:{valType:"number",min:T?-2:0,max:T?3:1,dflt:a}},"y"),c("xanchor",b),c("xpad"),c("yanchor",R),c("ypad"),h.noneOrAll(v,f,["x","y"]),c("outlinecolor"),c("outlinewidth"),c("bordercolor"),c("borderwidth"),c("bgcolor");var N=h.coerce(v,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:u?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");c("ticklabeloverflow",N.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(v,f,c,"linear");var O=i.font,Y={outerTicks:!1,font:O};N.indexOf("inside")!==-1&&(Y.bgColor="black"),p(v,f,c,"linear",Y),w(v,f,c,"linear",Y),L(v,f,c,"linear",Y),c("title.text",i._dfltTitle.colorbar);var B=f.showticklabels?f.tickfont:O,W=h.extendFlat({},B,{color:O.color,size:h.bigFont(B.size)});h.coerceFont(c,"title.font",W),c("title.side",u?"top":"right")}},98981:function(k,F,e){var h=e(39898),E=e(84267),n=e(74875),L=e(73972),w=e(89298),p=e(28569),m=e(71828),t=m.strTranslate,r=e(1426).extendFlat,l=e(6964),i=e(91424),f=e(7901),v=e(92998),c=e(63893),x=e(52075).flipScale,d=e(71453),M=e(52830),g=e(13838),u=e(18783),y=u.LINE_SPACING,C=u.FROM_TL,S=u.FROM_BR,D=e(30939).cn;function T(N){var O=N._fullLayout,Y=O._infolayer.selectAll("g."+D.colorbar).data(P(N),function(B){return B._id});Y.enter().append("g").attr("class",function(B){return B._id}).classed(D.colorbar,!0),Y.each(function(B){var W=h.select(this);m.ensureSingle(W,"rect",D.cbbg),m.ensureSingle(W,"g",D.cbfills),m.ensureSingle(W,"g",D.cblines),m.ensureSingle(W,"g",D.cbaxis,function(U){U.classed(D.crisp,!0)}),m.ensureSingle(W,"g",D.cbtitleunshift,function(U){U.append("g").classed(D.cbtitle,!0)}),m.ensureSingle(W,"rect",D.cboutline);var H=A(W,B,N);H&&H.then&&(N._promises||[]).push(H),N._context.edits.colorbarPosition&&a(W,B,N)}),Y.exit().each(function(B){n.autoMargin(N,B._id)}).remove(),Y.order()}function P(N){var O=N._fullLayout,Y=N.calcdata,B=[],W,H,U,G;function j(te){return r(te,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function re(){typeof G.calc=="function"?G.calc(N,U,W):(W._fillgradient=H.reversescale?x(H.colorscale):H.colorscale,W._zrange=[H[G.min],H[G.max]])}for(var ae=0;ae<Y.length;ae++){var ue=Y[ae];if(U=ue[0].trace,!!U._module){var de=U._module.colorbar;if(U.visible===!0&&de)for(var ee=Array.isArray(de),X=ee?de:[de],Q=0;Q<X.length;Q++){G=X[Q];var $=G.container;H=$?U[$]:U,H&&H.showscale&&(W=j(H.colorbar),W._id="cb"+U.uid+(ee&&$?"-"+$:""),W._traceIndex=U.index,W._propPrefix=($?$+".":"")+"colorbar.",W._meta=U._meta,re(),B.push(W))}}}for(var ne in O._colorAxes)if(H=O[ne],H.showscale){var fe=O._colorAxes[ne];W=j(H.colorbar),W._id="cb"+ne,W._propPrefix=ne+".colorbar.",W._meta=O._meta,G={min:"cmin",max:"cmax"},fe[0]!=="heatmap"&&(U=fe[1],G.calc=U._module.colorbar.calc),re(),B.push(W)}return B}function A(N,O,Y){var B=O.orientation==="v",W=O.len,H=O.lenmode,U=O.thickness,G=O.thicknessmode,j=O.outlinewidth,re=O.borderwidth,ae=O.bgcolor,ue=O.xanchor,de=O.yanchor,ee=O.xpad,X=O.ypad,Q=O.x,$=B?O.y:1-O.y,ne=O.yref==="paper",fe=O.xref==="paper",te=Y._fullLayout,q=te._size,he=O._fillcolor,se=O._line,pe=O.title,we=pe.side,Ee=O._zrange||h.extent((typeof he=="function"?he:se.color).domain()),Me=typeof se.color=="function"?se.color:function(){return se.color},Be=typeof he=="function"?he:function(){return he},Ne=O._levels,Ce=R(Y,O,Ee),Te=Ce.fill,Le=Ce.line,Ve=Math.round(U*(G==="fraction"?B?q.w:q.h:1)),We=Ve/(B?q.w:q.h),Fe=Math.round(W*(H==="fraction"?B?q.h:q.w:1)),Ge=Fe/(B?q.h:q.w),it=fe?q.w:Y._fullLayout.width,qe=ne?q.h:Y._fullLayout.height,$e=Math.round(B?Q*it+ee:$*qe+X),tt={center:.5,right:1}[ue]||0,vt={top:1,middle:.5}[de]||0,dt=B?Q-tt*We:$-vt*We,gt=B?$-vt*Ge:Q-tt*Ge,Mt=Math.round(B?qe*(1-gt):it*gt);O._lenFrac=Ge,O._thickFrac=We,O._uFrac=dt,O._vFrac=gt;var Ct=O._axis=b(Y,O,Ee);Ct.position=We+(B?Q+ee/q.w:$+X/q.h);var Wt=["top","bottom"].indexOf(we)!==-1;if(B&&Wt&&(Ct.title.side=we,Ct.titlex=Q+ee/q.w,Ct.titley=gt+(pe.side==="top"?Ge-X/q.h:X/q.h)),!B&&!Wt&&(Ct.title.side=we,Ct.titley=$+X/q.h,Ct.titlex=gt+ee/q.w),se.color&&O.tickmode==="auto"){Ct.tickmode="linear",Ct.tick0=Ne.start;var Xe=Ne.size,ke=m.constrain(Fe/50,4,15)+1,Ie=(Ee[1]-Ee[0])/((O.nticks||ke)*Xe);if(Ie>1){var Oe=Math.pow(10,Math.floor(Math.log(Ie)/Math.LN10));Xe*=Oe*m.roundUp(Ie/Oe,[2,5,10]),(Math.abs(Ne.start)/Ne.size+1e-6)%1<2e-6&&(Ct.tick0=0)}Ct.dtick=Xe}Ct.domain=B?[gt+X/q.h,gt+Ge-X/q.h]:[gt+ee/q.w,gt+Ge-ee/q.w],Ct.setScale(),N.attr("transform",t(Math.round(q.l),Math.round(q.t)));var _e=N.select("."+D.cbtitleunshift).attr("transform",t(-Math.round(q.l),-Math.round(q.t))),Ae=Ct.ticklabelposition,ce=Ct.title.font.size,be=N.select("."+D.cbaxis),Re,Ue=0,nt=0;function ot(Lt,Kt){var ar={propContainer:Ct,propName:O._propPrefix+"title",traceIndex:O._traceIndex,_meta:O._meta,placeholder:te._dfltTitle.colorbar,containerGroup:N.select("."+D.cbtitle)},Fr=Lt.charAt(0)==="h"?Lt.substr(1):"h"+Lt;N.selectAll("."+Fr+",."+Fr+"-math-group").remove(),v.draw(Y,Lt,r(ar,Kt||{}))}function wt(){if(B&&Wt||!B&&!Wt){var Lt,Kt;we==="top"&&(Lt=ee+q.l+it*Q,Kt=X+q.t+qe*(1-gt-Ge)+3+ce*.75),we==="bottom"&&(Lt=ee+q.l+it*Q,Kt=X+q.t+qe*(1-gt)-3-ce*.25),we==="right"&&(Kt=X+q.t+qe*$+3+ce*.75,Lt=ee+q.l+it*gt),ot(Ct._id+"title",{attributes:{x:Lt,y:Kt,"text-anchor":B?"start":"middle"}})}}function _t(){if(B&&!Wt||!B&&Wt){var Lt=Ct.position||0,Kt=Ct._offset+Ct._length/2,ar,Fr;if(we==="right")Fr=Kt,ar=q.l+it*Lt+10+ce*(Ct.showticklabels?1:.5);else if(ar=Kt,we==="bottom"&&(Fr=q.t+qe*Lt+10+(Ae.indexOf("inside")===-1?Ct.tickfont.size:0)+(Ct.ticks!=="intside"&&O.ticklen||0)),we==="top"){var yt=pe.text.split("<br>").length;Fr=q.t+qe*Lt+10-Ve-y*ce*yt}ot((B?"h":"v")+Ct._id+"title",{avoid:{selection:h.select(Y).selectAll("g."+Ct._id+"tick"),side:we,offsetTop:B?0:q.t,offsetLeft:B?q.l:0,maxShift:B?te.width:te.height},attributes:{x:ar,y:Fr,"text-anchor":"middle"},transform:{rotate:B?-90:0,offset:0}})}}function Ut(){if(!B&&!Wt||B&&Wt){var Lt=N.select("."+D.cbtitle),Kt=Lt.select("text"),ar=[-j/2,j/2],Fr=Lt.select(".h"+Ct._id+"title-math-group").node(),yt=15.6;Kt.node()&&(yt=parseInt(Kt.node().style.fontSize,10)*y);var Xt;if(Fr?(Xt=i.bBox(Fr),nt=Xt.width,Ue=Xt.height,Ue>yt&&(ar[1]-=(Ue-yt)/2)):Kt.node()&&!Kt.classed(D.jsPlaceholder)&&(Xt=i.bBox(Kt.node()),nt=Xt.width,Ue=Xt.height),B){if(Ue){if(Ue+=5,we==="top")Ct.domain[1]-=Ue/q.h,ar[1]*=-1;else{Ct.domain[0]+=Ue/q.h;var Yt=c.lineCount(Kt);ar[1]+=(1-Yt)*yt}Lt.attr("transform",t(ar[0],ar[1])),Ct.setScale()}}else nt&&(we==="right"&&(Ct.domain[0]+=(nt+ce/2)/q.w),Lt.attr("transform",t(ar[0],ar[1])),Ct.setScale())}N.selectAll("."+D.cbfills+",."+D.cblines).attr("transform",B?t(0,Math.round(q.h*(1-Ct.domain[1]))):t(Math.round(q.w*Ct.domain[0]),0)),be.attr("transform",B?t(0,Math.round(-q.t)):t(Math.round(-q.l),0));var br=N.select("."+D.cbfills).selectAll("rect."+D.cbfill).attr("style","").data(Te);br.enter().append("rect").classed(D.cbfill,!0).attr("style",""),br.exit().remove();var hr=Ee.map(Ct.c2p).map(Math.round).sort(function(Et,At){return Et-At});br.each(function(Et,At){var Ft=[At===0?Ee[0]:(Te[At]+Te[At-1])/2,At===Te.length-1?Ee[1]:(Te[At]+Te[At+1])/2].map(Ct.c2p).map(Math.round);B&&(Ft[1]=m.constrain(Ft[1]+(Ft[1]>Ft[0])?1:-1,hr[0],hr[1]));var Ht=h.select(this).attr(B?"x":"y",$e).attr(B?"y":"x",h.min(Ft)).attr(B?"width":"height",Math.max(Ve,2)).attr(B?"height":"width",Math.max(h.max(Ft)-h.min(Ft),2));if(O._fillgradient)i.gradient(Ht,Y,O._id,B?"vertical":"horizontalreversed",O._fillgradient,"fill");else{var $t=Be(Et).replace("e-","");Ht.attr("fill",E($t).toHexString())}});var ut=N.select("."+D.cblines).selectAll("path."+D.cbline).data(se.color&&se.width?Le:[]);ut.enter().append("path").classed(D.cbline,!0),ut.exit().remove(),ut.each(function(Et){var At=$e,Ft=Math.round(Ct.c2p(Et))+se.width/2%1;h.select(this).attr("d","M"+(B?At+","+Ft:Ft+","+At)+(B?"h":"v")+Ve).call(i.lineGroupStyle,se.width,Me(Et),se.dash)}),be.selectAll("g."+Ct._id+"tick,path").remove();var lt=$e+Ve+(j||0)/2-(O.ticks==="outside"?1:0),xt=w.calcTicks(Ct),Tt=w.getTickSigns(Ct)[2];return w.drawTicks(Y,Ct,{vals:Ct.ticks==="inside"?w.clipEnds(Ct,xt):xt,layer:be,path:w.makeTickPath(Ct,lt,Tt),transFn:w.makeTransTickFn(Ct)}),w.drawLabels(Y,Ct,{vals:xt,layer:be,transFn:w.makeTransTickLabelFn(Ct),labelFns:w.makeLabelFns(Ct,lt)})}function Vt(){var Lt,Kt=Ve+j/2;Ae.indexOf("inside")===-1&&(Lt=i.bBox(be.node()),Kt+=B?Lt.width:Lt.height),Re=_e.select("text");var ar=0,Fr=B&&we==="top",yt=!B&&we==="right",Xt=0;if(Re.node()&&!Re.classed(D.jsPlaceholder)){var Yt,br=_e.select(".h"+Ct._id+"title-math-group").node();br&&(B&&Wt||!B&&!Wt)?(Lt=i.bBox(br),ar=Lt.width,Yt=Lt.height):(Lt=i.bBox(_e.node()),ar=Lt.right-q.l-(B?$e:Mt),Yt=Lt.bottom-q.t-(B?Mt:$e),!B&&we==="top"&&(Kt+=Lt.height,Xt=Lt.height)),yt&&(Re.attr("transform",t(ar/2+ce/2,0)),ar*=2),Kt=Math.max(Kt,B?ar:Yt)}var hr=(B?ee:X)*2+Kt+re+j/2,ut=0;!B&&pe.text&&de==="bottom"&&$<=0&&(ut=hr/2,hr+=ut,Xt+=ut),te._hColorbarMoveTitle=ut,te._hColorbarMoveCBTitle=Xt;var lt=re+j,xt=(B?$e:Mt)-lt/2-(B?ee:0),Tt=(B?Mt:$e)-(B?Fe:X+Xt-ut);N.select("."+D.cbbg).attr("x",xt).attr("y",Tt).attr(B?"width":"height",Math.max(hr-ut,2)).attr(B?"height":"width",Math.max(Fe+lt,2)).call(f.fill,ae).call(f.stroke,O.bordercolor).style("stroke-width",re);var Et=yt?Math.max(ar-10,0):0;N.selectAll("."+D.cboutline).attr("x",(B?$e:Mt+ee)+Et).attr("y",(B?Mt+X-Fe:$e)+(Fr?Ue:0)).attr(B?"width":"height",Math.max(Ve,2)).attr(B?"height":"width",Math.max(Fe-(B?2*X+Ue:2*ee+Et),2)).call(f.stroke,O.outlinecolor).style({fill:"none","stroke-width":j});var At=B?tt*hr:0,Ft=B?0:(1-vt)*hr-Xt;if(At=fe?q.l-At:-At,Ft=ne?q.t-Ft:-Ft,N.attr("transform",t(At,Ft)),!B&&(re||E(ae).getAlpha()&&!E.equals(te.paper_bgcolor,ae))){var Ht=be.selectAll("text"),$t=Ht[0].length,Qt=N.select("."+D.cbbg).node(),or=i.bBox(Qt),Er=i.getTranslate(N),Ze=2;Ht.each(function(dr,pr){var vr=0,Vr=$t-1;if(pr===vr||pr===Vr){var _r=i.bBox(this),kr=i.getTranslate(this),pn;if(pr===Vr){var Xr=_r.right+kr.x,_n=or.right+Er.x+Mt-re-Ze+Q;pn=_n-Xr,pn>0&&(pn=0)}else if(pr===vr){var Dn=_r.left+kr.x,xr=or.left+Er.x+Mt+re+Ze;pn=xr-Dn,pn<0&&(pn=0)}pn&&($t<3?this.setAttribute("transform","translate("+pn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ye={},Dt=C[ue],It=S[ue],Zt=C[de],nr=S[de],lr=hr-Ve;B?(H==="pixels"?(Ye.y=$,Ye.t=Fe*Zt,Ye.b=Fe*nr):(Ye.t=Ye.b=0,Ye.yt=$+W*Zt,Ye.yb=$-W*nr),G==="pixels"?(Ye.x=Q,Ye.l=hr*Dt,Ye.r=hr*It):(Ye.l=lr*Dt,Ye.r=lr*It,Ye.xl=Q-U*Dt,Ye.xr=Q+U*It)):(H==="pixels"?(Ye.x=Q,Ye.l=Fe*Dt,Ye.r=Fe*It):(Ye.l=Ye.r=0,Ye.xl=Q+W*Dt,Ye.xr=Q-W*It),G==="pixels"?(Ye.y=1-$,Ye.t=hr*Zt,Ye.b=hr*nr):(Ye.t=lr*Zt,Ye.b=lr*nr,Ye.yt=$-U*Zt,Ye.yb=$+U*nr));var rr=O.y<.5?"b":"t",zt=O.x<.5?"l":"r";Y._fullLayout._reservedMargin[O._id]={};var fr={r:te.width-xt-At,l:xt+Ye.r,b:te.height-Tt-Ft,t:Tt+Ye.b};fe&&ne?n.autoMargin(Y,O._id,Ye):fe?Y._fullLayout._reservedMargin[O._id][rr]=fr[rr]:ne||B?Y._fullLayout._reservedMargin[O._id][zt]=fr[zt]:Y._fullLayout._reservedMargin[O._id][rr]=fr[rr]}return m.syncOrAsync([n.previousPromises,wt,Ut,_t,n.previousPromises,Vt],Y)}function a(N,O,Y){var B=O.orientation==="v",W=Y._fullLayout,H=W._size,U,G,j;p.init({element:N.node(),gd:Y,prepFn:function(){U=N.attr("transform"),l(N)},moveFn:function(re,ae){N.attr("transform",U+t(re,ae)),G=p.align((B?O._uFrac:O._vFrac)+re/H.w,B?O._thickFrac:O._lenFrac,0,1,O.xanchor),j=p.align((B?O._vFrac:1-O._uFrac)-ae/H.h,B?O._lenFrac:O._thickFrac,0,1,O.yanchor);var ue=p.getCursor(G,j,O.xanchor,O.yanchor);l(N,ue)},doneFn:function(){if(l(N),G!==void 0&&j!==void 0){var re={};re[O._propPrefix+"x"]=G,re[O._propPrefix+"y"]=j,O._traceIndex!==void 0?L.call("_guiRestyle",Y,re,O._traceIndex):L.call("_guiRelayout",Y,re)}}})}function R(N,O,Y){var B=O._levels,W=[],H=[],U,G,j=B.end+B.size/100,re=B.size,ae=1.001*Y[0]-.001*Y[1],ue=1.001*Y[1]-.001*Y[0];for(G=0;G<1e5&&(U=B.start+G*re,!(re>0?U>=j:U<=j));G++)U>ae&&U<ue&&W.push(U);if(O._fillgradient)H=[0];else if(typeof O._fillcolor=="function"){var de=O._filllevels;if(de)for(j=de.end+de.size/100,re=de.size,G=0;G<1e5&&(U=de.start+G*re,!(re>0?U>=j:U<=j));G++)U>Y[0]&&U<Y[1]&&H.push(U);else H=W.map(function(ee){return ee-B.size/2}),H.push(H[H.length-1]+B.size)}else O._fillcolor&&typeof O._fillcolor=="string"&&(H=[0]);return B.size<0&&(W.reverse(),H.reverse()),{line:W,fill:H}}function b(N,O,Y){var B=N._fullLayout,W=O.orientation==="v",H={type:"linear",range:Y,tickmode:O.tickmode,nticks:O.nticks,tick0:O.tick0,dtick:O.dtick,tickvals:O.tickvals,ticktext:O.ticktext,ticks:O.ticks,ticklen:O.ticklen,tickwidth:O.tickwidth,tickcolor:O.tickcolor,showticklabels:O.showticklabels,labelalias:O.labelalias,ticklabelposition:O.ticklabelposition,ticklabeloverflow:O.ticklabeloverflow,ticklabelstep:O.ticklabelstep,tickfont:O.tickfont,tickangle:O.tickangle,tickformat:O.tickformat,exponentformat:O.exponentformat,minexponent:O.minexponent,separatethousands:O.separatethousands,showexponent:O.showexponent,showtickprefix:O.showtickprefix,tickprefix:O.tickprefix,showticksuffix:O.showticksuffix,ticksuffix:O.ticksuffix,title:O.title,showline:!0,anchor:"free",side:W?"right":"bottom",position:1},U=W?"y":"x",G={type:"linear",_id:U+O._id},j={letter:U,font:B.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:B.calendar};function re(ae,ue){return m.coerce(H,G,g,ae,ue)}return d(H,G,re,j,B),M(H,G,re,j),G}k.exports={draw:T}},76228:function(k,F,e){var h=e(71828);k.exports=function(n){return h.isPlainObject(n.colorbar)}},12311:function(k,F,e){k.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(k,F,e){var h=e(63583),E=e(30587).counter,n=e(78607),L=e(63282).scales;n(L),k.exports=function(p,m){p=p||"",m=m||{};var t=m.cLetter||"c";"onlyIfNumerical"in m?m.onlyIfNumerical:Boolean(p);var r="noScale"in m?m.noScale:p==="marker.line",l="showScaleDflt"in m?m.showScaleDflt:t==="z",i=typeof m.colorscaleDflt=="string"?L[m.colorscaleDflt]:null,f=m.editTypeOverride||"",v;"colorAttr"in m?(v=m.colorAttr,m.colorAttr):v={z:"z",c:"color"}[t];var c=t+"auto",x=t+"min",d=t+"max",M=t+"mid",g={};g[x]=g[d]=void 0;var u={};u[c]=!1;var y={};return v==="color"&&(y.color={valType:"color",arrayOk:!0,editType:f||"style"},m.anim&&(y.color.anim=!0)),y[c]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:g},y[x]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:u},y[d]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:u},y[M]={valType:"number",dflt:null,editType:"calc",impliedEdits:g},y.colorscale={valType:"colorscale",editType:"calc",dflt:i,impliedEdits:{autocolorscale:!1}},y.autocolorscale={valType:"boolean",dflt:m.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},y.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(y.showscale={valType:"boolean",dflt:l,editType:"calc"},y.colorbar=h),m.noColorAxis||(y.coloraxis={valType:"subplotid",regex:E("coloraxis"),dflt:null,editType:"calc"}),y}},78803:function(k,F,e){var h=e(92770),E=e(71828),n=e(52075).extractOpts;k.exports=function(w,p,m){var t=w._fullLayout,r=m.vals,l=m.containerStr,i=l?E.nestedProperty(p,l).get():p,f=n(i),v=f.auto!==!1,c=f.min,x=f.max,d=f.mid,M=function(){return E.aggNums(Math.min,null,r)},g=function(){return E.aggNums(Math.max,null,r)};if(c===void 0?c=M():v&&(i._colorAx&&h(c)?c=Math.min(c,M()):c=M()),x===void 0?x=g():v&&(i._colorAx&&h(x)?x=Math.max(x,g()):x=g()),v&&d!==void 0&&(x-d>d-c?c=d-(x-d):x-d<d-c&&(x=d+(d-c))),c===x&&(c-=.5,x+=.5),f._sync("min",c),f._sync("max",x),f.autocolorscale){var u;c*x<0?u=t.colorscale.diverging:c>=0?u=t.colorscale.sequential:u=t.colorscale.sequentialminus,f._sync("colorscale",u)}}},33046:function(k,F,e){var h=e(71828),E=e(52075).hasColorscale,n=e(52075).extractOpts;k.exports=function(w,p){function m(c,x){var d=c["_"+x];d!==void 0&&(c[x]=d)}function t(c,x){var d=x.container?h.nestedProperty(c,x.container).get():c;if(d)if(d.coloraxis)d._colorAx=p[d.coloraxis];else{var M=n(d),g=M.auto;(g||M.min===void 0)&&m(d,x.min),(g||M.max===void 0)&&m(d,x.max),M.autocolorscale&&m(d,"colorscale")}}for(var r=0;r<w.length;r++){var l=w[r],i=l._module.colorbar;if(i)if(Array.isArray(i))for(var f=0;f<i.length;f++)t(l,i[f]);else t(l,i);E(l,"marker.line")&&t(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var v in p._colorAxes)t(p[v],{min:"cmin",max:"cmax"})}},1586:function(k,F,e){var h=e(92770),E=e(71828),n=e(76228),L=e(62499),w=e(63282).isValid,p=e(73972).traceIs;function m(t,r){var l=r.slice(0,r.length-1);return r?E.nestedProperty(t,l).get()||{}:t}k.exports=function t(r,l,i,f,v){var c=v.prefix,x=v.cLetter,d="_module"in l,M=m(r,c),g=m(l,c),u=m(l._template||{},c)||{},y=function(){return delete r.coloraxis,delete l.coloraxis,t(r,l,i,f,v)};if(d){var C=i._colorAxes||{},S=f(c+"coloraxis");if(S){var D=p(l,"contour")&&E.nestedProperty(l,"contours.coloring").get()||"heatmap",T=C[S];T?(T[2].push(y),T[0]!==D&&(T[0]=!1,E.warn(["Ignoring coloraxis:",S,"setting","as it is linked to incompatible colorscales."].join(" ")))):C[S]=[D,l,[y]];return}}var P=M[x+"min"],A=M[x+"max"],a=h(P)&&h(A)&&P<A,R=f(c+x+"auto",!a);R?f(c+x+"mid"):(f(c+x+"min"),f(c+x+"max"));var b=M.colorscale,N=u.colorscale,O;if(b!==void 0&&(O=!w(b)),N!==void 0&&(O=!w(N)),f(c+"autocolorscale",O),f(c+"colorscale"),f(c+"reversescale"),c!=="marker.line."){var Y;c&&d&&(Y=n(M));var B=f(c+"showscale",Y);B&&(c&&u&&(g._template=u),L(M,g,i))}}},52075:function(k,F,e){var h=e(39898),E=e(84267),n=e(92770),L=e(71828),w=e(7901),p=e(63282).isValid;function m(d,M,g){var u=M?L.nestedProperty(d,M).get()||{}:d,y=u[g||"color"],C=!1;if(L.isArrayOrTypedArray(y)){for(var S=0;S<y.length;S++)if(n(y[S])){C=!0;break}}return L.isPlainObject(u)&&(C||u.showscale===!0||n(u.cmin)&&n(u.cmax)||p(u.colorscale)||L.isPlainObject(u.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function l(d){var M=d._colorAx,g=M||d,u={},y,C,S;for(C=0;C<t.length;C++)S=t[C],u[S]=g[S];if(M)for(y="c",C=0;C<r.length;C++)S=r[C],u[S]=g["c"+S];else{var D;for(C=0;C<r.length;C++){if(S=r[C],D="c"+S,D in g){u[S]=g[D];continue}D="z"+S,D in g&&(u[S]=g[D])}y=D.charAt(0)}return u._sync=function(T,P){var A=r.indexOf(T)!==-1?y+T:T;g[A]=g["_"+A]=P},u}function i(d){for(var M=l(d),g=M.min,u=M.max,y=M.reversescale?f(M.colorscale):M.colorscale,C=y.length,S=new Array(C),D=new Array(C),T=0;T<C;T++){var P=y[T];S[T]=g+P[0]*(u-g),D[T]=P[1]}return{domain:S,range:D}}function f(d){for(var M=d.length,g=new Array(M),u=M-1,y=0;u>=0;u--,y++){var C=d[u];g[y]=[1-C[0],C[1]]}return g}function v(d,M){M=M||{};for(var g=d.domain,u=d.range,y=u.length,C=new Array(y),S=0;S<y;S++){var D=E(u[S]).toRgb();C[S]=[D.r,D.g,D.b,D.a]}var T=h.scale.linear().domain(g).range(C).clamp(!0),P=M.noNumericCheck,A=M.returnArray,a;return P&&A?a=T:P?a=function(R){return x(T(R))}:A?a=function(R){return n(R)?T(R):E(R).isValid()?R:w.defaultLine}:a=function(R){return n(R)?x(T(R)):E(R).isValid()?R:w.defaultLine},a.domain=T.domain,a.range=function(){return u},a}function c(d,M){return v(i(d),M)}function x(d){var M={r:d[0],g:d[1],b:d[2],a:d[3]};return E(M).toRgbString()}k.exports={hasColorscale:m,extractOpts:l,extractScale:i,flipScale:f,makeColorScaleFunc:v,makeColorScaleFuncFromTrace:c}},21081:function(k,F,e){var h=e(63282),E=e(52075);k.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:h.scales,defaultScale:h.defaultScale,getScale:h.get,isValidScale:h.isValid,hasColorscale:E.hasColorscale,extractOpts:E.extractOpts,extractScale:E.extractScale,flipScale:E.flipScale,makeColorScaleFunc:E.makeColorScaleFunc,makeColorScaleFuncFromTrace:E.makeColorScaleFuncFromTrace}},72673:function(k,F,e){var h=e(1426).extendFlat,E=e(50693),n=e(63282).scales;k.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:h({_isSubplotObj:!0,editType:"calc"},E("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(k,F,e){var h=e(71828),E=e(44467),n=e(72673),L=e(1586);k.exports=function(p,m){function t(d,M){return h.coerce(p,m,n,d,M)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=m._colorAxes,l,i;function f(d,M){return h.coerce(l,i,n.coloraxis,d,M)}for(var v in r){var c=r[v];if(c[0])l=p[v]||{},i=E.newContainer(m,v,"coloraxis"),i._name=v,L(l,i,m,f,{prefix:"",cLetter:"c"});else{for(var x=0;x<c[2].length;x++)c[2][x]();delete m._colorAxes[v]}}}},63282:function(k,F,e){var h=e(84267),E={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=E.RdBu;function L(m,t){if(t||(t=n),!m)return t;function r(){try{m=E[m]||JSON.parse(m)}catch{m=t}}return typeof m=="string"&&(r(),typeof m=="string"&&r()),w(m)?m:t}function w(m){var t=0;if(!Array.isArray(m)||m.length<2||!m[0]||!m[m.length-1]||+m[0][0]!=0||+m[m.length-1][0]!=1)return!1;for(var r=0;r<m.length;r++){var l=m[r];if(l.length!==2||+l[0]<t||!h(l[1]).isValid())return!1;t=+l[0]}return!0}function p(m){return E[m]!==void 0?!0:w(m)}k.exports={scales:E,defaultScale:n,get:L,isValid:p}},92807:function(k){k.exports=function(e,h,E,n,L){var w=(e-E)/(n-E),p=w+h/(n-E),m=(w+p)/2;return L==="left"||L==="bottom"?w:L==="center"||L==="middle"?m:L==="right"||L==="top"?p:w<.6666666666666666-m?w:p>1.3333333333333333-m?p:m}},70461:function(k,F,e){var h=e(71828),E=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];k.exports=function(L,w,p,m){return p==="left"?L=0:p==="center"?L=1:p==="right"?L=2:L=h.constrain(Math.floor(L*3),0,2),m==="bottom"?w=0:m==="middle"?w=1:m==="top"?w=2:w=h.constrain(Math.floor(w*3),0,2),E[w][L]}},64505:function(k,F){F.selectMode=function(e){return e==="lasso"||e==="select"},F.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},F.openMode=function(e){return e==="drawline"||e==="drawopenpath"},F.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},F.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},F.selectingOrDrawing=function(e){return F.freeMode(e)||F.rectMode(e)}},28569:function(k,F,e){var h=e(48956),E=e(57035),n=e(38520),L=e(71828).removeElement,w=e(85555),p=k.exports={};p.align=e(92807),p.getCursor=e(70461);var m=e(26041);p.unhover=m.wrapped,p.unhoverRaw=m.raw,p.init=function(i){var f=i.gd,v=1,c=f._context.doubleClickDelay,x=i.element,d,M,g,u,y,C,S,D;f._mouseDownTime||(f._mouseDownTime=0),x.style.pointerEvents="all",x.onmousedown=A,n?(x._ontouchstart&&x.removeEventListener("touchstart",x._ontouchstart),x._ontouchstart=A,x.addEventListener("touchstart",A,{passive:!1})):x.ontouchstart=A;function T(b,N,O){return Math.abs(b)<O&&(b=0),Math.abs(N)<O&&(N=0),[b,N]}var P=i.clampFn||T;function A(b){f._dragged=!1,f._dragging=!0;var N=r(b);d=N[0],M=N[1],S=b.target,C=b,D=b.buttons===2||b.ctrlKey,typeof b.clientX>"u"&&typeof b.clientY>"u"&&(b.clientX=d,b.clientY=M),g=new Date().getTime(),g-f._mouseDownTime<c?v+=1:(v=1,f._mouseDownTime=g),i.prepFn&&i.prepFn(b,d,M),E&&!D?(y=t(),y.style.cursor=window.getComputedStyle(x).cursor):E||(y=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(x).cursor),document.addEventListener("mouseup",R),document.addEventListener("touchend",R),i.dragmode!==!1&&(b.preventDefault(),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a,{passive:!1}))}function a(b){b.preventDefault();var N=r(b),O=i.minDrag||w.MINDRAG,Y=P(N[0]-d,N[1]-M,O),B=Y[0],W=Y[1];(B||W)&&(f._dragged=!0,p.unhover(f,b)),f._dragged&&i.moveFn&&!D&&(f._dragdata={element:x,dx:B,dy:W},i.moveFn(B,W))}function R(b){if(delete f._dragdata,i.dragmode!==!1&&(b.preventDefault(),document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",a)),document.removeEventListener("mouseup",R),document.removeEventListener("touchend",R),E?L(y):u&&(y.documentElement.style.cursor=u,u=null),!f._dragging){f._dragged=!1;return}if(f._dragging=!1,new Date().getTime()-f._mouseDownTime>c&&(v=Math.max(v-1,1)),f._dragged)i.doneFn&&i.doneFn();else if(i.clickFn&&i.clickFn(v,C),!D){var N;try{N=new MouseEvent("click",b)}catch{var O=r(b);N=document.createEvent("MouseEvents"),N.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,O[0],O[1],b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}S.dispatchEvent(N)}f._dragging=!1,f._dragged=!1}};function t(){var l=document.createElement("div");l.className="dragcover";var i=l.style;return i.position="fixed",i.left=0,i.right=0,i.top=0,i.bottom=0,i.zIndex=999999999,i.background="none",document.body.appendChild(l),l}p.coverSlip=t;function r(l){return h(l.changedTouches?l.changedTouches[0]:l,document.body)}},26041:function(k,F,e){var h=e(11086),E=e(79990),n=e(24401).getGraphDiv,L=e(26675),w=k.exports={};w.wrapped=function(p,m,t){p=n(p),p._fullLayout&&E.clear(p._fullLayout._uid+L.HOVERID),w.raw(p,m,t)},w.raw=function(m,t){var r=m._fullLayout,l=m._hoverdata;t||(t={}),!(t.target&&!m._dragged&&h.triggerHandler(m,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),m._hoverdata=void 0,t.target&&l&&m.emit("plotly_unhover",{event:t,points:l}))}},79952:function(k,F){F.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},F.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(k,F,e){var h=e(39898),E=e(71828),n=E.numberFormat,L=e(92770),w=e(84267),p=e(73972),m=e(7901),t=e(21081),r=E.strTranslate,l=e(63893),i=e(77922),f=e(18783),v=f.LINE_SPACING,c=e(37822).DESELECTDIM,x=e(34098),d=e(39984),M=e(23469).appendArrayPointValue,g=k.exports={};g.font=function(Ce,Te,Le,Ve){E.isPlainObject(Te)&&(Ve=Te.color,Le=Te.size,Te=Te.family),Te&&Ce.style("font-family",Te),Le+1&&Ce.style("font-size",Le+"px"),Ve&&Ce.call(m.fill,Ve)},g.setPosition=function(Ce,Te,Le){Ce.attr("x",Te).attr("y",Le)},g.setSize=function(Ce,Te,Le){Ce.attr("width",Te).attr("height",Le)},g.setRect=function(Ce,Te,Le,Ve,We){Ce.call(g.setPosition,Te,Le).call(g.setSize,Ve,We)},g.translatePoint=function(Ce,Te,Le,Ve){var We=Le.c2p(Ce.x),Fe=Ve.c2p(Ce.y);if(L(We)&&L(Fe)&&Te.node())Te.node().nodeName==="text"?Te.attr("x",We).attr("y",Fe):Te.attr("transform",r(We,Fe));else return!1;return!0},g.translatePoints=function(Ce,Te,Le){Ce.each(function(Ve){var We=h.select(this);g.translatePoint(Ve,We,Te,Le)})},g.hideOutsideRangePoint=function(Ce,Te,Le,Ve,We,Fe){Te.attr("display",Le.isPtWithinRange(Ce,We)&&Ve.isPtWithinRange(Ce,Fe)?null:"none")},g.hideOutsideRangePoints=function(Ce,Te){if(Te._hasClipOnAxisFalse){var Le=Te.xaxis,Ve=Te.yaxis;Ce.each(function(We){var Fe=We[0].trace,Ge=Fe.xcalendar,it=Fe.ycalendar,qe=p.traceIs(Fe,"bar-like")?".bartext":".point,.textpoint";Ce.selectAll(qe).each(function($e){g.hideOutsideRangePoint($e,h.select(this),Le,Ve,Ge,it)})})}},g.crispRound=function(Ce,Te,Le){return!Te||!L(Te)?Le||0:Ce._context.staticPlot?Te:Te<1?1:Math.round(Te)},g.singleLineStyle=function(Ce,Te,Le,Ve,We){Te.style("fill","none");var Fe=(((Ce||[])[0]||{}).trace||{}).line||{},Ge=Le||Fe.width||0,it=We||Fe.dash||"";m.stroke(Te,Ve||Fe.color),g.dashLine(Te,it,Ge)},g.lineGroupStyle=function(Ce,Te,Le,Ve){Ce.style("fill","none").each(function(We){var Fe=(((We||[])[0]||{}).trace||{}).line||{},Ge=Te||Fe.width||0,it=Ve||Fe.dash||"";h.select(this).call(m.stroke,Le||Fe.color).call(g.dashLine,it,Ge)})},g.dashLine=function(Ce,Te,Le){Le=+Le||0,Te=g.dashStyle(Te,Le),Ce.style({"stroke-dasharray":Te,"stroke-width":Le+"px"})},g.dashStyle=function(Ce,Te){Te=+Te||1;var Le=Math.max(Te,3);return Ce==="solid"?Ce="":Ce==="dot"?Ce=Le+"px,"+Le+"px":Ce==="dash"?Ce=3*Le+"px,"+3*Le+"px":Ce==="longdash"?Ce=5*Le+"px,"+5*Le+"px":Ce==="dashdot"?Ce=3*Le+"px,"+Le+"px,"+Le+"px,"+Le+"px":Ce==="longdashdot"&&(Ce=5*Le+"px,"+2*Le+"px,"+Le+"px,"+2*Le+"px"),Ce};function u(Ce,Te,Le){var Ve=Te.fillpattern,We=Ve&&g.getPatternAttr(Ve.shape,0,"");if(We){var Fe=g.getPatternAttr(Ve.bgcolor,0,null),Ge=g.getPatternAttr(Ve.fgcolor,0,null),it=Ve.fgopacity,qe=g.getPatternAttr(Ve.size,0,8),$e=g.getPatternAttr(Ve.solidity,0,.3),tt=Te.uid;g.pattern(Ce,"point",Le,tt,We,qe,$e,void 0,Ve.fillmode,Fe,Ge,it)}else Te.fillcolor&&Ce.call(m.fill,Te.fillcolor)}g.singleFillStyle=function(Ce,Te){var Le=h.select(Ce.node()),Ve=Le.data(),We=((Ve[0]||[])[0]||{}).trace||{};u(Ce,We,Te)},g.fillGroupStyle=function(Ce,Te){Ce.style("stroke-width",0).each(function(Le){var Ve=h.select(this);Le[0].trace&&u(Ve,Le[0].trace,Te)})};var y=e(90998);g.symbolNames=[],g.symbolFuncs=[],g.symbolBackOffs=[],g.symbolNeedLines={},g.symbolNoDot={},g.symbolNoFill={},g.symbolList=[],Object.keys(y).forEach(function(Ce){var Te=y[Ce],Le=Te.n;g.symbolList.push(Le,String(Le),Ce,Le+100,String(Le+100),Ce+"-open"),g.symbolNames[Le]=Ce,g.symbolFuncs[Le]=Te.f,g.symbolBackOffs[Le]=Te.backoff||0,Te.needLine&&(g.symbolNeedLines[Le]=!0),Te.noDot?g.symbolNoDot[Le]=!0:g.symbolList.push(Le+200,String(Le+200),Ce+"-dot",Le+300,String(Le+300),Ce+"-open-dot"),Te.noFill&&(g.symbolNoFill[Le]=!0)});var C=g.symbolNames.length,S="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";g.symbolNumber=function(Ce){if(L(Ce))Ce=+Ce;else if(typeof Ce=="string"){var Te=0;Ce.indexOf("-open")>0&&(Te=100,Ce=Ce.replace("-open","")),Ce.indexOf("-dot")>0&&(Te+=200,Ce=Ce.replace("-dot","")),Ce=g.symbolNames.indexOf(Ce),Ce>=0&&(Ce+=Te)}return Ce%100>=C||Ce>=400?0:Math.floor(Math.max(Ce,0))};function D(Ce,Te,Le,Ve){var We=Ce%100;return g.symbolFuncs[We](Te,Le,Ve)+(Ce>=200?S:"")}var T={x1:1,x2:0,y1:0,y2:0},P={x1:0,x2:0,y1:1,y2:0},A=n("~f"),a={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:T},horizontalreversed:{node:"linearGradient",attrs:T,reversed:!0},vertical:{node:"linearGradient",attrs:P},verticalreversed:{node:"linearGradient",attrs:P,reversed:!0}};g.gradient=function(Ce,Te,Le,Ve,We,Fe){for(var Ge=We.length,it=a[Ve],qe=new Array(Ge),$e=0;$e<Ge;$e++)it.reversed?qe[Ge-1-$e]=[A((1-We[$e][0])*100),We[$e][1]]:qe[$e]=[A(We[$e][0]*100),We[$e][1]];var tt=Te._fullLayout,vt="g"+tt._uid+"-"+Le,dt=tt._defs.select(".gradients").selectAll("#"+vt).data([Ve+qe.join(";")],E.identity);dt.exit().remove(),dt.enter().append(it.node).each(function(){var gt=h.select(this);it.attrs&&gt.attr(it.attrs),gt.attr("id",vt);var Mt=gt.selectAll("stop").data(qe);Mt.exit().remove(),Mt.enter().append("stop"),Mt.each(function(Ct){var Wt=w(Ct[1]);h.select(this).attr({offset:Ct[0]+"%","stop-color":m.tinyRGB(Wt),"stop-opacity":Wt.getAlpha()})})}),Ce.style(Fe,X(vt,Te)).style(Fe+"-opacity",null),Ce.classed("gradient_filled",!0)},g.pattern=function(Ce,Te,Le,Ve,We,Fe,Ge,it,qe,$e,tt,vt){var dt=Te==="legend";it&&(qe==="overlay"?($e=it,tt=m.contrast($e)):($e=void 0,tt=it));var gt=Le._fullLayout,Mt="p"+gt._uid+"-"+Ve,Ct,Wt,Xe=function(wt,_t,Ut,Vt,Lt){return Vt+(Lt-Vt)*(wt-_t)/(Ut-_t)},ke,Ie,Oe,_e,Ae={},ce=w(tt),be=m.tinyRGB(ce),Re=ce.getAlpha(),Ue=vt*Re;switch(We){case"/":Ct=Fe*Math.sqrt(2),Wt=Fe*Math.sqrt(2),ke="M-"+Ct/4+","+Wt/4+"l"+Ct/2+",-"+Wt/2+"M0,"+Wt+"L"+Ct+",0M"+Ct/4*3+","+Wt/4*5+"l"+Ct/2+",-"+Wt/2,Ie=Ge*Fe,_e="path",Ae={d:ke,opacity:Ue,stroke:be,"stroke-width":Ie+"px"};break;case"\\":Ct=Fe*Math.sqrt(2),Wt=Fe*Math.sqrt(2),ke="M"+Ct/4*3+",-"+Wt/4+"l"+Ct/2+","+Wt/2+"M0,0L"+Ct+","+Wt+"M-"+Ct/4+","+Wt/4*3+"l"+Ct/2+","+Wt/2,Ie=Ge*Fe,_e="path",Ae={d:ke,opacity:Ue,stroke:be,"stroke-width":Ie+"px"};break;case"x":Ct=Fe*Math.sqrt(2),Wt=Fe*Math.sqrt(2),ke="M-"+Ct/4+","+Wt/4+"l"+Ct/2+",-"+Wt/2+"M0,"+Wt+"L"+Ct+",0M"+Ct/4*3+","+Wt/4*5+"l"+Ct/2+",-"+Wt/2+"M"+Ct/4*3+",-"+Wt/4+"l"+Ct/2+","+Wt/2+"M0,0L"+Ct+","+Wt+"M-"+Ct/4+","+Wt/4*3+"l"+Ct/2+","+Wt/2,Ie=Fe-Fe*Math.sqrt(1-Ge),_e="path",Ae={d:ke,opacity:Ue,stroke:be,"stroke-width":Ie+"px"};break;case"|":Ct=Fe,Wt=Fe,_e="path",ke="M"+Ct/2+",0L"+Ct/2+","+Wt,Ie=Ge*Fe,_e="path",Ae={d:ke,opacity:Ue,stroke:be,"stroke-width":Ie+"px"};break;case"-":Ct=Fe,Wt=Fe,_e="path",ke="M0,"+Wt/2+"L"+Ct+","+Wt/2,Ie=Ge*Fe,_e="path",Ae={d:ke,opacity:Ue,stroke:be,"stroke-width":Ie+"px"};break;case"+":Ct=Fe,Wt=Fe,_e="path",ke="M"+Ct/2+",0L"+Ct/2+","+Wt+"M0,"+Wt/2+"L"+Ct+","+Wt/2,Ie=Fe-Fe*Math.sqrt(1-Ge),_e="path",Ae={d:ke,opacity:Ue,stroke:be,"stroke-width":Ie+"px"};break;case".":Ct=Fe,Wt=Fe,Ge<Math.PI/4?Oe=Math.sqrt(Ge*Fe*Fe/Math.PI):Oe=Xe(Ge,Math.PI/4,1,Fe/2,Fe/Math.sqrt(2)),_e="circle",Ae={cx:Ct/2,cy:Wt/2,r:Oe,opacity:Ue,fill:be};break}var nt=[We||"noSh",$e||"noBg",tt||"noFg",Fe,Ge].join(";"),ot=gt._defs.select(".patterns").selectAll("#"+Mt).data([nt],E.identity);ot.exit().remove(),ot.enter().append("pattern").each(function(){var wt=h.select(this);if(wt.attr({id:Mt,width:Ct+"px",height:Wt+"px",patternUnits:"userSpaceOnUse",patternTransform:dt?"scale(0.8)":""}),$e){var _t=w($e),Ut=m.tinyRGB(_t),Vt=_t.getAlpha(),Lt=wt.selectAll("rect").data([0]);Lt.exit().remove(),Lt.enter().append("rect").attr({width:Ct+"px",height:Wt+"px",fill:Ut,"fill-opacity":Vt})}var Kt=wt.selectAll(_e).data([0]);Kt.exit().remove(),Kt.enter().append(_e).attr(Ae)}),Ce.style("fill",X(Mt,Le)).style("fill-opacity",null),Ce.classed("pattern_filled",!0)},g.initGradients=function(Ce){var Te=Ce._fullLayout,Le=E.ensureSingle(Te._defs,"g","gradients");Le.selectAll("linearGradient,radialGradient").remove(),h.select(Ce).selectAll(".gradient_filled").classed("gradient_filled",!1)},g.initPatterns=function(Ce){var Te=Ce._fullLayout,Le=E.ensureSingle(Te._defs,"g","patterns");Le.selectAll("pattern").remove(),h.select(Ce).selectAll(".pattern_filled").classed("pattern_filled",!1)},g.getPatternAttr=function(Ce,Te,Le){return Ce&&E.isArrayOrTypedArray(Ce)?Te<Ce.length?Ce[Te]:Le:Ce},g.pointStyle=function(Ce,Te,Le,Ve){if(Ce.size()){var We=g.makePointStyleFns(Te);Ce.each(function(Fe){g.singlePointStyle(Fe,h.select(this),Te,We,Le,Ve)})}},g.singlePointStyle=function(Ce,Te,Le,Ve,We,Fe){var Ge=Le.marker,it=Ge.line;if(Fe&&Fe.i>=0&&Ce.i===void 0&&(Ce.i=Fe.i),Te.style("opacity",Ve.selectedOpacityFn?Ve.selectedOpacityFn(Ce):Ce.mo===void 0?Ge.opacity:Ce.mo),Ve.ms2mrc){var qe;Ce.ms==="various"||Ge.size==="various"?qe=3:qe=Ve.ms2mrc(Ce.ms),Ce.mrc=qe,Ve.selectedSizeFn&&(qe=Ce.mrc=Ve.selectedSizeFn(Ce));var $e=g.symbolNumber(Ce.mx||Ge.symbol)||0;Ce.om=$e%200>=100;var tt=Ne(Ce,Le),vt=ne(Ce,Le);Te.attr("d",D($e,qe,tt,vt))}var dt=!1,gt,Mt,Ct;if(Ce.so)Ct=it.outlierwidth,Mt=it.outliercolor,gt=Ge.outliercolor;else{var Wt=(it||{}).width;Ct=(Ce.mlw+1||Wt+1||(Ce.trace?(Ce.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ce?Mt=Ce.mlcc=Ve.lineScale(Ce.mlc):E.isArrayOrTypedArray(it.color)?Mt=m.defaultLine:Mt=it.color,E.isArrayOrTypedArray(Ge.color)&&(gt=m.defaultLine,dt=!0),"mc"in Ce?gt=Ce.mcc=Ve.markerScale(Ce.mc):gt=Ge.color||Ge.colors||"rgba(0,0,0,0)",Ve.selectedColorFn&&(gt=Ve.selectedColorFn(Ce))}if(Ce.om)Te.call(m.stroke,gt).style({"stroke-width":(Ct||1)+"px",fill:"none"});else{Te.style("stroke-width",(Ce.isBlank?0:Ct)+"px");var Xe=Ge.gradient,ke=Ce.mgt;ke?dt=!0:ke=Xe&&Xe.type,E.isArrayOrTypedArray(ke)&&(ke=ke[0],a[ke]||(ke=0));var Ie=Ge.pattern,Oe=Ie&&g.getPatternAttr(Ie.shape,Ce.i,"");if(ke&&ke!=="none"){var _e=Ce.mgc;_e?dt=!0:_e=Xe.color;var Ae=Le.uid;dt&&(Ae+="-"+Ce.i),g.gradient(Te,We,Ae,ke,[[0,_e],[1,gt]],"fill")}else if(Oe){var ce=!1,be=Ie.fgcolor;!be&&Fe&&Fe.color&&(be=Fe.color,ce=!0);var Re=g.getPatternAttr(be,Ce.i,Fe&&Fe.color||null),Ue=g.getPatternAttr(Ie.bgcolor,Ce.i,null),nt=Ie.fgopacity,ot=g.getPatternAttr(Ie.size,Ce.i,8),wt=g.getPatternAttr(Ie.solidity,Ce.i,.3);ce=ce||Ce.mcc||E.isArrayOrTypedArray(Ie.shape)||E.isArrayOrTypedArray(Ie.bgcolor)||E.isArrayOrTypedArray(Ie.fgcolor)||E.isArrayOrTypedArray(Ie.size)||E.isArrayOrTypedArray(Ie.solidity);var _t=Le.uid;ce&&(_t+="-"+Ce.i),g.pattern(Te,"point",We,_t,Oe,ot,wt,Ce.mcc,Ie.fillmode,Ue,Re,nt)}else E.isArrayOrTypedArray(gt)?m.fill(Te,gt[Ce.i]):m.fill(Te,gt);Ct&&m.stroke(Te,Mt)}},g.makePointStyleFns=function(Ce){var Te={},Le=Ce.marker;return Te.markerScale=g.tryColorscale(Le,""),Te.lineScale=g.tryColorscale(Le,"line"),p.traceIs(Ce,"symbols")&&(Te.ms2mrc=x.isBubble(Ce)?d(Ce):function(){return(Le.size||6)/2}),Ce.selectedpoints&&E.extendFlat(Te,g.makeSelectedPointStyleFns(Ce)),Te},g.makeSelectedPointStyleFns=function(Ce){var Te={},Le=Ce.selected||{},Ve=Ce.unselected||{},We=Ce.marker||{},Fe=Le.marker||{},Ge=Ve.marker||{},it=We.opacity,qe=Fe.opacity,$e=Ge.opacity,tt=qe!==void 0,vt=$e!==void 0;(E.isArrayOrTypedArray(it)||tt||vt)&&(Te.selectedOpacityFn=function(Oe){var _e=Oe.mo===void 0?We.opacity:Oe.mo;return Oe.selected?tt?qe:_e:vt?$e:c*_e});var dt=We.color,gt=Fe.color,Mt=Ge.color;(gt||Mt)&&(Te.selectedColorFn=function(Oe){var _e=Oe.mcc||dt;return Oe.selected?gt||_e:Mt||_e});var Ct=We.size,Wt=Fe.size,Xe=Ge.size,ke=Wt!==void 0,Ie=Xe!==void 0;return p.traceIs(Ce,"symbols")&&(ke||Ie)&&(Te.selectedSizeFn=function(Oe){var _e=Oe.mrc||Ct/2;return Oe.selected?ke?Wt/2:_e:Ie?Xe/2:_e}),Te},g.makeSelectedTextStyleFns=function(Ce){var Te={},Le=Ce.selected||{},Ve=Ce.unselected||{},We=Ce.textfont||{},Fe=Le.textfont||{},Ge=Ve.textfont||{},it=We.color,qe=Fe.color,$e=Ge.color;return Te.selectedTextColorFn=function(tt){var vt=tt.tc||it;return tt.selected?qe||vt:$e||(qe?vt:m.addOpacity(vt,c))},Te},g.selectedPointStyle=function(Ce,Te){if(!(!Ce.size()||!Te.selectedpoints)){var Le=g.makeSelectedPointStyleFns(Te),Ve=Te.marker||{},We=[];Le.selectedOpacityFn&&We.push(function(Fe,Ge){Fe.style("opacity",Le.selectedOpacityFn(Ge))}),Le.selectedColorFn&&We.push(function(Fe,Ge){m.fill(Fe,Le.selectedColorFn(Ge))}),Le.selectedSizeFn&&We.push(function(Fe,Ge){var it=Ge.mx||Ve.symbol||0,qe=Le.selectedSizeFn(Ge);Fe.attr("d",D(g.symbolNumber(it),qe,Ne(Ge,Te),ne(Ge,Te))),Ge.mrc2=qe}),We.length&&Ce.each(function(Fe){for(var Ge=h.select(this),it=0;it<We.length;it++)We[it](Ge,Fe)})}},g.tryColorscale=function(Ce,Te){var Le=Te?E.nestedProperty(Ce,Te).get():Ce;if(Le){var Ve=Le.color;if((Le.colorscale||Le._colorAx)&&E.isArrayOrTypedArray(Ve))return t.makeColorScaleFuncFromTrace(Le)}return E.identity};var R={start:1,end:-1,middle:0,bottom:1,top:-1};function b(Ce,Te,Le,Ve,We){var Fe=h.select(Ce.node().parentNode),Ge=Te.indexOf("top")!==-1?"top":Te.indexOf("bottom")!==-1?"bottom":"middle",it=Te.indexOf("left")!==-1?"end":Te.indexOf("right")!==-1?"start":"middle",qe=Ve?Ve/.8+1:0,$e=(l.lineCount(Ce)-1)*v+1,tt=R[it]*qe,vt=Le*.75+R[Ge]*qe+(R[Ge]-1)*$e*Le/2;Ce.attr("text-anchor",it),We||Fe.attr("transform",r(tt,vt))}function N(Ce,Te){var Le=Ce.ts||Te.textfont.size;return L(Le)&&Le>0?Le:0}g.textPointStyle=function(Ce,Te,Le){if(Ce.size()){var Ve;if(Te.selectedpoints){var We=g.makeSelectedTextStyleFns(Te);Ve=We.selectedTextColorFn}var Fe=Te.texttemplate,Ge=Le._fullLayout;Ce.each(function(it){var qe=h.select(this),$e=Fe?E.extractOption(it,Te,"txt","texttemplate"):E.extractOption(it,Te,"tx","text");if(!$e&&$e!==0){qe.remove();return}if(Fe){var tt=Te._module.formatLabels,vt=tt?tt(it,Te,Ge):{},dt={};M(dt,Te,it.i);var gt=Te._meta||{};$e=E.texttemplateString($e,vt,Ge._d3locale,dt,it,gt)}var Mt=it.tp||Te.textposition,Ct=N(it,Te),Wt=Ve?Ve(it):it.tc||Te.textfont.color;qe.call(g.font,it.tf||Te.textfont.family,Ct,Wt).text($e).call(l.convertToTspans,Le).call(b,Mt,Ct,it.mrc)})}},g.selectedTextStyle=function(Ce,Te){if(!(!Ce.size()||!Te.selectedpoints)){var Le=g.makeSelectedTextStyleFns(Te);Ce.each(function(Ve){var We=h.select(this),Fe=Le.selectedTextColorFn(Ve),Ge=Ve.tp||Te.textposition,it=N(Ve,Te);m.fill(We,Fe);var qe=p.traceIs(Te,"bar-like");b(We,Ge,it,Ve.mrc2||Ve.mrc,qe)})}};var O=.5;g.smoothopen=function(Ce,Te){if(Ce.length<3)return"M"+Ce.join("L");var Le="M"+Ce[0],Ve=[],We;for(We=1;We<Ce.length-1;We++)Ve.push(G(Ce[We-1],Ce[We],Ce[We+1],Te));for(Le+="Q"+Ve[0][0]+" "+Ce[1],We=2;We<Ce.length-1;We++)Le+="C"+Ve[We-2][1]+" "+Ve[We-1][0]+" "+Ce[We];return Le+="Q"+Ve[Ce.length-3][1]+" "+Ce[Ce.length-1],Le},g.smoothclosed=function(Ce,Te){if(Ce.length<3)return"M"+Ce.join("L")+"Z";var Le="M"+Ce[0],Ve=Ce.length-1,We=[G(Ce[Ve],Ce[0],Ce[1],Te)],Fe;for(Fe=1;Fe<Ve;Fe++)We.push(G(Ce[Fe-1],Ce[Fe],Ce[Fe+1],Te));for(We.push(G(Ce[Ve-1],Ce[Ve],Ce[0],Te)),Fe=1;Fe<=Ve;Fe++)Le+="C"+We[Fe-1][1]+" "+We[Fe][0]+" "+Ce[Fe];return Le+="C"+We[Ve][1]+" "+We[0][0]+" "+Ce[0]+"Z",Le};var Y,B;function W(Ce,Te,Le){return Le&&(Ce=ae(Ce)),Te?U(Ce[1]):H(Ce[0])}function H(Ce){var Te=h.round(Ce,2);return Y=Te,Te}function U(Ce){var Te=h.round(Ce,2);return B=Te,Te}function G(Ce,Te,Le,Ve){var We=Ce[0]-Te[0],Fe=Ce[1]-Te[1],Ge=Le[0]-Te[0],it=Le[1]-Te[1],qe=Math.pow(We*We+Fe*Fe,O/2),$e=Math.pow(Ge*Ge+it*it,O/2),tt=($e*$e*We-qe*qe*Ge)*Ve,vt=($e*$e*Fe-qe*qe*it)*Ve,dt=3*$e*(qe+$e),gt=3*qe*(qe+$e);return[[H(Te[0]+(dt&&tt/dt)),U(Te[1]+(dt&&vt/dt))],[H(Te[0]-(gt&&tt/gt)),U(Te[1]-(gt&&vt/gt))]]}var j={hv:function(Ce,Te,Le){return"H"+H(Te[0])+"V"+W(Te,1,Le)},vh:function(Ce,Te,Le){return"V"+U(Te[1])+"H"+W(Te,0,Le)},hvh:function(Ce,Te,Le){return"H"+H((Ce[0]+Te[0])/2)+"V"+U(Te[1])+"H"+W(Te,0,Le)},vhv:function(Ce,Te,Le){return"V"+U((Ce[1]+Te[1])/2)+"H"+H(Te[0])+"V"+W(Te,1,Le)}},re=function(Ce,Te,Le){return"L"+W(Te,0,Le)+","+W(Te,1,Le)};g.steps=function(Ce){var Te=j[Ce]||re;return function(Le){for(var Ve="M"+H(Le[0][0])+","+U(Le[0][1]),We=Le.length,Fe=1;Fe<We;Fe++)Ve+=Te(Le[Fe-1],Le[Fe],Fe===We-1);return Ve}};function ae(Ce,Te){var Le=Ce.backoff,Ve=Ce.trace,We=Ce.d,Fe=Ce.i;if(Le&&Ve&&Ve.marker&&Ve.marker.angle%360===0&&Ve.line&&Ve.line.shape!=="spline"){var Ge=E.isArrayOrTypedArray(Le),it=Ce,qe=Te?Te[0]:Y||0,$e=Te?Te[1]:B||0,tt=it[0],vt=it[1],dt=tt-qe,gt=vt-$e,Mt=Math.atan2(gt,dt),Ct=Ge?Le[Fe]:Le;if(Ct==="auto"){var Wt=it.i;Ve.type==="scatter"&&Wt--;var Xe=it.marker,ke=Xe.symbol;E.isArrayOrTypedArray(ke)&&(ke=ke[Wt]);var Ie=Xe.size;E.isArrayOrTypedArray(Ie)&&(Ie=Ie[Wt]),Ct=Xe?g.symbolBackOffs[g.symbolNumber(ke)]*Ie:0,Ct+=g.getMarkerStandoff(We[Wt],Ve)||0}var Oe=tt-Ct*Math.cos(Mt),_e=vt-Ct*Math.sin(Mt);(Oe<=tt&&Oe>=qe||Oe>=tt&&Oe<=qe)&&(_e<=vt&&_e>=$e||_e>=vt&&_e<=$e)&&(Ce=[Oe,_e])}return Ce}g.applyBackoff=ae,g.makeTester=function(){var Ce=E.ensureSingleById(h.select("body"),"svg","js-plotly-tester",function(Le){Le.attr(i.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Te=E.ensureSingle(Ce,"path","js-reference-point",function(Le){Le.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});g.tester=Ce,g.testref=Te},g.savedBBoxes={};var ue=0,de=1e4;g.bBox=function(Ce,Te,Le){Le||(Le=ee(Ce));var Ve;if(Le){if(Ve=g.savedBBoxes[Le],Ve)return E.extendFlat({},Ve)}else if(Ce.childNodes.length===1){var We=Ce.childNodes[0];if(Le=ee(We),Le){var Fe=+We.getAttribute("x")||0,Ge=+We.getAttribute("y")||0,it=We.getAttribute("transform");if(!it){var qe=g.bBox(We,!1,Le);return Fe&&(qe.left+=Fe,qe.right+=Fe),Ge&&(qe.top+=Ge,qe.bottom+=Ge),qe}if(Le+="~"+Fe+"~"+Ge+"~"+it,Ve=g.savedBBoxes[Le],Ve)return E.extendFlat({},Ve)}}var $e,tt;Te?$e=Ce:(tt=g.tester.node(),$e=Ce.cloneNode(!0),tt.appendChild($e)),h.select($e).attr("transform",null).call(l.positionText,0,0);var vt=$e.getBoundingClientRect(),dt=g.testref.node().getBoundingClientRect();Te||tt.removeChild($e);var gt={height:vt.height,width:vt.width,left:vt.left-dt.left,top:vt.top-dt.top,right:vt.right-dt.left,bottom:vt.bottom-dt.top};return ue>=de&&(g.savedBBoxes={},ue=0),Le&&(g.savedBBoxes[Le]=gt),ue++,E.extendFlat({},gt)};function ee(Ce){var Te=Ce.getAttribute("data-unformatted");if(Te!==null)return Te+Ce.getAttribute("data-math")+Ce.getAttribute("text-anchor")+Ce.getAttribute("style")}g.setClipUrl=function(Ce,Te,Le){Ce.attr("clip-path",X(Te,Le))};function X(Ce,Te){if(!Ce)return null;var Le=Te._context,Ve=Le._exportedPlot?"":Le._baseUrl||"";return Ve?"url('"+Ve+"#"+Ce+"')":"url(#"+Ce+")"}g.getTranslate=function(Ce){var Te=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Le=Ce.attr?"attr":"getAttribute",Ve=Ce[Le]("transform")||"",We=Ve.replace(Te,function(Fe,Ge,it){return[Ge,it].join(" ")}).split(" ");return{x:+We[0]||0,y:+We[1]||0}},g.setTranslate=function(Ce,Te,Le){var Ve=/(\btranslate\(.*?\);?)/,We=Ce.attr?"attr":"getAttribute",Fe=Ce.attr?"attr":"setAttribute",Ge=Ce[We]("transform")||"";return Te=Te||0,Le=Le||0,Ge=Ge.replace(Ve,"").trim(),Ge+=r(Te,Le),Ge=Ge.trim(),Ce[Fe]("transform",Ge),Ge},g.getScale=function(Ce){var Te=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Le=Ce.attr?"attr":"getAttribute",Ve=Ce[Le]("transform")||"",We=Ve.replace(Te,function(Fe,Ge,it){return[Ge,it].join(" ")}).split(" ");return{x:+We[0]||1,y:+We[1]||1}},g.setScale=function(Ce,Te,Le){var Ve=/(\bscale\(.*?\);?)/,We=Ce.attr?"attr":"getAttribute",Fe=Ce.attr?"attr":"setAttribute",Ge=Ce[We]("transform")||"";return Te=Te||1,Le=Le||1,Ge=Ge.replace(Ve,"").trim(),Ge+="scale("+Te+","+Le+")",Ge=Ge.trim(),Ce[Fe]("transform",Ge),Ge};var Q=/\s*sc.*/;g.setPointGroupScale=function(Ce,Te,Le){if(Te=Te||1,Le=Le||1,!!Ce){var Ve=Te===1&&Le===1?"":"scale("+Te+","+Le+")";Ce.each(function(){var We=(this.getAttribute("transform")||"").replace(Q,"");We+=Ve,We=We.trim(),this.setAttribute("transform",We)})}};var $=/translate\([^)]*\)\s*$/;g.setTextPointsScale=function(Ce,Te,Le){Ce&&Ce.each(function(){var Ve,We=h.select(this),Fe=We.select("text");if(Fe.node()){var Ge=parseFloat(Fe.attr("x")||0),it=parseFloat(Fe.attr("y")||0),qe=(We.attr("transform")||"").match($);Te===1&&Le===1?Ve=[]:Ve=[r(Ge,it),"scale("+Te+","+Le+")",r(-Ge,-it)],qe&&Ve.push(qe),We.attr("transform",Ve.join(""))}})};function ne(Ce,Te){var Le;return Ce&&(Le=Ce.mf),Le===void 0&&(Le=Te.marker&&Te.marker.standoff||0),!Te._geo&&!Te._xA?-Le:Le}g.getMarkerStandoff=ne;var fe=Math.atan2,te=Math.cos,q=Math.sin;function he(Ce,Te){var Le=Te[0],Ve=Te[1];return[Le*te(Ce)-Ve*q(Ce),Le*q(Ce)+Ve*te(Ce)]}var se,pe,we,Ee,Me,Be;function Ne(Ce,Te){var Le=Ce.ma;Le===void 0&&(Le=Te.marker.angle||0);var Ve,We,Fe=Te.marker.angleref;if(Fe==="previous"||Fe==="north"){if(Te._geo){var Ge=Te._geo.project(Ce.lonlat);Ve=Ge[0],We=Ge[1]}else{var it=Te._xA,qe=Te._yA;if(it&&qe)Ve=it.c2p(Ce.x),We=qe.c2p(Ce.y);else return 90}if(Te._geo){var $e=Ce.lonlat[0],tt=Ce.lonlat[1],vt=Te._geo.project([$e,tt+1e-5]),dt=Te._geo.project([$e+1e-5,tt]),gt=fe(dt[1]-We,dt[0]-Ve),Mt=fe(vt[1]-We,vt[0]-Ve),Ct;if(Fe==="north")Ct=Le/180*Math.PI;else if(Fe==="previous"){var Wt=$e/180*Math.PI,Xe=tt/180*Math.PI,ke=se/180*Math.PI,Ie=pe/180*Math.PI,Oe=ke-Wt,_e=te(Ie)*q(Oe),Ae=q(Ie)*te(Xe)-te(Ie)*q(Xe)*te(Oe);Ct=-fe(_e,Ae)-Math.PI,se=$e,pe=tt}var ce=he(gt,[te(Ct),0]),be=he(Mt,[q(Ct),0]);Le=fe(ce[1]+be[1],ce[0]+be[0])/Math.PI*180,Fe==="previous"&&!(Be===Te.uid&&Ce.i===Me+1)&&(Le=null)}if(Fe==="previous"&&!Te._geo)if(Be===Te.uid&&Ce.i===Me+1&&L(Ve)&&L(We)){var Re=Ve-we,Ue=We-Ee,nt=Te.line&&Te.line.shape||"",ot=nt.slice(nt.length-1);ot==="h"&&(Ue=0),ot==="v"&&(Re=0),Le+=fe(Ue,Re)/Math.PI*180+90}else Le=null}return we=Ve,Ee=We,Me=Ce.i,Be=Te.uid,Le}g.getMarkerAngle=Ne},90998:function(k,F,e){var h=e(95616),E=e(39898).round,n="M0,0Z",L=Math.sqrt(2),w=Math.sqrt(3),p=Math.PI,m=Math.cos,t=Math.sin;k.exports={circle:{n:0,f:function(x,d,M){if(r(d))return n;var g=E(x,2),u="M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z";return M?c(d,M,u):u}},square:{n:1,f:function(x,d,M){if(r(d))return n;var g=E(x,2);return c(d,M,"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")}},diamond:{n:2,f:function(x,d,M){if(r(d))return n;var g=E(x*1.3,2);return c(d,M,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"Z")}},cross:{n:3,f:function(x,d,M){if(r(d))return n;var g=E(x*.4,2),u=E(x*1.2,2);return c(d,M,"M"+u+","+g+"H"+g+"V"+u+"H-"+g+"V"+g+"H-"+u+"V-"+g+"H-"+g+"V-"+u+"H"+g+"V-"+g+"H"+u+"Z")}},x:{n:4,f:function(x,d,M){if(r(d))return n;var g=E(x*.8/L,2),u="l"+g+","+g,y="l"+g+",-"+g,C="l-"+g+",-"+g,S="l-"+g+","+g;return c(d,M,"M0,"+g+u+y+C+y+C+S+C+S+u+S+u+"Z")}},"triangle-up":{n:5,f:function(x,d,M){if(r(d))return n;var g=E(x*2/w,2),u=E(x/2,2),y=E(x,2);return c(d,M,"M-"+g+","+u+"H"+g+"L0,-"+y+"Z")}},"triangle-down":{n:6,f:function(x,d,M){if(r(d))return n;var g=E(x*2/w,2),u=E(x/2,2),y=E(x,2);return c(d,M,"M-"+g+",-"+u+"H"+g+"L0,"+y+"Z")}},"triangle-left":{n:7,f:function(x,d,M){if(r(d))return n;var g=E(x*2/w,2),u=E(x/2,2),y=E(x,2);return c(d,M,"M"+u+",-"+g+"V"+g+"L-"+y+",0Z")}},"triangle-right":{n:8,f:function(x,d,M){if(r(d))return n;var g=E(x*2/w,2),u=E(x/2,2),y=E(x,2);return c(d,M,"M-"+u+",-"+g+"V"+g+"L"+y+",0Z")}},"triangle-ne":{n:9,f:function(x,d,M){if(r(d))return n;var g=E(x*.6,2),u=E(x*1.2,2);return c(d,M,"M-"+u+",-"+g+"H"+g+"V"+u+"Z")}},"triangle-se":{n:10,f:function(x,d,M){if(r(d))return n;var g=E(x*.6,2),u=E(x*1.2,2);return c(d,M,"M"+g+",-"+u+"V"+g+"H-"+u+"Z")}},"triangle-sw":{n:11,f:function(x,d,M){if(r(d))return n;var g=E(x*.6,2),u=E(x*1.2,2);return c(d,M,"M"+u+","+g+"H-"+g+"V-"+u+"Z")}},"triangle-nw":{n:12,f:function(x,d,M){if(r(d))return n;var g=E(x*.6,2),u=E(x*1.2,2);return c(d,M,"M-"+g+","+u+"V-"+g+"H"+u+"Z")}},pentagon:{n:13,f:function(x,d,M){if(r(d))return n;var g=E(x*.951,2),u=E(x*.588,2),y=E(-x,2),C=E(x*-.309,2),S=E(x*.809,2);return c(d,M,"M"+g+","+C+"L"+u+","+S+"H-"+u+"L-"+g+","+C+"L0,"+y+"Z")}},hexagon:{n:14,f:function(x,d,M){if(r(d))return n;var g=E(x,2),u=E(x/2,2),y=E(x*w/2,2);return c(d,M,"M"+y+",-"+u+"V"+u+"L0,"+g+"L-"+y+","+u+"V-"+u+"L0,-"+g+"Z")}},hexagon2:{n:15,f:function(x,d,M){if(r(d))return n;var g=E(x,2),u=E(x/2,2),y=E(x*w/2,2);return c(d,M,"M-"+u+","+y+"H"+u+"L"+g+",0L"+u+",-"+y+"H-"+u+"L-"+g+",0Z")}},octagon:{n:16,f:function(x,d,M){if(r(d))return n;var g=E(x*.924,2),u=E(x*.383,2);return c(d,M,"M-"+u+",-"+g+"H"+u+"L"+g+",-"+u+"V"+u+"L"+u+","+g+"H-"+u+"L-"+g+","+u+"V-"+u+"Z")}},star:{n:17,f:function(x,d,M){if(r(d))return n;var g=x*1.4,u=E(g*.225,2),y=E(g*.951,2),C=E(g*.363,2),S=E(g*.588,2),D=E(-g,2),T=E(g*-.309,2),P=E(g*.118,2),A=E(g*.809,2),a=E(g*.382,2);return c(d,M,"M"+u+","+T+"H"+y+"L"+C+","+P+"L"+S+","+A+"L0,"+a+"L-"+S+","+A+"L-"+C+","+P+"L-"+y+","+T+"H-"+u+"L0,"+D+"Z")}},hexagram:{n:18,f:function(x,d,M){if(r(d))return n;var g=E(x*.66,2),u=E(x*.38,2),y=E(x*.76,2);return c(d,M,"M-"+y+",0l-"+u+",-"+g+"h"+y+"l"+u+",-"+g+"l"+u+","+g+"h"+y+"l-"+u+","+g+"l"+u+","+g+"h-"+y+"l-"+u+","+g+"l-"+u+",-"+g+"h-"+y+"Z")}},"star-triangle-up":{n:19,f:function(x,d,M){if(r(d))return n;var g=E(x*w*.8,2),u=E(x*.8,2),y=E(x*1.6,2),C=E(x*4,2),S="A "+C+","+C+" 0 0 1 ";return c(d,M,"M-"+g+","+u+S+g+","+u+S+"0,-"+y+S+"-"+g+","+u+"Z")}},"star-triangle-down":{n:20,f:function(x,d,M){if(r(d))return n;var g=E(x*w*.8,2),u=E(x*.8,2),y=E(x*1.6,2),C=E(x*4,2),S="A "+C+","+C+" 0 0 1 ";return c(d,M,"M"+g+",-"+u+S+"-"+g+",-"+u+S+"0,"+y+S+g+",-"+u+"Z")}},"star-square":{n:21,f:function(x,d,M){if(r(d))return n;var g=E(x*1.1,2),u=E(x*2,2),y="A "+u+","+u+" 0 0 1 ";return c(d,M,"M-"+g+",-"+g+y+"-"+g+","+g+y+g+","+g+y+g+",-"+g+y+"-"+g+",-"+g+"Z")}},"star-diamond":{n:22,f:function(x,d,M){if(r(d))return n;var g=E(x*1.4,2),u=E(x*1.9,2),y="A "+u+","+u+" 0 0 1 ";return c(d,M,"M-"+g+",0"+y+"0,"+g+y+g+",0"+y+"0,-"+g+y+"-"+g+",0Z")}},"diamond-tall":{n:23,f:function(x,d,M){if(r(d))return n;var g=E(x*.7,2),u=E(x*1.4,2);return c(d,M,"M0,"+u+"L"+g+",0L0,-"+u+"L-"+g+",0Z")}},"diamond-wide":{n:24,f:function(x,d,M){if(r(d))return n;var g=E(x*1.4,2),u=E(x*.7,2);return c(d,M,"M0,"+u+"L"+g+",0L0,-"+u+"L-"+g+",0Z")}},hourglass:{n:25,f:function(x,d,M){if(r(d))return n;var g=E(x,2);return c(d,M,"M"+g+","+g+"H-"+g+"L"+g+",-"+g+"H-"+g+"Z")},noDot:!0},bowtie:{n:26,f:function(x,d,M){if(r(d))return n;var g=E(x,2);return c(d,M,"M"+g+","+g+"V-"+g+"L-"+g+","+g+"V-"+g+"Z")},noDot:!0},"circle-cross":{n:27,f:function(x,d,M){if(r(d))return n;var g=E(x,2);return c(d,M,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(x,d,M){if(r(d))return n;var g=E(x,2),u=E(x/L,2);return c(d,M,"M"+u+","+u+"L-"+u+",-"+u+"M"+u+",-"+u+"L-"+u+","+u+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(x,d,M){if(r(d))return n;var g=E(x,2);return c(d,M,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(x,d,M){if(r(d))return n;var g=E(x,2);return c(d,M,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(x,d,M){if(r(d))return n;var g=E(x*1.3,2);return c(d,M,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM0,-"+g+"V"+g+"M-"+g+",0H"+g)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(x,d,M){if(r(d))return n;var g=E(x*1.3,2),u=E(x*.65,2);return c(d,M,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM-"+u+",-"+u+"L"+u+","+u+"M-"+u+","+u+"L"+u+",-"+u)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(x,d,M){if(r(d))return n;var g=E(x*1.4,2);return c(d,M,"M0,"+g+"V-"+g+"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(x,d,M){if(r(d))return n;var g=E(x,2);return c(d,M,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(x,d,M){if(r(d))return n;var g=E(x*1.2,2),u=E(x*.85,2);return c(d,M,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+u+","+u+"L-"+u+",-"+u+"M"+u+",-"+u+"L-"+u+","+u)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(x,d,M){if(r(d))return n;var g=E(x/2,2),u=E(x,2);return c(d,M,"M"+g+","+u+"V-"+u+"M"+(g-u)+",-"+u+"V"+u+"M"+u+","+g+"H-"+u+"M-"+u+","+(g-u)+"H"+u)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(x,d,M){if(r(d))return n;var g=E(x*1.2,2),u=E(x*1.6,2),y=E(x*.8,2);return c(d,M,"M-"+g+","+y+"L0,0M"+g+","+y+"L0,0M0,-"+u+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(x,d,M){if(r(d))return n;var g=E(x*1.2,2),u=E(x*1.6,2),y=E(x*.8,2);return c(d,M,"M-"+g+",-"+y+"L0,0M"+g+",-"+y+"L0,0M0,"+u+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(x,d,M){if(r(d))return n;var g=E(x*1.2,2),u=E(x*1.6,2),y=E(x*.8,2);return c(d,M,"M"+y+","+g+"L0,0M"+y+",-"+g+"L0,0M-"+u+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(x,d,M){if(r(d))return n;var g=E(x*1.2,2),u=E(x*1.6,2),y=E(x*.8,2);return c(d,M,"M-"+y+","+g+"L0,0M-"+y+",-"+g+"L0,0M"+u+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(x,d,M){if(r(d))return n;var g=E(x*1.4,2);return c(d,M,"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(x,d,M){if(r(d))return n;var g=E(x*1.4,2);return c(d,M,"M0,"+g+"V-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(x,d,M){if(r(d))return n;var g=E(x,2);return c(d,M,"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(x,d,M){if(r(d))return n;var g=E(x,2);return c(d,M,"M"+g+","+g+"L-"+g+",-"+g)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(x,d,M){if(r(d))return n;var g=E(x,2),u=E(x*2,2);return c(d,M,"M0,0L-"+g+","+u+"H"+g+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(x,d,M){if(r(d))return n;var g=E(x,2),u=E(x*2,2);return c(d,M,"M0,0L-"+g+",-"+u+"H"+g+"Z")},noDot:!0},"arrow-left":{n:47,f:function(x,d,M){if(r(d))return n;var g=E(x*2,2),u=E(x,2);return c(d,M,"M0,0L"+g+",-"+u+"V"+u+"Z")},noDot:!0},"arrow-right":{n:48,f:function(x,d,M){if(r(d))return n;var g=E(x*2,2),u=E(x,2);return c(d,M,"M0,0L-"+g+",-"+u+"V"+u+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(x,d,M){if(r(d))return n;var g=E(x,2),u=E(x*2,2);return c(d,M,"M-"+g+",0H"+g+"M0,0L-"+g+","+u+"H"+g+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(x,d,M){if(r(d))return n;var g=E(x,2),u=E(x*2,2);return c(d,M,"M-"+g+",0H"+g+"M0,0L-"+g+",-"+u+"H"+g+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(x,d,M){if(r(d))return n;var g=E(x*2,2),u=E(x,2);return c(d,M,"M0,-"+u+"V"+u+"M0,0L"+g+",-"+u+"V"+u+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(x,d,M){if(r(d))return n;var g=E(x*2,2),u=E(x,2);return c(d,M,"M0,-"+u+"V"+u+"M0,0L-"+g+",-"+u+"V"+u+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(x,d,M){if(r(d))return n;var g=p/2.5,u=2*x*m(g),y=2*x*t(g);return c(d,M,"M0,0L"+-u+","+y+"L"+u+","+y+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(x,d,M){if(r(d))return n;var g=p/4,u=2*x*m(g),y=2*x*t(g);return c(d,M,"M0,0L"+-u+","+y+"A "+2*x+","+2*x+" 0 0 1 "+u+","+y+"Z")},backoff:.4,noDot:!0}};function r(x){return x===null}var l,i,f,v;function c(x,d,M){if((!x||x%360===0)&&!d)return M;if(f===x&&v===d&&l===M)return i;f=x,v=d,l=M;function g(O,Y){var B=m(O),W=t(O),H=Y[0],U=Y[1]+(d||0);return[H*B-U*W,H*W+U*B]}for(var u=x/180*p,y=0,C=0,S=h(M),D="",T=0;T<S.length;T++){var P=S[T],A=P[0],a=y,R=C;if(A==="M"||A==="L")y=+P[1],C=+P[2];else if(A==="m"||A==="l")y+=+P[1],C+=+P[2];else if(A==="H")y=+P[1];else if(A==="h")y+=+P[1];else if(A==="V")C=+P[1];else if(A==="v")C+=+P[1];else if(A==="A"){y=+P[1],C=+P[2];var b=g(u,[+P[6],+P[7]]);P[6]=b[0],P[7]=b[1],P[3]=+P[3]+x}(A==="H"||A==="V")&&(A="L"),(A==="h"||A==="v")&&(A="l"),(A==="m"||A==="l")&&(y-=a,C-=R);var N=g(u,[y,C]);(A==="H"||A==="V")&&(A="L"),(A==="M"||A==="L"||A==="m"||A==="l")&&(P[1]=N[0],P[2]=N[1]),P[0]=A,D+=P[0]+P.slice(1).join(",")}return i=D,D}},25673:function(k){k.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(k,F,e){var h=e(92770),E=e(73972),n=e(89298),L=e(71828),w=e(45827);k.exports=function(t){for(var r=t.calcdata,l=0;l<r.length;l++){var i=r[l],f=i[0].trace;if(f.visible===!0&&E.traceIs(f,"errorBarsOK")){var v=n.getFromId(t,f.xaxis),c=n.getFromId(t,f.yaxis);p(i,f,v,"x"),p(i,f,c,"y")}}};function p(m,t,r,l){var i=t["error_"+l]||{},f=i.visible&&["linear","log"].indexOf(r.type)!==-1,v=[];if(f){for(var c=w(i),x=0;x<m.length;x++){var d=m[x],M=d.i;if(M===void 0)M=x;else if(M===null)continue;var g=d[l];if(h(r.c2l(g))){var u=c(g,M);if(h(u[0])&&h(u[1])){var y=d[l+"s"]=g-u[0],C=d[l+"h"]=g+u[1];v.push(y,C)}}}var S=r._id,D=t._extremes[S],T=n.findExtremes(r,v,L.extendFlat({tozero:D.opts.tozero},{padded:!0}));D.min=D.min.concat(T.min),D.max=D.max.concat(T.max)}}},45827:function(k){k.exports=function(h){var E=h.type,n=h.symmetric;if(E==="data"){var L=h.array||[];if(n)return function(r,l){var i=+L[l];return[i,i]};var w=h.arrayminus||[];return function(r,l){var i=+L[l],f=+w[l];return!isNaN(i)||!isNaN(f)?[f||0,i||0]:[NaN,NaN]}}else{var p=F(E,h.value),m=F(E,h.valueminus);return n||h.valueminus===void 0?function(r){var l=p(r);return[l,l]}:function(r){return[m(r),p(r)]}}};function F(e,h){if(e==="percent")return function(E){return Math.abs(E*h/100)};if(e==="constant")return function(){return Math.abs(h)};if(e==="sqrt")return function(E){return Math.sqrt(Math.abs(E))}}},97587:function(k,F,e){var h=e(92770),E=e(73972),n=e(71828),L=e(44467),w=e(25673);k.exports=function(p,m,t,r){var l="error_"+r.axis,i=L.newContainer(m,l),f=p[l]||{};function v(y,C){return n.coerce(f,i,w,y,C)}var c=f.array!==void 0||f.value!==void 0||f.type==="sqrt",x=v("visible",c);if(x!==!1){var d=v("type","array"in f?"data":"percent"),M=!0;d!=="sqrt"&&(M=v("symmetric",!((d==="data"?"arrayminus":"valueminus")in f))),d==="data"?(v("array"),v("traceref"),M||(v("arrayminus"),v("tracerefminus"))):(d==="percent"||d==="constant")&&(v("value"),M||v("valueminus"));var g="copy_"+r.inherit+"style";if(r.inherit){var u=m["error_"+r.inherit];(u||{}).visible&&v(g,!(f.color||h(f.thickness)||h(f.width)))}(!r.inherit||!i[g])&&(v("color",t),v("thickness"),v("width",E.traceIs(m,"gl3d")?0:4))}}},37369:function(k,F,e){var h=e(71828),E=e(30962).overrideAll,n=e(25673),L={error_x:h.extendFlat({},n),error_y:h.extendFlat({},n)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var w={error_x:h.extendFlat({},n),error_y:h.extendFlat({},n),error_z:h.extendFlat({},n)};delete w.error_x.copy_ystyle,delete w.error_y.copy_ystyle,delete w.error_z.copy_ystyle,delete w.error_z.copy_zstyle,k.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:E(w,"calc","nested"),scattergl:E(L,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:p};function p(m,t,r){(t.error_y||{}).visible&&(r.yerr=m.yh-m.y,t.error_y.symmetric||(r.yerrneg=m.y-m.ys)),(t.error_x||{}).visible&&(r.xerr=m.xh-m.x,t.error_x.symmetric||(r.xerrneg=m.x-m.xs))}},19398:function(k,F,e){var h=e(39898),E=e(92770),n=e(91424),L=e(34098);k.exports=function(m,t,r,l){var i,f=r.xaxis,v=r.yaxis,c=l&&l.duration>0,x=m._context.staticPlot;t.each(function(d){var M=d[0].trace,g=M.error_x||{},u=M.error_y||{},y;M.ids&&(y=function(T){return T.id});var C=L.hasMarkers(M)&&M.marker.maxdisplayed>0;!u.visible&&!g.visible&&(d=[]);var S=h.select(this).selectAll("g.errorbar").data(d,y);if(S.exit().remove(),!!d.length){g.visible||S.selectAll("path.xerror").remove(),u.visible||S.selectAll("path.yerror").remove(),S.style("opacity",1);var D=S.enter().append("g").classed("errorbar",!0);c&&D.style("opacity",0).transition().duration(l.duration).style("opacity",1),n.setClipUrl(S,r.layerClipId,m),S.each(function(T){var P=h.select(this),A=w(T,f,v);if(!(C&&!T.vis)){var a,R=P.select("path.yerror");if(u.visible&&E(A.x)&&E(A.yh)&&E(A.ys)){var b=u.width;a="M"+(A.x-b)+","+A.yh+"h"+2*b+"m-"+b+",0V"+A.ys,A.noYS||(a+="m-"+b+",0h"+2*b),i=!R.size(),i?R=P.append("path").style("vector-effect",x?"none":"non-scaling-stroke").classed("yerror",!0):c&&(R=R.transition().duration(l.duration).ease(l.easing)),R.attr("d",a)}else R.remove();var N=P.select("path.xerror");if(g.visible&&E(A.y)&&E(A.xh)&&E(A.xs)){var O=(g.copy_ystyle?u:g).width;a="M"+A.xh+","+(A.y-O)+"v"+2*O+"m0,-"+O+"H"+A.xs,A.noXS||(a+="m0,-"+O+"v"+2*O),i=!N.size(),i?N=P.append("path").style("vector-effect",x?"none":"non-scaling-stroke").classed("xerror",!0):c&&(N=N.transition().duration(l.duration).ease(l.easing)),N.attr("d",a)}else N.remove()}})}})};function w(p,m,t){var r={x:m.c2p(p.x),y:t.c2p(p.y)};return p.yh!==void 0&&(r.yh=t.c2p(p.yh),r.ys=t.c2p(p.ys),E(r.ys)||(r.noYS=!0,r.ys=t.c2p(p.ys,!0))),p.xh!==void 0&&(r.xh=m.c2p(p.xh),r.xs=m.c2p(p.xs),E(r.xs)||(r.noXS=!0,r.xs=m.c2p(p.xs,!0))),r}},62662:function(k,F,e){var h=e(39898),E=e(7901);k.exports=function(L){L.each(function(w){var p=w[0].trace,m=p.error_y||{},t=p.error_x||{},r=h.select(this);r.selectAll("path.yerror").style("stroke-width",m.thickness+"px").call(E.stroke,m.color),t.copy_ystyle&&(t=m),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(E.stroke,t.color)})}},77914:function(k,F,e){var h=e(41940),E=e(528).hoverlabel,n=e(1426).extendFlat;k.exports={hoverlabel:{bgcolor:n({},E.bgcolor,{arrayOk:!0}),bordercolor:n({},E.bordercolor,{arrayOk:!0}),font:h({arrayOk:!0,editType:"none"}),align:n({},E.align,{arrayOk:!0}),namelength:n({},E.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(k,F,e){var h=e(71828),E=e(73972);k.exports=function(w){var p=w.calcdata,m=w._fullLayout;function t(v){return function(c){return h.coerceHoverinfo({hoverinfo:c},{_module:v._module},m)}}for(var r=0;r<p.length;r++){var l=p[r],i=l[0].trace;if(!E.traceIs(i,"pie-like")){var f=E.traceIs(i,"2dMap")?n:h.fillArray;f(i.hoverinfo,l,"hi",t(i)),i.hovertemplate&&f(i.hovertemplate,l,"ht"),i.hoverlabel&&(f(i.hoverlabel.bgcolor,l,"hbg"),f(i.hoverlabel.bordercolor,l,"hbc"),f(i.hoverlabel.font.size,l,"hts"),f(i.hoverlabel.font.color,l,"htc"),f(i.hoverlabel.font.family,l,"htf"),f(i.hoverlabel.namelength,l,"hnl"),f(i.hoverlabel.align,l,"hta"))}}};function n(L,w,p,m){m=m||h.identity,Array.isArray(L)&&(w[0][p]=m(L))}},75914:function(k,F,e){var h=e(73972),E=e(88335).hover;k.exports=function(L,w,p){var m=h.getComponentMethod("annotations","onClick")(L,L._hoverdata);p!==void 0&&E(L,w,p,!0);function t(){L.emit("plotly_click",{points:L._hoverdata,event:w})}L._hoverdata&&w&&w.target&&(m&&m.then?m.then(t):t(),w.stopImmediatePropagation&&w.stopImmediatePropagation())}},26675:function(k){k.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(k,F,e){var h=e(71828),E=e(77914),n=e(38048);k.exports=function(w,p,m,t){function r(i,f){return h.coerce(w,p,E,i,f)}var l=h.extendFlat({},t.hoverlabel);p.hovertemplate&&(l.namelength=-1),n(w,p,r,l)}},23469:function(k,F,e){var h=e(71828);F.getSubplot=function(m){return m.subplot||m.xaxis+m.yaxis||m.geo},F.isTraceInSubplots=function(m,t){if(m.type==="splom"){for(var r=m.xaxes||[],l=m.yaxes||[],i=0;i<r.length;i++)for(var f=0;f<l.length;f++)if(t.indexOf(r[i]+l[f])!==-1)return!0;return!1}return t.indexOf(F.getSubplot(m))!==-1},F.flat=function(m,t){for(var r=new Array(m.length),l=0;l<m.length;l++)r[l]=t;return r},F.p2c=function(m,t){for(var r=new Array(m.length),l=0;l<m.length;l++)r[l]=m[l].p2c(t);return r},F.getDistanceFunction=function(m,t,r,l){return m==="closest"?l||F.quadrature(t,r):m.charAt(0)==="x"?t:r},F.getClosest=function(m,t,r){if(r.index!==!1)r.index>=0&&r.index<m.length?r.distance=0:r.index=!1;else for(var l=0;l<m.length;l++){var i=t(m[l]);i<=r.distance&&(r.index=l,r.distance=i)}return r},F.inbox=function(m,t,r){return m*t<0||m===0?r:1/0},F.quadrature=function(m,t){return function(r){var l=m(r),i=t(r);return Math.sqrt(l*l+i*i)}},F.makeEventData=function(m,t,r){var l="index"in m?m.index:m.pointNumber,i={data:t._input,fullData:t,curveNumber:t.index,pointNumber:l};if(t._indexToPoints){var f=t._indexToPoints[l];f.length===1?i.pointIndex=f[0]:i.pointIndices=f}else i.pointIndex=l;return t._module.eventData?i=t._module.eventData(i,m,t,r,l):("xVal"in m?i.x=m.xVal:"x"in m&&(i.x=m.x),"yVal"in m?i.y=m.yVal:"y"in m&&(i.y=m.y),m.xa&&(i.xaxis=m.xa),m.ya&&(i.yaxis=m.ya),m.zLabelVal!==void 0&&(i.z=m.zLabelVal)),F.appendArrayPointValue(i,t,l),i},F.appendArrayPointValue=function(m,t,r){var l=t._arrayAttrs;if(l)for(var i=0;i<l.length;i++){var f=l[i],v=n(f);if(m[v]===void 0){var c=h.nestedProperty(t,f).get(),x=L(c,r);x!==void 0&&(m[v]=x)}}},F.appendArrayMultiPointValues=function(m,t,r){var l=t._arrayAttrs;if(l)for(var i=0;i<l.length;i++){var f=l[i],v=n(f);if(m[v]===void 0){for(var c=h.nestedProperty(t,f).get(),x=new Array(r.length),d=0;d<r.length;d++)x[d]=L(c,r[d]);m[v]=x}}};var E={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function n(m){return E[m]||m}function L(m,t){if(Array.isArray(t)){if(Array.isArray(m)&&Array.isArray(m[t[0]]))return m[t[0]][t[1]]}else return m[t]}var w={x:!0,y:!0},p={"x unified":!0,"y unified":!0};F.isUnifiedHover=function(m){return typeof m!="string"?!1:!!p[m]},F.isXYhover=function(m){return typeof m!="string"?!1:!!w[m]}},88335:function(k,F,e){var h=e(39898),E=e(92770),n=e(84267),L=e(71828),w=L.strTranslate,p=L.strRotate,m=e(11086),t=e(63893),r=e(39918),l=e(91424),i=e(7901),f=e(28569),v=e(89298),c=e(73972),x=e(23469),d=e(26675),M=e(99017),g=e(43969),u=d.YANGLE,y=Math.PI*u/180,C=1/Math.sin(y),S=Math.cos(y),D=Math.sin(y),T=d.HOVERARROWSIZE,P=d.HOVERTEXTPAD,A={box:!0,ohlc:!0,violin:!0,candlestick:!0},a={scatter:!0,scattergl:!0,splom:!0};F.hover=function(fe,te,q,he){fe=L.getGraphDiv(fe);var se=te.target;L.throttle(fe._fullLayout._uid+d.HOVERID,d.HOVERMINTIME,function(){R(fe,te,q,he,se)})},F.loneHover=function(fe,te){var q=!0;Array.isArray(fe)||(q=!1,fe=[fe]);var he=te.gd,se=X(he),pe=Q(he),we=fe.map(function(We){var Fe=We._x0||We.x0||We.x||0,Ge=We._x1||We.x1||We.x||0,it=We._y0||We.y0||We.y||0,qe=We._y1||We.y1||We.y||0,$e=We.eventData;if($e){var tt=Math.min(Fe,Ge),vt=Math.max(Fe,Ge),dt=Math.min(it,qe),gt=Math.max(it,qe),Mt=We.trace;if(c.traceIs(Mt,"gl3d")){var Ct=he._fullLayout[Mt.scene]._scene.container,Wt=Ct.offsetLeft,Xe=Ct.offsetTop;tt+=Wt,vt+=Wt,dt+=Xe,gt+=Xe}$e.bbox={x0:tt+pe,x1:vt+pe,y0:dt+se,y1:gt+se},te.inOut_bbox&&te.inOut_bbox.push($e.bbox)}else $e=!1;return{color:We.color||i.defaultLine,x0:We.x0||We.x||0,x1:We.x1||We.x||0,y0:We.y0||We.y||0,y1:We.y1||We.y||0,xLabel:We.xLabel,yLabel:We.yLabel,zLabel:We.zLabel,text:We.text,name:We.name,idealAlign:We.idealAlign,borderColor:We.borderColor,fontFamily:We.fontFamily,fontSize:We.fontSize,fontColor:We.fontColor,nameLength:We.nameLength,textAlign:We.textAlign,trace:We.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:We.hovertemplate||!1,hovertemplateLabels:We.hovertemplateLabels||!1,eventData:$e}}),Ee=!1,Me=O(we,{gd:he,hovermode:"closest",rotateLabels:Ee,bgColor:te.bgColor||i.background,container:h.select(te.container),outerContainer:te.outerContainer||te.container}),Be=Me.hoverLabels,Ne=5,Ce=0,Te=0;Be.sort(function(We,Fe){return We.y0-Fe.y0}).each(function(We,Fe){var Ge=We.y0-We.by/2;Ge-Ne<Ce?We.offset=Ce-Ge+Ne:We.offset=0,Ce=Ge+We.by+We.offset,Fe===te.anchorIndex&&(Te=We.offset)}).each(function(We){We.offset-=Te});var Le=he._fullLayout._invScaleX,Ve=he._fullLayout._invScaleY;return U(Be,Ee,Le,Ve),q?Be:Be.node()};function R(ne,fe,te,q,he){te||(te="xy");var se=Array.isArray(te)?te:[te],pe=ne._fullLayout,we=pe._plots||[],Ee=we[te],Me=pe._has("cartesian");if(Ee){var Be=Ee.overlays.map(function(Ar){return Ar.id});se=se.concat(Be)}for(var Ne=se.length,Ce=new Array(Ne),Te=new Array(Ne),Le=!1,Ve=0;Ve<Ne;Ve++){var We=se[Ve];if(we[We])Le=!0,Ce[Ve]=we[We].xaxis,Te[Ve]=we[We].yaxis;else if(pe[We]&&pe[We]._subplot){var Fe=pe[We]._subplot;Ce[Ve]=Fe.xaxis,Te[Ve]=Fe.yaxis}else{L.warn("Unrecognized subplot: "+We);return}}var Ge=fe.hovermode||pe.hovermode;if(Ge&&!Le&&(Ge="closest"),["x","y","closest","x unified","y unified"].indexOf(Ge)===-1||!ne.calcdata||ne.querySelector(".zoombox")||ne._dragging)return f.unhoverRaw(ne,fe);var it=pe.hoverdistance;it===-1&&(it=1/0);var qe=pe.spikedistance;qe===-1&&(qe=1/0);var $e=[],tt=[],vt,dt,gt,Mt,Ct,Wt,Xe,ke,Ie,Oe,_e,Ae,ce,be={hLinePoint:null,vLinePoint:null},Re=!1;if(Array.isArray(fe))for(Ge="array",gt=0;gt<fe.length;gt++)Ct=ne.calcdata[fe[gt].curveNumber||0],Ct&&(Wt=Ct[0].trace,Ct[0].trace.hoverinfo!=="skip"&&(tt.push(Ct),Wt.orientation==="h"&&(Re=!0)));else{for(Mt=0;Mt<ne.calcdata.length;Mt++)Ct=ne.calcdata[Mt],Wt=Ct[0].trace,Wt.hoverinfo!=="skip"&&x.isTraceInSubplots(Wt,se)&&(tt.push(Ct),Wt.orientation==="h"&&(Re=!0));var Ue=!he,nt,ot;if(Ue)"xpx"in fe?nt=fe.xpx:nt=Ce[0]._length/2,"ypx"in fe?ot=fe.ypx:ot=Te[0]._length/2;else{if(m.triggerHandler(ne,"plotly_beforehover",fe)===!1)return;var wt=he.getBoundingClientRect();nt=fe.clientX-wt.left,ot=fe.clientY-wt.top,pe._calcInverseTransform(ne);var _t=L.apply3DTransform(pe._invTransform)(nt,ot);if(nt=_t[0],ot=_t[1],nt<0||nt>Ce[0]._length||ot<0||ot>Te[0]._length)return f.unhoverRaw(ne,fe)}if(fe.pointerX=nt+Ce[0]._offset,fe.pointerY=ot+Te[0]._offset,"xval"in fe?vt=x.flat(se,fe.xval):vt=x.p2c(Ce,nt),"yval"in fe?dt=x.flat(se,fe.yval):dt=x.p2c(Te,ot),!E(vt[0])||!E(dt[0]))return L.warn("Fx.hover failed",fe,ne),f.unhoverRaw(ne,fe)}var Ut=1/0;function Vt(Ar,Or){for(Mt=0;Mt<tt.length;Mt++)if(Ct=tt[Mt],!(!Ct||!Ct[0]||!Ct[0].trace)&&(Wt=Ct[0].trace,!(Wt.visible!==!0||Wt._length===0)&&["carpet","contourcarpet"].indexOf(Wt._module.name)===-1)){if(Wt.type==="splom"?(ke=0,Xe=se[ke]):(Xe=x.getSubplot(Wt),ke=se.indexOf(Xe)),Ie=Ge,x.isUnifiedHover(Ie)&&(Ie=Ie.charAt(0)),Ae={cd:Ct,trace:Wt,xa:Ce[ke],ya:Te[ke],maxHoverDistance:it,maxSpikeDistance:qe,index:!1,distance:Math.min(Ut,it),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:i.defaultLine,name:Wt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},pe[Xe]&&(Ae.subplot=pe[Xe]._subplot),pe._splomScenes&&pe._splomScenes[Wt.uid]&&(Ae.scene=pe._splomScenes[Wt.uid]),ce=$e.length,Ie==="array"){var Br=fe[Mt];"pointNumber"in Br?(Ae.index=Br.pointNumber,Ie="closest"):(Ie="","xval"in Br&&(Oe=Br.xval,Ie="x"),"yval"in Br&&(_e=Br.yval,Ie=Ie?"closest":"y"))}else Ar!==void 0&&Or!==void 0?(Oe=Ar,_e=Or):(Oe=vt[ke],_e=dt[ke]);if(it!==0)if(Wt._module&&Wt._module.hoverPoints){var qr=Wt._module.hoverPoints(Ae,Oe,_e,Ie,{finiteRange:!0,hoverLayer:pe._hoverlayer});if(qr)for(var vn,fn=0;fn<qr.length;fn++)vn=qr[fn],E(vn.x0)&&E(vn.y0)&&$e.push(G(vn,Ge))}else L.log("Unrecognized trace type in hover:",Wt);if(Ge==="closest"&&$e.length>ce&&($e.splice(0,ce),Ut=$e[0].distance),Me&&qe!==0&&$e.length===0){Ae.distance=qe,Ae.index=!1;var Tn=Wt._module.hoverPoints(Ae,Oe,_e,"closest",{hoverLayer:pe._hoverlayer});if(Tn&&(Tn=Tn.filter(function(ei){return ei.spikeDistance<=qe})),Tn&&Tn.length){var Pn,jn=Tn.filter(function(ei){return ei.xa.showspikes&&ei.xa.spikesnap!=="hovered data"});if(jn.length){var qn=jn[0];E(qn.x0)&&E(qn.y0)&&(Pn=Kt(qn),(!be.vLinePoint||be.vLinePoint.spikeDistance>Pn.spikeDistance)&&(be.vLinePoint=Pn))}var si=Tn.filter(function(ei){return ei.ya.showspikes&&ei.ya.spikesnap!=="hovered data"});if(si.length){var ti=si[0];E(ti.x0)&&E(ti.y0)&&(Pn=Kt(ti),(!be.hLinePoint||be.hLinePoint.spikeDistance>Pn.spikeDistance)&&(be.hLinePoint=Pn))}}}}}Vt();function Lt(Ar,Or,Br){for(var qr=null,vn=1/0,fn,Tn=0;Tn<Ar.length;Tn++)fn=Ar[Tn].spikeDistance,Br&&Tn===0&&(fn=-1/0),fn<=vn&&fn<=Or&&(qr=Ar[Tn],vn=fn);return qr}function Kt(Ar){return Ar?{xa:Ar.xa,ya:Ar.ya,x:Ar.xSpike!==void 0?Ar.xSpike:(Ar.x0+Ar.x1)/2,y:Ar.ySpike!==void 0?Ar.ySpike:(Ar.y0+Ar.y1)/2,distance:Ar.distance,spikeDistance:Ar.spikeDistance,curveNumber:Ar.trace.index,color:Ar.color,pointNumber:Ar.index}:null}var ar={fullLayout:pe,container:pe._hoverlayer,event:fe},Fr=ne._spikepoints,yt={vLinePoint:be.vLinePoint,hLinePoint:be.hLinePoint};ne._spikepoints=yt;var Xt=function(){$e.sort(function(Ar,Or){return Ar.distance-Or.distance}),$e=de($e,Ge)};Xt();var Yt=Ge.charAt(0),br=(Yt==="x"||Yt==="y")&&$e[0]&&a[$e[0].trace.type];if(Me&&qe!==0&&$e.length!==0){var hr=$e.filter(function(Ar){return Ar.ya.showspikes}),ut=Lt(hr,qe,br);be.hLinePoint=Kt(ut);var lt=$e.filter(function(Ar){return Ar.xa.showspikes}),xt=Lt(lt,qe,br);be.vLinePoint=Kt(xt)}if($e.length===0){var Tt=f.unhoverRaw(ne,fe);return Me&&(be.hLinePoint!==null||be.vLinePoint!==null)&&ae(Fr)&&j(ne,be,ar),Tt}if(Me&&ae(Fr)&&j(ne,be,ar),x.isXYhover(Ie)&&$e[0].length!==0&&$e[0].trace.type!=="splom"){var Et=$e[0];A[Et.trace.type]?$e=$e.filter(function(Ar){return Ar.trace.index===Et.trace.index}):$e=[Et];var At=$e.length,Ft=ee("x",Et,pe),Ht=ee("y",Et,pe);Vt(Ft,Ht);var $t=[],Qt={},or=0,Er=function(Ar){var Or=A[Ar.trace.type]?b(Ar):Ar.trace.index;if(!Qt[Or])or++,Qt[Or]=or,$t.push(Ar);else{var Br=Qt[Or]-1,qr=$t[Br];Br>0&&Math.abs(Ar.distance)<Math.abs(qr.distance)&&($t[Br]=Ar)}},Ze;for(Ze=0;Ze<At;Ze++)Er($e[Ze]);for(Ze=$e.length-1;Ze>At-1;Ze--)Er($e[Ze]);$e=$t,Xt()}var Ye=ne._hoverdata,Dt=[],It=X(ne),Zt=Q(ne);for(gt=0;gt<$e.length;gt++){var nr=$e[gt],lr=x.makeEventData(nr,nr.trace,nr.cd);if(nr.hovertemplate!==!1){var rr=!1;nr.cd[nr.index]&&nr.cd[nr.index].ht&&(rr=nr.cd[nr.index].ht),nr.hovertemplate=rr||nr.trace.hovertemplate||!1}if(nr.xa&&nr.ya){var zt=nr.x0+nr.xa._offset,fr=nr.x1+nr.xa._offset,dr=nr.y0+nr.ya._offset,pr=nr.y1+nr.ya._offset,vr=Math.min(zt,fr),Vr=Math.max(zt,fr),_r=Math.min(dr,pr),kr=Math.max(dr,pr);lr.bbox={x0:vr+Zt,x1:Vr+Zt,y0:_r+It,y1:kr+It}}nr.eventData=[lr],Dt.push(lr)}ne._hoverdata=Dt;var pn=Ge==="y"&&(tt.length>1||$e.length>1)||Ge==="closest"&&Re&&$e.length>1,Xr=i.combine(pe.plot_bgcolor||i.background,pe.paper_bgcolor),_n=O($e,{gd:ne,hovermode:Ge,rotateLabels:pn,bgColor:Xr,container:pe._hoverlayer,outerContainer:pe._paper.node(),commonLabelOpts:pe.hoverlabel,hoverdistance:pe.hoverdistance}),Dn=_n.hoverLabels;if(x.isUnifiedHover(Ge)||(B(Dn,pn,pe,_n.commonLabelBoundingBox),U(Dn,pn,pe._invScaleX,pe._invScaleY)),he&&he.tagName){var xr=c.getComponentMethod("annotations","hasClickToShow")(ne,Dt);r(h.select(he),xr?"pointer":"")}!he||q||!re(ne,fe,Ye)||(Ye&&ne.emit("plotly_unhover",{event:fe,points:Ye}),ne.emit("plotly_hover",{event:fe,points:ne._hoverdata,xaxes:Ce,yaxes:Te,xvals:vt,yvals:dt}))}function b(ne){return[ne.trace.index,ne.index,ne.x0,ne.y0,ne.name,ne.attr,ne.xa?ne.xa._id:"",ne.ya?ne.ya._id:""].join(",")}var N=/<extra>([\s\S]*)<\/extra>/;function O(ne,fe){var te=fe.gd,q=te._fullLayout,he=fe.hovermode,se=fe.rotateLabels,pe=fe.bgColor,we=fe.container,Ee=fe.outerContainer,Me=fe.commonLabelOpts||{};if(ne.length===0)return[[]];var Be=fe.fontFamily||d.HOVERFONT,Ne=fe.fontSize||d.HOVERFONTSIZE,Ce=ne[0],Te=Ce.xa,Le=Ce.ya,Ve=he.charAt(0),We=Ve+"Label",Fe=Ce[We];if(Fe===void 0&&Te.type==="multicategory")for(var Ge=0;Ge<ne.length&&(Fe=ne[Ge][We],Fe===void 0);Ge++);var it=$(te,Ee),qe=it.top,$e=it.width,tt=it.height,vt=Fe!==void 0&&Ce.distance<=fe.hoverdistance&&(he==="x"||he==="y");if(vt){var dt=!0,gt,Mt;for(gt=0;gt<ne.length;gt++)if(dt&&ne[gt].zLabel===void 0&&(dt=!1),Mt=ne[gt].hoverinfo||ne[gt].trace.hoverinfo,Mt){var Ct=Array.isArray(Mt)?Mt:Mt.split("+");if(Ct.indexOf("all")===-1&&Ct.indexOf(he)===-1){vt=!1;break}}dt&&(vt=!1)}var Wt=we.selectAll("g.axistext").data(vt?[0]:[]);Wt.enter().append("g").classed("axistext",!0),Wt.exit().remove();var Xe={minX:0,maxX:0,minY:0,maxY:0};if(Wt.each(function(){var At=h.select(this),Ft=L.ensureSingle(At,"path","",function(_r){_r.style({"stroke-width":"1px"})}),Ht=L.ensureSingle(At,"text","",function(_r){_r.attr("data-notex",1)}),$t=Me.bgcolor||i.defaultLine,Qt=Me.bordercolor||i.contrast($t),or=i.contrast($t),Er={family:Me.font.family||Be,size:Me.font.size||Ne,color:Me.font.color||or};Ft.style({fill:$t,stroke:Qt}),Ht.text(Fe).call(l.font,Er).call(t.positionText,0,0).call(t.convertToTspans,te),At.attr("transform","");var Ze=$(te,Ht.node()),Ye,Dt;if(he==="x"){var It=Te.side==="top"?"-":"";Ht.attr("text-anchor","middle").call(t.positionText,0,Te.side==="top"?qe-Ze.bottom-T-P:qe-Ze.top+T+P),Ye=Te._offset+(Ce.x0+Ce.x1)/2,Dt=Le._offset+(Te.side==="top"?0:Le._length);var Zt=Ze.width/2+P;Ye<Zt?(Ye=Zt,Ft.attr("d","M-"+(Zt-T)+",0L-"+(Zt-T*2)+","+It+T+"H"+Zt+"v"+It+(P*2+Ze.height)+"H-"+Zt+"V"+It+T+"Z")):Ye>q.width-Zt?(Ye=q.width-Zt,Ft.attr("d","M"+(Zt-T)+",0L"+Zt+","+It+T+"v"+It+(P*2+Ze.height)+"H-"+Zt+"V"+It+T+"H"+(Zt-T*2)+"Z")):Ft.attr("d","M0,0L"+T+","+It+T+"H"+Zt+"v"+It+(P*2+Ze.height)+"H-"+Zt+"V"+It+T+"H-"+T+"Z"),Xe.minX=Ye-Zt,Xe.maxX=Ye+Zt,Te.side==="top"?(Xe.minY=Dt-(P*2+Ze.height),Xe.maxY=Dt-P):(Xe.minY=Dt+P,Xe.maxY=Dt+(P*2+Ze.height))}else{var nr,lr,rr;Le.side==="right"?(nr="start",lr=1,rr="",Ye=Te._offset+Te._length):(nr="end",lr=-1,rr="-",Ye=Te._offset),Dt=Le._offset+(Ce.y0+Ce.y1)/2,Ht.attr("text-anchor",nr),Ft.attr("d","M0,0L"+rr+T+","+T+"V"+(P+Ze.height/2)+"h"+rr+(P*2+Ze.width)+"V-"+(P+Ze.height/2)+"H"+rr+T+"V-"+T+"Z"),Xe.minY=Dt-(P+Ze.height/2),Xe.maxY=Dt+(P+Ze.height/2),Le.side==="right"?(Xe.minX=Ye+T,Xe.maxX=Ye+T+(P*2+Ze.width)):(Xe.minX=Ye-T-(P*2+Ze.width),Xe.maxX=Ye-T);var zt=Ze.height/2,fr=qe-Ze.top-zt,dr="clip"+q._uid+"commonlabel"+Le._id,pr;if(Ye<Ze.width+2*P+T){pr="M-"+(T+P)+"-"+zt+"h-"+(Ze.width-P)+"V"+zt+"h"+(Ze.width-P)+"Z";var vr=Ze.width-Ye+P;t.positionText(Ht,vr,fr),nr==="end"&&Ht.selectAll("tspan").each(function(){var _r=h.select(this),kr=l.tester.append("text").text(_r.text()).call(l.font,Er),pn=$(te,kr.node());Math.round(pn.width)<Math.round(Ze.width)&&_r.attr("x",vr-pn.width),kr.remove()})}else t.positionText(Ht,lr*(P+T),fr),pr=null;var Vr=q._topclips.selectAll("#"+dr).data(pr?[0]:[]);Vr.enter().append("clipPath").attr("id",dr).append("path"),Vr.exit().remove(),Vr.select("path").attr("d",pr),l.setClipUrl(Ht,pr?dr:null,te)}At.attr("transform",w(Ye,Dt))}),x.isUnifiedHover(he)){we.selectAll("g.hovertext").remove();var ke=ne.filter(function(At){return At.hoverinfo!=="none"});if(ke.length===0)return[];var Ie=q.hoverlabel,Oe=Ie.font,_e={showlegend:!0,legend:{title:{text:Fe,font:Oe},font:Oe,bgcolor:Ie.bgcolor,bordercolor:Ie.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:q.legend?q.legend.traceorder:void 0,orientation:"v"}},Ae={font:Oe};M(_e,Ae,te._fullData);var ce=Ae.legend;ce.entries=[];for(var be=0;be<ke.length;be++){var Re=ke[be];if(Re.hoverinfo!=="none"){var Ue=Y(Re,!0,he,q,Fe),nt=Ue[0],ot=Ue[1];Re.name=ot,ot!==""?Re.text=ot+" : "+nt:Re.text=nt;var wt=Re.cd[Re.index];wt&&(wt.mc&&(Re.mc=wt.mc),wt.mcc&&(Re.mc=wt.mcc),wt.mlc&&(Re.mlc=wt.mlc),wt.mlcc&&(Re.mlc=wt.mlcc),wt.mlw&&(Re.mlw=wt.mlw),wt.mrc&&(Re.mrc=wt.mrc),wt.dir&&(Re.dir=wt.dir)),Re._distinct=!0,ce.entries.push([Re])}}ce.entries.sort(function(At,Ft){return At[0].trace.index-Ft[0].trace.index}),ce.layer=we,ce._inHover=!0,ce._groupTitleFont=Ie.grouptitlefont,g(te,ce);var _t=we.select("g.legend"),Ut=$(te,_t.node()),Vt=Ut.width+2*P,Lt=Ut.height+2*P,Kt=ke[0],ar=(Kt.x0+Kt.x1)/2,Fr=(Kt.y0+Kt.y1)/2,yt=!(c.traceIs(Kt.trace,"bar-like")||c.traceIs(Kt.trace,"box-violin")),Xt,Yt;Ve==="y"?yt?(Yt=Fr-P,Xt=Fr+P):(Yt=Math.min.apply(null,ke.map(function(At){return Math.min(At.y0,At.y1)})),Xt=Math.max.apply(null,ke.map(function(At){return Math.max(At.y0,At.y1)}))):Yt=Xt=L.mean(ke.map(function(At){return(At.y0+At.y1)/2}))-Lt/2;var br,hr;Ve==="x"?yt?(br=ar+P,hr=ar-P):(br=Math.max.apply(null,ke.map(function(At){return Math.max(At.x0,At.x1)})),hr=Math.min.apply(null,ke.map(function(At){return Math.min(At.x0,At.x1)}))):br=hr=L.mean(ke.map(function(At){return(At.x0+At.x1)/2}))-Vt/2;var ut=Te._offset,lt=Le._offset;Xt+=lt,br+=ut,hr+=ut-Vt,Yt+=lt-Lt;var xt,Tt;return br+Vt<$e&&br>=0?xt=br:hr+Vt<$e&&hr>=0?xt=hr:ut+Vt<$e?xt=ut:br-ar<ar-hr+Vt?xt=$e-Vt:xt=0,xt+=P,Xt+Lt<tt&&Xt>=0?Tt=Xt:Yt+Lt<tt&&Yt>=0?Tt=Yt:lt+Lt<tt?Tt=lt:Xt-Fr<Fr-Yt+Lt?Tt=tt-Lt:Tt=0,Tt+=P,_t.attr("transform",w(xt-1,Tt-1)),_t}var Et=we.selectAll("g.hovertext").data(ne,function(At){return b(At)});return Et.enter().append("g").classed("hovertext",!0).each(function(){var At=h.select(this);At.append("rect").call(i.fill,i.addOpacity(pe,.8)),At.append("text").classed("name",!0),At.append("path").style("stroke-width","1px"),At.append("text").classed("nums",!0).call(l.font,Be,Ne)}),Et.exit().remove(),Et.each(function(At){var Ft=h.select(this).attr("transform",""),Ht=At.color;Array.isArray(Ht)&&(Ht=Ht[At.eventData[0].pointNumber]);var $t=At.bgcolor||Ht,Qt=i.combine(i.opacity($t)?$t:i.defaultLine,pe),or=i.combine(i.opacity(Ht)?Ht:i.defaultLine,pe),Er=At.borderColor||i.contrast(Qt),Ze=Y(At,vt,he,q,Fe,Ft),Ye=Ze[0],Dt=Ze[1],It=Ft.select("text.nums").call(l.font,At.fontFamily||Be,At.fontSize||Ne,At.fontColor||Er).text(Ye).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,te),Zt=Ft.select("text.name"),nr=0,lr=0;if(Dt&&Dt!==Ye){Zt.call(l.font,At.fontFamily||Be,At.fontSize||Ne,or).text(Dt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,te);var rr=$(te,Zt.node());nr=rr.width+2*P,lr=rr.height+2*P}else Zt.remove(),Ft.select("rect").remove();Ft.select("path").style({fill:Qt,stroke:Er});var zt=At.xa._offset+(At.x0+At.x1)/2,fr=At.ya._offset+(At.y0+At.y1)/2,dr=Math.abs(At.x1-At.x0),pr=Math.abs(At.y1-At.y0),vr=$(te,It.node()),Vr=vr.width/q._invScaleX,_r=vr.height/q._invScaleY;At.ty0=(qe-vr.top)/q._invScaleY,At.bx=Vr+2*P,At.by=Math.max(_r+2*P,lr),At.anchor="start",At.txwidth=Vr,At.tx2width=nr,At.offset=0;var kr=(Vr+T+P+nr)*q._invScaleX,pn,Xr;if(se)At.pos=zt,pn=fr+pr/2+kr<=tt,Xr=fr-pr/2-kr>=0,(At.idealAlign==="top"||!pn)&&Xr?(fr-=pr/2,At.anchor="end"):pn?(fr+=pr/2,At.anchor="start"):At.anchor="middle",At.crossPos=fr;else{if(At.pos=fr,pn=zt+dr/2+kr<=$e,Xr=zt-dr/2-kr>=0,(At.idealAlign==="left"||!pn)&&Xr)zt-=dr/2,At.anchor="end";else if(pn)zt+=dr/2,At.anchor="start";else{At.anchor="middle";var _n=kr/2,Dn=zt+_n-$e,xr=zt-_n;Dn>0&&(zt-=Dn),xr<0&&(zt+=-xr)}At.crossPos=zt}It.attr("text-anchor",At.anchor),nr&&Zt.attr("text-anchor",At.anchor),Ft.attr("transform",w(zt,fr)+(se?p(u):""))}),{hoverLabels:Et,commonLabelBoundingBox:Xe}}function Y(ne,fe,te,q,he,se){var pe="",we="";ne.nameOverride!==void 0&&(ne.name=ne.nameOverride),ne.name&&(ne.trace._meta&&(ne.name=L.templateString(ne.name,ne.trace._meta)),pe=ue(ne.name,ne.nameLength));var Ee=te.charAt(0),Me=Ee==="x"?"y":"x";ne.zLabel!==void 0?(ne.xLabel!==void 0&&(we+="x: "+ne.xLabel+"<br>"),ne.yLabel!==void 0&&(we+="y: "+ne.yLabel+"<br>"),ne.trace.type!=="choropleth"&&ne.trace.type!=="choroplethmapbox"&&(we+=(we?"z: ":"")+ne.zLabel)):fe&&ne[Ee+"Label"]===he?we=ne[Me+"Label"]||"":ne.xLabel===void 0?ne.yLabel!==void 0&&ne.trace.type!=="scattercarpet"&&(we=ne.yLabel):ne.yLabel===void 0?we=ne.xLabel:we="("+ne.xLabel+", "+ne.yLabel+")",(ne.text||ne.text===0)&&!Array.isArray(ne.text)&&(we+=(we?"<br>":"")+ne.text),ne.extraText!==void 0&&(we+=(we?"<br>":"")+ne.extraText),se&&we===""&&!ne.hovertemplate&&(pe===""&&se.remove(),we=pe);var Be=ne.hovertemplate||!1;if(Be){var Ne=ne.hovertemplateLabels||ne;ne[Ee+"Label"]!==he&&(Ne[Ee+"other"]=Ne[Ee+"Val"],Ne[Ee+"otherLabel"]=Ne[Ee+"Label"]),we=L.hovertemplateString(Be,Ne,q._d3locale,ne.eventData[0]||{},ne.trace._meta),we=we.replace(N,function(Ce,Te){return pe=ue(Te,ne.nameLength),""})}return[we,pe]}function B(ne,fe,te,q){var he=fe?"xa":"ya",se=fe?"ya":"xa",pe=0,we=1,Ee=ne.size(),Me=new Array(Ee),Be=0,Ne=q.minX,Ce=q.maxX,Te=q.minY,Le=q.maxY,Ve=function(Oe){return Oe*te._invScaleX},We=function(Oe){return Oe*te._invScaleY};ne.each(function(Oe){var _e=Oe[he],Ae=Oe[se],ce=_e._id.charAt(0)==="x",be=_e.range;Be===0&&be&&be[0]>be[1]!==ce&&(we=-1);var Re=0,Ue=ce?te.width:te.height;if(te.hovermode==="x"||te.hovermode==="y"){var nt=W(Oe,fe),ot=Oe.anchor,wt=ot==="end"?-1:1,_t,Ut;if(ot==="middle")_t=Oe.crossPos+(ce?We(nt.y-Oe.by/2):Ve(Oe.bx/2+Oe.tx2width/2)),Ut=_t+(ce?We(Oe.by):Ve(Oe.bx));else if(ce)_t=Oe.crossPos+We(T+nt.y)-We(Oe.by/2-T),Ut=_t+We(Oe.by);else{var Vt=Ve(wt*T+nt.x),Lt=Vt+Ve(wt*Oe.bx);_t=Oe.crossPos+Math.min(Vt,Lt),Ut=Oe.crossPos+Math.max(Vt,Lt)}ce?Te!==void 0&&Le!==void 0&&Math.min(Ut,Le)-Math.max(_t,Te)>1&&(Ae.side==="left"?(Re=Ae._mainLinePosition,Ue=te.width):Ue=Ae._mainLinePosition):Ne!==void 0&&Ce!==void 0&&Math.min(Ut,Ce)-Math.max(_t,Ne)>1&&(Ae.side==="top"?(Re=Ae._mainLinePosition,Ue=te.height):Ue=Ae._mainLinePosition)}Me[Be++]=[{datum:Oe,traceIndex:Oe.trace.index,dp:0,pos:Oe.pos,posref:Oe.posref,size:Oe.by*(ce?C:1)/2,pmin:Re,pmax:Ue}]}),Me.sort(function(Oe,_e){return Oe[0].posref-_e[0].posref||we*(_e[0].traceIndex-Oe[0].traceIndex)});var Fe,Ge,it,qe,$e,tt,vt;function dt(Oe){var _e=Oe[0],Ae=Oe[Oe.length-1];if(Ge=_e.pmin-_e.pos-_e.dp+_e.size,it=Ae.pos+Ae.dp+Ae.size-_e.pmax,Ge>.01){for($e=Oe.length-1;$e>=0;$e--)Oe[$e].dp+=Ge;Fe=!1}if(!(it<.01)){if(Ge<-.01){for($e=Oe.length-1;$e>=0;$e--)Oe[$e].dp-=it;Fe=!1}if(Fe){var ce=0;for(qe=0;qe<Oe.length;qe++)tt=Oe[qe],tt.pos+tt.dp+tt.size>_e.pmax&&ce++;for(qe=Oe.length-1;qe>=0&&!(ce<=0);qe--)tt=Oe[qe],tt.pos>_e.pmax-1&&(tt.del=!0,ce--);for(qe=0;qe<Oe.length&&!(ce<=0);qe++)if(tt=Oe[qe],tt.pos<_e.pmin+1)for(tt.del=!0,ce--,it=tt.size*2,$e=Oe.length-1;$e>=0;$e--)Oe[$e].dp-=it;for(qe=Oe.length-1;qe>=0&&!(ce<=0);qe--)tt=Oe[qe],tt.pos+tt.dp+tt.size>_e.pmax&&(tt.del=!0,ce--)}}}for(;!Fe&&pe<=Ee;){for(pe++,Fe=!0,qe=0;qe<Me.length-1;){var gt=Me[qe],Mt=Me[qe+1],Ct=gt[gt.length-1],Wt=Mt[0];if(Ge=Ct.pos+Ct.dp+Ct.size-Wt.pos-Wt.dp+Wt.size,Ge>.01&&Ct.pmin===Wt.pmin&&Ct.pmax===Wt.pmax){for($e=Mt.length-1;$e>=0;$e--)Mt[$e].dp+=Ge;for(gt.push.apply(gt,Mt),Me.splice(qe+1,1),vt=0,$e=gt.length-1;$e>=0;$e--)vt+=gt[$e].dp;for(it=vt/gt.length,$e=gt.length-1;$e>=0;$e--)gt[$e].dp-=it;Fe=!1}else qe++}Me.forEach(dt)}for(qe=Me.length-1;qe>=0;qe--){var Xe=Me[qe];for($e=Xe.length-1;$e>=0;$e--){var ke=Xe[$e],Ie=ke.datum;Ie.offset=ke.dp,Ie.del=ke.del}}}function W(ne,fe){var te=0,q=ne.offset;return fe&&(q*=-D,te=ne.offset*S),{x:te,y:q}}function H(ne){var fe={start:1,end:-1,middle:0}[ne.anchor],te=fe*(T+P),q=te+fe*(ne.txwidth+P),he=ne.anchor==="middle";return he&&(te-=ne.tx2width/2,q+=ne.txwidth/2+P),{alignShift:fe,textShiftX:te,text2ShiftX:q}}function U(ne,fe,te,q){var he=function(pe){return pe*te},se=function(pe){return pe*q};ne.each(function(pe){var we=h.select(this);if(pe.del)return we.remove();var Ee=we.select("text.nums"),Me=pe.anchor,Be=Me==="end"?-1:1,Ne=H(pe),Ce=W(pe,fe),Te=Ce.x,Le=Ce.y,Ve=Me==="middle";we.select("path").attr("d",Ve?"M-"+he(pe.bx/2+pe.tx2width/2)+","+se(Le-pe.by/2)+"h"+he(pe.bx)+"v"+se(pe.by)+"h-"+he(pe.bx)+"Z":"M0,0L"+he(Be*T+Te)+","+se(T+Le)+"v"+se(pe.by/2-T)+"h"+he(Be*pe.bx)+"v-"+se(pe.by)+"H"+he(Be*T+Te)+"V"+se(Le-T)+"Z");var We=Te+Ne.textShiftX,Fe=Le+pe.ty0-pe.by/2+P,Ge=pe.textAlign||"auto";Ge!=="auto"&&(Ge==="left"&&Me!=="start"?(Ee.attr("text-anchor","start"),We=Ve?-pe.bx/2-pe.tx2width/2+P:-pe.bx-P):Ge==="right"&&Me!=="end"&&(Ee.attr("text-anchor","end"),We=Ve?pe.bx/2-pe.tx2width/2-P:pe.bx+P)),Ee.call(t.positionText,he(We),se(Fe)),pe.tx2width&&(we.select("text.name").call(t.positionText,he(Ne.text2ShiftX+Ne.alignShift*P+Te),se(Le+pe.ty0-pe.by/2+P)),we.select("rect").call(l.setRect,he(Ne.text2ShiftX+(Ne.alignShift-1)*pe.tx2width/2+Te),se(Le-pe.by/2-1),he(pe.tx2width),se(pe.by+2)))})}function G(ne,fe){var te=ne.index,q=ne.trace||{},he=ne.cd[0],se=ne.cd[te]||{};function pe(Ce){return Ce||E(Ce)&&Ce===0}var we=Array.isArray(te)?function(Ce,Te){var Le=L.castOption(he,te,Ce);return pe(Le)?Le:L.extractOption({},q,"",Te)}:function(Ce,Te){return L.extractOption(se,q,Ce,Te)};function Ee(Ce,Te,Le){var Ve=we(Te,Le);pe(Ve)&&(ne[Ce]=Ve)}if(Ee("hoverinfo","hi","hoverinfo"),Ee("bgcolor","hbg","hoverlabel.bgcolor"),Ee("borderColor","hbc","hoverlabel.bordercolor"),Ee("fontFamily","htf","hoverlabel.font.family"),Ee("fontSize","hts","hoverlabel.font.size"),Ee("fontColor","htc","hoverlabel.font.color"),Ee("nameLength","hnl","hoverlabel.namelength"),Ee("textAlign","hta","hoverlabel.align"),ne.posref=fe==="y"||fe==="closest"&&q.orientation==="h"?ne.xa._offset+(ne.x0+ne.x1)/2:ne.ya._offset+(ne.y0+ne.y1)/2,ne.x0=L.constrain(ne.x0,0,ne.xa._length),ne.x1=L.constrain(ne.x1,0,ne.xa._length),ne.y0=L.constrain(ne.y0,0,ne.ya._length),ne.y1=L.constrain(ne.y1,0,ne.ya._length),ne.xLabelVal!==void 0&&(ne.xLabel="xLabel"in ne?ne.xLabel:v.hoverLabelText(ne.xa,ne.xLabelVal,q.xhoverformat),ne.xVal=ne.xa.c2d(ne.xLabelVal)),ne.yLabelVal!==void 0&&(ne.yLabel="yLabel"in ne?ne.yLabel:v.hoverLabelText(ne.ya,ne.yLabelVal,q.yhoverformat),ne.yVal=ne.ya.c2d(ne.yLabelVal)),ne.zLabelVal!==void 0&&ne.zLabel===void 0&&(ne.zLabel=String(ne.zLabelVal)),!isNaN(ne.xerr)&&!(ne.xa.type==="log"&&ne.xerr<=0)){var Me=v.tickText(ne.xa,ne.xa.c2l(ne.xerr),"hover").text;ne.xerrneg!==void 0?ne.xLabel+=" +"+Me+" / -"+v.tickText(ne.xa,ne.xa.c2l(ne.xerrneg),"hover").text:ne.xLabel+=" ± "+Me,fe==="x"&&(ne.distance+=1)}if(!isNaN(ne.yerr)&&!(ne.ya.type==="log"&&ne.yerr<=0)){var Be=v.tickText(ne.ya,ne.ya.c2l(ne.yerr),"hover").text;ne.yerrneg!==void 0?ne.yLabel+=" +"+Be+" / -"+v.tickText(ne.ya,ne.ya.c2l(ne.yerrneg),"hover").text:ne.yLabel+=" ± "+Be,fe==="y"&&(ne.distance+=1)}var Ne=ne.hoverinfo||ne.trace.hoverinfo;return Ne&&Ne!=="all"&&(Ne=Array.isArray(Ne)?Ne:Ne.split("+"),Ne.indexOf("x")===-1&&(ne.xLabel=void 0),Ne.indexOf("y")===-1&&(ne.yLabel=void 0),Ne.indexOf("z")===-1&&(ne.zLabel=void 0),Ne.indexOf("text")===-1&&(ne.text=void 0),Ne.indexOf("name")===-1&&(ne.name=void 0)),ne}function j(ne,fe,te){var q=te.container,he=te.fullLayout,se=he._size,pe=te.event,we=!!fe.hLinePoint,Ee=!!fe.vLinePoint,Me,Be;if(q.selectAll(".spikeline").remove(),!!(Ee||we)){var Ne=i.combine(he.plot_bgcolor,he.paper_bgcolor);if(we){var Ce=fe.hLinePoint,Te,Le;Me=Ce&&Ce.xa,Be=Ce&&Ce.ya;var Ve=Be.spikesnap;Ve==="cursor"?(Te=pe.pointerX,Le=pe.pointerY):(Te=Me._offset+Ce.x,Le=Be._offset+Ce.y);var We=n.readability(Ce.color,Ne)<1.5?i.contrast(Ne):Ce.color,Fe=Be.spikemode,Ge=Be.spikethickness,it=Be.spikecolor||We,qe=v.getPxPosition(ne,Be),$e,tt;if(Fe.indexOf("toaxis")!==-1||Fe.indexOf("across")!==-1){if(Fe.indexOf("toaxis")!==-1&&($e=qe,tt=Te),Fe.indexOf("across")!==-1){var vt=Be._counterDomainMin,dt=Be._counterDomainMax;Be.anchor==="free"&&(vt=Math.min(vt,Be.position),dt=Math.max(dt,Be.position)),$e=se.l+vt*se.w,tt=se.l+dt*se.w}q.insert("line",":first-child").attr({x1:$e,x2:tt,y1:Le,y2:Le,"stroke-width":Ge,stroke:it,"stroke-dasharray":l.dashStyle(Be.spikedash,Ge)}).classed("spikeline",!0).classed("crisp",!0),q.insert("line",":first-child").attr({x1:$e,x2:tt,y1:Le,y2:Le,"stroke-width":Ge+2,stroke:Ne}).classed("spikeline",!0).classed("crisp",!0)}Fe.indexOf("marker")!==-1&&q.insert("circle",":first-child").attr({cx:qe+(Be.side!=="right"?Ge:-Ge),cy:Le,r:Ge,fill:it}).classed("spikeline",!0)}if(Ee){var gt=fe.vLinePoint,Mt,Ct;Me=gt&&gt.xa,Be=gt&&gt.ya;var Wt=Me.spikesnap;Wt==="cursor"?(Mt=pe.pointerX,Ct=pe.pointerY):(Mt=Me._offset+gt.x,Ct=Be._offset+gt.y);var Xe=n.readability(gt.color,Ne)<1.5?i.contrast(Ne):gt.color,ke=Me.spikemode,Ie=Me.spikethickness,Oe=Me.spikecolor||Xe,_e=v.getPxPosition(ne,Me),Ae,ce;if(ke.indexOf("toaxis")!==-1||ke.indexOf("across")!==-1){if(ke.indexOf("toaxis")!==-1&&(Ae=_e,ce=Ct),ke.indexOf("across")!==-1){var be=Me._counterDomainMin,Re=Me._counterDomainMax;Me.anchor==="free"&&(be=Math.min(be,Me.position),Re=Math.max(Re,Me.position)),Ae=se.t+(1-Re)*se.h,ce=se.t+(1-be)*se.h}q.insert("line",":first-child").attr({x1:Mt,x2:Mt,y1:Ae,y2:ce,"stroke-width":Ie,stroke:Oe,"stroke-dasharray":l.dashStyle(Me.spikedash,Ie)}).classed("spikeline",!0).classed("crisp",!0),q.insert("line",":first-child").attr({x1:Mt,x2:Mt,y1:Ae,y2:ce,"stroke-width":Ie+2,stroke:Ne}).classed("spikeline",!0).classed("crisp",!0)}ke.indexOf("marker")!==-1&&q.insert("circle",":first-child").attr({cx:Mt,cy:_e-(Me.side!=="top"?Ie:-Ie),r:Ie,fill:Oe}).classed("spikeline",!0)}}}function re(ne,fe,te){if(!te||te.length!==ne._hoverdata.length)return!0;for(var q=te.length-1;q>=0;q--){var he=te[q],se=ne._hoverdata[q];if(he.curveNumber!==se.curveNumber||String(he.pointNumber)!==String(se.pointNumber)||String(he.pointNumbers)!==String(se.pointNumbers))return!0}return!1}function ae(ne,fe){return!fe||fe.vLinePoint!==ne._spikepoints.vLinePoint||fe.hLinePoint!==ne._spikepoints.hLinePoint}function ue(ne,fe){return t.plainText(ne||"",{len:fe,allowedTags:["br","sub","sup","b","i","em"]})}function de(ne,fe){for(var te=fe.charAt(0),q=[],he=[],se=[],pe=0;pe<ne.length;pe++){var we=ne[pe];c.traceIs(we.trace,"bar-like")||c.traceIs(we.trace,"box-violin")?se.push(we):we.trace[te+"period"]?he.push(we):q.push(we)}return q.concat(he).concat(se)}function ee(ne,fe,te){var q=fe[ne+"a"],he=fe[ne+"Val"],se=fe.cd[0];if(q.type==="category"||q.type==="multicategory")he=q._categoriesMap[he];else if(q.type==="date"){var pe=fe.trace[ne+"periodalignment"];if(pe){var we=fe.cd[fe.index],Ee=we[ne+"Start"];Ee===void 0&&(Ee=we[ne]);var Me=we[ne+"End"];Me===void 0&&(Me=we[ne]);var Be=Me-Ee;pe==="end"?he+=Be:pe==="middle"&&(he+=Be/2)}he=q.d2c(he)}return se&&se.t&&se.t.posLetter===q._id&&(te.boxmode==="group"||te.violinmode==="group")&&(he+=se.t.dPos),he}function X(ne){return ne.offsetTop+ne.clientTop}function Q(ne){return ne.offsetLeft+ne.clientLeft}function $(ne,fe){var te=ne._fullLayout,q=fe.getBoundingClientRect(),he=q.left,se=q.top,pe=he+q.width,we=se+q.height,Ee=L.apply3DTransform(te._invTransform)(he,se),Me=L.apply3DTransform(te._invTransform)(pe,we),Be=Ee[0],Ne=Ee[1],Ce=Me[0],Te=Me[1];return{x:Be,y:Ne,width:Ce-Be,height:Te-Ne,top:Math.min(Ne,Te),left:Math.min(Be,Ce),right:Math.max(Be,Ce),bottom:Math.max(Ne,Te)}}},38048:function(k,F,e){var h=e(71828),E=e(7901),n=e(23469).isUnifiedHover;k.exports=function(w,p,m,t){t=t||{};var r=p.legend;function l(i){t.font[i]||(t.font[i]=r?p.legend.font[i]:p.font[i])}p&&n(p.hovermode)&&(t.font||(t.font={}),l("size"),l("family"),l("color"),r?(t.bgcolor||(t.bgcolor=E.combine(p.legend.bgcolor,p.paper_bgcolor)),t.bordercolor||(t.bordercolor=p.legend.bordercolor)):t.bgcolor||(t.bgcolor=p.paper_bgcolor)),m("hoverlabel.bgcolor",t.bgcolor),m("hoverlabel.bordercolor",t.bordercolor),m("hoverlabel.namelength",t.namelength),h.coerceFont(m,"hoverlabel.font",t.font),m("hoverlabel.align",t.align)}},98212:function(k,F,e){var h=e(71828),E=e(528);k.exports=function(L,w){function p(m,t){return w[m]!==void 0?w[m]:h.coerce(L,w,E,m,t)}return p("clickmode"),p("hovermode")}},30211:function(k,F,e){var h=e(39898),E=e(71828),n=e(28569),L=e(23469),w=e(528),p=e(88335);k.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:w},attributes:e(77914),layoutAttributes:w,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:p.hover,unhover:n.unhover,loneHover:p.loneHover,loneUnhover:m,click:e(75914)};function m(l){var i=E.isD3Selection(l)?l:h.select(l);i.selectAll("g.hovertext").remove(),i.selectAll(".spikeline").remove()}function t(l,i,f){return E.castOption(l,i,"hoverlabel."+f)}function r(l,i,f){function v(c){return E.coerceHoverinfo({hoverinfo:c},{_module:l._module},i)}return E.castOption(l,f,"hoverinfo",v)}},528:function(k,F,e){var h=e(26675),E=e(41940),n=E({editType:"none"});n.family.dflt=h.HOVERFONT,n.size.dflt=h.HOVERFONTSIZE,k.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:E({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(k,F,e){var h=e(71828),E=e(528),n=e(98212),L=e(38048);k.exports=function(p,m){function t(c,x){return h.coerce(p,m,E,c,x)}var r=n(p,m);r&&(t("hoverdistance"),t("spikedistance"));var l=t("dragmode");l==="select"&&t("selectdirection");var i=m._has("mapbox"),f=m._has("geo"),v=m._basePlotModules.length;m.dragmode==="zoom"&&((i||f)&&v===1||i&&f&&v===2)&&(m.dragmode="pan"),L(p,m,t),h.coerceFont(t,"hoverlabel.grouptitlefont",m.hoverlabel.font)}},22774:function(k,F,e){var h=e(71828),E=e(38048),n=e(528);k.exports=function(w,p){function m(t,r){return h.coerce(w,p,n,t,r)}E(w,p,m)}},83312:function(k,F,e){var h=e(71828),E=e(30587).counter,n=e(27670).Y,L=e(85555).idRegex,w=e(44467),p={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[E("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function m(f,v,c){var x=v[c+"axes"],d=Object.keys((f._splomAxes||{})[c]||{});if(Array.isArray(x))return x;if(d.length)return d}function t(f,v){var c=f.grid||{},x=m(v,c,"x"),d=m(v,c,"y");if(!f.grid&&!x&&!d)return;var M=Array.isArray(c.subplots)&&Array.isArray(c.subplots[0]),g=Array.isArray(x),u=Array.isArray(d),y=g&&x!==c.xaxes&&u&&d!==c.yaxes,C,S;M?(C=c.subplots.length,S=c.subplots[0].length):(u&&(C=d.length),g&&(S=x.length));var D=w.newContainer(v,"grid");function T(W,H){return h.coerce(c,D,p,W,H)}var P=T("rows",C),A=T("columns",S);if(!(P*A>1)){delete v.grid;return}if(!M&&!g&&!u){var a=T("pattern")==="independent";a&&(M=!0)}D._hasSubplotGrid=M;var R=T("roworder"),b=R==="top to bottom",N=M?.2:.1,O=M?.3:.1,Y,B;y&&v._splomGridDflt&&(Y=v._splomGridDflt.xside,B=v._splomGridDflt.yside),D._domains={x:r("x",T,N,Y,A),y:r("y",T,O,B,P,b)}}function r(f,v,c,x,d,M){var g=v(f+"gap",c),u=v("domain."+f);v(f+"side",x);for(var y=new Array(d),C=u[0],S=(u[1]-C)/(d-g),D=S*(1-g),T=0;T<d;T++){var P=C+S*T;y[M?d-1-T:T]=[P,P+D]}return y}function l(f,v){var c=v.grid;if(!(!c||!c._domains)){var x=f.grid||{},d=v._subplots,M=c._hasSubplotGrid,g=c.rows,u=c.columns,y=c.pattern==="independent",C,S,D,T,P,A,a,R=c._axisMap={};if(M){var b=x.subplots||[];A=c.subplots=new Array(g);var N=1;for(C=0;C<g;C++){var O=A[C]=new Array(u),Y=b[C]||[];for(S=0;S<u;S++)if(y?(P=N===1?"xy":"x"+N+"y"+N,N++):P=Y[S],O[S]="",d.cartesian.indexOf(P)!==-1){if(a=P.indexOf("y"),D=P.slice(0,a),T=P.slice(a),R[D]!==void 0&&R[D]!==S||R[T]!==void 0&&R[T]!==C)continue;O[S]=P,R[D]=S,R[T]=C}}}else{var B=m(v,x,"x"),W=m(v,x,"y");c.xaxes=i(B,d.xaxis,u,R,"x"),c.yaxes=i(W,d.yaxis,g,R,"y")}var H=c._anchors={},U=c.roworder==="top to bottom";for(var G in R){var j=G.charAt(0),re=c[j+"side"],ae,ue,de;if(re.length<8)H[G]="free";else if(j==="x"){if(re.charAt(0)==="t"===U?(ae=0,ue=1,de=g):(ae=g-1,ue=-1,de=-1),M){var ee=R[G];for(C=ae;C!==de;C+=ue)if(P=A[C][ee],!!P&&(a=P.indexOf("y"),P.slice(0,a)===G)){H[G]=P.slice(a);break}}else for(C=ae;C!==de;C+=ue)if(T=c.yaxes[C],d.cartesian.indexOf(G+T)!==-1){H[G]=T;break}}else if(re.charAt(0)==="l"?(ae=0,ue=1,de=u):(ae=u-1,ue=-1,de=-1),M){var X=R[G];for(C=ae;C!==de;C+=ue)if(P=A[X][C],!!P&&(a=P.indexOf("y"),P.slice(a)===G)){H[G]=P.slice(0,a);break}}else for(C=ae;C!==de;C+=ue)if(D=c.xaxes[C],d.cartesian.indexOf(D+G)!==-1){H[G]=D;break}}}}function i(f,v,c,x,d){var M=new Array(c),g;function u(y,C){v.indexOf(C)!==-1&&x[C]===void 0?(M[y]=C,x[C]=y):M[y]=""}if(Array.isArray(f))for(g=0;g<c;g++)u(g,f[g]);else for(u(0,d),g=1;g<c;g++)u(g,d+(g+1));return M}k.exports={moduleType:"component",name:"grid",schema:{layout:{grid:p}},layoutAttributes:p,sizeDefaults:t,contentDefaults:l}},69819:function(k,F,e){var h=e(85555),E=e(44467).templatedArray;e(24695),k.exports=E("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",h.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",h.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(k,F,e){var h=e(92770),E=e(58163);k.exports=function(L,w,p,m){w=w||{};var t=p==="log"&&w.type==="linear",r=p==="linear"&&w.type==="log";if(t||r){for(var l=L._fullLayout.images,i=w._id.charAt(0),f,v,c=0;c<l.length;c++)if(f=l[c],v="images["+c+"].",f[i+"ref"]===w._id){var x=f[i],d=f["size"+i],M=null,g=null;if(t){M=E(x,w.range);var u=d/Math.pow(10,M)/2;g=2*Math.log(u+Math.sqrt(1+u*u))/Math.LN10}else M=Math.pow(10,x),g=M*(Math.pow(10,d/2)-Math.pow(10,-d/2));h(M)?h(g)||(g=null):(M=null,g=null),m(v+i,M),m(v+"size"+i,g)}}}},81603:function(k,F,e){var h=e(71828),E=e(89298),n=e(85501),L=e(69819),w="images";k.exports=function(t,r){var l={name:w,handleItemDefaults:p};n(t,r,l)};function p(m,t,r){function l(u,y){return h.coerce(m,t,L,u,y)}var i=l("source"),f=l("visible",!!i);if(!f)return t;l("layer"),l("xanchor"),l("yanchor"),l("sizex"),l("sizey"),l("sizing"),l("opacity");for(var v={_fullLayout:r},c=["x","y"],x=0;x<2;x++){var d=c[x],M=E.coerceRef(m,t,v,d,"paper",void 0);if(M!=="paper"){var g=E.getFromId(v,M);g._imgIndices.push(t._index)}E.coercePosition(t,v,l,M,d,0)}return t}},80750:function(k,F,e){var h=e(39898),E=e(91424),n=e(89298),L=e(41675),w=e(77922);k.exports=function(m){var t=m._fullLayout,r=[],l={},i=[],f,v;for(v=0;v<t.images.length;v++){var c=t.images[v];if(c.visible)if(c.layer==="below"&&c.xref!=="paper"&&c.yref!=="paper"){f=L.ref2id(c.xref)+L.ref2id(c.yref);var x=t._plots[f];if(!x){i.push(c);continue}x.mainplot&&(f=x.mainplot.id),l[f]||(l[f]=[]),l[f].push(c)}else c.layer==="above"?r.push(c):i.push(c)}var d={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function M(T){var P=h.select(this);if(this._imgSrc!==T.source)if(P.attr("xmlns",w.svg),T.source&&T.source.slice(0,5)==="data:")P.attr("xlink:href",T.source),this._imgSrc=T.source;else{var A=new Promise(function(a){var R=new Image;this.img=R,R.setAttribute("crossOrigin","anonymous"),R.onerror=b,R.onload=function(){var N=document.createElement("canvas");N.width=this.width,N.height=this.height;var O=N.getContext("2d",{willReadFrequently:!0});O.drawImage(this,0,0);var Y=N.toDataURL("image/png");P.attr("xlink:href",Y),a()},P.on("error",b),R.src=T.source,this._imgSrc=T.source;function b(){P.remove(),a()}}.bind(this));m._promises.push(A)}}function g(T){var P=h.select(this),A=n.getFromId(m,T.xref),a=n.getFromId(m,T.yref),R=n.getRefType(T.xref)==="domain",b=n.getRefType(T.yref)==="domain",N=t._size,O,Y;A!==void 0?O=typeof T.xref=="string"&&R?A._length*T.sizex:Math.abs(A.l2p(T.sizex)-A.l2p(0)):O=T.sizex*N.w,a!==void 0?Y=typeof T.yref=="string"&&b?a._length*T.sizey:Math.abs(a.l2p(T.sizey)-a.l2p(0)):Y=T.sizey*N.h;var B=O*d.x[T.xanchor].offset,W=Y*d.y[T.yanchor].offset,H=d.x[T.xanchor].sizing+d.y[T.yanchor].sizing,U,G;switch(A!==void 0?U=typeof T.xref=="string"&&R?A._length*T.x+A._offset:A.r2p(T.x)+A._offset:U=T.x*N.w+N.l,U+=B,a!==void 0?G=typeof T.yref=="string"&&b?a._length*(1-T.y)+a._offset:a.r2p(T.y)+a._offset:G=N.h-T.y*N.h+N.t,G+=W,T.sizing){case"fill":H+=" slice";break;case"stretch":H="none";break}P.attr({x:U,y:G,width:O,height:Y,preserveAspectRatio:H,opacity:T.opacity});var j=A&&n.getRefType(T.xref)!=="domain"?A._id:"",re=a&&n.getRefType(T.yref)!=="domain"?a._id:"",ae=j+re;E.setClipUrl(P,ae?"clip"+t._uid+ae:null,m)}var u=t._imageLowerLayer.selectAll("image").data(i),y=t._imageUpperLayer.selectAll("image").data(r);u.enter().append("image"),y.enter().append("image"),u.exit().remove(),y.exit().remove(),u.each(function(T){M.bind(this)(T),g.bind(this)(T)}),y.each(function(T){M.bind(this)(T),g.bind(this)(T)});var C=Object.keys(t._plots);for(v=0;v<C.length;v++){f=C[v];var S=t._plots[f];if(S.imagelayer){var D=S.imagelayer.selectAll("image").data(l[f]||[]);D.enter().append("image"),D.exit().remove(),D.each(function(T){M.bind(this)(T),g.bind(this)(T)})}}}},68804:function(k,F,e){k.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(k,F,e){var h=e(41940),E=e(22399);k.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:h({editType:"legend"}),grouptitlefont:h({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:h({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(k){k.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(k,F,e){var h=e(73972),E=e(71828),n=e(44467),L=e(9012),w=e(33030),p=e(10820),m=e(10130);function t(r,l,i,f){var v=l[r]||{},c=n.newContainer(i,r);function x(de,ee){return E.coerce(v,c,w,de,ee)}var d=E.coerceFont(x,"font",i.font);x("bgcolor",i.paper_bgcolor),x("bordercolor");var M=x("visible");if(M){for(var g,u=function(de,ee){var X=g._input,Q=g;return E.coerce(X,Q,L,de,ee)},y=i.font||{},C=E.coerceFont(x,"grouptitlefont",E.extendFlat({},y,{size:Math.round(y.size*1.1)})),S=0,D=!1,T="normal",P=(i.shapes||[]).filter(function(de){return de.showlegend}),A=f.concat(P).filter(function(de){return r===(de.legend||"legend")}),a=0;a<A.length;a++)if(g=A[a],!!g.visible){var R=g._isShape;(g.showlegend||g._dfltShowLegend&&!(g._module&&g._module.attributes&&g._module.attributes.showlegend&&g._module.attributes.showlegend.dflt===!1))&&(S++,g.showlegend&&(D=!0,(!R&&h.traceIs(g,"pie-like")||g._input.showlegend===!0)&&S++),E.coerceFont(u,"legendgrouptitle.font",C)),(!R&&h.traceIs(g,"bar")&&i.barmode==="stack"||["tonextx","tonexty"].indexOf(g.fill)!==-1)&&(T=m.isGrouped({traceorder:T})?"grouped+reversed":"reversed"),g.legendgroup!==void 0&&g.legendgroup!==""&&(T=m.isReversed({traceorder:T})?"reversed+grouped":"grouped")}var b=E.coerce(l,i,p,"showlegend",D&&S>(r==="legend"?1:0));if(b===!1&&(i[r]=void 0),!(b===!1&&!v.uirevision)&&(x("uirevision",i.uirevision),b!==!1)){x("borderwidth");var N=x("orientation"),O=x("yref"),Y=x("xref"),B=N==="h",W=O==="paper",H=Y==="paper",U,G,j,re="left";B?(U=0,h.getComponentMethod("rangeslider","isVisible")(l.xaxis)?W?(G=1.1,j="bottom"):(G=1,j="top"):W?(G=-.1,j="top"):(G=0,j="bottom")):(G=1,j="auto",H?U=1.02:(U=1,re="right")),E.coerce(v,c,{x:{valType:"number",editType:"legend",min:H?-2:0,max:H?3:1,dflt:U}},"x"),E.coerce(v,c,{y:{valType:"number",editType:"legend",min:W?-2:0,max:W?3:1,dflt:G}},"y"),x("traceorder",T),m.isGrouped(i[r])&&x("tracegroupgap"),x("entrywidth"),x("entrywidthmode"),x("itemsizing"),x("itemwidth"),x("itemclick"),x("itemdoubleclick"),x("groupclick"),x("xanchor",re),x("yanchor",j),x("valign"),E.noneOrAll(v,c,["x","y"]);var ae=x("title.text");if(ae){x("title.side",B?"left":"top");var ue=E.extendFlat({},d,{size:E.bigFont(d.size)});E.coerceFont(x,"title.font",ue)}}}}k.exports=function(l,i,f){var v,c=f.slice(),x=i.shapes;if(x)for(v=0;v<x.length;v++){var d=x[v];if(d.showlegend){var M={_input:d._input,visible:d.visible,showlegend:d.showlegend,legend:d.legend};c.push(M)}}var g=["legend"];for(v=0;v<c.length;v++)E.pushUnique(g,c[v].legend);for(i._legends=[],v=0;v<g.length;v++){var u=g[v];t(u,l,i,c),i[u]&&i[u].visible&&(i[u]._id=u),i._legends.push(u)}}},43969:function(k,F,e){var h=e(39898),E=e(71828),n=e(74875),L=e(73972),w=e(11086),p=e(28569),m=e(91424),t=e(7901),r=e(63893),l=e(85167),i=e(14928),f=e(18783),v=f.LINE_SPACING,c=f.FROM_TL,x=f.FROM_BR,d=e(82424),M=e(53630),g=e(10130),u=1,y=/^legend[0-9]*$/;k.exports=function(U,G){if(G)C(U,G);else{var j=U._fullLayout,re=j._legends,ae=j._infolayer.selectAll('[class^="legend"]');ae.each(function(){var X=h.select(this),Q=X.attr("class"),$=Q.split(" ")[0];$.match(y)&&re.indexOf($)===-1&&X.remove()});for(var ue=0;ue<re.length;ue++){var de=re[ue],ee=U._fullLayout[de];C(U,ee)}}};function C(H,U){var G=U||{},j=H._fullLayout,re=W(G),ae,ue,de=G._inHover;if(de?(ue=G.layer,ae="hover"):(ue=j._infolayer,ae=re),!!ue){ae+=j._uid,H._legendMouseDownTime||(H._legendMouseDownTime=0);var ee;if(de){if(!G.entries)return;ee=d(G.entries,G)}else{for(var X=(H.calcdata||[]).slice(),Q=j.shapes,$=0;$<Q.length;$++){var ne=Q[$];if(ne.showlegend){var fe={_isShape:!0,_fullInput:ne,index:ne._index,name:ne.name||ne.label.text||"shape "+ne._index,legend:ne.legend,legendgroup:ne.legendgroup,legendgrouptitle:ne.legendgrouptitle,legendrank:ne.legendrank,legendwidth:ne.legendwidth,showlegend:ne.showlegend,visible:ne.visible,opacity:ne.opacity,mode:ne.type==="line"?"lines":"markers",line:ne.line,marker:{line:ne.line,color:ne.fillcolor,size:12,symbol:ne.type==="rect"?"square":ne.type==="circle"?"circle":"hexagon2"}};X.push([{trace:fe}])}}ee=j.showlegend&&d(X,G,j._legends.length>1)}var te=j.hiddenlabels||[];if(!de&&(!j.showlegend||!ee.length))return ue.selectAll("."+re).remove(),j._topdefs.select("#"+ae).remove(),n.autoMargin(H,re);var q=E.ensureSingle(ue,"g",re,function(Ce){de||Ce.attr("pointer-events","all")}),he=E.ensureSingleById(j._topdefs,"clipPath",ae,function(Ce){Ce.append("rect")}),se=E.ensureSingle(q,"rect","bg",function(Ce){Ce.attr("shape-rendering","crispEdges")});se.call(t.stroke,G.bordercolor).call(t.fill,G.bgcolor).style("stroke-width",G.borderwidth+"px");var pe=E.ensureSingle(q,"g","scrollbox"),we=G.title;if(G._titleWidth=0,G._titleHeight=0,we.text){var Ee=E.ensureSingle(pe,"text",re+"titletext");Ee.attr("text-anchor","start").call(m.font,we.font).text(we.text),a(Ee,pe,H,G,u)}else pe.selectAll("."+re+"titletext").remove();var Me=E.ensureSingle(q,"rect","scrollbar",function(Ce){Ce.attr(i.scrollBarEnterAttrs).call(t.fill,i.scrollBarColor)}),Be=pe.selectAll("g.groups").data(ee);Be.enter().append("g").attr("class","groups"),Be.exit().remove();var Ne=Be.selectAll("g.traces").data(E.identity);Ne.enter().append("g").attr("class","traces"),Ne.exit().remove(),Ne.style("opacity",function(Ce){var Te=Ce[0].trace;return L.traceIs(Te,"pie-like")?te.indexOf(Ce[0].label)!==-1?.5:1:Te.visible==="legendonly"?.5:1}).each(function(){h.select(this).call(T,H,G)}).call(M,H,G).each(function(){de||h.select(this).call(A,H,re)}),E.syncOrAsync([n.previousPromises,function(){return N(H,Be,Ne,G)},function(){var Ce=j._size,Te=G.borderwidth,Le=G.xref==="paper",Ve=G.yref==="paper";if(!de){var We,Fe;Le?We=Ce.l+Ce.w*G.x-c[Y(G)]*G._width:We=j.width*G.x-c[Y(G)]*G._width,Ve?Fe=Ce.t+Ce.h*(1-G.y)-c[B(G)]*G._effHeight:Fe=j.height*(1-G.y)-c[B(G)]*G._effHeight;var Ge=O(H,re,We,Fe);if(Ge)return;if(j.margin.autoexpand){var it=We,qe=Fe;We=Le?E.constrain(We,0,j.width-G._width):it,Fe=Ve?E.constrain(Fe,0,j.height-G._effHeight):qe,We!==it&&E.log("Constrain "+re+".x to make legend fit inside graph"),Fe!==qe&&E.log("Constrain "+re+".y to make legend fit inside graph")}m.setTranslate(q,We,Fe)}if(Me.on(".drag",null),q.on("wheel",null),de||G._height<=G._maxHeight||H._context.staticPlot){var $e=G._effHeight;de&&($e=G._height),se.attr({width:G._width-Te,height:$e-Te,x:Te/2,y:Te/2}),m.setTranslate(pe,0,0),he.select("rect").attr({width:G._width-2*Te,height:$e-2*Te,x:Te,y:Te}),m.setClipUrl(pe,ae,H),m.setRect(Me,0,0,0,0),delete G._scrollY}else{var tt=Math.max(i.scrollBarMinHeight,G._effHeight*G._effHeight/G._height),vt=G._effHeight-tt-2*i.scrollBarMargin,dt=G._height-G._effHeight,gt=vt/dt,Mt=Math.min(G._scrollY||0,dt);se.attr({width:G._width-2*Te+i.scrollBarWidth+i.scrollBarMargin,height:G._effHeight-Te,x:Te/2,y:Te/2}),he.select("rect").attr({width:G._width-2*Te+i.scrollBarWidth+i.scrollBarMargin,height:G._effHeight-2*Te,x:Te,y:Te+Mt}),m.setClipUrl(pe,ae,H),Ae(Mt,tt,gt),q.on("wheel",function(){Mt=E.constrain(G._scrollY+h.event.deltaY/vt*dt,0,dt),Ae(Mt,tt,gt),Mt!==0&&Mt!==dt&&h.event.preventDefault()});var Ct,Wt,Xe,ke=function(nt,ot,wt){var _t=(wt-ot)/gt+nt;return E.constrain(_t,0,dt)},Ie=function(nt,ot,wt){var _t=(ot-wt)/gt+nt;return E.constrain(_t,0,dt)},Oe=h.behavior.drag().on("dragstart",function(){var nt=h.event.sourceEvent;nt.type==="touchstart"?Ct=nt.changedTouches[0].clientY:Ct=nt.clientY,Xe=Mt}).on("drag",function(){var nt=h.event.sourceEvent;nt.buttons===2||nt.ctrlKey||(nt.type==="touchmove"?Wt=nt.changedTouches[0].clientY:Wt=nt.clientY,Mt=ke(Xe,Ct,Wt),Ae(Mt,tt,gt))});Me.call(Oe);var _e=h.behavior.drag().on("dragstart",function(){var nt=h.event.sourceEvent;nt.type==="touchstart"&&(Ct=nt.changedTouches[0].clientY,Xe=Mt)}).on("drag",function(){var nt=h.event.sourceEvent;nt.type==="touchmove"&&(Wt=nt.changedTouches[0].clientY,Mt=Ie(Xe,Ct,Wt),Ae(Mt,tt,gt))});pe.call(_e)}function Ae(nt,ot,wt){G._scrollY=H._fullLayout[re]._scrollY=nt,m.setTranslate(pe,0,-nt),m.setRect(Me,G._width,i.scrollBarMargin+nt*wt,i.scrollBarWidth,ot),he.select("rect").attr("y",Te+nt)}if(H._context.edits.legendPosition){var ce,be,Re,Ue;q.classed("cursor-move",!0),p.init({element:q.node(),gd:H,prepFn:function(){var nt=m.getTranslate(q);Re=nt.x,Ue=nt.y},moveFn:function(nt,ot){var wt=Re+nt,_t=Ue+ot;m.setTranslate(q,wt,_t),ce=p.align(wt,G._width,Ce.l,Ce.l+Ce.w,G.xanchor),be=p.align(_t+G._height,-G._height,Ce.t+Ce.h,Ce.t,G.yanchor)},doneFn:function(){if(ce!==void 0&&be!==void 0){var nt={};nt[re+".x"]=ce,nt[re+".y"]=be,L.call("_guiRelayout",H,nt)}},clickFn:function(nt,ot){var wt=ue.selectAll("g.traces").filter(function(){var _t=this.getBoundingClientRect();return ot.clientX>=_t.left&&ot.clientX<=_t.right&&ot.clientY>=_t.top&&ot.clientY<=_t.bottom});wt.size()>0&&D(H,q,wt,nt,ot)}})}}],H)}}function S(H,U,G){var j=H[0],re=j.width,ae=U.entrywidthmode,ue=j.trace.legendwidth||U.entrywidth;return ae==="fraction"?U._maxWidth*ue:G+(ue||re)}function D(H,U,G,j,re){var ae=G.data()[0][0].trace,ue={event:re,node:G.node(),curveNumber:ae.index,expandedIndex:ae._expandedIndex,data:H.data,layout:H.layout,frames:H._transitionData._frames,config:H._context,fullData:H._fullData,fullLayout:H._fullLayout};ae._group&&(ue.group=ae._group),L.traceIs(ae,"pie-like")&&(ue.label=G.datum()[0].label);var de=w.triggerHandler(H,"plotly_legendclick",ue);if(de!==!1){if(j===1)U._clickTimeout=setTimeout(function(){H._fullLayout&&l(G,H,j)},H._context.doubleClickDelay);else if(j===2){U._clickTimeout&&clearTimeout(U._clickTimeout),H._legendMouseDownTime=0;var ee=w.triggerHandler(H,"plotly_legenddoubleclick",ue);ee!==!1&&l(G,H,j)}}}function T(H,U,G){var j=W(G),re=H.data()[0][0],ae=re.trace,ue=L.traceIs(ae,"pie-like"),de=!G._inHover&&U._context.edits.legendText&&!ue,ee=G._maxNameLength,X,Q;re.groupTitle?(X=re.groupTitle.text,Q=re.groupTitle.font):(Q=G.font,G.entries?X=re.text:(X=ue?re.label:ae.name,ae._meta&&(X=E.templateString(X,ae._meta))));var $=E.ensureSingle(H,"text",j+"text");$.attr("text-anchor","start").call(m.font,Q).text(de?P(X,ee):X);var ne=G.itemwidth+i.itemGap*2;r.positionText($,ne,0),de?$.call(r.makeEditable,{gd:U,text:X}).call(a,H,U,G).on("edit",function(fe){this.text(P(fe,ee)).call(a,H,U,G);var te=re.trace._fullInput||{},q={};if(L.hasTransform(te,"groupby")){var he=L.getTransformIndices(te,"groupby"),se=he[he.length-1],pe=E.keyedContainer(te,"transforms["+se+"].styles","target","value.name");pe.set(re.trace._group,fe),q=pe.constructUpdate()}else q.name=fe;return te._isShape?L.call("_guiRelayout",U,"shapes["+ae.index+"].name",q.name):L.call("_guiRestyle",U,q,ae.index)}):a($,H,U,G)}function P(H,U){var G=Math.max(4,U);if(H&&H.trim().length>=G/2)return H;H=H||"";for(var j=G-H.length;j>0;j--)H+=" ";return H}function A(H,U,G){var j=U._context.doubleClickDelay,re,ae=1,ue=E.ensureSingle(H,"rect",G+"toggle",function(de){U._context.staticPlot||de.style("cursor","pointer").attr("pointer-events","all"),de.call(t.fill,"rgba(0,0,0,0)")});U._context.staticPlot||(ue.on("mousedown",function(){re=new Date().getTime(),re-U._legendMouseDownTime<j?ae+=1:(ae=1,U._legendMouseDownTime=re)}),ue.on("mouseup",function(){if(!(U._dragged||U._editing)){var de=U._fullLayout[G];new Date().getTime()-U._legendMouseDownTime>j&&(ae=Math.max(ae-1,1)),D(U,de,H,ae,h.event)}}))}function a(H,U,G,j,re){j._inHover&&H.attr("data-notex",!0),r.convertToTspans(H,G,function(){R(U,G,j,re)})}function R(H,U,G,j){var re=H.data()[0][0];if(!G._inHover&&re&&!re.trace.showlegend){H.remove();return}var ae=H.select("g[class*=math-group]"),ue=ae.node(),de=W(G);G||(G=U._fullLayout[de]);var ee=G.borderwidth,X;j===u?X=G.title.font:re.groupTitle?X=re.groupTitle.font:X=G.font;var Q=X.size*v,$,ne;if(ue){var fe=m.bBox(ue);$=fe.height,ne=fe.width,j===u?m.setTranslate(ae,ee,ee+$*.75):m.setTranslate(ae,0,$*.25)}else{var te="."+de+(j===u?"title":"")+"text",q=H.select(te),he=r.lineCount(q),se=q.node();if($=Q*he,ne=se?m.bBox(se).width:0,j===u){var pe=0;G.title.side==="left"?ne+=i.itemGap*2:G.title.side==="top center"?G._width&&(pe=.5*(G._width-2*ee-2*i.titlePad-ne)):G.title.side==="top right"&&G._width&&(pe=G._width-2*ee-2*i.titlePad-ne),r.positionText(q,ee+i.titlePad+pe,ee+Q)}else{var we=i.itemGap*2+G.itemwidth;re.groupTitle&&(we=i.itemGap,ne-=G.itemwidth),r.positionText(q,we,-Q*((he-1)/2-.3))}}j===u?(G._titleWidth=ne,G._titleHeight=$):(re.lineHeight=Q,re.height=Math.max($,16)+3,re.width=ne)}function b(H){var U=0,G=0,j=H.title.side;return j&&(j.indexOf("left")!==-1&&(U=H._titleWidth),j.indexOf("top")!==-1&&(G=H._titleHeight)),[U,G]}function N(H,U,G,j){var re=H._fullLayout,ae=W(j);j||(j=re[ae]);var ue=re._size,de=g.isVertical(j),ee=g.isGrouped(j),X=j.entrywidthmode==="fraction",Q=j.borderwidth,$=2*Q,ne=i.itemGap,fe=j.itemwidth+ne*2,te=2*(Q+ne),q=B(j),he=j.y<0||j.y===0&&q==="top",se=j.y>1||j.y===1&&q==="bottom",pe=j.tracegroupgap,we={};j._maxHeight=Math.max(he||se?re.height/2:ue.h,30);var Ee=0;j._width=0,j._height=0;var Me=b(j);if(de)G.each(function(Xe){var ke=Xe[0].height;m.setTranslate(this,Q+Me[0],Q+Me[1]+j._height+ke/2+ne),j._height+=ke,j._width=Math.max(j._width,Xe[0].width)}),Ee=fe+j._width,j._width+=ne+fe+$,j._height+=te,ee&&(U.each(function(Xe,ke){m.setTranslate(this,0,ke*j.tracegroupgap)}),j._height+=(j._lgroupsLength-1)*j.tracegroupgap);else{var Be=Y(j),Ne=j.x<0||j.x===0&&Be==="right",Ce=j.x>1||j.x===1&&Be==="left",Te=se||he,Le=re.width/2;j._maxWidth=Math.max(Ne?Te&&Be==="left"?ue.l+ue.w:Le:Ce?Te&&Be==="right"?ue.r+ue.w:Le:ue.w,2*fe);var Ve=0,We=0;G.each(function(Xe){var ke=S(Xe,j,fe);Ve=Math.max(Ve,ke),We+=ke}),Ee=null;var Fe=0;if(ee){var Ge=0,it=0,qe=0;U.each(function(){var Xe=0,ke=0;h.select(this).selectAll("g.traces").each(function(Oe){var _e=S(Oe,j,fe),Ae=Oe[0].height;m.setTranslate(this,Me[0],Me[1]+Q+ne+Ae/2+ke),ke+=Ae,Xe=Math.max(Xe,_e),we[Oe[0].trace.legendgroup]=Xe});var Ie=Xe+ne;it>0&&Ie+Q+it>j._maxWidth?(Fe=Math.max(Fe,it),it=0,qe+=Ge+pe,Ge=ke):Ge=Math.max(Ge,ke),m.setTranslate(this,it,qe),it+=Ie}),j._width=Math.max(Fe,it)+Q,j._height=qe+Ge+te}else{var $e=G.size(),tt=We+$+($e-1)*ne<j._maxWidth,vt=0,dt=0,gt=0,Mt=0;G.each(function(Xe){var ke=Xe[0].height,Ie=S(Xe,j,fe),Oe=tt?Ie:Ve;X||(Oe+=ne),Oe+Q+dt-ne>=j._maxWidth&&(Fe=Math.max(Fe,Mt),dt=0,gt+=vt,j._height+=vt,vt=0),m.setTranslate(this,Me[0]+Q+dt,Me[1]+Q+gt+ke/2+ne),Mt=dt+Ie+ne,dt+=Oe,vt=Math.max(vt,ke)}),tt?(j._width=dt+$,j._height=vt+te):(j._width=Math.max(Fe,Mt)+$,j._height+=vt+te)}}j._width=Math.ceil(Math.max(j._width+Me[0],j._titleWidth+2*(Q+i.titlePad))),j._height=Math.ceil(Math.max(j._height+Me[1],j._titleHeight+2*(Q+i.itemGap))),j._effHeight=Math.min(j._height,j._maxHeight);var Ct=H._context.edits,Wt=Ct.legendText||Ct.legendPosition;G.each(function(Xe){var ke=h.select(this).select("."+ae+"toggle"),Ie=Xe[0].height,Oe=Xe[0].trace.legendgroup,_e=S(Xe,j,fe);ee&&Oe!==""&&(_e=we[Oe]);var Ae=Wt?fe:Ee||_e;!de&&!X&&(Ae+=ne/2),m.setRect(ke,0,-Ie/2,Ae,Ie)})}function O(H,U,G,j){var re=H._fullLayout,ae=re[U],ue=Y(ae),de=B(ae),ee=ae.xref==="paper",X=ae.yref==="paper";H._fullLayout._reservedMargin[U]={};var Q=ae.y<.5?"b":"t",$=ae.x<.5?"l":"r",ne={r:re.width-G,l:G+ae._width,b:re.height-j,t:j+ae._effHeight};if(ee&&X)return n.autoMargin(H,U,{x:ae.x,y:ae.y,l:ae._width*c[ue],r:ae._width*x[ue],b:ae._effHeight*x[de],t:ae._effHeight*c[de]});ee?H._fullLayout._reservedMargin[U][Q]=ne[Q]:X||ae.orientation==="v"?H._fullLayout._reservedMargin[U][$]=ne[$]:H._fullLayout._reservedMargin[U][Q]=ne[Q]}function Y(H){return E.isRightAnchor(H)?"right":E.isCenterAnchor(H)?"center":"left"}function B(H){return E.isBottomAnchor(H)?"bottom":E.isMiddleAnchor(H)?"middle":"top"}function W(H){return H._id||"legend"}},82424:function(k,F,e){var h=e(73972),E=e(10130);k.exports=function(L,w,p){var m=w._inHover,t=E.isGrouped(w),r=E.isReversed(w),l={},i=[],f=!1,v={},c=0,x=0,d,M;function g(U,G,j){if(w.visible!==!1&&!(p&&U!==w._id))if(G===""||!E.isGrouped(w)){var re="~~i"+c;i.push(re),l[re]=[j],c++}else i.indexOf(G)===-1?(i.push(G),f=!0,l[G]=[j]):l[G].push(j)}for(d=0;d<L.length;d++){var u=L[d],y=u[0],C=y.trace,S=C.legend,D=C.legendgroup;if(!(!m&&(!C.visible||!C.showlegend)))if(h.traceIs(C,"pie-like"))for(v[D]||(v[D]={}),M=0;M<u.length;M++){var T=u[M].label;v[D][T]||(g(S,D,{label:T,color:u[M].color,i:u[M].i,trace:C,pts:u[M].pts}),v[D][T]=!0,x=Math.max(x,(T||"").length))}else g(S,D,y),x=Math.max(x,(C.name||"").length)}if(!i.length)return[];var P=!f||!t,A=[];for(d=0;d<i.length;d++){var a=l[i[d]];P?A.push(a[0]):A.push(a)}for(P&&(A=[A]),d=0;d<A.length;d++){var R=1/0;for(M=0;M<A[d].length;M++){var b=A[d][M].trace.legendrank;R>b&&(R=b)}A[d][0]._groupMinRank=R,A[d][0]._preGroupSort=d}var N=function(U,G){return U[0]._groupMinRank-G[0]._groupMinRank||U[0]._preGroupSort-G[0]._preGroupSort},O=function(U,G){return U.trace.legendrank-G.trace.legendrank||U._preSort-G._preSort};for(A.forEach(function(U,G){U[0]._preGroupSort=G}),A.sort(N),d=0;d<A.length;d++){A[d].forEach(function(U,G){U._preSort=G}),A[d].sort(O);var Y=A[d][0].trace,B=null;for(M=0;M<A[d].length;M++){var W=A[d][M].trace.legendgrouptitle;if(W&&W.text){B=W,m&&(W.font=w._groupTitleFont);break}}if(r&&A[d].reverse(),B){var H=!1;for(M=0;M<A[d].length;M++)if(h.traceIs(A[d][M].trace,"pie-like")){H=!0;break}A[d].unshift({i:-1,groupTitle:B,noClick:H,trace:{showlegend:Y.showlegend,legendgroup:Y.legendgroup,visible:w.groupclick==="toggleitem"?!0:Y.visible}})}for(M=0;M<A[d].length;M++)A[d][M]=[A[d][M]]}return w._lgroupsLength=A.length,w._maxNameLength=x,A}},85167:function(k,F,e){var h=e(73972),E=e(71828),n=E.pushUnique,L=!0;k.exports=function(p,m,t){var r=m._fullLayout;if(m._dragged||m._editing)return;var l=r.legend.itemclick,i=r.legend.itemdoubleclick,f=r.legend.groupclick;t===1&&l==="toggle"&&i==="toggleothers"&&L&&m.data&&m._context.showTips&&E.notifier(E._(m,"Double-click on legend to isolate one trace"),"long"),L=!1;var v;if(t===1?v=l:t===2&&(v=i),!v)return;var c=f==="togglegroup",x=r.hiddenlabels?r.hiddenlabels.slice():[],d=p.data()[0][0];if(d.groupTitle&&d.noClick)return;var M=m._fullData,g=(r.shapes||[]).filter(function(Ve){return Ve.showlegend}),u=M.concat(g),y=d.trace;y._isShape&&(y=y._fullInput);var C=y.legendgroup,S,D,T,P,A,a,R={},b=[],N=[],O=[];function Y(Ve,We){var Fe=b.indexOf(Ve),Ge=R.visible;return Ge||(Ge=R.visible=[]),b.indexOf(Ve)===-1&&(b.push(Ve),Fe=b.length-1),Ge[Fe]=We,Fe}var B=(r.shapes||[]).map(function(Ve){return Ve._input}),W=!1;function H(Ve,We){B[Ve].visible=We,W=!0}function U(Ve,We){if(!(d.groupTitle&&!c)){var Fe=Ve._fullInput||Ve,Ge=Fe._isShape,it=Fe.index;if(it===void 0&&(it=Fe._index),h.hasTransform(Fe,"groupby")){var qe=N[it];if(!qe){var $e=h.getTransformIndices(Fe,"groupby"),tt=$e[$e.length-1];qe=E.keyedContainer(Fe,"transforms["+tt+"].styles","target","value.visible"),N[it]=qe}var vt=qe.get(Ve._group);vt===void 0&&(vt=!0),vt!==!1&&qe.set(Ve._group,We),O[it]=Y(it,Fe.visible!==!1)}else{var dt=Fe.visible===!1?!1:We;Ge?H(it,dt):Y(it,dt)}}}var G=y.legend,j=y._fullInput,re=j&&j._isShape;if(!re&&h.traceIs(y,"pie-like")){var ae=d.label,ue=x.indexOf(ae);if(v==="toggle")ue===-1?x.push(ae):x.splice(ue,1);else if(v==="toggleothers"){var de=ue!==-1,ee=[];for(S=0;S<m.calcdata.length;S++){var X=m.calcdata[S];for(D=0;D<X.length;D++){var Q=X[D],$=Q.label;G===X[0].trace.legend&&ae!==$&&(x.indexOf($)===-1&&(de=!0),n(x,$),ee.push($))}}if(!de)for(var ne=0;ne<ee.length;ne++){var fe=x.indexOf(ee[ne]);fe!==-1&&x.splice(fe,1)}}h.call("_guiRelayout",m,"hiddenlabels",x)}else{var te=C&&C.length,q=[],he;if(te)for(S=0;S<u.length;S++)he=u[S],he.visible&&he.legendgroup===C&&q.push(S);if(v==="toggle"){var se;switch(y.visible){case!0:se="legendonly";break;case!1:se=!1;break;case"legendonly":se=!0;break}if(te)if(c)for(S=0;S<u.length;S++){var pe=u[S];pe.visible!==!1&&pe.legendgroup===C&&U(pe,se)}else U(y,se);else U(y,se)}else if(v==="toggleothers"){var we,Ee,Me,Be,Ne,Ce=!0;for(S=0;S<u.length;S++)if(Ne=u[S],we=Ne===y,Me=Ne.showlegend!==!0,!(we||Me)&&(Ee=te&&Ne.legendgroup===C,!Ee&&Ne.legend===G&&Ne.visible===!0&&!h.traceIs(Ne,"notLegendIsolatable"))){Ce=!1;break}for(S=0;S<u.length;S++)if(Ne=u[S],!(Ne.visible===!1||Ne.legend!==G)&&!h.traceIs(Ne,"notLegendIsolatable"))switch(y.visible){case"legendonly":U(Ne,!0);break;case!0:Be=Ce?!0:"legendonly",we=Ne===y,Me=Ne.showlegend!==!0&&!Ne.legendgroup,Ee=we||te&&Ne.legendgroup===C,U(Ne,Ee||Me?!0:Be);break}}for(S=0;S<N.length;S++)if(T=N[S],!!T){var Te=T.constructUpdate(),Le=Object.keys(Te);for(D=0;D<Le.length;D++)P=Le[D],a=R[P]=R[P]||[],a[O[S]]=Te[P]}for(A=Object.keys(R),S=0;S<A.length;S++)for(P=A[S],D=0;D<b.length;D++)R[P].hasOwnProperty(D)||(R[P][D]=void 0);W?h.call("_guiUpdate",m,R,{shapes:B},b):h.call("_guiRestyle",m,R,b)}}},10130:function(k,F){F.isGrouped=function(h){return(h.traceorder||"").indexOf("grouped")!==-1},F.isVertical=function(h){return h.orientation!=="h"},F.isReversed=function(h){return(h.traceorder||"").indexOf("reversed")!==-1}},2199:function(k,F,e){k.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(k,F,e){var h=e(39898),E=e(73972),n=e(71828),L=n.strTranslate,w=e(91424),p=e(7901),m=e(52075).extractOpts,t=e(34098),r=e(63463),l=e(53581).castOption,i=e(14928),f=12,v=5,c=2,x=10,d=5;k.exports=function(C,S,D){var T=S._fullLayout;D||(D=T.legend);var P=D.itemsizing==="constant",A=D.itemwidth,a=(A+i.itemGap*2)/2,R=L(a,0),b=function(ee,X,Q,$){var ne;if(ee+1)ne=ee;else if(X&&X.width>0)ne=X.width;else return 0;return P?$:Math.min(ne,Q)};C.each(function(ee){var X=h.select(this),Q=n.ensureSingle(X,"g","layers");Q.style("opacity",ee[0].trace.opacity);var $=D.valign,ne=ee[0].lineHeight,fe=ee[0].height;if($==="middle"||!ne||!fe)Q.attr("transform",null);else{var te={top:1,bottom:-1}[$],q=te*(.5*(ne-fe+3));Q.attr("transform",L(0,q))}var he=Q.selectAll("g.legendfill").data([ee]);he.enter().append("g").classed("legendfill",!0);var se=Q.selectAll("g.legendlines").data([ee]);se.enter().append("g").classed("legendlines",!0);var pe=Q.selectAll("g.legendsymbols").data([ee]);pe.enter().append("g").classed("legendsymbols",!0),pe.selectAll("g.legendpoints").data([ee]).enter().append("g").classed("legendpoints",!0)}).each(de).each(Y).each(W).each(B).each(U).each(ae).each(re).each(N).each(O).each(G).each(j);function N(ee){var X=g(ee),Q=X.showFill,$=X.showLine,ne=X.showGradientLine,fe=X.showGradientFill,te=X.anyFill,q=X.anyLine,he=ee[0],se=he.trace,pe,we,Ee=m(se),Me=Ee.colorscale,Be=Ee.reversescale,Ne=function(Ge){if(Ge.size())if(Q)w.fillGroupStyle(Ge,S);else{var it="legendfill-"+se.uid;w.gradient(Ge,S,it,M(Be),Me,"fill")}},Ce=function(Ge){if(Ge.size()){var it="legendline-"+se.uid;w.lineGroupStyle(Ge),w.gradient(Ge,S,it,M(Be),Me,"stroke")}},Te=t.hasMarkers(se)||!te?"M5,0":q?"M5,-2":"M5,-3",Le=h.select(this),Ve=Le.select(".legendfill").selectAll("path").data(Q||fe?[ee]:[]);if(Ve.enter().append("path").classed("js-fill",!0),Ve.exit().remove(),Ve.attr("d",Te+"h"+A+"v6h-"+A+"z").call(Ne),$||ne){var We=b(void 0,se.line,x,v);we=n.minExtend(se,{line:{width:We}}),pe=[n.minExtend(he,{trace:we})]}var Fe=Le.select(".legendlines").selectAll("path").data($||ne?[pe]:[]);Fe.enter().append("path").classed("js-line",!0),Fe.exit().remove(),Fe.attr("d",Te+(ne?"l"+A+",0.0001":"h"+A)).call($?w.lineGroupStyle:Ce)}function O(ee){var X=g(ee),Q=X.anyFill,$=X.anyLine,ne=X.showLine,fe=X.showMarker,te=ee[0],q=te.trace,he=!fe&&!$&&!Q&&t.hasText(q),se,pe;function we(Ve,We,Fe,Ge){var it=n.nestedProperty(q,Ve).get(),qe=n.isArrayOrTypedArray(it)&&We?We(it):it;if(P&&qe&&Ge!==void 0&&(qe=Ge),Fe){if(qe<Fe[0])return Fe[0];if(qe>Fe[1])return Fe[1]}return qe}function Ee(Ve){return te._distinct&&te.index&&Ve[te.index]?Ve[te.index]:Ve[0]}if(fe||he||ne){var Me={},Be={};if(fe){Me.mc=we("marker.color",Ee),Me.mx=we("marker.symbol",Ee),Me.mo=we("marker.opacity",n.mean,[.2,1]),Me.mlc=we("marker.line.color",Ee),Me.mlw=we("marker.line.width",n.mean,[0,5],c),Be.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ne=we("marker.size",n.mean,[2,16],f);Me.ms=Ne,Be.marker.size=Ne}ne&&(Be.line={width:we("line.width",Ee,[0,10],v)}),he&&(Me.tx="Aa",Me.tp=we("textposition",Ee),Me.ts=10,Me.tc=we("textfont.color",Ee),Me.tf=we("textfont.family",Ee)),se=[n.minExtend(te,Me)],pe=n.minExtend(q,Be),pe.selectedpoints=null,pe.texttemplate=null}var Ce=h.select(this).select("g.legendpoints"),Te=Ce.selectAll("path.scatterpts").data(fe?se:[]);Te.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",R),Te.exit().remove(),Te.call(w.pointStyle,pe,S),fe&&(se[0].mrc=3);var Le=Ce.selectAll("g.pointtext").data(he?se:[]);Le.enter().append("g").classed("pointtext",!0).append("text").attr("transform",R),Le.exit().remove(),Le.selectAll("text").call(w.textPointStyle,pe,S)}function Y(ee){var X=ee[0].trace,Q=X.type==="waterfall";if(ee[0]._distinct&&Q){var $=ee[0].trace[ee[0].dir].marker;return ee[0].mc=$.color,ee[0].mlw=$.line.width,ee[0].mlc=$.line.color,H(ee,this,"waterfall")}var ne=[];X.visible&&Q&&(ne=ee[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var fe=h.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(ne);fe.enter().append("path").classed("legendwaterfall",!0).attr("transform",R).style("stroke-miterlimit",1),fe.exit().remove(),fe.each(function(te){var q=h.select(this),he=X[te[0]].marker,se=b(void 0,he.line,d,c);q.attr("d",te[1]).style("stroke-width",se+"px").call(p.fill,he.color),se&&q.call(p.stroke,he.line.color)})}function B(ee){H(ee,this)}function W(ee){H(ee,this,"funnel")}function H(ee,X,Q){var $=ee[0].trace,ne=$.marker||{},fe=ne.line||{},te=Q?$.visible&&$.type===Q:E.traceIs($,"bar"),q=h.select(X).select("g.legendpoints").selectAll("path.legend"+Q).data(te?[ee]:[]);q.enter().append("path").classed("legend"+Q,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",R),q.exit().remove(),q.each(function(he){var se=h.select(this),pe=he[0],we=b(pe.mlw,ne.line,d,c);se.style("stroke-width",we+"px");var Ee=pe.mcc;if(!D._inHover&&"mc"in pe){var Me=m(ne),Be=Me.mid;Be===void 0&&(Be=(Me.max+Me.min)/2),Ee=w.tryColorscale(ne,"")(Be)}var Ne=Ee||pe.mc||ne.color,Ce=ne.pattern,Te=Ce&&w.getPatternAttr(Ce.shape,0,"");if(Te){var Le=w.getPatternAttr(Ce.bgcolor,0,null),Ve=w.getPatternAttr(Ce.fgcolor,0,null),We=Ce.fgopacity,Fe=u(Ce.size,8,10),Ge=u(Ce.solidity,.5,1),it="legend-"+$.uid;se.call(w.pattern,"legend",S,it,Te,Fe,Ge,Ee,Ce.fillmode,Le,Ve,We)}else se.call(p.fill,Ne);we&&p.stroke(se,pe.mlc||fe.color)})}function U(ee){var X=ee[0].trace,Q=h.select(this).select("g.legendpoints").selectAll("path.legendbox").data(X.visible&&E.traceIs(X,"box-violin")?[ee]:[]);Q.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",R),Q.exit().remove(),Q.each(function(){var $=h.select(this);if((X.boxpoints==="all"||X.points==="all")&&p.opacity(X.fillcolor)===0&&p.opacity((X.line||{}).color)===0){var ne=n.minExtend(X,{marker:{size:P?f:n.constrain(X.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Q.call(w.pointStyle,ne,S)}else{var fe=b(void 0,X.line,d,c);$.style("stroke-width",fe+"px").call(p.fill,X.fillcolor),fe&&p.stroke($,X.line.color)}})}function G(ee){var X=ee[0].trace,Q=h.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(X.visible&&X.type==="candlestick"?[ee,ee]:[]);Q.enter().append("path").classed("legendcandle",!0).attr("d",function($,ne){return ne?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",R).style("stroke-miterlimit",1),Q.exit().remove(),Q.each(function($,ne){var fe=h.select(this),te=X[ne?"increasing":"decreasing"],q=b(void 0,te.line,d,c);fe.style("stroke-width",q+"px").call(p.fill,te.fillcolor),q&&p.stroke(fe,te.line.color)})}function j(ee){var X=ee[0].trace,Q=h.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(X.visible&&X.type==="ohlc"?[ee,ee]:[]);Q.enter().append("path").classed("legendohlc",!0).attr("d",function($,ne){return ne?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",R).style("stroke-miterlimit",1),Q.exit().remove(),Q.each(function($,ne){var fe=h.select(this),te=X[ne?"increasing":"decreasing"],q=b(void 0,te.line,d,c);fe.style("fill","none").call(w.dashLine,te.line.dash,q),q&&p.stroke(fe,te.line.color)})}function re(ee){ue(ee,this,"pie")}function ae(ee){ue(ee,this,"funnelarea")}function ue(ee,X,Q){var $=ee[0],ne=$.trace,fe=Q?ne.visible&&ne.type===Q:E.traceIs(ne,Q),te=h.select(X).select("g.legendpoints").selectAll("path.legend"+Q).data(fe?[ee]:[]);if(te.enter().append("path").classed("legend"+Q,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",R),te.exit().remove(),te.size()){var q=ne.marker||{},he=b(l(q.line.width,$.pts),q.line,d,c),se="pieLike",pe=n.minExtend(ne,{marker:{line:{width:he}}},se),we=n.minExtend($,{trace:pe},se);r(te,we,pe,S)}}function de(ee){var X=ee[0].trace,Q,$=[];if(X.visible)switch(X.type){case"histogram2d":case"heatmap":$=[["M-15,-2V4H15V-2Z"]],Q=!0;break;case"choropleth":case"choroplethmapbox":$=[["M-6,-6V6H6V-6Z"]],Q=!0;break;case"densitymapbox":$=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Q="radial";break;case"cone":$=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Q=!1;break;case"streamtube":$=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Q=!1;break;case"surface":$=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Q=!0;break;case"mesh3d":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Q=!1;break;case"volume":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Q=!0;break;case"isosurface":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Q=!1;break}var ne=h.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data($);ne.enter().append("path").classed("legend3dandfriends",!0).attr("transform",R).style("stroke-miterlimit",1),ne.exit().remove(),ne.each(function(fe,te){var q=h.select(this),he=m(X),se=he.colorscale,pe=he.reversescale,we=function(Ne){if(Ne.size()){var Ce="legendfill-"+X.uid;w.gradient(Ne,S,Ce,M(pe,Q==="radial"),se,"fill")}},Ee;if(se){if(!Q){var Be=se.length;Ee=te===0?se[pe?Be-1:0][1]:te===1?se[pe?0:Be-1][1]:se[Math.floor((Be-1)/2)][1]}}else{var Me=X.vertexcolor||X.facecolor||X.color;Ee=n.isArrayOrTypedArray(Me)?Me[te]||Me[0]:Me}q.attr("d",fe[0]),Ee?q.call(p.fill,Ee):q.call(we)})}};function M(y,C){var S=C?"radial":"horizontal";return S+(y?"":"reversed")}function g(y){var C=y[0].trace,S=C.contours,D=t.hasLines(C),T=t.hasMarkers(C),P=C.visible&&C.fill&&C.fill!=="none",A=!1,a=!1;if(S){var R=S.coloring;R==="lines"?A=!0:D=R==="none"||R==="heatmap"||S.showlines,S.type==="constraint"?P=S._operation!=="=":(R==="fill"||R==="heatmap")&&(a=!0)}return{showMarker:T,showLine:D,showFill:P,showGradientLine:A,showGradientFill:a,anyLine:D||A,anyFill:P||a}}function u(y,C,S){return y&&n.isArrayOrTypedArray(y)?C:y>S?S:y}},42068:function(k,F,e){e(93348),k.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(k,F,e){var h=e(73972),E=e(74875),n=e(41675),L=e(24255),w=e(34031).eraseActiveShape,p=e(71828),m=p._,t=k.exports={};t.toImage={name:"toImage",title:function(y){var C=y._context.toImageButtonOptions||{},S=C.format||"png";return S==="png"?m(y,"Download plot as a png"):m(y,"Download plot")},icon:L.camera,click:function(y){var C=y._context.toImageButtonOptions,S={format:C.format||"png"};p.notifier(m(y,"Taking snapshot - this may take a few seconds"),"long"),S.format!=="svg"&&p.isIE()&&(p.notifier(m(y,"IE only supports svg.  Changing format to svg."),"long"),S.format="svg"),["filename","width","height","scale"].forEach(function(D){D in C&&(S[D]=C[D])}),h.call("downloadImage",y,S).then(function(D){p.notifier(m(y,"Snapshot succeeded")+" - "+D,"long")}).catch(function(){p.notifier(m(y,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(y){return m(y,"Edit in Chart Studio")},icon:L.disk,click:function(y){E.sendDataToCloud(y)}},t.editInChartStudio={name:"editInChartStudio",title:function(y){return m(y,"Edit in Chart Studio")},icon:L.pencil,click:function(y){E.sendDataToCloud(y)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(y){return m(y,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(y){return m(y,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(y){return m(y,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(y){return m(y,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(y){return m(y,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(y){return m(y,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:r},t.drawline={name:"drawline",title:function(y){return m(y,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:r},t.drawrect={name:"drawrect",title:function(y){return m(y,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(y){return m(y,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(y){return m(y,"Erase active shape")},icon:L.eraseshape,click:w},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(y){return m(y,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(y){return m(y,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(y){return m(y,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(y){return m(y,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(y){return m(y,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(y){return m(y,"Compare data on hover")},attr:"hovermode",val:function(y){return y._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:r};function r(y,C){var S=C.currentTarget,D=S.getAttribute("data-attr"),T=S.getAttribute("data-val")||!0,P=y._fullLayout,A={},a=n.list(y,null,!0),R=P._cartesianSpikesEnabled,b,N;if(D==="zoom"){var O=T==="in"?.5:2,Y=(1+O)/2,B=(1-O)/2,W;for(N=0;N<a.length;N++)if(b=a[N],!b.fixedrange)if(W=b._name,T==="auto")A[W+".autorange"]=!0;else if(T==="reset")b._rangeInitial0===void 0&&b._rangeInitial1===void 0?A[W+".autorange"]=!0:b._rangeInitial0===void 0?(A[W+".autorange"]=b._autorangeInitial,A[W+".range"]=[null,b._rangeInitial1]):b._rangeInitial1===void 0?(A[W+".range"]=[b._rangeInitial0,null],A[W+".autorange"]=b._autorangeInitial):A[W+".range"]=[b._rangeInitial0,b._rangeInitial1],b._showSpikeInitial!==void 0&&(A[W+".showspikes"]=b._showSpikeInitial,R==="on"&&!b._showSpikeInitial&&(R="off"));else{var H=[b.r2l(b.range[0]),b.r2l(b.range[1])],U=[Y*H[0]+B*H[1],Y*H[1]+B*H[0]];A[W+".range[0]"]=b.l2r(U[0]),A[W+".range[1]"]=b.l2r(U[1])}}else D==="hovermode"&&(T==="x"||T==="y")&&(T=P._isHoriz?"y":"x",S.setAttribute("data-val",T)),A[D]=T;P._cartesianSpikesEnabled=R,h.call("_guiRelayout",y,A)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(y){return m(y,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:l},t.pan3d={name:"pan3d",_cat:"pan",title:function(y){return m(y,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:l},t.orbitRotation={name:"orbitRotation",title:function(y){return m(y,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:l},t.tableRotation={name:"tableRotation",title:function(y){return m(y,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:l};function l(y,C){for(var S=C.currentTarget,D=S.getAttribute("data-attr"),T=S.getAttribute("data-val")||!0,P=y._fullLayout._subplots.gl3d||[],A={},a=D.split("."),R=0;R<P.length;R++)A[P[R]+"."+a[1]]=T;var b=T==="pan"?T:"zoom";A.dragmode=b,h.call("_guiRelayout",y,A)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(y){return m(y,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:i},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(y){return m(y,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:i};function i(y,C){for(var S=C.currentTarget,D=S.getAttribute("data-attr"),T=D==="resetLastSave",P=D==="resetDefault",A=y._fullLayout,a=A._subplots.gl3d||[],R={},b=0;b<a.length;b++){var N=a[b],O=N+".camera",Y=N+".aspectratio",B=N+".aspectmode",W=A[N]._scene,H;T?(R[O+".up"]=W.viewInitial.up,R[O+".eye"]=W.viewInitial.eye,R[O+".center"]=W.viewInitial.center,H=!0):P&&(R[O+".up"]=null,R[O+".eye"]=null,R[O+".center"]=null,H=!0),H&&(R[Y+".x"]=W.viewInitial.aspectratio.x,R[Y+".y"]=W.viewInitial.aspectratio.y,R[Y+".z"]=W.viewInitial.aspectratio.z,R[B]=W.viewInitial.aspectmode)}h.call("_guiRelayout",y,R)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(y){return m(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:v};function f(y,C){var S=C.currentTarget,D=S._previousVal,T=y._fullLayout,P=T._subplots.gl3d||[],A=["xaxis","yaxis","zaxis"],a={},R={};if(D)R=D,S._previousVal=null;else{for(var b=0;b<P.length;b++){var N=P[b],O=T[N],Y=N+".hovermode";a[Y]=O.hovermode,R[Y]=!1;for(var B=0;B<3;B++){var W=A[B],H=N+"."+W+".showspikes";R[H]=!1,a[H]=O[W].showspikes}}S._previousVal=a}return R}function v(y,C){var S=f(y,C);h.call("_guiRelayout",y,S)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(y){return m(y,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:c},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(y){return m(y,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:c},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(y){return m(y,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:c},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(y){return m(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:d};function c(y,C){for(var S=C.currentTarget,D=S.getAttribute("data-attr"),T=S.getAttribute("data-val")||!0,P=y._fullLayout,A=P._subplots.geo||[],a=0;a<A.length;a++){var R=A[a],b=P[R];if(D==="zoom"){var N=b.projection.scale,O=T==="in"?2*N:.5*N;h.call("_guiRelayout",y,R+".projection.scale",O)}}D==="reset"&&u(y,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(y){return m(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:d},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(y){return m(y,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:d};function x(y){var C=y._fullLayout;return C.hovermode?!1:C._has("cartesian")?C._isHoriz?"y":"x":"closest"}function d(y){var C=x(y);h.call("_guiRelayout",y,"hovermode",C)}t.resetViewSankey={name:"resetSankeyGroup",title:function(y){return m(y,"Reset view")},icon:L.home,click:function(y){for(var C={"node.groups":[],"node.x":[],"node.y":[]},S=0;S<y._fullData.length;S++){var D=y._fullData[S]._viewInitial;C["node.groups"].push(D.node.groups.slice()),C["node.x"].push(D.node.x.slice()),C["node.y"].push(D.node.y.slice())}h.call("restyle",y,C)}},t.toggleHover={name:"toggleHover",title:function(y){return m(y,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(y,C){var S=f(y,C);S.hovermode=x(y),h.call("_guiRelayout",y,S)}},t.resetViews={name:"resetViews",title:function(y){return m(y,"Reset views")},icon:L.home,click:function(y,C){var S=C.currentTarget;S.setAttribute("data-attr","zoom"),S.setAttribute("data-val","reset"),r(y,C),S.setAttribute("data-attr","resetLastSave"),i(y,C),u(y,"geo"),u(y,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(y){return m(y,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(y){var C=y._fullLayout,S=C._cartesianSpikesEnabled;C._cartesianSpikesEnabled=S==="on"?"off":"on",h.call("_guiRelayout",y,M(y))}};function M(y){for(var C=y._fullLayout,S=C._cartesianSpikesEnabled==="on",D=n.list(y,null,!0),T={},P=0;P<D.length;P++){var A=D[P];T[A._name+".showspikes"]=S?!0:A._showSpikeInitial}return T}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(y){return m(y,"Reset view")},attr:"reset",icon:L.home,click:function(y){u(y,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(y){return m(y,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:g},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(y){return m(y,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:g};function g(y,C){for(var S=C.currentTarget,D=S.getAttribute("data-val"),T=y._fullLayout,P=T._subplots.mapbox||[],A=1.05,a={},R=0;R<P.length;R++){var b=P[R],N=T[b].zoom,O=D==="in"?A*N:N/A;a[b+".zoom"]=O}h.call("_guiRelayout",y,a)}function u(y,C){for(var S=y._fullLayout,D=S._subplots[C]||[],T={},P=0;P<D.length;P++)for(var A=D[P],a=S[A]._subplot,R=a.viewInitial,b=Object.keys(R),N=0;N<b.length;N++){var O=b[N];T[A+"."+O]=R[O]}h.call("_guiRelayout",y,T)}},93348:function(k,F,e){var h=e(26023),E=Object.keys(h),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),w=[],p=function(m){if(L.indexOf(m._cat||m.name)===-1){var t=m.name,r=(m._cat||m.name).toLowerCase();w.indexOf(t)===-1&&w.push(t),w.indexOf(r)===-1&&w.push(r)}};E.forEach(function(m){p(h[m])}),w.sort(),k.exports={DRAW_MODES:n,backButtons:L,foreButtons:w}},35750:function(k,F,e){var h=e(71828),E=e(7901),n=e(44467),L=e(42068);k.exports=function(p,m){var t=p.modebar||{},r=n.newContainer(m,"modebar");function l(f,v){return h.coerce(t,r,L,f,v)}l("orientation"),l("bgcolor",E.addOpacity(m.paper_bgcolor,.5));var i=E.contrast(E.rgb(m.modebar.bgcolor));l("color",E.addOpacity(i,.3)),l("activecolor",E.addOpacity(i,.7)),l("uirevision",m.uirevision),l("add"),l("remove")}},64168:function(k,F,e){k.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(k,F,e){var h=e(41675),E=e(34098),n=e(73972),L=e(23469).isUnifiedHover,w=e(37676),p=e(26023),m=e(93348).DRAW_MODES,t=e(71828).extendDeep;k.exports=function(d){var M=d._fullLayout,g=d._context,u=M._modeBar;if(!g.displayModeBar&&!g.watermark){u&&(u.destroy(),delete M._modeBar);return}if(!Array.isArray(g.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(g.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var y=g.modeBarButtons,C;Array.isArray(y)&&y.length?C=c(y):!g.displayModeBar&&g.watermark?C=[]:C=r(d),u?u.update(d,C):M._modeBar=w(d,C)};function r(x){var d=x._fullLayout,M=x._fullData,g=x._context;function u(te,q){if(typeof q=="string"){if(q.toLowerCase()===te.toLowerCase())return!0}else{var he=q.name,se=q._cat||q.name;if(he===te||se===te.toLowerCase())return!0}return!1}var y=d.modebar.add;typeof y=="string"&&(y=[y]);var C=d.modebar.remove;typeof C=="string"&&(C=[C]);var S=g.modeBarButtonsToAdd.concat(y.filter(function(te){for(var q=0;q<g.modeBarButtonsToRemove.length;q++)if(u(te,g.modeBarButtonsToRemove[q]))return!1;return!0})),D=g.modeBarButtonsToRemove.concat(C.filter(function(te){for(var q=0;q<g.modeBarButtonsToAdd.length;q++)if(u(te,g.modeBarButtonsToAdd[q]))return!1;return!0})),T=d._has("cartesian"),P=d._has("gl3d"),A=d._has("geo"),a=d._has("pie"),R=d._has("funnelarea"),b=d._has("gl2d"),N=d._has("ternary"),O=d._has("mapbox"),Y=d._has("polar"),B=d._has("smith"),W=d._has("sankey"),H=l(d),U=L(d.hovermode),G=[];function j(te){if(te.length){for(var q=[],he=0;he<te.length;he++){for(var se=te[he],pe=p[se],we=pe.name.toLowerCase(),Ee=(pe._cat||pe.name).toLowerCase(),Me=!1,Be=0;Be<D.length;Be++){var Ne=D[Be].toLowerCase();if(Ne===we||Ne===Ee){Me=!0;break}}Me||q.push(p[se])}G.push(q)}}var re=["toImage"];g.showEditInChartStudio?re.push("editInChartStudio"):g.showSendToCloud&&re.push("sendDataToCloud"),j(re);var ae=[],ue=[],de=[],ee=[];(T||b||a||R||N)+A+P+O+Y+B>1?(ue=["toggleHover"],de=["resetViews"]):A?(ae=["zoomInGeo","zoomOutGeo"],ue=["hoverClosestGeo"],de=["resetGeo"]):P?(ue=["hoverClosest3d"],de=["resetCameraDefault3d","resetCameraLastSave3d"]):O?(ae=["zoomInMapbox","zoomOutMapbox"],ue=["toggleHover"],de=["resetViewMapbox"]):b?ue=["hoverClosestGl2d"]:a?ue=["hoverClosestPie"]:W?(ue=["hoverClosestCartesian","hoverCompareCartesian"],de=["resetViewSankey"]):ue=["toggleHover"],T&&(ue=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(f(M)||U)&&(ue=[]),(T||b)&&!H&&(ae=["zoomIn2d","zoomOut2d","autoScale2d"],de[0]!=="resetViews"&&(de=["resetScale2d"])),P?ee=["zoom3d","pan3d","orbitRotation","tableRotation"]:(T||b)&&!H||N?ee=["zoom2d","pan2d"]:O||A?ee=["pan2d"]:Y&&(ee=["zoom2d"]),i(M)&&ee.push("select2d","lasso2d");var X=[],Q=function(te){X.indexOf(te)===-1&&ue.indexOf(te)!==-1&&X.push(te)};if(Array.isArray(S)){for(var $=[],ne=0;ne<S.length;ne++){var fe=S[ne];typeof fe=="string"?(fe=fe.toLowerCase(),m.indexOf(fe)!==-1?(d._has("mapbox")||d._has("cartesian"))&&ee.push(fe):fe==="togglespikelines"?Q("toggleSpikelines"):fe==="togglehover"?Q("toggleHover"):fe==="hovercompare"?Q("hoverCompareCartesian"):fe==="hoverclosest"?(Q("hoverClosestCartesian"),Q("hoverClosestGeo"),Q("hoverClosest3d"),Q("hoverClosestGl2d"),Q("hoverClosestPie")):fe==="v1hovermode"&&(Q("toggleHover"),Q("hoverClosestCartesian"),Q("hoverCompareCartesian"),Q("hoverClosestGeo"),Q("hoverClosest3d"),Q("hoverClosestGl2d"),Q("hoverClosestPie"))):$.push(fe)}S=$}return j(ee),j(ae.concat(de)),j(X),v(G,S)}function l(x){for(var d=h.list({_fullLayout:x},null,!0),M=0;M<d.length;M++)if(!d[M].fixedrange)return!1;return!0}function i(x){for(var d=!1,M=0;M<x.length&&!d;M++){var g=x[M];!g._module||!g._module.selectPoints||(n.traceIs(g,"scatter-like")?(E.hasMarkers(g)||E.hasText(g))&&(d=!0):n.traceIs(g,"box-violin")?(g.boxpoints==="all"||g.points==="all")&&(d=!0):d=!0)}return d}function f(x){for(var d=0;d<x.length;d++)if(!n.traceIs(x[d],"noHover"))return!1;return!0}function v(x,d){if(d.length)if(Array.isArray(d[0]))for(var M=0;M<d.length;M++)x.push(d[M]);else x.push(d);return x}function c(x){for(var d=t([],x),M=0;M<d.length;M++)for(var g=d[M],u=0;u<g.length;u++){var y=g[u];if(typeof y=="string")if(p[y]!==void 0)d[M][u]=p[y];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return d}},37676:function(k,F,e){var h=e(39898),E=e(92770),n=e(71828),L=e(24255),w=e(11506).version,p=new DOMParser;function m(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var t=m.prototype;t.update=function(i,f){this.graphInfo=i;var v=this.graphInfo._context,c=this.graphInfo._fullLayout,x="modebar-"+c._uid;this.element.setAttribute("id",x),this._uid=x,this.element.className="modebar",v.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),c.modebar.orientation==="v"&&(this.element.className+=" vertical",f=f.reverse());var d=c.modebar,M=v.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";n.deleteRelatedStyleRule(x),n.addRelatedStyleRule(x,M+"#"+x+" .modebar-group","background-color: "+d.bgcolor),n.addRelatedStyleRule(x,"#"+x+" .modebar-btn .icon path","fill: "+d.color),n.addRelatedStyleRule(x,"#"+x+" .modebar-btn:hover .icon path","fill: "+d.activecolor),n.addRelatedStyleRule(x,"#"+x+" .modebar-btn.active .icon path","fill: "+d.activecolor);var g=!this.hasButtons(f),u=this.hasLogo!==v.displaylogo,y=this.locale!==v.locale;if(this.locale=v.locale,(g||u||y)&&(this.removeAllButtons(),this.updateButtons(f),v.watermark||v.displaylogo)){var C=this.getLogo();v.watermark&&(C.className=C.className+" watermark"),c.modebar.orientation==="v"?this.element.insertBefore(C,this.element.childNodes[0]):this.element.appendChild(C),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(i){var f=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(v){var c=f.createGroup();v.forEach(function(x){var d=x.name;if(!d)throw new Error("must provide button 'name' in button config");if(f.buttonsNames.indexOf(d)!==-1)throw new Error("button name '"+d+"' is taken");f.buttonsNames.push(d);var M=f.createButton(x);f.buttonElements.push(M),c.appendChild(M)}),f.element.appendChild(c)})},t.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},t.createButton=function(i){var f=this,v=document.createElement("a");v.setAttribute("rel","tooltip"),v.className="modebar-btn";var c=i.title;c===void 0?c=i.name:typeof c=="function"&&(c=c(this.graphInfo)),(c||c===0)&&v.setAttribute("data-title",c),i.attr!==void 0&&v.setAttribute("data-attr",i.attr);var x=i.val;x!==void 0&&(typeof x=="function"&&(x=x(this.graphInfo)),v.setAttribute("data-val",x));var d=i.click;if(typeof d!="function")throw new Error("must provide button 'click' function in button config");v.addEventListener("click",function(g){i.click(f.graphInfo,g),f.updateActiveButton(g.currentTarget)}),v.setAttribute("data-toggle",i.toggle||!1),i.toggle&&h.select(v).classed("active",!0);var M=i.icon;return typeof M=="function"?v.appendChild(M()):v.appendChild(this.createIcon(M||L.question)),v.setAttribute("data-gravity",i.gravity||"n"),v},t.createIcon=function(i){var f=E(i.height)?Number(i.height):i.ascent-i.descent,v="http://www.w3.org/2000/svg",c;if(i.path){c=document.createElementNS(v,"svg"),c.setAttribute("viewBox",[0,0,i.width,f].join(" ")),c.setAttribute("class","icon");var x=document.createElementNS(v,"path");x.setAttribute("d",i.path),i.transform?x.setAttribute("transform",i.transform):i.ascent!==void 0&&x.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),c.appendChild(x)}if(i.svg){var d=p.parseFromString(i.svg,"application/xml");c=d.childNodes[0]}return c.setAttribute("height","1em"),c.setAttribute("width","1em"),c},t.updateActiveButton=function(i){var f=this.graphInfo._fullLayout,v=i!==void 0?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(c){var x=c.getAttribute("data-val")||!0,d=c.getAttribute("data-attr"),M=c.getAttribute("data-toggle")==="true",g=h.select(c);if(M)d===v&&g.classed("active",!g.classed("active"));else{var u=d===null?d:n.nestedProperty(f,d).get();g.classed("active",u===x)}})},t.hasButtons=function(i){var f=this.buttons;if(!f||i.length!==f.length)return!1;for(var v=0;v<i.length;++v){if(i[v].length!==f[v].length)return!1;for(var c=0;c<i[v].length;c++)if(i[v][c].name!==f[v][c].name)return!1}return!0};function r(i){return i+" (v"+w+")"}t.getLogo=function(){var i=this.createGroup(),f=document.createElement("a");return f.href="https://plotly.com/",f.target="_blank",f.setAttribute("data-title",r(n._(this.graphInfo,"Produced with Plotly.js"))),f.className="modebar-btn plotlyjsicon modebar-btn--logo",f.appendChild(this.createIcon(L.newplotlylogo)),i.appendChild(f),i},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){n.removeElement(this.container.querySelector(".modebar")),n.deleteRelatedStyleRule(this._uid)};function l(i,f){var v=i._fullLayout,c=new m({graphInfo:i,container:v._modebardiv.node(),buttons:f});return v._privateplot&&h.select(c.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),c}k.exports=l},37113:function(k,F,e){var h=e(41940),E=e(22399),n=e(44467).templatedArray,L=n("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});k.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:h({editType:"plot"}),bgcolor:{valType:"color",dflt:E.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(k){k.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(k,F,e){var h=e(71828),E=e(7901),n=e(44467),L=e(85501),w=e(37113),p=e(89573);k.exports=function(l,i,f,v,c){var x=l.rangeselector||{},d=n.newContainer(i,"rangeselector");function M(S,D){return h.coerce(x,d,w,S,D)}var g=L(x,d,{name:"buttons",handleItemDefaults:m,calendar:c}),u=M("visible",g.length>0);if(u){var y=t(i,f,v);M("x",y[0]),M("y",y[1]),h.noneOrAll(l,i,["x","y"]),M("xanchor"),M("yanchor"),h.coerceFont(M,"font",f.font);var C=M("bgcolor");M("activecolor",E.contrast(C,p.lightAmount,p.darkAmount)),M("bordercolor"),M("borderwidth")}};function m(r,l,i,f){var v=f.calendar;function c(M,g){return h.coerce(r,l,w.buttons,M,g)}var x=c("visible");if(x){var d=c("step");d!=="all"&&(v&&v!=="gregorian"&&(d==="month"||d==="year")?l.stepmode="backward":c("stepmode"),c("count")),c("label")}}function t(r,l,i){for(var f=i.filter(function(d){return l[d].anchor===r._id}),v=0,c=0;c<f.length;c++){var x=l[f[c]].domain;x&&(v=Math.max(x[1],v))}return[r.domain[0],v+p.yPad]}},21598:function(k,F,e){var h=e(39898),E=e(73972),n=e(74875),L=e(7901),w=e(91424),p=e(71828),m=p.strTranslate,t=e(63893),r=e(41675),l=e(18783),i=l.LINE_SPACING,f=l.FROM_TL,v=l.FROM_BR,c=e(89573),x=e(70565);k.exports=function(P){var A=P._fullLayout,a=A._infolayer.selectAll(".rangeselector").data(d(P),M);a.enter().append("g").classed("rangeselector",!0),a.exit().remove(),a.style({cursor:"pointer","pointer-events":"all"}),a.each(function(R){var b=h.select(this),N=R,O=N.rangeselector,Y=b.selectAll("g.button").data(p.filterVisible(O.buttons));Y.enter().append("g").classed("button",!0),Y.exit().remove(),Y.each(function(B){var W=h.select(this),H=x(N,B);B._isActive=g(N,B,H),W.call(u,O,B),W.call(C,O,B,P),W.on("click",function(){P._dragged||E.call("_guiRelayout",P,H)}),W.on("mouseover",function(){B._isHovered=!0,W.call(u,O,B)}),W.on("mouseout",function(){B._isHovered=!1,W.call(u,O,B)})}),D(P,Y,O,N._name,b)})};function d(T){for(var P=r.list(T,"x",!0),A=[],a=0;a<P.length;a++){var R=P[a];R.rangeselector&&R.rangeselector.visible&&A.push(R)}return A}function M(T){return T._id}function g(T,P,A){if(P.step==="all")return T.autorange===!0;var a=Object.keys(A);return T.range[0]===A[a[0]]&&T.range[1]===A[a[1]]}function u(T,P,A){var a=p.ensureSingle(T,"rect","selector-rect",function(R){R.attr("shape-rendering","crispEdges")});a.attr({rx:c.rx,ry:c.ry}),a.call(L.stroke,P.bordercolor).call(L.fill,y(P,A)).style("stroke-width",P.borderwidth+"px")}function y(T,P){return P._isActive||P._isHovered?T.activecolor:T.bgcolor}function C(T,P,A,a){function R(N){t.convertToTspans(N,a)}var b=p.ensureSingle(T,"text","selector-text",function(N){N.attr("text-anchor","middle")});b.call(w.font,P.font).text(S(A,a._fullLayout._meta)).call(R)}function S(T,P){return T.label?P?p.templateString(T.label,P):T.label:T.step==="all"?"all":T.count+T.step.charAt(0)}function D(T,P,A,a,R){var b=0,N=0,O=A.borderwidth;P.each(function(){var G=h.select(this),j=G.select(".selector-text"),re=A.font.size*i,ae=Math.max(re*t.lineCount(j),16)+3;N=Math.max(N,ae)}),P.each(function(){var G=h.select(this),j=G.select(".selector-rect"),re=G.select(".selector-text"),ae=re.node()&&w.bBox(re.node()).width,ue=A.font.size*i,de=t.lineCount(re),ee=Math.max(ae+10,c.minButtonWidth);G.attr("transform",m(O+b,O)),j.attr({x:0,y:0,width:ee,height:N}),t.positionText(re,ee/2,N/2-(de-1)*ue/2+3),b+=ee+5});var Y=T._fullLayout._size,B=Y.l+Y.w*A.x,W=Y.t+Y.h*(1-A.y),H="left";p.isRightAnchor(A)&&(B-=b,H="right"),p.isCenterAnchor(A)&&(B-=b/2,H="center");var U="top";p.isBottomAnchor(A)&&(W-=N,U="bottom"),p.isMiddleAnchor(A)&&(W-=N/2,U="middle"),b=Math.ceil(b),N=Math.ceil(N),B=Math.round(B),W=Math.round(W),n.autoMargin(T,a+"-range-selector",{x:A.x,y:A.y,l:b*f[H],r:b*v[H],b:N*v[U],t:N*f[U]}),R.attr("transform",m(B,W))}},70565:function(k,F,e){var h=e(81041),E=e(71828).titleCase;k.exports=function(w,p){var m=w._name,t={};if(p.step==="all")t[m+".autorange"]=!0;else{var r=n(w,p);t[m+".range[0]"]=r[0],t[m+".range[1]"]=r[1]}return t};function n(L,w){var p=L.range,m=new Date(L.r2l(p[1])),t=w.step,r=h["utc"+E(t)],l=w.count,i;switch(w.stepmode){case"backward":i=L.l2r(+r.offset(m,-l));break;case"todate":var f=r.offset(m,-l);i=L.l2r(+r.ceil(f));break}var v=p[1];return[i,v]}},97218:function(k,F,e){k.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(k,F,e){var h=e(22399);k.exports={bgcolor:{valType:"color",dflt:h.background,editType:"plot"},bordercolor:{valType:"color",dflt:h.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(k,F,e){var h=e(41675).list,E=e(71739).getAutoRange,n=e(73251);k.exports=function(w){for(var p=h(w,"x",!0),m=0;m<p.length;m++){var t=p[m],r=t[n.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=E(w,t))}}},73251:function(k){k.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(k,F,e){var h=e(71828),E=e(44467),n=e(41675),L=e(75148),w=e(47850);k.exports=function(m,t,r){var l=m[r],i=t[r];if(!(l.rangeslider||t._requestRangeslider[i._id]))return;h.isPlainObject(l.rangeslider)||(l.rangeslider={});var f=l.rangeslider,v=E.newContainer(i,"rangeslider");function c(a,R){return h.coerce(f,v,L,a,R)}var x,d;function M(a,R){return h.coerce(x,d,w,a,R)}var g=c("visible");if(g){c("bgcolor",t.plot_bgcolor),c("bordercolor"),c("borderwidth"),c("thickness"),c("autorange",!i.isValidRange(f.range)),c("range");var u=t._subplots;if(u)for(var y=u.cartesian.filter(function(a){return a.substr(0,a.indexOf("y"))===n.name2id(r)}).map(function(a){return a.substr(a.indexOf("y"),a.length)}),C=h.simpleMap(y,n.id2name),S=0;S<C.length;S++){var D=C[S];x=f[D]||{},d=E.newContainer(v,D,"yaxis");var T=t[D],P;x.range&&T.isValidRange(x.range)&&(P="fixed");var A=M("rangemode",P);A!=="match"&&M("range",T.range.slice())}v._input=f}}},72413:function(k,F,e){var h=e(39898),E=e(73972),n=e(74875),L=e(71828),w=L.strTranslate,p=e(91424),m=e(7901),t=e(92998),r=e(93612),l=e(41675),i=e(28569),f=e(6964),v=e(73251);k.exports=function(T){for(var P=T._fullLayout,A=P._rangeSliderData,a=0;a<A.length;a++){var R=A[a][v.name];R._clipId=R._id+"-"+P._uid}function b(O){return O._name}var N=P._infolayer.selectAll("g."+v.containerClassName).data(A,b);N.exit().each(function(O){var Y=O[v.name];P._topdefs.select("#"+Y._clipId).remove()}).remove(),A.length!==0&&(N.enter().append("g").classed(v.containerClassName,!0).attr("pointer-events","all"),N.each(function(O){var Y=h.select(this),B=O[v.name],W=P[l.id2name(O.anchor)],H=B[l.id2name(O.anchor)];if(B.range){var U=L.simpleMap(B.range,O.r2l),G=L.simpleMap(O.range,O.r2l),j;G[0]<G[1]?j=[Math.min(U[0],G[0]),Math.max(U[1],G[1])]:j=[Math.max(U[0],G[0]),Math.min(U[1],G[1])],B.range=B._input.range=L.simpleMap(j,O.l2r)}O.cleanRange("rangeslider.range");var re=P._size,ae=O.domain;B._width=re.w*(ae[1]-ae[0]);var ue=Math.round(re.l+re.w*ae[0]),de=Math.round(re.t+re.h*(1-O._counterDomainMin)+(O.side==="bottom"?O._depth:0)+B._offsetShift+v.extraPad);Y.attr("transform",w(ue,de)),B._rl=L.simpleMap(B.range,O.r2l);var ee=B._rl[0],X=B._rl[1],Q=X-ee;if(B.p2d=function(Ee){return Ee/B._width*Q+ee},B.d2p=function(Ee){return(Ee-ee)/Q*B._width},O.rangebreaks){var $=O.locateBreaks(ee,X);if($.length){var ne,fe,te=0;for(ne=0;ne<$.length;ne++)fe=$[ne],te+=fe.max-fe.min;var q=B._width/(X-ee-te),he=[-q*ee];for(ne=0;ne<$.length;ne++)fe=$[ne],he.push(he[he.length-1]-q*(fe.max-fe.min));for(B.d2p=function(Ee){for(var Me=he[0],Be=0;Be<$.length;Be++){var Ne=$[Be];if(Ee>=Ne.max)Me=he[Be+1];else if(Ee<Ne.min)break}return Me+q*Ee},ne=0;ne<$.length;ne++)fe=$[ne],fe.pmin=B.d2p(fe.min),fe.pmax=B.d2p(fe.max);B.p2d=function(Ee){for(var Me=he[0],Be=0;Be<$.length;Be++){var Ne=$[Be];if(Ee>=Ne.pmax)Me=he[Be+1];else if(Ee<Ne.pmin)break}return(Ee-Me)/q}}}if(H.rangemode!=="match"){var se=W.r2l(H.range[0]),pe=W.r2l(H.range[1]),we=pe-se;B.d2pOppAxis=function(Ee){return(Ee-se)/we*B._height}}Y.call(M,T,O,B).call(g,T,O,B).call(u,T,O,B).call(C,T,O,B,H).call(S,T,O,B).call(D,T,O,B),c(Y,T,O,B),d(Y,T,O,B,W,H),O.side==="bottom"&&t.draw(T,O._id+"title",{propContainer:O,propName:O._name+".title",placeholder:P._dfltTitle.x,attributes:{x:O._offset+O._length/2,y:de+B._height+B._offsetShift+10+1.5*O.title.font.size,"text-anchor":"middle"}})}))};function c(T,P,A,a){if(P._context.staticPlot)return;var R=T.select("rect."+v.slideBoxClassName).node(),b=T.select("rect."+v.grabAreaMinClassName).node(),N=T.select("rect."+v.grabAreaMaxClassName).node();function O(){var Y=h.event,B=Y.target,W=Y.clientX||Y.touches[0].clientX,H=W-T.node().getBoundingClientRect().left,U=a.d2p(A._rl[0]),G=a.d2p(A._rl[1]),j=i.coverSlip();this.addEventListener("touchmove",re),this.addEventListener("touchend",ae),j.addEventListener("mousemove",re),j.addEventListener("mouseup",ae);function re(ue){var de=ue.clientX||ue.touches[0].clientX,ee=+de-W,X,Q,$;switch(B){case R:if($="ew-resize",U+ee>A._length||G+ee<0)return;X=U+ee,Q=G+ee;break;case b:if($="col-resize",U+ee>A._length)return;X=U+ee,Q=G;break;case N:if($="col-resize",G+ee<0)return;X=U,Q=G+ee;break;default:$="ew-resize",X=H,Q=H+ee;break}if(Q<X){var ne=Q;Q=X,X=ne}a._pixelMin=X,a._pixelMax=Q,f(h.select(j),$),x(T,P,A,a)}function ae(){j.removeEventListener("mousemove",re),j.removeEventListener("mouseup",ae),this.removeEventListener("touchmove",re),this.removeEventListener("touchend",ae),L.removeElement(j)}}T.on("mousedown",O),T.on("touchstart",O)}function x(T,P,A,a){function R(O){return A.l2r(L.constrain(O,a._rl[0],a._rl[1]))}var b=R(a.p2d(a._pixelMin)),N=R(a.p2d(a._pixelMax));window.requestAnimationFrame(function(){E.call("_guiRelayout",P,A._name+".range",[b,N])})}function d(T,P,A,a,R,b){var N=v.handleWidth/2;function O(ue){return L.constrain(ue,0,a._width)}function Y(ue){return L.constrain(ue,0,a._height)}function B(ue){return L.constrain(ue,-N,a._width+N)}var W=O(a.d2p(A._rl[0])),H=O(a.d2p(A._rl[1]));if(T.select("rect."+v.slideBoxClassName).attr("x",W).attr("width",H-W),T.select("rect."+v.maskMinClassName).attr("width",W),T.select("rect."+v.maskMaxClassName).attr("x",H).attr("width",a._width-H),b.rangemode!=="match"){var U=a._height-Y(a.d2pOppAxis(R._rl[1])),G=a._height-Y(a.d2pOppAxis(R._rl[0]));T.select("rect."+v.maskMinOppAxisClassName).attr("x",W).attr("height",U).attr("width",H-W),T.select("rect."+v.maskMaxOppAxisClassName).attr("x",W).attr("y",G).attr("height",a._height-G).attr("width",H-W),T.select("rect."+v.slideBoxClassName).attr("y",U).attr("height",G-U)}var j=.5,re=Math.round(B(W-N))-j,ae=Math.round(B(H-N))+j;T.select("g."+v.grabberMinClassName).attr("transform",w(re,j)),T.select("g."+v.grabberMaxClassName).attr("transform",w(ae,j))}function M(T,P,A,a){var R=L.ensureSingle(T,"rect",v.bgClassName,function(Y){Y.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),b=a.borderwidth%2===0?a.borderwidth:a.borderwidth-1,N=-a._offsetShift,O=p.crispRound(P,a.borderwidth);R.attr({width:a._width+b,height:a._height+b,transform:w(N,N),"stroke-width":O}).call(m.stroke,a.bordercolor).call(m.fill,a.bgcolor)}function g(T,P,A,a){var R=P._fullLayout,b=L.ensureSingleById(R._topdefs,"clipPath",a._clipId,function(N){N.append("rect").attr({x:0,y:0})});b.select("rect").attr({width:a._width,height:a._height})}function u(T,P,A,a){var R=P.calcdata,b=T.selectAll("g."+v.rangePlotClassName).data(A._subplotsWith,L.identity);b.enter().append("g").attr("class",function(O){return v.rangePlotClassName+" "+O}).call(p.setClipUrl,a._clipId,P),b.order(),b.exit().remove();var N;b.each(function(O,Y){var B=h.select(this),W=Y===0,H=l.getFromId(P,O,"y"),U=H._name,G=a[U],j={data:[],layout:{xaxis:{type:A.type,domain:[0,1],range:a.range.slice(),calendar:A.calendar},width:a._width,height:a._height,margin:{t:0,b:0,l:0,r:0}},_context:P._context};A.rangebreaks&&(j.layout.xaxis.rangebreaks=A.rangebreaks),j.layout[U]={type:H.type,domain:[0,1],range:G.rangemode!=="match"?G.range.slice():H.range.slice(),calendar:H.calendar},H.rangebreaks&&(j.layout[U].rangebreaks=H.rangebreaks),n.supplyDefaults(j);var re=j._fullLayout.xaxis,ae=j._fullLayout[U];re.clearCalc(),re.setScale(),ae.clearCalc(),ae.setScale();var ue={id:O,plotgroup:B,xaxis:re,yaxis:ae,isRangePlot:!0};W?N=ue:(ue.mainplot="xy",ue.mainplotinfo=N),r.rangePlot(P,ue,y(R,O))})}function y(T,P){for(var A=[],a=0;a<T.length;a++){var R=T[a],b=R[0].trace;b.xaxis+b.yaxis===P&&A.push(R)}return A}function C(T,P,A,a,R){var b=L.ensureSingle(T,"rect",v.maskMinClassName,function(B){B.attr({x:0,y:0,"shape-rendering":"crispEdges"})});b.attr("height",a._height).call(m.fill,v.maskColor);var N=L.ensureSingle(T,"rect",v.maskMaxClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});if(N.attr("height",a._height).call(m.fill,v.maskColor),R.rangemode!=="match"){var O=L.ensureSingle(T,"rect",v.maskMinOppAxisClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});O.attr("width",a._width).call(m.fill,v.maskOppAxisColor);var Y=L.ensureSingle(T,"rect",v.maskMaxOppAxisClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});Y.attr("width",a._width).style("border-top",v.maskOppBorder).call(m.fill,v.maskOppAxisColor)}}function S(T,P,A,a){if(!P._context.staticPlot){var R=L.ensureSingle(T,"rect",v.slideBoxClassName,function(b){b.attr({y:0,cursor:v.slideBoxCursor,"shape-rendering":"crispEdges"})});R.attr({height:a._height,fill:v.slideBoxFill})}}function D(T,P,A,a){var R=L.ensureSingle(T,"g",v.grabberMinClassName),b=L.ensureSingle(T,"g",v.grabberMaxClassName),N={x:0,width:v.handleWidth,rx:v.handleRadius,fill:m.background,stroke:m.defaultLine,"stroke-width":v.handleStrokeWidth,"shape-rendering":"crispEdges"},O={y:Math.round(a._height/4),height:Math.round(a._height/2)},Y=L.ensureSingle(R,"rect",v.handleMinClassName,function(G){G.attr(N)});Y.attr(O);var B=L.ensureSingle(b,"rect",v.handleMaxClassName,function(G){G.attr(N)});B.attr(O);var W={width:v.grabAreaWidth,x:0,y:0,fill:v.grabAreaFill,cursor:P._context.staticPlot?void 0:v.grabAreaCursor},H=L.ensureSingle(R,"rect",v.grabAreaMinClassName,function(G){G.attr(W)});H.attr("height",a._height);var U=L.ensureSingle(b,"rect",v.grabAreaMaxClassName,function(G){G.attr(W)});U.attr("height",a._height)}},549:function(k,F,e){var h=e(41675),E=e(63893),n=e(73251),L=e(18783).LINE_SPACING,w=n.name;function p(m){var t=m&&m[w];return t&&t.visible}F.isVisible=p,F.makeData=function(m){var t=h.list({_fullLayout:m},"x",!0),r=m.margin,l=[];if(!m._has("gl2d"))for(var i=0;i<t.length;i++){var f=t[i];if(p(f)){l.push(f);var v=f[w];v._id=w+f._id,v._height=(m.height-r.b-r.t)*v.thickness,v._offsetShift=Math.floor(v.borderwidth/2)}}m._rangeSliderData=l},F.autoMarginOpts=function(m,t){var r=m._fullLayout,l=t[w],i=t._id.charAt(0),f=0,v=0;if(t.side==="bottom"&&(f=t._depth,t.title.text!==r._dfltTitle[i])){v=1.5*t.title.font.size+10+l._offsetShift;var c=(t.title.text.match(E.BR_TAG_ALL)||[]).length;v+=c*t.title.font.size*L}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:l._height+f+Math.max(r.margin.b,v),pad:n.extraPad+l._offsetShift*2}}},13137:function(k,F,e){var h=e(71828),E=e(75148),n=e(47850),L=e(549);k.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:h.extendFlat({},E,{yaxis:n})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},47850:function(k){k.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(k,F,e){var h=e(50215),E=e(82196).line,n=e(79952).P,L=e(1426).extendFlat,w=e(30962).overrideAll,p=e(44467).templatedArray;e(24695),k.exports=w(p("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},h.xref,{}),yref:L({},h.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:E.color,width:L({},E.width,{min:1,dflt:1}),dash:L({},n,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(k){k.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(k,F,e){var h=e(71828),E=e(89298),n=e(85501),L=e(8389),w=e(30477);k.exports=function(t,r){n(t,r,{name:"selections",handleItemDefaults:p});for(var l=r.selections,i=0;i<l.length;i++){var f=l[i];f&&f.path===void 0&&(f.x0===void 0||f.x1===void 0||f.y0===void 0||f.y1===void 0)&&(r.selections[i]=null)}};function p(m,t,r){function l(b,N){return h.coerce(m,t,L,b,N)}var i=l("path"),f=i?"path":"rect",v=l("type",f),c=v!=="path";c&&delete t.path,l("opacity"),l("line.color"),l("line.width"),l("line.dash");for(var x=["x","y"],d=0;d<2;d++){var M=x[d],g={_fullLayout:r},u,y,C,S=E.coerceRef(m,t,g,M);if(u=E.getFromId(g,S),u._selectionIndices.push(t._index),C=w.rangeToShapePosition(u),y=w.shapePositionToRange(u),c){var D=M+"0",T=M+"1",P=m[D],A=m[T];m[D]=y(m[D],!0),m[T]=y(m[T],!0),E.coercePosition(t,g,l,S,D),E.coercePosition(t,g,l,S,T);var a=t[D],R=t[T];a!==void 0&&R!==void 0&&(t[D]=C(a),t[T]=C(R),m[D]=P,m[T]=A)}}c&&h.noneOrAll(m,t,["x0","x1","y0","y1"])}},32485:function(k,F,e){var h=e(60165).readPaths,E=e(42359),n=e(51873).clearOutlineControllers,L=e(7901),w=e(91424),p=e(44467).arrayEditor,m=e(30477),t=m.getPathString;k.exports={draw:r,drawOne:i,activateLastSelection:c};function r(d){var M=d._fullLayout;n(d),M._selectionLayer.selectAll("path").remove();for(var g in M._plots){var u=M._plots[g].selectionLayer;u&&u.selectAll("path").remove()}for(var y=0;y<M.selections.length;y++)i(d,y)}function l(d){return d._context.editSelection}function i(d,M){d._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+M+'"]').remove();var g=m.makeSelectionsOptionsAndPlotinfo(d,M),u=g.options,y=g.plotinfo;if(!u._input)return;C(d._fullLayout._selectionLayer);function C(S){var D=t(d,u),T={"data-index":M,"fill-rule":"evenodd",d:D},P=u.opacity,A="rgba(0,0,0,0)",a=u.line.color||L.contrast(d._fullLayout.plot_bgcolor),R=u.line.width,b=u.line.dash;R||(R=5,b="solid");var N=l(d)&&d._fullLayout._activeSelectionIndex===M;N&&(A=d._fullLayout.activeselection.fillcolor,P=d._fullLayout.activeselection.opacity);for(var O=[],Y=1;Y>=0;Y--){var B=S.append("path").attr(T).style("opacity",Y?.1:P).call(L.stroke,a).call(L.fill,A).call(w.dashLine,Y?"solid":b,Y?4+R:R);if(f(B,d,u),N){var W=p(d.layout,"selections",u);B.style({cursor:"move"});var H={element:B.node(),plotinfo:y,gd:d,editHelpers:W,isActiveSelection:!0},U=h(D,d);E(U,B,H)}else B.style("pointer-events",Y?"all":"none");O[Y]=B}var G=O[0],j=O[1];j.node().addEventListener("click",function(){return v(d,G)})}}function f(d,M,g){var u=g.xref+g.yref;w.setClipUrl(d,"clip"+M._fullLayout._uid+u,M)}function v(d,M){if(l(d)){var g=M.node(),u=+g.getAttribute("data-index");if(u>=0){if(u===d._fullLayout._activeSelectionIndex){x(d);return}d._fullLayout._activeSelectionIndex=u,d._fullLayout._deactivateSelection=x,r(d)}}}function c(d){if(l(d)){var M=d._fullLayout.selections.length-1;d._fullLayout._activeSelectionIndex=M,d._fullLayout._deactivateSelection=x,r(d)}}function x(d){if(l(d)){var M=d._fullLayout._activeSelectionIndex;M>=0&&(n(d),delete d._fullLayout._activeSelectionIndex,r(d))}}},53777:function(k,F,e){var h=e(79952).P,E=e(1426).extendFlat;k.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:E({},h,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(k){k.exports=function(e,h,E){E("newselection.mode");var n=E("newselection.line.width");n&&(E("newselection.line.color"),E("newselection.line.dash")),E("activeselection.fillcolor"),E("activeselection.opacity")}},35855:function(k,F,e){var h=e(64505),E=h.selectMode,n=e(51873),L=n.clearOutline,w=e(60165),p=w.readPaths,m=w.writePaths,t=w.fixDatesForPaths;k.exports=function(l,i){if(l.length){var f=l[0][0];if(f){var v=f.getAttribute("d"),c=i.gd,x=c._fullLayout.newselection,d=i.plotinfo,M=d.xaxis,g=d.yaxis,u=i.isActiveSelection,y=i.dragmode,C=(c.layout||{}).selections||[];if(!E(y)&&u!==void 0){var S=c._fullLayout._activeSelectionIndex;if(S<C.length)switch(c._fullLayout.selections[S].type){case"rect":y="select";break;case"path":y="lasso";break}}var D=p(v,c,d,u),T={xref:M._id,yref:g._id,opacity:x.opacity,line:{color:x.line.color,width:x.line.width,dash:x.line.dash}},P;D.length===1&&(P=D[0]),P&&P.length===5&&y==="select"?(T.type="rect",T.x0=P[0][1],T.y0=P[0][2],T.x1=P[2][1],T.y1=P[2][2]):(T.type="path",M&&g&&t(D,M,g),T.path=m(D),P=null),L(c);for(var A=i.editHelpers,a=(A||{}).modifyItem,R=[],b=0;b<C.length;b++){var N=c._fullLayout.selections[b];if(!N){R[b]=N;continue}if(R[b]=N._input,u!==void 0&&b===c._fullLayout._activeSelectionIndex){var O=T;switch(N.type){case"rect":a("x0",O.x0),a("x1",O.x1),a("y0",O.y0),a("y1",O.y1);break;case"path":a("path",O.path);break}}}return u===void 0?(R.push(T),R):A?A.getUpdateObj():{}}}}},75549:function(k,F,e){var h=e(71828).strTranslate;function E(p,m){switch(p.type){case"log":return p.p2d(m);case"date":return p.p2r(m,0,p.calendar);default:return p.p2r(m)}}function n(p,m){switch(p.type){case"log":return p.d2p(m);case"date":return p.r2p(m,0,p.calendar);default:return p.r2p(m)}}function L(p){var m=p._id.charAt(0)==="y"?1:0;return function(t){return E(p,t[m])}}function w(p){return h(p.xaxis._offset,p.yaxis._offset)}k.exports={p2r:E,r2p:n,axValue:L,getTransform:w}},47322:function(k,F,e){var h=e(32485),E=e(3937);k.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:h.draw,drawOne:h.drawOne,reselect:E.reselect,prepSelect:E.prepSelect,clearOutline:E.clearOutline,clearSelectionsCache:E.clearSelectionsCache,selectOnClick:E.selectOnClick}},3937:function(k,F,e){var h=e(52142),E=e(38258),n=e(73972),L=e(91424).dashStyle,w=e(7901),p=e(30211),m=e(23469).makeEventData,t=e(64505),r=t.freeMode,l=t.rectMode,i=t.drawMode,f=t.openMode,v=t.selectMode,c=e(30477),x=e(21459),d=e(42359),M=e(51873).clearOutline,g=e(60165),u=g.handleEllipse,y=g.readPaths,C=e(90551).newShapes,S=e(35855),D=e(32485).activateLastSelection,T=e(71828),P=T.sorterAsc,A=e(61082),a=e(79990),R=e(41675).getFromId,b=e(33306),N=e(61549).redrawReglTraces,O=e(34122),Y=O.MINSELECT,B=A.filter,W=A.tester,H=e(75549),U=H.p2r,G=H.axValue,j=H.getTransform;function re(Oe){return Oe.subplot!==void 0}function ae(Oe,_e,Ae,ce,be){var Re=!re(ce),Ue=r(be),nt=l(be),ot=f(be),wt=i(be),_t=v(be),Ut=be==="drawline",Vt=be==="drawcircle",Lt=Ut||Vt,Kt=ce.gd,ar=Kt._fullLayout,Fr=_t&&ar.newselection.mode==="immediate"&&Re,yt=ar._zoomlayer,Xt=ce.element.getBoundingClientRect(),Yt=ce.plotinfo,br=j(Yt),hr=_e-Xt.left,ut=Ae-Xt.top;ar._calcInverseTransform(Kt);var lt=T.apply3DTransform(ar._invTransform)(hr,ut);hr=lt[0],ut=lt[1];var xt=ar._invScaleX,Tt=ar._invScaleY,Et=hr,At=ut,Ft="M"+hr+","+ut,Ht=ce.xaxes[0],$t=ce.yaxes[0],Qt=Ht._length,or=$t._length,Er=Oe.altKey&&!(i(be)&&ot),Ze,Ye,Dt,It,Zt,nr,lr;$(Oe,Kt,ce),Ue&&(Ze=B([[hr,ut]],O.BENDPX));var rr=yt.selectAll("path.select-outline-"+Yt.id).data([1]),zt=wt?ar.newshape:ar.newselection;wt&&(ce.hasText=zt.label.text||zt.label.texttemplate);var fr=wt&&!ot?zt.fillcolor:"rgba(0,0,0,0)",dr=zt.line.color||(Re?w.contrast(Kt._fullLayout.plot_bgcolor):"#7f7f7f");rr.enter().append("path").attr("class","select-outline select-outline-"+Yt.id).style({opacity:wt?zt.opacity/2:1,"stroke-dasharray":L(zt.line.dash,zt.line.width),"stroke-width":zt.line.width+"px","shape-rendering":"crispEdges"}).call(w.stroke,dr).call(w.fill,fr).attr("fill-rule","evenodd").classed("cursor-move",!!wt).attr("transform",br).attr("d",Ft+"Z");var pr=yt.append("path").attr("class","zoombox-corners").style({fill:w.background,stroke:w.defaultLine,"stroke-width":1}).attr("transform",br).attr("d","M0,0Z");if(wt&&ce.hasText){var vr=yt.select(".label-temp");vr.empty()&&(vr=yt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Vr=ar._uid+O.SELECTID,_r=[],kr=he(Kt,ce.xaxes,ce.yaxes,ce.subplot);Fr&&!Oe.shiftKey&&(ce._clearSubplotSelections=function(){if(Re){var Xr=Ht._id,_n=$t._id;qe(Kt,Xr,_n,kr);for(var Dn=(Kt.layout||{}).selections||[],xr=[],Ar=!1,Or=0;Or<Dn.length;Or++){var Br=ar.selections[Or];Br.xref!==Xr||Br.yref!==_n?xr.push(Dn[Or]):Ar=!0}Ar&&(Kt._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Kt,{selections:xr}))}});var pn=Wt(ce);ce.moveFn=function(Xr,_n){ce._clearSubplotSelections&&(ce._clearSubplotSelections(),ce._clearSubplotSelections=void 0),Et=Math.max(0,Math.min(Qt,xt*Xr+hr)),At=Math.max(0,Math.min(or,Tt*_n+ut));var Dn=Math.abs(Et-hr),xr=Math.abs(At-ut);if(nt){var Ar,Or,Br;if(_t){var qr=ar.selectdirection;switch(qr==="any"?xr<Math.min(Dn*.6,Y)?Ar="h":Dn<Math.min(xr*.6,Y)?Ar="v":Ar="d":Ar=qr,Ar){case"h":Or=Vt?or/2:0,Br=or;break;case"v":Or=Vt?Qt/2:0,Br=Qt;break}}if(wt)switch(ar.newshape.drawdirection){case"vertical":Ar="h",Or=Vt?or/2:0,Br=or;break;case"horizontal":Ar="v",Or=Vt?Qt/2:0,Br=Qt;break;case"ortho":Dn<xr?(Ar="h",Or=ut,Br=At):(Ar="v",Or=hr,Br=Et);break;default:Ar="d"}Ar==="h"?(It=Lt?u(Vt,[Et,Or],[Et,Br]):[[hr,Or],[hr,Br],[Et,Br],[Et,Or]],It.xmin=Lt?Et:Math.min(hr,Et),It.xmax=Lt?Et:Math.max(hr,Et),It.ymin=Math.min(Or,Br),It.ymax=Math.max(Or,Br),pr.attr("d","M"+It.xmin+","+(ut-Y)+"h-4v"+2*Y+"h4ZM"+(It.xmax-1)+","+(ut-Y)+"h4v"+2*Y+"h-4Z")):Ar==="v"?(It=Lt?u(Vt,[Or,At],[Br,At]):[[Or,ut],[Or,At],[Br,At],[Br,ut]],It.xmin=Math.min(Or,Br),It.xmax=Math.max(Or,Br),It.ymin=Lt?At:Math.min(ut,At),It.ymax=Lt?At:Math.max(ut,At),pr.attr("d","M"+(hr-Y)+","+It.ymin+"v-4h"+2*Y+"v4ZM"+(hr-Y)+","+(It.ymax-1)+"v4h"+2*Y+"v-4Z")):Ar==="d"&&(It=Lt?u(Vt,[hr,ut],[Et,At]):[[hr,ut],[hr,At],[Et,At],[Et,ut]],It.xmin=Math.min(hr,Et),It.xmax=Math.max(hr,Et),It.ymin=Math.min(ut,At),It.ymax=Math.max(ut,At),pr.attr("d","M0,0Z"))}else Ue&&(Ze.addPt([Et,At]),It=Ze.filtered);if(ce.selectionDefs&&ce.selectionDefs.length?(Dt=Te(ce.mergedPolygons,It,Er),It.subtract=Er,Ye=Q(ce.selectionDefs.concat([It]))):(Dt=[It],Ye=W(It)),d(Ve(Dt,ot),rr,ce),_t){var vn=Fe(Kt,!1),fn=vn.eventData?vn.eventData.points.slice():[];vn=Fe(Kt,!1,Ye,kr,ce),Ye=vn.selectionTesters,lr=vn.eventData;var Tn;Ze?Tn=Ze.filtered:Tn=gt(Dt),a.throttle(Vr,O.SELECTDELAY,function(){_r=We(Ye,kr);for(var Pn=_r.slice(),jn=0;jn<fn.length;jn++){for(var qn=fn[jn],si=!1,ti=0;ti<Pn.length;ti++)if(Pn[ti].curveNumber===qn.curveNumber&&Pn[ti].pointNumber===qn.pointNumber){si=!0;break}si||Pn.push(qn)}Pn.length&&(lr||(lr={}),lr.points=Pn),pn(lr,Tn),Xe(Kt,lr)})}},ce.clickFn=function(Xr,_n){if(pr.remove(),Kt._fullLayout._activeShapeIndex>=0){Kt._fullLayout._deactivateShape(Kt);return}if(!wt){var Dn=ar.clickmode;a.done(Vr).then(function(){if(a.clear(Vr),Xr===2){for(rr.remove(),Zt=0;Zt<kr.length;Zt++)nr=kr[Zt],nr._module.selectPoints(nr,!1);if(Ne(Kt,kr),te(ce),Ie(Kt),kr.length){var xr=kr[0].xaxis,Ar=kr[0].yaxis;if(xr&&Ar){for(var Or=[],Br=Kt._fullLayout.selections,qr=0;qr<Br.length;qr++){var vn=Br[qr];vn&&(vn.xref!==xr._id||vn.yref!==Ar._id)&&Or.push(vn)}Or.length<Br.length&&(Kt._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Kt,{selections:Or}))}}}else Dn.indexOf("select")>-1&&ue(_n,Kt,ce.xaxes,ce.yaxes,ce.subplot,ce,rr),Dn==="event"&&ke(Kt,void 0);p.click(Kt,_n)}).catch(T.error)}},ce.doneFn=function(){pr.remove(),a.done(Vr).then(function(){a.clear(Vr),!Fr&&It&&ce.selectionDefs&&(It.subtract=Er,ce.selectionDefs.push(It),ce.mergedPolygons.length=0,[].push.apply(ce.mergedPolygons,Dt)),(Fr||wt)&&te(ce,Fr),ce.doneFnCompleted&&ce.doneFnCompleted(_r),_t&&ke(Kt,lr)}).catch(T.error)}}function ue(Oe,_e,Ae,ce,be,Re,Ue){var nt=_e._hoverdata,ot=_e._fullLayout,wt=ot.clickmode,_t=wt.indexOf("event")>-1,Ut=[],Vt,Lt,Kt,ar,Fr,yt,Xt,Yt,br,hr;if(pe(nt)){$(Oe,_e,Re),Vt=he(_e,Ae,ce,be);var ut=we(nt,Vt),lt=ut.pointNumbers.length>0;if(lt?Me(Vt,ut):Be(Vt)&&(Xt=Ee(ut))){for(Ue&&Ue.remove(),hr=0;hr<Vt.length;hr++)Lt=Vt[hr],Lt._module.selectPoints(Lt,!1);Ne(_e,Vt),te(Re),_t&&Ie(_e)}else{Yt=Oe.shiftKey&&(Xt!==void 0?Xt:Ee(ut)),Kt=de(ut.pointNumber,ut.searchInfo,Yt);var xt=Re.selectionDefs.concat([Kt]);for(ar=Q(xt),hr=0;hr<Vt.length;hr++)if(Fr=Vt[hr]._module.selectPoints(Vt[hr],ar),yt=Le(Fr,Vt[hr]),Ut.length)for(var Tt=0;Tt<yt.length;Tt++)Ut.push(yt[Tt]);else Ut=yt;if(br={points:Ut},Ne(_e,Vt,br),Kt&&Re&&Re.selectionDefs.push(Kt),Ue){var Et=Re.mergedPolygons,At=f(Re.dragmode);d(Ve(Et,At),Ue,Re)}_t&&ke(_e,br)}}}function de(Oe,_e,Ae){return{pointNumber:Oe,searchInfo:_e,subtract:!!Ae}}function ee(Oe){return"pointNumber"in Oe&&"searchInfo"in Oe}function X(Oe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(_e,Ae,ce,be){var Re=Oe.searchInfo.cd[0].trace._expandedIndex,Ue=be.cd[0].trace._expandedIndex;return Ue===Re&&ce===Oe.pointNumber},isRect:!1,degenerate:!1,subtract:!!Oe.subtract}}function Q(Oe){if(!Oe.length)return;for(var _e=[],Ae=ee(Oe[0])?0:Oe[0][0][0],ce=Ae,be=ee(Oe[0])?0:Oe[0][0][1],Re=be,Ue=0;Ue<Oe.length;Ue++)if(ee(Oe[Ue]))_e.push(X(Oe[Ue]));else{var nt=W(Oe[Ue]);nt.subtract=!!Oe[Ue].subtract,_e.push(nt),Ae=Math.min(Ae,nt.xmin),ce=Math.max(ce,nt.xmax),be=Math.min(be,nt.ymin),Re=Math.max(Re,nt.ymax)}function ot(wt,_t,Ut,Vt){for(var Lt=!1,Kt=0;Kt<_e.length;Kt++)_e[Kt].contains(wt,_t,Ut,Vt)&&(Lt=!_e[Kt].subtract);return Lt}return{xmin:Ae,xmax:ce,ymin:be,ymax:Re,pts:[],contains:ot,isRect:!1,degenerate:!1}}function $(Oe,_e,Ae){var ce=_e._fullLayout,be=Ae.plotinfo,Re=Ae.dragmode,Ue=ce._lastSelectedSubplot&&ce._lastSelectedSubplot===be.id,nt=(Oe.shiftKey||Oe.altKey)&&!(i(Re)&&f(Re));Ue&&nt&&be.selection&&be.selection.selectionDefs&&!Ae.selectionDefs?(Ae.selectionDefs=be.selection.selectionDefs,Ae.mergedPolygons=be.selection.mergedPolygons):(!nt||!be.selection)&&te(Ae),Ue||(M(_e),ce._lastSelectedSubplot=be.id)}function ne(Oe){return Oe._fullLayout._activeShapeIndex>=0}function fe(Oe){return Oe._fullLayout._activeSelectionIndex>=0}function te(Oe,_e){var Ae=Oe.dragmode,ce=Oe.plotinfo,be=Oe.gd;ne(be)&&be._fullLayout._deactivateShape(be),fe(be)&&be._fullLayout._deactivateSelection(be);var Re=be._fullLayout,Ue=Re._zoomlayer,nt=i(Ae),ot=v(Ae);if(nt||ot){var wt=Ue.selectAll(".select-outline-"+ce.id);if(wt&&be._fullLayout._outlining){var _t;nt&&(_t=C(wt,Oe)),_t&&n.call("_guiRelayout",be,{shapes:_t});var Ut;ot&&!re(Oe)&&(Ut=S(wt,Oe)),Ut&&(be._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",be,{selections:Ut}).then(function(){_e&&D(be)})),be._fullLayout._outlining=!1}}ce.selection={},ce.selection.selectionDefs=Oe.selectionDefs=[],ce.selection.mergedPolygons=Oe.mergedPolygons=[]}function q(Oe){return Oe._id}function he(Oe,_e,Ae,ce){if(!Oe.calcdata)return[];var be=[],Re=_e.map(q),Ue=Ae.map(q),nt,ot,wt;for(wt=0;wt<Oe.calcdata.length;wt++)if(nt=Oe.calcdata[wt],ot=nt[0].trace,!(ot.visible!==!0||!ot._module||!ot._module.selectPoints))if(re({subplot:ce})&&(ot.subplot===ce||ot.geo===ce))be.push(se(ot._module,nt,_e[0],Ae[0]));else if(ot.type==="splom"){if(ot._xaxes[Re[0]]&&ot._yaxes[Ue[0]]){var _t=se(ot._module,nt,_e[0],Ae[0]);_t.scene=Oe._fullLayout._splomScenes[ot.uid],be.push(_t)}}else if(ot.type==="sankey"){var Ut=se(ot._module,nt,_e[0],Ae[0]);be.push(Ut)}else{if(Re.indexOf(ot.xaxis)===-1||Ue.indexOf(ot.yaxis)===-1)continue;be.push(se(ot._module,nt,R(Oe,ot.xaxis),R(Oe,ot.yaxis)))}return be}function se(Oe,_e,Ae,ce){return{_module:Oe,cd:_e,xaxis:Ae,yaxis:ce}}function pe(Oe){return Oe&&Array.isArray(Oe)&&Oe[0].hoverOnBox!==!0}function we(Oe,_e){var Ae=Oe[0],ce=-1,be=[],Re,Ue;for(Ue=0;Ue<_e.length;Ue++)if(Re=_e[Ue],Ae.fullData._expandedIndex===Re.cd[0].trace._expandedIndex){if(Ae.hoverOnBox===!0)break;Ae.pointNumber!==void 0?ce=Ae.pointNumber:Ae.binNumber!==void 0&&(ce=Ae.binNumber,be=Ae.pointNumbers);break}return{pointNumber:ce,pointNumbers:be,searchInfo:Re}}function Ee(Oe){var _e=Oe.searchInfo.cd[0].trace,Ae=Oe.pointNumber,ce=Oe.pointNumbers,be=ce.length>0,Re=be?ce[0]:Ae;return _e.selectedpoints?_e.selectedpoints.indexOf(Re)>-1:!1}function Me(Oe,_e){var Ae=[],ce,be,Re,Ue;for(Ue=0;Ue<Oe.length;Ue++)ce=Oe[Ue],ce.cd[0].trace.selectedpoints&&ce.cd[0].trace.selectedpoints.length>0&&Ae.push(ce);if(Ae.length===1&&(Re=Ae[0]===_e.searchInfo,Re&&(be=_e.searchInfo.cd[0].trace,be.selectedpoints.length===_e.pointNumbers.length))){for(Ue=0;Ue<_e.pointNumbers.length;Ue++)if(be.selectedpoints.indexOf(_e.pointNumbers[Ue])<0)return!1;return!0}return!1}function Be(Oe){var _e=0,Ae,ce,be;for(be=0;be<Oe.length;be++)if(Ae=Oe[be],ce=Ae.cd[0].trace,ce.selectedpoints&&(ce.selectedpoints.length>1||(_e+=ce.selectedpoints.length,_e>1)))return!1;return _e===1}function Ne(Oe,_e,Ae){var ce;for(ce=0;ce<_e.length;ce++){var be=_e[ce].cd[0].trace._fullInput,Re=Oe._fullLayout._tracePreGUI[be.uid]||{};Re.selectedpoints===void 0&&(Re.selectedpoints=be._input.selectedpoints||null)}var Ue;if(Ae){var nt=Ae.points||[];for(ce=0;ce<_e.length;ce++)Ue=_e[ce].cd[0].trace,Ue._input.selectedpoints=Ue._fullInput.selectedpoints=[],Ue._fullInput!==Ue&&(Ue.selectedpoints=[]);for(var ot=0;ot<nt.length;ot++){var wt=nt[ot],_t=wt.data,Ut=wt.fullData,Vt=wt.pointIndex,Lt=wt.pointIndices;Lt?([].push.apply(_t.selectedpoints,Lt),Ue._fullInput!==Ue&&[].push.apply(Ut.selectedpoints,Lt)):(_t.selectedpoints.push(Vt),Ue._fullInput!==Ue&&Ut.selectedpoints.push(Vt))}}else for(ce=0;ce<_e.length;ce++)Ue=_e[ce].cd[0].trace,delete Ue.selectedpoints,delete Ue._input.selectedpoints,Ue._fullInput!==Ue&&delete Ue._fullInput.selectedpoints;Ce(Oe,_e)}function Ce(Oe,_e){for(var Ae=!1,ce=0;ce<_e.length;ce++){var be=_e[ce],Re=be.cd;n.traceIs(Re[0].trace,"regl")&&(Ae=!0);var Ue=be._module,nt=Ue.styleOnSelect||Ue.style;nt&&(nt(Oe,Re,Re[0].node3),Re[0].nodeRangePlot3&&nt(Oe,Re,Re[0].nodeRangePlot3))}Ae&&(b(Oe),N(Oe))}function Te(Oe,_e,Ae){for(var ce=Ae?h.difference:h.union,be=ce({regions:Oe},{regions:[_e]}),Re=be.regions.reverse(),Ue=0;Ue<Re.length;Ue++){var nt=Re[Ue];nt.subtract=vt(nt,Re.slice(0,Ue))}return Re}function Le(Oe,_e){if(Array.isArray(Oe))for(var Ae=_e.cd,ce=_e.cd[0].trace,be=0;be<Oe.length;be++)Oe[be]=m(Oe[be],ce,Ae);return Oe}function Ve(Oe,_e){for(var Ae=[],ce=0;ce<Oe.length;ce++){Ae[ce]=[];for(var be=0;be<Oe[ce].length;be++){Ae[ce][be]=[],Ae[ce][be][0]=be?"L":"M";for(var Re=0;Re<Oe[ce][be].length;Re++)Ae[ce][be].push(Oe[ce][be][Re])}_e||Ae[ce].push(["Z",Ae[ce][0][1],Ae[ce][0][2]])}return Ae}function We(Oe,_e){for(var Ae=[],ce,be,Re=0;Re<_e.length;Re++){var Ue=_e[Re];be=Ue._module.selectPoints(Ue,Oe),ce=Le(be,Ue),Ae=Ae.concat(ce)}return Ae}function Fe(Oe,_e,Ae,ce,be){var Re=!!ce,Ue,nt,ot;be&&(Ue=be.plotinfo,nt=be.xaxes[0]._id,ot=be.yaxes[0]._id);var wt=[],_t=[],Ut=tt(Oe),Vt=Oe._fullLayout;if(Ue){var Lt=Vt._zoomlayer,Kt=Vt.dragmode,ar=i(Kt),Fr=v(Kt);if(ar||Fr){var yt=R(Oe,nt,"x"),Xt=R(Oe,ot,"y");if(yt&&Xt){var Yt=Lt.selectAll(".select-outline-"+Ue.id);if(Yt&&Oe._fullLayout._outlining&&Yt.length){for(var br=Yt[0][0],hr=br.getAttribute("d"),ut=y(hr,Oe,Ue),lt=[],xt=0;xt<ut.length;xt++){for(var Tt=ut[xt],Et=[],At=0;At<Tt.length;At++)Et.push([dt(yt,Tt[At][1]),dt(Xt,Tt[At][2])]);Et.xref=nt,Et.yref=ot,Et.subtract=vt(Et,lt),lt.push(Et)}Ut=Ut.concat(lt)}}}}var Ft=nt&&ot?[nt+ot]:Vt._subplots.cartesian;Ge(Oe);for(var Ht={},$t=0;$t<Ft.length;$t++){var Qt=Ft[$t],or=Qt.indexOf("y"),Er=Qt.slice(0,or),Ze=Qt.slice(or),Ye=nt&&ot?Ae:void 0;if(Ye=$e(Ut,Er,Ze,Ye),Ye){var Dt=ce;if(!Re){var It=R(Oe,Er,"x"),Zt=R(Oe,Ze,"y");Dt=he(Oe,[It],[Zt],Qt);for(var nr=0;nr<Dt.length;nr++){var lr=Dt[nr],rr=lr.cd[0],zt=rr.trace;if(lr._module.name==="scattergl"&&!rr.t.xpx){var fr=zt.x,dr=zt.y,pr=zt._length;rr.t.xpx=[],rr.t.ypx=[];for(var vr=0;vr<pr;vr++)rr.t.xpx[vr]=It.c2p(fr[vr]),rr.t.ypx[vr]=Zt.c2p(dr[vr])}lr._module.name==="splom"&&(Ht[zt.uid]||(Ht[zt.uid]=!0))}}var Vr=We(Ye,Dt);wt=wt.concat(Vr),_t=_t.concat(Dt)}}var _r={points:wt};Ne(Oe,_t,_r);var kr=Vt.clickmode,pn=kr.indexOf("event")>-1&&_e;if(!Ue&&_e){var Xr=tt(Oe,!0);if(Xr.length){var _n=Xr[0].xref,Dn=Xr[0].yref;if(_n&&Dn){var xr=gt(Xr),Ar=Ct([R(Oe,_n,"x"),R(Oe,Dn,"y")]);Ar(_r,xr)}}Oe._fullLayout._noEmitSelectedAtStart?Oe._fullLayout._noEmitSelectedAtStart=!1:pn&&ke(Oe,_r),Vt._reselect=!1}if(!Ue&&Vt._deselect){var Or=Vt._deselect;nt=Or.xref,ot=Or.yref,it(nt,ot,_t)||qe(Oe,nt,ot,ce),pn&&(_r.points.length?ke(Oe,_r):Ie(Oe)),Vt._deselect=!1}return{eventData:_r,selectionTesters:Ae}}function Ge(Oe){var _e=Oe.calcdata;if(_e)for(var Ae=0;Ae<_e.length;Ae++){var ce=_e[Ae][0],be=ce.trace,Re=Oe._fullLayout._splomScenes;if(Re){var Ue=Re[be.uid];Ue&&(Ue.selectBatch=[])}}}function it(Oe,_e,Ae){for(var ce=0;ce<Ae.length;ce++){var be=Ae[ce];if(be.xaxis&&be.xaxis._id===Oe&&be.yaxis&&be.yaxis._id===_e)return!0}return!1}function qe(Oe,_e,Ae,ce){ce=he(Oe,[R(Oe,_e,"x")],[R(Oe,Ae,"y")],_e+Ae);for(var be=0;be<ce.length;be++){var Re=ce[be];Re._module.selectPoints(Re,!1)}Ne(Oe,ce)}function $e(Oe,_e,Ae,ce){for(var be,Re=0;Re<Oe.length;Re++){var Ue=Oe[Re];if(!(_e!==Ue.xref||Ae!==Ue.yref))if(be){var nt=!!Ue.subtract;be=Te(be,Ue,nt),ce=Q(be)}else be=[Ue],ce=W(Ue)}return ce}function tt(Oe,_e){for(var Ae=[],ce=Oe._fullLayout,be=ce.selections,Re=be.length,Ue=0;Ue<Re;Ue++)if(!(_e&&Ue!==ce._activeSelectionIndex)){var nt=be[Ue];if(nt){var ot=nt.xref,wt=nt.yref,_t=R(Oe,ot,"x"),Ut=R(Oe,wt,"y"),Vt,Lt,Kt,ar,Fr;if(nt.type==="rect"){Fr=[];var yt=dt(_t,nt.x0),Xt=dt(_t,nt.x1),Yt=dt(Ut,nt.y0),br=dt(Ut,nt.y1);Fr=[[yt,Yt],[yt,br],[Xt,br],[Xt,Yt]],Vt=Math.min(yt,Xt),Lt=Math.max(yt,Xt),Kt=Math.min(Yt,br),ar=Math.max(Yt,br),Fr.xmin=Vt,Fr.xmax=Lt,Fr.ymin=Kt,Fr.ymax=ar,Fr.xref=ot,Fr.yref=wt,Fr.subtract=!1,Fr.isRect=!0,Ae.push(Fr)}else if(nt.type==="path")for(var hr=nt.path.split("Z"),ut=[],lt=0;lt<hr.length;lt++){var xt=hr[lt];if(xt){xt+="Z";var Tt=c.extractPathCoords(xt,x.paramIsX,"raw"),Et=c.extractPathCoords(xt,x.paramIsY,"raw");Vt=1/0,Lt=-1/0,Kt=1/0,ar=-1/0,Fr=[];for(var At=0;At<Tt.length;At++){var Ft=dt(_t,Tt[At]),Ht=dt(Ut,Et[At]);Fr.push([Ft,Ht]),Vt=Math.min(Ft,Vt),Lt=Math.max(Ft,Lt),Kt=Math.min(Ht,Kt),ar=Math.max(Ht,ar)}Fr.xmin=Vt,Fr.xmax=Lt,Fr.ymin=Kt,Fr.ymax=ar,Fr.xref=ot,Fr.yref=wt,Fr.subtract=vt(Fr,ut),ut.push(Fr),Ae.push(Fr)}}}}return Ae}function vt(Oe,_e){for(var Ae=!1,ce=0;ce<_e.length;ce++)for(var be=_e[ce],Re=0;Re<Oe.length;Re++)if(E(Oe[Re],be)){Ae=!Ae;break}return Ae}function dt(Oe,_e){return Oe.type==="date"&&(_e=_e.replace("_"," ")),Oe.type==="log"?Oe.c2p(_e):Oe.r2p(_e,null,Oe.calendar)}function gt(Oe){for(var _e=Oe.length,Ae=[],ce=0;ce<_e;ce++){var be=Oe[ce];Ae=Ae.concat(be),Ae=Ae.concat([be[0]])}return Mt(Ae)}function Mt(Oe){return Oe.isRect=Oe.length===5&&Oe[0][0]===Oe[4][0]&&Oe[0][1]===Oe[4][1]&&Oe[0][0]===Oe[1][0]&&Oe[2][0]===Oe[3][0]&&Oe[0][1]===Oe[3][1]&&Oe[1][1]===Oe[2][1]||Oe[0][1]===Oe[1][1]&&Oe[2][1]===Oe[3][1]&&Oe[0][0]===Oe[3][0]&&Oe[1][0]===Oe[2][0],Oe.isRect&&(Oe.xmin=Math.min(Oe[0][0],Oe[2][0]),Oe.xmax=Math.max(Oe[0][0],Oe[2][0]),Oe.ymin=Math.min(Oe[0][1],Oe[2][1]),Oe.ymax=Math.max(Oe[0][1],Oe[2][1])),Oe}function Ct(Oe){return function(_e,Ae){for(var ce,be,Re=0;Re<Oe.length;Re++){var Ue=Oe[Re],nt=Ue._id,ot=nt.charAt(0);if(Ae.isRect){ce||(ce={});var wt=Ae[ot+"min"],_t=Ae[ot+"max"];wt!==void 0&&_t!==void 0&&(ce[nt]=[U(Ue,wt),U(Ue,_t)].sort(P))}else be||(be={}),be[nt]=Ae.map(G(Ue))}ce&&(_e.range=ce),be&&(_e.lassoPoints=be)}}function Wt(Oe){var _e=Oe.plotinfo;return _e.fillRangeItems||Ct(Oe.xaxes.concat(Oe.yaxes))}function Xe(Oe,_e){Oe.emit("plotly_selecting",_e)}function ke(Oe,_e){_e&&(_e.selections=(Oe.layout||{}).selections||[]),Oe.emit("plotly_selected",_e)}function Ie(Oe){Oe.emit("plotly_deselect",null)}k.exports={reselect:Fe,prepSelect:ae,clearOutline:M,clearSelectionsCache:te,selectOnClick:ue}},89827:function(k,F,e){var h=e(50215),E=e(41940),n=e(82196).line,L=e(79952).P,w=e(1426).extendFlat,p=e(44467).templatedArray;e(24695);var m=e(9012),t=e(5386).R,r=e(37281);k.exports=p("shape",{visible:w({},m.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:w({},m.legend,{editType:"calc+arraydraw"}),legendgroup:w({},m.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:w({},m.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:E({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:w({},m.legendrank,{editType:"calc+arraydraw"}),legendwidth:w({},m.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:w({},h.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:w({},h.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:w({},n.color,{editType:"arraydraw"}),width:w({},n.width,{editType:"calc+arraydraw"}),dash:w({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(r)}),font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(k,F,e){var h=e(71828),E=e(89298),n=e(21459),L=e(30477);k.exports=function(l){var i=l._fullLayout,f=h.filterVisible(i.shapes);if(!(!f.length||!l._fullData.length))for(var v=0;v<f.length;v++){var c=f[v];c._extremes={};var x,d,M=E.getRefType(c.xref),g=E.getRefType(c.yref);if(c.xref!=="paper"&&M!=="domain"){var u=c.xsizemode==="pixel"?c.xanchor:c.x0,y=c.xsizemode==="pixel"?c.xanchor:c.x1;x=E.getFromId(l,c.xref),d=t(x,u,y,c.path,n.paramIsX),d&&(c._extremes[x._id]=E.findExtremes(x,d,w(c)))}if(c.yref!=="paper"&&g!=="domain"){var C=c.ysizemode==="pixel"?c.yanchor:c.y0,S=c.ysizemode==="pixel"?c.yanchor:c.y1;x=E.getFromId(l,c.yref),d=t(x,C,S,c.path,n.paramIsY),d&&(c._extremes[x._id]=E.findExtremes(x,d,p(c)))}}};function w(r){return m(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function p(r){return m(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function m(r,l,i,f,v,c){var x=r/2,d=c;if(l==="pixel"){var M=v?L.extractPathCoords(v,c?n.paramIsY:n.paramIsX):[i,f],g=h.aggNums(Math.max,null,M),u=h.aggNums(Math.min,null,M),y=u<0?Math.abs(u)+x:x,C=g>0?g+x:x;return{ppad:x,ppadplus:d?y:C,ppadminus:d?C:y}}else return{ppad:x}}function t(r,l,i,f,v){var c=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(l!==void 0)return[c(l),c(i)];if(f){var x=1/0,d=-1/0,M=f.match(n.segmentRE),g,u,y,C,S;for(r.type==="date"&&(c=L.decodeDate(c)),g=0;g<M.length;g++)u=M[g],y=v[u.charAt(0)].drawn,y!==void 0&&(C=M[g].substr(1).match(n.paramRE),!(!C||C.length<y)&&(S=c(C[y]),S<x&&(x=S),S>d&&(d=S)));if(d>=x)return[x,d]}}},21459:function(k){k.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(k,F,e){var h=e(71828),E=e(89298),n=e(85501),L=e(89827),w=e(30477);k.exports=function(r,l){n(r,l,{name:"shapes",handleItemDefaults:m})};function p(t,r){return t?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function m(t,r,l){function i(ee,X){return h.coerce(t,r,L,ee,X)}r._isShape=!0;var f=i("visible");if(f){var v=i("showlegend");v&&(i("legend"),i("legendwidth"),i("legendgroup"),i("legendgrouptitle.text"),h.coerceFont(i,"legendgrouptitle.font"),i("legendrank"));var c=i("path"),x=c?"path":"rect",d=i("type",x),M=d!=="path";M&&delete r.path,i("editable"),i("layer"),i("opacity"),i("fillcolor"),i("fillrule");var g=i("line.width");g&&(i("line.color"),i("line.dash"));for(var u=i("xsizemode"),y=i("ysizemode"),C=["x","y"],S=0;S<2;S++){var D=C[S],T=D+"anchor",P=D==="x"?u:y,A={_fullLayout:l},a,R,b,N=E.coerceRef(t,r,A,D,void 0,"paper"),O=E.getRefType(N);if(O==="range"?(a=E.getFromId(A,N),a._shapeIndices.push(r._index),b=w.rangeToShapePosition(a),R=w.shapePositionToRange(a)):R=b=h.identity,M){var Y=.25,B=.75,W=D+"0",H=D+"1",U=t[W],G=t[H];t[W]=R(t[W],!0),t[H]=R(t[H],!0),P==="pixel"?(i(W,0),i(H,10)):(E.coercePosition(r,A,i,N,W,Y),E.coercePosition(r,A,i,N,H,B)),r[W]=b(r[W]),r[H]=b(r[H]),t[W]=U,t[H]=G}if(P==="pixel"){var j=t[T];t[T]=R(t[T],!0),E.coercePosition(r,A,i,N,T,.25),r[T]=b(r[T]),t[T]=j}}M&&h.noneOrAll(t,r,["x0","x1","y0","y1"]);var re=d==="line",ae,ue;if(M&&(ae=i("label.texttemplate")),ae||(ue=i("label.text")),ue||ae){i("label.textangle");var de=i("label.textposition",re?"middle":"middle center");i("label.xanchor"),i("label.yanchor",p(re,de)),i("label.padding"),h.coerceFont(i,"label.font",l.font)}}}},48100:function(k,F,e){var h=e(71828),E=e(89298),n=e(63893),L=e(91424),w=e(60165).readPaths,p=e(30477),m=p.getPathString,t=e(37281),r=e(18783).FROM_TL;k.exports=function(v,c,x,d){if(d.selectAll(".shape-label").remove(),!!(x.label.text||x.label.texttemplate)){var M;if(x.label.texttemplate){var g={};if(x.type!=="path"){var u=E.getFromId(v,x.xref),y=E.getFromId(v,x.yref);for(var C in t){var S=t[C](x,u,y);S!==void 0&&(g[C]=S)}}M=h.texttemplateStringForShapes(x.label.texttemplate,{},v._fullLayout._d3locale,g)}else M=x.label.text;var D={"data-index":c},T=x.label.font,P={"data-notex":1},A=d.append("g").attr(D).classed("shape-label",!0),a=A.append("text").attr(P).classed("shape-label-text",!0).text(M),R,b,N,O;if(x.path){var Y=m(v,x),B=w(Y,v);R=1/0,N=1/0,b=-1/0,O=-1/0;for(var W=0;W<B.length;W++)for(var H=0;H<B[W].length;H++)for(var U=B[W][H],G=1;G<U.length;G+=2){var j=U[G],re=U[G+1];R=Math.min(R,j),b=Math.max(b,j),N=Math.min(N,re),O=Math.max(O,re)}}else{var ae=E.getFromId(v,x.xref),ue=E.getRefType(x.xref),de=E.getFromId(v,x.yref),ee=E.getRefType(x.yref),X=p.getDataToPixel(v,ae,!1,ue),Q=p.getDataToPixel(v,de,!0,ee);R=X(x.x0),b=X(x.x1),N=Q(x.y0),O=Q(x.y1)}var $=x.label.textangle;$==="auto"&&(x.type==="line"?$=l(R,N,b,O):$=0),a.call(function(se){return se.call(L.font,T).attr({}),n.convertToTspans(se,v),se});var ne=L.bBox(a.node()),fe=i(R,N,b,O,x,$,ne),te=fe.textx,q=fe.texty,he=fe.xanchor;a.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[he],y:q,x:te,transform:"rotate("+$+","+te+","+q+")"}).call(n.positionText,te,q)}};function l(f,v,c,x){var d,M;return M=Math.abs(c-f),c>=f?d=v-x:d=x-v,-180/Math.PI*Math.atan2(d,M)}function i(f,v,c,x,d,M,g){var u=d.label.textposition,y=d.label.textangle,C=d.label.padding,S=d.type,D=Math.PI/180*M,T=Math.sin(D),P=Math.cos(D),A=d.label.xanchor,a=d.label.yanchor,R,b,N,O;if(S==="line"){u==="start"?(R=f,b=v):u==="end"?(R=c,b=x):(R=(f+c)/2,b=(v+x)/2),A==="auto"&&(u==="start"?y==="auto"?c>f?A="left":c<f?A="right":A="center":c>f?A="right":c<f?A="left":A="center":u==="end"?y==="auto"?c>f?A="right":c<f?A="left":A="center":c>f?A="left":c<f?A="right":A="center":A="center");var Y={left:1,center:0,right:-1},B={bottom:-1,middle:0,top:1};if(y==="auto"){var W=B[a];N=-C*T*W,O=C*P*W}else{var H=Y[A],U=B[a];N=C*H,O=C*U}R=R+N,b=b+O}else N=C+3,u.indexOf("right")!==-1?(R=Math.max(f,c)-N,A==="auto"&&(A="right")):u.indexOf("left")!==-1?(R=Math.min(f,c)+N,A==="auto"&&(A="left")):(R=(f+c)/2,A==="auto"&&(A="center")),u.indexOf("top")!==-1?b=Math.min(v,x):u.indexOf("bottom")!==-1?b=Math.max(v,x):b=(v+x)/2,O=C,a==="bottom"?b=b-O:a==="top"&&(b=b+O);var G=r[a],j=d.label.font.size,re=g.height,ae=(re*G-j)*T,ue=-(re*G-j)*P;return{textx:R+ae,texty:b+ue,xanchor:A}}},42359:function(k,F,e){var h=e(71828),E=h.strTranslate,n=e(28569),L=e(64505),w=L.drawMode,p=L.selectMode,m=e(73972),t=e(7901),r=e(89995),l=r.i000,i=r.i090,f=r.i180,v=r.i270,c=e(51873),x=c.clearOutlineControllers,d=e(60165),M=d.pointsOnRectangle,g=d.pointsOnEllipse,u=d.writePaths,y=e(90551).newShapes,C=e(90551).createShapeObj,S=e(35855),D=e(48100);k.exports=function a(R,b,N,O){O||(O=0);var Y=N.gd;function B(){a(R,b,N,O++),(g(R[0])||N.hasText)&&W({redrawing:!0})}function W(Te){var Le={};N.isActiveShape!==void 0&&(N.isActiveShape=!1,Le=y(b,N)),N.isActiveSelection!==void 0&&(N.isActiveSelection=!1,Le=S(b,N),Y._fullLayout._reselect=!0),Object.keys(Le).length&&m.call((Te||{}).redrawing?"relayout":"_guiRelayout",Y,Le)}var H=Y._fullLayout,U=H._zoomlayer,G=N.dragmode,j=w(G),re=p(G);(j||re)&&(Y._fullLayout._outlining=!0),x(Y),b.attr("d",u(R));var ae,ue,de,ee,X;if(!O&&(N.isActiveShape||N.isActiveSelection)){X=T([],R);var Q=U.append("g").attr("class","outline-controllers");pe(Q),Ce()}if(j&&N.hasText){var $=U.select(".label-temp"),ne=C(b,N,N.dragmode);D(Y,"label-temp",ne,$)}function fe(Te){de=+Te.srcElement.getAttribute("data-i"),ee=+Te.srcElement.getAttribute("data-j"),ae[de][ee].moveFn=te}function te(Te,Le){if(R.length){var Ve=X[de][ee][1],We=X[de][ee][2],Fe=R[de],Ge=Fe.length;if(M(Fe)){var it=Te,qe=Le;if(N.isActiveSelection){var $e=P(Fe,ee);$e[1]===Fe[ee][1]?qe=0:it=0}for(var tt=0;tt<Ge;tt++)if(tt!==ee){var vt=Fe[tt];vt[1]===Fe[ee][1]&&(vt[1]=Ve+it),vt[2]===Fe[ee][2]&&(vt[2]=We+qe)}if(Fe[ee][1]=Ve+it,Fe[ee][2]=We+qe,!M(Fe))for(var dt=0;dt<Ge;dt++)for(var gt=0;gt<Fe[dt].length;gt++)Fe[dt][gt]=X[de][dt][gt]}else Fe[ee][1]=Ve+Te,Fe[ee][2]=We+Le;B()}}function q(){W()}function he(){if(R.length&&R[de]&&R[de].length){for(var Te=[],Le=0;Le<R[de].length;Le++)Le!==ee&&Te.push(R[de][Le]);Te.length>1&&!(Te.length===2&&Te[1][0]==="Z")&&(ee===0&&(Te[0][0]="M"),R[de]=Te,B(),W())}}function se(Te,Le){if(Te===2){de=+Le.srcElement.getAttribute("data-i"),ee=+Le.srcElement.getAttribute("data-j");var Ve=R[de];!M(Ve)&&!g(Ve)&&he()}}function pe(Te){ae=[];for(var Le=0;Le<R.length;Le++){var Ve=R[Le],We=M(Ve),Fe=!We&&g(Ve);ae[Le]=[];for(var Ge=Ve.length,it=0;it<Ge;it++)if(Ve[it][0]!=="Z"&&!(Fe&&it!==l&&it!==i&&it!==f&&it!==v)){var qe=We&&N.isActiveSelection,$e;qe&&($e=P(Ve,it));var tt=Ve[it][1],vt=Ve[it][2],dt=Te.append(qe?"rect":"circle").attr("data-i",Le).attr("data-j",it).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(qe){var gt=$e[1]-tt,Mt=$e[2]-vt,Ct=Mt?5:Math.max(Math.min(25,Math.abs(gt)-5),5),Wt=gt?5:Math.max(Math.min(25,Math.abs(Mt)-5),5);dt.classed(Mt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ct).attr("height",Wt).attr("x",tt-Ct/2).attr("y",vt-Wt/2).attr("transform",E(gt/2,Mt/2))}else dt.classed("cursor-grab",!0).attr("r",5).attr("cx",tt).attr("cy",vt);ae[Le][it]={element:dt.node(),gd:Y,prepFn:fe,doneFn:q,clickFn:se},n.init(ae[Le][it])}}}function we(Te,Le){if(R.length)for(var Ve=0;Ve<R.length;Ve++)for(var We=0;We<R[Ve].length;We++)for(var Fe=0;Fe+2<R[Ve][We].length;Fe+=2)R[Ve][We][Fe+1]=X[Ve][We][Fe+1]+Te,R[Ve][We][Fe+2]=X[Ve][We][Fe+2]+Le}function Ee(Te,Le){we(Te,Le),B()}function Me(Te){de=+Te.srcElement.getAttribute("data-i"),de||(de=0),ue[de].moveFn=Ee}function Be(){W()}function Ne(Te){Te===2&&A(Y)}function Ce(){if(ue=[],!!R.length){var Te=0;ue[Te]={element:b[0][0],gd:Y,prepFn:Me,doneFn:Be,clickFn:Ne},n.init(ue[Te])}}};function T(a,R){for(var b=0;b<R.length;b++){var N=R[b];a[b]=[];for(var O=0;O<N.length;O++){a[b][O]=[];for(var Y=0;Y<N[O].length;Y++)a[b][O][Y]=N[O][Y]}}return a}function P(a,R){var b=a[R][1],N=a[R][2],O=a.length,Y,B,W;return Y=(R+1)%O,B=a[Y][1],W=a[Y][2],B===b&&W===N&&(Y=(R+2)%O,B=a[Y][1],W=a[Y][2]),[Y,B,W]}function A(a){if(p(a._fullLayout.dragmode)){x(a);var R=a._fullLayout._activeSelectionIndex,b=(a.layout||{}).selections||[];if(R<b.length){for(var N=[],O=0;O<b.length;O++)O!==R&&N.push(b[O]);delete a._fullLayout._activeSelectionIndex;var Y=a._fullLayout.selections[R];a._fullLayout._deselect={xref:Y.xref,yref:Y.yref},m.call("_guiRelayout",a,{selections:N})}}}},34031:function(k,F,e){var h=e(39898),E=e(73972),n=e(71828),L=e(89298),w=e(60165).readPaths,p=e(42359),m=e(48100),t=e(51873).clearOutlineControllers,r=e(7901),l=e(91424),i=e(44467).arrayEditor,f=e(28569),v=e(6964),c=e(21459),x=e(30477),d=x.getPathString;k.exports={draw:M,drawOne:y,eraseActiveShape:A,drawLabel:m};function M(a){var R=a._fullLayout;R._shapeUpperLayer.selectAll("path").remove(),R._shapeLowerLayer.selectAll("path").remove(),R._shapeUpperLayer.selectAll("text").remove(),R._shapeLowerLayer.selectAll("text").remove();for(var b in R._plots){var N=R._plots[b].shapelayer;N&&(N.selectAll("path").remove(),N.selectAll("text").remove())}for(var O=0;O<R.shapes.length;O++)R.shapes[O].visible===!0&&y(a,O)}function g(a){return!!a._fullLayout._outlining}function u(a){return!a._context.edits.shapePosition}function y(a,R){a._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+R+'"]').remove();var b=x.makeShapesOptionsAndPlotinfo(a,R),N=b.options,O=b.plotinfo;if(!N._input||N.visible!==!0)return;if(N.layer!=="below")B(a._fullLayout._shapeUpperLayer);else if(N.xref==="paper"||N.yref==="paper")B(a._fullLayout._shapeLowerLayer);else if(O._hadPlotinfo){var Y=O.mainplotinfo||O;B(Y.shapelayer)}else B(a._fullLayout._shapeLowerLayer);function B(W){var H=d(a,N),U={"data-index":R,"fill-rule":N.fillrule,d:H},G=N.opacity,j=N.fillcolor,re=N.line.width?N.line.color:"rgba(0,0,0,0)",ae=N.line.width,ue=N.line.dash;!ae&&N.editable===!0&&(ae=5,ue="solid");var de=H[H.length-1]!=="Z",ee=u(a)&&N.editable&&a._fullLayout._activeShapeIndex===R;ee&&(j=de?"rgba(0,0,0,0)":a._fullLayout.activeshape.fillcolor,G=a._fullLayout.activeshape.opacity);var X=W.append("g").classed("shape-group",!0).attr({"data-index":R}),Q=X.append("path").attr(U).style("opacity",G).call(r.stroke,re).call(r.fill,j).call(l.dashLine,ue,ae);C(X,a,N),m(a,R,N,X);var $;if((ee||a._context.edits.shapePosition)&&($=i(a.layout,"shapes",N)),ee){Q.style({cursor:"move"});var ne={element:Q.node(),plotinfo:O,gd:a,editHelpers:$,hasText:N.label.text||N.label.texttemplate,isActiveShape:!0},fe=w(H,a);p(fe,Q,ne)}else a._context.edits.shapePosition?S(a,Q,N,R,W,$):N.editable===!0&&Q.style("pointer-events",de||r.opacity(j)*G<=.5?"stroke":"all");Q.node().addEventListener("click",function(){return T(a,Q)})}}function C(a,R,b){var N=(b.xref+b.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");l.setClipUrl(a,N?"clip"+R._fullLayout._uid+N:null,R)}function S(a,R,b,N,O,Y){var B=10,W=10,H=b.xsizemode==="pixel",U=b.ysizemode==="pixel",G=b.type==="line",j=b.type==="path",re=Y.modifyItem,ae,ue,de,ee,X,Q,$,ne,fe,te,q,he,se,pe,we,Ee=h.select(R.node().parentNode),Me=L.getFromId(a,b.xref),Be=L.getRefType(b.xref),Ne=L.getFromId(a,b.yref),Ce=L.getRefType(b.yref),Te=x.getDataToPixel(a,Me,!1,Be),Le=x.getDataToPixel(a,Ne,!0,Ce),Ve=x.getPixelToData(a,Me,!1,Be),We=x.getPixelToData(a,Ne,!0,Ce),Fe=qe(),Ge={element:Fe.node(),gd:a,prepFn:vt,doneFn:dt,clickFn:gt},it;f.init(Ge),Fe.node().onmousemove=tt;function qe(){return G?$e():R}function $e(){var Ie=10,Oe=Math.max(b.line.width,Ie),_e=O.append("g").attr("data-index",N).attr("drag-helper",!0);_e.append("path").attr("d",R.attr("d")).style({cursor:"move","stroke-width":Oe,"stroke-opacity":"0"});var Ae={"fill-opacity":"0"},ce=Math.max(Oe/2,Ie);return _e.append("circle").attr({"data-line-point":"start-point",cx:H?Te(b.xanchor)+b.x0:Te(b.x0),cy:U?Le(b.yanchor)-b.y0:Le(b.y0),r:ce}).style(Ae).classed("cursor-grab",!0),_e.append("circle").attr({"data-line-point":"end-point",cx:H?Te(b.xanchor)+b.x1:Te(b.x1),cy:U?Le(b.yanchor)-b.y1:Le(b.y1),r:ce}).style(Ae).classed("cursor-grab",!0),_e}function tt(Ie){if(g(a)){it=null;return}if(G)Ie.target.tagName==="path"?it="move":it=Ie.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Oe=Ge.element.getBoundingClientRect(),_e=Oe.right-Oe.left,Ae=Oe.bottom-Oe.top,ce=Ie.clientX-Oe.left,be=Ie.clientY-Oe.top,Re=!j&&_e>B&&Ae>W&&!Ie.shiftKey?f.getCursor(ce/_e,1-be/Ae):"move";v(R,Re),it=Re.split("-")[0]}}function vt(Ie){g(a)||(H&&(X=Te(b.xanchor)),U&&(Q=Le(b.yanchor)),b.type==="path"?we=b.path:(ae=H?b.x0:Te(b.x0),ue=U?b.y0:Le(b.y0),de=H?b.x1:Te(b.x1),ee=U?b.y1:Le(b.y1)),ae<de?(fe=ae,se="x0",te=de,pe="x1"):(fe=de,se="x1",te=ae,pe="x0"),!U&&ue<ee||U&&ue>ee?($=ue,q="y0",ne=ee,he="y1"):($=ee,q="y1",ne=ue,he="y0"),tt(Ie),Wt(O,b),ke(R,b,a),Ge.moveFn=it==="move"?Mt:Ct,Ge.altKey=Ie.altKey)}function dt(){g(a)||(v(R),Xe(O),C(R,a,b),E.call("_guiRelayout",a,Y.getUpdateObj()))}function gt(){g(a)||Xe(O)}function Mt(Ie,Oe){if(b.type==="path"){var _e=function(be){return be},Ae=_e,ce=_e;H?re("xanchor",b.xanchor=Ve(X+Ie)):(Ae=function(Re){return Ve(Te(Re)+Ie)},Me&&Me.type==="date"&&(Ae=x.encodeDate(Ae))),U?re("yanchor",b.yanchor=We(Q+Oe)):(ce=function(Re){return We(Le(Re)+Oe)},Ne&&Ne.type==="date"&&(ce=x.encodeDate(ce))),re("path",b.path=D(we,Ae,ce))}else H?re("xanchor",b.xanchor=Ve(X+Ie)):(re("x0",b.x0=Ve(ae+Ie)),re("x1",b.x1=Ve(de+Ie))),U?re("yanchor",b.yanchor=We(Q+Oe)):(re("y0",b.y0=We(ue+Oe)),re("y1",b.y1=We(ee+Oe)));R.attr("d",d(a,b)),Wt(O,b),m(a,N,b,Ee)}function Ct(Ie,Oe){if(j){var _e=function(yt){return yt},Ae=_e,ce=_e;H?re("xanchor",b.xanchor=Ve(X+Ie)):(Ae=function(Xt){return Ve(Te(Xt)+Ie)},Me&&Me.type==="date"&&(Ae=x.encodeDate(Ae))),U?re("yanchor",b.yanchor=We(Q+Oe)):(ce=function(Xt){return We(Le(Xt)+Oe)},Ne&&Ne.type==="date"&&(ce=x.encodeDate(ce))),re("path",b.path=D(we,Ae,ce))}else if(G){if(it==="resize-over-start-point"){var be=ae+Ie,Re=U?ue-Oe:ue+Oe;re("x0",b.x0=H?be:Ve(be)),re("y0",b.y0=U?Re:We(Re))}else if(it==="resize-over-end-point"){var Ue=de+Ie,nt=U?ee-Oe:ee+Oe;re("x1",b.x1=H?Ue:Ve(Ue)),re("y1",b.y1=U?nt:We(nt))}}else{var ot=function(yt){return it.indexOf(yt)!==-1},wt=ot("n"),_t=ot("s"),Ut=ot("w"),Vt=ot("e"),Lt=wt?$+Oe:$,Kt=_t?ne+Oe:ne,ar=Ut?fe+Ie:fe,Fr=Vt?te+Ie:te;U&&(wt&&(Lt=$-Oe),_t&&(Kt=ne-Oe)),(!U&&Kt-Lt>W||U&&Lt-Kt>W)&&(re(q,b[q]=U?Lt:We(Lt)),re(he,b[he]=U?Kt:We(Kt))),Fr-ar>B&&(re(se,b[se]=H?ar:Ve(ar)),re(pe,b[pe]=H?Fr:Ve(Fr)))}R.attr("d",d(a,b)),Wt(O,b),m(a,N,b,Ee)}function Wt(Ie,Oe){(H||U)&&_e();function _e(){var Ae=Oe.type!=="path",ce=Ie.selectAll(".visual-cue").data([0]),be=1;ce.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":be}).classed("visual-cue",!0);var Re=Te(H?Oe.xanchor:n.midRange(Ae?[Oe.x0,Oe.x1]:x.extractPathCoords(Oe.path,c.paramIsX))),Ue=Le(U?Oe.yanchor:n.midRange(Ae?[Oe.y0,Oe.y1]:x.extractPathCoords(Oe.path,c.paramIsY)));if(Re=x.roundPositionForSharpStrokeRendering(Re,be),Ue=x.roundPositionForSharpStrokeRendering(Ue,be),H&&U){var nt="M"+(Re-1-be)+","+(Ue-1-be)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ce.attr("d",nt)}else if(H){var ot="M"+(Re-1-be)+","+(Ue-9-be)+"v18 h2 v-18 Z";ce.attr("d",ot)}else{var wt="M"+(Re-9-be)+","+(Ue-1-be)+"h18 v2 h-18 Z";ce.attr("d",wt)}}}function Xe(Ie){Ie.selectAll(".visual-cue").remove()}function ke(Ie,Oe,_e){var Ae=Oe.xref,ce=Oe.yref,be=L.getFromId(_e,Ae),Re=L.getFromId(_e,ce),Ue="";Ae!=="paper"&&!be.autorange&&(Ue+=Ae),ce!=="paper"&&!Re.autorange&&(Ue+=ce),l.setClipUrl(Ie,Ue?"clip"+_e._fullLayout._uid+Ue:null,_e)}}function D(a,R,b){return a.replace(c.segmentRE,function(N){var O=0,Y=N.charAt(0),B=c.paramIsX[Y],W=c.paramIsY[Y],H=c.numParams[Y],U=N.substr(1).replace(c.paramRE,function(G){return O>=H||(B[O]?G=R(G):W[O]&&(G=b(G)),O++),G});return Y+U})}function T(a,R){if(u(a)){var b=R.node(),N=+b.getAttribute("data-index");if(N>=0){if(N===a._fullLayout._activeShapeIndex){P(a);return}a._fullLayout._activeShapeIndex=N,a._fullLayout._deactivateShape=P,M(a)}}}function P(a){if(u(a)){var R=a._fullLayout._activeShapeIndex;R>=0&&(t(a),delete a._fullLayout._activeShapeIndex,M(a))}}function A(a){if(u(a)){t(a);var R=a._fullLayout._activeShapeIndex,b=(a.layout||{}).shapes||[];if(R<b.length){for(var N=[],O=0;O<b.length;O++)O!==R&&N.push(b[O]);return delete a._fullLayout._activeShapeIndex,E.call("_guiRelayout",a,{shapes:N})}}}},29241:function(k,F,e){var h=e(30962).overrideAll,E=e(9012),n=e(41940),L=e(79952).P,w=e(1426).extendFlat,p=e(5386).R,m=e(37281);k.exports=h({newshape:{visible:w({},E.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:w({},E.legend,{}),legendgroup:w({},E.legendgroup,{}),legendgrouptitle:{text:w({},E.legendgrouptitle.text,{}),font:n({})},legendrank:w({},E.legendrank,{}),legendwidth:w({},E.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:w({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:w({},E.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:p({newshape:!0},{keys:Object.keys(m)}),font:n({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(k){var F=32;k.exports={CIRCLE_SIDES:F,i000:0,i090:F/4,i180:F/2,i270:F/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(k,F,e){var h=e(7901),E=e(71828);function n(L,w){return L?"bottom":w.indexOf("top")!==-1?"top":w.indexOf("bottom")!==-1?"bottom":"middle"}k.exports=function(w,p,m){m("newshape.visible"),m("newshape.name"),m("newshape.showlegend"),m("newshape.legend"),m("newshape.legendwidth"),m("newshape.legendgroup"),m("newshape.legendgrouptitle.text"),E.coerceFont(m,"newshape.legendgrouptitle.font"),m("newshape.legendrank"),m("newshape.drawdirection"),m("newshape.layer"),m("newshape.fillcolor"),m("newshape.fillrule"),m("newshape.opacity");var t=m("newshape.line.width");if(t){var r=(w||{}).plot_bgcolor||"#FFF";m("newshape.line.color",h.contrast(r)),m("newshape.line.dash")}var l=w.dragmode==="drawline",i=m("newshape.label.text"),f=m("newshape.label.texttemplate");if(i||f){m("newshape.label.textangle");var v=m("newshape.label.textposition",l?"middle":"middle center");m("newshape.label.xanchor"),m("newshape.label.yanchor",n(l,v)),m("newshape.label.padding"),E.coerceFont(m,"newshape.label.font",p.font)}m("activeshape.fillcolor"),m("activeshape.opacity")}},60165:function(k,F,e){var h=e(95616),E=e(89995),n=E.CIRCLE_SIDES,L=E.SQRT2,w=e(75549),p=w.p2r,m=w.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];F.writePaths=function(f){var v=f.length;if(!v)return"M0,0Z";for(var c="",x=0;x<v;x++)for(var d=f[x].length,M=0;M<d;M++){var g=f[x][M][0];if(g==="Z")c+="Z";else for(var u=f[x][M].length,y=0;y<u;y++){var C=y;g==="Q"||g==="S"?C=r[y]:g==="C"&&(C=t[y]),c+=f[x][M][C],y>0&&y<u-1&&(c+=",")}}return c},F.readPaths=function(f,v,c,x){var d=h(f),M=[],g=-1,u=function(){g++,M[g]=[]},y,C=0,S=0,D,T,P=function(){D=C,T=S};P();for(var A=0;A<d.length;A++){var a=[],R,b,N,O,Y=d[A][0],B=Y;switch(Y){case"M":u(),C=+d[A][1],S=+d[A][2],a.push([B,C,S]),P();break;case"Q":case"S":R=+d[A][1],N=+d[A][2],C=+d[A][3],S=+d[A][4],a.push([B,C,S,R,N]);break;case"C":R=+d[A][1],N=+d[A][2],b=+d[A][3],O=+d[A][4],C=+d[A][5],S=+d[A][6],a.push([B,C,S,R,N,b,O]);break;case"T":case"L":C=+d[A][1],S=+d[A][2],a.push([B,C,S]);break;case"H":B="L",C=+d[A][1],a.push([B,C,S]);break;case"V":B="L",S=+d[A][1],a.push([B,C,S]);break;case"A":B="L";var W=+d[A][1],H=+d[A][2];+d[A][4]||(W=-W,H=-H);var U=C-W,G=S;for(y=1;y<=n/2;y++){var j=2*Math.PI*y/n;a.push([B,U+W*Math.cos(j),G+H*Math.sin(j)])}break;case"Z":(C!==D||S!==T)&&(C=D,S=T,a.push([B,C,S]));break}for(var re=(c||{}).domain,ae=v._fullLayout._size,ue=c&&c.xsizemode==="pixel",de=c&&c.ysizemode==="pixel",ee=x===!1,X=0;X<a.length;X++){for(y=0;y+2<7;y+=2){var Q=a[X][y+1],$=a[X][y+2];Q===void 0||$===void 0||(C=Q,S=$,c&&(c.xaxis&&c.xaxis.p2r?(ee&&(Q-=c.xaxis._offset),ue?Q=m(c.xaxis,c.xanchor)+Q:Q=p(c.xaxis,Q)):(ee&&(Q-=ae.l),re?Q=re.x[0]+Q/ae.w:Q=Q/ae.w),c.yaxis&&c.yaxis.p2r?(ee&&($-=c.yaxis._offset),de?$=m(c.yaxis,c.yanchor)-$:$=p(c.yaxis,$)):(ee&&($-=ae.t),re?$=re.y[1]-$/ae.h:$=1-$/ae.h)),a[X][y+1]=Q,a[X][y+2]=$)}M[g].push(a[X].slice())}}return M};function l(f,v){return Math.abs(f-v)<=1e-6}function i(f,v){var c=v[1]-f[1],x=v[2]-f[2];return Math.sqrt(c*c+x*x)}F.pointsOnRectangle=function(f){var v=f.length;if(v!==5)return!1;for(var c=1;c<3;c++){var x=f[0][c]-f[1][c],d=f[3][c]-f[2][c];if(!l(x,d))return!1;var M=f[0][c]-f[3][c],g=f[1][c]-f[2][c];if(!l(M,g))return!1}return!l(f[0][1],f[1][1])&&!l(f[0][1],f[3][1])?!1:!!(i(f[0],f[1])*i(f[0],f[3]))},F.pointsOnEllipse=function(f){var v=f.length;if(v!==n+1)return!1;v=n;for(var c=0;c<v;c++){var x=(v*2-c)%v,d=(v/2+x)%v,M=(v/2+c)%v;if(!l(i(f[c],f[M]),i(f[x],f[d])))return!1}return!0},F.handleEllipse=function(f,v,c){if(!f)return[v,c];var x=F.ellipseOver({x0:v[0],y0:v[1],x1:c[0],y1:c[1]}),d=(x.x1+x.x0)/2,M=(x.y1+x.y0)/2,g=(x.x1-x.x0)/2,u=(x.y1-x.y0)/2;g||(g=u=u/L),u||(u=g=g/L);for(var y=[],C=0;C<n;C++){var S=C*2*Math.PI/n;y.push([d+g*Math.cos(S),M+u*Math.sin(S)])}return y},F.ellipseOver=function(f){var v=f.x0,c=f.y0,x=f.x1,d=f.y1,M=x-v,g=d-c;v-=M,c-=g;var u=(v+x)/2,y=(c+d)/2,C=L;return M*=C,g*=C,{x0:u-M,y0:y-g,x1:u+M,y1:y+g}},F.fixDatesForPaths=function(f,v,c){var x=v.type==="date",d=c.type==="date";if(!x&&!d)return f;for(var M=0;M<f.length;M++)for(var g=0;g<f[M].length;g++)for(var u=0;u+2<f[M][g].length;u+=2)x&&(f[M][g][u+1]=f[M][g][u+1].replace(" ","_")),d&&(f[M][g][u+2]=f[M][g][u+2].replace(" ","_"));return f}},90551:function(k,F,e){var h=e(64505),E=h.drawMode,n=h.openMode,L=e(89995),w=L.i000,p=L.i090,m=L.i180,t=L.i270,r=L.cos45,l=L.sin45,i=e(75549),f=i.p2r,v=i.r2p,c=e(51873),x=c.clearOutline,d=e(60165),M=d.readPaths,g=d.writePaths,u=d.ellipseOver,y=d.fixDatesForPaths;function C(D,T){if(D.length){var P=D[0][0];if(P){var A=T.gd,a=T.isActiveShape,R=T.dragmode,b=(A.layout||{}).shapes||[];if(!E(R)&&a!==void 0){var N=A._fullLayout._activeShapeIndex;if(N<b.length)switch(A._fullLayout.shapes[N].type){case"rect":R="drawrect";break;case"circle":R="drawcircle";break;case"line":R="drawline";break;case"path":var O=b[N].path||"";O[O.length-1]==="Z"?R="drawclosedpath":R="drawopenpath";break}}var Y=S(D,T,R);x(A);for(var B=T.editHelpers,W=(B||{}).modifyItem,H=[],U=0;U<b.length;U++){var G=A._fullLayout.shapes[U];if(H[U]=G._input,a!==void 0&&U===A._fullLayout._activeShapeIndex){var j=Y;switch(G.type){case"line":case"rect":case"circle":W("x0",j.x0),W("x1",j.x1),W("y0",j.y0),W("y1",j.y1);break;case"path":W("path",j.path);break}}}return a===void 0?(H.push(Y),H):B?B.getUpdateObj():{}}}}function S(D,T,P){var A=D[0][0],a=T.gd,R=A.getAttribute("d"),b=a._fullLayout.newshape,N=T.plotinfo,O=T.isActiveShape,Y=N.xaxis,B=N.yaxis,W=!!N.domain||!N.xaxis,H=!!N.domain||!N.yaxis,U=n(P),G=M(R,a,N,O),j={editable:!0,visible:b.visible,name:b.name,showlegend:b.showlegend,legend:b.legend,legendwidth:b.legendwidth,legendgroup:b.legendgroup,legendgrouptitle:{text:b.legendgrouptitle.text,font:b.legendgrouptitle.font},legendrank:b.legendrank,label:b.label,xref:W?"paper":Y._id,yref:H?"paper":B._id,layer:b.layer,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};U||(j.fillcolor=b.fillcolor,j.fillrule=b.fillrule);var re;if(G.length===1&&(re=G[0]),re&&re.length===5&&P==="drawrect")j.type="rect",j.x0=re[0][1],j.y0=re[0][2],j.x1=re[2][1],j.y1=re[2][2];else if(re&&P==="drawline")j.type="line",j.x0=re[0][1],j.y0=re[0][2],j.x1=re[1][1],j.y1=re[1][2];else if(re&&P==="drawcircle"){j.type="circle";var ae=re[w][1],ue=re[p][1],de=re[m][1],ee=re[t][1],X=re[w][2],Q=re[p][2],$=re[m][2],ne=re[t][2],fe=N.xaxis&&(N.xaxis.type==="date"||N.xaxis.type==="log"),te=N.yaxis&&(N.yaxis.type==="date"||N.yaxis.type==="log");fe&&(ae=v(N.xaxis,ae),ue=v(N.xaxis,ue),de=v(N.xaxis,de),ee=v(N.xaxis,ee)),te&&(X=v(N.yaxis,X),Q=v(N.yaxis,Q),$=v(N.yaxis,$),ne=v(N.yaxis,ne));var q=(ue+ee)/2,he=(X+$)/2,se=(ee-ue+de-ae)/2,pe=(ne-Q+$-X)/2,we=u({x0:q,y0:he,x1:q+se*r,y1:he+pe*l});fe&&(we.x0=f(N.xaxis,we.x0),we.x1=f(N.xaxis,we.x1)),te&&(we.y0=f(N.yaxis,we.y0),we.y1=f(N.yaxis,we.y1)),j.x0=we.x0,j.y0=we.y0,j.x1=we.x1,j.y1=we.y1}else j.type="path",Y&&B&&y(G,Y,B),j.path=g(G),re=null;return j}k.exports={newShapes:C,createShapeObj:S}},51873:function(k){function F(h){var E=h._fullLayout._zoomlayer;E&&E.selectAll(".outline-controllers").remove()}function e(h){var E=h._fullLayout._zoomlayer;E&&E.selectAll(".select-outline").remove(),h._fullLayout._outlining=!1}k.exports={clearOutlineControllers:F,clearOutline:e}},30477:function(k,F,e){var h=e(21459),E=e(71828),n=e(89298);F.rangeToShapePosition=function(w){return w.type==="log"?w.r2d:function(p){return p}},F.shapePositionToRange=function(w){return w.type==="log"?w.d2r:function(p){return p}},F.decodeDate=function(w){return function(p){return p.replace&&(p=p.replace("_"," ")),w(p)}},F.encodeDate=function(w){return function(p){return w(p).replace(" ","_")}},F.extractPathCoords=function(w,p,m){var t=[],r=w.match(h.segmentRE);return r.forEach(function(l){var i=p[l.charAt(0)].drawn;if(i!==void 0){var f=l.substr(1).match(h.paramRE);if(!(!f||f.length<i)){var v=f[i],c=m?v:E.cleanNumber(v);t.push(c)}}}),t},F.getDataToPixel=function(w,p,m,t){var r=w._fullLayout._size,l;if(p)if(t==="domain")l=function(f){return p._length*(m?1-f:f)+p._offset};else{var i=F.shapePositionToRange(p);l=function(f){return p._offset+p.r2p(i(f,!0))},p.type==="date"&&(l=F.decodeDate(l))}else m?l=function(f){return r.t+r.h*(1-f)}:l=function(f){return r.l+r.w*f};return l},F.getPixelToData=function(w,p,m,t){var r=w._fullLayout._size,l;if(p)if(t==="domain")l=function(f){var v=(f-p._offset)/p._length;return m?1-v:v};else{var i=F.rangeToShapePosition(p);l=function(f){return i(p.p2r(f-p._offset))}}else m?l=function(f){return 1-(f-r.t)/r.h}:l=function(f){return(f-r.l)/r.w};return l},F.roundPositionForSharpStrokeRendering=function(w,p){var m=Math.round(p%2)===1,t=Math.round(w);return m?t+.5:t},F.makeShapesOptionsAndPlotinfo=function(w,p){var m=w._fullLayout.shapes[p]||{},t=w._fullLayout._plots[m.xref+m.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},m.xref&&m.xref!=="paper"&&(t.xaxis=w._fullLayout[m.xref+"axis"]),m.yref&&m.yref!=="paper"&&(t.yaxis=w._fullLayout[m.yref+"axis"])),t.xsizemode=m.xsizemode,t.ysizemode=m.ysizemode,t.xanchor=m.xanchor,t.yanchor=m.yanchor,{options:m,plotinfo:t}},F.makeSelectionsOptionsAndPlotinfo=function(w,p){var m=w._fullLayout.selections[p]||{},t=w._fullLayout._plots[m.xref+m.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},m.xref&&(t.xaxis=w._fullLayout[m.xref+"axis"]),m.yref&&(t.yaxis=w._fullLayout[m.yref+"axis"])),{options:m,plotinfo:t}},F.getPathString=function(w,p){var m=p.type,t=n.getRefType(p.xref),r=n.getRefType(p.yref),l=n.getFromId(w,p.xref),i=n.getFromId(w,p.yref),f=w._fullLayout._size,v,c,x,d,M,g,u,y;if(l?t==="domain"?c=function(N){return l._offset+l._length*N}:(v=F.shapePositionToRange(l),c=function(N){return l._offset+l.r2p(v(N,!0))}):c=function(N){return f.l+f.w*N},i?r==="domain"?d=function(N){return i._offset+i._length*(1-N)}:(x=F.shapePositionToRange(i),d=function(N){return i._offset+i.r2p(x(N,!0))}):d=function(N){return f.t+f.h*(1-N)},m==="path")return l&&l.type==="date"&&(c=F.decodeDate(c)),i&&i.type==="date"&&(d=F.decodeDate(d)),L(p,c,d);if(p.xsizemode==="pixel"){var C=c(p.xanchor);M=C+p.x0,g=C+p.x1}else M=c(p.x0),g=c(p.x1);if(p.ysizemode==="pixel"){var S=d(p.yanchor);u=S-p.y0,y=S-p.y1}else u=d(p.y0),y=d(p.y1);if(m==="line")return"M"+M+","+u+"L"+g+","+y;if(m==="rect")return"M"+M+","+u+"H"+g+"V"+y+"H"+M+"Z";var D=(M+g)/2,T=(u+y)/2,P=Math.abs(D-M),A=Math.abs(T-u),a="A"+P+","+A,R=D+P+","+T,b=D+","+(T-A);return"M"+R+a+" 0 1,1 "+b+a+" 0 0,1 "+R+"Z"};function L(w,p,m){var t=w.path,r=w.xsizemode,l=w.ysizemode,i=w.xanchor,f=w.yanchor;return t.replace(h.segmentRE,function(v){var c=0,x=v.charAt(0),d=h.paramIsX[x],M=h.paramIsY[x],g=h.numParams[x],u=v.substr(1).replace(h.paramRE,function(y){return d[c]?r==="pixel"?y=p(i)+Number(y):y=p(y):M[c]&&(l==="pixel"?y=m(f)-Number(y):y=m(y)),c++,c>g&&(y="X"),y});return c>g&&(u=u.replace(/[\s,]*X.*/,""),E.log("Ignoring extra params in segment "+v)),x+u})}},89853:function(k,F,e){var h=e(34031);k.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:h.draw,drawOne:h.drawOne}},37281:function(k){function F(v,c){return c?c.d2l(v):v}function e(v,c){return c?c.l2d(v):v}function h(v){return v.x0}function E(v){return v.x1}function n(v){return v.y0}function L(v){return v.y1}function w(v,c){return F(v.x1,c)-F(v.x0,c)}function p(v,c,x){return F(v.y1,x)-F(v.y0,x)}function m(v,c){return Math.abs(w(v,c))}function t(v,c,x){return Math.abs(p(v,c,x))}function r(v,c,x){return v.type!=="line"?void 0:Math.sqrt(Math.pow(w(v,c),2)+Math.pow(p(v,c,x),2))}function l(v,c){return e((F(v.x1,c)+F(v.x0,c))/2,c)}function i(v,c,x){return e((F(v.y1,x)+F(v.y0,x))/2,x)}function f(v,c,x){return v.type!=="line"?void 0:p(v,c,x)/w(v,c)}k.exports={x0:h,x1:E,y0:n,y1:L,slope:f,dx:w,dy:p,width:m,height:t,length:r,xcenter:l,ycenter:i}},75067:function(k,F,e){var h=e(41940),E=e(35025),n=e(1426).extendDeepAll,L=e(30962).overrideAll,w=e(85594),p=e(44467).templatedArray,m=e(98292),t=p("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});k.exports=L(p("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(E({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:w.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:h({})},font:h({}),activebgcolor:{valType:"color",dflt:m.gripBgActiveColor},bgcolor:{valType:"color",dflt:m.railBgColor},bordercolor:{valType:"color",dflt:m.railBorderColor},borderwidth:{valType:"number",min:0,dflt:m.railBorderWidth},ticklen:{valType:"number",min:0,dflt:m.tickLength},tickcolor:{valType:"color",dflt:m.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:m.minorTickLength}}),"arraydraw","from-root")},98292:function(k){k.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(k,F,e){var h=e(71828),E=e(85501),n=e(75067),L=e(98292),w=L.name,p=n.steps;k.exports=function(l,i){E(l,i,{name:w,handleItemDefaults:m})};function m(r,l,i){function f(y,C){return h.coerce(r,l,n,y,C)}for(var v=E(r,l,{name:"steps",handleItemDefaults:t}),c=0,x=0;x<v.length;x++)v[x].visible&&c++;var d;if(c<2?d=l.visible=!1:d=f("visible"),!!d){l._stepCount=c;var M=l._visibleSteps=h.filterVisible(v),g=f("active");(v[g]||{}).visible||(l.active=M[0]._index),f("x"),f("y"),h.noneOrAll(r,l,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),h.coerceFont(f,"font",i.font);var u=f("currentvalue.visible");u&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),h.coerceFont(f,"currentvalue.font",l.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function t(r,l){function i(c,x){return h.coerce(r,l,p,c,x)}var f;if(r.method!=="skip"&&!Array.isArray(r.args)?f=l.visible=!1:f=i("visible"),f){i("method"),i("args");var v=i("label","step-"+l._index);i("value",v),i("execute")}}},44504:function(k,F,e){var h=e(39898),E=e(74875),n=e(7901),L=e(91424),w=e(71828),p=w.strTranslate,m=e(63893),t=e(44467).arrayEditor,r=e(98292),l=e(18783),i=l.LINE_SPACING,f=l.FROM_TL,v=l.FROM_BR;k.exports=function(W){var H=W._context.staticPlot,U=W._fullLayout,G=x(U,W),j=U._infolayer.selectAll("g."+r.containerClassName).data(G.length>0?[0]:[]);j.enter().append("g").classed(r.containerClassName,!0).style("cursor",H?null:"ew-resize");function re(ee){ee._commandObserver&&(ee._commandObserver.remove(),delete ee._commandObserver),E.autoMargin(W,c(ee))}if(j.exit().each(function(){h.select(this).selectAll("g."+r.groupClassName).each(re)}).remove(),G.length!==0){var ae=j.selectAll("g."+r.groupClassName).data(G,d);ae.enter().append("g").classed(r.groupClassName,!0),ae.exit().each(re).remove();for(var ue=0;ue<G.length;ue++){var de=G[ue];M(W,de)}ae.each(function(ee){var X=h.select(this);a(ee),E.manageCommandObserver(W,ee,ee._visibleSteps,function(Q){var $=X.data()[0];$.active!==Q.index&&($._dragging||T(W,X,$,Q.index,!1,!0))}),g(W,h.select(this),ee)})}};function c(B){return r.autoMarginIdRoot+B._index}function x(B,W){for(var H=B[r.name],U=[],G=0;G<H.length;G++){var j=H[G];j.visible&&(j._gd=W,U.push(j))}return U}function d(B){return B._index}function M(B,W){var H=L.tester.selectAll("g."+r.labelGroupClass).data(W._visibleSteps);H.enter().append("g").classed(r.labelGroupClass,!0);var U=0,G=0;H.each(function(ne){var fe=h.select(this),te=C(fe,{step:ne},W),q=te.node();if(q){var he=L.bBox(q);G=Math.max(G,he.height),U=Math.max(U,he.width)}}),H.remove();var j=W._dims={};j.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var re=B._fullLayout._size;j.lx=re.l+re.w*W.x,j.ly=re.t+re.h*(1-W.y),W.lenmode==="fraction"?j.outerLength=Math.round(re.w*W.len):j.outerLength=W.len,j.inputAreaStart=0,j.inputAreaLength=Math.round(j.outerLength-W.pad.l-W.pad.r);var ae=j.inputAreaLength-2*r.stepInset,ue=ae/(W._stepCount-1),de=U+r.labelPadding;if(j.labelStride=Math.max(1,Math.ceil(de/ue)),j.labelHeight=G,j.currentValueMaxWidth=0,j.currentValueHeight=0,j.currentValueTotalHeight=0,j.currentValueMaxLines=1,W.currentvalue.visible){var ee=L.tester.append("g");H.each(function(ne){var fe=u(ee,W,ne.label),te=fe.node()&&L.bBox(fe.node())||{width:0,height:0},q=m.lineCount(fe);j.currentValueMaxWidth=Math.max(j.currentValueMaxWidth,Math.ceil(te.width)),j.currentValueHeight=Math.max(j.currentValueHeight,Math.ceil(te.height)),j.currentValueMaxLines=Math.max(j.currentValueMaxLines,q)}),j.currentValueTotalHeight=j.currentValueHeight+W.currentvalue.offset,ee.remove()}j.height=j.currentValueTotalHeight+r.tickOffset+W.ticklen+r.labelOffset+j.labelHeight+W.pad.t+W.pad.b;var X="left";w.isRightAnchor(W)&&(j.lx-=j.outerLength,X="right"),w.isCenterAnchor(W)&&(j.lx-=j.outerLength/2,X="center");var Q="top";w.isBottomAnchor(W)&&(j.ly-=j.height,Q="bottom"),w.isMiddleAnchor(W)&&(j.ly-=j.height/2,Q="middle"),j.outerLength=Math.ceil(j.outerLength),j.height=Math.ceil(j.height),j.lx=Math.round(j.lx),j.ly=Math.round(j.ly);var $={y:W.y,b:j.height*v[Q],t:j.height*f[Q]};W.lenmode==="fraction"?($.l=0,$.xl=W.x-W.len*f[X],$.r=0,$.xr=W.x+W.len*v[X]):($.x=W.x,$.l=j.outerLength*f[X],$.r=j.outerLength*v[X]),E.autoMargin(B,c(W),$)}function g(B,W,H){(H.steps[H.active]||{}).visible||(H.active=H._visibleSteps[0]._index),W.call(u,H).call(Y,H).call(S,H).call(A,H).call(O,B,H).call(y,B,H);var U=H._dims;L.setTranslate(W,U.lx+H.pad.l,U.ly+H.pad.t),W.call(R,H,!1),W.call(u,H)}function u(B,W,H){if(W.currentvalue.visible){var U=W._dims,G,j;switch(W.currentvalue.xanchor){case"right":G=U.inputAreaLength-r.currentValueInset-U.currentValueMaxWidth,j="left";break;case"center":G=U.inputAreaLength*.5,j="middle";break;default:G=r.currentValueInset,j="left"}var re=w.ensureSingle(B,"text",r.labelClass,function(Q){Q.attr({"text-anchor":j,"data-notex":1})}),ae=W.currentvalue.prefix?W.currentvalue.prefix:"";if(typeof H=="string")ae+=H;else{var ue=W.steps[W.active].label,de=W._gd._fullLayout._meta;de&&(ue=w.templateString(ue,de)),ae+=ue}W.currentvalue.suffix&&(ae+=W.currentvalue.suffix),re.call(L.font,W.currentvalue.font).text(ae).call(m.convertToTspans,W._gd);var ee=m.lineCount(re),X=(U.currentValueMaxLines+1-ee)*W.currentvalue.font.size*i;return m.positionText(re,G,X),re}}function y(B,W,H){var U=w.ensureSingle(B,"rect",r.gripRectClass,function(G){G.call(P,W,B,H).style("pointer-events","all")});U.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(n.stroke,H.bordercolor).call(n.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px")}function C(B,W,H){var U=w.ensureSingle(B,"text",r.labelClass,function(re){re.attr({"text-anchor":"middle","data-notex":1})}),G=W.step.label,j=H._gd._fullLayout._meta;return j&&(G=w.templateString(G,j)),U.call(L.font,H.font).text(G).call(m.convertToTspans,H._gd),U}function S(B,W){var H=w.ensureSingle(B,"g",r.labelsClass),U=W._dims,G=H.selectAll("g."+r.labelGroupClass).data(U.labelSteps);G.enter().append("g").classed(r.labelGroupClass,!0),G.exit().remove(),G.each(function(j){var re=h.select(this);re.call(C,j,W),L.setTranslate(re,b(W,j.fraction),r.tickOffset+W.ticklen+W.font.size*i+r.labelOffset+U.currentValueTotalHeight)})}function D(B,W,H,U,G){var j=Math.round(U*(H._stepCount-1)),re=H._visibleSteps[j]._index;re!==H.active&&T(B,W,H,re,!0,G)}function T(B,W,H,U,G,j){var re=H.active;H.active=U,t(B.layout,r.name,H).applyUpdate("active",U);var ae=H.steps[H.active];W.call(R,H,j),W.call(u,H),B.emit("plotly_sliderchange",{slider:H,step:H.steps[H.active],interaction:G,previousActive:re}),ae&&ae.method&&G&&(W._nextMethod?(W._nextMethod.step=ae,W._nextMethod.doCallback=G,W._nextMethod.doTransition=j):(W._nextMethod={step:ae,doCallback:G,doTransition:j},W._nextMethodRaf=window.requestAnimationFrame(function(){var ue=W._nextMethod.step;ue.method&&(ue.execute&&E.executeAPICommand(B,ue.method,ue.args),W._nextMethod=null,W._nextMethodRaf=null)})))}function P(B,W,H){if(W._context.staticPlot)return;var U=H.node(),G=h.select(W);function j(){return H.data()[0]}function re(){var ae=j();W.emit("plotly_sliderstart",{slider:ae});var ue=H.select("."+r.gripRectClass);h.event.stopPropagation(),h.event.preventDefault(),ue.call(n.fill,ae.activebgcolor);var de=N(ae,h.mouse(U)[0]);D(W,H,ae,de,!0),ae._dragging=!0;function ee(){var Q=j(),$=N(Q,h.mouse(U)[0]);D(W,H,Q,$,!1)}G.on("mousemove",ee),G.on("touchmove",ee);function X(){var Q=j();Q._dragging=!1,ue.call(n.fill,Q.bgcolor),G.on("mouseup",null),G.on("mousemove",null),G.on("touchend",null),G.on("touchmove",null),W.emit("plotly_sliderend",{slider:Q,step:Q.steps[Q.active]})}G.on("mouseup",X),G.on("touchend",X)}B.on("mousedown",re),B.on("touchstart",re)}function A(B,W){var H=B.selectAll("rect."+r.tickRectClass).data(W._visibleSteps),U=W._dims;H.enter().append("rect").classed(r.tickRectClass,!0),H.exit().remove(),H.attr({width:W.tickwidth+"px","shape-rendering":"crispEdges"}),H.each(function(G,j){var re=j%U.labelStride===0,ae=h.select(this);ae.attr({height:re?W.ticklen:W.minorticklen}).call(n.fill,W.tickcolor),L.setTranslate(ae,b(W,j/(W._stepCount-1))-.5*W.tickwidth,(re?r.tickOffset:r.minorTickOffset)+U.currentValueTotalHeight)})}function a(B){var W=B._dims;W.labelSteps=[];for(var H=B._stepCount,U=0;U<H;U+=W.labelStride)W.labelSteps.push({fraction:U/(H-1),step:B._visibleSteps[U]})}function R(B,W,H){for(var U=B.select("rect."+r.gripRectClass),G=0,j=0;j<W._stepCount;j++)if(W._visibleSteps[j]._index===W.active){G=j;break}var re=b(W,G/(W._stepCount-1));if(!W._invokingCommand){var ae=U;H&&W.transition.duration>0&&(ae=ae.transition().duration(W.transition.duration).ease(W.transition.easing)),ae.attr("transform",p(re-r.gripWidth*.5,W._dims.currentValueTotalHeight))}}function b(B,W){var H=B._dims;return H.inputAreaStart+r.stepInset+(H.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,W))}function N(B,W){var H=B._dims;return Math.min(1,Math.max(0,(W-r.stepInset-H.inputAreaStart)/(H.inputAreaLength-2*r.stepInset-2*H.inputAreaStart)))}function O(B,W,H){var U=H._dims,G=w.ensureSingle(B,"rect",r.railTouchRectClass,function(j){j.call(P,W,B,H).style("pointer-events","all")});G.attr({width:U.inputAreaLength,height:Math.max(U.inputAreaWidth,r.tickOffset+H.ticklen+U.labelHeight)}).call(n.fill,H.bgcolor).attr("opacity",0),L.setTranslate(G,0,U.currentValueTotalHeight)}function Y(B,W){var H=W._dims,U=H.inputAreaLength-r.railInset*2,G=w.ensureSingle(B,"rect",r.railRectClass);G.attr({width:U,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,W.bordercolor).call(n.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px"),L.setTranslate(G,r.railInset,(H.inputAreaWidth-r.railWidth)*.5+H.currentValueTotalHeight)}},23243:function(k,F,e){var h=e(98292);k.exports={moduleType:"component",name:h.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(k,F,e){var h=e(39898),E=e(92770),n=e(74875),L=e(73972),w=e(71828),p=w.strTranslate,m=e(91424),t=e(7901),r=e(63893),l=e(37822),i=e(18783).OPPOSITE_SIDE,f=/ [XY][0-9]* /;function v(c,x,d){var M=d.propContainer,g=d.propName,u=d.placeholder,y=d.traceIndex,C=d.avoid||{},S=d.attributes,D=d.transform,T=d.containerGroup,P=c._fullLayout,A=1,a=!1,R=M.title,b=(R&&R.text?R.text:"").trim(),N=R&&R.font?R.font:{},O=N.family,Y=N.size,B=N.color,W;g==="title.text"?W="titleText":g.indexOf("axis")!==-1?W="axisTitleText":g.indexOf("colorbar"!==-1)&&(W="colorbarTitleText");var H=c._context.edits[W];b===""?A=0:b.replace(f," % ")===u.replace(f," % ")&&(A=.2,a=!0,H||(b="")),d._meta?b=w.templateString(b,d._meta):P._meta&&(b=w.templateString(b,P._meta));var U=b||H,G;T||(T=w.ensureSingle(P._infolayer,"g","g-"+x),G=P._hColorbarMoveTitle);var j=T.selectAll("text").data(U?[0]:[]);if(j.enter().append("text"),j.text(b).attr("class",x),j.exit().remove(),!U)return T;function re(ee){w.syncOrAsync([ae,ue],ee)}function ae(ee){var X;return!D&&G&&(D={}),D?(X="",D.rotate&&(X+="rotate("+[D.rotate,S.x,S.y]+")"),(D.offset||G)&&(X+=p(0,(D.offset||0)-(G||0)))):X=null,ee.attr("transform",X),ee.style({"font-family":O,"font-size":h.round(Y,2)+"px",fill:t.rgb(B),opacity:A*t.opacity(B),"font-weight":n.fontWeight}).attr(S).call(r.convertToTspans,c),n.previousPromises(c)}function ue(ee){var X=h.select(ee.node().parentNode);if(C&&C.selection&&C.side&&b){X.attr("transform",null);var Q=i[C.side],$=C.side==="left"||C.side==="top"?-1:1,ne=E(C.pad)?C.pad:2,fe=m.bBox(X.node()),te={t:0,b:0,l:0,r:0},q=c._fullLayout._reservedMargin;for(var he in q)for(var se in q[he]){var pe=q[he][se];te[se]=Math.max(te[se],pe)}var we={left:te.l,top:te.t,right:P.width-te.r,bottom:P.height-te.b},Ee=C.maxShift||$*(we[C.side]-fe[C.side]),Me=0;if(Ee<0)Me=Ee;else{var Be=C.offsetLeft||0,Ne=C.offsetTop||0;fe.left-=Be,fe.right-=Be,fe.top-=Ne,fe.bottom-=Ne,C.selection.each(function(){var Te=m.bBox(this);w.bBoxIntersect(fe,Te,ne)&&(Me=Math.max(Me,$*(Te[C.side]-fe[Q])+ne))}),Me=Math.min(Ee,Me),M._titleScoot=Math.abs(Me)}if(Me>0||Ee<0){var Ce={left:[-Me,0],right:[Me,0],top:[0,-Me],bottom:[0,Me]}[C.side];X.attr("transform",p(Ce[0],Ce[1]))}}}j.call(re);function de(){A=0,a=!0,j.text(u).on("mouseover.opacity",function(){h.select(this).transition().duration(l.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){h.select(this).transition().duration(l.HIDE_PLACEHOLDER).style("opacity",0)})}return H&&(b?j.on(".opacity",null):de(),j.call(r.makeEditable,{gd:c}).on("edit",function(ee){y!==void 0?L.call("_guiRestyle",c,g,ee,y):L.call("_guiRelayout",c,g,ee)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(re)}).on("input",function(ee){this.text(ee||" ").call(r.positionText,S.x,S.y)})),j.classed("js-placeholder",a),T}k.exports={draw:v}},7163:function(k,F,e){var h=e(41940),E=e(22399),n=e(1426).extendFlat,L=e(30962).overrideAll,w=e(35025),p=e(44467).templatedArray,m=p("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});k.exports=L(p("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:m,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(w({editType:"arraydraw"}),{}),font:h({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:E.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(k){k.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},64897:function(k,F,e){var h=e(71828),E=e(85501),n=e(7163),L=e(75909),w=L.name,p=n.buttons;k.exports=function(l,i){var f={name:w,handleItemDefaults:m};E(l,i,f)};function m(r,l,i){function f(x,d){return h.coerce(r,l,n,x,d)}var v=E(r,l,{name:"buttons",handleItemDefaults:t}),c=f("visible",v.length>0);c&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),h.noneOrAll(r,l,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),h.coerceFont(f,"font",i.font),f("bgcolor",i.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function t(r,l){function i(v,c){return h.coerce(r,l,p,v,c)}var f=i("visible",r.method==="skip"||Array.isArray(r.args));f&&(i("method"),i("args"),i("args2"),i("label"),i("execute"))}},13689:function(k,F,e){var h=e(39898),E=e(74875),n=e(7901),L=e(91424),w=e(71828),p=e(63893),m=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),l=e(25849);k.exports=function(N){var O=N._fullLayout,Y=w.filterVisible(O[r.name]);function B(ue){E.autoMargin(N,A(ue))}var W=O._menulayer.selectAll("g."+r.containerClassName).data(Y.length>0?[0]:[]);if(W.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),W.exit().each(function(){h.select(this).selectAll("g."+r.headerGroupClassName).each(B)}).remove(),Y.length!==0){var H=W.selectAll("g."+r.headerGroupClassName).data(Y,i);H.enter().append("g").classed(r.headerGroupClassName,!0);for(var U=w.ensureSingle(W,"g",r.dropdownButtonGroupClassName,function(ue){ue.style("pointer-events","all")}),G=0;G<Y.length;G++){var j=Y[G];P(N,j)}var re="updatemenus"+O._uid,ae=new l(N,U,re);H.enter().size()&&(U.node().parentNode.appendChild(U.node()),U.call(R)),H.exit().each(function(ue){U.call(R),B(ue)}).remove(),H.each(function(ue){var de=h.select(this),ee=ue.type==="dropdown"?U:null;E.manageCommandObserver(N,ue,ue.buttons,function(X){c(N,ue,ue.buttons[X.index],de,ee,ae,X.index,!0)}),ue.type==="dropdown"?(x(N,de,U,ae,ue),v(U,ue)&&d(N,de,U,ae,ue)):d(N,de,null,null,ue)})}};function i(b){return b._index}function f(b){return+b.attr(r.menuIndexAttrName)==-1}function v(b,N){return+b.attr(r.menuIndexAttrName)===N._index}function c(b,N,O,Y,B,W,H,U){N.active=H,m(b.layout,r.name,N).applyUpdate("active",H),N.type==="buttons"?d(b,Y,null,null,N):N.type==="dropdown"&&(B.attr(r.menuIndexAttrName,"-1"),x(b,Y,B,W,N),U||d(b,Y,B,W,N))}function x(b,N,O,Y,B){var W=w.ensureSingle(N,"g",r.headerClassName,function(ue){ue.style("pointer-events","all")}),H=B._dims,U=B.active,G=B.buttons[U]||r.blankHeaderOpts,j={y:B.pad.t,yPad:0,x:B.pad.l,xPad:0,index:0},re={width:H.headerWidth,height:H.headerHeight};W.call(u,B,G,b).call(a,B,j,re);var ae=w.ensureSingle(N,"text",r.headerArrowClassName,function(ue){ue.attr("text-anchor","end").call(L.font,B.font).text(r.arrowSymbol[B.direction])});ae.attr({x:H.headerWidth-r.arrowOffsetX+B.pad.l,y:H.headerHeight/2+r.textOffsetY+B.pad.t}),W.on("click",function(){O.call(R,String(v(O,B)?-1:B._index)),d(b,N,O,Y,B)}),W.on("mouseover",function(){W.call(D)}),W.on("mouseout",function(){W.call(T,B)}),L.setTranslate(N,H.lx,H.ly)}function d(b,N,O,Y,B){O||(O=N,O.attr("pointer-events","all"));var W=!f(O)||B.type==="buttons"?B.buttons:[],H=B.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,U=O.selectAll("g."+H).data(w.filterVisible(W)),G=U.enter().append("g").classed(H,!0),j=U.exit();B.type==="dropdown"?(G.attr("opacity","0").transition().attr("opacity","1"),j.transition().attr("opacity","0").remove()):j.remove();var re=0,ae=0,ue=B._dims,de=["up","down"].indexOf(B.direction)!==-1;B.type==="dropdown"&&(de?ae=ue.headerHeight+r.gapButtonHeader:re=ue.headerWidth+r.gapButtonHeader),B.type==="dropdown"&&B.direction==="up"&&(ae=-r.gapButtonHeader+r.gapButton-ue.openHeight),B.type==="dropdown"&&B.direction==="left"&&(re=-r.gapButtonHeader+r.gapButton-ue.openWidth);var ee={x:ue.lx+re+B.pad.l,y:ue.ly+ae+B.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},X={l:ee.x+B.borderwidth,t:ee.y+B.borderwidth};U.each(function(Q,$){var ne=h.select(this);ne.call(u,B,Q,b).call(a,B,ee),ne.on("click",function(){h.event.defaultPrevented||(Q.execute&&(Q.args2&&B.active===$?(c(b,B,Q,N,O,Y,-1),E.executeAPICommand(b,Q.method,Q.args2)):(c(b,B,Q,N,O,Y,$),E.executeAPICommand(b,Q.method,Q.args))),b.emit("plotly_buttonclicked",{menu:B,button:Q,active:B.active}))}),ne.on("mouseover",function(){ne.call(D)}),ne.on("mouseout",function(){ne.call(T,B),U.call(S,B)})}),U.call(S,B),de?(X.w=Math.max(ue.openWidth,ue.headerWidth),X.h=ee.y-X.t):(X.w=ee.x-X.l,X.h=Math.max(ue.openHeight,ue.headerHeight)),X.direction=B.direction,Y&&(U.size()?M(b,N,O,Y,B,X):g(Y))}function M(b,N,O,Y,B,W){var H=B.direction,U=H==="up"||H==="down",G=B._dims,j=B.active,re,ae,ue;if(U)for(ae=0,ue=0;ue<j;ue++)ae+=G.heights[ue]+r.gapButton;else for(re=0,ue=0;ue<j;ue++)re+=G.widths[ue]+r.gapButton;Y.enable(W,re,ae),Y.hbar&&Y.hbar.attr("opacity","0").transition().attr("opacity","1"),Y.vbar&&Y.vbar.attr("opacity","0").transition().attr("opacity","1")}function g(b){var N=!!b.hbar,O=!!b.vbar;N&&b.hbar.transition().attr("opacity","0").each("end",function(){N=!1,O||b.disable()}),O&&b.vbar.transition().attr("opacity","0").each("end",function(){O=!1,N||b.disable()})}function u(b,N,O,Y){b.call(y,N).call(C,N,O,Y)}function y(b,N){var O=w.ensureSingle(b,"rect",r.itemRectClassName,function(Y){Y.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});O.call(n.stroke,N.bordercolor).call(n.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px")}function C(b,N,O,Y){var B=w.ensureSingle(b,"text",r.itemTextClassName,function(U){U.attr({"text-anchor":"start","data-notex":1})}),W=O.label,H=Y._fullLayout._meta;H&&(W=w.templateString(W,H)),B.call(L.font,N.font).text(W).call(p.convertToTspans,Y)}function S(b,N){var O=N.active;b.each(function(Y,B){var W=h.select(this);B===O&&N.showactive&&W.select("rect."+r.itemRectClassName).call(n.fill,r.activeColor)})}function D(b){b.select("rect."+r.itemRectClassName).call(n.fill,r.hoverColor)}function T(b,N){b.select("rect."+r.itemRectClassName).call(n.fill,N.bgcolor)}function P(b,N){var O=N._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Y=L.tester.selectAll("g."+r.dropdownButtonClassName).data(w.filterVisible(N.buttons));Y.enter().append("g").classed(r.dropdownButtonClassName,!0);var B=["up","down"].indexOf(N.direction)!==-1;Y.each(function(re,ae){var ue=h.select(this);ue.call(u,N,re,b);var de=ue.select("."+r.itemTextClassName),ee=de.node()&&L.bBox(de.node()).width,X=Math.max(ee+r.textPadX,r.minWidth),Q=N.font.size*t,$=p.lineCount(de),ne=Math.max(Q*$,r.minHeight)+r.textOffsetY;ne=Math.ceil(ne),X=Math.ceil(X),O.widths[ae]=X,O.heights[ae]=ne,O.height1=Math.max(O.height1,ne),O.width1=Math.max(O.width1,X),B?(O.totalWidth=Math.max(O.totalWidth,X),O.openWidth=O.totalWidth,O.totalHeight+=ne+r.gapButton,O.openHeight+=ne+r.gapButton):(O.totalWidth+=X+r.gapButton,O.openWidth+=X+r.gapButton,O.totalHeight=Math.max(O.totalHeight,ne),O.openHeight=O.totalHeight)}),B?O.totalHeight-=r.gapButton:O.totalWidth-=r.gapButton,O.headerWidth=O.width1+r.arrowPadX,O.headerHeight=O.height1,N.type==="dropdown"&&(B?(O.width1+=r.arrowPadX,O.totalHeight=O.height1):O.totalWidth=O.width1,O.totalWidth+=r.arrowPadX),Y.remove();var W=O.totalWidth+N.pad.l+N.pad.r,H=O.totalHeight+N.pad.t+N.pad.b,U=b._fullLayout._size;O.lx=U.l+U.w*N.x,O.ly=U.t+U.h*(1-N.y);var G="left";w.isRightAnchor(N)&&(O.lx-=W,G="right"),w.isCenterAnchor(N)&&(O.lx-=W/2,G="center");var j="top";w.isBottomAnchor(N)&&(O.ly-=H,j="bottom"),w.isMiddleAnchor(N)&&(O.ly-=H/2,j="middle"),O.totalWidth=Math.ceil(O.totalWidth),O.totalHeight=Math.ceil(O.totalHeight),O.lx=Math.round(O.lx),O.ly=Math.round(O.ly),E.autoMargin(b,A(N),{x:N.x,y:N.y,l:W*({right:1,center:.5}[G]||0),r:W*({left:1,center:.5}[G]||0),b:H*({top:1,middle:.5}[j]||0),t:H*({bottom:1,middle:.5}[j]||0)})}function A(b){return r.autoMarginIdRoot+b._index}function a(b,N,O,Y){Y=Y||{};var B=b.select("."+r.itemRectClassName),W=b.select("."+r.itemTextClassName),H=N.borderwidth,U=O.index,G=N._dims;L.setTranslate(b,H+O.x,H+O.y);var j=["up","down"].indexOf(N.direction)!==-1,re=Y.height||(j?G.heights[U]:G.height1);B.attr({x:0,y:0,width:Y.width||(j?G.width1:G.widths[U]),height:re});var ae=N.font.size*t,ue=p.lineCount(W),de=(ue-1)*ae/2;p.positionText(W,r.textOffsetX,re/2-de+r.textOffsetY),j?O.y+=G.heights[U]+O.yPad:O.x+=G.widths[U]+O.xPad,O.index++}function R(b,N){b.attr(r.menuIndexAttrName,N||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(k,F,e){var h=e(75909);k.exports={moduleType:"component",name:h.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(k,F,e){k.exports=w;var h=e(39898),E=e(7901),n=e(91424),L=e(71828);function w(p,m,t){this.gd=p,this.container=m,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}w.barWidth=2,w.barLength=20,w.barRadius=2,w.barPad=1,w.barColor="#808BA4",w.prototype.enable=function(m,t,r){var l=this.gd._fullLayout,i=l.width,f=l.height;this.position=m;var v=this.position.l,c=this.position.w,x=this.position.t,d=this.position.h,M=this.position.direction,g=M==="down",u=M==="left",y=M==="right",C=M==="up",S=c,D=d,T,P,A,a;!g&&!u&&!y&&!C&&(this.position.direction="down",g=!0);var R=g||C;R?(T=v,P=T+S,g?(A=x,a=Math.min(A+D,f),D=a-A):(a=x+D,A=Math.max(a-D,0),D=a-A)):(A=x,a=A+D,u?(P=v+S,T=Math.max(P-S,0),S=P-T):(T=v,P=Math.min(T+S,i),S=P-T)),this._box={l:T,t:A,w:S,h:D};var b=c>S,N=w.barLength+2*w.barPad,O=w.barWidth+2*w.barPad,Y=v,B=x+d;B+O>f&&(B=f-O);var W=this.container.selectAll("rect.scrollbar-horizontal").data(b?[0]:[]);W.exit().on(".drag",null).remove(),W.enter().append("rect").classed("scrollbar-horizontal",!0).call(E.fill,w.barColor),b?(this.hbar=W.attr({rx:w.barRadius,ry:w.barRadius,x:Y,y:B,width:N,height:O}),this._hbarXMin=Y+N/2,this._hbarTranslateMax=S-N):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var H=d>D,U=w.barWidth+2*w.barPad,G=w.barLength+2*w.barPad,j=v+c,re=x;j+U>i&&(j=i-U);var ae=this.container.selectAll("rect.scrollbar-vertical").data(H?[0]:[]);ae.exit().on(".drag",null).remove(),ae.enter().append("rect").classed("scrollbar-vertical",!0).call(E.fill,w.barColor),H?(this.vbar=ae.attr({rx:w.barRadius,ry:w.barRadius,x:j,y:re,width:U,height:G}),this._vbarYMin=re+G/2,this._vbarTranslateMax=D-G):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ue=this.id,de=T-.5,ee=H?P+U+.5:P+.5,X=A-.5,Q=b?a+O+.5:a+.5,$=l._topdefs.selectAll("#"+ue).data(b||H?[0]:[]);if($.exit().remove(),$.enter().append("clipPath").attr("id",ue).append("rect"),b||H?(this._clipRect=$.select("rect").attr({x:Math.floor(de),y:Math.floor(X),width:Math.ceil(ee)-Math.floor(de),height:Math.ceil(Q)-Math.floor(X)}),this.container.call(n.setClipUrl,ue,this.gd),this.bg.attr({x:v,y:x,width:c,height:d})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),b||H){var ne=h.behavior.drag().on("dragstart",function(){h.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ne);var fe=h.behavior.drag().on("dragstart",function(){h.event.sourceEvent.preventDefault(),h.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));b&&this.hbar.on(".drag",null).call(fe),H&&this.vbar.on(".drag",null).call(fe)}this.setTranslate(t,r)},w.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},w.prototype._onBoxDrag=function(){var m=this.translateX,t=this.translateY;this.hbar&&(m-=h.event.dx),this.vbar&&(t-=h.event.dy),this.setTranslate(m,t)},w.prototype._onBoxWheel=function(){var m=this.translateX,t=this.translateY;this.hbar&&(m+=h.event.deltaY),this.vbar&&(t+=h.event.deltaY),this.setTranslate(m,t)},w.prototype._onBarDrag=function(){var m=this.translateX,t=this.translateY;if(this.hbar){var r=m+this._hbarXMin,l=r+this._hbarTranslateMax,i=L.constrain(h.event.x,r,l),f=(i-r)/(l-r),v=this.position.w-this._box.w;m=f*v}if(this.vbar){var c=t+this._vbarYMin,x=c+this._vbarTranslateMax,d=L.constrain(h.event.y,c,x),M=(d-c)/(x-c),g=this.position.h-this._box.h;t=M*g}this.setTranslate(m,t)},w.prototype.setTranslate=function(m,t){var r=this.position.w-this._box.w,l=this.position.h-this._box.h;if(m=L.constrain(m||0,0,r),t=L.constrain(t||0,0,l),this.translateX=m,this.translateY=t,this.container.call(n.setTranslate,this._box.l-this.position.l-m,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+m-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var i=m/r;this.hbar.call(n.setTranslate,m+i*this._hbarTranslateMax,t)}if(this.vbar){var f=t/l;this.vbar.call(n.setTranslate,m,t+f*this._vbarTranslateMax)}}},18783:function(k){k.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(k){k.exports={axisRefDescription:function(F,e,h){return["If set to a",F,"axis id (e.g. *"+F+"* or","*"+F+"2*), the `"+F+"` position refers to a",F,"coordinate. If set to *paper*, the `"+F+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+h+"). If set to a",F,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+F+"2 domain* refers to the domain of the second",F," axis and a",F,"position of 0.5 refers to the","point between the",e,"and the",h,"of the domain of the","second",F,"axis."].join(" ")}}},22372:function(k){k.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},31562:function(k){k.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(k){k.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(k){k.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(k){k.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},37822:function(k){k.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(k){k.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},32396:function(k,F){F.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],F.STYLE=F.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(k,F){F.xmlns="http://www.w3.org/2000/xmlns/",F.svg="http://www.w3.org/2000/svg",F.xlink="http://www.w3.org/1999/xlink",F.svgAttrs={xmlns:F.svg,"xmlns:xlink":F.xlink}},8729:function(k,F,e){F.version=e(11506).version,e(7417),e(98847);for(var h=e(73972),E=F.register=h.register,n=e(10641),L=Object.keys(n),w=0;w<L.length;w++){var p=L[w];p.charAt(0)!=="_"&&(F[p]=n[p]),E({moduleType:"apiMethod",name:p,fn:n[p]})}E(e(67368)),E([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),E([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(E(window.PlotlyLocales),delete window.PlotlyLocales),F.Icons=e(24255);var m=e(30211),t=e(74875);F.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},F.Fx={hover:m.hover,unhover:m.unhover,loneHover:m.loneHover,loneUnhover:m.loneUnhover},F.Snapshot=e(44511),F.PlotSchema=e(86281)},24255:function(k){k.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(k,F){F.isLeftAnchor=function(h){return h.xanchor==="left"||h.xanchor==="auto"&&h.x<=.3333333333333333},F.isCenterAnchor=function(h){return h.xanchor==="center"||h.xanchor==="auto"&&h.x>.3333333333333333&&h.x<.6666666666666666},F.isRightAnchor=function(h){return h.xanchor==="right"||h.xanchor==="auto"&&h.x>=.6666666666666666},F.isTopAnchor=function(h){return h.yanchor==="top"||h.yanchor==="auto"&&h.y>=.6666666666666666},F.isMiddleAnchor=function(h){return h.yanchor==="middle"||h.yanchor==="auto"&&h.y>.3333333333333333&&h.y<.6666666666666666},F.isBottomAnchor=function(h){return h.yanchor==="bottom"||h.yanchor==="auto"&&h.y<=.3333333333333333}},26348:function(k,F,e){var h=e(64872),E=h.mod,n=h.modHalf,L=Math.PI,w=2*L;function p(M){return M/180*L}function m(M){return M/L*180}function t(M){return Math.abs(M[1]-M[0])>w-1e-14}function r(M,g){return n(g-M,w)}function l(M,g){return Math.abs(r(M,g))}function i(M,g){if(t(g))return!0;var u,y;g[0]<g[1]?(u=g[0],y=g[1]):(u=g[1],y=g[0]),u=E(u,w),y=E(y,w),u>y&&(y+=w);var C=E(M,w),S=C+w;return C>=u&&C<=y||S>=u&&S<=y}function f(M,g,u,y){if(!i(g,y))return!1;var C,S;return u[0]<u[1]?(C=u[0],S=u[1]):(C=u[1],S=u[0]),M>=C&&M<=S}function v(M,g,u,y,C,S,D){C=C||0,S=S||0;var T=t([u,y]),P,A,a,R,b;T?(P=0,A=L,a=w):u<y?(P=u,a=y):(P=y,a=u),M<g?(R=M,b=g):(R=g,b=M);function N(W,H){return[W*Math.cos(H)+C,S-W*Math.sin(H)]}var O=Math.abs(a-P)<=L?0:1;function Y(W,H,U){return"A"+[W,W]+" "+[0,O,U]+" "+N(W,H)}var B;return T?R===null?B="M"+N(b,P)+Y(b,A,0)+Y(b,a,0)+"Z":B="M"+N(R,P)+Y(R,A,0)+Y(R,a,0)+"ZM"+N(b,P)+Y(b,A,1)+Y(b,a,1)+"Z":R===null?(B="M"+N(b,P)+Y(b,a,0),D&&(B+="L0,0Z")):B="M"+N(R,P)+"L"+N(b,P)+Y(b,a,0)+"L"+N(R,a)+Y(R,P,1)+"Z",B}function c(M,g,u,y,C){return v(null,M,g,u,y,C,0)}function x(M,g,u,y,C){return v(null,M,g,u,y,C,1)}function d(M,g,u,y,C,S){return v(M,g,u,y,C,S,1)}k.exports={deg2rad:p,rad2deg:m,angleDelta:r,angleDist:l,isFullCircle:t,isAngleInsideSector:i,isPtInsideSector:f,pathArc:c,pathSector:x,pathAnnulus:d}},73627:function(k,F){var e=Array.isArray,h=ArrayBuffer,E=DataView;function n(m){return h.isView(m)&&!(m instanceof E)}F.isTypedArray=n;function L(m){return e(m)||n(m)}F.isArrayOrTypedArray=L;function w(m){return!L(m[0])}F.isArray1D=w,F.ensureArray=function(m,t){return e(m)||(m=[]),m.length=t,m},F.concat=function(){var m=[],t=!0,r=0,l,i,f,v,c,x,d,M;for(f=0;f<arguments.length;f++)v=arguments[f],x=v.length,x&&(i?m.push(v):(i=v,c=x),e(v)?l=!1:(t=!1,r?l!==v.constructor&&(l=!1):l=v.constructor),r+=x);if(!r)return[];if(!m.length)return i;if(t)return i.concat.apply(i,m);if(l){for(d=new l(r),d.set(i),f=0;f<m.length;f++)v=m[f],d.set(v,c),c+=v.length;return d}for(d=new Array(r),M=0;M<i.length;M++)d[M]=i[M];for(f=0;f<m.length;f++){for(v=m[f],M=0;M<v.length;M++)d[c+M]=v[M];c+=M}return d},F.maxRowLength=function(m){return p(m,Math.max,0)},F.minRowLength=function(m){return p(m,Math.min,1/0)};function p(m,t,r){if(L(m))if(L(m[0])){for(var l=r,i=0;i<m.length;i++)l=t(l,m[i].length);return l}else return m.length;return 0}},95218:function(k,F,e){var h=e(92770),E=e(50606).BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;k.exports=function(w){return typeof w=="string"&&(w=w.replace(n,"")),h(w)?Number(w):E}},33306:function(k){k.exports=function(e){var h=e._fullLayout;h._glcanvas&&h._glcanvas.size()&&h._glcanvas.each(function(E){E.regl&&E.regl.clear({color:!0,depth:!0})})}},86367:function(k){k.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(k,F,e){var h=e(92770),E=e(84267),n=e(9012),L=e(63282),w=e(7901),p=e(37822).DESELECTDIM,m=e(65487),t=e(30587).counter,r=e(64872).modHalf,l=e(73627).isArrayOrTypedArray;F.valObjectMeta={data_array:{coerceFunction:function(f,v,c){l(f)?v.set(f):c!==void 0&&v.set(c)}},enumerated:{coerceFunction:function(f,v,c,x){x.coerceNumber&&(f=+f),x.values.indexOf(f)===-1?v.set(c):v.set(f)},validateFunction:function(f,v){v.coerceNumber&&(f=+f);for(var c=v.values,x=0;x<c.length;x++){var d=String(c[x]);if(d.charAt(0)==="/"&&d.charAt(d.length-1)==="/"){var M=new RegExp(d.substr(1,d.length-2));if(M.test(f))return!0}else if(f===c[x])return!0}return!1}},boolean:{coerceFunction:function(f,v,c){f===!0||f===!1?v.set(f):v.set(c)}},number:{coerceFunction:function(f,v,c,x){!h(f)||x.min!==void 0&&f<x.min||x.max!==void 0&&f>x.max?v.set(c):v.set(+f)}},integer:{coerceFunction:function(f,v,c,x){f%1||!h(f)||x.min!==void 0&&f<x.min||x.max!==void 0&&f>x.max?v.set(c):v.set(+f)}},string:{coerceFunction:function(f,v,c,x){if(typeof f!="string"){var d=typeof f=="number";x.strict===!0||!d?v.set(c):v.set(String(f))}else x.noBlank&&!f?v.set(c):v.set(f)}},color:{coerceFunction:function(f,v,c){E(f).isValid()?v.set(f):v.set(c)}},colorlist:{coerceFunction:function(f,v,c){function x(d){return E(d).isValid()}!Array.isArray(f)||!f.length?v.set(c):f.every(x)?v.set(f):v.set(c)}},colorscale:{coerceFunction:function(f,v,c){v.set(L.get(f,c))}},angle:{coerceFunction:function(f,v,c){f==="auto"?v.set("auto"):h(f)?v.set(r(+f,360)):v.set(c)}},subplotid:{coerceFunction:function(f,v,c,x){var d=x.regex||t(c);if(typeof f=="string"&&d.test(f)){v.set(f);return}v.set(c)},validateFunction:function(f,v){var c=v.dflt;return f===c?!0:typeof f!="string"?!1:!!t(c).test(f)}},flaglist:{coerceFunction:function(f,v,c,x){if((x.extras||[]).indexOf(f)!==-1){v.set(f);return}if(typeof f!="string"){v.set(c);return}for(var d=f.split("+"),M=0;M<d.length;){var g=d[M];x.flags.indexOf(g)===-1||d.indexOf(g)<M?d.splice(M,1):M++}d.length?v.set(d.join("+")):v.set(c)}},any:{coerceFunction:function(f,v,c){f===void 0?v.set(c):v.set(f)}},info_array:{coerceFunction:function(f,v,c,x){function d(N,O,Y){var B,W={set:function(H){B=H}};return Y===void 0&&(Y=O.dflt),F.valObjectMeta[O.valType].coerceFunction(N,W,Y,O),B}var M=x.dimensions===2||x.dimensions==="1-2"&&Array.isArray(f)&&Array.isArray(f[0]);if(!Array.isArray(f)){v.set(c);return}var g=x.items,u=[],y=Array.isArray(g),C=y&&M&&Array.isArray(g[0]),S=M&&y&&!C,D=y&&!S?g.length:f.length,T,P,A,a,R,b;if(c=Array.isArray(c)?c:[],M)for(T=0;T<D;T++)for(u[T]=[],A=Array.isArray(f[T])?f[T]:[],S?R=g.length:y?R=g[T].length:R=A.length,P=0;P<R;P++)S?a=g[P]:y?a=g[T][P]:a=g,b=d(A[P],a,(c[T]||[])[P]),b!==void 0&&(u[T][P]=b);else for(T=0;T<D;T++)b=d(f[T],y?g[T]:g,c[T]),b!==void 0&&(u[T]=b);v.set(u)},validateFunction:function(f,v){if(!Array.isArray(f))return!1;var c=v.items,x=Array.isArray(c),d=v.dimensions===2;if(!v.freeLength&&f.length!==c.length)return!1;for(var M=0;M<f.length;M++)if(d){if(!Array.isArray(f[M])||!v.freeLength&&f[M].length!==c[M].length)return!1;for(var g=0;g<f[M].length;g++)if(!i(f[M][g],x?c[M][g]:c))return!1}else if(!i(f[M],x?c[M]:c))return!1;return!0}}},F.coerce=function(f,v,c,x,d){var M=m(c,x).get(),g=m(f,x),u=m(v,x),y=g.get(),C=v._template;if(y===void 0&&C&&(y=m(C,x).get(),C=0),d===void 0&&(d=M.dflt),M.arrayOk&&l(y))return u.set(y),y;var S=F.valObjectMeta[M.valType].coerceFunction;S(y,u,d,M);var D=u.get();return C&&D===d&&!i(y,M)&&(y=m(C,x).get(),S(y,u,d,M),D=u.get()),D},F.coerce2=function(f,v,c,x,d){var M=m(f,x),g=F.coerce(f,v,c,x,d),u=M.get();return u!=null?g:!1},F.coerceFont=function(f,v,c){var x={};return c=c||{},x.family=f(v+".family",c.family),x.size=f(v+".size",c.size),x.color=f(v+".color",c.color),x},F.coercePattern=function(f,v,c,x){var d=f(v+".shape");if(d){f(v+".solidity"),f(v+".size");var M=f(v+".fillmode"),g=M==="overlay";if(!x){var u=f(v+".bgcolor",g?c:void 0);f(v+".fgcolor",g?w.contrast(u):c)}f(v+".fgopacity",g?.5:1)}},F.coerceHoverinfo=function(f,v,c){var x=v._module.attributes,d=x.hoverinfo?x:n,M=d.hoverinfo,g;if(c._dataLength===1){var u=M.dflt==="all"?M.flags.slice():M.dflt.split("+");u.splice(u.indexOf("name"),1),g=u.join("+")}return F.coerce(f,v,d,"hoverinfo",g)},F.coerceSelectionMarkerOpacity=function(f,v){if(f.marker){var c=f.marker.opacity;if(c!==void 0){var x,d;!l(c)&&!f.selected&&!f.unselected&&(x=c,d=p*c),v("selected.marker.opacity",x),v("unselected.marker.opacity",d)}}};function i(f,v){var c=F.valObjectMeta[v.valType];if(v.arrayOk&&l(f))return!0;if(c.validateFunction)return c.validateFunction(f,v);var x={},d=x,M={set:function(g){d=g}};return c.coerceFunction(f,M,x,v),d!==x}F.validate=i},41631:function(k,F,e){var h=e(84096).i$,E=e(92770),n=e(47769),L=e(64872).mod,w=e(50606),p=w.BADNUM,m=w.ONEDAY,t=w.ONEHOUR,r=w.ONEMIN,l=w.ONESEC,i=w.EPOCHJD,f=e(73972),v=e(84096).g0,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,d=new Date().getFullYear()-70;function M(B){return B&&f.componentsRegistry.calendars&&typeof B=="string"&&B!=="gregorian"}F.dateTick0=function(B,W){var H=g(B,!!W);if(W<2)return H;var U=F.dateTime2ms(H,B);return U+=m*(W-1),F.ms2DateTime(U,0,B)};function g(B,W){return M(B)?W?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[B]:f.getComponentMethod("calendars","CANONICAL_TICK")[B]:W?"2000-01-02":"2000-01-01"}F.dfltRange=function(B){return M(B)?f.getComponentMethod("calendars","DFLTRANGE")[B]:["2000-01-01","2001-01-01"]},F.isJSDate=function(B){return typeof B=="object"&&B!==null&&typeof B.getTime=="function"};var u,y;F.dateTime2ms=function(B,W){if(F.isJSDate(B)){var H=B.getTimezoneOffset()*r,U=(B.getUTCMinutes()-B.getMinutes())*r+(B.getUTCSeconds()-B.getSeconds())*l+(B.getUTCMilliseconds()-B.getMilliseconds());if(U){var G=3*r;H=H-G/2+L(U-H+G/2,G)}return B=Number(B)-H,B>=u&&B<=y?B:p}if(typeof B!="string"&&typeof B!="number")return p;B=String(B);var j=M(W),re=B.charAt(0);j&&(re==="G"||re==="g")&&(B=B.substr(1),W="");var ae=j&&W.substr(0,7)==="chinese",ue=B.match(ae?x:c);if(!ue)return p;var de=ue[1],ee=ue[3]||"1",X=Number(ue[5]||1),Q=Number(ue[7]||0),$=Number(ue[9]||0),ne=Number(ue[11]||0);if(j){if(de.length===2)return p;de=Number(de);var fe;try{var te=f.getComponentMethod("calendars","getCal")(W);if(ae){var q=ee.charAt(ee.length-1)==="i";ee=parseInt(ee,10),fe=te.newDate(de,te.toMonthIndex(de,ee,q),X)}else fe=te.newDate(de,Number(ee),X)}catch{return p}return fe?(fe.toJD()-i)*m+Q*t+$*r+ne*l:p}de.length===2?de=(Number(de)+2e3-d)%100+d:de=Number(de),ee-=1;var he=new Date(Date.UTC(2e3,ee,X,Q,$));return he.setUTCFullYear(de),he.getUTCMonth()!==ee||he.getUTCDate()!==X?p:he.getTime()+ne*l},u=F.MIN_MS=F.dateTime2ms("-9999"),y=F.MAX_MS=F.dateTime2ms("9999-12-31 23:59:59.9999"),F.isDateTime=function(B,W){return F.dateTime2ms(B,W)!==p};function C(B,W){return String(B+Math.pow(10,W)).substr(1)}var S=90*m,D=3*t,T=5*r;F.ms2DateTime=function(B,W,H){if(typeof B!="number"||!(B>=u&&B<=y))return p;W||(W=0);var U=Math.floor(L(B+.05,1)*10),G=Math.round(B-U/10),j,re,ae,ue,de,ee;if(M(H)){var X=Math.floor(G/m)+i,Q=Math.floor(L(B,m));try{j=f.getComponentMethod("calendars","getCal")(H).fromJD(X).formatDate("yyyy-mm-dd")}catch{j=v("G%Y-%m-%d")(new Date(G))}if(j.charAt(0)==="-")for(;j.length<11;)j="-0"+j.substr(1);else for(;j.length<10;)j="0"+j;re=W<S?Math.floor(Q/t):0,ae=W<S?Math.floor(Q%t/r):0,ue=W<D?Math.floor(Q%r/l):0,de=W<T?Q%l*10+U:0}else ee=new Date(G),j=v("%Y-%m-%d")(ee),re=W<S?ee.getUTCHours():0,ae=W<S?ee.getUTCMinutes():0,ue=W<D?ee.getUTCSeconds():0,de=W<T?ee.getUTCMilliseconds()*10+U:0;return P(j,re,ae,ue,de)},F.ms2DateTimeLocal=function(B){if(!(B>=u+m&&B<=y-m))return p;var W=Math.floor(L(B+.05,1)*10),H=new Date(Math.round(B-W/10)),U=h("%Y-%m-%d")(H),G=H.getHours(),j=H.getMinutes(),re=H.getSeconds(),ae=H.getUTCMilliseconds()*10+W;return P(U,G,j,re,ae)};function P(B,W,H,U,G){if((W||H||U||G)&&(B+=" "+C(W,2)+":"+C(H,2),(U||G)&&(B+=":"+C(U,2),G))){for(var j=4;G%10===0;)j-=1,G/=10;B+="."+C(G,j)}return B}F.cleanDate=function(B,W,H){if(B===p)return W;if(F.isJSDate(B)||typeof B=="number"&&isFinite(B)){if(M(H))return n.error("JS Dates and milliseconds are incompatible with world calendars",B),W;if(B=F.ms2DateTimeLocal(+B),!B&&W!==void 0)return W}else if(!F.isDateTime(B,H))return n.error("unrecognized date",B),W;return B};var A=/%\d?f/g,a=/%h/g,R={1:"1",2:"1",3:"2",4:"2"};function b(B,W,H,U){B=B.replace(A,function(j){var re=Math.min(+j.charAt(1)||6,6),ae=(W/1e3%1+2).toFixed(re).substr(2).replace(/0+$/,"")||"0";return ae});var G=new Date(Math.floor(W+.05));if(B=B.replace(a,function(){return R[H("%q")(G)]}),M(U))try{B=f.getComponentMethod("calendars","worldCalFmt")(B,W,U)}catch{return"Invalid"}return H(B)(G)}var N=[59,59.9,59.99,59.999,59.9999];function O(B,W){var H=L(B+.05,m),U=C(Math.floor(H/t),2)+":"+C(L(Math.floor(H/r),60),2);if(W!=="M"){E(W)||(W=0);var G=Math.min(L(B/l,60),N[W]),j=(100+G).toFixed(W).substr(1);W>0&&(j=j.replace(/0+$/,"").replace(/[\.]$/,"")),U+=":"+j}return U}F.formatDate=function(B,W,H,U,G,j){if(G=M(G)&&G,!W)if(H==="y")W=j.year;else if(H==="m")W=j.month;else if(H==="d")W=j.dayMonth+`
`+j.year;else return O(B,H)+`
`+b(j.dayMonthYear,B,U,G);return b(W,B,U,G)};var Y=3*m;F.incrementMonth=function(B,W,H){H=M(H)&&H;var U=L(B,m);if(B=Math.round(B-U),H)try{var G=Math.round(B/m)+i,j=f.getComponentMethod("calendars","getCal")(H),re=j.fromJD(G);return W%12?j.add(re,W,"m"):j.add(re,W/12,"y"),(re.toJD()-i)*m+U}catch{n.error("invalid ms "+B+" in calendar "+H)}var ae=new Date(B+Y);return ae.setUTCMonth(ae.getUTCMonth()+W)+U-Y},F.findExactDates=function(B,W){for(var H=0,U=0,G=0,j=0,re,ae,ue=M(W)&&f.getComponentMethod("calendars","getCal")(W),de=0;de<B.length;de++){if(ae=B[de],!E(ae)){j++;continue}if(!(ae%m))if(ue)try{re=ue.fromJD(ae/m+i),re.day()===1?re.month()===1?H++:U++:G++}catch{}else re=new Date(ae),re.getUTCDate()===1?re.getUTCMonth()===0?H++:U++:G++}U+=H,G+=U;var ee=B.length-j;return{exactYears:H/ee,exactMonths:U/ee,exactDays:G/ee}}},24401:function(k,F,e){var h=e(39898),E=e(47769),n=e(35657),L=e(79576);function w(d){var M;if(typeof d=="string"){if(M=document.getElementById(d),M===null)throw new Error("No DOM element with id '"+d+"' exists on the page.");return M}else if(d==null)throw new Error("DOM element provided is null or undefined");return d}function p(d){var M=h.select(d);return M.node()instanceof HTMLElement&&M.size()&&M.classed("js-plotly-plot")}function m(d){var M=d&&d.parentNode;M&&M.removeChild(d)}function t(d,M){r("global",d,M)}function r(d,M,g){var u="plotly.js-style-"+d,y=document.getElementById(u);y||(y=document.createElement("style"),y.setAttribute("id",u),y.appendChild(document.createTextNode("")),document.head.appendChild(y));var C=y.sheet;C.insertRule?C.insertRule(M+"{"+g+"}",0):C.addRule?C.addRule(M,g,0):E.warn("addStyleRule failed")}function l(d){var M="plotly.js-style-"+d,g=document.getElementById(M);g&&m(g)}function i(d){var M=v(d),g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return M.forEach(function(u){var y=f(u);if(y){var C=n.convertCssMatrix(y);g=L.multiply(g,g,C)}}),g}function f(d){var M=window.getComputedStyle(d,null),g=M.getPropertyValue("-webkit-transform")||M.getPropertyValue("-moz-transform")||M.getPropertyValue("-ms-transform")||M.getPropertyValue("-o-transform")||M.getPropertyValue("transform");return g==="none"?null:g.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(u){return+u})}function v(d){for(var M=[];c(d);)M.push(d),d=d.parentNode;return M}function c(d){return d&&(d instanceof Element||d instanceof HTMLElement)}function x(d,M){return d&&M&&d.top===M.top&&d.left===M.left&&d.right===M.right&&d.bottom===M.bottom}k.exports={getGraphDiv:w,isPlotDiv:p,removeElement:m,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:l,getFullTransformMatrix:i,getElementTransformMatrix:f,getElementAndAncestors:v,equalDomRects:x}},11086:function(k,F,e){var h=e(15398).EventEmitter,E={init:function(n){if(n._ev instanceof h)return n;var L=new h,w=new h;return n._ev=L,n._internalEv=w,n.on=L.on.bind(L),n.once=L.once.bind(L),n.removeListener=L.removeListener.bind(L),n.removeAllListeners=L.removeAllListeners.bind(L),n._internalOn=w.on.bind(w),n._internalOnce=w.once.bind(w),n._removeInternalListener=w.removeListener.bind(w),n._removeAllInternalListeners=w.removeAllListeners.bind(w),n.emit=function(p,m){typeof jQuery<"u"&&jQuery(n).trigger(p,m),L.emit(p,m),w.emit(p,m)},n},triggerHandler:function(n,L,w){var p,m;typeof jQuery<"u"&&(p=jQuery(n).triggerHandler(L,w));var t=n._ev;if(!t)return p;var r=t._events[L];if(!r)return p;function l(f){if(f.listener){if(t.removeListener(L,f.listener),!f.fired)return f.fired=!0,f.listener.apply(t,[w])}else return f.apply(t,[w])}r=Array.isArray(r)?r:[r];var i;for(i=0;i<r.length-1;i++)l(r[i]);return m=l(r[i]),p!==void 0?p:m},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};k.exports=E},1426:function(k,F,e){var h=e(41965),E=Array.isArray;function n(w,p){var m,t;for(m=0;m<w.length;m++){if(t=w[m],t!==null&&typeof t=="object")return!1;t!==void 0&&(p[m]=t)}return!0}F.extendFlat=function(){return L(arguments,!1,!1,!1)},F.extendDeep=function(){return L(arguments,!0,!1,!1)},F.extendDeepAll=function(){return L(arguments,!0,!0,!1)},F.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(w,p,m,t){var r=w[0],l=w.length,i,f,v,c,x,d,M;if(l===2&&E(r)&&E(w[1])&&r.length===0){if(M=n(w[1],r),M)return r;r.splice(0,r.length)}for(var g=1;g<l;g++){i=w[g];for(f in i)v=r[f],c=i[f],t&&E(c)?r[f]=c:p&&c&&(h(c)||(x=E(c)))?(x?(x=!1,d=v&&E(v)?v:[]):d=v&&h(v)?v:{},r[f]=L([d,c],p,m,t)):(typeof c<"u"||m)&&(r[f]=c)}return r}},75744:function(k){k.exports=function(e){for(var h={},E=[],n=0,L=0;L<e.length;L++){var w=e[L];h[w]!==1&&(h[w]=1,E[n++]=w)}return E}},76756:function(k){k.exports=function(n){for(var L=h(n)?e:F,w=[],p=0;p<n.length;p++){var m=n[p];L(m)&&w.push(m)}return w};function F(E){return E.visible===!0}function e(E){var n=E[0].trace;return n.visible===!0&&n._length!==0}function h(E){return Array.isArray(E)&&Array.isArray(E[0])&&E[0][0]&&E[0][0].trace}},41327:function(k,F,e){var h=e(39898),E=e(24138),n=e(30774),L=e(29261),w=e(85268),p=e(23389),m=e(47769),t=e(41965),r=e(65487),l=e(61082),i=Object.keys(E),f={"ISO-3":p,"USA-states":p,"country names":v};function v(C){for(var S=0;S<i.length;S++){var D=i[S],T=new RegExp(E[D]);if(T.test(C.trim().toLowerCase()))return D}return m.log("Unrecognized country name: "+C+"."),!1}function c(C,S,D){if(!S||typeof S!="string")return!1;var T=f[C](S),P,A,a;if(T){if(C==="USA-states")for(P=[],a=0;a<D.length;a++)A=D[a],A.properties&&A.properties.gu&&A.properties.gu==="USA"&&P.push(A);else P=D;for(a=0;a<P.length;a++)if(A=P[a],A.id===T)return A;m.log(["Location with id",T,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function x(C){var S=C.geometry,D=S.coordinates,T=C.id,P=[],A,a,R,b;function N(O){for(var Y=0;Y<O.length-1;Y++)if(O[Y][0]>0&&O[Y+1][0]<0)return Y;return null}switch(T==="RUS"||T==="FJI"?A=function(O){var Y;if(N(O)===null)Y=O;else for(Y=new Array(O.length),b=0;b<O.length;b++)Y[b]=[O[b][0]<0?O[b][0]+360:O[b][0],O[b][1]];P.push(l.tester(Y))}:T==="ATA"?A=function(O){var Y=N(O);if(Y===null)return P.push(l.tester(O));var B=new Array(O.length+1),W=0;for(b=0;b<O.length;b++)b>Y?B[W++]=[O[b][0]+360,O[b][1]]:b===Y?(B[W++]=O[b],B[W++]=[O[b][0],-90]):B[W++]=O[b];var H=l.tester(B);H.pts.pop(),P.push(H)}:A=function(O){P.push(l.tester(O))},S.type){case"MultiPolygon":for(a=0;a<D.length;a++)for(R=0;R<D[a].length;R++)A(D[a][R]);break;case"Polygon":for(a=0;a<D.length;a++)A(D[a]);break}return P}function d(C){var S=C.geojson,D=window.PlotlyGeoAssets||{},T=typeof S=="string"?D[S]:S;return t(T)?T:(m.error("Oops ... something went wrong when fetching "+S),!1)}function M(C){var S=C[0].trace,D=d(S);if(!D)return!1;var T={},P=[],A;for(A=0;A<S._length;A++){var a=C[A];(a.loc||a.loc===0)&&(T[a.loc]=a)}function R(O){var Y=r(O,S.featureidkey||"id").get(),B=T[Y];if(B){var W=O.geometry;if(W.type==="Polygon"||W.type==="MultiPolygon"){var H={type:"Feature",id:Y,geometry:W,properties:{}};H.properties.ct=g(H),B.fIn=O,B.fOut=H,P.push(H)}else m.log(["Location",B.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete T[Y]}switch(D.type){case"FeatureCollection":var b=D.features;for(A=0;A<b.length;A++)R(b[A]);break;case"Feature":R(D);break;default:return m.warn(["Invalid GeoJSON type",(D.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var N in T)m.log(["Location *"+N+"*","does not have a matching feature with id-key","*"+S.featureidkey+"*."].join(" "));return P}function g(C){var S=C.geometry,D;if(S.type==="MultiPolygon")for(var T=S.coordinates,P=0,A=0;A<T.length;A++){var a={type:"Polygon",coordinates:T[A]},R=n.default(a);R>P&&(P=R,D=a)}else D=S;return L.default(D).geometry.coordinates}function u(C){var S=window.PlotlyGeoAssets||{},D=[];function T(b){return new Promise(function(N,O){h.json(b,function(Y,B){if(Y){delete S[b];var W=Y.status===404?'GeoJSON at URL "'+b+'" does not exist.':"Unexpected error while fetching from "+b;return O(new Error(W))}return S[b]=B,N(B)})})}function P(b){return new Promise(function(N,O){var Y=0,B=setInterval(function(){if(S[b]&&S[b]!=="pending")return clearInterval(B),N(S[b]);if(Y>100)return clearInterval(B),O("Unexpected error while fetching from "+b);Y++},50)})}for(var A=0;A<C.length;A++){var a=C[A][0].trace,R=a.geojson;typeof R=="string"&&(S[R]?S[R]==="pending"&&D.push(P(R)):(S[R]="pending",D.push(T(R))))}return D}function y(C){return w.default(C)}k.exports={locationToFeature:c,feature2polygons:x,getTraceGeojson:d,extractTraceFeature:M,fetchTraceGeoData:u,computeBbox:y}},18214:function(k,F,e){var h=e(50606).BADNUM;F.calcTraceToLineCoords=function(E){for(var n=E[0].trace,L=n.connectgaps,w=[],p=[],m=0;m<E.length;m++){var t=E[m],r=t.lonlat;r[0]!==h?p.push(r):!L&&p.length>0&&(w.push(p),p=[])}return p.length>0&&w.push(p),w},F.makeLine=function(E){return E.length===1?{type:"LineString",coordinates:E[0]}:{type:"MultiLineString",coordinates:E}},F.makePolygon=function(E){if(E.length===1)return{type:"Polygon",coordinates:E};for(var n=new Array(E.length),L=0;L<E.length;L++)n[L]=[E[L]];return{type:"MultiPolygon",coordinates:n}},F.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(k,F,e){var h=e(64872).mod;F.segmentsIntersect=E;function E(m,t,r,l,i,f,v,c){var x=r-m,d=i-m,M=v-i,g=l-t,u=f-t,y=c-f,C=x*y-M*g;if(C===0)return null;var S=(d*y-M*u)/C,D=(d*g-x*u)/C;return D<0||D>1||S<0||S>1?null:{x:m+x*S,y:t+g*S}}F.segmentDistance=function(t,r,l,i,f,v,c,x){if(E(t,r,l,i,f,v,c,x))return 0;var d=l-t,M=i-r,g=c-f,u=x-v,y=d*d+M*M,C=g*g+u*u,S=Math.min(n(d,M,y,f-t,v-r),n(d,M,y,c-t,x-r),n(g,u,C,t-f,r-v),n(g,u,C,l-f,i-v));return Math.sqrt(S)};function n(m,t,r,l,i){var f=l*m+i*t;if(f<0)return l*l+i*i;if(f>r){var v=l-m,c=i-t;return v*v+c*c}else{var x=l*t-i*m;return x*x/r}}var L,w,p;F.getTextLocation=function(t,r,l,i){if((t!==w||i!==p)&&(L={},w=t,p=i),L[l])return L[l];var f=t.getPointAtLength(h(l-i/2,r)),v=t.getPointAtLength(h(l+i/2,r)),c=Math.atan((v.y-f.y)/(v.x-f.x)),x=t.getPointAtLength(h(l,r)),d=(x.x*4+f.x+v.x)/6,M=(x.y*4+f.y+v.y)/6,g={x:d,y:M,theta:c};return L[l]=g,g},F.clearLocationCache=function(){w=null},F.getVisibleSegment=function(t,r,l){var i=r.left,f=r.right,v=r.top,c=r.bottom,x=0,d=t.getTotalLength(),M=d,g,u;function y(S){var D=t.getPointAtLength(S);S===0?g=D:S===d&&(u=D);var T=D.x<i?i-D.x:D.x>f?D.x-f:0,P=D.y<v?v-D.y:D.y>c?D.y-c:0;return Math.sqrt(T*T+P*P)}for(var C=y(x);C;){if(x+=C+l,x>M)return;C=y(x)}for(C=y(M);C;){if(M-=C+l,x>M)return;C=y(M)}return{min:x,max:M,len:M-x,total:d,isClosed:x===0&&M===d&&Math.abs(g.x-u.x)<.1&&Math.abs(g.y-u.y)<.1}},F.findPointOnPath=function(t,r,l,i){i=i||{};for(var f=i.pathLength||t.getTotalLength(),v=i.tolerance||.001,c=i.iterationLimit||30,x=t.getPointAtLength(0)[l]>t.getPointAtLength(f)[l]?-1:1,d=0,M=0,g=f,u,y,C;d<c;){if(u=(M+g)/2,y=t.getPointAtLength(u),C=y[l]-r,Math.abs(C)<v)return y;x*C>0?g=u:M=u,d++}return y}},81697:function(k,F,e){var h=e(92770),E=e(84267),n=e(25075),L=e(21081),w=e(22399).defaultLine,p=e(73627).isArrayOrTypedArray,m=n(w),t=1;function r(c,x){var d=c;return d[3]*=x,d}function l(c){if(h(c))return m;var x=n(c);return x.length?x:m}function i(c){return h(c)?c:t}function f(c,x,d){var M=c.color,g=p(M),u=p(x),y=L.extractOpts(c),C=[],S,D,T,P,A;if(y.colorscale!==void 0?S=L.makeColorScaleFuncFromTrace(c):S=l,g?D=function(R,b){return R[b]===void 0?m:n(S(R[b]))}:D=l,u?T=function(R,b){return R[b]===void 0?t:i(R[b])}:T=i,g||u)for(var a=0;a<d;a++)P=D(M,a),A=T(x,a),C[a]=r(P,A);else C=r(n(M),x);return C}function v(c){var x=L.extractOpts(c),d=x.colorscale;return x.reversescale&&(d=L.flipScale(x.colorscale)),d.map(function(M){var g=M[0],u=E(M[1]),y=u.toRgb();return{index:g,rgb:[y.r,y.g,y.b,y.a]}})}k.exports={formatColor:f,parseColorScale:v}},28984:function(k,F,e){var h=e(23389);function E(n){return[n]}k.exports={keyFun:function(n){return n.key},repeat:E,descend:h,wrap:E,unwrap:function(n){return n[0]}}},23389:function(k){k.exports=function(e){return e}},39240:function(k){k.exports=function(e,h){if(!h)return e;var E=1/Math.abs(h),n=E>1?(E*e+E*h)/E:e+h,L=String(n).length;if(L>16){var w=String(h).length,p=String(e).length;if(L>=p+w){var m=parseFloat(n).toPrecision(12);m.indexOf("e+")===-1&&(n=+m)}}return n}},71828:function(k,F,e){var h=e(39898),E=e(84096).g0,n=e(60721).WU,L=e(92770),w=e(50606),p=w.FP_SAFE,m=-p,t=w.BADNUM,r=k.exports={};r.adjustFormat=function(fe){return!fe||/^\d[.]\df/.test(fe)||/[.]\d%/.test(fe)?fe:fe==="0.f"?"~f":/^\d%/.test(fe)?"~%":/^\ds/.test(fe)?"~s":!/^[~,.0$]/.test(fe)&&/[&fps]/.test(fe)?"~"+fe:fe};var l={};r.warnBadFormat=function(ne){var fe=String(ne);l[fe]||(l[fe]=1,r.warn('encountered bad format: "'+fe+'"'))},r.noFormat=function(ne){return String(ne)},r.numberFormat=function(ne){var fe;try{fe=n(r.adjustFormat(ne))}catch{return r.warnBadFormat(ne),r.noFormat}return fe},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var i=e(73627);r.isTypedArray=i.isTypedArray,r.isArrayOrTypedArray=i.isArrayOrTypedArray,r.isArray1D=i.isArray1D,r.ensureArray=i.ensureArray,r.concat=i.concat,r.maxRowLength=i.maxRowLength,r.minRowLength=i.minRowLength;var f=e(64872);r.mod=f.mod,r.modHalf=f.modHalf;var v=e(96554);r.valObjectMeta=v.valObjectMeta,r.coerce=v.coerce,r.coerce2=v.coerce2,r.coerceFont=v.coerceFont,r.coercePattern=v.coercePattern,r.coerceHoverinfo=v.coerceHoverinfo,r.coerceSelectionMarkerOpacity=v.coerceSelectionMarkerOpacity,r.validate=v.validate;var c=e(41631);r.dateTime2ms=c.dateTime2ms,r.isDateTime=c.isDateTime,r.ms2DateTime=c.ms2DateTime,r.ms2DateTimeLocal=c.ms2DateTimeLocal,r.cleanDate=c.cleanDate,r.isJSDate=c.isJSDate,r.formatDate=c.formatDate,r.incrementMonth=c.incrementMonth,r.dateTick0=c.dateTick0,r.dfltRange=c.dfltRange,r.findExactDates=c.findExactDates,r.MIN_MS=c.MIN_MS,r.MAX_MS=c.MAX_MS;var x=e(65888);r.findBin=x.findBin,r.sorterAsc=x.sorterAsc,r.sorterDes=x.sorterDes,r.distinctVals=x.distinctVals,r.roundUp=x.roundUp,r.sort=x.sort,r.findIndexOfMin=x.findIndexOfMin,r.sortObjectKeys=e(78607);var d=e(80038);r.aggNums=d.aggNums,r.len=d.len,r.mean=d.mean,r.median=d.median,r.midRange=d.midRange,r.variance=d.variance,r.stdev=d.stdev,r.interp=d.interp;var M=e(35657);r.init2dArray=M.init2dArray,r.transposeRagged=M.transposeRagged,r.dot=M.dot,r.translationMatrix=M.translationMatrix,r.rotationMatrix=M.rotationMatrix,r.rotationXYMatrix=M.rotationXYMatrix,r.apply3DTransform=M.apply3DTransform,r.apply2DTransform=M.apply2DTransform,r.apply2DTransform2=M.apply2DTransform2,r.convertCssMatrix=M.convertCssMatrix,r.inverseTransformMatrix=M.inverseTransformMatrix;var g=e(26348);r.deg2rad=g.deg2rad,r.rad2deg=g.rad2deg,r.angleDelta=g.angleDelta,r.angleDist=g.angleDist,r.isFullCircle=g.isFullCircle,r.isAngleInsideSector=g.isAngleInsideSector,r.isPtInsideSector=g.isPtInsideSector,r.pathArc=g.pathArc,r.pathSector=g.pathSector,r.pathAnnulus=g.pathAnnulus;var u=e(99863);r.isLeftAnchor=u.isLeftAnchor,r.isCenterAnchor=u.isCenterAnchor,r.isRightAnchor=u.isRightAnchor,r.isTopAnchor=u.isTopAnchor,r.isMiddleAnchor=u.isMiddleAnchor,r.isBottomAnchor=u.isBottomAnchor;var y=e(87642);r.segmentsIntersect=y.segmentsIntersect,r.segmentDistance=y.segmentDistance,r.getTextLocation=y.getTextLocation,r.clearLocationCache=y.clearLocationCache,r.getVisibleSegment=y.getVisibleSegment,r.findPointOnPath=y.findPointOnPath;var C=e(1426);r.extendFlat=C.extendFlat,r.extendDeep=C.extendDeep,r.extendDeepAll=C.extendDeepAll,r.extendDeepNoArrays=C.extendDeepNoArrays;var S=e(47769);r.log=S.log,r.warn=S.warn,r.error=S.error;var D=e(30587);r.counterRegex=D.counter;var T=e(79990);r.throttle=T.throttle,r.throttleDone=T.done,r.clearThrottle=T.clear;var P=e(24401);r.getGraphDiv=P.getGraphDiv,r.isPlotDiv=P.isPlotDiv,r.removeElement=P.removeElement,r.addStyleRule=P.addStyleRule,r.addRelatedStyleRule=P.addRelatedStyleRule,r.deleteRelatedStyleRule=P.deleteRelatedStyleRule,r.getFullTransformMatrix=P.getFullTransformMatrix,r.getElementTransformMatrix=P.getElementTransformMatrix,r.getElementAndAncestors=P.getElementAndAncestors,r.equalDomRects=P.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(fe){return L(fe)?(fe=Number(fe),fe>p||fe<m?t:fe):t},r.isIndex=function(ne,fe){return fe!==void 0&&ne>=fe?!1:L(ne)&&ne>=0&&ne%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(ne,fe){for(var te=new Array(fe),q=0;q<fe;q++)te[q]=ne;return te},r.swapAttrs=function(ne,fe,te,q){te||(te="x"),q||(q="y");for(var he=0;he<fe.length;he++){var se=fe[he],pe=r.nestedProperty(ne,se.replace("?",te)),we=r.nestedProperty(ne,se.replace("?",q)),Ee=pe.get();pe.set(we.get()),we.set(Ee)}},r.raiseToTop=function(fe){fe.parentNode.appendChild(fe)},r.cancelTransition=function(ne){return ne.transition().duration(0)},r.constrain=function(ne,fe,te){return fe>te?Math.max(te,Math.min(fe,ne)):Math.max(fe,Math.min(te,ne))},r.bBoxIntersect=function(ne,fe,te){return te=te||0,ne.left<=fe.right+te&&fe.left<=ne.right+te&&ne.top<=fe.bottom+te&&fe.top<=ne.bottom+te},r.simpleMap=function(ne,fe,te,q,he){for(var se=ne.length,pe=new Array(se),we=0;we<se;we++)pe[we]=fe(ne[we],te,q,he);return pe},r.randstr=function ne(fe,te,q,he){if(q||(q=16),te===void 0&&(te=24),te<=0)return"0";var se=Math.log(Math.pow(2,te))/Math.log(q),pe="",we,Ee,Me;for(we=2;se===1/0;we*=2)se=Math.log(Math.pow(2,te/we))/Math.log(q)*we;var Be=se-Math.floor(se);for(we=0;we<Math.floor(se);we++)Me=Math.floor(Math.random()*q).toString(q),pe=Me+pe;Be&&(Ee=Math.pow(q,Be),Me=Math.floor(Math.random()*Ee).toString(q),pe=Me+pe);var Ne=parseInt(pe,q);return fe&&fe[pe]||Ne!==1/0&&Ne>=Math.pow(2,te)?he>10?(r.warn("randstr failed uniqueness"),pe):ne(fe,te,q,(he||0)+1):pe},r.OptionControl=function(ne,fe){ne||(ne={}),fe||(fe="opt");var te={};return te.optionList=[],te._newoption=function(q){q[fe]=ne,te[q.name]=q,te.optionList.push(q)},te["_"+fe]=ne,te},r.smooth=function(ne,fe){if(fe=Math.round(fe)||0,fe<2)return ne;var te=ne.length,q=2*te,he=2*fe-1,se=new Array(he),pe=new Array(te),we,Ee,Me,Be;for(we=0;we<he;we++)se[we]=(1-Math.cos(Math.PI*(we+1)/fe))/(2*fe);for(we=0;we<te;we++){for(Be=0,Ee=0;Ee<he;Ee++)Me=we+Ee+1-fe,Me<-te?Me-=q*Math.round(Me/q):Me>=q&&(Me-=q*Math.floor(Me/q)),Me<0?Me=-1-Me:Me>=te&&(Me=q-1-Me),Be+=ne[Me]*se[Ee];pe[we]=Be}return pe},r.syncOrAsync=function(ne,fe,te){var q,he;function se(){return r.syncOrAsync(ne,fe,te)}for(;ne.length;)if(he=ne.splice(0,1)[0],q=he(fe),q&&q.then)return q.then(se);return te&&te(fe)},r.stripTrailingSlash=function(ne){return ne.substr(-1)==="/"?ne.substr(0,ne.length-1):ne},r.noneOrAll=function(ne,fe,te){if(ne){var q=!1,he=!0,se,pe;for(se=0;se<te.length;se++)pe=ne[te[se]],pe!=null?q=!0:he=!1;if(q&&!he)for(se=0;se<te.length;se++)ne[te[se]]=fe[te[se]]}},r.mergeArray=function(ne,fe,te,q){var he=typeof q=="function";if(r.isArrayOrTypedArray(ne))for(var se=Math.min(ne.length,fe.length),pe=0;pe<se;pe++){var we=ne[pe];fe[pe][te]=he?q(we):we}},r.mergeArrayCastPositive=function(ne,fe,te){return r.mergeArray(ne,fe,te,function(q){var he=+q;return isFinite(he)&&he>0?he:0})},r.fillArray=function(ne,fe,te,q){if(q=q||r.identity,r.isArrayOrTypedArray(ne))for(var he=0;he<fe.length;he++)fe[he][te]=q(ne[he])},r.castOption=function(ne,fe,te,q){q=q||r.identity;var he=r.nestedProperty(ne,te).get();return r.isArrayOrTypedArray(he)?Array.isArray(fe)&&r.isArrayOrTypedArray(he[fe[0]])?q(he[fe[0]][fe[1]]):q(he[fe]):he},r.extractOption=function(ne,fe,te,q){if(te in ne)return ne[te];var he=r.nestedProperty(fe,q).get();if(!Array.isArray(he))return he};function A(ne){var fe={};for(var te in ne)for(var q=ne[te],he=0;he<q.length;he++)fe[q[he]]=+te;return fe}r.tagSelected=function(ne,fe,te){var q=fe.selectedpoints,he=fe._indexToPoints,se;he&&(se=A(he));function pe(Ne){return Ne!==void 0&&Ne<ne.length}for(var we=0;we<q.length;we++){var Ee=q[we];if(r.isIndex(Ee)||r.isArrayOrTypedArray(Ee)&&r.isIndex(Ee[0])&&r.isIndex(Ee[1])){var Me=se?se[Ee]:Ee,Be=te?te[Me]:Me;pe(Be)&&(ne[Be].selected=1)}}},r.selIndices2selPoints=function(ne){var fe=ne.selectedpoints,te=ne._indexToPoints;if(te){for(var q=A(te),he=[],se=0;se<fe.length;se++){var pe=fe[se];if(r.isIndex(pe)){var we=q[pe];r.isIndex(we)&&he.push(we)}}return he}else return fe},r.getTargetArray=function(ne,fe){var te=fe.target;if(typeof te=="string"&&te){var q=r.nestedProperty(ne,te).get();return Array.isArray(q)?q:!1}else if(Array.isArray(te))return te;return!1};function a(ne,fe,te){var q={};typeof fe!="object"&&(fe={});var he=te==="pieLike"?-1:3,se=Object.keys(ne),pe,we,Ee;for(pe=0;pe<se.length;pe++)we=se[pe],Ee=ne[we],!(we.charAt(0)==="_"||typeof Ee=="function")&&(we==="module"?q[we]=Ee:Array.isArray(Ee)?we==="colorscale"||he===-1?q[we]=Ee.slice():q[we]=Ee.slice(0,he):r.isTypedArray(Ee)?he===-1?q[we]=Ee.subarray():q[we]=Ee.subarray(0,he):Ee&&typeof Ee=="object"?q[we]=a(ne[we],fe[we],te):q[we]=Ee);for(se=Object.keys(fe),pe=0;pe<se.length;pe++)we=se[pe],Ee=fe[we],(typeof Ee!="object"||!(we in q)||typeof q[we]!="object")&&(q[we]=Ee);return q}r.minExtend=a,r.titleCase=function(ne){return ne.charAt(0).toUpperCase()+ne.substr(1)},r.containsAny=function(ne,fe){for(var te=0;te<fe.length;te++)if(ne.indexOf(fe[te])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var R=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return R.test(window.navigator.userAgent)};var b=/iPad|iPhone|iPod/;r.isIOS=function(){return b.test(window.navigator.userAgent)};var N=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var ne=N.exec(window.navigator.userAgent);if(ne&&ne.length===2){var fe=parseInt(ne[1]);if(!isNaN(fe))return fe}return null},r.isD3Selection=function(ne){return ne instanceof h.selection},r.ensureSingle=function(ne,fe,te,q){var he=ne.select(fe+(te?"."+te:""));if(he.size())return he;var se=ne.append(fe);return te&&se.classed(te,!0),q&&se.call(q),se},r.ensureSingleById=function(ne,fe,te,q){var he=ne.select(fe+"#"+te);if(he.size())return he;var se=ne.append(fe).attr("id",te);return q&&se.call(q),se},r.objectFromPath=function(ne,fe){for(var te=ne.split("."),q,he=q={},se=0;se<te.length;se++){var pe=te[se],we=null,Ee=te[se].match(/(.*)\[([0-9]+)\]/);Ee?(pe=Ee[1],we=Ee[2],q=q[pe]=[],se===te.length-1?q[we]=fe:q[we]={},q=q[we]):(se===te.length-1?q[pe]=fe:q[pe]={},q=q[pe])}return he};var O=/^([^\[\.]+)\.(.+)?/,Y=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function B(ne){return ne.slice(0,2)==="__"}r.expandObjectPaths=function(ne){var fe,te,q,he,se,pe,we;if(typeof ne=="object"&&!Array.isArray(ne)){for(te in ne)if(ne.hasOwnProperty(te))if(fe=te.match(O)){if(he=ne[te],q=fe[1],B(q))continue;delete ne[te],ne[q]=r.extendDeepNoArrays(ne[q]||{},r.objectFromPath(te,r.expandObjectPaths(he))[q])}else if(fe=te.match(Y)){if(he=ne[te],q=fe[1],B(q))continue;if(se=parseInt(fe[2]),delete ne[te],ne[q]=ne[q]||[],fe[3]===".")we=fe[4],pe=ne[q][se]=ne[q][se]||{},r.extendDeepNoArrays(pe,r.objectFromPath(we,r.expandObjectPaths(he)));else{if(B(q))continue;ne[q][se]=r.expandObjectPaths(he)}}else{if(B(te))continue;ne[te]=r.expandObjectPaths(ne[te])}}return ne},r.numSeparate=function(ne,fe,te){if(te||(te=!1),typeof fe!="string"||fe.length===0)throw new Error("Separator string required for formatting!");typeof ne=="number"&&(ne=String(ne));var q=/(\d+)(\d{3})/,he=fe.charAt(0),se=fe.charAt(1),pe=ne.split("."),we=pe[0],Ee=pe.length>1?he+pe[1]:"";if(se&&(pe.length>1||we.length>4||te))for(;q.test(we);)we=we.replace(q,"$1"+se+"$2");return we+Ee},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var W=/^\w*$/;r.templateString=function(ne,fe){var te={};return ne.replace(r.TEMPLATE_STRING_REGEX,function(q,he){var se;return W.test(he)?se=fe[he]:(te[he]=te[he]||r.nestedProperty(fe,he).get,se=te[he]()),r.isValidTextValue(se)?se:""})};var H={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return ue.apply(H,arguments)};var U={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return ue.apply(U,arguments)};var G=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function j(ne){var fe=ne.match(G);return fe?{key:fe[1],op:fe[2],number:Number(fe[3])}:{key:ne,op:null,number:null}}var re={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return ue.apply(re,arguments)};var ae=/^[:|\|]/;function ue(ne,fe,te){var q=this,he=arguments;fe||(fe={});var se={};return ne.replace(r.TEMPLATE_STRING_REGEX,function(pe,we,Ee){var Me=we==="xother"||we==="yother",Be=we==="_xother"||we==="_yother",Ne=we==="_xother_"||we==="_yother_",Ce=we==="xother_"||we==="yother_",Te=Me||Be||Ce||Ne,Le=we;(Be||Ne)&&(Le=Le.substring(1)),(Ce||Ne)&&(Le=Le.substring(0,Le.length-1));var Ve=null,We=null;if(q.parseMultDiv){var Fe=j(Le);Le=Fe.key,Ve=Fe.op,We=Fe.number}var Ge;if(Te){if(Ge=fe[Le],Ge===void 0)return""}else{var it,qe;for(qe=3;qe<he.length;qe++)if(it=he[qe],!!it){if(it.hasOwnProperty(Le)){Ge=it[Le];break}if(W.test(Le)||(Ge=r.nestedProperty(it,Le).get(),Ge=se[Le]||r.nestedProperty(it,Le).get(),Ge&&(se[Le]=Ge)),Ge!==void 0)break}}if(Ge!==void 0&&(Ve==="*"&&(Ge*=We),Ve==="/"&&(Ge/=We)),Ge===void 0&&q)return q.count<q.max&&(r.warn("Variable '"+Le+"' in "+q.name+" could not be found!"),Ge=pe),q.count===q.max&&r.warn("Too many "+q.name+" warnings - additional warnings will be suppressed"),q.count++,pe;if(Ee){var $e;if(Ee[0]===":"&&($e=te?te.numberFormat:r.numberFormat,Ge=$e(Ee.replace(ae,""))(Ge)),Ee[0]==="|"){$e=te?te.timeFormat:E;var tt=r.dateTime2ms(Ge);Ge=r.formatDate(tt,Ee.replace(ae,""),!1,$e)}}else{var vt=Le+"Label";fe.hasOwnProperty(vt)&&(Ge=fe[vt])}return Te&&(Ge="("+Ge+")",(Be||Ne)&&(Ge=" "+Ge),(Ce||Ne)&&(Ge=Ge+" ")),Ge})}var de=48,ee=57;r.subplotSort=function(ne,fe){for(var te=Math.min(ne.length,fe.length)+1,q=0,he=0,se=0;se<te;se++){var pe=ne.charCodeAt(se)||0,we=fe.charCodeAt(se)||0,Ee=pe>=de&&pe<=ee,Me=we>=de&&we<=ee;if(Ee&&(q=10*q+pe-de),Me&&(he=10*he+we-de),!Ee||!Me){if(q!==he)return q-he;if(pe!==we)return pe-we}}return he-q};var X=2e9;r.seedPseudoRandom=function(){X=2e9},r.pseudoRandom=function(){var ne=X;return X=(69069*X+1)%4294967296,Math.abs(X-ne)<429496729?r.pseudoRandom():X/4294967296},r.fillText=function(ne,fe,te){var q=Array.isArray(te)?function(pe){te.push(pe)}:function(pe){te.text=pe},he=r.extractOption(ne,fe,"htx","hovertext");if(r.isValidTextValue(he))return q(he);var se=r.extractOption(ne,fe,"tx","text");if(r.isValidTextValue(se))return q(se)},r.isValidTextValue=function(ne){return ne||ne===0},r.formatPercent=function(ne,fe){fe=fe||0;for(var te=(Math.round(100*ne*Math.pow(10,fe))*Math.pow(.1,fe)).toFixed(fe)+"%",q=0;q<fe;q++)te.indexOf(".")!==-1&&(te=te.replace("0%","%"),te=te.replace(".%","%"));return te},r.isHidden=function(ne){var fe=window.getComputedStyle(ne).display;return!fe||fe==="none"},r.strTranslate=function(ne,fe){return ne||fe?"translate("+ne+","+fe+")":""},r.strRotate=function(ne){return ne?"rotate("+ne+")":""},r.strScale=function(ne){return ne!==1?"scale("+ne+")":""},r.getTextTransform=function(ne){var fe=ne.noCenter,te=ne.textX,q=ne.textY,he=ne.targetX,se=ne.targetY,pe=ne.anchorX||0,we=ne.anchorY||0,Ee=ne.rotate,Me=ne.scale;return Me?Me>1&&(Me=1):Me=0,r.strTranslate(he-Me*(te+pe),se-Me*(q+we))+r.strScale(Me)+(Ee?"rotate("+Ee+(fe?"":" "+te+" "+q)+")":"")},r.setTransormAndDisplay=function(ne,fe){ne.attr("transform",r.getTextTransform(fe)),ne.style("display",fe.scale?null:"none")},r.ensureUniformFontSize=function(ne,fe){var te=r.extendFlat({},fe);return te.size=Math.max(fe.size,ne._fullLayout.uniformtext.minsize||0),te},r.join2=function(ne,fe,te){var q=ne.length;return q>1?ne.slice(0,-1).join(fe)+te+ne[q-1]:ne.join(fe)},r.bigFont=function(ne){return Math.round(1.2*ne)};var Q=r.getFirefoxVersion(),$=Q!==null&&Q<86;r.getPositionFromD3Event=function(){return $?[h.event.layerX,h.event.layerY]:[h.event.offsetX,h.event.offsetY]}},41965:function(k){k.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(k,F,e){var h=e(65487),E=/^\w*$/,n=0,L=1,w=2,p=3,m=4;k.exports=function(r,l,i,f){i=i||"name",f=f||"value";var v,c,x,d={};l&&l.length?(x=h(r,l),c=x.get()):c=r,l=l||"";var M={};if(c)for(v=0;v<c.length;v++)M[c[v][i]]=v;var g=E.test(f),u={set:function(y,C){var S=C===null?m:n;if(!c){if(!x||S===m)return;c=[],x.set(c)}var D=M[y];if(D===void 0){if(S===m)return;S=S|p,D=c.length,M[y]=D}else C!==(g?c[D][f]:h(c[D],f).get())&&(S=S|w);var T=c[D]=c[D]||{};return T[i]=y,g?T[f]=C:h(T,f).set(C),C!==null&&(S=S&~m),d[D]=d[D]|S,u},get:function(y){if(c){var C=M[y];if(C!==void 0)return g?c[C][f]:h(c[C],f).get()}},rename:function(y,C){var S=M[y];return S===void 0||(d[S]=d[S]|L,M[C]=S,delete M[y],c[S][i]=C),u},remove:function(y){var C=M[y];if(C===void 0)return u;var S=c[C];if(Object.keys(S).length>2)return d[C]=d[C]|w,u.set(y,null);if(g){for(v=C;v<c.length;v++)d[v]=d[v]|p;for(v=C;v<c.length;v++)M[c[v][i]]--;c.splice(C,1),delete M[y]}else h(S,f).set(null),d[C]=d[C]|w|m;return u},constructUpdate:function(){for(var y,C,S={},D=Object.keys(d),T=0;T<D.length;T++)C=D[T],y=l+"["+C+"]",c[C]?(d[C]&L&&(S[y+"."+i]=c[C][i]),d[C]&w&&(g?S[y+"."+f]=d[C]&m?null:c[C][f]:S[y+"."+f]=d[C]&m?null:h(c[C],f).get())):S[y]=null;return S}};return u}},15867:function(k,F,e){var h=e(73972);k.exports=function(n,L){for(var w=n._context.locale,p=0;p<2;p++){for(var m=n._context.locales,t=0;t<2;t++){var r=(m[w]||{}).dictionary;if(r){var l=r[L];if(l)return l}m=h.localeRegistry}var i=w.split("-")[0];if(i===w)break;w=i}return L}},47769:function(k,F,e){var h=e(72075).dfltConfig,E=e(75046),n=k.exports={};n.log=function(){var L;if(h.logging>1){var w=["LOG:"];for(L=0;L<arguments.length;L++)w.push(arguments[L]);console.trace.apply(console,w)}if(h.notifyOnLogging>1){var p=[];for(L=0;L<arguments.length;L++)p.push(arguments[L]);E(p.join("<br>"),"long")}},n.warn=function(){var L;if(h.logging>0){var w=["WARN:"];for(L=0;L<arguments.length;L++)w.push(arguments[L]);console.trace.apply(console,w)}if(h.notifyOnLogging>0){var p=[];for(L=0;L<arguments.length;L++)p.push(arguments[L]);E(p.join("<br>"),"stick")}},n.error=function(){var L;if(h.logging>0){var w=["ERROR:"];for(L=0;L<arguments.length;L++)w.push(arguments[L]);console.error.apply(console,w)}if(h.notifyOnLogging>0){var p=[];for(L=0;L<arguments.length;L++)p.push(arguments[L]);E(p.join("<br>"),"stick")}}},77310:function(k,F,e){var h=e(39898);k.exports=function(n,L,w){var p=n.selectAll("g."+w.replace(/\s/g,".")).data(L,function(t){return t[0].trace.uid});p.exit().remove(),p.enter().append("g").attr("class",w),p.order();var m=n.classed("rangeplot")?"nodeRangePlot3":"node3";return p.each(function(t){t[0][m]=h.select(this)}),p}},35657:function(k,F,e){var h=e(79576);F.init2dArray=function(E,n){for(var L=new Array(E),w=0;w<E;w++)L[w]=new Array(n);return L},F.transposeRagged=function(E){var n=0,L=E.length,w,p;for(w=0;w<L;w++)n=Math.max(n,E[w].length);var m=new Array(n);for(w=0;w<n;w++)for(m[w]=new Array(L),p=0;p<L;p++)m[w][p]=E[p][w];return m},F.dot=function(E,n){if(!(E.length&&n.length)||E.length!==n.length)return null;var L=E.length,w,p;if(E[0].length)for(w=new Array(L),p=0;p<L;p++)w[p]=F.dot(E[p],n);else if(n[0].length){var m=F.transposeRagged(n);for(w=new Array(m.length),p=0;p<m.length;p++)w[p]=F.dot(E,m[p])}else for(w=0,p=0;p<L;p++)w+=E[p]*n[p];return w},F.translationMatrix=function(E,n){return[[1,0,E],[0,1,n],[0,0,1]]},F.rotationMatrix=function(E){var n=E*Math.PI/180;return[[Math.cos(n),-Math.sin(n),0],[Math.sin(n),Math.cos(n),0],[0,0,1]]},F.rotationXYMatrix=function(E,n,L){return F.dot(F.dot(F.translationMatrix(n,L),F.rotationMatrix(E)),F.translationMatrix(-n,-L))},F.apply3DTransform=function(E){return function(){var n=arguments,L=arguments.length===1?n[0]:[n[0],n[1],n[2]||0];return F.dot(E,[L[0],L[1],L[2],1]).slice(0,3)}},F.apply2DTransform=function(E){return function(){var n=arguments;n.length===3&&(n=n[0]);var L=arguments.length===1?n[0]:[n[0],n[1]];return F.dot(E,[L[0],L[1],1]).slice(0,2)}},F.apply2DTransform2=function(E){var n=F.apply2DTransform(E);return function(L){return n(L.slice(0,2)).concat(n(L.slice(2,4)))}},F.convertCssMatrix=function(E){if(E){var n=E.length;if(n===16)return E;if(n===6)return[E[0],E[1],0,0,E[2],E[3],0,0,0,0,1,0,E[4],E[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},F.inverseTransformMatrix=function(E){var n=[];return h.invert(n,E),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}},64872:function(k){function F(h,E){var n=h%E;return n<0?n+E:n}function e(h,E){return Math.abs(h)>E/2?h-Math.round(h/E)*E:h}k.exports={mod:F,modHalf:e}},65487:function(k,F,e){var h=e(92770),E=e(73627).isArrayOrTypedArray;k.exports=function(f,v){if(h(v))v=String(v);else if(typeof v!="string"||v.substr(v.length-4)==="[-1]")throw"bad property string";var c=v.split("."),x,d,M,g;for(g=0;g<c.length;g++)if(String(c[g]).slice(0,2)==="__")throw"bad property string";for(g=0;g<c.length;){if(x=String(c[g]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),x){if(x[1])c[g]=x[1];else if(g===0)c.splice(0,1);else throw"bad property string";for(d=x[2].substr(1,x[2].length-2).split("]["),M=0;M<d.length;M++)g++,c.splice(g,0,Number(d[M]))}g++}return typeof f!="object"?l(f,v,c):{set:p(f,c,v),get:n(f,c),astr:v,parts:c,obj:f}};function n(i,f){return function(){var v=i,c,x,d,M,g;for(M=0;M<f.length-1;M++){if(c=f[M],c===-1){for(x=!0,d=[],g=0;g<v.length;g++)d[g]=n(v[g],f.slice(M+1))(),d[g]!==d[0]&&(x=!1);return x?d[0]:d}if(typeof c=="number"&&!E(v)||(v=v[c],typeof v!="object"||v===null))return}if(!(typeof v!="object"||v===null)&&(d=v[f[M]],d!==null))return d}}var L=/(^|\.)args\[/;function w(i,f){return i===void 0||i===null&&!f.match(L)}function p(i,f,v){return function(c){var x=i,d="",M=w(c,v),g,u;for(u=0;u<f.length-1;u++){if(g=f[u],typeof g=="number"&&!E(x))throw"array index but container is not an array";if(g===-1){if(M=!t(x,f.slice(u+1),c,v),M)break;return}if(!r(x,g,f[u+1],M))break;if(x=x[g],typeof x!="object"||x===null)throw"container is not an object";d=m(d,g)}if(M){if(u===f.length-1&&(delete x[f[u]],Array.isArray(x)&&+f[u]===x.length-1))for(;x.length&&x[x.length-1]===void 0;)x.pop()}else x[f[u]]=c}}function m(i,f){var v=f;return h(f)?v="["+f+"]":i&&(v="."+f),i+v}function t(i,f,v,c){var x=E(v),d=!0,M=v,g=c.replace("-1",0),u=x?!1:w(v,g),y=f[0],C;for(C=0;C<i.length;C++)g=c.replace("-1",C),x&&(M=v[C%v.length],u=w(M,g)),u&&(d=!1),r(i,C,y,u)&&p(i[C],f,c.replace("-1",C))(M);return d}function r(i,f,v,c){if(i[f]===void 0){if(c)return!1;typeof v=="number"?i[f]=[]:i[f]={}}return!0}function l(i,f,v){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:v,obj:i}}},64213:function(k){k.exports=function(){}},75046:function(k,F,e){var h=e(39898),E=e(92770),n=[];k.exports=function(L,w){if(n.indexOf(L)!==-1)return;n.push(L);var p=1e3;E(w)?p=w:w==="long"&&(p=3e3);var m=h.select("body").selectAll(".plotly-notifier").data([0]);m.enter().append("div").classed("plotly-notifier",!0);var t=m.selectAll(".notifier-note").data(n);function r(l){l.duration(700).style("opacity",0).each("end",function(i){var f=n.indexOf(i);f!==-1&&n.splice(f,1),h.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(l){var i=h.select(this);i.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){i.transition().call(r)});for(var f=i.append("p"),v=l.split(/<br\s*\/?>/g),c=0;c<v.length;c++)c&&f.append("br"),f.append("span").text(v[c]);w==="stick"?i.transition().duration(350).style("opacity",1):i.transition().duration(700).style("opacity",1).transition().delay(p).call(r)})}},39918:function(k,F,e){var h=e(6964),E="data-savedcursor",n="!!";k.exports=function(w,p){var m=w.attr(E);if(p){if(!m){for(var t=(w.attr("class")||"").split(" "),r=0;r<t.length;r++){var l=t[r];l.indexOf("cursor-")===0&&w.attr(E,l.substr(7)).classed(l,!1)}w.attr(E)||w.attr(E,n)}h(w,p)}else m&&(w.attr(E,null),m===n?h(w):h(w,m))}},61082:function(k,F,e){var h=e(35657).dot,E=e(50606).BADNUM,n=k.exports={};n.tester=function(w){var p=w.slice(),m=p[0][0],t=m,r=p[0][1],l=r,i;for((p[p.length-1][0]!==p[0][0]||p[p.length-1][1]!==p[0][1])&&p.push(p[0]),i=1;i<p.length;i++)m=Math.min(m,p[i][0]),t=Math.max(t,p[i][0]),r=Math.min(r,p[i][1]),l=Math.max(l,p[i][1]);var f=!1,v;p.length===5&&(p[0][0]===p[1][0]?p[2][0]===p[3][0]&&p[0][1]===p[3][1]&&p[1][1]===p[2][1]&&(f=!0,v=function(g){return g[0]===p[0][0]}):p[0][1]===p[1][1]&&p[2][1]===p[3][1]&&p[0][0]===p[3][0]&&p[1][0]===p[2][0]&&(f=!0,v=function(g){return g[1]===p[0][1]}));function c(g,u){var y=g[0],C=g[1];return!(y===E||y<m||y>t||C===E||C<r||C>l||u&&v(g))}function x(g,u){var y=g[0],C=g[1];if(y===E||y<m||y>t||C===E||C<r||C>l)return!1;var S=p.length,D=p[0][0],T=p[0][1],P=0,A,a,R,b,N;for(A=1;A<S;A++)if(a=D,R=T,D=p[A][0],T=p[A][1],b=Math.min(a,D),!(y<b||y>Math.max(a,D)||C>Math.max(R,T)))if(C<Math.min(R,T))y!==b&&P++;else{if(D===a?N=C:N=R+(y-a)*(T-R)/(D-a),C===N)return!(A===1&&u);C<=N&&y!==b&&P++}return P%2===1}var d=!0,M=p[0];for(i=1;i<p.length;i++)if(M[0]!==p[i][0]||M[1]!==p[i][1]){d=!1;break}return{xmin:m,xmax:t,ymin:r,ymax:l,pts:p,contains:f?c:x,isRect:f,degenerate:d}},n.isSegmentBent=function(w,p,m,t){var r=w[p],l=[w[m][0]-r[0],w[m][1]-r[1]],i=h(l,l),f=Math.sqrt(i),v=[-l[1]/f,l[0]/f],c,x,d;for(c=p+1;c<m;c++)if(x=[w[c][0]-r[0],w[c][1]-r[1]],d=h(x,l),d<0||d>i||Math.abs(h(x,v))>t)return!0;return!1},n.filter=function(w,p){var m=[w[0]],t=0,r=0;function l(f){w.push(f);var v=m.length,c=t;m.splice(r+1);for(var x=c+1;x<w.length;x++)(x===w.length-1||n.isSegmentBent(w,c,x+1,p))&&(m.push(w[x]),m.length<v-2&&(t=x,r=m.length-1),c=x)}if(w.length>1){var i=w.pop();l(i)}return{addPt:l,raw:w,filtered:m}}},79749:function(k,F,e){var h=e(58617),E=e(98580);k.exports=function(L,w,p){var m=L._fullLayout,t=!0;return m._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(p);return}if(!(r.pick&&!m._has("parcoords"))){try{r.regl=E({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:w||[],cachedCode:p||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(l){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:l,layer:r.key})},!1)}}),t||h({container:m._glcontainer.node()}),t}},45142:function(k,F,e){var h=e(92770),E=e(35791);k.exports=function(w){var p;if(w&&w.hasOwnProperty("userAgent")?p=w.userAgent:p=n(),typeof p!="string")return!0;var m=E({ua:{headers:{"user-agent":p}},tablet:!0,featureDetect:!1});if(!m)for(var t=p.split(" "),r=1;r<t.length;r++){var l=t[r];if(l.indexOf("Safari")!==-1)for(var i=r-1;i>-1;i--){var f=t[i];if(f.substr(0,8)==="Version/"){var v=f.substr(8).split(".")[0];if(h(v)&&(v=+v),v>=13)return!0}}}return m};function n(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},75138:function(k){k.exports=function(e,h){if(h instanceof RegExp){for(var E=h.toString(),n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===E)return e;e.push(h)}else(h||h===0)&&e.indexOf(h)===-1&&e.push(h);return e}},10847:function(k,F,e){var h=e(71828),E=e(72075).dfltConfig;function n(w,p){for(var m=[],t,r=0;r<p.length;r++)t=p[r],t===w?m[r]=t:typeof t=="object"?m[r]=Array.isArray(t)?h.extendDeep([],t):h.extendDeepAll({},t):m[r]=t;return m}var L={};L.add=function(w,p,m,t,r){var l,i;if(w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},i=w.undoQueue.index,w.autoplay){w.undoQueue.inSequence||(w.autoplay=!1);return}!w.undoQueue.sequence||w.undoQueue.beginSequence?(l={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},w.undoQueue.queue.splice(i,w.undoQueue.queue.length-i,l),w.undoQueue.index+=1):l=w.undoQueue.queue[i-1],w.undoQueue.beginSequence=!1,l&&(l.undo.calls.unshift(p),l.undo.args.unshift(m),l.redo.calls.push(t),l.redo.args.push(r)),w.undoQueue.queue.length>E.queueLength&&(w.undoQueue.queue.shift(),w.undoQueue.index--)},L.startSequence=function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!0,w.undoQueue.beginSequence=!0},L.stopSequence=function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!1,w.undoQueue.beginSequence=!1},L.undo=function(p){var m,t;if(!(p.undoQueue===void 0||isNaN(p.undoQueue.index)||p.undoQueue.index<=0)){for(p.undoQueue.index--,m=p.undoQueue.queue[p.undoQueue.index],p.undoQueue.inSequence=!0,t=0;t<m.undo.calls.length;t++)L.plotDo(p,m.undo.calls[t],m.undo.args[t]);p.undoQueue.inSequence=!1,p.autoplay=!1}},L.redo=function(p){var m,t;if(!(p.undoQueue===void 0||isNaN(p.undoQueue.index)||p.undoQueue.index>=p.undoQueue.queue.length)){for(m=p.undoQueue.queue[p.undoQueue.index],p.undoQueue.inSequence=!0,t=0;t<m.redo.calls.length;t++)L.plotDo(p,m.redo.calls[t],m.redo.args[t]);p.undoQueue.inSequence=!1,p.autoplay=!1,p.undoQueue.index++}},L.plotDo=function(w,p,m){w.autoplay=!0,m=n(w,m),p.apply(null,m)},k.exports=L},30587:function(k,F){F.counter=function(e,h,E,n){var L=(h||"")+(E?"":"$"),w=n===!1?"":"^";return e==="xy"?new RegExp(w+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(w+e+"([2-9]|[1-9][0-9]+)?"+L)}},6962:function(k){var F=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;k.exports=function(h,E){for(;E;){var n=h.match(F);if(n)h=n[1];else if(h.match(e))h="";else throw new Error("bad relativeAttr call:"+[h,E]);if(E.charAt(0)==="^")E=E.slice(1);else break}return h&&E.charAt(0)!=="["?h+"."+E:h+E}},51332:function(k,F,e){var h=e(73627).isArrayOrTypedArray,E=e(41965);k.exports=function n(L,w){for(var p in w){var m=w[p],t=L[p];if(t!==m)if(p.charAt(0)==="_"||typeof m=="function"){if(p in L)continue;L[p]=m}else if(h(m)&&h(t)&&E(m[0])){if(p==="customdata"||p==="ids")continue;for(var r=Math.min(m.length,t.length),l=0;l<r;l++)t[l]!==m[l]&&E(m[l])&&E(t[l])&&n(t[l],m[l])}else E(m)&&E(t)&&(n(t,m),Object.keys(t).length||delete L[p])}}},65888:function(k,F,e){var h=e(92770),E=e(47769),n=e(23389),L=e(50606).BADNUM,w=1e-9;F.findBin=function(l,i,f){if(h(i.start))return f?Math.ceil((l-i.start)/i.size-w)-1:Math.floor((l-i.start)/i.size+w);var v=0,c=i.length,x=0,d=c>1?(i[c-1]-i[0])/(c-1):1,M,g;for(d>=0?g=f?p:m:g=f?r:t,l+=d*w*(f?-1:1)*(d>=0?1:-1);v<c&&x++<100;)M=Math.floor((v+c)/2),g(i[M],l)?v=M+1:c=M;return x>90&&E.log("Long binary search..."),v-1};function p(l,i){return l<i}function m(l,i){return l<=i}function t(l,i){return l>i}function r(l,i){return l>=i}F.sorterAsc=function(l,i){return l-i},F.sorterDes=function(l,i){return i-l},F.distinctVals=function(l){var i=l.slice();i.sort(F.sorterAsc);var f;for(f=i.length-1;f>-1&&i[f]===L;f--);for(var v=i[f]-i[0]||1,c=v/(f||1)/1e4,x=[],d,M=0;M<=f;M++){var g=i[M],u=g-d;d===void 0?(x.push(g),d=g):u>c&&(v=Math.min(v,u),x.push(g),d=g)}return{vals:x,minDiff:v}},F.roundUp=function(l,i,f){for(var v=0,c=i.length-1,x,d=0,M=f?0:1,g=f?1:0,u=f?Math.ceil:Math.floor;v<c&&d++<100;)x=u((v+c)/2),i[x]<=l?v=x+M:c=x-g;return i[v]},F.sort=function(l,i){for(var f=0,v=0,c=1;c<l.length;c++){var x=i(l[c],l[c-1]);if(x<0?f=1:x>0&&(v=1),f&&v)return l.sort(i)}return v?l:l.reverse()},F.findIndexOfMin=function(l,i){i=i||n;for(var f=1/0,v,c=0;c<l.length;c++){var x=i(l[c]);x<f&&(f=x,v=c)}return v}},6964:function(k){k.exports=function(e,h){(e.attr("class")||"").split(" ").forEach(function(E){E.indexOf("cursor-")===0&&e.classed(E,!1)}),h&&e.classed("cursor-"+h,!0)}},58617:function(k,F,e){var h=e(7901),E=function(){};k.exports=function(L){for(var w in L)typeof L[w]=="function"&&(L[w]=E);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var p=document.createElement("div");p.className="no-webgl",p.style.cursor="pointer",p.style.fontSize="24px",p.style.color=h.defaults[0],p.style.position="absolute",p.style.left=p.style.top="0px",p.style.width=p.style.height="100%",p.style["background-color"]=h.lightLine,p.style["z-index"]=30;var m=document.createElement("p");return m.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",m.style.position="relative",m.style.top="50%",m.style.left="50%",m.style.height="30%",m.style.width="50%",m.style.margin="-15% 0 0 -25%",p.appendChild(m),L.container.appendChild(p),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(k){k.exports=function(e){return Object.keys(e).sort()}},80038:function(k,F,e){var h=e(92770),E=e(73627).isArrayOrTypedArray;F.aggNums=function(n,L,w,p){var m,t;if((!p||p>w.length)&&(p=w.length),h(L)||(L=!1),E(w[0])){for(t=new Array(p),m=0;m<p;m++)t[m]=F.aggNums(n,L,w[m]);w=t}for(m=0;m<p;m++)h(L)?h(w[m])&&(L=n(+L,+w[m])):L=w[m];return L},F.len=function(n){return F.aggNums(function(L){return L+1},0,n)},F.mean=function(n,L){return L||(L=F.len(n)),F.aggNums(function(w,p){return w+p},0,n)/L},F.midRange=function(n){if(!(n===void 0||n.length===0))return(F.aggNums(Math.max,null,n)+F.aggNums(Math.min,null,n))/2},F.variance=function(n,L,w){return L||(L=F.len(n)),h(w)||(w=F.mean(n,L)),F.aggNums(function(p,m){return p+Math.pow(m-w,2)},0,n)/L},F.stdev=function(n,L,w){return Math.sqrt(F.variance(n,L,w))},F.median=function(n){var L=n.slice().sort();return F.interp(L,.5)},F.interp=function(n,L){if(!h(L))throw"n should be a finite number";if(L=L*n.length-.5,L<0)return n[0];if(L>n.length-1)return n[n.length-1];var w=L%1;return w*n[Math.ceil(L)]+(1-w)*n[Math.floor(L)]}},78614:function(k,F,e){var h=e(25075);function E(n){return n?h(n):[0,0,0,1]}k.exports=E},3883:function(k,F,e){var h=e(32396),E=e(91424),n=e(71828),L=null;function w(){if(L!==null)return L;L=!1;var p=n.isIE()||n.isSafari()||n.isIOS();if(window.navigator.userAgent&&!p){var m=Array.from(h.CSS_DECLARATIONS).reverse(),t=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof t=="function")L=m.some(function(f){return t.apply(null,f)});else{var r=E.tester.append("image").attr("style",h.STYLE),l=window.getComputedStyle(r.node()),i=l.imageRendering;L=m.some(function(f){var v=f[1];return i===v||i===v.toLowerCase()}),r.remove()}}return L}k.exports=w},63893:function(k,F,e){var h=e(39898),E=e(71828),n=E.strTranslate,L=e(77922),w=e(18783).LINE_SPACING,p=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;F.convertToTspans=function(H,U,G){var j=H.text(),re=!H.attr("data-notex")&&U&&U._context.typesetMath&&typeof MathJax<"u"&&j.match(p),ae=h.select(H.node().parentNode);if(ae.empty())return;var ue=H.attr("class")?H.attr("class").split(" ")[0]:"text";ue+="-math",ae.selectAll("svg."+ue).remove(),ae.selectAll("g."+ue+"-group").remove(),H.style("display",null).attr({"data-unformatted":j,"data-math":"N"});function de(){ae.empty()||(ue=H.attr("class")+"-math",ae.select("svg."+ue).remove()),H.text("").style("white-space","pre");var ee=O(H.node(),j);ee&&H.style("pointer-events","all"),F.positionText(H),G&&G.call(H)}return re?(U&&U._promises||[]).push(new Promise(function(ee){H.style("display","none");var X=parseInt(H.node().style.fontSize,10),Q={fontSize:X};i(re[2],Q,function($,ne,fe){ae.selectAll("svg."+ue).remove(),ae.selectAll("g."+ue+"-group").remove();var te=$&&$.select("svg");if(!te||!te.node()){de(),ee();return}var q=ae.append("g").classed(ue+"-group",!0).attr({"pointer-events":"none","data-unformatted":j,"data-math":"Y"});q.node().appendChild(te.node()),ne&&ne.node()&&te.node().insertBefore(ne.node().cloneNode(!0),te.node().firstChild);var he=fe.width,se=fe.height;te.attr({class:ue,height:se,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var pe=H.node().style.fill||"black",we=te.select("g");we.attr({fill:pe,stroke:pe});var Ee=we.node().getBoundingClientRect(),Me=Ee.width,Be=Ee.height;(Me>he||Be>se)&&(te.style("overflow","hidden"),Ee=te.node().getBoundingClientRect(),Me=Ee.width,Be=Ee.height);var Ne=+H.attr("x"),Ce=+H.attr("y"),Te=X||H.node().getBoundingClientRect().height,Le=-Te/4;if(ue[0]==="y")q.attr({transform:"rotate("+[-90,Ne,Ce]+")"+n(-Me/2,Le-Be/2)});else if(ue[0]==="l")Ce=Le-Be/2;else if(ue[0]==="a"&&ue.indexOf("atitle")!==0)Ne=0,Ce=Le;else{var Ve=H.attr("text-anchor");Ne=Ne-Me*(Ve==="middle"?.5:Ve==="end"?1:0),Ce=Ce+Le-Be/2}te.attr({x:Ne,y:Ce}),G&&G.call(H,q),ee(q)})})):de(),H};var m=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(H){return H.replace(m,"\\lt ").replace(t,"\\gt ")}var l=[["$","$"],["\\(","\\)"]];function i(H,U,G){var j=parseInt((MathJax.version||"").split(".")[0]);if(j!==2&&j!==3){E.warn("No MathJax version:",MathJax.version);return}var re,ae,ue,de,ee=function(){return ae=E.extendDeepAll({},MathJax.Hub.config),ue=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:l},displayAlign:"left"})},X=function(){ae=E.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=l},Q=function(){if(re=MathJax.Hub.config.menuSettings.renderer,re!=="SVG")return MathJax.Hub.setRenderer("SVG")},$=function(){re=MathJax.config.startup.output,re!=="svg"&&(MathJax.config.startup.output="svg")},ne=function(){var pe="math-output-"+E.randstr({},64);de=h.select("body").append("div").attr({id:pe}).style({visibility:"hidden",position:"absolute","font-size":U.fontSize+"px"}).text(r(H));var we=de.node();return j===2?MathJax.Hub.Typeset(we):MathJax.typeset([we])},fe=function(){var pe=de.select(j===2?".MathJax_SVG":".MathJax"),we=!pe.empty()&&de.select("svg").node();if(!we)E.log("There was an error in the tex syntax.",H),G();else{var Ee=we.getBoundingClientRect(),Me;j===2?Me=h.select("body").select("#MathJax_SVG_glyphs"):Me=pe.select("defs"),G(pe,Me,Ee)}de.remove()},te=function(){if(re!=="SVG")return MathJax.Hub.setRenderer(re)},q=function(){re!=="svg"&&(MathJax.config.startup.output=re)},he=function(){return ue!==void 0&&(MathJax.Hub.processSectionDelay=ue),MathJax.Hub.Config(ae)},se=function(){MathJax.config=ae};j===2?MathJax.Hub.Queue(ee,Q,ne,fe,te,he):j===3&&(X(),$(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ne(),fe(),q(),se()}))}var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},v={sub:"0.3em",sup:"-0.6em"},c={sub:"-0.21em",sup:"0.42em"},x="​",d=["http:","https:","mailto:","",void 0,":"],M=F.NEWLINES=/(\r\n?|\n)/g,g=/(<[^<>]*>)/,u=/<(\/?)([^ >]*)(\s+(.*))?>/i,y=/<br(\s+.*)?>/i;F.BR_TAG_ALL=/<br(\s+.*)?>/gi;var C=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,S=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,D=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,T=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function P(H,U){if(!H)return null;var G=H.match(U),j=G&&(G[3]||G[4]);return j&&b(j)}var A=/(^|;)\s*color:/;F.plainText=function(H,U){U=U||{};for(var G=U.len!==void 0&&U.len!==-1?U.len:1/0,j=U.allowedTags!==void 0?U.allowedTags:["br"],re="...",ae=re.length,ue=H.split(g),de=[],ee="",X=0,Q=0;Q<ue.length;Q++){var $=ue[Q],ne=$.match(u),fe=ne&&ne[2].toLowerCase();if(fe)j.indexOf(fe)!==-1&&(de.push($),ee=fe);else{var te=$.length;if(X+te<G)de.push($),X+=te;else if(X<G){var q=G-X;ee&&(ee!=="br"||q<=ae||te<=ae)&&de.pop(),G>ae?de.push($.substr(0,q-ae)+re):de.push($.substr(0,q));break}ee=""}}return de.join("")};var a={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},R=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function b(H){return H.replace(R,function(U,G){var j;return G.charAt(0)==="#"?j=N(G.charAt(1)==="x"?parseInt(G.substr(2),16):parseInt(G.substr(1),10)):j=a[G],j||U})}F.convertEntities=b;function N(H){if(!(H>1114111)){var U=String.fromCodePoint;if(U)return U(H);var G=String.fromCharCode;return H<=65535?G(H):G((H>>10)+55232,H%1024+56320)}}function O(H,U){U=U.replace(M," ");var G=!1,j=[],re,ae=-1;function ue(){ae++;var Be=document.createElementNS(L.svg,"tspan");h.select(Be).attr({class:"line",dy:ae*w+"em"}),H.appendChild(Be),re=Be;var Ne=j;if(j=[{node:Be}],Ne.length>1)for(var Ce=1;Ce<Ne.length;Ce++)de(Ne[Ce])}function de(Be){var Ne=Be.type,Ce={},Te;if(Ne==="a"){Te="a";var Le=Be.target,Ve=Be.href,We=Be.popup;Ve&&(Ce={"xlink:xlink:show":Le==="_blank"||Le.charAt(0)!=="_"?"new":"replace",target:Le,"xlink:xlink:href":Ve},We&&(Ce.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+We+'");return false;'))}else Te="tspan";Be.style&&(Ce.style=Be.style);var Fe=document.createElementNS(L.svg,Te);if(Ne==="sup"||Ne==="sub"){ee(re,x),re.appendChild(Fe);var Ge=document.createElementNS(L.svg,"tspan");ee(Ge,x),h.select(Ge).attr("dy",c[Ne]),Ce.dy=v[Ne],re.appendChild(Fe),re.appendChild(Ge)}else re.appendChild(Fe);h.select(Fe).attr(Ce),re=Be.node=Fe,j.push(Be)}function ee(Be,Ne){Be.appendChild(document.createTextNode(Ne))}function X(Be){if(j.length===1){E.log("Ignoring unexpected end tag </"+Be+">.",U);return}var Ne=j.pop();Be!==Ne.type&&E.log("Start tag <"+Ne.type+"> doesnt match end tag <"+Be+">. Pretending it did match.",U),re=j[j.length-1].node}var Q=y.test(U);Q?ue():(re=H,j=[{node:H}]);for(var $=U.split(g),ne=0;ne<$.length;ne++){var fe=$[ne],te=fe.match(u),q=te&&te[2].toLowerCase(),he=f[q];if(q==="br")ue();else if(he===void 0)ee(re,b(fe));else if(te[1])X(q);else{var se=te[4],pe={type:q},we=P(se,C);if(we?(we=we.replace(A,"$1 fill:"),he&&(we+=";"+he)):he&&(we=he),we&&(pe.style=we),q==="a"){G=!0;var Ee=P(se,S);if(Ee){var Me=Y(Ee);Me&&(pe.href=Me,pe.target=P(se,D)||"_blank",pe.popup=P(se,T))}}de(pe)}}return G}function Y(H){var U=encodeURI(decodeURI(H)),G=document.createElement("a"),j=document.createElement("a");G.href=H,j.href=U;var re=G.protocol,ae=j.protocol;return d.indexOf(re)!==-1&&d.indexOf(ae)!==-1?U:""}F.sanitizeHTML=function(U){U=U.replace(M," ");for(var G=document.createElement("p"),j=G,re=[],ae=U.split(g),ue=0;ue<ae.length;ue++){var de=ae[ue],ee=de.match(u),X=ee&&ee[2].toLowerCase();if(X in f)if(ee[1])re.length&&(j=re.pop());else{var Q=ee[4],$=P(Q,C),ne=$?{style:$}:{};if(X==="a"){var fe=P(Q,S);if(fe){var te=Y(fe);if(te){ne.href=te;var q=P(Q,D);q&&(ne.target=q)}}}var he=document.createElement(X);j.appendChild(he),h.select(he).attr(ne),j=he,re.push(he)}else j.appendChild(document.createTextNode(b(de)))}var se="innerHTML";return G[se]},F.lineCount=function(U){return U.selectAll("tspan.line").size()||1},F.positionText=function(U,G,j){return U.each(function(){var re=h.select(this);function ae(ee,X){return X===void 0?(X=re.attr(ee),X===null&&(re.attr(ee,0),X=0)):re.attr(ee,X),X}var ue=ae("x",G),de=ae("y",j);this.nodeName==="text"&&re.selectAll("tspan.line").attr({x:ue,y:de})})};function B(H,U,G){var j=G.horizontalAlign,re=G.verticalAlign||"top",ae=H.node().getBoundingClientRect(),ue=U.node().getBoundingClientRect(),de,ee,X;return re==="bottom"?ee=function(){return ae.bottom-de.height}:re==="middle"?ee=function(){return ae.top+(ae.height-de.height)/2}:ee=function(){return ae.top},j==="right"?X=function(){return ae.right-de.width}:j==="center"?X=function(){return ae.left+(ae.width-de.width)/2}:X=function(){return ae.left},function(){de=this.node().getBoundingClientRect();var Q=X()-ue.left,$=ee()-ue.top,ne=G.gd||{};if(G.gd){ne._fullLayout._calcInverseTransform(ne);var fe=E.apply3DTransform(ne._fullLayout._invTransform)(Q,$);Q=fe[0],$=fe[1]}return this.style({top:$+"px",left:Q+"px","z-index":1e3}),this}}var W="1px ";F.makeTextShadow=function(H){var U=W,G=W,j=W;return U+G+j+H+", -"+U+"-"+G+j+H+", "+U+"-"+G+j+H+", -"+U+G+j+H},F.makeEditable=function(H,U){var G=U.gd,j=U.delegate,re=h.dispatch("edit","input","cancel"),ae=j||H;if(H.style({"pointer-events":j?"none":"all"}),H.size()!==1)throw new Error("boo");function ue(){ee(),H.style({opacity:0});var X=ae.attr("class"),Q;X?Q="."+X.split(" ")[0]+"-math-group":Q="[class*=-math-group]",Q&&h.select(H.node().parentNode).select(Q).style({opacity:0})}function de(X){var Q=X.node(),$=document.createRange();$.selectNodeContents(Q);var ne=window.getSelection();ne.removeAllRanges(),ne.addRange($),Q.focus()}function ee(){var X=h.select(G),Q=X.select(".svg-container"),$=Q.append("div"),ne=H.node().style,fe=parseFloat(ne.fontSize||12),te=U.text;te===void 0&&(te=H.attr("data-unformatted")),$.classed("plugin-editable editable",!0).style({position:"absolute","font-family":ne.fontFamily||"Arial","font-size":fe,color:U.fill||ne.fill||"black",opacity:1,"background-color":U.background||"transparent",outline:"#ffffff33 1px solid",margin:[-fe/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(te).call(B(H,Q,U)).on("blur",function(){G._editing=!1,H.text(this.textContent).style({opacity:1});var q=h.select(this).attr("class"),he;q?he="."+q.split(" ")[0]+"-math-group":he="[class*=-math-group]",he&&h.select(H.node().parentNode).select(he).style({opacity:0});var se=this.textContent;h.select(this).transition().duration(0).remove(),h.select(document).on("mouseup",null),re.edit.call(H,se)}).on("focus",function(){var q=this;G._editing=!0,h.select(document).on("mouseup",function(){if(h.event.target===q)return!1;document.activeElement===$.node()&&$.node().blur()})}).on("keyup",function(){h.event.which===27?(G._editing=!1,H.style({opacity:1}),h.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),re.cancel.call(H,this.textContent)):(re.input.call(H,this.textContent),h.select(this).call(B(H,Q,U)))}).on("keydown",function(){h.event.which===13&&this.blur()}).call(de)}return U.immediate?ue():ae.on("click",ue),h.rebind(H,re,"on")}},79990:function(k,F){var e={};F.throttle=function(n,L,w){var p=e[n],m=Date.now();if(!p){for(var t in e)e[t].ts<m-6e4&&delete e[t];p=e[n]={ts:0,timer:null}}h(p);function r(){w(),p.ts=Date.now(),p.onDone&&(p.onDone(),p.onDone=null)}if(m>p.ts+L){r();return}p.timer=setTimeout(function(){r(),p.timer=null},L)},F.done=function(E){var n=e[E];return!n||!n.timer?Promise.resolve():new Promise(function(L){var w=n.onDone;n.onDone=function(){w&&w(),L(),n.onDone=null}})},F.clear=function(E){if(E)h(e[E]),delete e[E];else for(var n in e)F.clear(n)};function h(E){E&&E.timer!==null&&(clearTimeout(E.timer),E.timer=null)}},58163:function(k,F,e){var h=e(92770);k.exports=function(n,L){if(n>0)return Math.log(n)/Math.LN10;var w=Math.log(Math.min(L[0],L[1]))/Math.LN10;return h(w)||(w=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),w}},90973:function(k,F,e){var h=k.exports={},E=e(78776).locationmodeToLayer,n=e(96892).zL;h.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},h.getTopojsonPath=function(L,w){return L+w+".json"},h.getTopojsonFeatures=function(L,w){var p=E[L.locationmode],m=w.objects[p];return n(w,m).features}},37815:function(k){k.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(k){k.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(k,F,e){var h=e(73972);k.exports=function(n){for(var L=h.layoutArrayContainers,w=h.layoutArrayRegexes,p=n.split("[")[0],m,t,r=0;r<w.length;r++)if(t=n.match(w[r]),t&&t.index===0){m=t[0];break}if(m||(m=L[L.indexOf(p)]),!m)return!1;var l=n.substr(m.length);return l?(t=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:m,index:Number(t[1]),property:t[3]||""}:!1):{array:m,index:"",property:""}}},30962:function(k,F,e){var h=e(1426).extendFlat,E=e(41965),n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},w=n.flags.slice().concat(["fullReplot"]),p=L.flags.slice().concat("layoutReplot");k.exports={traces:n,layout:L,traceFlags:function(){return m(w)},layoutFlags:function(){return m(p)},update:function(l,i){var f=i.editType;if(f&&f!=="none")for(var v=f.split("+"),c=0;c<v.length;c++)l[v[c]]=!0},overrideAll:t};function m(l){for(var i={},f=0;f<l.length;f++)i[l[f]]=!1;return i}function t(l,i,f){var v=h({},l);for(var c in v){var x=v[c];E(x)&&(v[c]=r(x,i,f,c))}return f==="from-root"&&(v.editType=i),v}function r(l,i,f,v){if(l.valType){var c=h({},l);if(c.editType=i,Array.isArray(l.items)){c.items=new Array(l.items.length);for(var x=0;x<l.items.length;x++)c.items[x]=r(l.items[x],i)}return c}else return t(l,i,v.charAt(0)==="_"?"nested":"from-root")}},58377:function(k,F,e){var h=e(92770),E=e(27812),n=e(73972),L=e(71828),w=e(74875),p=e(41675),m=e(7901),t=p.cleanId,r=p.getFromTrace,l=n.traceIs;F.clearPromiseQueue=function(y){Array.isArray(y._promises)&&y._promises.length>0&&L.log("Clearing previous rejected promises from queue."),y._promises=[]},F.cleanLayout=function(y){var C,S;y||(y={}),y.xaxis1&&(y.xaxis||(y.xaxis=y.xaxis1),delete y.xaxis1),y.yaxis1&&(y.yaxis||(y.yaxis=y.yaxis1),delete y.yaxis1),y.scene1&&(y.scene||(y.scene=y.scene1),delete y.scene1);var D=(w.subplotsRegistry.cartesian||{}).attrRegex,T=(w.subplotsRegistry.polar||{}).attrRegex,P=(w.subplotsRegistry.ternary||{}).attrRegex,A=(w.subplotsRegistry.gl3d||{}).attrRegex,a=Object.keys(y);for(C=0;C<a.length;C++){var R=a[C];if(D&&D.test(R)){var b=y[R];b.anchor&&b.anchor!=="free"&&(b.anchor=t(b.anchor)),b.overlaying&&(b.overlaying=t(b.overlaying)),b.type||(b.isdate?b.type="date":b.islog?b.type="log":b.isdate===!1&&b.islog===!1&&(b.type="linear")),(b.autorange==="withzero"||b.autorange==="tozero")&&(b.autorange=!0,b.rangemode="tozero"),delete b.islog,delete b.isdate,delete b.categories,d(b,"domain")&&delete b.domain,b.autotick!==void 0&&(b.tickmode===void 0&&(b.tickmode=b.autotick?"auto":"linear"),delete b.autotick),f(b)}else if(T&&T.test(R)){var N=y[R];f(N.radialaxis)}else if(P&&P.test(R)){var O=y[R];f(O.aaxis),f(O.baxis),f(O.caxis)}else if(A&&A.test(R)){var Y=y[R],B=Y.cameraposition;if(Array.isArray(B)&&B[0].length===4){var W=B[0],H=B[1],U=B[2],G=E([],W),j=[];for(S=0;S<3;++S)j[S]=H[S]+U*G[2+4*S];Y.camera={eye:{x:j[0],y:j[1],z:j[2]},center:{x:H[0],y:H[1],z:H[2]},up:{x:0,y:0,z:1}},delete Y.cameraposition}f(Y.xaxis),f(Y.yaxis),f(Y.zaxis)}}var re=Array.isArray(y.annotations)?y.annotations.length:0;for(C=0;C<re;C++){var ae=y.annotations[C];L.isPlainObject(ae)&&(ae.ref&&(ae.ref==="paper"?(ae.xref="paper",ae.yref="paper"):ae.ref==="data"&&(ae.xref="x",ae.yref="y"),delete ae.ref),i(ae,"xref"),i(ae,"yref"))}var ue=Array.isArray(y.shapes)?y.shapes.length:0;for(C=0;C<ue;C++){var de=y.shapes[C];L.isPlainObject(de)&&(i(de,"xref"),i(de,"yref"))}var ee=Array.isArray(y.images)?y.images.length:0;for(C=0;C<ee;C++){var X=y.images[C];L.isPlainObject(X)&&(i(X,"xref"),i(X,"yref"))}var Q=y.legend;return Q&&(Q.x>3?(Q.x=1.02,Q.xanchor="left"):Q.x<-2&&(Q.x=-.02,Q.xanchor="right"),Q.y>3?(Q.y=1.02,Q.yanchor="bottom"):Q.y<-2&&(Q.y=-.02,Q.yanchor="top")),f(y),y.dragmode==="rotate"&&(y.dragmode="orbit"),m.clean(y),y.template&&y.template.layout&&F.cleanLayout(y.template.layout),y};function i(y,C){var S=y[C],D=C.charAt(0);S&&S!=="paper"&&(y[C]=t(S,D,!0))}function f(y){y&&((typeof y.title=="string"||typeof y.title=="number")&&(y.title={text:y.title}),C("titlefont","font"),C("titleposition","position"),C("titleside","side"),C("titleoffset","offset"));function C(S,D){var T=y[S],P=y.title&&y.title[D];T&&!P&&(y.title||(y.title={}),y.title[D]=y[S],delete y[S])}}F.cleanData=function(y){for(var C=0;C<y.length;C++){var S=y[C],D;if(S.type==="histogramy"&&"xbins"in S&&!("ybins"in S)&&(S.ybins=S.xbins,delete S.xbins),S.error_y&&"opacity"in S.error_y){var T=m.defaults,P=S.error_y.color||(l(S,"bar")?m.defaultLine:T[C%T.length]);S.error_y.color=m.addOpacity(m.rgb(P),m.opacity(P)*S.error_y.opacity),delete S.error_y.opacity}if("bardir"in S&&(S.bardir==="h"&&(l(S,"bar")||S.type.substr(0,9)==="histogram")&&(S.orientation="h",F.swapXYData(S)),delete S.bardir),S.type==="histogramy"&&F.swapXYData(S),(S.type==="histogramx"||S.type==="histogramy")&&(S.type="histogram"),"scl"in S&&!("colorscale"in S)&&(S.colorscale=S.scl,delete S.scl),"reversescl"in S&&!("reversescale"in S)&&(S.reversescale=S.reversescl,delete S.reversescl),S.xaxis&&(S.xaxis=t(S.xaxis,"x")),S.yaxis&&(S.yaxis=t(S.yaxis,"y")),l(S,"gl3d")&&S.scene&&(S.scene=w.subplotsRegistry.gl3d.cleanId(S.scene)),!l(S,"pie-like")&&!l(S,"bar-like"))if(Array.isArray(S.textposition))for(D=0;D<S.textposition.length;D++)S.textposition[D]=x(S.textposition[D]);else S.textposition&&(S.textposition=x(S.textposition));var A=n.getModule(S);if(A&&A.colorbar){var a=A.colorbar.container,R=a?S[a]:S;R&&R.colorscale&&(R.colorscale==="YIGnBu"&&(R.colorscale="YlGnBu"),R.colorscale==="YIOrRd"&&(R.colorscale="YlOrRd"))}if(S.type==="surface"&&L.isPlainObject(S.contours)){var b=["x","y","z"];for(D=0;D<b.length;D++){var N=S.contours[b[D]];L.isPlainObject(N)&&(N.highlightColor&&(N.highlightcolor=N.highlightColor,delete N.highlightColor),N.highlightWidth&&(N.highlightwidth=N.highlightWidth,delete N.highlightWidth))}}if(S.type==="candlestick"||S.type==="ohlc"){var O=(S.increasing||{}).showlegend!==!1,Y=(S.decreasing||{}).showlegend!==!1,B=v(S.increasing),W=v(S.decreasing);if(B!==!1&&W!==!1){var H=c(B,W,O,Y);H&&(S.name=H)}else(B||W)&&!S.name&&(S.name=B||W)}if(Array.isArray(S.transforms)){var U=S.transforms;for(D=0;D<U.length;D++){var G=U[D];if(L.isPlainObject(G))switch(G.type){case"filter":G.filtersrc&&(G.target=G.filtersrc,delete G.filtersrc),G.calendar&&(G.valuecalendar||(G.valuecalendar=G.calendar),delete G.calendar);break;case"groupby":if(G.styles=G.styles||G.style,G.styles&&!Array.isArray(G.styles)){var j=G.styles,re=Object.keys(j);G.styles=[];for(var ae=0;ae<re.length;ae++)G.styles.push({target:re[ae],value:j[re[ae]]})}break}}}d(S,"line")&&delete S.line,"marker"in S&&(d(S.marker,"line")&&delete S.marker.line,d(S,"marker")&&delete S.marker),m.clean(S),S.autobinx&&(delete S.autobinx,delete S.xbins),S.autobiny&&(delete S.autobiny,delete S.ybins),f(S),S.colorbar&&f(S.colorbar),S.marker&&S.marker.colorbar&&f(S.marker.colorbar),S.line&&S.line.colorbar&&f(S.line.colorbar),S.aaxis&&f(S.aaxis),S.baxis&&f(S.baxis)}};function v(y){if(!L.isPlainObject(y))return!1;var C=y.name;return delete y.name,delete y.showlegend,(typeof C=="string"||typeof C=="number")&&String(C)}function c(y,C,S,D){if(S&&!D)return y;if(D&&!S||!y.trim())return C;if(!C.trim())return y;var T=Math.min(y.length,C.length),P;for(P=0;P<T&&y.charAt(P)===C.charAt(P);P++);var A=y.substr(0,P);return A.trim()}function x(y){var C="middle",S="center";return typeof y=="string"&&(y.indexOf("top")!==-1?C="top":y.indexOf("bottom")!==-1&&(C="bottom"),y.indexOf("left")!==-1?S="left":y.indexOf("right")!==-1&&(S="right")),C+" "+S}function d(y,C){return C in y&&typeof y[C]=="object"&&Object.keys(y[C]).length===0}F.swapXYData=function(y){var C;if(L.swapAttrs(y,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(y.z)&&Array.isArray(y.z[0])&&(y.transpose?delete y.transpose:y.transpose=!0),y.error_x&&y.error_y){var S=y.error_y,D="copy_ystyle"in S?S.copy_ystyle:!(S.color||S.thickness||S.width);L.swapAttrs(y,["error_?.copy_ystyle"]),D&&L.swapAttrs(y,["error_?.color","error_?.thickness","error_?.width"])}if(typeof y.hoverinfo=="string"){var T=y.hoverinfo.split("+");for(C=0;C<T.length;C++)T[C]==="x"?T[C]="y":T[C]==="y"&&(T[C]="x");y.hoverinfo=T.join("+")}},F.coerceTraceIndices=function(y,C){if(h(C))return[C];if(!Array.isArray(C)||!C.length)return y.data.map(function(T,P){return P});if(Array.isArray(C)){for(var S=[],D=0;D<C.length;D++)L.isIndex(C[D],y.data.length)?S.push(C[D]):L.warn("trace index (",C[D],") is not a number or is out of bounds");return S}return C},F.manageArrayContainers=function(y,C,S){var D=y.obj,T=y.parts,P=T.length,A=T[P-1],a=h(A);if(a&&C===null){var R=T.slice(0,P-1).join("."),b=L.nestedProperty(D,R).get();b.splice(A,1)}else a&&y.get()===void 0&&y.get()===void 0&&(S[y.astr]=null),y.set(C)};var M=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(y){var C=y.search(M);if(C>0)return y.substr(0,C)}F.hasParent=function(y,C){for(var S=g(C);S;){if(S in y)return!0;S=g(S)}return!1};var u=["x","y","z"];F.clearAxisTypes=function(y,C,S){for(var D=0;D<C.length;D++)for(var T=y._fullData[D],P=0;P<3;P++){var A=r(y,T,u[P]);if(A&&A.type!=="log"){var a=A._name,R=A._id.substr(1);if(R.substr(0,5)==="scene"){if(S[R]!==void 0)continue;a=R+"."+a}var b=a+".type";S[a]===void 0&&S[b]===void 0&&L.nestedProperty(y.layout,b).set(null)}}}},10641:function(k,F,e){var h=e(72391);F._doPlot=h._doPlot,F.newPlot=h.newPlot,F.restyle=h.restyle,F.relayout=h.relayout,F.redraw=h.redraw,F.update=h.update,F._guiRestyle=h._guiRestyle,F._guiRelayout=h._guiRelayout,F._guiUpdate=h._guiUpdate,F._storeDirectGUIEdit=h._storeDirectGUIEdit,F.react=h.react,F.extendTraces=h.extendTraces,F.prependTraces=h.prependTraces,F.addTraces=h.addTraces,F.deleteTraces=h.deleteTraces,F.moveTraces=h.moveTraces,F.purge=h.purge,F.addFrames=h.addFrames,F.deleteFrames=h.deleteFrames,F.animate=h.animate,F.setPlotConfig=h.setPlotConfig;var E=e(24401).getGraphDiv,n=e(34031).eraseActiveShape;F.deleteActiveShape=function(w){return n(E(w))},F.toImage=e(403),F.validate=e(84936),F.downloadImage=e(7239);var L=e(96318);F.makeTemplate=L.makeTemplate,F.validateTemplate=L.validateTemplate},6611:function(k,F,e){var h=e(41965),E=e(64213),n=e(47769),L=e(65888).sorterAsc,w=e(73972);F.containerArrayMatch=e(14458);var p=F.isAddVal=function(r){return r==="add"||h(r)},m=F.isRemoveVal=function(r){return r===null||r==="remove"};F.applyContainerArrayChanges=function(r,l,i,f,v){var c=l.astr,x=w.getComponentMethod(c,"supplyLayoutDefaults"),d=w.getComponentMethod(c,"draw"),M=w.getComponentMethod(c,"drawOne"),g=f.replot||f.recalc||x===E||d===E,u=r.layout,y=r._fullLayout;if(i[""]){Object.keys(i).length>1&&n.warn("Full array edits are incompatible with other edits",c);var C=i[""][""];if(m(C))l.set(null);else if(Array.isArray(C))l.set(C);else return n.warn("Unrecognized full array edit value",c,C),!0;return g?!1:(x(u,y),d(r),!0)}var S=Object.keys(i).map(Number).sort(L),D=l.get(),T=D||[],P=v(y,c).get(),A=[],a=-1,R=T.length,b,N,O,Y,B,W,H,U;for(b=0;b<S.length;b++){if(O=S[b],Y=i[O],B=Object.keys(Y),W=Y[""],H=p(W),O<0||O>T.length-(H?0:1)){n.warn("index out of range",c,O);continue}if(W!==void 0)B.length>1&&n.warn("Insertion & removal are incompatible with edits to the same index.",c,O),m(W)?A.push(O):H?(W==="add"&&(W={}),T.splice(O,0,W),P&&P.splice(O,0,{})):n.warn("Unrecognized full object edit value",c,O,W),a===-1&&(a=O);else for(N=0;N<B.length;N++)U=c+"["+O+"].",v(T[O],B[N],U).set(Y[B[N]])}for(b=A.length-1;b>=0;b--)T.splice(A[b],1),P&&P.splice(A[b],1);if(T.length?D||l.set(T):l.set(null),g)return!1;if(x(u,y),M!==E){var G;if(a===-1)G=S;else{for(R=Math.max(T.length,R),G=[],b=0;b<S.length&&(O=S[b],!(O>=a));b++)G.push(O);for(b=a;b<R;b++)G.push(b)}for(b=0;b<G.length;b++)M(r,G[b])}else d(r);return!0}},72391:function(k,F,e){var h=e(39898),E=e(92770),n=e(57035),L=e(71828),w=L.nestedProperty,p=e(11086),m=e(10847),t=e(73972),r=e(86281),l=e(74875),i=e(89298),f=e(91424),v=e(7901),c=e(4305).initInteractions,x=e(77922),d=e(47322).clearOutline,M=e(72075).dfltConfig,g=e(6611),u=e(58377),y=e(61549),C=e(30962),S=e(85555).AX_NAME_PATTERN,D=0,T=5;function P(ce,be,Re,Ue){var nt;if(ce=L.getGraphDiv(ce),p.init(ce),L.isPlainObject(be)){var ot=be;be=ot.data,Re=ot.layout,Ue=ot.config,nt=ot.frames}var wt=p.triggerHandler(ce,"plotly_beforeplot",[be,Re,Ue]);if(wt===!1)return Promise.reject();!be&&!Re&&!L.isPlotDiv(ce)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ce);function _t(){if(nt)return F.addFrames(ce,nt)}N(ce,Ue),Re||(Re={}),h.select(ce).classed("js-plotly-plot",!0),f.makeTester(),Array.isArray(ce._promises)||(ce._promises=[]);var Ut=(ce.data||[]).length===0&&Array.isArray(be);Array.isArray(be)&&(u.cleanData(be),Ut?ce.data=be:ce.data.push.apply(ce.data,be),ce.empty=!1),(!ce.layout||Ut)&&(ce.layout=u.cleanLayout(Re)),l.supplyDefaults(ce);var Vt=ce._fullLayout,Lt=Vt._has("cartesian");Vt._replotting=!0,(Ut||Vt._shouldCreateBgLayer)&&(Ae(ce),Vt._shouldCreateBgLayer&&delete Vt._shouldCreateBgLayer),f.initGradients(ce),f.initPatterns(ce),Ut&&i.saveShowSpikeInitial(ce);var Kt=!ce.calcdata||ce.calcdata.length!==(ce._fullData||[]).length;Kt&&l.doCalcdata(ce);for(var ar=0;ar<ce.calcdata.length;ar++)ce.calcdata[ar][0].trace=ce._fullData[ar];ce._context.responsive?ce._responsiveChartHandler||(ce._responsiveChartHandler=function(){L.isHidden(ce)||l.resize(ce)},window.addEventListener("resize",ce._responsiveChartHandler)):L.clearResponsive(ce);var Fr=L.extendFlat({},Vt._size),yt=0;function Xt(){for(var At=Vt._basePlotModules,Ft=0;Ft<At.length;Ft++)At[Ft].drawFramework&&At[Ft].drawFramework(ce);!Vt._glcanvas&&Vt._has("gl")&&(Vt._glcanvas=Vt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(or){return or.key}),Vt._glcanvas.enter().append("canvas").attr("class",function(or){return"gl-canvas gl-canvas-"+or.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Ht=ce._context.plotGlPixelRatio;if(Vt._glcanvas){Vt._glcanvas.attr("width",Vt.width*Ht).attr("height",Vt.height*Ht).style("width",Vt.width+"px").style("height",Vt.height+"px");var $t=Vt._glcanvas.data()[0].regl;if($t&&(Math.floor(Vt.width*Ht)!==$t._gl.drawingBufferWidth||Math.floor(Vt.height*Ht)!==$t._gl.drawingBufferHeight)){var Qt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(yt)L.error(Qt);else return L.log(Qt+" Clearing graph and plotting again."),l.cleanPlot([],{},ce._fullData,Vt),l.supplyDefaults(ce),Vt=ce._fullLayout,l.doCalcdata(ce),yt++,Xt()}}return Vt.modebar.orientation==="h"?Vt._modebardiv.style("height",null).style("width","100%"):Vt._modebardiv.style("width",null).style("height",Vt.height+"px"),l.previousPromises(ce)}function Yt(){if(l.clearAutoMarginIds(ce),y.drawMarginPushers(ce),i.allowAutoMargin(ce),ce._fullLayout.title.text&&ce._fullLayout.title.automargin&&l.allowAutoMargin(ce,"title.automargin"),Vt._has("pie"))for(var At=ce._fullData,Ft=0;Ft<At.length;Ft++){var Ht=At[Ft];Ht.type==="pie"&&Ht.automargin&&l.allowAutoMargin(ce,"pie."+Ht.uid+".automargin")}return l.doAutoMargin(ce),l.previousPromises(ce)}function br(){if(l.didMarginChange(Fr,Vt._size))return L.syncOrAsync([Yt,y.layoutStyles],ce)}function hr(){if(!Kt){ut();return}return L.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),ut],ce)}function ut(){ce._transitioning||(y.doAutoRangeAndConstraints(ce),Ut&&i.saveRangeInitial(ce),t.getComponentMethod("rangeslider","calcAutorange")(ce))}function lt(){return i.draw(ce,Ut?"":"redraw")}var xt=[l.previousPromises,_t,Xt,Yt,br];Lt&&xt.push(hr),xt.push(y.layoutStyles),Lt&&xt.push(lt,function(Ft){Ft._fullLayout._insideTickLabelsAutorange&&pe(Ft,Ft._fullLayout._insideTickLabelsAutorange).then(function(){Ft._fullLayout._insideTickLabelsAutorange=void 0})}),xt.push(y.drawData,y.finalDraw,c,l.addLinks,l.rehover,l.redrag,l.reselect,l.doAutoMargin,Tt,l.previousPromises);function Tt(At){At._fullLayout._insideTickLabelsAutorange&&Ut&&i.saveRangeInitial(At,!0)}var Et=L.syncOrAsync(xt,ce);return(!Et||!Et.then)&&(Et=Promise.resolve()),Et.then(function(){return A(ce),ce})}function A(ce){var be=ce._fullLayout;be._redrawFromAutoMarginCount?be._redrawFromAutoMarginCount--:ce.emit("plotly_afterplot")}function a(ce){return L.extendFlat(M,ce)}function R(ce,be){try{ce._fullLayout._paper.style("background",be)}catch(Re){L.error(Re)}}function b(ce,be){var Re=v.combine(be,"white");R(ce,Re)}function N(ce,be){if(!ce._context){ce._context=L.extendDeep({},M);var Re=h.select("base");ce._context._baseUrl=Re.size()&&Re.attr("href")?window.location.href.split("#")[0]:""}var Ue=ce._context,nt,ot,wt;if(be){for(ot=Object.keys(be),nt=0;nt<ot.length;nt++)wt=ot[nt],!(wt==="editable"||wt==="edits")&&wt in Ue&&(wt==="setBackground"&&be[wt]==="opaque"?Ue[wt]=b:Ue[wt]=be[wt]);be.plot3dPixelRatio&&!Ue.plotGlPixelRatio&&(Ue.plotGlPixelRatio=Ue.plot3dPixelRatio);var _t=be.editable;if(_t!==void 0)for(Ue.editable=_t,ot=Object.keys(Ue.edits),nt=0;nt<ot.length;nt++)Ue.edits[ot[nt]]=_t;if(be.edits)for(ot=Object.keys(be.edits),nt=0;nt<ot.length;nt++)wt=ot[nt],wt in Ue.edits&&(Ue.edits[wt]=be.edits[wt]);Ue._exportedPlot=be._exportedPlot}Ue.staticPlot&&(Ue.editable=!1,Ue.edits={},Ue.autosizable=!1,Ue.scrollZoom=!1,Ue.doubleClick=!1,Ue.showTips=!1,Ue.showLink=!1,Ue.displayModeBar=!1),Ue.displayModeBar==="hover"&&!n&&(Ue.displayModeBar=!0),(Ue.setBackground==="transparent"||typeof Ue.setBackground!="function")&&(Ue.setBackground=R),Ue._hasZeroHeight=Ue._hasZeroHeight||ce.clientHeight===0,Ue._hasZeroWidth=Ue._hasZeroWidth||ce.clientWidth===0;var Ut=Ue.scrollZoom,Vt=Ue._scrollZoom={};if(Ut===!0)Vt.cartesian=1,Vt.gl3d=1,Vt.geo=1,Vt.mapbox=1;else if(typeof Ut=="string"){var Lt=Ut.split("+");for(nt=0;nt<Lt.length;nt++)Vt[Lt[nt]]=1}else Ut!==!1&&(Vt.gl3d=1,Vt.geo=1,Vt.mapbox=1)}function O(ce){if(ce=L.getGraphDiv(ce),!L.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce);return u.cleanData(ce.data),u.cleanLayout(ce.layout),ce.calcdata=void 0,F._doPlot(ce).then(function(){return ce.emit("plotly_redraw"),ce})}function Y(ce,be,Re,Ue){return ce=L.getGraphDiv(ce),l.cleanPlot([],{},ce._fullData||[],ce._fullLayout||{}),l.purge(ce),F._doPlot(ce,be,Re,Ue)}function B(ce,be){var Re=be+1,Ue=[],nt,ot;for(nt=0;nt<ce.length;nt++)ot=ce[nt],ot<0?Ue.push(Re+ot):Ue.push(ot);return Ue}function W(ce,be,Re){var Ue,nt;for(Ue=0;Ue<be.length;Ue++){if(nt=be[Ue],nt!==parseInt(nt,10))throw new Error("all values in "+Re+" must be integers");if(nt>=ce.data.length||nt<-ce.data.length)throw new Error(Re+" must be valid indices for gd.data.");if(be.indexOf(nt,Ue+1)>-1||nt>=0&&be.indexOf(-ce.data.length+nt)>-1||nt<0&&be.indexOf(ce.data.length+nt)>-1)throw new Error("each index in "+Re+" must be unique.")}}function H(ce,be,Re){if(!Array.isArray(ce.data))throw new Error("gd.data must be an array.");if(typeof be>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(be)||(be=[be]),W(ce,be,"currentIndices"),typeof Re<"u"&&!Array.isArray(Re)&&(Re=[Re]),typeof Re<"u"&&W(ce,Re,"newIndices"),typeof Re<"u"&&be.length!==Re.length)throw new Error("current and new indices must be of equal length.")}function U(ce,be,Re){var Ue,nt;if(!Array.isArray(ce.data))throw new Error("gd.data must be an array.");if(typeof be>"u")throw new Error("traces must be defined.");for(Array.isArray(be)||(be=[be]),Ue=0;Ue<be.length;Ue++)if(nt=be[Ue],typeof nt!="object"||Array.isArray(nt)||nt===null)throw new Error("all values in traces array must be non-array objects");if(typeof Re<"u"&&!Array.isArray(Re)&&(Re=[Re]),typeof Re<"u"&&Re.length!==be.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function G(ce,be,Re,Ue){var nt=L.isPlainObject(Ue);if(!Array.isArray(ce.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(be))throw new Error("update must be a key:value object");if(typeof Re>"u")throw new Error("indices must be an integer or array of integers");W(ce,Re,"indices");for(var ot in be){if(!Array.isArray(be[ot])||be[ot].length!==Re.length)throw new Error("attribute "+ot+" must be an array of length equal to indices array length");if(nt&&(!(ot in Ue)||!Array.isArray(Ue[ot])||Ue[ot].length!==be[ot].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function j(ce,be,Re,Ue){var nt=L.isPlainObject(Ue),ot=[],wt,_t,Ut,Vt,Lt;Array.isArray(Re)||(Re=[Re]),Re=B(Re,ce.data.length-1);for(var Kt in be)for(var ar=0;ar<Re.length;ar++){if(wt=ce.data[Re[ar]],Ut=w(wt,Kt),_t=Ut.get(),Vt=be[Kt][ar],!L.isArrayOrTypedArray(Vt))throw new Error("attribute: "+Kt+" index: "+ar+" must be an array");if(!L.isArrayOrTypedArray(_t))throw new Error("cannot extend missing or non-array attribute: "+Kt);if(_t.constructor!==Vt.constructor)throw new Error("cannot extend array with an array of a different type: "+Kt);Lt=nt?Ue[Kt][ar]:Ue,E(Lt)||(Lt=-1),ot.push({prop:Ut,target:_t,insert:Vt,maxp:Math.floor(Lt)})}return ot}function re(ce,be,Re,Ue,nt){G(ce,be,Re,Ue);for(var ot=j(ce,be,Re,Ue),wt={},_t={},Ut=0;Ut<ot.length;Ut++){var Vt=ot[Ut].prop,Lt=ot[Ut].maxp,Kt=nt(ot[Ut].target,ot[Ut].insert,Lt);Vt.set(Kt[0]),Array.isArray(wt[Vt.astr])||(wt[Vt.astr]=[]),wt[Vt.astr].push(Kt[1]),Array.isArray(_t[Vt.astr])||(_t[Vt.astr]=[]),_t[Vt.astr].push(ot[Ut].target.length)}return{update:wt,maxPoints:_t}}function ae(ce,be){var Re=new ce.constructor(ce.length+be.length);return Re.set(ce),Re.set(be,ce.length),Re}function ue(ce,be,Re,Ue){ce=L.getGraphDiv(ce);function nt(Ut,Vt,Lt){var Kt,ar;if(L.isTypedArray(Ut))if(Lt<0){var Fr=new Ut.constructor(0),yt=ae(Ut,Vt);Lt<0?(Kt=yt,ar=Fr):(Kt=Fr,ar=yt)}else if(Kt=new Ut.constructor(Lt),ar=new Ut.constructor(Ut.length+Vt.length-Lt),Lt===Vt.length)Kt.set(Vt),ar.set(Ut);else if(Lt<Vt.length){var Xt=Vt.length-Lt;Kt.set(Vt.subarray(Xt)),ar.set(Ut),ar.set(Vt.subarray(0,Xt),Ut.length)}else{var Yt=Lt-Vt.length,br=Ut.length-Yt;Kt.set(Ut.subarray(br)),Kt.set(Vt,Yt),ar.set(Ut.subarray(0,br))}else Kt=Ut.concat(Vt),ar=Lt>=0&&Lt<Kt.length?Kt.splice(0,Kt.length-Lt):[];return[Kt,ar]}var ot=re(ce,be,Re,Ue,nt),wt=F.redraw(ce),_t=[ce,ot.update,Re,ot.maxPoints];return m.add(ce,F.prependTraces,_t,ue,arguments),wt}function de(ce,be,Re,Ue){ce=L.getGraphDiv(ce);function nt(Ut,Vt,Lt){var Kt,ar;if(L.isTypedArray(Ut))if(Lt<=0){var Fr=new Ut.constructor(0),yt=ae(Vt,Ut);Lt<0?(Kt=yt,ar=Fr):(Kt=Fr,ar=yt)}else if(Kt=new Ut.constructor(Lt),ar=new Ut.constructor(Ut.length+Vt.length-Lt),Lt===Vt.length)Kt.set(Vt),ar.set(Ut);else if(Lt<Vt.length){var Xt=Vt.length-Lt;Kt.set(Vt.subarray(0,Xt)),ar.set(Vt.subarray(Xt)),ar.set(Ut,Xt)}else{var Yt=Lt-Vt.length;Kt.set(Vt),Kt.set(Ut.subarray(0,Yt),Vt.length),ar.set(Ut.subarray(Yt))}else Kt=Vt.concat(Ut),ar=Lt>=0&&Lt<Kt.length?Kt.splice(Lt,Kt.length):[];return[Kt,ar]}var ot=re(ce,be,Re,Ue,nt),wt=F.redraw(ce),_t=[ce,ot.update,Re,ot.maxPoints];return m.add(ce,F.extendTraces,_t,de,arguments),wt}function ee(ce,be,Re){ce=L.getGraphDiv(ce);var Ue=[],nt=F.deleteTraces,ot=ee,wt=[ce,Ue],_t=[ce,be],Ut,Vt;for(U(ce,be,Re),Array.isArray(be)||(be=[be]),be=be.map(function(Lt){return L.extendFlat({},Lt)}),u.cleanData(be),Ut=0;Ut<be.length;Ut++)ce.data.push(be[Ut]);for(Ut=0;Ut<be.length;Ut++)Ue.push(-be.length+Ut);if(typeof Re>"u")return Vt=F.redraw(ce),m.add(ce,nt,wt,ot,_t),Vt;Array.isArray(Re)||(Re=[Re]);try{H(ce,Ue,Re)}catch(Lt){throw ce.data.splice(ce.data.length-be.length,be.length),Lt}return m.startSequence(ce),m.add(ce,nt,wt,ot,_t),Vt=F.moveTraces(ce,Ue,Re),m.stopSequence(ce),Vt}function X(ce,be){ce=L.getGraphDiv(ce);var Re=[],Ue=F.addTraces,nt=X,ot=[ce,Re,be],wt=[ce,be],_t,Ut;if(typeof be>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(be)||(be=[be]),W(ce,be,"indices"),be=B(be,ce.data.length-1),be.sort(L.sorterDes),_t=0;_t<be.length;_t+=1)Ut=ce.data.splice(be[_t],1)[0],Re.push(Ut);var Vt=F.redraw(ce);return m.add(ce,Ue,ot,nt,wt),Vt}function Q(ce,be,Re){ce=L.getGraphDiv(ce);var Ue=[],nt=[],ot=Q,wt=Q,_t=[ce,Re,be],Ut=[ce,be,Re],Vt;if(H(ce,be,Re),be=Array.isArray(be)?be:[be],typeof Re>"u")for(Re=[],Vt=0;Vt<be.length;Vt++)Re.push(-be.length+Vt);for(Re=Array.isArray(Re)?Re:[Re],be=B(be,ce.data.length-1),Re=B(Re,ce.data.length-1),Vt=0;Vt<ce.data.length;Vt++)be.indexOf(Vt)===-1&&Ue.push(ce.data[Vt]);for(Vt=0;Vt<be.length;Vt++)nt.push({newIndex:Re[Vt],trace:ce.data[be[Vt]]});for(nt.sort(function(Kt,ar){return Kt.newIndex-ar.newIndex}),Vt=0;Vt<nt.length;Vt+=1)Ue.splice(nt[Vt].newIndex,0,nt[Vt].trace);ce.data=Ue;var Lt=F.redraw(ce);return m.add(ce,ot,_t,wt,Ut),Lt}function $(ce,be,Re,Ue){ce=L.getGraphDiv(ce),u.clearPromiseQueue(ce);var nt={};if(typeof be=="string")nt[be]=Re;else if(L.isPlainObject(be))nt=L.extendFlat({},be),Ue===void 0&&(Ue=Re);else return L.warn("Restyle fail.",be,Re,Ue),Promise.reject();Object.keys(nt).length&&(ce.changed=!0);var ot=u.coerceTraceIndices(ce,Ue),wt=he(ce,nt,ot),_t=wt.flags;_t.calc&&(ce.calcdata=void 0),_t.clearAxisTypes&&u.clearAxisTypes(ce,ot,{});var Ut=[];_t.fullReplot?Ut.push(F._doPlot):(Ut.push(l.previousPromises),l.supplyDefaults(ce),_t.markerSize&&(l.doCalcdata(ce),Ee(Ut)),_t.style&&Ut.push(y.doTraceStyle),_t.colorbars&&Ut.push(y.doColorBars),Ut.push(A)),Ut.push(l.rehover,l.redrag,l.reselect),m.add(ce,$,[ce,wt.undoit,wt.traces],$,[ce,wt.redoit,wt.traces]);var Vt=L.syncOrAsync(Ut,ce);return(!Vt||!Vt.then)&&(Vt=Promise.resolve()),Vt.then(function(){return ce.emit("plotly_restyle",wt.eventData),ce})}function ne(ce){return ce===void 0?null:ce}function fe(ce,be){return be?function(Re,Ue,nt){var ot=w(Re,Ue),wt=ot.set;return ot.set=function(_t){var Ut=(nt||"")+Ue;te(Ut,ot.get(),_t,ce),wt(_t)},ot}:w}function te(ce,be,Re,Ue){if(Array.isArray(be)||Array.isArray(Re))for(var nt=Array.isArray(be)?be:[],ot=Array.isArray(Re)?Re:[],wt=Math.max(nt.length,ot.length),_t=0;_t<wt;_t++)te(ce+"["+_t+"]",nt[_t],ot[_t],Ue);else if(L.isPlainObject(be)||L.isPlainObject(Re)){var Ut=L.isPlainObject(be)?be:{},Vt=L.isPlainObject(Re)?Re:{},Lt=L.extendFlat({},Ut,Vt);for(var Kt in Lt)te(ce+"."+Kt,Ut[Kt],Vt[Kt],Ue)}else Ue[ce]===void 0&&(Ue[ce]=ne(be))}function q(ce,be,Re){for(var Ue in Re){var nt=w(ce,Ue);te(Ue,nt.get(),Re[Ue],be)}}function he(ce,be,Re){var Ue=ce._fullLayout,nt=ce._fullData,ot=ce.data,wt=Ue._guiEditing,_t=fe(Ue._preGUI,wt),Ut=L.extendDeepAll({},be),Vt;se(be);var Lt=C.traceFlags(),Kt={},ar={},Fr;function yt(){return Re.map(function(){})}function Xt(Xr){var _n=i.id2name(Xr);Fr.indexOf(_n)===-1&&Fr.push(_n)}function Yt(Xr){return"LAYOUT"+Xr+".autorange"}function br(Xr){return"LAYOUT"+Xr+".range"}function hr(Xr){for(var _n=Xr;_n<nt.length;_n++)if(nt[_n]._input===ot[Xr])return nt[_n]}function ut(Xr,_n,Dn){if(Array.isArray(Xr)){Xr.forEach(function(Br){ut(Br,_n,Dn)});return}if(!(Xr in be||u.hasParent(be,Xr))){var xr;if(Xr.substr(0,6)==="LAYOUT")xr=_t(ce.layout,Xr.replace("LAYOUT",""));else{var Ar=Re[Dn],Or=Ue._tracePreGUI[hr(Ar)._fullInput.uid];xr=fe(Or,wt)(ot[Ar],Xr)}Xr in ar||(ar[Xr]=yt()),ar[Xr][Dn]===void 0&&(ar[Xr][Dn]=ne(xr.get())),_n!==void 0&&xr.set(_n)}}function lt(Xr){return function(_n){return nt[_n][Xr]}}function xt(Xr){return function(_n,Dn){return _n===!1?nt[Re[Dn]][Xr]:null}}for(var Tt in be){if(u.hasParent(be,Tt))throw new Error("cannot set "+Tt+" and a parent attribute simultaneously");var Et=be[Tt],At,Ft,Ht,$t,Qt,or;if((Tt==="autobinx"||Tt==="autobiny")&&(Tt=Tt.charAt(Tt.length-1)+"bins",Array.isArray(Et)?Et=Et.map(xt(Tt)):Et===!1?Et=Re.map(lt(Tt)):Et=null),Kt[Tt]=Et,Tt.substr(0,6)==="LAYOUT"){Ht=_t(ce.layout,Tt.replace("LAYOUT","")),ar[Tt]=[ne(Ht.get())],Ht.set(Array.isArray(Et)?Et[0]:Et),Lt.calc=!0;continue}for(ar[Tt]=yt(),Vt=0;Vt<Re.length;Vt++){At=ot[Re[Vt]],Ft=hr(Re[Vt]);var Er=Ue._tracePreGUI[Ft._fullInput.uid];if(Ht=fe(Er,wt)(At,Tt),$t=Ht.get(),Qt=Array.isArray(Et)?Et[Vt%Et.length]:Et,Qt!==void 0){var Ze=Ht.parts[Ht.parts.length-1],Ye=Tt.substr(0,Tt.length-Ze.length-1),Dt=Ye?Ye+".":"",It=Ye?w(Ft,Ye).get():Ft;if(or=r.getTraceValObject(Ft,Ht.parts),or&&or.impliedEdits&&Qt!==null)for(var Zt in or.impliedEdits)ut(L.relativeAttr(Tt,Zt),or.impliedEdits[Zt],Vt);else if((Ze==="thicknessmode"||Ze==="lenmode")&&$t!==Qt&&(Qt==="fraction"||Qt==="pixels")&&It){var nr=Ue._size,lr=It.orient,rr=lr==="top"||lr==="bottom";if(Ze==="thicknessmode"){var zt=rr?nr.h:nr.w;ut(Dt+"thickness",It.thickness*(Qt==="fraction"?1/zt:zt),Vt)}else{var fr=rr?nr.w:nr.h;ut(Dt+"len",It.len*(Qt==="fraction"?1/fr:fr),Vt)}}else if(Tt==="type"&&(Qt==="pie"!=($t==="pie")||Qt==="funnelarea"!=($t==="funnelarea"))){var dr="x",pr="y";(Qt==="bar"||$t==="bar")&&At.orientation==="h"&&(dr="y",pr="x"),L.swapAttrs(At,["?","?src"],"labels",dr),L.swapAttrs(At,["d?","?0"],"label",dr),L.swapAttrs(At,["?","?src"],"values",pr),$t==="pie"||$t==="funnelarea"?(w(At,"marker.color").set(w(At,"marker.colors").get()),Ue._pielayer.selectAll("g.trace").remove()):t.traceIs(At,"cartesian")&&w(At,"marker.colors").set(w(At,"marker.color").get())}ar[Tt][Vt]=ne($t);var vr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(vr.indexOf(Tt)!==-1){if(Tt==="orientation"){Ht.set(Qt);var Vr=At.x&&!At.y?"h":"v";if((Ht.get()||Vr)===Ft.orientation)continue}else Tt==="orientationaxes"&&(At.orientation={v:"h",h:"v"}[Ft.orientation]);u.swapXYData(At),Lt.calc=Lt.clearAxisTypes=!0}else l.dataArrayContainers.indexOf(Ht.parts[0])!==-1?(u.manageArrayContainers(Ht,Qt,ar),Lt.calc=!0):(or?or.arrayOk&&!t.traceIs(Ft,"regl")&&(L.isArrayOrTypedArray(Qt)||L.isArrayOrTypedArray($t))?Lt.calc=!0:C.update(Lt,or):Lt.calc=!0,Ht.set(Qt))}}if(["swapxyaxes","orientationaxes"].indexOf(Tt)!==-1&&i.swap(ce,Re),Tt==="orientationaxes"){var _r=w(ce.layout,"hovermode"),kr=_r.get();kr==="x"?_r.set("y"):kr==="y"?_r.set("x"):kr==="x unified"?_r.set("y unified"):kr==="y unified"&&_r.set("x unified")}if(["orientation","type"].indexOf(Tt)!==-1){for(Fr=[],Vt=0;Vt<Re.length;Vt++){var pn=ot[Re[Vt]];t.traceIs(pn,"cartesian")&&(Xt(pn.xaxis||"x"),Xt(pn.yaxis||"y"))}ut(Fr.map(Yt),!0,0),ut(Fr.map(br),[0,1],0)}}return(Lt.calc||Lt.plot)&&(Lt.fullReplot=!0),{flags:Lt,undoit:ar,redoit:Kt,traces:Re,eventData:L.extendDeepNoArrays([],[Ut,Re])}}function se(ce){var be=L.counterRegex("axis",".title",!1,!1),Re=/colorbar\.title$/,Ue=Object.keys(ce),nt,ot,wt;for(nt=0;nt<Ue.length;nt++)ot=Ue[nt],wt=ce[ot],(ot==="title"||be.test(ot)||Re.test(ot))&&(typeof wt=="string"||typeof wt=="number")?_t(ot,ot.replace("title","title.text")):ot.indexOf("titlefont")>-1&&ot.indexOf("grouptitlefont")===-1?_t(ot,ot.replace("titlefont","title.font")):ot.indexOf("titleposition")>-1?_t(ot,ot.replace("titleposition","title.position")):ot.indexOf("titleside")>-1?_t(ot,ot.replace("titleside","title.side")):ot.indexOf("titleoffset")>-1&&_t(ot,ot.replace("titleoffset","title.offset"));function _t(Ut,Vt){ce[Vt]=ce[Ut],delete ce[Ut]}}function pe(ce,be,Re){ce=L.getGraphDiv(ce),u.clearPromiseQueue(ce);var Ue={};if(typeof be=="string")Ue[be]=Re;else if(L.isPlainObject(be))Ue=L.extendFlat({},be);else return L.warn("Relayout fail.",be,Re),Promise.reject();Object.keys(Ue).length&&(ce.changed=!0);var nt=Ce(ce,Ue),ot=nt.flags;ot.calc&&(ce.calcdata=void 0);var wt=[l.previousPromises];ot.layoutReplot?wt.push(y.layoutReplot):Object.keys(Ue).length&&(we(ce,ot,nt)||l.supplyDefaults(ce),ot.legend&&wt.push(y.doLegend),ot.layoutstyle&&wt.push(y.layoutStyles),ot.axrange&&Ee(wt,nt.rangesAltered),ot.ticks&&wt.push(y.doTicksRelayout),ot.modebar&&wt.push(y.doModeBar),ot.camera&&wt.push(y.doCamera),ot.colorbars&&wt.push(y.doColorBars),wt.push(A)),wt.push(l.rehover,l.redrag,l.reselect),m.add(ce,pe,[ce,nt.undoit],pe,[ce,nt.redoit]);var _t=L.syncOrAsync(wt,ce);return(!_t||!_t.then)&&(_t=Promise.resolve(ce)),_t.then(function(){return ce.emit("plotly_relayout",nt.eventData),ce})}function we(ce,be,Re){var Ue=ce._fullLayout;if(!be.axrange)return!1;for(var nt in be)if(nt!=="axrange"&&be[nt])return!1;for(var ot in Re.rangesAltered){var wt=i.id2name(ot),_t=ce.layout[wt],Ut=Ue[wt];Ut.autorange=_t.autorange;var Vt=Ut._rangeInitial0,Lt=Ut._rangeInitial1;if(Vt===void 0&&Lt!==void 0||Vt!==void 0&&Lt===void 0)return!1;if(_t.range&&(Ut.range=_t.range.slice()),Ut.cleanRange(),Ut._matchGroup){for(var Kt in Ut._matchGroup)if(Kt!==ot){var ar=Ue[i.id2name(Kt)];ar.autorange=Ut.autorange,ar.range=Ut.range.slice(),ar._input.range=Ut.range.slice()}}}return!0}function Ee(ce,be){var Re=be?function(Ue){var nt=[],ot=!0;for(var wt in be){var _t=i.getFromId(Ue,wt);if(nt.push(wt),(_t.ticklabelposition||"").indexOf("inside")!==-1&&_t._anchorAxis&&nt.push(_t._anchorAxis._id),_t._matchGroup)for(var Ut in _t._matchGroup)be[Ut]||nt.push(Ut)}return i.draw(Ue,nt,{skipTitle:ot})}:function(Ue){return i.draw(Ue,"redraw")};ce.push(d,y.doAutoRangeAndConstraints,Re,y.drawData,y.finalDraw)}var Me=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Be=/^[xyz]axis[0-9]*\.autorange$/,Ne=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ce(ce,be){var Re=ce.layout,Ue=ce._fullLayout,nt=Ue._guiEditing,ot=fe(Ue._preGUI,nt),wt=Object.keys(be),_t=i.list(ce),Ut=L.extendDeepAll({},be),Vt={},Lt,Kt,ar;for(se(be),wt=Object.keys(be),Kt=0;Kt<wt.length;Kt++)if(wt[Kt].indexOf("allaxes")===0){for(ar=0;ar<_t.length;ar++){var Fr=_t[ar]._id.substr(1),yt=Fr.indexOf("scene")!==-1?Fr+".":"",Xt=wt[Kt].replace("allaxes",yt+_t[ar]._name);be[Xt]||(be[Xt]=be[wt[Kt]])}delete be[wt[Kt]]}var Yt=C.layoutFlags(),br={},hr={};function ut(Or,Br){if(Array.isArray(Or)){Or.forEach(function(vn){ut(vn,Br)});return}if(!(Or in be||u.hasParent(be,Or))){var qr=ot(Re,Or);Or in hr||(hr[Or]=ne(qr.get())),Br!==void 0&&qr.set(Br)}}var lt={},xt;function Tt(Or){var Br=i.name2id(Or.split(".")[0]);return lt[Br]=1,Br}for(var Et in be){if(u.hasParent(be,Et))throw new Error("cannot set "+Et+" and a parent attribute simultaneously");for(var At=ot(Re,Et),Ft=be[Et],Ht=At.parts.length,$t=Ht-1;$t>0&&typeof At.parts[$t]!="string";)$t--;var Qt=At.parts[$t],or=At.parts[$t-1]+"."+Qt,Er=At.parts.slice(0,$t).join("."),Ze=w(ce.layout,Er).get(),Ye=w(Ue,Er).get(),Dt=At.get();if(Ft!==void 0){br[Et]=Ft,hr[Et]=Qt==="reverse"?Ft:ne(Dt);var It=r.getLayoutValObject(Ue,At.parts);if(It&&It.impliedEdits&&Ft!==null)for(var Zt in It.impliedEdits)ut(L.relativeAttr(Et,Zt),It.impliedEdits[Zt]);if(["width","height"].indexOf(Et)!==-1)if(Ft){ut("autosize",null);var nr=Et==="height"?"width":"height";ut(nr,Ue[nr])}else Ue[Et]=ce._initialAutoSize[Et];else if(Et==="autosize")ut("width",Ft?null:Ue.width),ut("height",Ft?null:Ue.height);else if(or.match(Me))Tt(or),w(Ue,Er+"._inputRange").set(null);else if(or.match(Be)){Tt(or),w(Ue,Er+"._inputRange").set(null);var lr=w(Ue,Er).get();lr._inputDomain&&(lr._input.domain=lr._inputDomain.slice())}else or.match(Ne)&&w(Ue,Er+"._inputDomain").set(null);if(Qt==="type"){xt=Ze;var rr=Ye.type==="linear"&&Ft==="log",zt=Ye.type==="log"&&Ft==="linear";if(rr||zt){if(!xt||!xt.range)ut(Er+".autorange",!0);else if(Ye.autorange)rr&&(xt.range=xt.range[1]>xt.range[0]?[1,2]:[2,1]);else{var fr=xt.range[0],dr=xt.range[1];rr?(fr<=0&&dr<=0&&ut(Er+".autorange",!0),fr<=0?fr=dr/1e6:dr<=0&&(dr=fr/1e6),ut(Er+".range[0]",Math.log(fr)/Math.LN10),ut(Er+".range[1]",Math.log(dr)/Math.LN10)):(ut(Er+".range[0]",Math.pow(10,fr)),ut(Er+".range[1]",Math.pow(10,dr)))}Array.isArray(Ue._subplots.polar)&&Ue._subplots.polar.length&&Ue[At.parts[0]]&&At.parts[1]==="radialaxis"&&delete Ue[At.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(ce,Ye,Ft,ut),t.getComponentMethod("images","convertCoords")(ce,Ye,Ft,ut)}else ut(Er+".autorange",!0),ut(Er+".range",null);w(Ue,Er+"._inputRange").set(null)}else if(Qt.match(S)){var pr=w(Ue,Et).get(),vr=(Ft||{}).type;(!vr||vr==="-")&&(vr="linear"),t.getComponentMethod("annotations","convertCoords")(ce,pr,vr,ut),t.getComponentMethod("images","convertCoords")(ce,pr,vr,ut)}var Vr=g.containerArrayMatch(Et);if(Vr){Lt=Vr.array,Kt=Vr.index;var _r=Vr.property,kr=It||{editType:"calc"};Kt!==""&&_r===""&&(g.isAddVal(Ft)?hr[Et]=null:g.isRemoveVal(Ft)?hr[Et]=(w(Re,Lt).get()||[])[Kt]:L.warn("unrecognized full object value",be)),C.update(Yt,kr),Vt[Lt]||(Vt[Lt]={});var pn=Vt[Lt][Kt];pn||(pn=Vt[Lt][Kt]={}),pn[_r]=Ft,delete be[Et]}else Qt==="reverse"?(Ze.range?Ze.range.reverse():(ut(Er+".autorange",!0),Ze.range=[1,0]),Ye.autorange?Yt.calc=!0:Yt.plot=!0):(Et==="dragmode"&&(Ft===!1&&Dt!==!1||Ft!==!1&&Dt===!1)||Ue._has("scatter-like")&&Ue._has("regl")&&Et==="dragmode"&&(Ft==="lasso"||Ft==="select")&&!(Dt==="lasso"||Dt==="select")||Ue._has("gl2d")?Yt.plot=!0:It?C.update(Yt,It):Yt.calc=!0,At.set(Ft))}}for(Lt in Vt){var Xr=g.applyContainerArrayChanges(ce,ot(Re,Lt),Vt[Lt],Yt,ot);Xr||(Yt.plot=!0)}for(var _n in lt){xt=i.getFromId(ce,_n);var Dn=xt&&xt._constraintGroup;if(Dn){Yt.calc=!0;for(var xr in Dn)lt[xr]||(i.getFromId(ce,xr)._constraintShrinkable=!0)}}(Te(ce)||be.height||be.width)&&(Yt.plot=!0);var Ar=Ue.shapes;for(Kt=0;Kt<Ar.length;Kt++)if(Ar[Kt].showlegend){Yt.calc=!0;break}return(Yt.plot||Yt.calc)&&(Yt.layoutReplot=!0),{flags:Yt,rangesAltered:lt,undoit:hr,redoit:br,eventData:Ut}}function Te(ce){var be=ce._fullLayout,Re=be.width,Ue=be.height;return ce.layout.autosize&&l.plotAutoSize(ce,ce.layout,be),be.width!==Re||be.height!==Ue}function Le(ce,be,Re,Ue){ce=L.getGraphDiv(ce),u.clearPromiseQueue(ce),L.isPlainObject(be)||(be={}),L.isPlainObject(Re)||(Re={}),Object.keys(be).length&&(ce.changed=!0),Object.keys(Re).length&&(ce.changed=!0);var nt=u.coerceTraceIndices(ce,Ue),ot=he(ce,L.extendFlat({},be),nt),wt=ot.flags,_t=Ce(ce,L.extendFlat({},Re)),Ut=_t.flags;(wt.calc||Ut.calc)&&(ce.calcdata=void 0),wt.clearAxisTypes&&u.clearAxisTypes(ce,nt,Re);var Vt=[];Ut.layoutReplot?Vt.push(y.layoutReplot):wt.fullReplot?Vt.push(F._doPlot):(Vt.push(l.previousPromises),we(ce,Ut,_t)||l.supplyDefaults(ce),wt.style&&Vt.push(y.doTraceStyle),(wt.colorbars||Ut.colorbars)&&Vt.push(y.doColorBars),Ut.legend&&Vt.push(y.doLegend),Ut.layoutstyle&&Vt.push(y.layoutStyles),Ut.axrange&&Ee(Vt,_t.rangesAltered),Ut.ticks&&Vt.push(y.doTicksRelayout),Ut.modebar&&Vt.push(y.doModeBar),Ut.camera&&Vt.push(y.doCamera),Vt.push(A)),Vt.push(l.rehover,l.redrag,l.reselect),m.add(ce,Le,[ce,ot.undoit,_t.undoit,ot.traces],Le,[ce,ot.redoit,_t.redoit,ot.traces]);var Lt=L.syncOrAsync(Vt,ce);return(!Lt||!Lt.then)&&(Lt=Promise.resolve(ce)),Lt.then(function(){return ce.emit("plotly_update",{data:ot.eventData,layout:_t.eventData}),ce})}function Ve(ce){return function(Re){Re._fullLayout._guiEditing=!0;var Ue=ce.apply(null,arguments);return Re._fullLayout._guiEditing=!1,Ue}}var We=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Fe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ge(ce,be){for(var Re=0;Re<be.length;Re++){var Ue=be[Re],nt=ce.match(Ue.pattern);if(nt){var ot=nt[1]||"";return{head:ot,tail:ce.substr(ot.length+1),attr:Ue.attr}}}}function it(ce,be){var Re=w(be,ce).get();if(Re!==void 0)return Re;var Ue=ce.split(".");for(Ue.pop();Ue.length>1;)if(Ue.pop(),Re=w(be,Ue.join(".")+".uirevision").get(),Re!==void 0)return Re;return be.uirevision}function qe(ce,be){for(var Re=0;Re<be.length;Re++)if(be[Re]._fullInput.uid===ce)return Re;return-1}function $e(ce,be,Re){for(var Ue=0;Ue<be.length;Ue++)if(be[Ue].uid===ce)return Ue;return!be[Re]||be[Re].uid?-1:Re}function tt(ce,be){var Re=L.isPlainObject(ce),Ue=Array.isArray(ce);return Re||Ue?(Re&&L.isPlainObject(be)||Ue&&Array.isArray(be))&&JSON.stringify(ce)===JSON.stringify(be):ce===be}function vt(ce,be,Re,Ue){var nt=Ue._preGUI,ot,wt,_t,Ut,Vt,Lt,Kt,ar,Fr,yt,Xt=[],Yt={},br={};for(ot in nt){if(Vt=Ge(ot,We),Vt){if(Fr=Vt.head,yt=Vt.tail,wt=Vt.attr||Fr+".uirevision",_t=w(Ue,wt).get(),Ut=_t&&it(wt,be),Ut&&Ut===_t){if(Lt=nt[ot],Lt===null&&(Lt=void 0),Kt=w(be,ot),ar=Kt.get(),tt(ar,Lt)){ar===void 0&&yt==="autorange"&&Xt.push(Fr),Kt.set(ne(w(Ue,ot).get()));continue}else if(yt==="autorange"||yt.substr(0,6)==="range["){var hr=nt[Fr+".range[0]"],ut=nt[Fr+".range[1]"],lt=nt[Fr+".autorange"];if(lt||lt===null&&hr===null&&ut===null){if(!(Fr in Yt)){var xt=w(be,Fr).get();Yt[Fr]=xt&&(xt.autorange||xt.autorange!==!1&&(!xt.range||xt.range.length!==2))}if(Yt[Fr]){Kt.set(ne(w(Ue,ot).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+ot);delete nt[ot],Vt&&Vt.tail.substr(0,6)==="range["&&(br[Vt.head]=1)}for(var Tt=0;Tt<Xt.length;Tt++){var Et=Xt[Tt];if(br[Et]){var At=w(be,Et).get();At&&delete At.autorange}}var Ft=Ue._tracePreGUI;for(var Ht in Ft){var $t=Ft[Ht],Qt=null,or;for(ot in $t){if(!Qt){var Er=qe(Ht,Re);if(Er<0){delete Ft[Ht];break}var Ze=Re[Er];or=Ze._fullInput;var Ye=$e(Ht,ce,or.index);if(Ye<0){delete Ft[Ht];break}Qt=ce[Ye]}if(Vt=Ge(ot,Fe),Vt){if(Vt.attr?(_t=w(Ue,Vt.attr).get(),Ut=_t&&it(Vt.attr,be)):(_t=or.uirevision,Ut=Qt.uirevision,Ut===void 0&&(Ut=be.uirevision)),Ut&&Ut===_t&&(Lt=$t[ot],Lt===null&&(Lt=void 0),Kt=w(Qt,ot),ar=Kt.get(),tt(ar,Lt))){Kt.set(ne(w(or,ot).get()));continue}}else L.warn("unrecognized GUI edit: "+ot+" in trace uid "+Ht);delete $t[ot]}}}function dt(ce,be,Re,Ue){var nt,ot;function wt(){return F.addFrames(ce,nt)}ce=L.getGraphDiv(ce),u.clearPromiseQueue(ce);var _t=ce._fullData,Ut=ce._fullLayout;if(!L.isPlotDiv(ce)||!_t||!Ut)ot=F.newPlot(ce,be,Re,Ue);else{if(L.isPlainObject(be)){var Vt=be;be=Vt.data,Re=Vt.layout,Ue=Vt.config,nt=Vt.frames}var Lt=!1;if(Ue){var Kt=L.extendDeep({},ce._context);ce._context=void 0,N(ce,Ue),Lt=Wt(Kt,ce._context)}ce.data=be||[],u.cleanData(ce.data),ce.layout=Re||{},u.cleanLayout(ce.layout),vt(ce.data,ce.layout,_t,Ut),l.supplyDefaults(ce,{skipUpdateCalc:!0});var ar=ce._fullData,Fr=ce._fullLayout,yt=Fr.datarevision===void 0,Xt=Fr.transition,Yt=Mt(ce,Ut,Fr,yt,Xt),br=Yt.newDataRevision,hr=gt(ce,_t,ar,yt,Xt,br);if(Te(ce)&&(Yt.layoutReplot=!0),hr.calc||Yt.calc){ce.calcdata=void 0;for(var ut=Object.getOwnPropertyNames(Fr),lt=0;lt<ut.length;lt++){var xt=ut[lt],Tt=xt.substring(0,5);if(Tt==="xaxis"||Tt==="yaxis"){var Et=Fr[xt]._emptyCategories;Et&&Et()}}}else l.supplyDefaultsUpdateCalc(ce.calcdata,ar);var At=[];if(nt&&(ce._transitionData={},l.createTransitionData(ce),At.push(wt)),Fr.transition&&!Lt&&(hr.anim||Yt.anim))Yt.ticks&&At.push(y.doTicksRelayout),l.doCalcdata(ce),y.doAutoRangeAndConstraints(ce),At.push(function(){return l.transitionFromReact(ce,hr,Yt,Ut)});else if(hr.fullReplot||Yt.layoutReplot||Lt)ce._fullLayout._skipDefaults=!0,At.push(F._doPlot);else{for(var Ft in Yt.arrays){var Ht=Yt.arrays[Ft];if(Ht.length){var $t=t.getComponentMethod(Ft,"drawOne");if($t!==L.noop)for(var Qt=0;Qt<Ht.length;Qt++)$t(ce,Ht[Qt]);else{var or=t.getComponentMethod(Ft,"draw");if(or===L.noop)throw new Error("cannot draw components: "+Ft);or(ce)}}}At.push(l.previousPromises),hr.style&&At.push(y.doTraceStyle),(hr.colorbars||Yt.colorbars)&&At.push(y.doColorBars),Yt.legend&&At.push(y.doLegend),Yt.layoutstyle&&At.push(y.layoutStyles),Yt.axrange&&Ee(At),Yt.ticks&&At.push(y.doTicksRelayout),Yt.modebar&&At.push(y.doModeBar),Yt.camera&&At.push(y.doCamera),At.push(A)}At.push(l.rehover,l.redrag,l.reselect),ot=L.syncOrAsync(At,ce),(!ot||!ot.then)&&(ot=Promise.resolve(ce))}return ot.then(function(){return ce.emit("plotly_react",{data:be,layout:Re}),ce})}function gt(ce,be,Re,Ue,nt,ot){var wt=be.length===Re.length;if(!nt&&!wt)return{fullReplot:!0,calc:!0};var _t=C.traceFlags();_t.arrays={},_t.nChanges=0,_t.nChangesAnim=0;var Ut,Vt;function Lt(Fr){var yt=r.getTraceValObject(Vt,Fr);return!Vt._module.animatable&&yt.anim&&(yt.anim=!1),yt}var Kt={getValObject:Lt,flags:_t,immutable:Ue,transition:nt,newDataRevision:ot,gd:ce},ar={};for(Ut=0;Ut<be.length;Ut++)if(Re[Ut]){if(Vt=Re[Ut]._fullInput,l.hasMakesDataTransform(Vt)&&(Vt=Re[Ut]),ar[Vt.uid])continue;ar[Vt.uid]=1,Ct(be[Ut]._fullInput,Vt,[],Kt)}return(_t.calc||_t.plot)&&(_t.fullReplot=!0),nt&&_t.nChanges&&_t.nChangesAnim&&(_t.anim=_t.nChanges===_t.nChangesAnim&&wt?"all":"some"),_t}function Mt(ce,be,Re,Ue,nt){var ot=C.layoutFlags();ot.arrays={},ot.rangesAltered={},ot.nChanges=0,ot.nChangesAnim=0;function wt(Ut){return r.getLayoutValObject(Re,Ut)}var _t={getValObject:wt,flags:ot,immutable:Ue,transition:nt,gd:ce};return Ct(be,Re,[],_t),(ot.plot||ot.calc)&&(ot.layoutReplot=!0),nt&&ot.nChanges&&ot.nChangesAnim&&(ot.anim=ot.nChanges===ot.nChangesAnim?"all":"some"),ot}function Ct(ce,be,Re,Ue){var nt,ot,wt,_t=Ue.getValObject,Ut=Ue.flags,Vt=Ue.immutable,Lt=Ue.inArray,Kt=Ue.arrayIndex;function ar(){var Er=nt.editType;if(Lt&&Er.indexOf("arraydraw")!==-1){L.pushUnique(Ut.arrays[Lt],Kt);return}C.update(Ut,nt),Er!=="none"&&Ut.nChanges++,Ue.transition&&nt.anim&&Ut.nChangesAnim++,(Me.test(wt)||Be.test(wt))&&(Ut.rangesAltered[Re[0]]=1),Ne.test(wt)&&w(be,"_inputDomain").set(null),ot==="datarevision"&&(Ut.newDataRevision=1)}function Fr(Er){return Er.valType==="data_array"||Er.arrayOk}for(ot in ce){if(Ut.calc&&!Ue.transition)return;var yt=ce[ot],Xt=be[ot],Yt=Re.concat(ot);if(wt=Yt.join("."),!(ot.charAt(0)==="_"||typeof yt=="function"||yt===Xt)){if((ot==="tick0"||ot==="dtick")&&Re[0]!=="geo"){var br=be.tickmode;if(br==="auto"||br==="array"||!br)continue}if(!(ot==="range"&&be.autorange)&&!((ot==="zmin"||ot==="zmax")&&be.type==="contourcarpet")&&(nt=_t(Yt),!!nt&&!(nt._compareAsJSON&&JSON.stringify(yt)===JSON.stringify(Xt)))){var hr=nt.valType,ut,lt=Fr(nt),xt=Array.isArray(yt),Tt=Array.isArray(Xt);if(xt&&Tt){var Et="_input_"+ot,At=ce[Et],Ft=be[Et];if(Array.isArray(At)&&At===Ft)continue}if(Xt===void 0)lt&&xt?Ut.calc=!0:ar();else if(nt._isLinkedToArray){var Ht=[],$t=!1;Lt||(Ut.arrays[ot]=Ht);var Qt=Math.min(yt.length,Xt.length),or=Math.max(yt.length,Xt.length);if(Qt!==or)if(nt.editType==="arraydraw")$t=!0;else{ar();continue}for(ut=0;ut<Qt;ut++)Ct(yt[ut],Xt[ut],Yt.concat(ut),L.extendFlat({inArray:ot,arrayIndex:ut},Ue));if($t)for(ut=Qt;ut<or;ut++)Ht.push(ut)}else!hr&&L.isPlainObject(yt)?Ct(yt,Xt,Yt,Ue):lt?xt&&Tt?(Vt&&(Ut.calc=!0),(Vt||Ue.newDataRevision)&&ar()):xt!==Tt?Ut.calc=!0:ar():xt&&Tt?(yt.length!==Xt.length||String(yt)!==String(Xt))&&ar():ar()}}}for(ot in be)if(!(ot in ce||ot.charAt(0)==="_"||typeof be[ot]=="function"))if(nt=_t(Re.concat(ot)),Fr(nt)&&Array.isArray(be[ot])){Ut.calc=!0;return}else ar()}function Wt(ce,be){var Re;for(Re in ce)if(Re.charAt(0)!=="_"){var Ue=ce[Re],nt=be[Re];if(Ue!==nt)if(L.isPlainObject(Ue)&&L.isPlainObject(nt)){if(Wt(Ue,nt))return!0}else if(Array.isArray(Ue)&&Array.isArray(nt)){if(Ue.length!==nt.length)return!0;for(var ot=0;ot<Ue.length;ot++)if(Ue[ot]!==nt[ot])if(L.isPlainObject(Ue[ot])&&L.isPlainObject(nt[ot])){if(Wt(Ue[ot],nt[ot]))return!0}else return!0}else return!0}}function Xe(ce,be,Re){if(ce=L.getGraphDiv(ce),!L.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Ue=ce._transitionData;Ue._frameQueue||(Ue._frameQueue=[]),Re=l.supplyAnimationDefaults(Re);var nt=Re.transition,ot=Re.frame;Ue._frameWaitingCnt===void 0&&(Ue._frameWaitingCnt=0);function wt(Vt){return Array.isArray(nt)?Vt>=nt.length?nt[0]:nt[Vt]:nt}function _t(Vt){return Array.isArray(ot)?Vt>=ot.length?ot[0]:ot[Vt]:ot}function Ut(Vt,Lt){var Kt=0;return function(){if(Vt&&++Kt===Lt)return Vt()}}return new Promise(function(Vt,Lt){function Kt(){if(Ue._frameQueue.length!==0){for(;Ue._frameQueue.length;){var Qt=Ue._frameQueue.pop();Qt.onInterrupt&&Qt.onInterrupt()}ce.emit("plotly_animationinterrupted",[])}}function ar(Qt){if(Qt.length!==0){for(var or=0;or<Qt.length;or++){var Er;Qt[or].type==="byname"?Er=l.computeFrame(ce,Qt[or].name):Er=Qt[or].data;var Ze=_t(or),Ye=wt(or);Ye.duration=Math.min(Ye.duration,Ze.duration);var Dt={frame:Er,name:Qt[or].name,frameOpts:Ze,transitionOpts:Ye};or===Qt.length-1&&(Dt.onComplete=Ut(Vt,2),Dt.onInterrupt=Lt),Ue._frameQueue.push(Dt)}Re.mode==="immediate"&&(Ue._lastFrameAt=-1/0),Ue._animationRaf||Xt()}}function Fr(){ce.emit("plotly_animated"),window.cancelAnimationFrame(Ue._animationRaf),Ue._animationRaf=null}function yt(){Ue._currentFrame&&Ue._currentFrame.onComplete&&Ue._currentFrame.onComplete();var Qt=Ue._currentFrame=Ue._frameQueue.shift();if(Qt){var or=Qt.name?Qt.name.toString():null;ce._fullLayout._currentFrame=or,Ue._lastFrameAt=Date.now(),Ue._timeToNext=Qt.frameOpts.duration,l.transition(ce,Qt.frame.data,Qt.frame.layout,u.coerceTraceIndices(ce,Qt.frame.traces),Qt.frameOpts,Qt.transitionOpts).then(function(){Qt.onComplete&&Qt.onComplete()}),ce.emit("plotly_animatingframe",{name:or,frame:Qt.frame,animation:{frame:Qt.frameOpts,transition:Qt.transitionOpts}})}else Fr()}function Xt(){ce.emit("plotly_animating"),Ue._lastFrameAt=-1/0,Ue._timeToNext=0,Ue._runningTransitions=0,Ue._currentFrame=null;var Qt=function(){Ue._animationRaf=window.requestAnimationFrame(Qt),Date.now()-Ue._lastFrameAt>Ue._timeToNext&&yt()};Qt()}var Yt=0;function br(Qt){return Array.isArray(nt)?Yt>=nt.length?Qt.transitionOpts=nt[Yt]:Qt.transitionOpts=nt[0]:Qt.transitionOpts=nt,Yt++,Qt}var hr,ut,lt=[],xt=be==null,Tt=Array.isArray(be),Et=!xt&&!Tt&&L.isPlainObject(be);if(Et)lt.push({type:"object",data:br(L.extendFlat({},be))});else if(xt||["string","number"].indexOf(typeof be)!==-1)for(hr=0;hr<Ue._frames.length;hr++)ut=Ue._frames[hr],ut&&(xt||String(ut.group)===String(be))&&lt.push({type:"byname",name:String(ut.name),data:br({name:ut.name})});else if(Tt)for(hr=0;hr<be.length;hr++){var At=be[hr];["number","string"].indexOf(typeof At)!==-1?(At=String(At),lt.push({type:"byname",name:At,data:br({name:At})})):L.isPlainObject(At)&&lt.push({type:"object",data:br(L.extendFlat({},At))})}for(hr=0;hr<lt.length;hr++)if(ut=lt[hr],ut.type==="byname"&&!Ue._frameHash[ut.data.name]){L.warn('animate failure: frame not found: "'+ut.data.name+'"'),Lt();return}["next","immediate"].indexOf(Re.mode)!==-1&&Kt(),Re.direction==="reverse"&&lt.reverse();var Ft=ce._fullLayout._currentFrame;if(Ft&&Re.fromcurrent){var Ht=-1;for(hr=0;hr<lt.length;hr++)if(ut=lt[hr],ut.type==="byname"&&ut.name===Ft){Ht=hr;break}if(Ht>0&&Ht<lt.length-1){var $t=[];for(hr=0;hr<lt.length;hr++)ut=lt[hr],(lt[hr].type!=="byname"||hr>Ht)&&$t.push(ut);lt=$t}}lt.length>0?ar(lt):(ce.emit("plotly_animated"),Vt())})}function ke(ce,be,Re){if(ce=L.getGraphDiv(ce),be==null)return Promise.resolve();if(!L.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Ue,nt,ot,wt,_t=ce._transitionData._frames,Ut=ce._transitionData._frameHash;if(!Array.isArray(be))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+be);var Vt=_t.length+be.length*2,Lt=[],Kt={};for(Ue=be.length-1;Ue>=0;Ue--)if(L.isPlainObject(be[Ue])){var ar=be[Ue].name,Fr=(Ut[ar]||Kt[ar]||{}).name,yt=be[Ue].name,Xt=Ut[Fr]||Kt[Fr];Fr&&yt&&typeof yt=="number"&&Xt&&D<T&&(D++,L.warn('addFrames: overwriting frame "'+(Ut[Fr]||Kt[Fr]).name+'" with a frame whose name of type "number" also equates to "'+Fr+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),D===T&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Kt[ar]={name:ar},Lt.push({frame:l.supplyFrameDefaults(be[Ue]),index:Re&&Re[Ue]!==void 0&&Re[Ue]!==null?Re[Ue]:Vt+Ue})}Lt.sort(function(Et,At){return Et.index>At.index?-1:Et.index<At.index?1:0});var Yt=[],br=[],hr=_t.length;for(Ue=Lt.length-1;Ue>=0;Ue--){if(nt=Lt[Ue].frame,typeof nt.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!nt.name)for(;Ut[nt.name="frame "+ce._transitionData._counter++];);if(Ut[nt.name]){for(ot=0;ot<_t.length&&(_t[ot]||{}).name!==nt.name;ot++);Yt.push({type:"replace",index:ot,value:nt}),br.unshift({type:"replace",index:ot,value:_t[ot]})}else wt=Math.max(0,Math.min(Lt[Ue].index,hr)),Yt.push({type:"insert",index:wt,value:nt}),br.unshift({type:"delete",index:wt}),hr++}var ut=l.modifyFrames,lt=l.modifyFrames,xt=[ce,br],Tt=[ce,Yt];return m&&m.add(ce,ut,xt,lt,Tt),l.modifyFrames(ce,Yt)}function Ie(ce,be){if(ce=L.getGraphDiv(ce),!L.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce);var Re,Ue,nt=ce._transitionData._frames,ot=[],wt=[];if(!be)for(be=[],Re=0;Re<nt.length;Re++)be.push(Re);for(be=be.slice(),be.sort(),Re=be.length-1;Re>=0;Re--)Ue=be[Re],ot.push({type:"delete",index:Ue}),wt.unshift({type:"insert",index:Ue,value:nt[Ue]});var _t=l.modifyFrames,Ut=l.modifyFrames,Vt=[ce,wt],Lt=[ce,ot];return m&&m.add(ce,_t,Vt,Ut,Lt),l.modifyFrames(ce,ot)}function Oe(ce){ce=L.getGraphDiv(ce);var be=ce._fullLayout||{},Re=ce._fullData||[];return l.cleanPlot([],{},Re,be),l.purge(ce),p.purge(ce),be._container&&be._container.remove(),delete ce._context,ce}function _e(ce){var be=ce._fullLayout,Re=ce.getBoundingClientRect();if(!L.equalDomRects(Re,be._lastBBox)){var Ue=be._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(ce));be._invScaleX=Math.sqrt(Ue[0][0]*Ue[0][0]+Ue[0][1]*Ue[0][1]+Ue[0][2]*Ue[0][2]),be._invScaleY=Math.sqrt(Ue[1][0]*Ue[1][0]+Ue[1][1]*Ue[1][1]+Ue[1][2]*Ue[1][2]),be._lastBBox=Re}}function Ae(ce){var be=h.select(ce),Re=ce._fullLayout;if(Re._calcInverseTransform=_e,Re._calcInverseTransform(ce),Re._container=be.selectAll(".plot-container").data([0]),Re._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Re._paperdiv=Re._container.selectAll(".svg-container").data([0]),Re._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Re._glcontainer=Re._paperdiv.selectAll(".gl-container").data([{}]),Re._glcontainer.enter().append("div").classed("gl-container",!0),Re._paperdiv.selectAll(".main-svg").remove(),Re._paperdiv.select(".modebar-container").remove(),Re._paper=Re._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Re._toppaper=Re._paperdiv.append("svg").classed("main-svg",!0),Re._modebardiv=Re._paperdiv.append("div"),delete Re._modeBar,Re._hoverpaper=Re._paperdiv.append("svg").classed("main-svg",!0),!Re._uid){var Ue={};h.selectAll("defs").each(function(){this.id&&(Ue[this.id.split("-")[1]]=1)}),Re._uid=L.randstr(Ue)}Re._paperdiv.selectAll(".main-svg").attr(x.svgAttrs),Re._defs=Re._paper.append("defs").attr("id","defs-"+Re._uid),Re._clips=Re._defs.append("g").classed("clips",!0),Re._topdefs=Re._toppaper.append("defs").attr("id","topdefs-"+Re._uid),Re._topclips=Re._topdefs.append("g").classed("clips",!0),Re._bgLayer=Re._paper.append("g").classed("bglayer",!0),Re._draggers=Re._paper.append("g").classed("draglayer",!0);var nt=Re._paper.append("g").classed("layer-below",!0);Re._imageLowerLayer=nt.append("g").classed("imagelayer",!0),Re._shapeLowerLayer=nt.append("g").classed("shapelayer",!0),Re._cartesianlayer=Re._paper.append("g").classed("cartesianlayer",!0),Re._polarlayer=Re._paper.append("g").classed("polarlayer",!0),Re._smithlayer=Re._paper.append("g").classed("smithlayer",!0),Re._ternarylayer=Re._paper.append("g").classed("ternarylayer",!0),Re._geolayer=Re._paper.append("g").classed("geolayer",!0),Re._funnelarealayer=Re._paper.append("g").classed("funnelarealayer",!0),Re._pielayer=Re._paper.append("g").classed("pielayer",!0),Re._iciclelayer=Re._paper.append("g").classed("iciclelayer",!0),Re._treemaplayer=Re._paper.append("g").classed("treemaplayer",!0),Re._sunburstlayer=Re._paper.append("g").classed("sunburstlayer",!0),Re._indicatorlayer=Re._toppaper.append("g").classed("indicatorlayer",!0),Re._glimages=Re._paper.append("g").classed("glimages",!0);var ot=Re._toppaper.append("g").classed("layer-above",!0);Re._imageUpperLayer=ot.append("g").classed("imagelayer",!0),Re._shapeUpperLayer=ot.append("g").classed("shapelayer",!0),Re._selectionLayer=Re._toppaper.append("g").classed("selectionlayer",!0),Re._infolayer=Re._toppaper.append("g").classed("infolayer",!0),Re._menulayer=Re._toppaper.append("g").classed("menulayer",!0),Re._zoomlayer=Re._toppaper.append("g").classed("zoomlayer",!0),Re._hoverlayer=Re._hoverpaper.append("g").classed("hoverlayer",!0),Re._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ce.emit("plotly_framework")}F.animate=Xe,F.addFrames=ke,F.deleteFrames=Ie,F.addTraces=ee,F.deleteTraces=X,F.extendTraces=ue,F.moveTraces=Q,F.prependTraces=de,F.newPlot=Y,F._doPlot=P,F.purge=Oe,F.react=dt,F.redraw=O,F.relayout=pe,F.restyle=$,F.setPlotConfig=a,F.update=Le,F._guiRelayout=Ve(pe),F._guiRestyle=Ve($),F._guiUpdate=Ve(Le),F._storeDirectGUIEdit=q},72075:function(k){var F={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function h(E,n){for(var L in E){var w=E[L];w.valType?n[L]=w.dflt:(n[L]||(n[L]={}),h(w,n[L]))}}h(F,e),k.exports={configAttributes:F,dfltConfig:e}},86281:function(k,F,e){var h=e(73972),E=e(71828),n=e(9012),L=e(10820),w=e(31391),p=e(85594),m=e(72075).configAttributes,t=e(30962),r=E.extendDeepAll,l=E.isPlainObject,i=E.isArrayOrTypedArray,f=E.nestedProperty,v=E.valObjectMeta,c="_isSubplotObj",x="_isLinkedToArray",d="_arrayAttrRegexps",M="_deprecated",g=[c,x,d,M];F.IS_SUBPLOT_OBJ=c,F.IS_LINKED_TO_ARRAY=x,F.DEPRECATED=M,F.UNDERSCORE_ATTRS=g,F.get=function(){var Y={};h.allTypes.forEach(function(W){Y[W]=S(W)});var B={};return Object.keys(h.transformsRegistry).forEach(function(W){B[W]=T(W)}),{defs:{valObjects:v,metaKeys:g.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:Y,layout:D(),transforms:B,frames:P(),animation:A(p),config:A(m)}},F.crawl=function(Y,B,W,H){var U=W||0;H=H||"",Object.keys(Y).forEach(function(G){var j=Y[G];if(g.indexOf(G)===-1){var re=(H?H+".":"")+G;B(j,G,Y,U,re),!F.isValObject(j)&&l(j)&&G!=="impliedEdits"&&F.crawl(j,B,U+1,re)}})},F.isValObject=function(Y){return Y&&Y.valType!==void 0},F.findArrayAttributes=function(Y){var B=[],W=[],H=[],U,G;function j(X,Q,$,ne){W=W.slice(0,ne).concat([Q]),H=H.slice(0,ne).concat([X&&X._isLinkedToArray]);var fe=X&&(X.valType==="data_array"||X.arrayOk===!0)&&!(W[ne-1]==="colorbar"&&(Q==="ticktext"||Q==="tickvals"));fe&&re(U,0,"")}function re(X,Q,$){var ne=X[W[Q]],fe=$+W[Q];if(Q===W.length-1)i(ne)&&B.push(G+fe);else if(H[Q]){if(Array.isArray(ne))for(var te=0;te<ne.length;te++)l(ne[te])&&re(ne[te],Q+1,fe+"["+te+"].")}else l(ne)&&re(ne,Q+1,fe+".")}U=Y,G="",F.crawl(n,j),Y._module&&Y._module.attributes&&F.crawl(Y._module.attributes,j);var ae=Y.transforms;if(ae)for(var ue=0;ue<ae.length;ue++){var de=ae[ue],ee=de._module;ee&&(G="transforms["+ue+"].",U=de,F.crawl(ee.attributes,j))}return B},F.getTraceValObject=function(Y,B){var W=B[0],H=1,U,G;if(W==="transforms"){if(B.length===1)return n.transforms;var j=Y.transforms;if(!Array.isArray(j)||!j.length)return!1;var re=B[1];if(!C(re)||re>=j.length)return!1;U=(h.transformsRegistry[j[re].type]||{}).attributes,G=U&&U[B[2]],H=3}else{var ae=Y._module;if(ae||(ae=(h.modules[Y.type||n.type.dflt]||{})._module),!ae)return!1;if(U=ae.attributes,G=U&&U[W],!G){var ue=ae.basePlotModule;ue&&ue.attributes&&(G=ue.attributes[W])}G||(G=n[W])}return y(G,B,H)},F.getLayoutValObject=function(Y,B){var W=u(Y,B[0]);return y(W,B,1)};function u(Y,B){var W,H,U,G,j=Y._basePlotModules;if(j){var re;for(W=0;W<j.length;W++){if(U=j[W],U.attrRegex&&U.attrRegex.test(B)){if(U.layoutAttrOverrides)return U.layoutAttrOverrides;!re&&U.layoutAttributes&&(re=U.layoutAttributes)}var ae=U.baseLayoutAttrOverrides;if(ae&&B in ae)return ae[B]}if(re)return re}var ue=Y._modules;if(ue){for(W=0;W<ue.length;W++)if(G=ue[W].layoutAttributes,G&&B in G)return G[B]}for(H in h.componentsRegistry){if(U=h.componentsRegistry[H],U.name==="colorscale"&&B.indexOf("coloraxis")===0)return U.layoutAttributes[B];if(!U.schema&&B===U.name)return U.layoutAttributes}return B in L?L[B]:!1}function y(Y,B,W){if(!Y)return!1;if(Y._isLinkedToArray){if(C(B[W]))W++;else if(W<B.length)return!1}for(;W<B.length;W++){var H=Y[B[W]];if(l(H))Y=H;else break;if(W===B.length-1)break;if(Y._isLinkedToArray){if(W++,!C(B[W]))return!1}else if(Y.valType==="info_array"){W++;var U=B[W];if(!C(U))return!1;var G=Y.items;if(Array.isArray(G)){if(U>=G.length)return!1;if(Y.dimensions===2){if(W++,B.length===W)return Y;var j=B[W];if(!C(j))return!1;Y=G[U][j]}else Y=G[U]}else Y=G}}return Y}function C(Y){return Y===Math.round(Y)&&Y>=0}function S(Y){var B,W;B=h.modules[Y]._module,W=B.basePlotModule;var H={};H.type=null;var U=r({},n),G=r({},B.attributes);F.crawl(G,function(ae,ue,de,ee,X){f(U,X).set(void 0),ae===void 0&&f(G,X).set(void 0)}),r(H,U),h.traceIs(Y,"noOpacity")&&delete H.opacity,h.traceIs(Y,"showLegend")||(delete H.showlegend,delete H.legendgroup),h.traceIs(Y,"noHover")&&(delete H.hoverinfo,delete H.hoverlabel),B.selectPoints||delete H.selectedpoints,r(H,G),W.attributes&&r(H,W.attributes),H.type=Y;var j={meta:B.meta||{},categories:B.categories||{},animatable:Boolean(B.animatable),type:Y,attributes:A(H)};if(B.layoutAttributes){var re={};r(re,B.layoutAttributes),j.layoutAttributes=A(re)}return B.animatable||F.crawl(j,function(ae){F.isValObject(ae)&&"anim"in ae&&delete ae.anim}),j}function D(){var Y={},B,W;r(Y,L);for(B in h.subplotsRegistry)if(W=h.subplotsRegistry[B],!!W.layoutAttributes)if(Array.isArray(W.attr))for(var H=0;H<W.attr.length;H++)N(Y,W,W.attr[H]);else{var U=W.attr==="subplot"?W.name:W.attr;N(Y,W,U)}for(B in h.componentsRegistry){W=h.componentsRegistry[B];var G=W.schema;if(G&&(G.subplots||G.layout)){var j=G.subplots;if(j&&j.xaxis&&!j.yaxis)for(var re in j.xaxis)delete Y.yaxis[re];delete Y.xaxis.shift,delete Y.xaxis.autoshift}else W.name==="colorscale"?r(Y,W.layoutAttributes):W.layoutAttributes&&O(Y,W.layoutAttributes,W.name)}return{layoutAttributes:A(Y)}}function T(Y){var B=h.transformsRegistry[Y],W=r({},B.attributes);return Object.keys(h.componentsRegistry).forEach(function(H){var U=h.componentsRegistry[H];U.schema&&U.schema.transforms&&U.schema.transforms[Y]&&Object.keys(U.schema.transforms[Y]).forEach(function(G){O(W,U.schema.transforms[Y][G],G)})}),{attributes:A(W)}}function P(){var Y={frames:r({},w)};return A(Y),Y.frames}function A(Y){return a(Y),R(Y),b(Y),Y}function a(Y){function B(H){return{valType:"string",editType:"none"}}function W(H,U,G){F.isValObject(H)?(H.arrayOk===!0||H.valType==="data_array")&&(G[U+"src"]=B()):l(H)&&(H.role="object")}F.crawl(Y,W)}function R(Y){function B(W,H,U){if(W){var G=W[x];G&&(delete W[x],U[H]={items:{}},U[H].items[G]=W,U[H].role="object")}}F.crawl(Y,B)}function b(Y){function B(W){for(var H in W)if(l(W[H]))B(W[H]);else if(Array.isArray(W[H]))for(var U=0;U<W[H].length;U++)B(W[H][U]);else W[H]instanceof RegExp&&(W[H]=W[H].toString())}B(Y)}function N(Y,B,W){var H=f(Y,W),U=r({},B.layoutAttributes);U[c]=!0,H.set(U)}function O(Y,B,W){var H=f(Y,W);H.set(r(H.get()||{},B))}},44467:function(k,F,e){var h=e(71828),E=e(9012),n="templateitemname",L={name:{valType:"string",editType:"none"}};L[n]={valType:"string",editType:"calc"},F.templatedArray=function(m,t){return t._isLinkedToArray=m,t.name=L.name,t[n]=L[n],t},F.traceTemplater=function(m){var t={},r,l;for(r in m)l=m[r],Array.isArray(l)&&l.length&&(t[r]=0);function i(f){r=h.coerce(f,{},E,"type");var v={type:r,_template:null};if(r in t){l=m[r];var c=t[r]%l.length;t[r]++,v._template=l[c]}return v}return{newTrace:i}},F.newContainer=function(m,t,r){var l=m._template,i=l&&(l[t]||r&&l[r]);h.isPlainObject(i)||(i=null);var f=m[t]={_template:i};return f},F.arrayTemplater=function(m,t,r){var l=m._template,i=l&&l[p(t)],f=l&&l[t];(!Array.isArray(f)||!f.length)&&(f=[]);var v={};function c(d){var M={name:d.name,_input:d},g=M[n]=d[n];if(!w(g))return M._template=i,M;for(var u=0;u<f.length;u++){var y=f[u];if(y.name===g)return v[g]=1,M._template=y,M}return M[r]=d[r]||!1,M._template=!1,M}function x(){for(var d=[],M=0;M<f.length;M++){var g=f[M],u=g.name;if(w(u)&&!v[u]){var y={_template:g,name:u,_input:{_templateitemname:u}};y[n]=g[n],d.push(y),v[u]=1}}return d}return{newItem:c,defaultItems:x}};function w(m){return m&&typeof m=="string"}function p(m){var t=m.length-1;return m.charAt(t)!=="s"&&h.warn("bad argument to arrayDefaultKey: "+m),m.substr(0,m.length-1)+"defaults"}F.arrayDefaultKey=p,F.arrayEditor=function(m,t,r){var l=(h.nestedProperty(m,t).get()||[]).length,i=r._index,f=i>=l&&(r._input||{})._templateitemname;f&&(i=l);var v=t+"["+i+"]",c;function x(){c={},f&&(c[v]={},c[v][n]=f)}x();function d(y,C){c[y]=C}function M(y,C){f?h.nestedProperty(c[v],y).set(C):c[v+"."+y]=C}function g(){var y=c;return x(),y}function u(y,C){y&&M(y,C);var S=g();for(var D in S)h.nestedProperty(m,D).set(S[D])}return{modifyBase:d,modifyItem:M,getUpdateObj:g,applyUpdate:u}}},61549:function(k,F,e){var h=e(39898),E=e(73972),n=e(74875),L=e(71828),w=e(63893),p=e(33306),m=e(7901),t=e(91424),r=e(92998),l=e(64168),i=e(89298),f=e(18783),v=e(99082),c=v.enforce,x=v.clean,d=e(71739).doAutoRange,M="start",g="middle",u="end";F.layoutStyles=function(W){return L.syncOrAsync([n.doAutoMargin,C],W)};function y(W,H,U){for(var G=0;G<U.length;G++){var j=U[G][0],re=U[G][1];if(!(j[0]>=W[1]||j[1]<=W[0])&&re[0]<H[1]&&re[1]>H[0])return!0}return!1}function C(W){var H=W._fullLayout,U=H._size,G=U.p,j=i.list(W,"",!0),re,ae,ue,de,ee,X;if(H._paperdiv.style({width:W._context.responsive&&H.autosize&&!W._context._hasZeroWidth&&!W.layout.width?"100%":H.width+"px",height:W._context.responsive&&H.autosize&&!W._context._hasZeroHeight&&!W.layout.height?"100%":H.height+"px"}).selectAll(".main-svg").call(t.setSize,H.width,H.height),W._context.setBackground(W,H.paper_bgcolor),F.drawMainTitle(W),l.manage(W),!H._has("cartesian"))return n.previousPromises(W);function Q(Ae,ce,be){var Re=Ae._lw/2;if(Ae._id.charAt(0)==="x"){if(ce){if(be==="top")return ce._offset-G-Re}else return U.t+U.h*(1-(Ae.position||0))+Re%1;return ce._offset+ce._length+G+Re}if(ce){if(be==="right")return ce._offset+ce._length+G+Re}else return U.l+U.w*(Ae.position||0)+Re%1;return ce._offset-G-Re}for(re=0;re<j.length;re++){de=j[re];var $=de._anchorAxis;de._linepositions={},de._lw=t.crispRound(W,de.linewidth,1),de._mainLinePosition=Q(de,$,de.side),de._mainMirrorPosition=de.mirror&&$?Q(de,$,f.OPPOSITE_SIDE[de.side]):null}var ne=[],fe=[],te=[],q=m.opacity(H.paper_bgcolor)===1&&m.opacity(H.plot_bgcolor)===1&&H.paper_bgcolor===H.plot_bgcolor;for(ae in H._plots)if(ue=H._plots[ae],ue.mainplot)ue.bg&&ue.bg.remove(),ue.bg=void 0;else{var he=ue.xaxis.domain,se=ue.yaxis.domain,pe=ue.plotgroup;if(y(he,se,te)){var we=pe.node(),Ee=ue.bg=L.ensureSingle(pe,"rect","bg");we.insertBefore(Ee.node(),we.childNodes[0]),fe.push(ae)}else pe.select("rect.bg").remove(),te.push([he,se]),q||(ne.push(ae),fe.push(ae))}var Me=H._bgLayer.selectAll(".bg").data(ne);for(Me.enter().append("rect").classed("bg",!0),Me.exit().remove(),Me.each(function(Ae){H._plots[Ae].bg=h.select(this)}),re=0;re<fe.length;re++)ue=H._plots[fe[re]],ee=ue.xaxis,X=ue.yaxis,ue.bg&&ee._offset!==void 0&&X._offset!==void 0&&ue.bg.call(t.setRect,ee._offset-G,X._offset-G,ee._length+2*G,X._length+2*G).call(m.fill,H.plot_bgcolor).style("stroke-width",0);if(!H._hasOnlyLargeSploms)for(ae in H._plots){ue=H._plots[ae],ee=ue.xaxis,X=ue.yaxis;var Be=ue.clipId="clip"+H._uid+ae+"plot",Ne=L.ensureSingleById(H._clips,"clipPath",Be,function(Ae){Ae.classed("plotclip",!0).append("rect")});ue.clipRect=Ne.select("rect").attr({width:ee._length,height:X._length}),t.setTranslate(ue.plot,ee._offset,X._offset);var Ce,Te;ue._hasClipOnAxisFalse?(Ce=null,Te=Be):(Ce=Be,Te=null),t.setClipUrl(ue.plot,Ce,W),ue.layerClipId=Te}var Le,Ve,We,Fe,Ge,it,qe,$e,tt,vt,dt,gt,Mt;function Ct(Ae){return"M"+Le+","+Ae+"H"+Ve}function Wt(Ae){return"M"+ee._offset+","+Ae+"h"+ee._length}function Xe(Ae){return"M"+Ae+","+$e+"V"+qe}function ke(Ae){return X._shift!==void 0&&(Ae+=X._shift),"M"+Ae+","+X._offset+"v"+X._length}function Ie(Ae,ce,be){if(!Ae.showline||ae!==Ae._mainSubplot)return"";if(!Ae._anchorAxis)return be(Ae._mainLinePosition);var Re=ce(Ae._mainLinePosition);return Ae.mirror&&(Re+=ce(Ae._mainMirrorPosition)),Re}for(ae in H._plots){ue=H._plots[ae],ee=ue.xaxis,X=ue.yaxis;var Oe="M0,0";S(ee,ae)&&(Ge=T(ee,"left",X,j),Le=ee._offset-(Ge?G+Ge:0),it=T(ee,"right",X,j),Ve=ee._offset+ee._length+(it?G+it:0),We=Q(ee,X,"bottom"),Fe=Q(ee,X,"top"),Mt=!ee._anchorAxis||ae!==ee._mainSubplot,Mt&&(ee.mirror==="allticks"||ee.mirror==="all")&&(ee._linepositions[ae]=[We,Fe]),Oe=Ie(ee,Ct,Wt),Mt&&ee.showline&&(ee.mirror==="all"||ee.mirror==="allticks")&&(Oe+=Ct(We)+Ct(Fe)),ue.xlines.style("stroke-width",ee._lw+"px").call(m.stroke,ee.showline?ee.linecolor:"rgba(0,0,0,0)")),ue.xlines.attr("d",Oe);var _e="M0,0";S(X,ae)&&(dt=T(X,"bottom",ee,j),qe=X._offset+X._length+(dt?G:0),gt=T(X,"top",ee,j),$e=X._offset-(gt?G:0),tt=Q(X,ee,"left"),vt=Q(X,ee,"right"),Mt=!X._anchorAxis||ae!==X._mainSubplot,Mt&&(X.mirror==="allticks"||X.mirror==="all")&&(X._linepositions[ae]=[tt,vt]),_e=Ie(X,Xe,ke),Mt&&X.showline&&(X.mirror==="all"||X.mirror==="allticks")&&(_e+=Xe(tt)+Xe(vt)),ue.ylines.style("stroke-width",X._lw+"px").call(m.stroke,X.showline?X.linecolor:"rgba(0,0,0,0)")),ue.ylines.attr("d",_e)}return i.makeClipPaths(W),n.previousPromises(W)}function S(W,H){return(W.ticks||W.showline)&&(H===W._mainSubplot||W.mirror==="all"||W.mirror==="allticks")}function D(W,H,U){if(!U.showline||!U._lw)return!1;if(U.mirror==="all"||U.mirror==="allticks")return!0;var G=U._anchorAxis;if(!G)return!1;var j=f.FROM_BL[H];return U.side===H?G.domain[j]===W.domain[j]:U.mirror&&G.domain[1-j]===W.domain[1-j]}function T(W,H,U,G){if(D(W,H,U))return U._lw;for(var j=0;j<G.length;j++){var re=G[j];if(re._mainAxis===U._mainAxis&&D(W,H,re))return re._lw}return 0}F.drawMainTitle=function(W){var H=W._fullLayout.title,U=W._fullLayout,G=Y(U),j=B(U),re=N(U,j),ae=b(U,G);if(r.draw(W,"gtitle",{propContainer:U,propName:"title.text",placeholder:U._dfltTitle.plot,attributes:{x:ae,y:re,"text-anchor":G,dy:j}}),H.text&&H.automargin){var ue=h.selectAll(".gtitle"),de=t.bBox(ue.node()).height,ee=a(W,H,de);ee>0&&(R(W,re,ee,de),ue.attr({x:ae,y:re,"text-anchor":G,dy:O(H.yanchor)}).call(w.positionText,ae,re))}};function P(W,H,U,G,j){var re=H.yref==="paper"?W._fullLayout._size.h:W._fullLayout.height,ae=L.isTopAnchor(H)?G:G-j,ue=U==="b"?re-ae:ae;return L.isTopAnchor(H)&&U==="t"||L.isBottomAnchor(H)&&U==="b"?!1:ue<j}function A(W,H,U,G,j){var re=0;return U==="middle"&&(re+=j/2),W==="t"?(U==="top"&&(re+=j),re+=G-H*G):(U==="bottom"&&(re+=j),re+=H*G),re}function a(W,H,U){var G=H.y,j=H.yanchor,re=G>.5?"t":"b",ae=W._fullLayout.margin[re],ue=0;return H.yref==="paper"?ue=U+H.pad.t+H.pad.b:H.yref==="container"&&(ue=A(re,G,j,W._fullLayout.height,U)+H.pad.t+H.pad.b),ue>ae?ue:0}function R(W,H,U,G){var j="title.automargin",re=W._fullLayout.title,ae=re.y>.5?"t":"b",ue={x:re.x,y:re.y,t:0,b:0},de={};re.yref==="paper"&&P(W,re,ae,H,G)?ue[ae]=U:re.yref==="container"&&(de[ae]=U,W._fullLayout._reservedMargin[j]=de),n.allowAutoMargin(W,j),n.autoMargin(W,j,ue)}function b(W,H){var U=W.title,G=W._size,j=0;switch(H===M?j=U.pad.l:H===u&&(j=-U.pad.r),U.xref){case"paper":return G.l+G.w*U.x+j;case"container":default:return W.width*U.x+j}}function N(W,H){var U=W.title,G=W._size,j=0;if(H==="0em"||!H?j=-U.pad.b:H===f.CAP_SHIFT+"em"&&(j=U.pad.t),U.y==="auto")return G.t/2;switch(U.yref){case"paper":return G.t+G.h-G.h*U.y+j;case"container":default:return W.height-W.height*U.y+j}}function O(W){return W==="top"?f.CAP_SHIFT+.3+"em":W==="bottom"?"-0.3em":f.MID_SHIFT+"em"}function Y(W){var H=W.title,U=g;return L.isRightAnchor(H)?U=u:L.isLeftAnchor(H)&&(U=M),U}function B(W){var H=W.title,U="0em";return L.isTopAnchor(H)?U=f.CAP_SHIFT+"em":L.isMiddleAnchor(H)&&(U=f.MID_SHIFT+"em"),U}F.doTraceStyle=function(W){var H=W.calcdata,U=[],G;for(G=0;G<H.length;G++){var j=H[G],re=j[0]||{},ae=re.trace||{},ue=ae._module||{},de=ue.arraysToCalcdata;de&&de(j,ae);var ee=ue.editStyle;ee&&U.push({fn:ee,cd0:re})}if(U.length){for(G=0;G<U.length;G++){var X=U[G];X.fn(W,X.cd0)}p(W),F.redrawReglTraces(W)}return n.style(W),E.getComponentMethod("legend","draw")(W),n.previousPromises(W)},F.doColorBars=function(W){return E.getComponentMethod("colorbar","draw")(W),n.previousPromises(W)},F.layoutReplot=function(W){var H=W.layout;return W.layout=void 0,E.call("_doPlot",W,"",H)},F.doLegend=function(W){return E.getComponentMethod("legend","draw")(W),n.previousPromises(W)},F.doTicksRelayout=function(W){return i.draw(W,"redraw"),W._fullLayout._hasOnlyLargeSploms&&(E.subplotsRegistry.splom.updateGrid(W),p(W),F.redrawReglTraces(W)),F.drawMainTitle(W),n.previousPromises(W)},F.doModeBar=function(W){var H=W._fullLayout;l.manage(W);for(var U=0;U<H._basePlotModules.length;U++){var G=H._basePlotModules[U].updateFx;G&&G(W)}return n.previousPromises(W)},F.doCamera=function(W){for(var H=W._fullLayout,U=H._subplots.gl3d,G=0;G<U.length;G++){var j=H[U[G]],re=j._scene;re.setViewport(j)}},F.drawData=function(W){var H=W._fullLayout;p(W);for(var U=H._basePlotModules,G=0;G<U.length;G++)U[G].plot(W);return F.redrawReglTraces(W),n.style(W),E.getComponentMethod("selections","draw")(W),E.getComponentMethod("shapes","draw")(W),E.getComponentMethod("annotations","draw")(W),E.getComponentMethod("images","draw")(W),H._replotting=!1,n.previousPromises(W)},F.redrawReglTraces=function(W){var H=W._fullLayout;if(H._has("regl")){var U=W._fullData,G=[],j=[],re,ae;for(H._hasOnlyLargeSploms&&H._splomGrid.draw(),re=0;re<U.length;re++){var ue=U[re];ue.visible===!0&&ue._length!==0&&(ue.type==="splom"?H._splomScenes[ue.uid].draw():ue.type==="scattergl"?L.pushUnique(G,ue.xaxis+ue.yaxis):ue.type==="scatterpolargl"&&L.pushUnique(j,ue.subplot))}for(re=0;re<G.length;re++)ae=H._plots[G[re]],ae._scene&&ae._scene.draw();for(re=0;re<j.length;re++)ae=H[j[re]]._subplot,ae._scene&&ae._scene.draw()}},F.doAutoRangeAndConstraints=function(W){for(var H=i.list(W,"",!0),U,G={},j=0;j<H.length;j++)if(U=H[j],!G[U._id]){G[U._id]=1,x(W,U),d(W,U);var re=U._matchGroup;if(re)for(var ae in re){var ue=i.getFromId(W,ae);d(W,ue,U.range),G[ae]=1}}c(W)},F.finalDraw=function(W){E.getComponentMethod("rangeslider","draw")(W),E.getComponentMethod("rangeselector","draw")(W)},F.drawMarginPushers=function(W){E.getComponentMethod("legend","draw")(W),E.getComponentMethod("rangeselector","draw")(W),E.getComponentMethod("sliders","draw")(W),E.getComponentMethod("updatemenus","draw")(W),E.getComponentMethod("colorbar","draw")(W)}},96318:function(k,F,e){var h=e(71828),E=h.isPlainObject,n=e(86281),L=e(74875),w=e(9012),p=e(44467),m=e(72075).dfltConfig;F.makeTemplate=function(d){d=h.isPlainObject(d)?d:h.getGraphDiv(d),d=h.extendDeep({_context:m},{data:d.data,layout:d.layout}),L.supplyDefaults(d);var M=d.data||[],g=d.layout||{};g._basePlotModules=d._fullLayout._basePlotModules,g._modules=d._fullLayout._modules;var u={data:{},layout:{}};M.forEach(function(b){var N={};l(b,N,f.bind(null,b));var O=h.coerce(b,{},w,"type"),Y=u.data[O];Y||(Y=u.data[O]=[]),Y.push(N)}),l(g,u.layout,i.bind(null,g)),delete u.layout.template;var y=g.template;if(E(y)){var C=y.layout,S,D,T,P,A,a;E(C)&&t(C,u.layout);var R=y.data;if(E(R)){for(D in u.data)if(T=R[D],Array.isArray(T)){for(A=u.data[D],a=A.length,P=T.length,S=0;S<a;S++)t(T[S%P],A[S]);for(S=a;S<P;S++)A.push(h.extendDeep({},T[S]))}for(D in R)D in u.data||(u.data[D]=h.extendDeep([],R[D]))}}return u};function t(d,M){d=h.extendDeep({},d);var g=Object.keys(d).sort(),u,y;function C(A,a,R){if(E(a)&&E(A))t(A,a);else if(Array.isArray(a)&&Array.isArray(A)){var b=p.arrayTemplater({_template:d},R);for(y=0;y<a.length;y++){var N=a[y],O=b.newItem(N)._template;O&&t(O,N)}var Y=b.defaultItems();for(y=0;y<Y.length;y++)a.push(Y[y]._template);for(y=0;y<a.length;y++)delete a[y].templateitemname}}for(u=0;u<g.length;u++){var S=g[u],D=d[S];if(S in M?C(D,M[S],S):M[S]=D,r(S)===S)for(var T in M){var P=r(T);T!==P&&P===S&&!(T in d)&&C(D,M[T],S)}}}function r(d){return d.replace(/[0-9]+$/,"")}function l(d,M,g,u,y){var C=y&&g(y);for(var S in d){var D=d[S],T=v(d,S,u),P=v(d,S,y),A=g(P);if(!A){var a=r(S);a!==S&&(P=v(d,a,y),A=g(P))}if(!(C&&C===A)&&!(!A||A._noTemplating||A.valType==="data_array"||A.arrayOk&&Array.isArray(D)))if(!A.valType&&E(D))l(D,M,g,T,P);else if(A._isLinkedToArray&&Array.isArray(D))for(var R=!1,b=0,N={},O=0;O<D.length;O++){var Y=D[O];if(E(Y)){var B=Y.name;if(B)N[B]||(l(Y,M,g,v(D,b,T),v(D,b,P)),b++,N[B]=1);else if(!R){var W=p.arrayDefaultKey(S),H=v(d,W,u),U=v(D,b,T);l(Y,M,g,U,v(D,b,P));var G=h.nestedProperty(M,U),j=h.nestedProperty(M,H);j.set(G.get()),G.set(null),R=!0}}}else{var re=h.nestedProperty(M,T);re.set(D)}}}function i(d,M){return n.getLayoutValObject(d,h.nestedProperty({},M).parts)}function f(d,M){return n.getTraceValObject(d,h.nestedProperty({},M).parts)}function v(d,M,g){var u;return g?Array.isArray(d)?u=g+"["+M+"]":u=g+"."+M:u=M,u}F.validateTemplate=function(d,M){var g=h.extendDeep({},{_context:m,data:d.data,layout:d.layout}),u=g.layout||{};E(M)||(M=u.template||{});var y=M.layout,C=M.data,S=[];g.layout=u,g.layout.template=M,L.supplyDefaults(g);var D=g._fullLayout,T=g._fullData,P={};function A(H,U){for(var G in H)if(G.charAt(0)!=="_"&&E(H[G])){var j=r(G),re=[],ae;for(ae=0;ae<U.length;ae++)re.push(v(H,G,U[ae])),j!==G&&re.push(v(H,j,U[ae]));for(ae=0;ae<re.length;ae++)P[re[ae]]=1;A(H[G],re)}}function a(H,U){for(var G in H)if(G.indexOf("defaults")===-1&&E(H[G])){var j=v(H,G,U);P[j]?a(H[G],j):S.push({code:"unused",path:j})}}if(E(y)?(A(D,["layout"]),a(y,"layout")):S.push({code:"layout"}),!E(C))S.push({code:"data"});else{for(var R={},b,N=0;N<T.length;N++){var O=T[N];b=O.type,R[b]=(R[b]||0)+1,O._fullInput._template||S.push({code:"missing",index:O._fullInput.index,traceType:b})}for(b in C){var Y=C[b].length,B=R[b]||0;Y>B?S.push({code:"unused",traceType:b,templateCount:Y,dataCount:B}):B>Y&&S.push({code:"reused",traceType:b,templateCount:Y,dataCount:B})}}function W(H,U){for(var G in H)if(G.charAt(0)!=="_"){var j=H[G],re=v(H,G,U);E(j)?(Array.isArray(H)&&j._template===!1&&j.templateitemname&&S.push({code:"missing",path:re,templateitemname:j.templateitemname}),W(j,re)):Array.isArray(j)&&c(j)&&W(j,re)}}if(W({data:T,layout:D},""),S.length)return S.map(x)};function c(d){for(var M=0;M<d.length;M++)if(E(d[M]))return!0}function x(d){var M;switch(d.code){case"data":M="The template has no key data.";break;case"layout":M="The template has no key layout.";break;case"missing":d.path?M="There are no templates for item "+d.path+" with name "+d.templateitemname:M="There are no templates for trace "+d.index+", of type "+d.traceType+".";break;case"unused":d.path?M="The template item at "+d.path+" was not used in constructing the plot.":d.dataCount?M="Some of the templates of type "+d.traceType+" were not used. The template has "+d.templateCount+" traces, the data only has "+d.dataCount+" of this type.":M="The template has "+d.templateCount+" traces of type "+d.traceType+" but there are none in the data.";break;case"reused":M="Some of the templates of type "+d.traceType+" were used more than once. The template has "+d.templateCount+" traces, the data has "+d.dataCount+" of this type.";break}return d.msg=M,d}},403:function(k,F,e){var h=e(92770),E=e(72391),n=e(74875),L=e(71828),w=e(25095),p=e(5900),m=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function l(i,f){f=f||{};var v,c,x,d;L.isPlainObject(i)?(v=i.data||[],c=i.layout||{},x=i.config||{},d={}):(i=L.getGraphDiv(i),v=L.extendDeep([],i.data),c=L.extendDeep({},i.layout),x=i._context,d=i._fullLayout||{});function M(B){return!(B in f)||L.validate(f[B],r[B])}if(!M("width")&&f.width!==null||!M("height")&&f.height!==null)throw new Error("Height and width should be pixel values.");if(!M("format"))throw new Error("Export format is not "+L.join2(r.format.values,", "," or ")+".");var g={};function u(B,W){return L.coerce(f,g,r,B,W)}var y=u("format"),C=u("width"),S=u("height"),D=u("scale"),T=u("setBackground"),P=u("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var a=L.extendFlat({},c);C?a.width=C:f.width===null&&h(d.width)&&(a.width=d.width),S?a.height=S:f.height===null&&h(d.height)&&(a.height=d.height);var R=L.extendFlat({},x,{_exportedPlot:!0,staticPlot:!0,setBackground:T}),b=w.getRedrawFunc(A);function N(){return new Promise(function(B){setTimeout(B,w.getDelay(A._fullLayout))})}function O(){return new Promise(function(B,W){var H=p(A,y,D),U=A._fullLayout.width,G=A._fullLayout.height;function j(){E.purge(A),document.body.removeChild(A)}if(y==="full-json"){var re=n.graphJson(A,!1,"keepdata","object",!0,!0);return re.version=t,re=JSON.stringify(re),j(),B(P?re:w.encodeJSON(re))}if(j(),y==="svg")return B(P?H:w.encodeSVG(H));var ae=document.createElement("canvas");ae.id=L.randstr(),m({format:y,width:U,height:G,scale:D,canvas:ae,svg:H,promise:!0}).then(B).catch(W)})}function Y(B){return P?B.replace(w.IMAGE_URL_PREFIX,""):B}return new Promise(function(B,W){E.newPlot(A,v,a,R).then(b).then(N).then(O).then(function(H){B(Y(H))}).catch(function(H){W(H)})})}k.exports=l},84936:function(k,F,e){var h=e(71828),E=e(74875),n=e(86281),L=e(72075).dfltConfig,w=h.isPlainObject,p=Array.isArray,m=h.isArrayOrTypedArray;k.exports=function(u,y){u===void 0&&(u=[]),y===void 0&&(y={});var C=n.get(),S=[],D={_context:h.extendFlat({},L)},T,P;p(u)?(D.data=h.extendDeep([],u),T=u):(D.data=[],T=[],S.push(f("array","data"))),w(y)?(D.layout=h.extendDeep({},y),P=y):(D.layout={},P={},arguments.length>1&&S.push(f("object","layout"))),E.supplyDefaults(D);for(var A=D._fullData,a=T.length,R=0;R<a;R++){var b=T[R],N=["data",R];if(!w(b)){S.push(f("object",N));continue}var O=A[R],Y=O.type,B=C.traces[Y].attributes;B.type={valType:"enumerated",values:[Y]},O.visible===!1&&b.visible!==!1&&S.push(f("invisible",N)),t(b,O,B,S,N);var W=b.transforms,H=O.transforms;if(W){p(W)||S.push(f("array",N,["transforms"])),N.push("transforms");for(var U=0;U<W.length;U++){var G=["transforms",U],j=W[U].type;if(!w(W[U])){S.push(f("object",N,G));continue}var re=C.transforms[j]?C.transforms[j].attributes:{};re.type={valType:"enumerated",values:Object.keys(C.transforms)},t(W[U],H[U],re,S,N,G)}}}var ae=D._fullLayout,ue=r(C,A);return t(P,ae,ue,S,"layout"),S.length===0?void 0:S};function t(g,u,y,C,S,D){D=D||[];for(var T=Object.keys(g),P=0;P<T.length;P++){var A=T[P];if(A!=="transforms"){var a=D.slice();a.push(A);var R=g[A],b=u[A],N=c(y,A),O=(N||{}).valType,Y=O==="info_array",B=O==="colorscale",W=(N||{}).items;if(!v(y,A))C.push(f("schema",S,a));else if(w(R)&&w(b)&&O!=="any")t(R,b,N,C,S,a);else if(Y&&p(R)){R.length>b.length&&C.push(f("unused",S,a.concat(b.length)));var H=b.length,U=Array.isArray(W);U&&(H=Math.min(H,W.length));var G,j,re,ae,ue;if(N.dimensions===2)for(j=0;j<H;j++)if(p(R[j])){R[j].length>b[j].length&&C.push(f("unused",S,a.concat(j,b[j].length)));var de=b[j].length;for(G=0;G<(U?Math.min(de,W[j].length):de);G++)re=U?W[j][G]:W,ae=R[j][G],ue=b[j][G],h.validate(ae,re)?ue!==ae&&ue!==+ae&&C.push(f("dynamic",S,a.concat(j,G),ae,ue)):C.push(f("value",S,a.concat(j,G),ae))}else C.push(f("array",S,a.concat(j),R[j]));else for(j=0;j<H;j++)re=U?W[j]:W,ae=R[j],ue=b[j],h.validate(ae,re)?ue!==ae&&ue!==+ae&&C.push(f("dynamic",S,a.concat(j),ae,ue)):C.push(f("value",S,a.concat(j),ae))}else if(N.items&&!Y&&p(R)){var ee=W[Object.keys(W)[0]],X=[],Q,$;for(Q=0;Q<b.length;Q++){var ne=b[Q]._index||Q;if($=a.slice(),$.push(ne),w(R[ne])&&w(b[Q])){X.push(ne);var fe=R[ne],te=b[Q];w(fe)&&fe.visible!==!1&&te.visible===!1?C.push(f("invisible",S,$)):t(fe,te,ee,C,S,$)}}for(Q=0;Q<R.length;Q++)$=a.slice(),$.push(Q),w(R[Q])?X.indexOf(Q)===-1&&C.push(f("unused",S,$)):C.push(f("object",S,$,R[Q]))}else!w(R)&&w(b)?C.push(f("object",S,a,R)):!m(R)&&m(b)&&!Y&&!B?C.push(f("array",S,a,R)):A in u?h.validate(R,N)?N.valType==="enumerated"&&(N.coerceNumber&&R!==+b||R!==b)&&C.push(f("dynamic",S,a,R,b)):C.push(f("value",S,a,R)):C.push(f("unused",S,a,R))}}return C}function r(g,u){for(var y=g.layout.layoutAttributes,C=0;C<u.length;C++){var S=u[C],D=g.traces[S.type],T=D.layoutAttributes;T&&(S.subplot?h.extendFlat(y[D.attributes.subplot.dflt],T):h.extendFlat(y,T))}return y}var l={object:function(g,u){var y;return g==="layout"&&u===""?y="The layout argument":g[0]==="data"&&u===""?y="Trace "+g[1]+" in the data argument":y=i(g)+"key "+u,y+" must be linked to an object container"},array:function(g,u){var y;return g==="data"?y="The data argument":y=i(g)+"key "+u,y+" must be linked to an array container"},schema:function(g,u){return i(g)+"key "+u+" is not part of the schema"},unused:function(g,u,y){var C=w(y)?"container":"key";return i(g)+C+" "+u+" did not get coerced"},dynamic:function(g,u,y,C){return[i(g)+"key",u,"(set to '"+y+"')","got reset to","'"+C+"'","during defaults."].join(" ")},invisible:function(g,u){return(u?i(g)+"item "+u:"Trace "+g[1])+" got defaulted to be not visible"},value:function(g,u,y){return[i(g)+"key "+u,"is set to an invalid value ("+y+")"].join(" ")}};function i(g){return p(g)?"In data trace "+g[1]+", ":"In "+g+", "}function f(g,u,y,C,S){y=y||"";var D,T;p(u)?(D=u[0],T=u[1]):(D=u,T=null);var P=M(y),A=l[g](u,P,C,S);return h.log(A),{code:g,container:D,trace:T,path:y,astr:P,msg:A}}function v(g,u){var y=d(u),C=y.keyMinusId,S=y.id;return C in g&&g[C]._isSubplotObj&&S?!0:u in g}function c(g,u){if(u in g)return g[u];var y=d(u);return g[y.keyMinusId]}var x=h.counterRegex("([a-z]+)");function d(g){var u=g.match(x);return{keyMinusId:u&&u[1],id:u&&u[2]}}function M(g){if(!p(g))return String(g);for(var u="",y=0;y<g.length;y++){var C=g[y];typeof C=="number"?u=u.substr(0,u.length-1)+"["+C+"]":u+=C,y<g.length-1&&(u+=".")}return u}},85594:function(k){k.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(k,F,e){var h=e(71828),E=e(44467);k.exports=function(L,w,p){var m=p.name,t=p.inclusionAttr||"visible",r=w[m],l=h.isArrayOrTypedArray(L[m])?L[m]:[],i=w[m]=[],f=E.arrayTemplater(w,m,t),v,c;for(v=0;v<l.length;v++){var x=l[v];h.isPlainObject(x)?c=f.newItem(x):(c=f.newItem({}),c[t]=!1),c._index=v,c[t]!==!1&&p.handleItemDefaults(x,c,w,p),i.push(c)}var d=f.defaultItems();for(v=0;v<d.length;v++)c=d[v],c._index=i.length,p.handleItemDefaults({},c,w,p,{}),i.push(c);if(h.isArrayOrTypedArray(r)){var M=Math.min(r.length,i.length);for(v=0;v<M;v++)h.relinkPrivateKeys(i[v],r[v])}return i}},9012:function(k,F,e){var h=e(41940),E=e(77914);k.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:h({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:E.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(k,F,e){var h=e(92770),E=e(71828),n=E.dateTime2ms,L=E.incrementMonth,w=e(50606),p=w.ONEAVGMONTH;k.exports=function(t,r,l,i){if(r.type!=="date")return{vals:i};var f=t[l+"periodalignment"];if(!f)return{vals:i};var v=t[l+"period"],c;if(h(v)){if(v=+v,v<=0)return{vals:i}}else if(typeof v=="string"&&v.charAt(0)==="M"){var x=+v.substring(1);if(x>0&&Math.round(x)===x)c=x;else return{vals:i}}for(var d=r.calendar,M=f==="start",g=f==="end",u=t[l+"period0"],y=n(u,d)||0,C=[],S=[],D=[],T=i.length,P=0;P<T;P++){var A=i[P],a,R,b;if(c){for(a=Math.round((A-y)/(c*p)),b=L(y,c*a,d);b>A;)b=L(b,-c,d);for(;b<=A;)b=L(b,c,d);R=L(b,-c,d)}else{for(a=Math.round((A-y)/v),b=y+a*v;b>A;)b-=v;for(;b<=A;)b+=v;R=b-v}C[P]=M?R:g?b:(R+b)/2,S[P]=R,D[P]=b}return{vals:C,starts:S,ends:D}}},89502:function(k){k.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(k,F,e){var h=e(39898),E=e(92770),n=e(71828),L=e(50606).FP_SAFE,w=e(73972),p=e(91424),m=e(41675),t=m.getFromId,r=m.isLinked;k.exports={applyAutorangeOptions:a,getAutoRange:l,makePadFn:f,doAutoRange:d,findExtremes:M,concatExtremes:x};function l(R,b){var N,O,Y=[],B=R._fullLayout,W=f(B,b,0),H=f(B,b,1),U=x(R,b),G=U.min,j=U.max;if(G.length===0||j.length===0)return n.simpleMap(b.range,b.r2l);var re=G[0].val,ae=j[0].val;for(N=1;N<G.length&&re===ae;N++)re=Math.min(re,G[N].val);for(N=1;N<j.length&&re===ae;N++)ae=Math.max(ae,j[N].val);var ue=b.autorange,de=ue==="reversed"||ue==="min reversed"||ue==="max reversed";if(!de&&b.range){var ee=n.simpleMap(b.range,b.r2l);de=ee[1]<ee[0]}b.autorange==="reversed"&&(b.autorange=!0);var X=b.rangemode,Q=X==="tozero",$=X==="nonnegative",ne=b._length,fe=ne/10,te=0,q,he,se,pe,we,Ee;for(N=0;N<G.length;N++)for(q=G[N],O=0;O<j.length;O++)he=j[O],Ee=he.val-q.val-i(b,q.val,he.val),Ee>0&&(we=ne-W(q)-H(he),we>fe?Ee/we>te&&(se=q,pe=he,te=Ee/we):Ee/ne>te&&(se={val:q.val,nopad:1},pe={val:he.val,nopad:1},te=Ee/ne));function Me(Le,Ve){return Math.max(Le,H(Ve))}if(re===ae){var Be=re-1,Ne=re+1;if(Q)if(re===0)Y=[0,1];else{var Ce=(re>0?j:G).reduce(Me,0),Te=re/(1-Math.min(.5,Ce/ne));Y=re>0?[0,Te]:[Te,0]}else $?Y=[Math.max(0,Be),Math.max(1,Ne)]:Y=[Be,Ne]}else Q?(se.val>=0&&(se={val:0,nopad:1}),pe.val<=0&&(pe={val:0,nopad:1})):$&&(se.val-te*W(se)<0&&(se={val:0,nopad:1}),pe.val<=0&&(pe={val:1,nopad:1})),te=(pe.val-se.val-i(b,q.val,he.val))/(ne-W(se)-H(pe)),Y=[se.val-te*W(se),pe.val+te*H(pe)];return Y=a(Y,b),b.limitRange&&b.limitRange(),de&&Y.reverse(),n.simpleMap(Y,b.l2r||Number)}function i(R,b,N){var O=0;if(R.rangebreaks)for(var Y=R.locateBreaks(b,N),B=0;B<Y.length;B++){var W=Y[B];O+=W.max-W.min}return O}function f(R,b,N){var O=.05*b._length,Y=b._anchorAxis||{};if((b.ticklabelposition||"").indexOf("inside")!==-1||(Y.ticklabelposition||"").indexOf("inside")!==-1){var B=b.isReversed();if(!B){var W=n.simpleMap(b.range,b.r2l);B=W[1]<W[0]}B&&(N=!N)}var H=0;return r(R,b._id)||(H=c(R,b,N)),O=Math.max(H,O),b.constrain==="domain"&&b._inputDomain&&(O*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(G){return G.nopad?0:G.pad+(G.extrapad?O:H)}}var v=3;function c(R,b,N){var O=0,Y=b._id.charAt(0)==="x";for(var B in R._plots){var W=R._plots[B];if(!(b._id!==W.xaxis._id&&b._id!==W.yaxis._id)){var H=(Y?W.yaxis:W.xaxis)||{};if((H.ticklabelposition||"").indexOf("inside")!==-1&&(!N&&(H.side==="left"||H.side==="bottom")||N&&(H.side==="top"||H.side==="right"))){if(H._vals){var U=n.deg2rad(H._tickAngles[H._id+"tick"]||0),G=Math.abs(Math.cos(U)),j=Math.abs(Math.sin(U));if(!H._vals[0].bb){var re=H._id+"tick",ae=H._selections[re];ae.each(function($){var ne=h.select(this),fe=ne.select(".text-math-group");fe.empty()&&($.bb=p.bBox(ne.node()))})}for(var ue=0;ue<H._vals.length;ue++){var de=H._vals[ue],ee=de.bb;if(ee){var X=2*v+ee.width,Q=2*v+ee.height;O=Math.max(O,Y?Math.max(X*G,Q*j):Math.max(Q*G,X*j))}}}H.ticks==="inside"&&H.ticklabelposition==="inside"&&(O+=H.ticklen||0)}}}return O}function x(R,b,N){var O=b._id,Y=R._fullData,B=R._fullLayout,W=[],H=[],U,G,j;function re(X,Q){for(U=0;U<Q.length;U++){var $=X[Q[U]],ne=($._extremes||{})[O];if($.visible===!0&&ne){for(G=0;G<ne.min.length;G++)j=ne.min[G],g(W,j.val,j.pad,{extrapad:j.extrapad});for(G=0;G<ne.max.length;G++)j=ne.max[G],u(H,j.val,j.pad,{extrapad:j.extrapad})}}}if(re(Y,b._traceIndices),re(B.annotations||[],b._annIndices||[]),re(B.shapes||[],b._shapeIndices||[]),b._matchGroup&&!N){for(var ae in b._matchGroup)if(ae!==b._id){var ue=t(R,ae),de=x(R,ue,!0),ee=b._length/ue._length;for(G=0;G<de.min.length;G++)j=de.min[G],g(W,j.val,j.pad*ee,{extrapad:j.extrapad});for(G=0;G<de.max.length;G++)j=de.max[G],u(H,j.val,j.pad*ee,{extrapad:j.extrapad})}}return{min:W,max:H}}function d(R,b,N){if(b.setScale(),b.autorange){b.range=N?N.slice():l(R,b),b._r=b.range.slice(),b._rl=n.simpleMap(b._r,b.r2l);var O=b._input,Y={};Y[b._attr+".range"]=b.range,Y[b._attr+".autorange"]=b.autorange,w.call("_storeDirectGUIEdit",R.layout,R._fullLayout._preGUI,Y),O.range=b.range.slice(),O.autorange=b.autorange}var B=b._anchorAxis;if(B&&B.rangeslider){var W=B.rangeslider[b._name];W&&W.rangemode==="auto"&&(W.range=l(R,b)),B._input.rangeslider[b._name]=n.extendFlat({},W)}}function M(R,b,N){N||(N={}),R._m||R.setScale();var O=[],Y=[],B=b.length,W=N.padded||!1,H=N.tozero&&(R.type==="linear"||R.type==="-"),U=R.type==="log",G=!1,j=N.vpadLinearized||!1,re,ae,ue,de,ee,X,Q,$,ne;function fe(Me){if(Array.isArray(Me))return G=!0,function(Ne){return Math.max(Number(Me[Ne]||0),0)};var Be=Math.max(Number(Me||0),0);return function(){return Be}}var te=fe((R._m>0?N.ppadplus:N.ppadminus)||N.ppad||0),q=fe((R._m>0?N.ppadminus:N.ppadplus)||N.ppad||0),he=fe(N.vpadplus||N.vpad),se=fe(N.vpadminus||N.vpad);if(!G){if($=1/0,ne=-1/0,U)for(re=0;re<B;re++)ae=b[re],ae<$&&ae>0&&($=ae),ae>ne&&ae<L&&(ne=ae);else for(re=0;re<B;re++)ae=b[re],ae<$&&ae>-L&&($=ae),ae>ne&&ae<L&&(ne=ae);b=[$,ne],B=2}var pe={tozero:H,extrapad:W};function we(Me){ue=b[Me],E(ue)&&(X=te(Me),Q=q(Me),j?(de=R.c2l(ue)-se(Me),ee=R.c2l(ue)+he(Me)):($=ue-se(Me),ne=ue+he(Me),U&&$<ne/10&&($=ne/10),de=R.c2l($),ee=R.c2l(ne)),H&&(de=Math.min(0,de),ee=Math.max(0,ee)),C(de)&&g(O,de,Q,pe),C(ee)&&u(Y,ee,X,pe))}var Ee=Math.min(6,B);for(re=0;re<Ee;re++)we(re);for(re=B-1;re>=Ee;re--)we(re);return{min:O,max:Y,opts:N}}function g(R,b,N,O){y(R,b,N,O,S)}function u(R,b,N,O){y(R,b,N,O,D)}function y(R,b,N,O,Y){for(var B=O.tozero,W=O.extrapad,H=!0,U=0;U<R.length&&H;U++){var G=R[U];if(Y(G.val,b)&&G.pad>=N&&(G.extrapad||!W)){H=!1;break}else Y(b,G.val)&&G.pad<=N&&(W||!G.extrapad)&&(R.splice(U,1),U--)}if(H){var j=B&&b===0;R.push({val:b,pad:j?0:N,extrapad:j?!1:W})}}function C(R){return E(R)&&Math.abs(R)<L}function S(R,b){return R<=b}function D(R,b){return R>=b}function T(R,b){var N=b.autorangeoptions;return N&&N.minallowed!==void 0&&A(b,N.minallowed,N.maxallowed)?N.minallowed:N&&N.clipmin!==void 0&&A(b,N.clipmin,N.clipmax)?Math.max(R,b.d2l(N.clipmin)):R}function P(R,b){var N=b.autorangeoptions;return N&&N.maxallowed!==void 0&&A(b,N.minallowed,N.maxallowed)?N.maxallowed:N&&N.clipmax!==void 0&&A(b,N.clipmin,N.clipmax)?Math.min(R,b.d2l(N.clipmax)):R}function A(R,b,N){return b!==void 0&&N!==void 0?(b=R.d2l(b),N=R.d2l(N),b<N):!0}function a(R,b){if(!b||!b.autorangeoptions)return R;var N=R[0],O=R[1],Y=b.autorangeoptions.include;if(Y!==void 0){var B=b.d2l(N),W=b.d2l(O);n.isArrayOrTypedArray(Y)||(Y=[Y]);for(var H=0;H<Y.length;H++){var U=b.d2l(Y[H]);B>=U&&(B=U,N=U),W<=U&&(W=U,O=U)}}return N=T(N,b),O=P(O,b),[N,O]}},23074:function(k){k.exports=function(e,h,E){var n,L;if(E){var w=h==="reversed"||h==="min reversed"||h==="max reversed";n=E[w?1:0],L=E[w?0:1]}var p=e("autorangeoptions.minallowed",L===null?n:void 0),m=e("autorangeoptions.maxallowed",n===null?L:void 0);p===void 0&&e("autorangeoptions.clipmin"),m===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(k,F,e){var h=e(39898),E=e(92770),n=e(74875),L=e(73972),w=e(71828),p=w.strTranslate,m=e(63893),t=e(92998),r=e(7901),l=e(91424),i=e(13838),f=e(66287),v=e(50606),c=v.ONEMAXYEAR,x=v.ONEAVGYEAR,d=v.ONEMINYEAR,M=v.ONEMAXQUARTER,g=v.ONEAVGQUARTER,u=v.ONEMINQUARTER,y=v.ONEMAXMONTH,C=v.ONEAVGMONTH,S=v.ONEMINMONTH,D=v.ONEWEEK,T=v.ONEDAY,P=T/2,A=v.ONEHOUR,a=v.ONEMIN,R=v.ONESEC,b=v.MINUS_SIGN,N=v.BADNUM,O={K:"zeroline"},Y={K:"gridline",L:"path"},B={K:"minor-gridline",L:"path"},W={K:"tick",L:"path"},H={K:"tick",L:"text"},U={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},G=e(18783),j=G.MID_SHIFT,re=G.CAP_SHIFT,ae=G.LINE_SPACING,ue=G.OPPOSITE_SIDE,de=3,ee=k.exports={};ee.setConvert=e(21994);var X=e(4322),Q=e(41675),$=Q.idSort,ne=Q.isLinked;ee.id2name=Q.id2name,ee.name2id=Q.name2id,ee.cleanId=Q.cleanId,ee.list=Q.list,ee.listIds=Q.listIds,ee.getFromId=Q.getFromId,ee.getFromTrace=Q.getFromTrace;var fe=e(71739);ee.getAutoRange=fe.getAutoRange,ee.findExtremes=fe.findExtremes;var te=1e-4;function q(Ze){var Ye=(Ze[1]-Ze[0])*te;return[Ze[0]-Ye,Ze[1]+Ye]}ee.coerceRef=function(Ze,Ye,Dt,It,Zt,nr){var lr=It.charAt(It.length-1),rr=Dt._fullLayout._subplots[lr+"axis"],zt=It+"ref",fr={};return Zt||(Zt=rr[0]||(typeof nr=="string"?nr:nr[0])),nr||(nr=Zt),rr=rr.concat(rr.map(function(dr){return dr+" domain"})),fr[zt]={valType:"enumerated",values:rr.concat(nr?typeof nr=="string"?[nr]:nr:[]),dflt:Zt},w.coerce(Ze,Ye,fr,zt)},ee.getRefType=function(Ze){return Ze===void 0?Ze:Ze==="paper"?"paper":Ze==="pixel"?"pixel":/( domain)$/.test(Ze)?"domain":"range"},ee.coercePosition=function(Ze,Ye,Dt,It,Zt,nr){var lr,rr,zt=ee.getRefType(It);if(zt!=="range")lr=w.ensureNumber,rr=Dt(Zt,nr);else{var fr=ee.getFromId(Ye,It);nr=fr.fraction2r(nr),rr=Dt(Zt,nr),lr=fr.cleanPos}Ze[Zt]=lr(rr)},ee.cleanPosition=function(Ze,Ye,Dt){var It=Dt==="paper"||Dt==="pixel"?w.ensureNumber:ee.getFromId(Ye,Dt).cleanPos;return It(Ze)},ee.redrawComponents=function(Ze,Ye){Ye=Ye||ee.listIds(Ze);var Dt=Ze._fullLayout;function It(Zt,nr,lr,rr){for(var zt=L.getComponentMethod(Zt,nr),fr={},dr=0;dr<Ye.length;dr++)for(var pr=Dt[ee.id2name(Ye[dr])],vr=pr[lr],Vr=0;Vr<vr.length;Vr++){var _r=vr[Vr];if(!fr[_r]&&(zt(Ze,_r),fr[_r]=1,rr))return}}It("annotations","drawOne","_annIndices"),It("shapes","drawOne","_shapeIndices"),It("images","draw","_imgIndices",!0),It("selections","drawOne","_selectionIndices")};var he=ee.getDataConversions=function(Ze,Ye,Dt,It){var Zt,nr=Dt==="x"||Dt==="y"||Dt==="z"?Dt:It;if(Array.isArray(nr)){if(Zt={type:X(It,void 0,{autotypenumbers:Ze._fullLayout.autotypenumbers}),_categories:[]},ee.setConvert(Zt),Zt.type==="category")for(var lr=0;lr<It.length;lr++)Zt.d2c(It[lr])}else Zt=ee.getFromTrace(Ze,Ye,nr);return Zt?{d2c:Zt.d2c,c2d:Zt.c2d}:nr==="ids"?{d2c:pe,c2d:pe}:{d2c:se,c2d:se}};function se(Ze){return+Ze}function pe(Ze){return String(Ze)}ee.getDataToCoordFunc=function(Ze,Ye,Dt,It){return he(Ze,Ye,Dt,It).d2c},ee.counterLetter=function(Ze){var Ye=Ze.charAt(0);if(Ye==="x")return"y";if(Ye==="y")return"x"},ee.minDtick=function(Ze,Ye,Dt,It){["log","category","multicategory"].indexOf(Ze.type)!==-1||!It?Ze._minDtick=0:Ze._minDtick===void 0?(Ze._minDtick=Ye,Ze._forceTick0=Dt):Ze._minDtick&&((Ze._minDtick/Ye+1e-6)%1<2e-6&&((Dt-Ze._forceTick0)/Ye%1+1.000001)%1<2e-6?(Ze._minDtick=Ye,Ze._forceTick0=Dt):((Ye/Ze._minDtick+1e-6)%1>2e-6||((Dt-Ze._forceTick0)/Ze._minDtick%1+1.000001)%1>2e-6)&&(Ze._minDtick=0))},ee.saveRangeInitial=function(Ze,Ye){for(var Dt=ee.list(Ze,"",!0),It=!1,Zt=0;Zt<Dt.length;Zt++){var nr=Dt[Zt],lr=nr._rangeInitial0===void 0&&nr._rangeInitial1===void 0,rr=lr||nr.range[0]!==nr._rangeInitial0||nr.range[1]!==nr._rangeInitial1,zt=nr.autorange;(lr&&zt!==!0||Ye&&rr)&&(nr._rangeInitial0=zt==="min"||zt==="max reversed"?void 0:nr.range[0],nr._rangeInitial1=zt==="max"||zt==="min reversed"?void 0:nr.range[1],nr._autorangeInitial=zt,It=!0)}return It},ee.saveShowSpikeInitial=function(Ze,Ye){for(var Dt=ee.list(Ze,"",!0),It=!1,Zt="on",nr=0;nr<Dt.length;nr++){var lr=Dt[nr],rr=lr._showSpikeInitial===void 0,zt=rr||lr.showspikes!==lr._showspikes;(rr||Ye&&zt)&&(lr._showSpikeInitial=lr.showspikes,It=!0),Zt==="on"&&!lr.showspikes&&(Zt="off")}return Ze._fullLayout._cartesianSpikesEnabled=Zt,It},ee.autoBin=function(Ze,Ye,Dt,It,Zt,nr){var lr=w.aggNums(Math.min,null,Ze),rr=w.aggNums(Math.max,null,Ze);if(Ye.type==="category"||Ye.type==="multicategory")return{start:lr-.5,end:rr+.5,size:Math.max(1,Math.round(nr)||1),_dataSpan:rr-lr};Zt||(Zt=Ye.calendar);var zt;if(Ye.type==="log"?zt={type:"linear",range:[lr,rr]}:zt={type:Ye.type,range:w.simpleMap([lr,rr],Ye.c2r,0,Zt),calendar:Zt},ee.setConvert(zt),nr=nr&&f.dtick(nr,zt.type),nr)zt.dtick=nr,zt.tick0=f.tick0(void 0,zt.type,Zt);else{var fr;if(Dt)fr=(rr-lr)/Dt;else{var dr=w.distinctVals(Ze),pr=Math.pow(10,Math.floor(Math.log(dr.minDiff)/Math.LN10)),vr=pr*w.roundUp(dr.minDiff/pr,[.9,1.9,4.9,9.9],!0);fr=Math.max(vr,2*w.stdev(Ze)/Math.pow(Ze.length,It?.25:.4)),E(fr)||(fr=1)}ee.autoTicks(zt,fr)}var Vr=zt.dtick,_r=ee.tickIncrement(ee.tickFirst(zt),Vr,"reverse",Zt),kr,pn;if(typeof Vr=="number")_r=we(_r,Ze,zt,lr,rr),pn=1+Math.floor((rr-_r)/Vr),kr=_r+pn*Vr;else for(zt.dtick.charAt(0)==="M"&&(_r=Ee(_r,Ze,Vr,lr,Zt)),kr=_r,pn=0;kr<=rr;)kr=ee.tickIncrement(kr,Vr,!1,Zt),pn++;return{start:Ye.c2r(_r,0,Zt),end:Ye.c2r(kr,0,Zt),size:Vr,_dataSpan:rr-lr}};function we(Ze,Ye,Dt,It,Zt){var nr=0,lr=0,rr=0,zt=0;function fr(Vr){return(1+(Vr-Ze)*100/Dt.dtick)%100<2}for(var dr=0;dr<Ye.length;dr++)Ye[dr]%1===0?rr++:E(Ye[dr])||zt++,fr(Ye[dr])&&nr++,fr(Ye[dr]+Dt.dtick/2)&&lr++;var pr=Ye.length-zt;if(rr===pr&&Dt.type!=="date")Dt.dtick<1?Ze=It-.5*Dt.dtick:(Ze-=.5,Ze+Dt.dtick<It&&(Ze+=Dt.dtick));else if(lr<pr*.1&&(nr>pr*.3||fr(It)||fr(Zt))){var vr=Dt.dtick/2;Ze+=Ze+vr<It?vr:-vr}return Ze}function Ee(Ze,Ye,Dt,It,Zt){var nr=w.findExactDates(Ye,Zt),lr=.8;if(nr.exactDays>lr){var rr=Number(Dt.substr(1));nr.exactYears>lr&&rr%12===0?Ze=ee.tickIncrement(Ze,"M6","reverse")+T*1.5:nr.exactMonths>lr?Ze=ee.tickIncrement(Ze,"M1","reverse")+T*15.5:Ze-=P;var zt=ee.tickIncrement(Ze,Dt);if(zt<=It)return zt}return Ze}ee.prepMinorTicks=function(Ze,Ye,Dt){if(!Ye.minor.dtick){delete Ze.dtick;var It=Ye.dtick&&E(Ye._tmin),Zt;if(It){var nr=ee.tickIncrement(Ye._tmin,Ye.dtick,!0);Zt=[Ye._tmin,nr*.99+Ye._tmin*.01]}else{var lr=w.simpleMap(Ye.range,Ye.r2l);Zt=[lr[0],.8*lr[0]+.2*lr[1]]}if(Ze.range=w.simpleMap(Zt,Ye.l2r),Ze._isMinor=!0,ee.prepTicks(Ze,Dt),It){var rr=E(Ye.dtick),zt=E(Ze.dtick),fr=rr?Ye.dtick:+Ye.dtick.substring(1),dr=zt?Ze.dtick:+Ze.dtick.substring(1);rr&&zt?Me(fr,dr)?fr===2*D&&dr===2*T&&(Ze.dtick=D):fr===2*D&&dr===3*T?Ze.dtick=D:fr===D&&!(Ye._input.minor||{}).nticks?Ze.dtick=T:Be(fr/dr,2.5)?Ze.dtick=fr/2:Ze.dtick=fr:String(Ye.dtick).charAt(0)==="M"?zt?Ze.dtick="M1":Me(fr,dr)?fr>=12&&dr===2&&(Ze.dtick="M3"):Ze.dtick=Ye.dtick:String(Ze.dtick).charAt(0)==="L"?String(Ye.dtick).charAt(0)==="L"?Me(fr,dr)||(Ze.dtick=Be(fr/dr,2.5)?Ye.dtick/2:Ye.dtick):Ze.dtick="D1":Ze.dtick==="D2"&&+Ye.dtick>1&&(Ze.dtick=1)}Ze.range=Ye.range}Ye.minor._tick0Init===void 0&&(Ze.tick0=Ye.tick0)};function Me(Ze,Ye){return Math.abs((Ze/Ye+.5)%1-.5)<.001}function Be(Ze,Ye){return Math.abs(Ze/Ye-1)<.001}ee.prepTicks=function(Ze,Ye){var Dt=w.simpleMap(Ze.range,Ze.r2l,void 0,void 0,Ye);if(Ze.tickmode==="auto"||!Ze.dtick){var It=Ze.nticks,Zt;It||(Ze.type==="category"||Ze.type==="multicategory"?(Zt=Ze.tickfont?w.bigFont(Ze.tickfont.size||12):15,It=Ze._length/Zt):(Zt=Ze._id.charAt(0)==="y"?40:80,It=w.constrain(Ze._length/Zt,4,9)+1),Ze._name==="radialaxis"&&(It*=2)),Ze.minor&&Ze.minor.tickmode!=="array"||Ze.tickmode==="array"&&(It*=100),Ze._roughDTick=Math.abs(Dt[1]-Dt[0])/It,ee.autoTicks(Ze,Ze._roughDTick),Ze._minDtick>0&&Ze.dtick<Ze._minDtick*2&&(Ze.dtick=Ze._minDtick,Ze.tick0=Ze.l2r(Ze._forceTick0))}Ze.ticklabelmode==="period"&&Ce(Ze),Ze.tick0||(Ze.tick0=Ze.type==="date"?"2000-01-01":0),Ze.type==="date"&&Ze.dtick<.1&&(Ze.dtick=.1),gt(Ze)};function Ne(Ze){return+Ze.substring(1)}function Ce(Ze){var Ye;function Dt(){return!(E(Ze.dtick)||Ze.dtick.charAt(0)!=="M")}var It=Dt(),Zt=ee.getTickFormat(Ze);if(Zt){var nr=Ze._dtickInit!==Ze.dtick;/%[fLQsSMX]/.test(Zt)||(/%[HI]/.test(Zt)?(Ye=A,nr&&!It&&Ze.dtick<A&&(Ze.dtick=A)):/%p/.test(Zt)?(Ye=P,nr&&!It&&Ze.dtick<P&&(Ze.dtick=P)):/%[Aadejuwx]/.test(Zt)?(Ye=T,nr&&!It&&Ze.dtick<T&&(Ze.dtick=T)):/%[UVW]/.test(Zt)?(Ye=D,nr&&!It&&Ze.dtick<D&&(Ze.dtick=D)):/%[Bbm]/.test(Zt)?(Ye=C,nr&&(It?Ne(Ze.dtick)<1:Ze.dtick<S)&&(Ze.dtick="M1")):/%[q]/.test(Zt)?(Ye=g,nr&&(It?Ne(Ze.dtick)<3:Ze.dtick<u)&&(Ze.dtick="M3")):/%[Yy]/.test(Zt)&&(Ye=x,nr&&(It?Ne(Ze.dtick)<12:Ze.dtick<d)&&(Ze.dtick="M12")))}It=Dt(),It&&Ze.tick0===Ze._dowTick0&&(Ze.tick0=Ze._rawTick0),Ze._definedDelta=Ye}function Te(Ze,Ye,Dt){for(var It=0;It<Ze.length;It++){var Zt=Ze[It].value,nr=It,lr=It+1;It<Ze.length-1?(nr=It,lr=It+1):It>0?(nr=It-1,lr=It):(nr=It,lr=It);var rr=Ze[nr].value,zt=Ze[lr].value,fr=Math.abs(zt-rr),dr=Dt||fr,pr=0;dr>=d?fr>=d&&fr<=c?pr=fr:pr=x:Dt===g&&dr>=u?fr>=u&&fr<=M?pr=fr:pr=g:dr>=S?fr>=S&&fr<=y?pr=fr:pr=C:Dt===D&&dr>=D?pr=D:dr>=T?pr=T:Dt===P&&dr>=P?pr=P:Dt===A&&dr>=A&&(pr=A);var vr;pr>=fr&&(pr=fr,vr=!0);var Vr=Zt+pr;if(Ye.rangebreaks&&pr>0){for(var _r=84,kr=0,pn=0;pn<_r;pn++){var Xr=(pn+.5)/_r;Ye.maskBreaks(Zt*(1-Xr)+Xr*Vr)!==N&&kr++}pr*=kr/_r,pr||(Ze[It].drop=!0),vr&&fr>D&&(pr=fr)}(pr>0||It===0)&&(Ze[It].periodX=Zt+pr/2)}}ee.calcTicks=function(Ye,Dt){for(var It=Ye.type,Zt=Ye.calendar,nr=Ye.ticklabelstep,lr=Ye.ticklabelmode==="period",rr=w.simpleMap(Ye.range,Ye.r2l,void 0,void 0,Dt),zt=rr[1]<rr[0],fr=Math.min(rr[0],rr[1]),dr=Math.max(rr[0],rr[1]),pr=Math.max(1e3,Ye._length||0),vr=[],Vr=[],_r=[],kr=[],pn=Ye.minor&&(Ye.minor.ticks||Ye.minor.showgrid),Xr=1;Xr>=(pn?0:1);Xr--){var _n=!Xr;Xr?(Ye._dtickInit=Ye.dtick,Ye._tick0Init=Ye.tick0):(Ye.minor._dtickInit=Ye.minor.dtick,Ye.minor._tick0Init=Ye.minor.tick0);var Dn=Xr?Ye:w.extendFlat({},Ye,Ye.minor);if(_n?ee.prepMinorTicks(Dn,Ye,Dt):ee.prepTicks(Dn,Dt),Dn.tickmode==="array"){Xr?(_r=[],vr=We(Ye)):(kr=[],Vr=We(Ye));continue}if(Dn.tickmode==="sync"){_r=[],vr=Ve(Ye);continue}var xr=q(rr),Ar=xr[0],Or=xr[1],Br=E(Dn.dtick),qr=It==="log"&&!(Br||Dn.dtick.charAt(0)==="L"),vn=ee.tickFirst(Dn,Dt);if(Xr){if(Ye._tmin=vn,vn<Ar!==zt)break;(It==="category"||It==="multicategory")&&(Or=zt?Math.max(-.5,Or):Math.min(Ye._categories.length-.5,Or))}var fn=null,Tn=vn,Pn;if(Xr){var jn;Br?jn=Ye.dtick:It==="date"?typeof Ye.dtick=="string"&&Ye.dtick.charAt(0)==="M"&&(jn=C*Ye.dtick.substring(1)):jn=Ye._roughDTick,Pn=Math.round((Ye.r2l(Tn)-Ye.r2l(Ye.tick0))/jn)-1}var qn=Dn.dtick;for(Dn.rangebreaks&&Dn._tick0Init!==Dn.tick0&&(Tn=Ht(Tn,Ye),zt||(Tn=ee.tickIncrement(Tn,qn,!zt,Zt))),Xr&&lr&&(Tn=ee.tickIncrement(Tn,qn,!zt,Zt),Pn--);zt?Tn>=Or:Tn<=Or;Tn=ee.tickIncrement(Tn,qn,zt,Zt)){if(Xr&&Pn++,Dn.rangebreaks&&!zt){if(Tn<Ar)continue;if(Dn.maskBreaks(Tn)===N&&Ht(Tn,Dn)>=dr)break}if(_r.length>pr||Tn===fn)break;fn=Tn;var si={value:Tn};Xr?(qr&&Tn!==(Tn|0)&&(si.simpleLabel=!0),nr>1&&Pn%nr&&(si.skipLabel=!0),_r.push(si)):(si.minor=!0,kr.push(si))}}if(pn){var ti=Ye.minor.ticks==="inside"&&Ye.ticks==="outside"||Ye.minor.ticks==="outside"&&Ye.ticks==="inside";if(!ti){for(var ei=_r.map(function(wn){return wn.value}),Mr=[],on=0;on<kr.length;on++){var nn=kr[on],gn=nn.value;if(ei.indexOf(gn)===-1){for(var Nn=!1,En=0;!Nn&&En<_r.length;En++)1e7+_r[En].value===1e7+gn&&(Nn=!0);Nn||Mr.push(nn)}}kr=Mr}}lr&&Te(_r,Ye,Ye._definedDelta);var Cn;if(Ye.rangebreaks){var Hn=Ye._id.charAt(0)==="y",ii=1;Ye.tickmode==="auto"&&(ii=Ye.tickfont?Ye.tickfont.size:12);var Pi=NaN;for(Cn=_r.length-1;Cn>-1;Cn--){if(_r[Cn].drop){_r.splice(Cn,1);continue}_r[Cn].value=Ht(_r[Cn].value,Ye);var ji=Ye.c2p(_r[Cn].value);(Hn?Pi>ji-ii:Pi<ji+ii)?_r.splice(zt?Cn+1:Cn,1):Pi=ji}}Ft(Ye)&&Math.abs(rr[1]-rr[0])===360&&_r.pop(),Ye._tmax=(_r[_r.length-1]||{}).value,Ye._prevDateHead="",Ye._inCalcTicks=!0;var jt,wr=function(wn){wn.text="",Ye._prevDateHead=jt};_r=_r.concat(kr);var an,cn;for(Cn=0;Cn<_r.length;Cn++){var hn=_r[Cn].minor,Ln=_r[Cn].value;hn?Vr.push({x:Ln,minor:!0}):(jt=Ye._prevDateHead,an=ee.tickText(Ye,Ln,!1,_r[Cn].simpleLabel),cn=_r[Cn].periodX,cn!==void 0&&(an.periodX=cn,(cn>dr||cn<fr)&&(cn>dr&&(an.periodX=dr),cn<fr&&(an.periodX=fr),wr(an))),_r[Cn].skipLabel&&wr(an),vr.push(an))}return vr=vr.concat(Vr),Ye._inCalcTicks=!1,lr&&vr.length&&(vr[0].noTick=!0),vr};function Le(Ze,Ye){return Ze.rangebreaks&&(Ye=Ye.filter(function(Dt){return Ze.maskBreaks(Dt.x)!==N})),Ye}function Ve(Ze){var Ye=Ze._mainAxis,Dt=[];if(Ye._vals){for(var It=0;It<Ye._vals.length;It++)if(!Ye._vals[It].noTick){var Zt=Ye.l2p(Ye._vals[It].x),nr=Ze.p2l(Zt),lr=ee.tickText(Ze,nr);Ye._vals[It].minor&&(lr.minor=!0,lr.text=""),Dt.push(lr)}}return Dt=Le(Ze,Dt),Dt}function We(Ze){var Ye=w.simpleMap(Ze.range,Ze.r2l),Dt=q(Ye),It=Math.min(Dt[0],Dt[1]),Zt=Math.max(Dt[0],Dt[1]),nr=Ze.type==="category"?Ze.d2l_noadd:Ze.d2l;Ze.type==="log"&&String(Ze.dtick).charAt(0)!=="L"&&(Ze.dtick="L"+Math.pow(10,Math.floor(Math.min(Ze.range[0],Ze.range[1]))-1));for(var lr=[],rr=0;rr<=1;rr++)if(!(rr&&!Ze.minor)){var zt=rr?Ze.minor.tickvals:Ze.tickvals,fr=rr?[]:Ze.ticktext;if(zt){Array.isArray(fr)||(fr=[]);for(var dr=0;dr<zt.length;dr++){var pr=nr(zt[dr]);if(pr>It&&pr<Zt){var vr=fr[dr]===void 0?ee.tickText(Ze,pr):Mt(Ze,pr,String(fr[dr]));rr&&(vr.minor=!0,vr.text=""),lr.push(vr)}}}}return lr=Le(Ze,lr),lr}var Fe=[2,5,10],Ge=[1,2,3,6,12],it=[1,2,5,10,15,30],qe=[1,2,3,7,14],$e=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],tt=[-.301,0,.301,.699,1],vt=[15,30,45,90,180];function dt(Ze,Ye,Dt){return Ye*w.roundUp(Ze/Ye,Dt)}ee.autoTicks=function(Ze,Ye,Dt){var It;function Zt(pr){return Math.pow(pr,Math.floor(Math.log(Ye)/Math.LN10))}if(Ze.type==="date"){Ze.tick0=w.dateTick0(Ze.calendar,0);var nr=2*Ye;if(nr>x)Ye/=x,It=Zt(10),Ze.dtick="M"+12*dt(Ye,It,Fe);else if(nr>C)Ye/=C,Ze.dtick="M"+dt(Ye,1,Ge);else if(nr>T){if(Ze.dtick=dt(Ye,T,Ze._hasDayOfWeekBreaks?[1,2,7,14]:qe),!Dt){var lr=ee.getTickFormat(Ze),rr=Ze.ticklabelmode==="period";rr&&(Ze._rawTick0=Ze.tick0),/%[uVW]/.test(lr)?Ze.tick0=w.dateTick0(Ze.calendar,2):Ze.tick0=w.dateTick0(Ze.calendar,1),rr&&(Ze._dowTick0=Ze.tick0)}}else nr>A?Ze.dtick=dt(Ye,A,Ge):nr>a?Ze.dtick=dt(Ye,a,it):nr>R?Ze.dtick=dt(Ye,R,it):(It=Zt(10),Ze.dtick=dt(Ye,It,Fe))}else if(Ze.type==="log"){Ze.tick0=0;var zt=w.simpleMap(Ze.range,Ze.r2l);if(Ze._isMinor&&(Ye*=1.5),Ye>.7)Ze.dtick=Math.ceil(Ye);else if(Math.abs(zt[1]-zt[0])<1){var fr=1.5*Math.abs((zt[1]-zt[0])/Ye);Ye=Math.abs(Math.pow(10,zt[1])-Math.pow(10,zt[0]))/fr,It=Zt(10),Ze.dtick="L"+dt(Ye,It,Fe)}else Ze.dtick=Ye>.3?"D2":"D1"}else Ze.type==="category"||Ze.type==="multicategory"?(Ze.tick0=0,Ze.dtick=Math.ceil(Math.max(Ye,1))):Ft(Ze)?(Ze.tick0=0,It=1,Ze.dtick=dt(Ye,It,vt)):(Ze.tick0=0,It=Zt(10),Ze.dtick=dt(Ye,It,Fe));if(Ze.dtick===0&&(Ze.dtick=1),!E(Ze.dtick)&&typeof Ze.dtick!="string"){var dr=Ze.dtick;throw Ze.dtick=1,"ax.dtick error: "+String(dr)}};function gt(Ze){var Ye=Ze.dtick;if(Ze._tickexponent=0,!E(Ye)&&typeof Ye!="string"&&(Ye=1),(Ze.type==="category"||Ze.type==="multicategory")&&(Ze._tickround=null),Ze.type==="date"){var Dt=Ze.r2l(Ze.tick0),It=Ze.l2r(Dt).replace(/(^-|i)/g,""),Zt=It.length;if(String(Ye).charAt(0)==="M")Zt>10||It.substr(5)!=="01-01"?Ze._tickround="d":Ze._tickround=+Ye.substr(1)%12===0?"y":"m";else if(Ye>=T&&Zt<=10||Ye>=T*15)Ze._tickround="d";else if(Ye>=a&&Zt<=16||Ye>=A)Ze._tickround="M";else if(Ye>=R&&Zt<=19||Ye>=a)Ze._tickround="S";else{var nr=Ze.l2r(Dt+Ye).replace(/^-/,"").length;Ze._tickround=Math.max(Zt,nr)-20,Ze._tickround<0&&(Ze._tickround=4)}}else if(E(Ye)||Ye.charAt(0)==="L"){var lr=Ze.range.map(Ze.r2d||Number);E(Ye)||(Ye=Number(Ye.substr(1))),Ze._tickround=2-Math.floor(Math.log(Ye)/Math.LN10+.01);var rr=Math.max(Math.abs(lr[0]),Math.abs(lr[1])),zt=Math.floor(Math.log(rr)/Math.LN10+.01),fr=Ze.minexponent===void 0?3:Ze.minexponent;Math.abs(zt)>fr&&(ce(Ze.exponentformat)&&!be(zt)?Ze._tickexponent=3*Math.round((zt-1)/3):Ze._tickexponent=zt)}else Ze._tickround=null}ee.tickIncrement=function(Ze,Ye,Dt,It){var Zt=Dt?-1:1;if(E(Ye))return w.increment(Ze,Zt*Ye);var nr=Ye.charAt(0),lr=Zt*Number(Ye.substr(1));if(nr==="M")return w.incrementMonth(Ze,lr,It);if(nr==="L")return Math.log(Math.pow(10,Ze)+lr)/Math.LN10;if(nr==="D"){var rr=Ye==="D2"?tt:$e,zt=Ze+Zt*.01,fr=w.roundUp(w.mod(zt,1),rr,Dt);return Math.floor(zt)+Math.log(h.round(Math.pow(10,fr),1))/Math.LN10}throw"unrecognized dtick "+String(Ye)},ee.tickFirst=function(Ze,Ye){var Dt=Ze.r2l||Number,It=w.simpleMap(Ze.range,Dt,void 0,void 0,Ye),Zt=It[1]<It[0],nr=Zt?Math.floor:Math.ceil,lr=q(It)[0],rr=Ze.dtick,zt=Dt(Ze.tick0);if(E(rr)){var fr=nr((lr-zt)/rr)*rr+zt;return(Ze.type==="category"||Ze.type==="multicategory")&&(fr=w.constrain(fr,0,Ze._categories.length-1)),fr}var dr=rr.charAt(0),pr=Number(rr.substr(1));if(dr==="M"){for(var vr=0,Vr=zt,_r,kr,pn;vr<10;){if(_r=ee.tickIncrement(Vr,rr,Zt,Ze.calendar),(_r-lr)*(Vr-lr)<=0)return Zt?Math.min(Vr,_r):Math.max(Vr,_r);kr=(lr-(Vr+_r)/2)/(_r-Vr),pn=dr+(Math.abs(Math.round(kr))||1)*pr,Vr=ee.tickIncrement(Vr,pn,kr<0?!Zt:Zt,Ze.calendar),vr++}return w.error("tickFirst did not converge",Ze),Vr}else{if(dr==="L")return Math.log(nr((Math.pow(10,lr)-zt)/pr)*pr+zt)/Math.LN10;if(dr==="D"){var Xr=rr==="D2"?tt:$e,_n=w.roundUp(w.mod(lr,1),Xr,Zt);return Math.floor(lr)+Math.log(h.round(Math.pow(10,_n),1))/Math.LN10}else throw"unrecognized dtick "+String(rr)}},ee.tickText=function(Ze,Ye,Dt,It){var Zt=Mt(Ze,Ye),nr=Ze.tickmode==="array",lr=Dt||nr,rr=Ze.type,zt=rr==="category"?Ze.d2l_noadd:Ze.d2l,fr;if(nr&&Array.isArray(Ze.ticktext)){var dr=w.simpleMap(Ze.range,Ze.r2l),pr=(Math.abs(dr[1]-dr[0])-(Ze._lBreaks||0))/1e4;for(fr=0;fr<Ze.ticktext.length&&!(Math.abs(Ye-zt(Ze.tickvals[fr]))<pr);fr++);if(fr<Ze.ticktext.length)return Zt.text=String(Ze.ticktext[fr]),Zt}function vr(pn){if(pn===void 0)return!0;if(Dt)return pn==="none";var Xr={first:Ze._tmin,last:Ze._tmax}[pn];return pn!=="all"&&Ye!==Xr}var Vr=Dt?"never":Ze.exponentformat!=="none"&&vr(Ze.showexponent)?"hide":"";if(rr==="date"?Ct(Ze,Zt,Dt,lr):rr==="log"?Wt(Ze,Zt,Dt,lr,Vr):rr==="category"?Xe(Ze,Zt):rr==="multicategory"?ke(Ze,Zt,Dt):Ft(Ze)?Oe(Ze,Zt,Dt,lr,Vr):Ie(Ze,Zt,Dt,lr,Vr),It||(Ze.tickprefix&&!vr(Ze.showtickprefix)&&(Zt.text=Ze.tickprefix+Zt.text),Ze.ticksuffix&&!vr(Ze.showticksuffix)&&(Zt.text+=Ze.ticksuffix)),Ze.labelalias&&Ze.labelalias.hasOwnProperty(Zt.text)){var _r=Ze.labelalias[Zt.text];typeof _r=="string"&&(Zt.text=_r)}if(Ze.tickson==="boundaries"||Ze.showdividers){var kr=function(pn){var Xr=Ze.l2p(pn);return Xr>=0&&Xr<=Ze._length?pn:null};Zt.xbnd=[kr(Zt.x-.5),kr(Zt.x+Ze.dtick-.5)]}return Zt},ee.hoverLabelText=function(Ze,Ye,Dt){Dt&&(Ze=w.extendFlat({},Ze,{hoverformat:Dt}));var It=Array.isArray(Ye)?Ye[0]:Ye,Zt=Array.isArray(Ye)?Ye[1]:void 0;if(Zt!==void 0&&Zt!==It)return ee.hoverLabelText(Ze,It,Dt)+" - "+ee.hoverLabelText(Ze,Zt,Dt);var nr=Ze.type==="log"&&It<=0,lr=ee.tickText(Ze,Ze.c2l(nr?-It:It),"hover").text;return nr?It===0?"0":b+lr:lr};function Mt(Ze,Ye,Dt){var It=Ze.tickfont||{};return{x:Ye,dx:0,dy:0,text:Dt||"",fontSize:It.size,font:It.family,fontColor:It.color}}function Ct(Ze,Ye,Dt,It){var Zt=Ze._tickround,nr=Dt&&Ze.hoverformat||ee.getTickFormat(Ze);It&&(E(Zt)?Zt=4:Zt={y:"m",m:"d",d:"M",M:"S",S:4}[Zt]);var lr=w.formatDate(Ye.x,nr,Zt,Ze._dateFormat,Ze.calendar,Ze._extraFormat),rr,zt=lr.indexOf(`
`);if(zt!==-1&&(rr=lr.substr(zt+1),lr=lr.substr(0,zt)),It&&(lr==="00:00:00"||lr==="00:00"?(lr=rr,rr=""):lr.length===8&&(lr=lr.replace(/:00$/,""))),rr)if(Dt)Zt==="d"?lr+=", "+rr:lr=rr+(lr?", "+lr:"");else if(!Ze._inCalcTicks||Ze._prevDateHead!==rr)Ze._prevDateHead=rr,lr+="<br>"+rr;else{var fr=$t(Ze),dr=Ze._trueSide||Ze.side;(!fr&&dr==="top"||fr&&dr==="bottom")&&(lr+="<br> ")}Ye.text=lr}function Wt(Ze,Ye,Dt,It,Zt){var nr=Ze.dtick,lr=Ye.x,rr=Ze.tickformat,zt=typeof nr=="string"&&nr.charAt(0);if(Zt==="never"&&(Zt=""),It&&zt!=="L"&&(nr="L3",zt="L"),rr||zt==="L")Ye.text=Re(Math.pow(10,lr),Ze,Zt,It);else if(E(nr)||zt==="D"&&w.mod(lr+.01,1)<.1){var fr=Math.round(lr),dr=Math.abs(fr),pr=Ze.exponentformat;pr==="power"||ce(pr)&&be(fr)?(fr===0?Ye.text=1:fr===1?Ye.text="10":Ye.text="10<sup>"+(fr>1?"":b)+dr+"</sup>",Ye.fontSize*=1.25):(pr==="e"||pr==="E")&&dr>2?Ye.text="1"+pr+(fr>0?"+":b)+dr:(Ye.text=Re(Math.pow(10,lr),Ze,"","fakehover"),nr==="D1"&&Ze._id.charAt(0)==="y"&&(Ye.dy-=Ye.fontSize/6))}else if(zt==="D")Ye.text=String(Math.round(Math.pow(10,w.mod(lr,1)))),Ye.fontSize*=.75;else throw"unrecognized dtick "+String(nr);if(Ze.dtick==="D1"){var vr=String(Ye.text).charAt(0);(vr==="0"||vr==="1")&&(Ze._id.charAt(0)==="y"?Ye.dx-=Ye.fontSize/4:(Ye.dy+=Ye.fontSize/2,Ye.dx+=(Ze.range[1]>Ze.range[0]?1:-1)*Ye.fontSize*(lr<0?.5:.25)))}}function Xe(Ze,Ye){var Dt=Ze._categories[Math.round(Ye.x)];Dt===void 0&&(Dt=""),Ye.text=String(Dt)}function ke(Ze,Ye,Dt){var It=Math.round(Ye.x),Zt=Ze._categories[It]||[],nr=Zt[1]===void 0?"":String(Zt[1]),lr=Zt[0]===void 0?"":String(Zt[0]);Dt?Ye.text=lr+" - "+nr:(Ye.text=nr,Ye.text2=lr)}function Ie(Ze,Ye,Dt,It,Zt){Zt==="never"?Zt="":Ze.showexponent==="all"&&Math.abs(Ye.x/Ze.dtick)<1e-6&&(Zt="hide"),Ye.text=Re(Ye.x,Ze,Zt,It)}function Oe(Ze,Ye,Dt,It,Zt){if(Ze.thetaunit==="radians"&&!Dt){var nr=Ye.x/180;if(nr===0)Ye.text="0";else{var lr=_e(nr);if(lr[1]>=100)Ye.text=Re(w.deg2rad(Ye.x),Ze,Zt,It);else{var rr=Ye.x<0;lr[1]===1?lr[0]===1?Ye.text="π":Ye.text=lr[0]+"π":Ye.text=["<sup>",lr[0],"</sup>","⁄","<sub>",lr[1],"</sub>","π"].join(""),rr&&(Ye.text=b+Ye.text)}}}else Ye.text=Re(Ye.x,Ze,Zt,It)}function _e(Ze){function Ye(rr,zt){return Math.abs(rr-zt)<=1e-6}function Dt(rr,zt){return Ye(zt,0)?rr:Dt(zt,rr%zt)}function It(rr){for(var zt=1;!Ye(Math.round(rr*zt)/zt,rr);)zt*=10;return zt}var Zt=It(Ze),nr=Ze*Zt,lr=Math.abs(Dt(nr,Zt));return[Math.round(nr/lr),Math.round(Zt/lr)]}var Ae=["f","p","n","μ","m","","k","M","G","T"];function ce(Ze){return Ze==="SI"||Ze==="B"}function be(Ze){return Ze>14||Ze<-15}function Re(Ze,Ye,Dt,It){var Zt=Ze<0,nr=Ye._tickround,lr=Dt||Ye.exponentformat||"B",rr=Ye._tickexponent,zt=ee.getTickFormat(Ye),fr=Ye.separatethousands;if(It){var dr={exponentformat:lr,minexponent:Ye.minexponent,dtick:Ye.showexponent==="none"?Ye.dtick:E(Ze)&&Math.abs(Ze)||1,range:Ye.showexponent==="none"?Ye.range.map(Ye.r2d):[0,Ze||1]};gt(dr),nr=(Number(dr._tickround)||0)+4,rr=dr._tickexponent,Ye.hoverformat&&(zt=Ye.hoverformat)}if(zt)return Ye._numFormat(zt)(Ze).replace(/-/g,b);var pr=Math.pow(10,-nr)/2;if(lr==="none"&&(rr=0),Ze=Math.abs(Ze),Ze<pr)Ze="0",Zt=!1;else{if(Ze+=pr,rr&&(Ze*=Math.pow(10,-rr),nr+=rr),nr===0)Ze=String(Math.floor(Ze));else if(nr<0){Ze=String(Math.round(Ze)),Ze=Ze.substr(0,Ze.length+nr);for(var vr=nr;vr<0;vr++)Ze+="0"}else{Ze=String(Ze);var Vr=Ze.indexOf(".")+1;Vr&&(Ze=Ze.substr(0,Vr+nr).replace(/\.?0+$/,""))}Ze=w.numSeparate(Ze,Ye._separators,fr)}if(rr&&lr!=="hide"){ce(lr)&&be(rr)&&(lr="power");var _r;rr<0?_r=b+-rr:lr!=="power"?_r="+"+rr:_r=String(rr),lr==="e"||lr==="E"?Ze+=lr+_r:lr==="power"?Ze+="×10<sup>"+_r+"</sup>":lr==="B"&&rr===9?Ze+="B":ce(lr)&&(Ze+=Ae[rr/3+5])}return Zt?b+Ze:Ze}ee.getTickFormat=function(Ze){var Ye;function Dt(zt){return typeof zt!="string"?zt:Number(zt.replace("M",""))*C}function It(zt,fr){var dr=["L","D"];if(typeof zt==typeof fr){if(typeof zt=="number")return zt-fr;var pr=dr.indexOf(zt.charAt(0)),vr=dr.indexOf(fr.charAt(0));return pr===vr?Number(zt.replace(/(L|D)/g,""))-Number(fr.replace(/(L|D)/g,"")):pr-vr}else return typeof zt=="number"?1:-1}function Zt(zt,fr,dr){var pr=dr||function(_r){return _r},vr=fr[0],Vr=fr[1];return(!vr&&typeof vr!="number"||pr(vr)<=pr(zt))&&(!Vr&&typeof Vr!="number"||pr(Vr)>=pr(zt))}function nr(zt,fr){var dr=fr[0]===null,pr=fr[1]===null,vr=It(zt,fr[0])>=0,Vr=It(zt,fr[1])<=0;return(dr||vr)&&(pr||Vr)}var lr,rr;if(Ze.tickformatstops&&Ze.tickformatstops.length>0)switch(Ze.type){case"date":case"linear":{for(Ye=0;Ye<Ze.tickformatstops.length;Ye++)if(rr=Ze.tickformatstops[Ye],rr.enabled&&Zt(Ze.dtick,rr.dtickrange,Dt)){lr=rr;break}break}case"log":{for(Ye=0;Ye<Ze.tickformatstops.length;Ye++)if(rr=Ze.tickformatstops[Ye],rr.enabled&&nr(Ze.dtick,rr.dtickrange)){lr=rr;break}break}}return lr?lr.value:Ze.tickformat},ee.getSubplots=function(Ze,Ye){var Dt=Ze._fullLayout._subplots,It=Dt.cartesian.concat(Dt.gl2d||[]),Zt=Ye?ee.findSubplotsWithAxis(It,Ye):It;return Zt.sort(function(nr,lr){var rr=nr.substr(1).split("y"),zt=lr.substr(1).split("y");return rr[0]===zt[0]?+rr[1]-+zt[1]:+rr[0]-+zt[0]}),Zt},ee.findSubplotsWithAxis=function(Ze,Ye){for(var Dt=new RegExp(Ye._id.charAt(0)==="x"?"^"+Ye._id+"y":Ye._id+"$"),It=[],Zt=0;Zt<Ze.length;Zt++){var nr=Ze[Zt];Dt.test(nr)&&It.push(nr)}return It},ee.makeClipPaths=function(Ze){var Ye=Ze._fullLayout;if(!Ye._hasOnlyLargeSploms){var Dt={_offset:0,_length:Ye.width,_id:""},It={_offset:0,_length:Ye.height,_id:""},Zt=ee.list(Ze,"x",!0),nr=ee.list(Ze,"y",!0),lr=[],rr,zt;for(rr=0;rr<Zt.length;rr++)for(lr.push({x:Zt[rr],y:It}),zt=0;zt<nr.length;zt++)rr===0&&lr.push({x:Dt,y:nr[zt]}),lr.push({x:Zt[rr],y:nr[zt]});var fr=Ye._clips.selectAll(".axesclip").data(lr,function(dr){return dr.x._id+dr.y._id});fr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(dr){return"clip"+Ye._uid+dr.x._id+dr.y._id}).append("rect"),fr.exit().remove(),fr.each(function(dr){h.select(this).select("rect").attr({x:dr.x._offset||0,y:dr.y._offset||0,width:dr.x._length||1,height:dr.y._length||1})})}},ee.draw=function(Ze,Ye,Dt){var It=Ze._fullLayout;Ye==="redraw"&&It._paper.selectAll("g.subplot").each(function(zt){var fr=zt[0],dr=It._plots[fr];if(dr){var pr=dr.xaxis,vr=dr.yaxis;dr.xaxislayer.selectAll("."+pr._id+"tick").remove(),dr.yaxislayer.selectAll("."+vr._id+"tick").remove(),dr.xaxislayer.selectAll("."+pr._id+"tick2").remove(),dr.yaxislayer.selectAll("."+vr._id+"tick2").remove(),dr.xaxislayer.selectAll("."+pr._id+"divider").remove(),dr.yaxislayer.selectAll("."+vr._id+"divider").remove(),dr.minorGridlayer&&dr.minorGridlayer.selectAll("path").remove(),dr.gridlayer&&dr.gridlayer.selectAll("path").remove(),dr.zerolinelayer&&dr.zerolinelayer.selectAll("path").remove(),It._infolayer.select(".g-"+pr._id+"title").remove(),It._infolayer.select(".g-"+vr._id+"title").remove()}});var Zt=!Ye||Ye==="redraw"?ee.listIds(Ze):Ye,nr=ee.list(Ze),lr=nr.filter(function(zt){return zt.autoshift}).map(function(zt){return zt.overlaying});Zt.map(function(zt){var fr=ee.getFromId(Ze,zt);if(fr.tickmode==="sync"&&fr.overlaying){var dr=Zt.findIndex(function(pr){return pr===fr.overlaying});dr>=0&&Zt.unshift(Zt.splice(dr,1).shift())}});var rr={false:{left:0,right:0}};return w.syncOrAsync(Zt.map(function(zt){return function(){if(zt){var fr=ee.getFromId(Ze,zt);Dt||(Dt={}),Dt.axShifts=rr,Dt.overlayingShiftedAx=lr;var dr=ee.drawOne(Ze,fr,Dt);return fr._shiftPusher&&or(fr,fr._fullDepth||0,rr,!0),fr._r=fr.range.slice(),fr._rl=w.simpleMap(fr._r,fr.r2l),dr}}}))},ee.drawOne=function(Ze,Ye,Dt){Dt=Dt||{};var It=Dt.axShifts||{},Zt=Dt.overlayingShiftedAx||[],nr,lr,rr;Ye.setScale();var zt=Ze._fullLayout,fr=Ye._id,dr=fr.charAt(0),pr=ee.counterLetter(fr),vr=zt._plots[Ye._mainSubplot];if(!vr)return;if(Ye._shiftPusher=Ye.autoshift||Zt.indexOf(Ye._id)!==-1||Zt.indexOf(Ye.overlaying)!==-1,Ye._shiftPusher&Ye.anchor==="free"){var Vr=Ye.linewidth/2||0;Ye.ticks==="inside"&&(Vr+=Ye.ticklen),or(Ye,Vr,It,!0),or(Ye,Ye.shift||0,It,!1)}(Dt.skipTitle!==!0||Ye._shift===void 0)&&(Ye._shift=Er(Ye,It));var _r=vr[dr+"axislayer"],kr=Ye._mainLinePosition,pn=kr+=Ye._shift,Xr=Ye._mainMirrorPosition,_n=Ye._vals=ee.calcTicks(Ye),Dn=[Ye.mirror,pn,Xr].join("_");for(nr=0;nr<_n.length;nr++)_n[nr].axInfo=Dn;Ye._selections={},Ye._tickAngles&&(Ye._prevTickAngles=Ye._tickAngles),Ye._tickAngles={},Ye._depth=null;var xr={};function Ar(zr){var dn=fr+(zr||"tick");return xr[dn]||(xr[dn]=_t(Ye,dn)),xr[dn]}if(Ye.visible){var Or=ee.makeTransTickFn(Ye),Br=ee.makeTransTickLabelFn(Ye),qr,vn,fn=Ye.ticks==="inside",Tn=Ye.ticks==="outside";if(Ye.tickson==="boundaries"){var Pn=nt(Ye,_n);vn=ee.clipEnds(Ye,Pn),qr=fn?vn:Pn}else vn=ee.clipEnds(Ye,_n),qr=fn&&Ye.ticklabelmode!=="period"?vn:_n;var jn=Ye._gridVals=vn,qn=wt(Ye,_n);if(!zt._hasOnlyLargeSploms){var si=Ye._subplotsWith,ti={};for(nr=0;nr<si.length;nr++){lr=si[nr],rr=zt._plots[lr];var ei=rr[pr+"axis"],Mr=ei._mainAxis._id;if(!ti[Mr]){ti[Mr]=1;var on=dr==="x"?"M0,"+ei._offset+"v"+ei._length:"M"+ei._offset+",0h"+ei._length;ee.drawGrid(Ze,Ye,{vals:jn,counterAxis:ei,layer:rr.gridlayer.select("."+fr),minorLayer:rr.minorGridlayer.select("."+fr),path:on,transFn:Or}),ee.drawZeroLine(Ze,Ye,{counterAxis:ei,layer:rr.zerolinelayer,path:on,transFn:Or})}}}var nn,gn=ee.getTickSigns(Ye),Nn=ee.getTickSigns(Ye,"minor");if(Ye.ticks||Ye.minor&&Ye.minor.ticks){var En=ee.makeTickPath(Ye,pn,gn[2]),Cn=ee.makeTickPath(Ye,pn,Nn[2],{minor:!0}),Hn,ii,Pi,ji;if(Ye._anchorAxis&&Ye.mirror&&Ye.mirror!==!0?(Hn=ee.makeTickPath(Ye,Xr,gn[3]),ii=ee.makeTickPath(Ye,Xr,Nn[3],{minor:!0}),Pi=En+Hn,ji=Cn+ii):(Hn="",ii="",Pi=En,ji=Cn),Ye.showdividers&&Tn&&Ye.tickson==="boundaries"){var jt={};for(nr=0;nr<qn.length;nr++)jt[qn[nr].x]=1;nn=function(zr){return jt[zr.x]?Hn:Pi}}else nn=function(zr){return zr.minor?ji:Pi}}if(ee.drawTicks(Ze,Ye,{vals:qr,layer:_r,path:nn,transFn:Or}),Ye.mirror==="allticks"){var wr=Object.keys(Ye._linepositions||{});for(nr=0;nr<wr.length;nr++){lr=wr[nr],rr=zt._plots[lr];var an=Ye._linepositions[lr]||[],cn=an[0],hn=an[1],Ln=an[2],wn=ee.makeTickPath(Ye,cn,Ln?gn[0]:Nn[0],{minor:Ln})+ee.makeTickPath(Ye,hn,Ln?gn[1]:Nn[1],{minor:Ln});ee.drawTicks(Ze,Ye,{vals:qr,layer:rr[dr+"axislayer"],path:wn,transFn:Or})}}var un=[];if(un.push(function(){return ee.drawLabels(Ze,Ye,{vals:_n,layer:_r,plotinfo:rr,transFn:Br,labelFns:ee.makeLabelFns(Ye,pn)})}),Ye.type==="multicategory"){var Rr={x:2,y:10}[dr];un.push(function(){var zr={x:"height",y:"width"}[dr],dn=Ar()[zr]+Rr+(Ye._tickAngles[fr+"tick"]?Ye.tickfont.size*ae:0);return ee.drawLabels(Ze,Ye,{vals:ot(Ye,_n),layer:_r,cls:fr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Or,labelFns:ee.makeLabelFns(Ye,pn+dn*gn[4])})}),un.push(function(){return Ye._depth=gn[4]*(Ar("tick2")[Ye.side]-pn),Kt(Ze,Ye,{vals:qn,layer:_r,path:ee.makeTickPath(Ye,pn,gn[4],{len:Ye._depth}),transFn:Or})})}else Ye.title.hasOwnProperty("standoff")&&un.push(function(){Ye._depth=gn[4]*(Ar()[Ye.side]-pn)});var Cr=L.getComponentMethod("rangeslider","isVisible")(Ye);return!Dt.skipTitle&&!(Cr&&Ye.side==="bottom")&&un.push(function(){return Fr(Ze,Ye)}),un.push(function(){var zr=Ye.side.charAt(0),dn=ue[Ye.side].charAt(0),In=ee.getPxPosition(Ze,Ye),Wn=Tn?Ye.ticklen:0,yn,zn,$n,li;(Ye.automargin||Cr||Ye._shiftPusher)&&(Ye.type==="multicategory"?yn=Ar("tick2"):(yn=Ar(),dr==="x"&&zr==="b"&&(Ye._depth=Math.max(yn.width>0?yn.bottom-In:0,Wn))));var ai=0,oi=0;if(Ye._shiftPusher&&(ai=Math.max(Wn,yn.height>0?zr==="l"?In-yn.left:yn.right-In:0),Ye.title.text!==zt._dfltTitle[dr]&&(oi=(Ye._titleStandoff||0)+(Ye._titleScoot||0),zr==="l"&&(oi+=ar(Ye))),Ye._fullDepth=Math.max(ai,oi)),Ye.automargin){zn={x:0,y:0,r:0,l:0,t:0,b:0};var di=[0,1],to=typeof Ye._shift=="number"?Ye._shift:0;if(dr==="x"){if(zr==="b"?zn[zr]=Ye._depth:(zn[zr]=Ye._depth=Math.max(yn.width>0?In-yn.top:0,Wn),di.reverse()),yn.width>0){var bo=yn.right-(Ye._offset+Ye._length);bo>0&&(zn.xr=1,zn.r=bo);var So=Ye._offset-yn.left;So>0&&(zn.xl=0,zn.l=So)}}else if(zr==="l"?(Ye._depth=Math.max(yn.height>0?In-yn.left:0,Wn),zn[zr]=Ye._depth-to):(Ye._depth=Math.max(yn.height>0?yn.right-In:0,Wn),zn[zr]=Ye._depth+to,di.reverse()),yn.height>0){var ko=yn.bottom-(Ye._offset+Ye._length);ko>0&&(zn.yb=0,zn.b=ko);var Eo=Ye._offset-yn.top;Eo>0&&(zn.yt=1,zn.t=Eo)}zn[pr]=Ye.anchor==="free"?Ye.position:Ye._anchorAxis.domain[di[0]],Ye.title.text!==zt._dfltTitle[dr]&&(zn[zr]+=ar(Ye)+(Ye.title.standoff||0)),Ye.mirror&&Ye.anchor!=="free"&&($n={x:0,y:0,r:0,l:0,t:0,b:0},$n[dn]=Ye.linewidth,Ye.mirror&&Ye.mirror!==!0&&($n[dn]+=Wn),Ye.mirror===!0||Ye.mirror==="ticks"?$n[pr]=Ye._anchorAxis.domain[di[1]]:(Ye.mirror==="all"||Ye.mirror==="allticks")&&($n[pr]=[Ye._counterDomainMin,Ye._counterDomainMax][di[1]]))}Cr&&(li=L.getComponentMethod("rangeslider","autoMarginOpts")(Ze,Ye)),typeof Ye.automargin=="string"&&(Ue(zn,Ye.automargin),Ue($n,Ye.automargin)),n.autoMargin(Ze,hr(Ye),zn),n.autoMargin(Ze,ut(Ye),$n),n.autoMargin(Ze,lt(Ye),li)}),w.syncOrAsync(un)}};function Ue(Ze,Ye){if(Ze){var Dt=Object.keys(U).reduce(function(It,Zt){return Ye.indexOf(Zt)!==-1&&U[Zt].forEach(function(nr){It[nr]=1}),It},{});Object.keys(Ze).forEach(function(It){Dt[It]||(It.length===1?Ze[It]=0:delete Ze[It])})}}function nt(Ze,Ye){var Dt=[],It,Zt=function(nr,lr){var rr=nr.xbnd[lr];rr!==null&&Dt.push(w.extendFlat({},nr,{x:rr}))};if(Ye.length){for(It=0;It<Ye.length;It++)Zt(Ye[It],0);Zt(Ye[It-1],1)}return Dt}function ot(Ze,Ye){for(var Dt=[],It={},Zt=0;Zt<Ye.length;Zt++){var nr=Ye[Zt];It[nr.text2]?It[nr.text2].push(nr.x):It[nr.text2]=[nr.x]}for(var lr in It)Dt.push(Mt(Ze,w.interp(It[lr],.5),lr));return Dt}function wt(Ze,Ye){var Dt=[],It,Zt,nr=Ye.length&&Ye[Ye.length-1].x<Ye[0].x,lr=function(zt,fr){var dr=zt.xbnd[fr];dr!==null&&Dt.push(w.extendFlat({},zt,{x:dr}))};if(Ze.showdividers&&Ye.length){for(It=0;It<Ye.length;It++){var rr=Ye[It];rr.text2!==Zt&&lr(rr,nr?1:0),Zt=rr.text2}lr(Ye[It-1],nr?0:1)}return Dt}function _t(Ze,Ye){var Dt,It,Zt,nr;return Ze._selections[Ye].size()?(Dt=1/0,It=-1/0,Zt=1/0,nr=-1/0,Ze._selections[Ye].each(function(){var lr=br(this),rr=l.bBox(lr.node().parentNode);Dt=Math.min(Dt,rr.top),It=Math.max(It,rr.bottom),Zt=Math.min(Zt,rr.left),nr=Math.max(nr,rr.right)})):(Dt=0,It=0,Zt=0,nr=0),{top:Dt,bottom:It,left:Zt,right:nr,height:It-Dt,width:nr-Zt}}ee.getTickSigns=function(Ze,Ye){var Dt=Ze._id.charAt(0),It={x:"top",y:"right"}[Dt],Zt=Ze.side===It?1:-1,nr=[-1,1,Zt,-Zt],lr=Ye?(Ze.minor||{}).ticks:Ze.ticks;return lr!=="inside"==(Dt==="x")&&(nr=nr.map(function(rr){return-rr})),Ze.side&&nr.push({l:-1,t:-1,r:1,b:1}[Ze.side.charAt(0)]),nr},ee.makeTransTickFn=function(Ze){return Ze._id.charAt(0)==="x"?function(Ye){return p(Ze._offset+Ze.l2p(Ye.x),0)}:function(Ye){return p(0,Ze._offset+Ze.l2p(Ye.x))}},ee.makeTransTickLabelFn=function(Ze){var Ye=Vt(Ze),Dt=Ye[0],It=Ye[1];return Ze._id.charAt(0)==="x"?function(Zt){return p(Dt+Ze._offset+Ze.l2p(Ut(Zt)),It)}:function(Zt){return p(It,Dt+Ze._offset+Ze.l2p(Ut(Zt)))}};function Ut(Ze){return Ze.periodX!==void 0?Ze.periodX:Ze.x}function Vt(Ze){var Ye=Ze.ticklabelposition||"",Dt=function(Vr){return Ye.indexOf(Vr)!==-1},It=Dt("top"),Zt=Dt("left"),nr=Dt("right"),lr=Dt("bottom"),rr=Dt("inside"),zt=lr||Zt||It||nr;if(!zt&&!rr)return[0,0];var fr=Ze.side,dr=zt?(Ze.tickwidth||0)/2:0,pr=de,vr=Ze.tickfont?Ze.tickfont.size:12;return(lr||It)&&(dr+=vr*re,pr+=(Ze.linewidth||0)/2),(Zt||nr)&&(dr+=(Ze.linewidth||0)/2,pr+=de),rr&&fr==="top"&&(pr-=vr*(1-re)),(Zt||It)&&(dr=-dr),(fr==="bottom"||fr==="right")&&(pr=-pr),[zt?dr:0,rr?pr:0]}ee.makeTickPath=function(Ze,Ye,Dt,It){It||(It={});var Zt=It.minor;if(Zt&&!Ze.minor)return"";var nr=It.len!==void 0?It.len:Zt?Ze.minor.ticklen:Ze.ticklen,lr=Ze._id.charAt(0),rr=(Ze.linewidth||1)/2;return lr==="x"?"M0,"+(Ye+rr*Dt)+"v"+nr*Dt:"M"+(Ye+rr*Dt)+",0h"+nr*Dt},ee.makeLabelFns=function(Ze,Ye,Dt){var It=Ze.ticklabelposition||"",Zt=function(Pn){return It.indexOf(Pn)!==-1},nr=Zt("top"),lr=Zt("left"),rr=Zt("right"),zt=Zt("bottom"),fr=zt||lr||nr||rr,dr=Zt("inside"),pr=It==="inside"&&Ze.ticks==="inside"||!dr&&Ze.ticks==="outside"&&Ze.tickson!=="boundaries",vr=0,Vr=0,_r=pr?Ze.ticklen:0;if(dr?_r*=-1:fr&&(_r=0),pr&&(vr+=_r,Dt)){var kr=w.deg2rad(Dt);vr=_r*Math.cos(kr)+1,Vr=_r*Math.sin(kr)}Ze.showticklabels&&(pr||Ze.showline)&&(vr+=.2*Ze.tickfont.size),vr+=(Ze.linewidth||1)/2*(dr?-1:1);var pn={labelStandoff:vr,labelShift:Vr},Xr,_n,Dn,xr,Ar=0,Or=Ze.side,Br=Ze._id.charAt(0),qr=Ze.tickangle,vn;if(Br==="x")vn=!dr&&Or==="bottom"||dr&&Or==="top",xr=vn?1:-1,dr&&(xr*=-1),Xr=Vr*xr,_n=Ye+vr*xr,Dn=vn?1:-.2,Math.abs(qr)===90&&(dr?Dn+=j:qr===-90&&Or==="bottom"?Dn=re:qr===90&&Or==="top"?Dn=j:Dn=.5,Ar=j/2*(qr/90)),pn.xFn=function(Pn){return Pn.dx+Xr+Ar*Pn.fontSize},pn.yFn=function(Pn){return Pn.dy+_n+Pn.fontSize*Dn},pn.anchorFn=function(Pn,jn){if(fr){if(lr)return"end";if(rr)return"start"}return!E(jn)||jn===0||jn===180?"middle":jn*xr<0!==dr?"end":"start"},pn.heightFn=function(Pn,jn,qn){return jn<-60||jn>60?-.5*qn:Ze.side==="top"!==dr?-qn:0};else if(Br==="y"){if(vn=!dr&&Or==="left"||dr&&Or==="right",xr=vn?1:-1,dr&&(xr*=-1),Xr=vr,_n=Vr*xr,Dn=0,!dr&&Math.abs(qr)===90&&(qr===-90&&Or==="left"||qr===90&&Or==="right"?Dn=re:Dn=.5),dr){var fn=E(qr)?+qr:0;if(fn!==0){var Tn=w.deg2rad(fn);Ar=Math.abs(Math.sin(Tn))*re*xr,Dn=0}}pn.xFn=function(Pn){return Pn.dx+Ye-(Xr+Pn.fontSize*Dn)*xr+Ar*Pn.fontSize},pn.yFn=function(Pn){return Pn.dy+_n+Pn.fontSize*j},pn.anchorFn=function(Pn,jn){return E(jn)&&Math.abs(jn)===90?"middle":vn?"end":"start"},pn.heightFn=function(Pn,jn,qn){return Ze.side==="right"&&(jn*=-1),jn<-30?-qn:jn<30?-.5*qn:0}}return pn};function Lt(Ze){return[Ze.text,Ze.x,Ze.axInfo,Ze.font,Ze.fontSize,Ze.fontColor].join("_")}ee.drawTicks=function(Ze,Ye,Dt){Dt=Dt||{};var It=Ye._id+"tick",Zt=[].concat(Ye.minor&&Ye.minor.ticks?Dt.vals.filter(function(lr){return lr.minor&&!lr.noTick}):[]).concat(Ye.ticks?Dt.vals.filter(function(lr){return!lr.minor&&!lr.noTick}):[]),nr=Dt.layer.selectAll("path."+It).data(Zt,Lt);nr.exit().remove(),nr.enter().append("path").classed(It,1).classed("ticks",1).classed("crisp",Dt.crisp!==!1).each(function(lr){return r.stroke(h.select(this),lr.minor?Ye.minor.tickcolor:Ye.tickcolor)}).style("stroke-width",function(lr){return l.crispRound(Ze,lr.minor?Ye.minor.tickwidth:Ye.tickwidth,1)+"px"}).attr("d",Dt.path).style("display",null),Qt(Ye,[W]),nr.attr("transform",Dt.transFn)},ee.drawGrid=function(Ze,Ye,Dt){if(Dt=Dt||{},Ye.tickmode!=="sync"){var It=Ye._id+"grid",Zt=Ye.minor&&Ye.minor.showgrid,nr=Zt?Dt.vals.filter(function(Xr){return Xr.minor}):[],lr=Ye.showgrid?Dt.vals.filter(function(Xr){return!Xr.minor}):[],rr=Dt.counterAxis;if(rr&&ee.shouldShowZeroLine(Ze,Ye,rr))for(var zt=Ye.tickmode==="array",fr=0;fr<lr.length;fr++){var dr=lr[fr].x;if(zt?!dr:Math.abs(dr)<Ye.dtick/100)if(lr=lr.slice(0,fr).concat(lr.slice(fr+1)),zt)fr--;else break}Ye._gw=l.crispRound(Ze,Ye.gridwidth,1);for(var pr=Zt?l.crispRound(Ze,Ye.minor.gridwidth,1):0,vr=Dt.layer,Vr=Dt.minorLayer,_r=1;_r>=0;_r--){var kr=_r?vr:Vr;if(kr){var pn=kr.selectAll("path."+It).data(_r?lr:nr,Lt);pn.exit().remove(),pn.enter().append("path").classed(It,1).classed("crisp",Dt.crisp!==!1),pn.attr("transform",Dt.transFn).attr("d",Dt.path).each(function(Xr){return r.stroke(h.select(this),Xr.minor?Ye.minor.gridcolor:Ye.gridcolor||"#ddd")}).style("stroke-dasharray",function(Xr){return l.dashStyle(Xr.minor?Ye.minor.griddash:Ye.griddash,Xr.minor?Ye.minor.gridwidth:Ye.gridwidth)}).style("stroke-width",function(Xr){return(Xr.minor?pr:Ye._gw)+"px"}).style("display",null),typeof Dt.path=="function"&&pn.attr("d",Dt.path)}}Qt(Ye,[Y,B])}},ee.drawZeroLine=function(Ze,Ye,Dt){Dt=Dt||Dt;var It=Ye._id+"zl",Zt=ee.shouldShowZeroLine(Ze,Ye,Dt.counterAxis),nr=Dt.layer.selectAll("path."+It).data(Zt?[{x:0,id:Ye._id}]:[]);nr.exit().remove(),nr.enter().append("path").classed(It,1).classed("zl",1).classed("crisp",Dt.crisp!==!1).each(function(){Dt.layer.selectAll("path").sort(function(lr,rr){return $(lr.id,rr.id)})}),nr.attr("transform",Dt.transFn).attr("d",Dt.path).call(r.stroke,Ye.zerolinecolor||r.defaultLine).style("stroke-width",l.crispRound(Ze,Ye.zerolinewidth,Ye._gw||1)+"px").style("display",null),Qt(Ye,[O])},ee.drawLabels=function(Ze,Ye,Dt){Dt=Dt||{};var It=Ze._fullLayout,Zt=Ye._id,nr=Zt.charAt(0),lr=Dt.cls||Zt+"tick",rr=Dt.vals.filter(function(xr){return xr.text}),zt=Dt.labelFns,fr=Dt.secondary?0:Ye.tickangle,dr=(Ye._prevTickAngles||{})[lr],pr=Dt.layer.selectAll("g."+lr).data(Ye.showticklabels?rr:[],Lt),vr=[];pr.enter().append("g").classed(lr,1).append("text").attr("text-anchor","middle").each(function(xr){var Ar=h.select(this),Or=Ze._promises.length;Ar.call(m.positionText,zt.xFn(xr),zt.yFn(xr)).call(l.font,xr.font,xr.fontSize,xr.fontColor).text(xr.text).call(m.convertToTspans,Ze),Ze._promises[Or]?vr.push(Ze._promises.pop().then(function(){Vr(Ar,fr)})):Vr(Ar,fr)}),Qt(Ye,[H]),pr.exit().remove(),Dt.repositionOnUpdate&&pr.each(function(xr){h.select(this).select("text").call(m.positionText,zt.xFn(xr),zt.yFn(xr))});function Vr(xr,Ar){xr.each(function(Or){var Br=h.select(this),qr=Br.select(".text-math-group"),vn=zt.anchorFn(Or,Ar),fn=Dt.transFn.call(Br.node(),Or)+(E(Ar)&&+Ar!=0?" rotate("+Ar+","+zt.xFn(Or)+","+(zt.yFn(Or)-Or.fontSize/2)+")":""),Tn=m.lineCount(Br),Pn=ae*Or.fontSize,jn=zt.heightFn(Or,E(Ar)?+Ar:0,(Tn-1)*Pn);if(jn&&(fn+=p(0,jn)),qr.empty()){var qn=Br.select("text");qn.attr({transform:fn,"text-anchor":vn}),qn.style("opacity",1),Ye._adjustTickLabelsOverflow&&Ye._adjustTickLabelsOverflow()}else{var si=l.bBox(qr.node()).width,ti=si*{end:-.5,start:.5}[vn];qr.attr("transform",fn+p(ti,0))}})}Ye._adjustTickLabelsOverflow=function(){var xr=Ye.ticklabeloverflow;if(!(!xr||xr==="allow")){var Ar=xr.indexOf("hide")!==-1,Or=Ye._id.charAt(0)==="x",Br=0,qr=Or?Ze._fullLayout.width:Ze._fullLayout.height;if(xr.indexOf("domain")!==-1){var vn=w.simpleMap(Ye.range,Ye.r2l);Br=Ye.l2p(vn[0])+Ye._offset,qr=Ye.l2p(vn[1])+Ye._offset}var fn=Math.min(Br,qr),Tn=Math.max(Br,qr),Pn=Ye.side,jn=1/0,qn=-1/0;pr.each(function(Mr){var on=h.select(this),nn=on.select(".text-math-group");if(nn.empty()){var gn=l.bBox(on.node()),Nn=0;Or?(gn.right>Tn||gn.left<fn)&&(Nn=1):(gn.bottom>Tn||gn.top+(Ye.tickangle?0:Mr.fontSize/4)<fn)&&(Nn=1);var En=on.select("text");Nn?Ar&&En.style("opacity",0):(En.style("opacity",1),Pn==="bottom"||Pn==="right"?jn=Math.min(jn,Or?gn.top:gn.left):jn=-1/0,Pn==="top"||Pn==="left"?qn=Math.max(qn,Or?gn.bottom:gn.right):qn=1/0)}});for(var si in It._plots){var ti=It._plots[si];if(!(Ye._id!==ti.xaxis._id&&Ye._id!==ti.yaxis._id)){var ei=Or?ti.yaxis:ti.xaxis;ei&&(ei["_visibleLabelMin_"+Ye._id]=jn,ei["_visibleLabelMax_"+Ye._id]=qn)}}}},Ye._hideCounterAxisInsideTickLabels=function(xr){var Ar=Ye._id.charAt(0)==="x",Or=[];for(var Br in It._plots){var qr=It._plots[Br];Ye._id!==qr.xaxis._id&&Ye._id!==qr.yaxis._id||Or.push(Ar?qr.yaxis:qr.xaxis)}Or.forEach(function(vn,fn){vn&&$t(vn)&&(xr||[O,B,Y,W,H]).forEach(function(Tn){var Pn=Tn.K==="tick"&&Tn.L==="text"&&Ye.ticklabelmode==="period",jn=It._plots[Ye._mainSubplot],qn;Tn.K===O.K?qn=jn.zerolinelayer.selectAll("."+Ye._id+"zl"):Tn.K===B.K?qn=jn.minorGridlayer.selectAll("."+Ye._id):Tn.K===Y.K?qn=jn.gridlayer.selectAll("."+Ye._id):qn=jn[Ye._id.charAt(0)+"axislayer"],qn.each(function(){var si=h.select(this);Tn.L&&(si=si.selectAll(Tn.L)),si.each(function(ti){var ei=Ye.l2p(Pn?Ut(ti):ti.x)+Ye._offset,Mr=h.select(this);ei<Ye["_visibleLabelMax_"+vn._id]&&ei>Ye["_visibleLabelMin_"+vn._id]?Mr.style("display","none"):Tn.K==="tick"&&!fn&&Mr.style("display",null)})})})})},Vr(pr,dr+1?dr:fr);function _r(){return vr.length&&Promise.all(vr)}var kr=null;function pn(){if(Vr(pr,fr),rr.length&&nr==="x"&&!E(fr)&&(Ye.type!=="log"||String(Ye.dtick).charAt(0)!=="D")){kr=0;var xr=0,Ar=[],Or;if(pr.each(function(gn){xr=Math.max(xr,gn.fontSize);var Nn=Ye.l2p(gn.x),En=br(this),Cn=l.bBox(En.node());Ar.push({top:0,bottom:10,height:10,left:Nn-Cn.width/2,right:Nn+Cn.width/2+2,width:Cn.width+2})}),(Ye.tickson==="boundaries"||Ye.showdividers)&&!Dt.secondary){var Br=2;for(Ye.ticks&&(Br+=Ye.tickwidth/2),Or=0;Or<Ar.length;Or++){var qr=rr[Or].xbnd,vn=Ar[Or];if(qr[0]!==null&&vn.left-Ye.l2p(qr[0])<Br||qr[1]!==null&&Ye.l2p(qr[1])-vn.right<Br){kr=90;break}}}else{var fn=rr.length,Tn=Math.abs((rr[fn-1].x-rr[0].x)*Ye._m)/(fn-1),Pn=Ye.ticklabelposition||"",jn=function(gn){return Pn.indexOf(gn)!==-1},qn=jn("top"),si=jn("left"),ti=jn("right"),ei=jn("bottom"),Mr=ei||si||qn||ti,on=Mr?(Ye.tickwidth||0)+2*de:0,nn=Tn<xr*2.5||Ye.type==="multicategory"||Ye._name==="realaxis";for(Or=0;Or<Ar.length-1;Or++)if(w.bBoxIntersect(Ar[Or],Ar[Or+1],on)){kr=nn?90:30;break}}kr&&Vr(pr,kr)}}Ye._selections&&(Ye._selections[lr]=pr);var Xr=[_r];Ye.automargin&&It._redrawFromAutoMarginCount&&dr===90?(kr=90,Xr.push(function(){Vr(pr,dr)})):Xr.push(pn),Ye._tickAngles&&Xr.push(function(){Ye._tickAngles[lr]=kr===null?E(fr)?fr:0:kr});var _n=Ye._anchorAxis;_n&&_n.autorange&&$t(Ye)&&!ne(It,Ye._id)&&(It._insideTickLabelsAutorange||(It._insideTickLabelsAutorange={}),It._insideTickLabelsAutorange[_n._name+".autorange"]=_n.autorange,Xr.push(function(){pr.each(function(Ar,Or){var Br=br(this),qr=Br.select(".text-math-group");qr.empty()&&(Ye._vals[Or].bb=l.bBox(Br.node()))})}));var Dn=w.syncOrAsync(Xr);return Dn&&Dn.then&&Ze._promises.push(Dn),Dn};function Kt(Ze,Ye,Dt){var It=Ye._id+"divider",Zt=Dt.vals,nr=Dt.layer.selectAll("path."+It).data(Zt,Lt);nr.exit().remove(),nr.enter().insert("path",":first-child").classed(It,1).classed("crisp",1).call(r.stroke,Ye.dividercolor).style("stroke-width",l.crispRound(Ze,Ye.dividerwidth,1)+"px"),nr.attr("transform",Dt.transFn).attr("d",Dt.path)}ee.getPxPosition=function(Ze,Ye){var Dt=Ze._fullLayout._size,It=Ye._id.charAt(0),Zt=Ye.side,nr;if(Ye.anchor!=="free"?nr=Ye._anchorAxis:It==="x"?nr={_offset:Dt.t+(1-(Ye.position||0))*Dt.h,_length:0}:It==="y"&&(nr={_offset:Dt.l+(Ye.position||0)*Dt.w+Ye._shift,_length:0}),Zt==="top"||Zt==="left")return nr._offset;if(Zt==="bottom"||Zt==="right")return nr._offset+nr._length};function ar(Ze){var Ye=Ze.title.font.size,Dt=(Ze.title.text.match(m.BR_TAG_ALL)||[]).length;return Ze.title.hasOwnProperty("standoff")?Dt?Ye*(re+Dt*ae):Ye*re:Dt?Ye*(Dt+1)*ae:Ye}function Fr(Ze,Ye){var Dt=Ze._fullLayout,It=Ye._id,Zt=It.charAt(0),nr=Ye.title.font.size,lr;if(Ye.title.hasOwnProperty("standoff"))lr=Ye._depth+Ye.title.standoff+ar(Ye);else{var rr=$t(Ye);if(Ye.type==="multicategory")lr=Ye._depth;else{var zt=1.5*nr;rr&&(zt=.5*nr,Ye.ticks==="outside"&&(zt+=Ye.ticklen)),lr=10+zt+(Ye.linewidth?Ye.linewidth-1:0)}rr||(Zt==="x"?lr+=Ye.side==="top"?nr*(Ye.showticklabels?1:0):nr*(Ye.showticklabels?1.5:.5):lr+=Ye.side==="right"?nr*(Ye.showticklabels?1:.5):nr*(Ye.showticklabels?.5:0))}var fr=ee.getPxPosition(Ze,Ye),dr,pr,vr;Zt==="x"?(pr=Ye._offset+Ye._length/2,vr=Ye.side==="top"?fr-lr:fr+lr):(vr=Ye._offset+Ye._length/2,pr=Ye.side==="right"?fr+lr:fr-lr,dr={rotate:"-90",offset:0});var Vr;if(Ye.type!=="multicategory"){var _r=Ye._selections[Ye._id+"tick"];if(Vr={selection:_r,side:Ye.side},_r&&_r.node()&&_r.node().parentNode){var kr=l.getTranslate(_r.node().parentNode);Vr.offsetLeft=kr.x,Vr.offsetTop=kr.y}Ye.title.hasOwnProperty("standoff")&&(Vr.pad=0)}return Ye._titleStandoff=lr,t.draw(Ze,It+"title",{propContainer:Ye,propName:Ye._name+".title.text",placeholder:Dt._dfltTitle[Zt],avoid:Vr,transform:dr,attributes:{x:pr,y:vr,"text-anchor":"middle"}})}ee.shouldShowZeroLine=function(Ze,Ye,Dt){var It=w.simpleMap(Ye.range,Ye.r2l);return It[0]*It[1]<=0&&Ye.zeroline&&(Ye.type==="linear"||Ye.type==="-")&&!(Ye.rangebreaks&&Ye.maskBreaks(0)===N)&&(yt(Ye,0)||!Xt(Ze,Ye,Dt,It)||Yt(Ze,Ye))},ee.clipEnds=function(Ze,Ye){return Ye.filter(function(Dt){return yt(Ze,Dt.x)})};function yt(Ze,Ye){var Dt=Ze.l2p(Ye);return Dt>1&&Dt<Ze._length-1}function Xt(Ze,Ye,Dt,It){var Zt=Dt._mainAxis;if(!Zt)return;var nr=Ze._fullLayout,lr=Ye._id.charAt(0),rr=ee.counterLetter(Ye._id),zt=Ye._offset+(Math.abs(It[0])<Math.abs(It[1])==(lr==="x")?0:Ye._length);function fr(_r){if(!_r.showline||!_r.linewidth)return!1;var kr=Math.max((_r.linewidth+Ye.zerolinewidth)/2,1);function pn(Dn){return typeof Dn=="number"&&Math.abs(Dn-zt)<kr}if(pn(_r._mainLinePosition)||pn(_r._mainMirrorPosition))return!0;var Xr=_r._linepositions||{};for(var _n in Xr)if(pn(Xr[_n][0])||pn(Xr[_n][1]))return!0}var dr=nr._plots[Dt._mainSubplot];if(!(dr.mainplotinfo||dr).overlays.length)return fr(Dt);for(var pr=ee.list(Ze,rr),vr=0;vr<pr.length;vr++){var Vr=pr[vr];if(Vr._mainAxis===Zt&&fr(Vr))return!0}}function Yt(Ze,Ye){for(var Dt=Ze._fullData,It=Ye._mainSubplot,Zt=Ye._id.charAt(0),nr=0;nr<Dt.length;nr++){var lr=Dt[nr];if(lr.visible===!0&&lr.xaxis+lr.yaxis===It&&(L.traceIs(lr,"bar-like")&&lr.orientation==={x:"h",y:"v"}[Zt]||lr.fill&&lr.fill.charAt(lr.fill.length-1)===Zt))return!0}return!1}function br(Ze){var Ye=h.select(Ze),Dt=Ye.select(".text-math-group");return Dt.empty()?Ye.select("text"):Dt}ee.allowAutoMargin=function(Ze){for(var Ye=ee.list(Ze,"",!0),Dt=0;Dt<Ye.length;Dt++){var It=Ye[Dt];It.automargin&&(n.allowAutoMargin(Ze,hr(It)),It.mirror&&n.allowAutoMargin(Ze,ut(It))),L.getComponentMethod("rangeslider","isVisible")(It)&&n.allowAutoMargin(Ze,lt(It))}};function hr(Ze){return Ze._id+".automargin"}function ut(Ze){return hr(Ze)+".mirror"}function lt(Ze){return Ze._id+".rangeslider"}ee.swap=function(Ze,Ye){for(var Dt=xt(Ze,Ye),It=0;It<Dt.length;It++)Et(Ze,Dt[It].x,Dt[It].y)};function xt(Ze,Ye){var Dt=[],It,Zt;for(It=0;It<Ye.length;It++){var nr=[],lr=Ze._fullData[Ye[It]].xaxis,rr=Ze._fullData[Ye[It]].yaxis;if(!(!lr||!rr)){for(Zt=0;Zt<Dt.length;Zt++)(Dt[Zt].x.indexOf(lr)!==-1||Dt[Zt].y.indexOf(rr)!==-1)&&nr.push(Zt);if(!nr.length){Dt.push({x:[lr],y:[rr]});continue}var zt=Dt[nr[0]],fr;if(nr.length>1)for(Zt=1;Zt<nr.length;Zt++)fr=Dt[nr[Zt]],Tt(zt.x,fr.x),Tt(zt.y,fr.y);Tt(zt.x,[lr]),Tt(zt.y,[rr])}}return Dt}function Tt(Ze,Ye){for(var Dt=0;Dt<Ye.length;Dt++)Ze.indexOf(Ye[Dt])===-1&&Ze.push(Ye[Dt])}function Et(Ze,Ye,Dt){var It=[],Zt=[],nr=Ze.layout,lr,rr;for(lr=0;lr<Ye.length;lr++)It.push(ee.getFromId(Ze,Ye[lr]));for(lr=0;lr<Dt.length;lr++)Zt.push(ee.getFromId(Ze,Dt[lr]));var zt=Object.keys(i),fr=["anchor","domain","overlaying","position","side","tickangle","editType"],dr=["linear","log"];for(lr=0;lr<zt.length;lr++){var pr=zt[lr],vr=It[0][pr],Vr=Zt[0][pr],_r=!0,kr=!1,pn=!1;if(!(pr.charAt(0)==="_"||typeof vr=="function"||fr.indexOf(pr)!==-1)){for(rr=1;rr<It.length&&_r;rr++){var Xr=It[rr][pr];pr==="type"&&dr.indexOf(vr)!==-1&&dr.indexOf(Xr)!==-1&&vr!==Xr?kr=!0:Xr!==vr&&(_r=!1)}for(rr=1;rr<Zt.length&&_r;rr++){var _n=Zt[rr][pr];pr==="type"&&dr.indexOf(Vr)!==-1&&dr.indexOf(_n)!==-1&&Vr!==_n?pn=!0:Zt[rr][pr]!==Vr&&(_r=!1)}_r&&(kr&&(nr[It[0]._name].type="linear"),pn&&(nr[Zt[0]._name].type="linear"),At(nr,pr,It,Zt,Ze._fullLayout._dfltTitle))}}for(lr=0;lr<Ze._fullLayout.annotations.length;lr++){var Dn=Ze._fullLayout.annotations[lr];Ye.indexOf(Dn.xref)!==-1&&Dt.indexOf(Dn.yref)!==-1&&w.swapAttrs(nr.annotations[lr],["?"])}}function At(Ze,Ye,Dt,It,Zt){var nr=w.nestedProperty,lr=nr(Ze[Dt[0]._name],Ye).get(),rr=nr(Ze[It[0]._name],Ye).get(),zt;for(Ye==="title"&&(lr&&lr.text===Zt.x&&(lr.text=Zt.y),rr&&rr.text===Zt.y&&(rr.text=Zt.x)),zt=0;zt<Dt.length;zt++)nr(Ze,Dt[zt]._name+"."+Ye).set(rr);for(zt=0;zt<It.length;zt++)nr(Ze,It[zt]._name+"."+Ye).set(lr)}function Ft(Ze){return Ze._id==="angularaxis"}function Ht(Ze,Ye){for(var Dt=Ye._rangebreaks.length,It=0;It<Dt;It++){var Zt=Ye._rangebreaks[It];if(Ze>=Zt.min&&Ze<Zt.max)return Zt.max}return Ze}function $t(Ze){return(Ze.ticklabelposition||"").indexOf("inside")!==-1}function Qt(Ze,Ye){$t(Ze._anchorAxis||{})&&Ze._hideCounterAxisInsideTickLabels&&Ze._hideCounterAxisInsideTickLabels(Ye)}function or(Ze,Ye,Dt,It){var Zt=Ze.anchor!=="free"&&(Ze.overlaying===void 0||Ze.overlaying===!1)?Ze._id:Ze.overlaying,nr;It?nr=Ze.side==="right"?Ye:-Ye:nr=Ye,Zt in Dt||(Dt[Zt]={}),Ze.side in Dt[Zt]||(Dt[Zt][Ze.side]=0),Dt[Zt][Ze.side]+=nr}function Er(Ze,Ye){return Ze.autoshift?Ye[Ze.overlaying][Ze.side]:Ze.shift||0}},4322:function(k,F,e){var h=e(92770),E=e(71828),n=e(50606).BADNUM,L=E.isArrayOrTypedArray,w=E.isDateTime,p=E.cleanNumber,m=Math.round;k.exports=function(x,d,M){var g=x,u=M.noMultiCategory;if(L(g)&&!g.length)return"-";if(!u&&v(g))return"multicategory";if(u&&Array.isArray(g[0])){for(var y=[],C=0;C<g.length;C++)if(L(g[C]))for(var S=0;S<g[C].length;S++)y.push(g[C][S]);g=y}if(l(g,d))return"date";var D=M.autotypenumbers!=="strict";return f(g,D)?"category":r(g,D)?"linear":"-"};function t(c,x){return x?h(c):typeof c=="number"}function r(c,x){for(var d=c.length,M=0;M<d;M++)if(t(c[M],x))return!0;return!1}function l(c,x){for(var d=c.length,M=i(d),g=0,u=0,y={},C=0;C<d;C+=M){var S=m(C),D=c[S],T=String(D);y[T]||(y[T]=1,w(D,x)&&g++,h(D)&&u++)}return g>u*2}function i(c){return Math.max(1,(c-1)/1e3)}function f(c,x){for(var d=c.length,M=i(d),g=0,u=0,y={},C=0;C<d;C+=M){var S=m(C),D=c[S],T=String(D);if(!y[T]){y[T]=1;var P=typeof D;P==="boolean"?u++:(x?p(D)!==n:P==="number")?g++:P==="string"&&u++}}return u>g*2}function v(c){return L(c[0])&&L(c[1])}},71453:function(k,F,e){var h=e(92770),E=e(73972),n=e(71828),L=e(44467),w=e(85501),p=e(13838),m=e(26218),t=e(38701),r=e(96115),l=e(89426),i=e(15258),f=e(92128),v=e(23074),c=e(21994),x=e(85555).WEEKDAY_PATTERN,d=e(85555).HOUR_PATTERN;k.exports=function(C,S,D,T,P){var A=T.letter,a=T.font||{},R=T.splomStash||{},b=D("visible",!T.visibleDflt),N=S._template||{},O=S.type||N.type||"-",Y;if(O==="date"){var B=E.getComponentMethod("calendars","handleDefaults");B(C,S,"calendar",T.calendar),T.noTicklabelmode||(Y=D("ticklabelmode"))}var W="";(!T.noTicklabelposition||O==="multicategory")&&(W=n.coerce(C,S,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:Y==="period"?["outside","inside"]:A==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),T.noTicklabeloverflow||D("ticklabeloverflow",W.indexOf("inside")!==-1?"hide past domain":O==="category"||O==="multicategory"?"allow":"hide past div"),c(S,P),D("minallowed"),D("maxallowed");var H=D("range"),U=S.getAutorangeDflt(H,T),G=D("autorange",U),j;H&&(H[0]===null&&H[1]===null||(H[0]===null||H[1]===null)&&(G==="reversed"||G===!0)||H[0]!==null&&(G==="min"||G==="max reversed")||H[1]!==null&&(G==="max"||G==="min reversed"))&&(H=void 0,delete S.range,S.autorange=!0,j=!0),j||(U=S.getAutorangeDflt(H,T),G=D("autorange",U)),G&&(v(D,G,H),(O==="linear"||O==="-")&&D("rangemode")),S.cleanRange(),i(C,S,D,T),O!=="category"&&!T.noHover&&D("hoverformat");var re=D("color"),ae=re!==p.color.dflt?re:a.color,ue=R.label||P._dfltTitle[A];if(l(C,S,D,O,T),!b)return S;D("title.text",ue),n.coerceFont(D,"title.font",{family:a.family,size:n.bigFont(a.size),color:ae}),m(C,S,D,O);var de=T.hasMinor;if(de&&(L.newContainer(S,"minor"),m(C,S,D,O,{isMinor:!0})),r(C,S,D,O,T),t(C,S,D,T),de){var ee=T.isMinor;T.isMinor=!0,t(C,S,D,T),T.isMinor=ee}f(C,S,D,{dfltColor:re,bgColor:T.bgColor,showGrid:T.showGrid,hasMinor:de,attributes:p}),de&&!S.minor.ticks&&!S.minor.showgrid&&delete S.minor,(S.showline||S.ticks)&&D("mirror");var X=O==="multicategory";if(!T.noTickson&&(O==="category"||X)&&(S.ticks||S.showgrid)){var Q;X&&(Q="boundaries");var $=D("tickson",Q);$==="boundaries"&&delete S.ticklabelposition}if(X){var ne=D("showdividers");ne&&(D("dividercolor"),D("dividerwidth"))}if(O==="date")if(w(C,S,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:M}),!S.rangebreaks.length)delete S.rangebreaks;else{for(var fe=0;fe<S.rangebreaks.length;fe++)if(S.rangebreaks[fe].pattern===x){S._hasDayOfWeekBreaks=!0;break}if(c(S,P),P._has("scattergl")||P._has("splom"))for(var te=0;te<T.data.length;te++){var q=T.data[te];(q.type==="scattergl"||q.type==="splom")&&(q.visible=!1,n.warn(q.type+" traces do not work on axes with rangebreaks. Setting trace "+q.index+" to `visible: false`."))}}return S};function M(y,C,S){function D(Y,B){return n.coerce(y,C,p.rangebreaks,Y,B)}var T=D("enabled");if(T){var P=D("bounds");if(P&&P.length>=2){var A="",a,R;if(P.length===2){for(a=0;a<2;a++)if(R=u(P[a]),R){A=x;break}}var b=D("pattern",A);if(b===x)for(a=0;a<2;a++)R=u(P[a]),R&&(C.bounds[a]=P[a]=R-1);if(b)for(a=0;a<2;a++)switch(R=P[a],b){case x:if(!h(R)){C.enabled=!1;return}if(R=+R,R!==Math.floor(R)||R<0||R>=7){C.enabled=!1;return}C.bounds[a]=P[a]=R;break;case d:if(!h(R)){C.enabled=!1;return}if(R=+R,R<0||R>24){C.enabled=!1;return}C.bounds[a]=P[a]=R;break}if(S.autorange===!1){var N=S.range;if(N[0]<N[1]){if(P[0]<N[0]&&P[1]>N[1]){C.enabled=!1;return}}else if(P[0]>N[0]&&P[1]<N[1]){C.enabled=!1;return}}}else{var O=D("values");if(O&&O.length)D("dvalue");else{C.enabled=!1;return}}}}var g={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function u(y){if(typeof y=="string")return g[y.substr(0,3).toLowerCase()]}},12663:function(k,F,e){var h=e(31562),E=h.FORMAT_LINK,n=h.DATE_FORMAT_LINK;function L(m,t){return{valType:"string",dflt:"",editType:"none",description:(t?w:p)("hover text",m)+["By default the values are formatted using "+(t?"generic number format":"`"+m+"axis.hoverformat`")+"."].join(" ")}}function w(m,t){return["Sets the "+m+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+E+"."].join(" ")}function p(m,t){return w(m,t)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}k.exports={axisHoverFormat:L,descriptionOnlyNumbers:w,descriptionWithDates:p}},41675:function(k,F,e){var h=e(73972),E=e(85555);F.id2name=function(w){if(!(typeof w!="string"||!w.match(E.AX_ID_PATTERN))){var p=w.split(" ")[0].substr(1);return p==="1"&&(p=""),w.charAt(0)+"axis"+p}},F.name2id=function(w){if(w.match(E.AX_NAME_PATTERN)){var p=w.substr(5);return p==="1"&&(p=""),w.charAt(0)+p}},F.cleanId=function(w,p,m){var t=/( domain)$/.test(w);if(!(typeof w!="string"||!w.match(E.AX_ID_PATTERN))&&!(p&&w.charAt(0)!==p)&&!(t&&!m)){var r=w.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),w.charAt(0)+r+(t&&m?" domain":"")}},F.list=function(L,w,p){var m=L._fullLayout;if(!m)return[];var t=F.listIds(L,w),r=new Array(t.length),l;for(l=0;l<t.length;l++){var i=t[l];r[l]=m[i.charAt(0)+"axis"+i.substr(1)]}if(!p){var f=m._subplots.gl3d||[];for(l=0;l<f.length;l++){var v=m[f[l]];w?r.push(v[w+"axis"]):r.push(v.xaxis,v.yaxis,v.zaxis)}}return r},F.listIds=function(L,w){var p=L._fullLayout;if(!p)return[];var m=p._subplots;return w?m[w+"axis"]:m.xaxis.concat(m.yaxis)},F.getFromId=function(L,w,p){var m=L._fullLayout;return w=w===void 0||typeof w!="string"?w:w.replace(" domain",""),p==="x"?w=w.replace(/y[0-9]*/,""):p==="y"&&(w=w.replace(/x[0-9]*/,"")),m[F.id2name(w)]},F.getFromTrace=function(L,w,p){var m=L._fullLayout,t=null;if(h.traceIs(w,"gl3d")){var r=w.scene;r.substr(0,5)==="scene"&&(t=m[r][p+"axis"])}else t=F.getFromId(L,w[p+"axis"]||p);return t},F.idSort=function(L,w){var p=L.charAt(0),m=w.charAt(0);return p!==m?p>m?1:-1:+(L.substr(1)||1)-+(w.substr(1)||1)},F.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function n(L,w){if(w&&w.length){for(var p=0;p<w.length;p++)if(w[p][L])return!0}return!1}F.isLinked=function(L,w){return n(w,L._axisMatchGroups)||n(w,L._axisConstraintGroups)}},15258:function(k){function F(e,h){var E=h.dataAttr||e._id.charAt(0),n={},L,w,p;if(h.axData)L=h.axData;else for(L=[],w=0;w<h.data.length;w++){var m=h.data[w];m[E+"axis"]===e._id&&L.push(m)}for(w=0;w<L.length;w++){var t=L[w][E];for(p=0;p<t.length;p++){var r=t[p];r!=null&&(n[r]=1)}}return Object.keys(n)}k.exports=function(h,E,n,L){if(E.type==="category"){var w=h.categoryarray,p=Array.isArray(w)&&w.length>0,m;p&&(m="array");var t=n("categoryorder",m),r;t==="array"&&(r=n("categoryarray")),!p&&t==="array"&&(t=E.categoryorder="trace"),t==="trace"?E._initialCategories=[]:t==="array"?E._initialCategories=r.slice():(r=F(E,L).sort(),t==="category ascending"?E._initialCategories=r:t==="category descending"&&(E._initialCategories=r.reverse()))}}},66287:function(k,F,e){var h=e(92770),E=e(71828),n=e(50606),L=n.ONEDAY,w=n.ONEWEEK;F.dtick=function(p,m){var t=m==="log",r=m==="date",l=m==="category",i=r?L:1;if(!p)return i;if(h(p))return p=Number(p),p<=0?i:l?Math.max(1,Math.round(p)):r?Math.max(.1,p):p;if(typeof p!="string"||!(r||t))return i;var f=p.charAt(0),v=p.substr(1);return v=h(v)?Number(v):0,v<=0||!(r&&f==="M"&&v===Math.round(v)||t&&f==="L"||t&&f==="D"&&(v===1||v===2))?i:p},F.tick0=function(p,m,t,r){if(m==="date")return E.cleanDate(p,E.dateTick0(t,r%w===0?1:0));if(!(r==="D1"||r==="D2"))return h(p)?Number(p):0}},85555:function(k,F,e){var h=e(30587).counter;k.exports={idRegex:{x:h("x","( domain)?"),y:h("y","( domain)?")},attrRegex:h("[xy]axis"),xAxisMatch:h("xaxis"),yAxisMatch:h("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(k,F,e){var h=e(71828),E=e(71739),n=e(41675).id2name,L=e(13838),w=e(42449),p=e(21994),m=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;F.handleDefaults=function(d,M,g){var u=g.axIds,y=g.axHasImage,C=M._axisConstraintGroups=[],S=M._axisMatchGroups=[],D,T,P,A,a,R,b,N;for(D=0;D<u.length;D++)A=n(u[D]),a=d[A],R=M[A],r(a,R,{axIds:u,layoutOut:M,hasImage:y[A]});function O(ae,ue){for(D=0;D<ae.length;D++){T=ae[D];for(P in T)M[n(P)][ue]=T}}for(O(S,"_matchGroup"),D=0;D<C.length;D++){T=C[D];for(P in T)if(R=M[n(P)],R.fixedrange){for(var Y in T){var B=n(Y);(d[B]||{}).fixedrange===!1&&h.warn("fixedrange was specified as false for axis "+B+" but was overridden because another axis in its constraint group has fixedrange true"),M[B].fixedrange=!0}break}}for(D=0;D<C.length;){T=C[D];for(P in T){R=M[n(P)],R._matchGroup&&Object.keys(R._matchGroup).length===Object.keys(T).length&&(C.splice(D,1),D--);break}D++}O(C,"_constraintGroup");var W=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],H=!1,U=!1;function G(){N=R[b],b==="rangebreaks"&&(U=R._hasDayOfWeekBreaks)}for(D=0;D<S.length;D++){T=S[D];for(var j=0;j<W.length;j++){b=W[j],N=null;var re;for(P in T)if(A=n(P),a=d[A],R=M[A],b in R){if(!R.matches&&(re=R,b in a)){G();break}N===null&&b in a&&G()}if(b==="range"&&N&&a.range&&a.range.length===2&&a.range[0]!==null&&a.range[1]!==null&&(H=!0),b==="autorange"&&N===null&&H&&(N=!1),N===null&&b in re&&(N=re[b]),N!==null)for(P in T)R=M[n(P)],R[b]=b==="range"?N.slice():N,b==="rangebreaks"&&(R._hasDayOfWeekBreaks=U,p(R,M))}}};function r(d,M,g){var u=g.axIds,y=g.layoutOut,C=g.hasImage,S=y._axisConstraintGroups,D=y._axisMatchGroups,T=M._id,P=T.charAt(0),A=((y._splomAxes||{})[P]||{})[T]||{},a=M._id,R=a.charAt(0)==="x";M._matchGroup=null,M._constraintGroup=null;function b(X,Q){return h.coerce(d,M,L,X,Q)}b("constrain",C?"domain":"range"),h.coerce(d,M,{constraintoward:{valType:"enumerated",values:R?["left","center","right"]:["bottom","middle","top"],dflt:R?"center":"middle"}},"constraintoward");var N=M.type,O,Y,B=[];for(O=0;O<u.length;O++)if(Y=u[O],Y!==a){var W=y[n(Y)];W.type===N&&B.push(Y)}var H=i(S,a);if(H){var U=[];for(O=0;O<B.length;O++)Y=B[O],H[Y]||U.push(Y);B=U}var G=B.length,j,re;G&&(d.matches||A.matches)&&(j=h.coerce(d,M,{matches:{valType:"enumerated",values:B,dflt:B.indexOf(A.matches)!==-1?A.matches:void 0}},"matches"));var ae=C&&!R?M.anchor:void 0;if(G&&!j&&(d.scaleanchor||ae)&&(re=h.coerce(d,M,{scaleanchor:{valType:"enumerated",values:B.concat([!1])}},"scaleanchor",ae)),j){M._matchGroup=f(D,a,j,1);var ue=y[n(j)],de=l(y,M)/l(y,ue);R!==(j.charAt(0)==="x")&&(de=(R?"x":"y")+de),f(S,a,j,de)}else d.matches&&u.indexOf(d.matches)!==-1&&h.warn("ignored "+M._name+'.matches: "'+d.matches+'" to avoid an infinite loop');if(re){var ee=b("scaleratio");ee||(ee=M.scaleratio=1),f(S,a,re,ee)}else d.scaleanchor&&u.indexOf(d.scaleanchor)!==-1&&h.warn("ignored "+M._name+'.scaleanchor: "'+d.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function l(d,M){var g=M.domain;return g||(g=d[n(M.overlaying)].domain),g[1]-g[0]}function i(d,M){for(var g=0;g<d.length;g++)if(d[g][M])return d[g];return null}function f(d,M,g,u){var y,C,S,D,T,P=i(d,M);P===null?(P={},P[M]=1,T=d.length,d.push(P)):T=d.indexOf(P);var A=Object.keys(P);for(y=0;y<d.length;y++)if(S=d[y],y!==T&&S[g]){var a=S[g];for(C=0;C<A.length;C++)D=A[C],S[D]=v(a,v(u,P[D]));d.splice(T,1);return}if(u!==1)for(C=0;C<A.length;C++){var R=A[C];P[R]=v(u,P[R])}P[g]=1}function v(d,M){var g="",u="",y,C;typeof d=="string"&&(g=d.match(/^[xy]*/)[0],y=g.length,d=+d.substr(y)),typeof M=="string"&&(u=M.match(/^[xy]*/)[0],C=u.length,M=+M.substr(C));var S=d*M;return!y&&!C?S:!y||!C||g.charAt(0)===u.charAt(0)?g+u+d*M:y===C?S:(y>C?g.substr(C):u.substr(y))+S}function c(d,M){for(var g=M._size,u=g.h/g.w,y={},C=Object.keys(d),S=0;S<C.length;S++){var D=C[S],T=d[D];if(typeof T=="string"){var P=T.match(/^[xy]*/)[0],A=P.length;T=+T.substr(A);for(var a=P.charAt(0)==="y"?u:1/u,R=0;R<A;R++)T*=a}y[D]=T}return y}F.enforce=function(M){var g=M._fullLayout,u=g._axisConstraintGroups||[],y,C,S,D,T,P,A,a;for(y=0;y<u.length;y++){S=c(u[y],g);var R=Object.keys(S),b=1/0,N=0,O=1/0,Y={},B={},W=!1;for(C=0;C<R.length;C++)D=R[C],B[D]=T=g[n(D)],T._inputDomain?T.domain=T._inputDomain.slice():T._inputDomain=T.domain.slice(),T._inputRange||(T._inputRange=T.range.slice()),T.setScale(),Y[D]=P=Math.abs(T._m)/S[D],b=Math.min(b,P),(T.constrain==="domain"||!T._constraintShrinkable)&&(O=Math.min(O,P)),delete T._constraintShrinkable,N=Math.max(N,P),T.constrain==="domain"&&(W=!0);if(!(b>m*N&&!W)){for(C=0;C<R.length;C++)if(D=R[C],P=Y[D],T=B[D],A=T.constrain,P!==O||A==="domain")if(a=P/O,A==="range")w(T,a);else{var H=T._inputDomain,U=(T.domain[1]-T.domain[0])/(H[1]-H[0]),G=(T.r2l(T.range[1])-T.r2l(T.range[0]))/(T.r2l(T._inputRange[1])-T.r2l(T._inputRange[0]));if(a/=U,a*G<1){T.domain=T._input.domain=H.slice(),w(T,a);continue}if(G<1&&(T.range=T._input.range=T._inputRange.slice(),a*=G),T.autorange){var j=T.r2l(T.range[0]),re=T.r2l(T.range[1]),ae=(j+re)/2,ue=ae,de=ae,ee=Math.abs(re-ae),X=ae-ee*a*1.0001,Q=ae+ee*a*1.0001,$=E.makePadFn(g,T,0),ne=E.makePadFn(g,T,1);x(T,a);var fe=Math.abs(T._m),te=E.concatExtremes(M,T),q=te.min,he=te.max,se,pe;for(pe=0;pe<q.length;pe++)se=q[pe].val-$(q[pe])/fe,se>X&&se<ue&&(ue=se);for(pe=0;pe<he.length;pe++)se=he[pe].val+ne(he[pe])/fe,se<Q&&se>de&&(de=se);var we=(de-ue)/(2*ee);a/=we,ue=T.l2r(ue),de=T.l2r(de),T.range=T._input.range=j<re?[ue,de]:[de,ue]}x(T,a)}}}},F.getAxisGroup=function(M,g){for(var u=M._axisMatchGroups,y=0;y<u.length;y++){var C=u[y];if(C[g])return"g"+y}return g},F.clean=function(M,g){if(g._inputDomain){for(var u=!1,y=g._id,C=M._fullLayout._axisConstraintGroups,S=0;S<C.length;S++)if(C[S][y]){u=!0;break}(!u||g.constrain!=="domain")&&(g._input.domain=g.domain=g._inputDomain,delete g._inputDomain)}};function x(d,M){var g=d._inputDomain,u=t[d.constraintoward],y=g[0]+(g[1]-g[0])*u;d.domain=d._input.domain=[y+(g[0]-y)/M,y+(g[1]-y)/M],d.setScale()}},29323:function(k,F,e){var h=e(39898),E=e(71828),n=E.numberFormat,L=e(84267),w=e(38520),p=e(73972),m=E.strTranslate,t=e(63893),r=e(7901),l=e(91424),i=e(30211),f=e(89298),v=e(6964),c=e(28569),x=e(64505),d=x.selectingOrDrawing,M=x.freeMode,g=e(18783).FROM_TL,u=e(33306),y=e(61549).redrawReglTraces,C=e(74875),S=e(41675).getFromId,D=e(47322).prepSelect,T=e(47322).clearOutline,P=e(47322).selectOnClick,A=e(42449),a=e(85555),R=a.MINDRAG,b=a.MINZOOM,N=!0;function O(se,pe,we,Ee,Me,Be,Ne,Ce){var Te=se._fullLayout._zoomlayer,Le=Ne+Ce==="nsew",Ve=(Ne+Ce).length===1,We,Fe,Ge,it,qe,$e,tt,vt,dt,gt,Mt,Ct,Wt,Xe,ke,Ie,Oe,_e,Ae,ce,be,Re,Ue;we+=pe.yaxis._shift;function nt(){if(We=pe.xaxis,Fe=pe.yaxis,dt=We._length,gt=Fe._length,tt=We._offset,vt=Fe._offset,Ge={},Ge[We._id]=We,it={},it[Fe._id]=Fe,Ne&&Ce)for(var rr=pe.overlays,zt=0;zt<rr.length;zt++){var fr=rr[zt].xaxis;Ge[fr._id]=fr;var dr=rr[zt].yaxis;it[dr._id]=dr}qe=he(Ge),$e=he(it),Wt=W(qe,Ce),Xe=W($e,Ne),ke=!Xe&&!Wt,Ct=te(se,se._fullLayout._axisMatchGroups,Ge,it),Mt=te(se,se._fullLayout._axisConstraintGroups,Ge,it,Ct);var pr=Mt.isSubplotConstrained||Ct.isSubplotConstrained;Ie=Ce||pr,Oe=Ne||pr;var vr=se._fullLayout;_e=vr._has("scattergl"),Ae=vr._has("splom"),ce=vr._has("svg")}nt();var ot=re(Xe+Wt,se._fullLayout.dragmode,Le),wt=B(pe,Ne+Ce+"drag",ot,we,Ee,Me,Be);if(ke&&!Le)return wt.onmousedown=null,wt.style.pointerEvents="none",wt;var _t={element:wt,gd:se,plotinfo:pe};_t.prepFn=function(rr,zt,fr){var dr=_t.dragmode,pr=se._fullLayout.dragmode;pr!==dr&&(_t.dragmode=pr),nt(),Re=se._fullLayout._invScaleX,Ue=se._fullLayout._invScaleY,ke||(Le?rr.shiftKey?pr==="pan"?pr="zoom":d(pr)||(pr="pan"):rr.ctrlKey&&(pr="pan"):pr="pan"),M(pr)?_t.minDrag=1:_t.minDrag=void 0,d(pr)?(_t.xaxes=qe,_t.yaxes=$e,D(rr,zt,fr,_t,pr)):(_t.clickFn=Vt,d(dr)&&Ut(),ke||(pr==="zoom"?(_t.moveFn=xt,_t.doneFn=Et,_t.minDrag=1,lt(rr,zt,fr)):pr==="pan"&&(_t.moveFn=or,_t.doneFn=Dt))),se._fullLayout._redrag=function(){var vr=se._dragdata;if(vr&&vr.element===wt){var Vr=se._fullLayout.dragmode;d(Vr)||(nt(),It([0,0,dt,gt]),_t.moveFn(vr.dx,vr.dy))}}};function Ut(){_t.plotinfo.selection=!1,T(se)}function Vt(rr,zt){var fr=_t.gd;if(fr._fullLayout._activeShapeIndex>=0){fr._fullLayout._deactivateShape(fr);return}var dr=fr._fullLayout.clickmode;if(X(fr),rr===2&&!Ve&&Ye(),Le)dr.indexOf("select")>-1&&P(zt,fr,qe,$e,pe.id,_t),dr.indexOf("event")>-1&&i.click(fr,zt,pe.id);else if(rr===1&&Ve){var pr=Ne?Fe:We,vr=Ne==="s"||Ce==="w"?0:1,Vr=pr._name+".range["+vr+"]",_r=H(pr,vr),kr="left",pn="middle";if(pr.fixedrange)return;Ne?(pn=Ne==="n"?"top":"bottom",pr.side==="right"&&(kr="right")):Ce==="e"&&(kr="right"),fr._context.showAxisRangeEntryBoxes&&h.select(wt).call(t.makeEditable,{gd:fr,immediate:!0,background:fr._fullLayout.paper_bgcolor,text:String(_r),fill:pr.tickfont?pr.tickfont.color:"#444",horizontalAlign:kr,verticalAlign:pn}).on("edit",function(Xr){var _n=pr.d2r(Xr);_n!==void 0&&p.call("_guiRelayout",fr,Vr,_n)})}}c.init(_t);var Lt,Kt,ar,Fr,yt,Xt,Yt,br,hr,ut;function lt(rr,zt,fr){var dr=wt.getBoundingClientRect();Lt=zt-dr.left,Kt=fr-dr.top,se._fullLayout._calcInverseTransform(se);var pr=E.apply3DTransform(se._fullLayout._invTransform)(Lt,Kt);Lt=pr[0],Kt=pr[1],ar={l:Lt,r:Lt,w:0,t:Kt,b:Kt,h:0},Fr=se._hmpixcount?se._hmlumcount/se._hmpixcount:L(se._fullLayout.plot_bgcolor).getLuminance(),yt="M0,0H"+dt+"V"+gt+"H0V0",Xt=!1,Yt="xy",ut=!1,br=ae(Te,Fr,tt,vt,yt),hr=ue(Te,tt,vt)}function xt(rr,zt){if(se._transitioningWithDuration)return!1;var fr=Math.max(0,Math.min(dt,Re*rr+Lt)),dr=Math.max(0,Math.min(gt,Ue*zt+Kt)),pr=Math.abs(fr-Lt),vr=Math.abs(dr-Kt);ar.l=Math.min(Lt,fr),ar.r=Math.max(Lt,fr),ar.t=Math.min(Kt,dr),ar.b=Math.max(Kt,dr);function Vr(){Yt="",ar.r=ar.l,ar.t=ar.b,hr.attr("d","M0,0Z")}if(Mt.isSubplotConstrained)pr>b||vr>b?(Yt="xy",pr/dt>vr/gt?(vr=pr*gt/dt,Kt>dr?ar.t=Kt-vr:ar.b=Kt+vr):(pr=vr*dt/gt,Lt>fr?ar.l=Lt-pr:ar.r=Lt+pr),hr.attr("d",fe(ar))):Vr();else if(Ct.isSubplotConstrained)if(pr>b||vr>b){Yt="xy";var _r=Math.min(ar.l/dt,(gt-ar.b)/gt),kr=Math.max(ar.r/dt,(gt-ar.t)/gt);ar.l=_r*dt,ar.r=kr*dt,ar.b=(1-_r)*gt,ar.t=(1-kr)*gt,hr.attr("d",fe(ar))}else Vr();else!Xe||vr<Math.min(Math.max(pr*.6,R),b)?pr<R||!Wt?Vr():(ar.t=0,ar.b=gt,Yt="x",hr.attr("d",$(ar,Kt))):!Wt||pr<Math.min(vr*.6,b)?(ar.l=0,ar.r=dt,Yt="y",hr.attr("d",ne(ar,Lt))):(Yt="xy",hr.attr("d",fe(ar)));ar.w=ar.r-ar.l,ar.h=ar.b-ar.t,Yt&&(ut=!0),se._dragged=ut,de(br,hr,ar,yt,Xt,Fr),Tt(),se.emit("plotly_relayouting",be),Xt=!0}function Tt(){be={},(Yt==="xy"||Yt==="x")&&(U(qe,ar.l/dt,ar.r/dt,be,Mt.xaxes),Er("x",be)),(Yt==="xy"||Yt==="y")&&(U($e,(gt-ar.b)/gt,(gt-ar.t)/gt,be,Mt.yaxes),Er("y",be))}function Et(){Tt(),X(se),Dt(),Q(se)}var At=[0,0,dt,gt],Ft=null,Ht=a.REDRAWDELAY,$t=pe.mainplot?se._fullLayout._plots[pe.mainplot]:pe;function Qt(rr){if(!se._context._scrollZoom.cartesian&&!se._fullLayout._enablescrollzoom)return;if(Ut(),se._transitioningWithDuration){rr.preventDefault(),rr.stopPropagation();return}nt(),clearTimeout(Ft);var zt=-rr.deltaY;if(isFinite(zt)||(zt=rr.wheelDelta/10),!isFinite(zt)){E.log("Did not find wheel motion attributes: ",rr);return}var fr=Math.exp(-Math.min(Math.max(zt,-20),20)/200),dr=$t.draglayer.select(".nsewdrag").node().getBoundingClientRect(),pr=(rr.clientX-dr.left)/dr.width,vr=(dr.bottom-rr.clientY)/dr.height,Vr;function _r(kr,pn,Xr){if(kr.fixedrange)return;var _n=E.simpleMap(kr.range,kr.r2l),Dn=_n[0]+(_n[1]-_n[0])*pn;function xr(Ar){return kr.l2r(Dn+(Ar-Dn)*Xr)}kr.range=_n.map(xr)}if(Ie){for(Ce||(pr=.5),Vr=0;Vr<qe.length;Vr++)_r(qe[Vr],pr,fr);Er("x"),At[2]*=fr,At[0]+=At[2]*pr*(1/fr-1)}if(Oe){for(Ne||(vr=.5),Vr=0;Vr<$e.length;Vr++)_r($e[Vr],vr,fr);Er("y"),At[3]*=fr,At[1]+=At[3]*(1-vr)*(1/fr-1)}It(At),Ze(),se.emit("plotly_relayouting",be),Ft=setTimeout(function(){se._fullLayout&&(At=[0,0,dt,gt],Dt())},Ht),rr.preventDefault()}Ne.length*Ce.length!==1&&q(wt,Qt);function or(rr,zt){if(rr=rr*Re,zt=zt*Ue,se._transitioningWithDuration)return;if(se._fullLayout._replotting=!0,Wt==="ew"||Xe==="ns"){var fr=Wt?-rr:0,dr=Xe?-zt:0;if(Ct.isSubplotConstrained){if(Wt&&Xe){var pr=(rr/dt-zt/gt)/2;rr=pr*dt,zt=-pr*gt,fr=-rr,dr=-zt}Xe?fr=-dr*dt/gt:dr=-fr*gt/dt}Wt&&(G(qe,rr),Er("x")),Xe&&(G($e,zt),Er("y")),It([fr,dr,dt,gt]),Ze(),se.emit("plotly_relayouting",be);return}function vr(xr,Ar,Or){for(var Br=1-Ar,qr,vn,fn=0;fn<xr.length;fn++){var Tn=xr[fn];if(!Tn.fixedrange){qr=Tn,vn=Tn._rl[Br]+(Tn._rl[Ar]-Tn._rl[Br])/j(Or/Tn._length);var Pn=Tn.l2r(vn);Pn!==!1&&Pn!==void 0&&(Tn.range[Ar]=Pn)}}return qr._length*(qr._rl[Ar]-vn)/(qr._rl[Ar]-qr._rl[Br])}var Vr=Wt==="w"==(Xe==="n")?1:-1;if(Wt&&Xe&&(Mt.isSubplotConstrained||Ct.isSubplotConstrained)){var _r=(rr/dt+Vr*zt/gt)/2;rr=_r*dt,zt=Vr*_r*gt}var kr,pn;if(Wt==="w"?rr=vr(qe,0,rr):Wt==="e"?rr=vr(qe,1,-rr):Wt||(rr=0),Xe==="n"?zt=vr($e,1,zt):Xe==="s"?zt=vr($e,0,-zt):Xe||(zt=0),kr=Wt==="w"?rr:0,pn=Xe==="n"?zt:0,Mt.isSubplotConstrained&&!Ct.isSubplotConstrained||Ct.isSubplotConstrained&&Wt&&Xe&&Vr>0){var Xr;if(Ct.isSubplotConstrained||!Wt&&Xe.length===1){for(Xr=0;Xr<qe.length;Xr++)qe[Xr].range=qe[Xr]._r.slice(),A(qe[Xr],1-zt/gt);rr=zt*dt/gt,kr=rr/2}if(Ct.isSubplotConstrained||!Xe&&Wt.length===1){for(Xr=0;Xr<$e.length;Xr++)$e[Xr].range=$e[Xr]._r.slice(),A($e[Xr],1-rr/dt);zt=rr*gt/dt,pn=zt/2}}(!Ct.isSubplotConstrained||!Xe)&&Er("x"),(!Ct.isSubplotConstrained||!Wt)&&Er("y");var _n=dt-rr,Dn=gt-zt;Ct.isSubplotConstrained&&!(Wt&&Xe)&&(Wt?(pn=kr?0:rr*gt/dt,Dn=_n*gt/dt):(kr=pn?0:zt*dt/gt,_n=Dn*dt/gt)),It([kr,pn,_n,Dn]),Ze(),se.emit("plotly_relayouting",be)}function Er(rr,zt){for(var fr=Ct.isSubplotConstrained?{x:$e,y:qe}[rr]:Ct[rr+"axes"],dr=Ct.isSubplotConstrained?{x:qe,y:$e}[rr]:[],pr=0;pr<fr.length;pr++){var vr=fr[pr],Vr=vr._id,_r=Ct.xLinks[Vr]||Ct.yLinks[Vr],kr=dr[0]||Ge[_r]||it[_r];kr&&(zt?(zt[vr._name+".range[0]"]=zt[kr._name+".range[0]"],zt[vr._name+".range[1]"]=zt[kr._name+".range[1]"]):vr.range=kr.range.slice())}}function Ze(){var rr=[],zt;function fr(Vr){for(zt=0;zt<Vr.length;zt++)Vr[zt].fixedrange||rr.push(Vr[zt]._id)}function dr(Vr,_r){for(zt=0;zt<Vr.length;zt++){var kr=Vr[zt],pn=kr[_r];!kr.fixedrange&&pn.tickmode==="sync"&&rr.push(pn._id)}}for(Ie&&(fr(qe),fr(Mt.xaxes),fr(Ct.xaxes),dr(pe.overlays,"xaxis")),Oe&&(fr($e),fr(Mt.yaxes),fr(Ct.yaxes),dr(pe.overlays,"yaxis")),be={},zt=0;zt<rr.length;zt++){var pr=rr[zt],vr=S(se,pr);f.drawOne(se,vr,{skipTitle:!0}),be[vr._name+".range[0]"]=vr.range[0],be[vr._name+".range[1]"]=vr.range[1]}f.redrawComponents(se,rr)}function Ye(){if(!se._transitioningWithDuration){var rr=se._context.doubleClick,zt=[];Wt&&(zt=zt.concat(qe)),Xe&&(zt=zt.concat($e)),Ct.xaxes&&(zt=zt.concat(Ct.xaxes)),Ct.yaxes&&(zt=zt.concat(Ct.yaxes));var fr={},dr,pr;if(rr==="reset+autosize")for(rr="autosize",pr=0;pr<zt.length;pr++){dr=zt[pr];var vr=dr._rangeInitial0,Vr=dr._rangeInitial1,_r=vr!==void 0||Vr!==void 0;if(_r&&(vr!==void 0&&vr!==dr.range[0]||Vr!==void 0&&Vr!==dr.range[1])||!_r&&dr.autorange!==!0){rr="reset";break}}if(rr==="autosize")for(pr=0;pr<zt.length;pr++)dr=zt[pr],dr.fixedrange||(fr[dr._name+".autorange"]=!0);else if(rr==="reset"){for((Wt||Mt.isSubplotConstrained)&&(zt=zt.concat(Mt.xaxes)),Xe&&!Mt.isSubplotConstrained&&(zt=zt.concat(Mt.yaxes)),Mt.isSubplotConstrained&&(Wt?Xe||(zt=zt.concat($e)):zt=zt.concat(qe)),pr=0;pr<zt.length;pr++)if(dr=zt[pr],!dr.fixedrange){var kr=dr._name,pn=dr._autorangeInitial;dr._rangeInitial0===void 0&&dr._rangeInitial1===void 0?fr[kr+".autorange"]=!0:dr._rangeInitial0===void 0?(fr[kr+".autorange"]=pn,fr[kr+".range"]=[null,dr._rangeInitial1]):dr._rangeInitial1===void 0?(fr[kr+".range"]=[dr._rangeInitial0,null],fr[kr+".autorange"]=pn):fr[kr+".range"]=[dr._rangeInitial0,dr._rangeInitial1]}}se.emit("plotly_doubleclick",null),p.call("_guiRelayout",se,fr)}}function Dt(){It([0,0,dt,gt]),E.syncOrAsync([C.previousPromises,function(){se._fullLayout._replotting=!1,p.call("_guiRelayout",se,be)}],se)}function It(rr){var zt=se._fullLayout,fr=zt._plots,dr=zt._subplots.cartesian,pr,vr,Vr,_r;if(Ae&&p.subplotsRegistry.splom.drag(se),_e){for(pr=0;pr<dr.length;pr++)if(vr=fr[dr[pr]],Vr=vr.xaxis,_r=vr.yaxis,vr._scene){var kr=E.simpleMap(Vr.range,Vr.r2l),pn=E.simpleMap(_r.range,_r.r2l);Vr.limitRange&&Vr.limitRange(),_r.limitRange&&_r.limitRange(),kr=Vr.range,pn=_r.range,vr._scene.update({range:[kr[0],pn[0],kr[1],pn[1]]})}}if((Ae||_e)&&(u(se),y(se)),ce){var Xr=rr[2]/We._length,_n=rr[3]/Fe._length;for(pr=0;pr<dr.length;pr++){vr=fr[dr[pr]],Vr=vr.xaxis,_r=vr.yaxis;var Dn=(Ie||Ct.isSubplotConstrained)&&!Vr.fixedrange&&Ge[Vr._id],xr=(Oe||Ct.isSubplotConstrained)&&!_r.fixedrange&&it[_r._id],Ar,Or,Br,qr;if(Dn?(Ar=Xr,Br=Ce||Ct.isSubplotConstrained?rr[0]:lr(Vr,Ar)):Ct.xaHash[Vr._id]?(Ar=Xr,Br=rr[0]*Vr._length/We._length):Ct.yaHash[Vr._id]?(Ar=_n,Br=Xe==="ns"?-rr[1]*Vr._length/Fe._length:lr(Vr,Ar,{n:"top",s:"bottom"}[Xe])):(Ar=Zt(Vr,Xr,_n),Br=nr(Vr,Ar)),Ar>1&&(Vr.maxallowed!==void 0&&Ie===(Vr.range[0]<Vr.range[1]?"e":"w")||Vr.minallowed!==void 0&&Ie===(Vr.range[0]<Vr.range[1]?"w":"e"))&&(Ar=1,Br=0),xr?(Or=_n,qr=Ne||Ct.isSubplotConstrained?rr[1]:lr(_r,Or)):Ct.yaHash[_r._id]?(Or=_n,qr=rr[1]*_r._length/Fe._length):Ct.xaHash[_r._id]?(Or=Xr,qr=Wt==="ew"?-rr[0]*_r._length/We._length:lr(_r,Or,{e:"right",w:"left"}[Wt])):(Or=Zt(_r,Xr,_n),qr=nr(_r,Or)),Or>1&&(_r.maxallowed!==void 0&&Oe===(_r.range[0]<_r.range[1]?"n":"s")||_r.minallowed!==void 0&&Oe===(_r.range[0]<_r.range[1]?"s":"n"))&&(Or=1,qr=0),!(!Ar&&!Or)){Ar||(Ar=1),Or||(Or=1);var vn=Vr._offset-Br/Ar,fn=_r._offset-qr/Or;vr.clipRect.call(l.setTranslate,Br,qr).call(l.setScale,Ar,Or),vr.plot.call(l.setTranslate,vn,fn).call(l.setScale,1/Ar,1/Or),(Ar!==vr.xScaleFactor||Or!==vr.yScaleFactor)&&(l.setPointGroupScale(vr.zoomScalePts,Ar,Or),l.setTextPointsScale(vr.zoomScaleTxt,Ar,Or)),l.hideOutsideRangePoints(vr.clipOnAxisFalseTraces,vr),vr.xScaleFactor=Ar,vr.yScaleFactor=Or}}}}function Zt(rr,zt,fr){return rr.fixedrange?0:Ie&&Mt.xaHash[rr._id]?zt:Oe&&(Mt.isSubplotConstrained?Mt.xaHash:Mt.yaHash)[rr._id]?fr:0}function nr(rr,zt){return zt?(rr.range=rr._r.slice(),A(rr,zt),lr(rr,zt)):0}function lr(rr,zt,fr){return rr._length*(1-zt)*g[fr||rr.constraintoward||"middle"]}return wt}function Y(se,pe,we,Ee){var Me=E.ensureSingle(se.draglayer,pe,we,function(Be){Be.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",se.id)});return Me.call(v,Ee),Me.node()}function B(se,pe,we,Ee,Me,Be,Ne){var Ce=Y(se,"rect",pe,we);return h.select(Ce).call(l.setRect,Ee,Me,Be,Ne),Ce}function W(se,pe){for(var we=0;we<se.length;we++)if(!se[we].fixedrange)return pe;return""}function H(se,pe){var we=se.range[pe],Ee=Math.abs(we-se.range[1-pe]),Me;return se.type==="date"?we:se.type==="log"?(Me=Math.ceil(Math.max(0,-Math.log(Ee)/Math.LN10))+3,n("."+Me+"g")(Math.pow(10,we))):(Me=Math.floor(Math.log(Math.abs(we))/Math.LN10)-Math.floor(Math.log(Ee)/Math.LN10)+4,n("."+String(Me)+"g")(we))}function U(se,pe,we,Ee,Me){for(var Be=0;Be<se.length;Be++){var Ne=se[Be];if(!Ne.fixedrange)if(Ne.rangebreaks){var Ce=Ne._id.charAt(0)==="y",Te=Ce?1-pe:pe,Le=Ce?1-we:we;Ee[Ne._name+".range[0]"]=Ne.l2r(Ne.p2l(Te*Ne._length)),Ee[Ne._name+".range[1]"]=Ne.l2r(Ne.p2l(Le*Ne._length))}else{var Ve=Ne._rl[0],We=Ne._rl[1]-Ve;Ee[Ne._name+".range[0]"]=Ne.l2r(Ve+We*pe),Ee[Ne._name+".range[1]"]=Ne.l2r(Ve+We*we)}}if(Me&&Me.length){var Fe=(pe+(1-we))/2;U(Me,Fe,1-Fe,Ee,[])}}function G(se,pe){for(var we=0;we<se.length;we++){var Ee=se[we];if(!Ee.fixedrange){if(Ee.rangebreaks){var Me=0,Be=Ee._length,Ne=Ee.p2l(Me+pe)-Ee.p2l(Me),Ce=Ee.p2l(Be+pe)-Ee.p2l(Be),Te=(Ne+Ce)/2;Ee.range=[Ee.l2r(Ee._rl[0]-Te),Ee.l2r(Ee._rl[1]-Te)]}else Ee.range=[Ee.l2r(Ee._rl[0]-pe/Ee._m),Ee.l2r(Ee._rl[1]-pe/Ee._m)];Ee.limitRange&&Ee.limitRange()}}}function j(se){return 1-(se>=0?Math.min(se,.9):1/(1/Math.max(se,-.3)+3.222))}function re(se,pe,we){return se?se==="nsew"?we?"":pe==="pan"?"move":"crosshair":se.toLowerCase()+"-resize":"pointer"}function ae(se,pe,we,Ee,Me){return se.append("path").attr("class","zoombox").style({fill:pe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",m(we,Ee)).attr("d",Me+"Z")}function ue(se,pe,we){return se.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",m(pe,we)).attr("d","M0,0Z")}function de(se,pe,we,Ee,Me,Be){se.attr("d",Ee+"M"+we.l+","+we.t+"v"+we.h+"h"+we.w+"v-"+we.h+"h-"+we.w+"Z"),ee(se,pe,Me,Be)}function ee(se,pe,we,Ee){we||(se.transition().style("fill",Ee>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),pe.transition().style("opacity",1).duration(200))}function X(se){h.select(se).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Q(se){N&&se.data&&se._context.showTips&&(E.notifier(E._(se,"Double-click to zoom back out"),"long"),N=!1)}function $(se,pe){return"M"+(se.l-.5)+","+(pe-b-.5)+"h-3v"+(2*b+1)+"h3ZM"+(se.r+.5)+","+(pe-b-.5)+"h3v"+(2*b+1)+"h-3Z"}function ne(se,pe){return"M"+(pe-b-.5)+","+(se.t-.5)+"v-3h"+(2*b+1)+"v3ZM"+(pe-b-.5)+","+(se.b+.5)+"v3h"+(2*b+1)+"v-3Z"}function fe(se){var pe=Math.floor(Math.min(se.b-se.t,se.r-se.l,b)/2);return"M"+(se.l-3.5)+","+(se.t-.5+pe)+"h3v"+-pe+"h"+pe+"v-3h-"+(pe+3)+"ZM"+(se.r+3.5)+","+(se.t-.5+pe)+"h-3v"+-pe+"h"+-pe+"v-3h"+(pe+3)+"ZM"+(se.r+3.5)+","+(se.b+.5-pe)+"h-3v"+pe+"h"+-pe+"v3h"+(pe+3)+"ZM"+(se.l-3.5)+","+(se.b+.5-pe)+"h3v"+pe+"h"+pe+"v3h-"+(pe+3)+"Z"}function te(se,pe,we,Ee,Me){for(var Be=!1,Ne={},Ce={},Te,Le,Ve,We,Fe=(Me||{}).xaHash,Ge=(Me||{}).yaHash,it=0;it<pe.length;it++){var qe=pe[it];for(Te in we)if(qe[Te]){for(Ve in qe)!(Me&&(Fe[Ve]||Ge[Ve]))&&!(Ve.charAt(0)==="x"?we:Ee)[Ve]&&(Ne[Ve]=Te);for(Le in Ee)!(Me&&(Fe[Le]||Ge[Le]))&&qe[Le]&&(Be=!0)}for(Le in Ee)if(qe[Le])for(We in qe)!(Me&&(Fe[We]||Ge[We]))&&!(We.charAt(0)==="x"?we:Ee)[We]&&(Ce[We]=Le)}Be&&(E.extendFlat(Ne,Ce),Ce={});var $e={},tt=[];for(Ve in Ne){var vt=S(se,Ve);tt.push(vt),$e[vt._id]=vt}var dt={},gt=[];for(We in Ce){var Mt=S(se,We);gt.push(Mt),dt[Mt._id]=Mt}return{xaHash:$e,yaHash:dt,xaxes:tt,yaxes:gt,xLinks:Ne,yLinks:Ce,isSubplotConstrained:Be}}function q(se,pe){if(!w)se.onwheel!==void 0?se.onwheel=pe:se.onmousewheel!==void 0?se.onmousewheel=pe:se.isAddedWheelEvent||(se.isAddedWheelEvent=!0,se.addEventListener("wheel",pe,{passive:!1}));else{var we=se.onwheel!==void 0?"wheel":"mousewheel";se._onwheel&&se.removeEventListener(we,se._onwheel),se._onwheel=pe,se.addEventListener(we,pe,{passive:!1})}}function he(se){var pe=[];for(var we in se)pe.push(se[we]);return pe}k.exports={makeDragBox:O,makeDragger:Y,makeRectDragger:B,makeZoombox:ae,makeCorners:ue,updateZoombox:de,xyCorners:fe,transitionZoombox:ee,removeZoombox:X,showDoubleClickNotifier:Q,attachWheelEventHandler:q}},4305:function(k,F,e){var h=e(39898),E=e(30211),n=e(28569),L=e(6964),w=e(29323).makeDragBox,p=e(85555).DRAGGERSIZE;F.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){h.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var l=Object.keys(r._plots||{}).sort(function(f,v){if((r._plots[f].mainplot&&!0)===(r._plots[v].mainplot&&!0)){var c=f.split("y"),x=v.split("y");return c[0]===x[0]?Number(c[1]||1)-Number(x[1]||1):Number(c[0]||1)-Number(x[0]||1)}return r._plots[f].mainplot?1:-1});l.forEach(function(f){var v=r._plots[f],c=v.xaxis,x=v.yaxis;if(!v.mainplot){var d=w(t,v,c._offset,x._offset,c._length,x._length,"ns","ew");d.onmousemove=function(u){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===f&&t._fullLayout._plots[f]&&E.hover(t,u,f)},E.hover(t,u,f),t._fullLayout._lasthover=d,t._fullLayout._hoversubplot=f},d.onmouseout=function(u){t._dragging||(t._fullLayout._hoversubplot=null,n.unhover(t,u))},t._context.showAxisDragHandles&&(w(t,v,c._offset-p,x._offset-p,p,p,"n","w"),w(t,v,c._offset+c._length,x._offset-p,p,p,"n","e"),w(t,v,c._offset-p,x._offset+x._length,p,p,"s","w"),w(t,v,c._offset+c._length,x._offset+x._length,p,p,"s","e"))}if(t._context.showAxisDragHandles){if(f===c._mainSubplot){var M=c._mainLinePosition;c.side==="top"&&(M-=p),w(t,v,c._offset+c._length*.1,M,c._length*.8,p,"","ew"),w(t,v,c._offset,M,c._length*.1,p,"","w"),w(t,v,c._offset+c._length*.9,M,c._length*.1,p,"","e")}if(f===x._mainSubplot){var g=x._mainLinePosition;x.side!=="right"&&(g-=p),w(t,v,g,x._offset+x._length*.1,p,x._length*.8,"ns",""),w(t,v,g,x._offset+x._length*.9,p,x._length*.1,"s",""),w(t,v,g,x._offset,p,x._length*.1,"n","")}}});var i=r._hoverlayer.node();i.onmousemove=function(f){f.target=t._fullLayout._lasthover,E.hover(t,f,r._hoversubplot)},i.onclick=function(f){f.target=t._fullLayout._lasthover,E.click(t,f)},i.onmousedown=function(f){t._fullLayout._lasthover.onmousedown(f)},F.updateFx(t)}},F.updateFx=function(m){var t=m._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";L(t._draggers,r)}},76325:function(k,F,e){var h=e(73972),E=e(71828),n=e(41675);k.exports=function(w){return function(m,t){var r=m[w];if(Array.isArray(r))for(var l=h.subplotsRegistry.cartesian,i=l.idRegex,f=t._subplots,v=f.xaxis,c=f.yaxis,x=f.cartesian,d=t._has("cartesian")||t._has("gl2d"),M=0;M<r.length;M++){var g=r[M];if(E.isPlainObject(g)){var u=n.cleanId(g.xref,"x",!1),y=n.cleanId(g.yref,"y",!1),C=i.x.test(u),S=i.y.test(y);if(C||S){d||E.pushUnique(t._basePlotModules,l);var D=!1;C&&v.indexOf(u)===-1&&(v.push(u),D=!0),S&&c.indexOf(y)===-1&&(c.push(y),D=!0),D&&C&&S&&x.push(u+y)}}}}}},93612:function(k,F,e){var h=e(39898),E=e(73972),n=e(71828),L=e(74875),w=e(91424),p=e(27659).a0,m=e(41675),t=e(85555),r=e(77922),l=n.ensureSingle;function i(M,g,u){return n.ensureSingle(M,g,u,function(y){y.datum(u)})}F.name="cartesian",F.attr=["xaxis","yaxis"],F.idRoot=["x","y"],F.idRegex=t.idRegex,F.attrRegex=t.attrRegex,F.attributes=e(89502),F.layoutAttributes=e(13838),F.supplyLayoutDefaults=e(86763),F.transitionAxes=e(66847),F.finalizeSubplots=function(M,g){var u=g._subplots,y=u.xaxis,C=u.yaxis,S=u.cartesian,D=S.concat(u.gl2d||[]),T={},P={},A,a,R;for(A=0;A<D.length;A++){var b=D[A].split("y");T[b[0]]=1,P["y"+b[1]]=1}for(A=0;A<y.length;A++)a=y[A],T[a]||(R=(M[m.id2name(a)]||{}).anchor,t.idRegex.y.test(R)||(R="y"),S.push(a+R),D.push(a+R),P[R]||(P[R]=1,n.pushUnique(C,R)));for(A=0;A<C.length;A++)R=C[A],P[R]||(a=(M[m.id2name(R)]||{}).anchor,t.idRegex.x.test(a)||(a="x"),S.push(a+R),D.push(a+R),T[a]||(T[a]=1,n.pushUnique(y,a)));if(!D.length){a="",R="";for(var N in M)if(t.attrRegex.test(N)){var O=N.charAt(0);O==="x"?(!a||+N.substr(5)<+a.substr(5))&&(a=N):(!R||+N.substr(5)<+R.substr(5))&&(R=N)}a=a?m.name2id(a):"x",R=R?m.name2id(R):"y",y.push(a),C.push(R),S.push(a+R)}},F.plot=function(M,g,u,y){var C=M._fullLayout,S=C._subplots.cartesian,D=M.calcdata,T;if(!Array.isArray(g))for(g=[],T=0;T<D.length;T++)g.push(T);for(T=0;T<S.length;T++){for(var P=S[T],A=C._plots[P],a=[],R,b=0;b<D.length;b++){var N=D[b],O=N[0].trace;O.xaxis+O.yaxis===P&&((g.indexOf(O.index)!==-1||O.carpet)&&(R&&R[0].trace.xaxis+R[0].trace.yaxis===P&&["tonextx","tonexty","tonext"].indexOf(O.fill)!==-1&&a.indexOf(R)===-1&&a.push(R),a.push(N)),R=N)}f(M,A,a,u,y)}};function f(M,g,u,y,C){for(var S=t.traceLayerClasses,D=M._fullLayout,T=D._modules,P,A,a,R=[],b=[],N=0;N<T.length;N++){P=T[N];var O=P.name,Y=E.modules[O].categories;if(Y.svg){var B=P.layerName||O+"layer",W=P.plot;A=p(u,W),a=A[0],u=A[1],a.length&&R.push({i:S.indexOf(B),className:B,plotMethod:W,cdModule:a}),Y.zoomScale&&b.push("."+B)}}R.sort(function(G,j){return G.i-j.i});var H=g.plot.selectAll("g.mlayer").data(R,function(G){return G.className});if(H.enter().append("g").attr("class",function(G){return G.className}).classed("mlayer",!0).classed("rangeplot",g.isRangePlot),H.exit().remove(),H.order(),H.each(function(G){var j=h.select(this),re=G.className;G.plotMethod(M,g,G.cdModule,j,y,C),t.clipOnAxisFalseQuery.indexOf("."+re)===-1&&w.setClipUrl(j,g.layerClipId,M)}),D._has("scattergl")&&(P=E.getModule("scattergl"),a=p(u,P)[0],P.plot(M,g,a)),!M._context.staticPlot&&(g._hasClipOnAxisFalse&&(g.clipOnAxisFalseTraces=g.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),b.length)){var U=g.plot.selectAll(b.join(",")).selectAll(".trace");g.zoomScalePts=U.selectAll("path.point"),g.zoomScaleTxt=U.selectAll(".textpoint")}}F.clean=function(M,g,u,y){var C=y._plots||{},S=g._plots||{},D=y._subplots||{},T,P,A;if(y._hasOnlyLargeSploms&&!g._hasOnlyLargeSploms)for(A in C)T=C[A],T.plotgroup&&T.plotgroup.remove();var a=y._has&&y._has("gl"),R=g._has&&g._has("gl");if(a&&!R)for(A in C)T=C[A],T._scene&&T._scene.destroy();if(D.xaxis&&D.yaxis){var b=m.listIds({_fullLayout:y});for(P=0;P<b.length;P++){var N=b[P];g[m.id2name(N)]||y._infolayer.selectAll(".g-"+N+"title").remove()}}var O=y._has&&y._has("cartesian"),Y=g._has&&g._has("cartesian");if(O&&!Y)x(y._cartesianlayer.selectAll(".subplot"),y),y._defs.selectAll(".axesclip").remove(),delete y._axisConstraintGroups,delete y._axisMatchGroups;else if(D.cartesian)for(P=0;P<D.cartesian.length;P++){var B=D.cartesian[P];if(!S[B]){var W="."+B+",."+B+"-x,."+B+"-y";y._cartesianlayer.selectAll(W).remove(),d(B,y)}}},F.drawFramework=function(M){var g=M._fullLayout,u=v(M),y=g._cartesianlayer.selectAll(".subplot").data(u,String);y.enter().append("g").attr("class",function(C){return"subplot "+C[0]}),y.order(),y.exit().call(x,g),y.each(function(C){var S=C[0],D=g._plots[S];D.plotgroup=h.select(this),c(M,D),D.draglayer=l(g._draggers,"g",S)})},F.rangePlot=function(M,g,u){c(M,g),f(M,g,u),L.style(M)};function v(M){var g=M._fullLayout,u=g._subplots.cartesian,y=u.length,C,S,D,T,P,A,a=[],R=[];for(C=0;C<y;C++){D=u[C],T=g._plots[D],P=T.xaxis,A=T.yaxis;var b=P._mainAxis,N=A._mainAxis,O=b._id+N._id,Y=g._plots[O];T.overlays=[],O!==D&&Y?(T.mainplot=O,T.mainplotinfo=Y,R.push(D)):(T.mainplot=void 0,T.mainplotinfo=void 0,a.push(D))}for(C=0;C<R.length;C++)D=R[C],T=g._plots[D],T.mainplotinfo.overlays.push(T);var B=a.concat(R),W=new Array(y);for(C=0;C<y;C++){D=B[C],T=g._plots[D],P=T.xaxis,A=T.yaxis;var H=[D,P.layer,A.layer,P.overlaying||"",A.overlaying||""];for(S=0;S<T.overlays.length;S++)H.push(T.overlays[S].id);W[C]=H}return W}function c(M,g){var u=g.plotgroup,y=g.id,C=t.layerValue2layerClass[g.xaxis.layer],S=t.layerValue2layerClass[g.yaxis.layer],D=M._fullLayout._hasOnlyLargeSploms;if(g.mainplot){var P=g.mainplotinfo,A=P.plotgroup,a=y+"-x",R=y+"-y";g.minorGridlayer=P.minorGridlayer,g.gridlayer=P.gridlayer,g.zerolinelayer=P.zerolinelayer,l(P.overlinesBelow,"path",a),l(P.overlinesBelow,"path",R),l(P.overaxesBelow,"g",a),l(P.overaxesBelow,"g",R),g.plot=l(P.overplot,"g",y),l(P.overlinesAbove,"path",a),l(P.overlinesAbove,"path",R),l(P.overaxesAbove,"g",a),l(P.overaxesAbove,"g",R),g.xlines=A.select(".overlines-"+C).select("."+a),g.ylines=A.select(".overlines-"+S).select("."+R),g.xaxislayer=A.select(".overaxes-"+C).select("."+a),g.yaxislayer=A.select(".overaxes-"+S).select("."+R)}else if(D)g.xlines=l(u,"path","xlines-above"),g.ylines=l(u,"path","ylines-above"),g.xaxislayer=l(u,"g","xaxislayer-above"),g.yaxislayer=l(u,"g","yaxislayer-above");else{var T=l(u,"g","layer-subplot");g.shapelayer=l(T,"g","shapelayer"),g.imagelayer=l(T,"g","imagelayer"),g.minorGridlayer=l(u,"g","minor-gridlayer"),g.gridlayer=l(u,"g","gridlayer"),g.zerolinelayer=l(u,"g","zerolinelayer"),l(u,"path","xlines-below"),l(u,"path","ylines-below"),g.overlinesBelow=l(u,"g","overlines-below"),l(u,"g","xaxislayer-below"),l(u,"g","yaxislayer-below"),g.overaxesBelow=l(u,"g","overaxes-below"),g.plot=l(u,"g","plot"),g.overplot=l(u,"g","overplot"),g.xlines=l(u,"path","xlines-above"),g.ylines=l(u,"path","ylines-above"),g.overlinesAbove=l(u,"g","overlines-above"),l(u,"g","xaxislayer-above"),l(u,"g","yaxislayer-above"),g.overaxesAbove=l(u,"g","overaxes-above"),g.xlines=u.select(".xlines-"+C),g.ylines=u.select(".ylines-"+S),g.xaxislayer=u.select(".xaxislayer-"+C),g.yaxislayer=u.select(".yaxislayer-"+S)}D||(i(g.minorGridlayer,"g",g.xaxis._id),i(g.minorGridlayer,"g",g.yaxis._id),g.minorGridlayer.selectAll("g").map(function(b){return b[0]}).sort(m.idSort),i(g.gridlayer,"g",g.xaxis._id),i(g.gridlayer,"g",g.yaxis._id),g.gridlayer.selectAll("g").map(function(b){return b[0]}).sort(m.idSort)),g.xlines.style("fill","none").classed("crisp",!0),g.ylines.style("fill","none").classed("crisp",!0)}function x(M,g){if(M){var u={};M.each(function(P){var A=P[0],a=h.select(this);a.remove(),d(A,g),u[A]=!0});for(var y in g._plots)for(var C=g._plots[y],S=C.overlays||[],D=0;D<S.length;D++){var T=S[D];u[T.id]&&T.plot.selectAll(".trace").remove()}}}function d(M,g){g._draggers.selectAll("g."+M).remove(),g._defs.select("#clip"+g._uid+M+"plot").remove()}F.toSVG=function(M){var g=M._fullLayout._glimages,u=h.select(M).selectAll(".svg-container"),y=u.filter(function(S,D){return D===u.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function C(){var S=this,D=S.toDataURL("image/png"),T=g.append("svg:image");T.attr({xmlns:r.svg,"xlink:href":D,preserveAspectRatio:"none",x:0,y:0,width:S.style.width,height:S.style.height})}y.each(C)},F.updateFx=e(4305).updateFx},13838:function(k,F,e){var h=e(41940),E=e(22399),n=e(79952).P,L=e(1426).extendFlat,w=e(44467).templatedArray,p=e(12663).descriptionWithDates,m=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,l=t.WEEKDAY_PATTERN,i={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=L({},i,{values:i.values.slice().concat(["sync"])});function v(P){return{valType:"integer",min:0,dflt:P?5:0,editType:"ticks"}}var c={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},x={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},d={valType:"data_array",editType:"ticks"},M={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function g(P){var A={valType:"number",min:0,editType:"ticks"};return P||(A.dflt=5),A}function u(P){var A={valType:"number",min:0,editType:"ticks"};return P||(A.dflt=1),A}var y={valType:"color",dflt:E.defaultLine,editType:"ticks"},C={valType:"color",dflt:E.lightLine,editType:"ticks"};function S(P){var A={valType:"number",min:0,editType:"ticks"};return P||(A.dflt=1),A}var D=L({},n,{editType:"ticks"}),T={valType:"boolean",editType:"ticks"};k.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:E.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:h({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:w("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[l,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:m},editType:"calc"}),tickmode:f,nticks:v(),tick0:c,dtick:x,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:d,ticktext:{valType:"data_array",editType:"ticks"},ticks:M,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:g(),tickwidth:u(),tickcolor:y,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:h({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:p("tick label")},tickformatstops:w("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:p("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:T,gridcolor:C,gridwidth:S(),griddash:D,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:i,nticks:v("minor"),tick0:c,dtick:x,tickvals:d,ticks:M,ticklen:g("minor"),tickwidth:u("minor"),tickcolor:y,gridcolor:C,gridwidth:S("minor"),griddash:D,showgrid:T,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:h({editType:"ticks"})}}},86763:function(k,F,e){var h=e(71828),E=e(7901),n=e(23469).isUnifiedHover,L=e(98212),w=e(44467),p=e(10820),m=e(13838),t=e(951),r=e(71453),l=e(99082),i=e(52830),f=e(41675),v=f.id2name,c=f.name2id,x=e(85555).AX_ID_PATTERN,d=e(73972),M=d.traceIs,g=d.getComponentMethod;function u(y,C,S){Array.isArray(y[C])?y[C].push(S):y[C]=[S]}k.exports=function(C,S,D){var T=S.autotypenumbers,P={},A={},a={},R={},b={},N={},O={},Y={},B={},W={},H,U;for(H=0;H<D.length;H++){var G=D[H];if(!(!M(G,"cartesian")&&!M(G,"gl2d"))){var j;if(G.xaxis)j=v(G.xaxis),u(P,j,G);else if(G.xaxes)for(U=0;U<G.xaxes.length;U++)u(P,v(G.xaxes[U]),G);var re;if(G.yaxis)re=v(G.yaxis),u(P,re,G);else if(G.yaxes)for(U=0;U<G.yaxes.length;U++)u(P,v(G.yaxes[U]),G);if(G.type==="funnel"?G.orientation==="h"?(j&&(A[j]=!0),re&&(O[re]=!0)):re&&(a[re]=!0):G.type==="image"?(re&&(Y[re]=!0),j&&(Y[j]=!0)):(re&&(b[re]=!0,N[re]=!0),(!M(G,"carpet")||G.type==="carpet"&&!G._cheater)&&j&&(R[j]=!0)),G.type==="carpet"&&G._cheater&&j&&(A[j]=!0),M(G,"2dMap")&&(B[j]=!0,B[re]=!0),M(G,"oriented")){var ae=G.orientation==="h"?re:j;W[ae]=!0}}}var ue=S._subplots,de=ue.xaxis,ee=ue.yaxis,X=h.simpleMap(de,v),Q=h.simpleMap(ee,v),$=X.concat(Q),ne=E.background;de.length&&ee.length&&(ne=h.coerce(C,S,p,"plot_bgcolor"));var fe=E.combine(ne,S.paper_bgcolor),te,q,he,se,pe;function we(){var Re=P[te]||[];pe._traceIndices=Re.map(function(Ue){return Ue._expandedIndex}),pe._annIndices=[],pe._shapeIndices=[],pe._selectionIndices=[],pe._imgIndices=[],pe._subplotsWith=[],pe._counterAxes=[],pe._name=pe._attr=te,pe._id=q}function Ee(Re,Ue){return h.coerce(se,pe,m,Re,Ue)}function Me(Re,Ue){return h.coerce2(se,pe,m,Re,Ue)}function Be(Re){return Re==="x"?ee:de}function Ne(Re,Ue){for(var nt=Re==="x"?X:Q,ot=[],wt=0;wt<nt.length;wt++){var _t=nt[wt];_t!==Ue&&!(C[_t]||{}).overlaying&&ot.push(c(_t))}return ot}var Ce={x:Be("x"),y:Be("y")},Te=Ce.x.concat(Ce.y),Le={},Ve=[];function We(){var Re=se.matches;x.test(Re)&&Te.indexOf(Re)===-1&&(Le[Re]=se.type,Ve=Object.keys(Le))}var Fe=L(C,S),Ge=n(Fe);for(H=0;H<$.length;H++){te=$[H],q=c(te),he=te.charAt(0),h.isPlainObject(C[te])||(C[te]={}),se=C[te],pe=w.newContainer(S,te,he+"axis"),we();var it=he==="x"&&!R[te]&&A[te]||he==="y"&&!b[te]&&a[te],qe=he==="y"&&(!N[te]&&O[te]||Y[te]),$e={hasMinor:!0,letter:he,font:S.font,outerTicks:B[te],showGrid:!W[te],data:P[te]||[],bgColor:fe,calendar:S.calendar,automargin:!0,visibleDflt:it,reverseDflt:qe,autotypenumbersDflt:T,splomStash:((S._splomAxes||{})[he]||{})[q]};Ee("uirevision",S.uirevision),t(se,pe,Ee,$e),r(se,pe,Ee,$e,S);var tt=Ge&&he===Fe.charAt(0),vt=Me("spikecolor",Ge?pe.color:void 0),dt=Me("spikethickness",Ge?1.5:void 0),gt=Me("spikedash",Ge?"dot":void 0),Mt=Me("spikemode",Ge?"across":void 0),Ct=Me("spikesnap"),Wt=Ee("showspikes",!!tt||!!vt||!!dt||!!gt||!!Mt||!!Ct);Wt||(delete pe.spikecolor,delete pe.spikethickness,delete pe.spikedash,delete pe.spikemode,delete pe.spikesnap);var Xe=v(se.overlaying),ke=[0,1];if(S[Xe]!==void 0){var Ie=v(S[Xe].anchor);S[Ie]!==void 0&&(ke=S[Ie].domain)}i(se,pe,Ee,{letter:he,counterAxes:Ce[he],overlayableAxes:Ne(he,te),grid:S.grid,overlayingDomain:ke}),Ee("title.standoff"),We(),pe._input=se}for(H=0;H<Ve.length;){q=Ve[H++],te=v(q),he=te.charAt(0),h.isPlainObject(C[te])||(C[te]={}),se=C[te],pe=w.newContainer(S,te,he+"axis"),we();var Oe={letter:he,font:S.font,outerTicks:B[te],showGrid:!W[te],data:[],bgColor:fe,calendar:S.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:T,splomStash:((S._splomAxes||{})[he]||{})[q]};Ee("uirevision",S.uirevision),pe.type=Le[q]||"linear",r(se,pe,Ee,Oe,S),i(se,pe,Ee,{letter:he,counterAxes:Ce[he],overlayableAxes:Ne(he,te),grid:S.grid}),Ee("fixedrange"),We(),pe._input=se}var _e=g("rangeslider","handleDefaults"),Ae=g("rangeselector","handleDefaults");for(H=0;H<X.length;H++)te=X[H],se=C[te],pe=S[te],_e(C,S,te),pe.type==="date"&&Ae(se,pe,S,Q,pe.calendar),Ee("fixedrange");for(H=0;H<Q.length;H++){te=Q[H],se=C[te],pe=S[te];var ce=S[v(pe.anchor)],be=g("rangeslider","isVisible")(ce);Ee("fixedrange",be)}l.handleDefaults(C,S,{axIds:Te.concat(Ve).sort(f.idSort),axHasImage:Y})}},92128:function(k,F,e){var h=e(84267).mix,E=e(22399),n=e(71828);k.exports=function(w,p,m,t){t=t||{};var r=t.dfltColor;function l(a,R){return n.coerce2(w,p,t.attributes,a,R)}var i=l("linecolor",r),f=l("linewidth"),v=m("showline",t.showLine||!!i||!!f);v||(delete p.linecolor,delete p.linewidth);var c=h(r,t.bgColor,t.blend||E.lightFraction).toRgbString(),x=l("gridcolor",c),d=l("gridwidth"),M=l("griddash"),g=m("showgrid",t.showGrid||!!x||!!d||!!M);if(g||(delete p.gridcolor,delete p.gridwidth,delete p.griddash),t.hasMinor){var u=h(p.gridcolor,t.bgColor,67).toRgbString(),y=l("minor.gridcolor",u),C=l("minor.gridwidth",p.gridwidth||1),S=l("minor.griddash",p.griddash||"solid"),D=m("minor.showgrid",!!y||!!C||!!S);D||(delete p.minor.gridcolor,delete p.minor.gridwidth,delete p.minor.griddash)}if(!t.noZeroLine){var T=l("zerolinecolor",r),P=l("zerolinewidth"),A=m("zeroline",t.showGrid||!!T||!!P);A||(delete p.zerolinecolor,delete p.zerolinewidth)}}},52830:function(k,F,e){var h=e(92770),E=e(71828);k.exports=function(L,w,p,m){var t=m.counterAxes||[],r=m.overlayableAxes||[],l=m.letter,i=m.grid,f=m.overlayingDomain,v,c,x,d,M,g;i&&(c=i._domains[l][i._axisMap[w._id]],v=i._anchors[w._id],c&&(x=i[l+"side"].split(" ")[0],d=i.domain[l][x==="right"||x==="top"?1:0])),c=c||[0,1],v=v||(h(L.position)?"free":t[0]||"free"),x=x||(l==="x"?"bottom":"left"),d=d||0,M=0,g=!1;var u=E.coerce(L,w,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:v}},"anchor"),y=E.coerce(L,w,{side:{valType:"enumerated",values:l==="x"?["bottom","top"]:["left","right"],dflt:x}},"side");if(u==="free"){if(l==="y"){var C=p("autoshift");C&&(d=y==="left"?f[0]:f[1],g=w.automargin?w.automargin:!0,M=y==="left"?-3:3),p("shift",M)}p("position",d)}p("automargin",g);var S=!1;if(r.length&&(S=E.coerce(L,w,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!S){var D=p("domain",c);D[0]>D[1]-.000244140625&&(w.domain=c),E.noneOrAll(L.domain,w.domain,c),w.tickmode==="sync"&&(w.tickmode="auto")}return p("layer"),w}},89426:function(k,F,e){var h=e(59652);k.exports=function(n,L,w,p,m){m||(m={});var t=m.tickSuffixDflt,r=h(n),l=w("tickprefix");l&&w("showtickprefix",r);var i=w("ticksuffix",t);i&&w("showticksuffix",r)}},42449:function(k,F,e){var h=e(18783).FROM_BL;k.exports=function(n,L,w){w===void 0&&(w=h[n.constraintoward||"center"]);var p=[n.r2l(n.range[0]),n.r2l(n.range[1])],m=p[0]+(p[1]-p[0])*w;n.range=n._input.range=[n.l2r(m+(p[0]-m)*L),n.l2r(m+(p[1]-m)*L)],n.setScale()}},21994:function(k,F,e){var h=e(39898),E=e(84096).g0,n=e(71828),L=n.numberFormat,w=e(92770),p=n.cleanNumber,m=n.ms2DateTime,t=n.dateTime2ms,r=n.ensureNumber,l=n.isArrayOrTypedArray,i=e(50606),f=i.FP_SAFE,v=i.BADNUM,c=i.LOG_CLIP,x=i.ONEWEEK,d=i.ONEDAY,M=i.ONEHOUR,g=i.ONEMIN,u=i.ONESEC,y=e(41675),C=e(85555),S=C.HOUR_PATTERN,D=C.WEEKDAY_PATTERN;function T(A){return Math.pow(10,A)}function P(A){return A!=null}k.exports=function(a,R){R=R||{};var b=a._id||"x",N=b.charAt(0);function O($,ne){if($>0)return Math.log($)/Math.LN10;if($<=0&&ne&&a.range&&a.range.length===2){var fe=a.range[0],te=a.range[1];return .5*(fe+te-2*c*Math.abs(fe-te))}else return v}function Y($,ne,fe,te){if((te||{}).msUTC&&w($))return+$;var q=t($,fe||a.calendar);if(q===v)if(w($)){$=+$;var he=Math.floor(n.mod($+.05,1)*10),se=Math.round($-he/10);q=t(new Date(se))+he/10}else return v;return q}function B($,ne,fe){return m($,ne,fe||a.calendar)}function W($){return a._categories[Math.round($)]}function H($){if(P($)){if(a._categoriesMap===void 0&&(a._categoriesMap={}),a._categoriesMap[$]!==void 0)return a._categoriesMap[$];a._categories.push(typeof $=="number"?String($):$);var ne=a._categories.length-1;return a._categoriesMap[$]=ne,ne}return v}function U($,ne){for(var fe=new Array(ne),te=0;te<ne;te++){var q=($[0]||[])[te],he=($[1]||[])[te];fe[te]=G([q,he])}return fe}function G($){if(a._categoriesMap)return a._categoriesMap[$]}function j($){var ne=G($);if(ne!==void 0)return ne;if(w($))return+$}function re($){return w($)?+$:G($)}function ae($,ne,fe){return h.round(fe+ne*$,2)}function ue($,ne,fe){return($-fe)/ne}var de=function(ne){return w(ne)?ae(ne,a._m,a._b):v},ee=function($){return ue($,a._m,a._b)};if(a.rangebreaks){var X=N==="y";de=function($){if(!w($))return v;var ne=a._rangebreaks.length;if(!ne)return ae($,a._m,a._b);var fe=X;a.range[0]>a.range[1]&&(fe=!fe);for(var te=fe?-1:1,q=te*$,he=0,se=0;se<ne;se++){var pe=te*a._rangebreaks[se].min,we=te*a._rangebreaks[se].max;if(q<pe)break;if(q>we)he=se+1;else{he=q<(pe+we)/2?se:se+1;break}}var Ee=a._B[he]||0;return isFinite(Ee)?ae($,a._m2,Ee):0},ee=function($){var ne=a._rangebreaks.length;if(!ne)return ue($,a._m,a._b);for(var fe=0,te=0;te<ne&&!($<a._rangebreaks[te].pmin);te++)$>a._rangebreaks[te].pmax&&(fe=te+1);return ue($,a._m2,a._B[fe])}}a.c2l=a.type==="log"?O:r,a.l2c=a.type==="log"?T:r,a.l2p=de,a.p2l=ee,a.c2p=a.type==="log"?function($,ne){return de(O($,ne))}:de,a.p2c=a.type==="log"?function($){return T(ee($))}:ee,["linear","-"].indexOf(a.type)!==-1?(a.d2r=a.r2d=a.d2c=a.r2c=a.d2l=a.r2l=p,a.c2d=a.c2r=a.l2d=a.l2r=r,a.d2p=a.r2p=function($){return a.l2p(p($))},a.p2d=a.p2r=ee,a.cleanPos=r):a.type==="log"?(a.d2r=a.d2l=function($,ne){return O(p($),ne)},a.r2d=a.r2c=function($){return T(p($))},a.d2c=a.r2l=p,a.c2d=a.l2r=r,a.c2r=O,a.l2d=T,a.d2p=function($,ne){return a.l2p(a.d2r($,ne))},a.p2d=function($){return T(ee($))},a.r2p=function($){return a.l2p(p($))},a.p2r=ee,a.cleanPos=r):a.type==="date"?(a.d2r=a.r2d=n.identity,a.d2c=a.r2c=a.d2l=a.r2l=Y,a.c2d=a.c2r=a.l2d=a.l2r=B,a.d2p=a.r2p=function($,ne,fe){return a.l2p(Y($,0,fe))},a.p2d=a.p2r=function($,ne,fe){return B(ee($),ne,fe)},a.cleanPos=function($){return n.cleanDate($,v,a.calendar)}):a.type==="category"?(a.d2c=a.d2l=H,a.r2d=a.c2d=a.l2d=W,a.d2r=a.d2l_noadd=j,a.r2c=function($){var ne=re($);return ne!==void 0?ne:a.fraction2r(.5)},a.l2r=a.c2r=r,a.r2l=re,a.d2p=function($){return a.l2p(a.r2c($))},a.p2d=function($){return W(ee($))},a.r2p=a.d2p,a.p2r=ee,a.cleanPos=function($){return typeof $=="string"&&$!==""?$:r($)}):a.type==="multicategory"&&(a.r2d=a.c2d=a.l2d=W,a.d2r=a.d2l_noadd=j,a.r2c=function($){var ne=j($);return ne!==void 0?ne:a.fraction2r(.5)},a.r2c_just_indices=G,a.l2r=a.c2r=r,a.r2l=j,a.d2p=function($){return a.l2p(a.r2c($))},a.p2d=function($){return W(ee($))},a.r2p=a.d2p,a.p2r=ee,a.cleanPos=function($){return Array.isArray($)||typeof $=="string"&&$!==""?$:r($)},a.setupMultiCategory=function($){var ne=a._traceIndices,fe,te,q=a._matchGroup;if(q&&a._categories.length===0){for(var he in q)if(he!==b){var se=R[y.id2name(he)];ne=ne.concat(se._traceIndices)}}var pe=[[0,{}],[0,{}]],we=[];for(fe=0;fe<ne.length;fe++){var Ee=$[ne[fe]];if(N in Ee){var Me=Ee[N],Be=Ee._length||n.minRowLength(Me);if(l(Me[0])&&l(Me[1]))for(te=0;te<Be;te++){var Ne=Me[0][te],Ce=Me[1][te];P(Ne)&&P(Ce)&&(we.push([Ne,Ce]),Ne in pe[0][1]||(pe[0][1][Ne]=pe[0][0]++),Ce in pe[1][1]||(pe[1][1][Ce]=pe[1][0]++))}}}for(we.sort(function(Te,Le){var Ve=pe[0][1],We=Ve[Te[0]]-Ve[Le[0]];if(We)return We;var Fe=pe[1][1];return Fe[Te[1]]-Fe[Le[1]]}),fe=0;fe<we.length;fe++)H(we[fe])}),a.fraction2r=function($){var ne=a.r2l(a.range[0]),fe=a.r2l(a.range[1]);return a.l2r(ne+$*(fe-ne))},a.r2fraction=function($){var ne=a.r2l(a.range[0]),fe=a.r2l(a.range[1]);return(a.r2l($)-ne)/(fe-ne)},a.limitRange=function($){var ne=a.minallowed,fe=a.maxallowed;if(!(ne===void 0&&fe===void 0)){$||($="range");var te=n.nestedProperty(a,$).get(),q=n.simpleMap(te,a.r2l),he=q[1]<q[0];he&&q.reverse();var se=n.simpleMap([ne,fe],a.r2l);ne!==void 0&&q[0]<se[0]&&(te[he?1:0]=ne),fe!==void 0&&q[1]>se[1]&&(te[he?0:1]=fe)}},a.cleanRange=function($,ne){a._cleanRange($,ne),a.limitRange($)},a._cleanRange=function($,ne){ne||(ne={}),$||($="range");var fe=n.nestedProperty(a,$).get(),te,q;if(a.type==="date"?q=n.dfltRange(a.calendar):N==="y"?q=C.DFLTRANGEY:a._name==="realaxis"?q=[0,1]:q=ne.dfltRange||C.DFLTRANGEX,q=q.slice(),(a.rangemode==="tozero"||a.rangemode==="nonnegative")&&(q[0]=0),!fe||fe.length!==2){n.nestedProperty(a,$).set(q);return}var he=fe[0]===null,se=fe[1]===null;for(a.type==="date"&&!a.autorange&&(fe[0]=n.cleanDate(fe[0],v,a.calendar),fe[1]=n.cleanDate(fe[1],v,a.calendar)),te=0;te<2;te++)if(a.type==="date"){if(!n.isDateTime(fe[te],a.calendar)){a[$]=q;break}if(a.r2l(fe[0])===a.r2l(fe[1])){var pe=n.constrain(a.r2l(fe[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);fe[0]=a.l2r(pe-1e3),fe[1]=a.l2r(pe+1e3);break}}else{if(!w(fe[te]))if(!(he||se)&&w(fe[1-te]))fe[te]=fe[1-te]*(te?10:.1);else{a[$]=q;break}if(fe[te]<-f?fe[te]=-f:fe[te]>f&&(fe[te]=f),fe[0]===fe[1]){var we=Math.max(1,Math.abs(fe[0]*1e-6));fe[0]-=we,fe[1]+=we}}},a.setScale=function($){var ne=R._size;if(a.overlaying){var fe=y.getFromId({_fullLayout:R},a.overlaying);a.domain=fe.domain}var te=$&&a._r?"_r":"range",q=a.calendar;a.cleanRange(te);var he=a.r2l(a[te][0],q),se=a.r2l(a[te][1],q),pe=N==="y";if(pe?(a._offset=ne.t+(1-a.domain[1])*ne.h,a._length=ne.h*(a.domain[1]-a.domain[0]),a._m=a._length/(he-se),a._b=-a._m*se):(a._offset=ne.l+a.domain[0]*ne.w,a._length=ne.w*(a.domain[1]-a.domain[0]),a._m=a._length/(se-he),a._b=-a._m*he),a._rangebreaks=[],a._lBreaks=0,a._m2=0,a._B=[],a.rangebreaks){var we,Ee;if(a._rangebreaks=a.locateBreaks(Math.min(he,se),Math.max(he,se)),a._rangebreaks.length){for(we=0;we<a._rangebreaks.length;we++)Ee=a._rangebreaks[we],a._lBreaks+=Math.abs(Ee.max-Ee.min);var Me=pe;he>se&&(Me=!Me),Me&&a._rangebreaks.reverse();var Be=Me?-1:1;for(a._m2=Be*a._length/(Math.abs(se-he)-a._lBreaks),a._B.push(-a._m2*(pe?se:he)),we=0;we<a._rangebreaks.length;we++)Ee=a._rangebreaks[we],a._B.push(a._B[a._B.length-1]-Be*a._m2*(Ee.max-Ee.min));for(we=0;we<a._rangebreaks.length;we++)Ee=a._rangebreaks[we],Ee.pmin=de(Ee.min),Ee.pmax=de(Ee.max)}}if(!isFinite(a._m)||!isFinite(a._b)||a._length<0)throw R._replotting=!1,new Error("Something went wrong with axis scaling")},a.maskBreaks=function($){var ne=a.rangebreaks||[],fe,te,q,he,se;ne._cachedPatterns||(ne._cachedPatterns=ne.map(function(Ve){return Ve.enabled&&Ve.bounds?n.simpleMap(Ve.bounds,Ve.pattern?p:a.d2c):null})),ne._cachedValues||(ne._cachedValues=ne.map(function(Ve){return Ve.enabled&&Ve.values?n.simpleMap(Ve.values,a.d2c).sort(n.sorterAsc):null}));for(var pe=0;pe<ne.length;pe++){var we=ne[pe];if(we.enabled){if(we.bounds){var Ee=we.pattern;switch(fe=ne._cachedPatterns[pe],te=fe[0],q=fe[1],Ee){case D:se=new Date($),he=se.getUTCDay(),te>q&&(q+=7,he<te&&(he+=7));break;case S:se=new Date($);var Me=se.getUTCHours(),Be=se.getUTCMinutes(),Ne=se.getUTCSeconds(),Ce=se.getUTCMilliseconds();he=Me+(Be/60+Ne/3600+Ce/36e5),te>q&&(q+=24,he<te&&(he+=24));break;case"":he=$;break}if(he>=te&&he<q)return v}else for(var Te=ne._cachedValues[pe],Le=0;Le<Te.length;Le++)if(te=Te[Le],q=te+we.dvalue,$>=te&&$<q)return v}}return $},a.locateBreaks=function($,ne){var fe,te,q,he,se=[];if(!a.rangebreaks)return se;var pe=a.rangebreaks.slice().sort(function(Fe,Ge){return Fe.pattern===D&&Ge.pattern===S?-1:Ge.pattern===D&&Fe.pattern===S?1:0}),we=function(Fe,Ge){if(Fe=n.constrain(Fe,$,ne),Ge=n.constrain(Ge,$,ne),Fe!==Ge){for(var it=!0,qe=0;qe<se.length;qe++){var $e=se[qe];Fe<$e.max&&Ge>=$e.min&&(Fe<$e.min&&($e.min=Fe),Ge>$e.max&&($e.max=Ge),it=!1)}it&&se.push({min:Fe,max:Ge})}};for(fe=0;fe<pe.length;fe++){var Ee=pe[fe];if(Ee.enabled)if(Ee.bounds){var Me=$,Be=ne;Ee.pattern&&(Me=Math.floor(Me)),te=n.simpleMap(Ee.bounds,Ee.pattern?p:a.r2l),q=te[0],he=te[1];var Ne=new Date(Me),Ce,Te;switch(Ee.pattern){case D:Te=x,Ce=((he<q?7:0)+(he-q))*d,Me+=q*d-(Ne.getUTCDay()*d+Ne.getUTCHours()*M+Ne.getUTCMinutes()*g+Ne.getUTCSeconds()*u+Ne.getUTCMilliseconds());break;case S:Te=d,Ce=((he<q?24:0)+(he-q))*M,Me+=q*M-(Ne.getUTCHours()*M+Ne.getUTCMinutes()*g+Ne.getUTCSeconds()*u+Ne.getUTCMilliseconds());break;default:Me=Math.min(te[0],te[1]),Be=Math.max(te[0],te[1]),Te=Be-Me,Ce=Te}for(var Le=Me;Le<Be;Le+=Te)we(Le,Le+Ce)}else for(var Ve=n.simpleMap(Ee.values,a.d2c),We=0;We<Ve.length;We++)q=Ve[We],he=q+Ee.dvalue,we(q,he)}return se.sort(function(Fe,Ge){return Fe.min-Ge.min}),se},a.makeCalcdata=function($,ne,fe){var te,q,he,se,pe=a.type,we=pe==="date"&&$[ne+"calendar"];if(ne in $){if(te=$[ne],se=$._length||n.minRowLength(te),n.isTypedArray(te)&&(pe==="linear"||pe==="log")){if(se===te.length)return te;if(te.subarray)return te.subarray(0,se)}if(pe==="multicategory")return U(te,se);for(q=new Array(se),he=0;he<se;he++)q[he]=a.d2c(te[he],0,we,fe)}else{var Ee=ne+"0"in $?a.d2c($[ne+"0"],0,we):0,Me=$["d"+ne]?Number($["d"+ne]):1;for(te=$[{x:"y",y:"x"}[ne]],se=$._length||te.length,q=new Array(se),he=0;he<se;he++)q[he]=Ee+he*Me}if(a.rangebreaks)for(he=0;he<se;he++)q[he]=a.maskBreaks(q[he]);return q},a.isValidRange=function($,ne){return Array.isArray($)&&$.length===2&&(ne&&$[0]===null||w(a.r2l($[0])))&&(ne&&$[1]===null||w(a.r2l($[1])))},a.getAutorangeDflt=function($,ne){var fe=!a.isValidRange($,"nullOk");return fe&&ne&&ne.reverseDflt?fe="reversed":$&&($[0]===null&&$[1]===null?fe=!0:$[0]===null&&$[1]!==null?fe="min":$[0]!==null&&$[1]===null&&(fe="max")),fe},a.isReversed=function(){var $=a.autorange;return $==="reversed"||$==="min reversed"||$==="max reversed"},a.isPtWithinRange=function($,ne){var fe=a.c2l($[N],null,ne),te=a.r2l(a.range[0]),q=a.r2l(a.range[1]);return te<q?te<=fe&&fe<=q:q<=fe&&fe<=te},a._emptyCategories=function(){a._categories=[],a._categoriesMap={}},a.clearCalc=function(){var $=a._matchGroup;if($){var ne=null,fe=null;for(var te in $){var q=R[y.id2name(te)];if(q._categories){ne=q._categories,fe=q._categoriesMap;break}}ne&&fe?(a._categories=ne,a._categoriesMap=fe):a._emptyCategories()}else a._emptyCategories();if(a._initialCategories)for(var he=0;he<a._initialCategories.length;he++)H(a._initialCategories[he])},a.sortByInitialCategories=function(){var $=[];if(a._emptyCategories(),a._initialCategories)for(var ne=0;ne<a._initialCategories.length;ne++)H(a._initialCategories[ne]);$=$.concat(a._traceIndices);var fe=a._matchGroup;for(var te in fe)if(b!==te){var q=R[y.id2name(te)];q._categories=a._categories,q._categoriesMap=a._categoriesMap,$=$.concat(q._traceIndices)}return $};var Q=R._d3locale;a.type==="date"&&(a._dateFormat=Q?Q.timeFormat:E,a._extraFormat=R._extraFormat),a._separators=R.separators,a._numFormat=Q?Q.numberFormat:L,delete a._minDtick,delete a._forceTick0}},59652:function(k){k.exports=function(e){var h=["showexponent","showtickprefix","showticksuffix"],E=h.filter(function(L){return e[L]!==void 0}),n=function(L){return e[L]===e[E[0]]};if(E.every(n)||E.length===1)return e[E[0]]}},96115:function(k,F,e){var h=e(71828),E=e(7901).contrast,n=e(13838),L=e(59652),w=e(85501);k.exports=function(t,r,l,i,f){f||(f={});var v=l("labelalias");h.isPlainObject(v)||delete r.labelalias;var c=L(t),x=l("showticklabels");if(x){var d=f.font||{},M=r.color,g=r.ticklabelposition||"",u=g.indexOf("inside")!==-1?E(f.bgColor):M&&M!==n.color.dflt?M:d.color;if(h.coerceFont(l,"tickfont",{family:d.family,size:d.size,color:u}),!f.noTicklabelstep&&i!=="multicategory"&&i!=="log"&&l("ticklabelstep"),f.noAng||l("tickangle"),i!=="category"){var y=l("tickformat");w(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:p}),r.tickformatstops.length||delete r.tickformatstops,!f.noExp&&!y&&i!=="date"&&(l("showexponent",c),l("exponentformat"),l("minexponent"),l("separatethousands"))}}};function p(m,t){function r(i,f){return h.coerce(m,t,n.tickformatstops,i,f)}var l=r("enabled");l&&(r("dtickrange"),r("value"))}},38701:function(k,F,e){var h=e(71828),E=e(13838);k.exports=function(L,w,p,m){var t=m.isMinor,r=t?L.minor||{}:L,l=t?w.minor:w,i=t?E.minor:E,f=t?"minor.":"",v=h.coerce2(r,l,i,"ticklen",t?(w.ticklen||5)*.6:void 0),c=h.coerce2(r,l,i,"tickwidth",t?w.tickwidth||1:void 0),x=h.coerce2(r,l,i,"tickcolor",(t?w.tickcolor:void 0)||l.color),d=p(f+"ticks",!t&&m.outerTicks||v||c||x?"outside":"");d||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}},26218:function(k,F,e){var h=e(66287),E=e(71828).isArrayOrTypedArray;k.exports=function(L,w,p,m,t){t||(t={});var r=t.isMinor,l=r?L.minor||{}:L,i=r?w.minor:w,f=r?"minor.":"";function v(C){var S=l[C];return S!==void 0?S:(i._template||{})[C]}var c=v("tick0"),x=v("dtick"),d=v("tickvals"),M=E(d)?"array":x?"linear":"auto",g=p(f+"tickmode",M);if(g==="auto"||g==="sync")p(f+"nticks");else if(g==="linear"){var u=i.dtick=h.dtick(x,m);i.tick0=h.tick0(c,m,w.calendar,u)}else if(m!=="multicategory"){var y=p(f+"tickvals");y===void 0?i.tickmode="auto":r||p("ticktext")}}},66847:function(k,F,e){var h=e(39898),E=e(73972),n=e(71828),L=e(91424),w=e(89298);k.exports=function(m,t,r,l){var i=m._fullLayout;if(t.length===0){w.redrawComponents(m);return}function f(S){var D=S.xaxis,T=S.yaxis;i._defs.select("#"+S.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),S.plot.call(L.setTranslate,D._offset,T._offset).call(L.setScale,1,1);var P=S.plot.selectAll(".scatterlayer .trace");P.selectAll(".point").call(L.setPointGroupScale,1,1),P.selectAll(".textpoint").call(L.setTextPointsScale,1,1),P.call(L.hideOutsideRangePoints,S)}function v(S,D){var T=S.plotinfo,P=T.xaxis,A=T.yaxis,a=P._length,R=A._length,b=!!S.xr1,N=!!S.yr1,O=[];if(b){var Y=n.simpleMap(S.xr0,P.r2l),B=n.simpleMap(S.xr1,P.r2l),W=Y[1]-Y[0],H=B[1]-B[0];O[0]=(Y[0]*(1-D)+D*B[0]-Y[0])/(Y[1]-Y[0])*a,O[2]=a*(1-D+D*H/W),P.range[0]=P.l2r(Y[0]*(1-D)+D*B[0]),P.range[1]=P.l2r(Y[1]*(1-D)+D*B[1])}else O[0]=0,O[2]=a;if(N){var U=n.simpleMap(S.yr0,A.r2l),G=n.simpleMap(S.yr1,A.r2l),j=U[1]-U[0],re=G[1]-G[0];O[1]=(U[1]*(1-D)+D*G[1]-U[1])/(U[0]-U[1])*R,O[3]=R*(1-D+D*re/j),A.range[0]=P.l2r(U[0]*(1-D)+D*G[0]),A.range[1]=A.l2r(U[1]*(1-D)+D*G[1])}else O[1]=0,O[3]=R;w.drawOne(m,P,{skipTitle:!0}),w.drawOne(m,A,{skipTitle:!0}),w.redrawComponents(m,[P._id,A._id]);var ae=b?a/O[2]:1,ue=N?R/O[3]:1,de=b?O[0]:0,ee=N?O[1]:0,X=b?O[0]/O[2]*a:0,Q=N?O[1]/O[3]*R:0,$=P._offset-X,ne=A._offset-Q;T.clipRect.call(L.setTranslate,de,ee).call(L.setScale,1/ae,1/ue),T.plot.call(L.setTranslate,$,ne).call(L.setScale,ae,ue),L.setPointGroupScale(T.zoomScalePts,1/ae,1/ue),L.setTextPointsScale(T.zoomScaleTxt,1/ae,1/ue)}var c;l&&(c=l());function x(){for(var S={},D=0;D<t.length;D++){var T=t[D],P=T.plotinfo.xaxis,A=T.plotinfo.yaxis;T.xr1&&(S[P._name+".range"]=T.xr1.slice()),T.yr1&&(S[A._name+".range"]=T.yr1.slice())}return c&&c(),E.call("relayout",m,S).then(function(){for(var a=0;a<t.length;a++)f(t[a].plotinfo)})}function d(){for(var S={},D=0;D<t.length;D++){var T=t[D],P=T.plotinfo.xaxis,A=T.plotinfo.yaxis;T.xr0&&(S[P._name+".range"]=T.xr0.slice()),T.yr0&&(S[A._name+".range"]=T.yr0.slice())}return E.call("relayout",m,S).then(function(){for(var a=0;a<t.length;a++)f(t[a].plotinfo)})}var M,g,u,y=h.ease(r.easing);m._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,d()});function C(){g=Date.now();for(var S=Math.min(1,(g-M)/r.duration),D=y(S),T=0;T<t.length;T++)v(t[T],D);g-M>r.duration?(x(),u=window.cancelAnimationFrame(C)):u=window.requestAnimationFrame(C)}return M=Date.now(),u=window.requestAnimationFrame(C),Promise.resolve()}},951:function(k,F,e){var h=e(73972).traceIs,E=e(4322);k.exports=function(t,r,l,i){l("autotypenumbers",i.autotypenumbersDflt);var f=l("type",(i.splomStash||{}).type);f==="-"&&(n(r,i.data),r.type==="-"?r.type="linear":t.type=r.type)};function n(m,t){if(m.type==="-"){var r=m._id,l=r.charAt(0),i;r.indexOf("scene")!==-1&&(r=l);var f=L(t,r,l);if(f){if(f.type==="histogram"&&l==={v:"y",h:"x"}[f.orientation||"v"]){m.type="linear";return}var v=l+"calendar",c=f[v],x={noMultiCategory:!h(f,"cartesian")||h(f,"noMultiCategory")};if(f.type==="box"&&f._hasPreCompStats&&l==={h:"x",v:"y"}[f.orientation||"v"]&&(x.noMultiCategory=!0),x.autotypenumbers=m.autotypenumbers,p(f,l)){var d=w(f),M=[];for(i=0;i<t.length;i++){var g=t[i];!h(g,"box-violin")||(g[l+"axis"]||l)!==r||(g[d]!==void 0?M.push(g[d][0]):g.name!==void 0?M.push(g.name):M.push("text"),g[v]!==c&&(c=void 0))}m.type=E(M,c,x)}else if(f.type==="splom"){var u=f.dimensions,y=u[f._axesDim[r]];y.visible&&(m.type=E(y.values,c,x))}else m.type=E(f[l]||[f[l+"0"]],c,x)}}}function L(m,t,r){for(var l=0;l<m.length;l++){var i=m[l];if(i.type==="splom"&&i._length>0&&(i["_"+r+"axes"]||{})[t])return i;if((i[r+"axis"]||r)===t){if(p(i,r))return i;if((i[r]||[]).length||i[r+"0"])return i}}}function w(m){return{v:"x",h:"y"}[m.orientation||"v"]}function p(m,t){var r=w(m),l=h(m,"box-violin"),i=h(m._fullInput||{},"candlestick");return l&&!i&&t===r&&m[r]===void 0&&m[r+"0"]===void 0}},31137:function(k,F,e){var h=e(73972),E=e(71828);F.manageCommandObserver=function(t,r,l,i){var f={},v=!0;r&&r._commandObserver&&(f=r._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var c=F.hasSimpleAPICommandBindings(t,l,f.lookupTable);if(r&&r._commandObserver){if(c)return f;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,f}if(c){n(t,c,f.cache),f.check=function(){if(v){var g=n(t,c,f.cache);return g.changed&&i&&f.lookupTable[g.value]!==void 0&&(f.disable(),Promise.resolve(i({value:g.value,type:c.type,prop:c.prop,traces:c.traces,index:f.lookupTable[g.value]})).then(f.enable,f.enable)),g.changed}};for(var x=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<x.length;d++)t._internalOn(x[d],f.check);f.remove=function(){for(var M=0;M<x.length;M++)t._removeInternalListener(x[M],f.check)}}else E.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){v=!1},f.enable=function(){v=!0},r&&(r._commandObserver=f),f},F.hasSimpleAPICommandBindings=function(t,r,l){var i,f=r.length,v;for(i=0;i<f;i++){var c,x=r[i],d=x.method,M=x.args;if(Array.isArray(M)||(M=[]),!d)return!1;var g=F.computeAPICommandBindings(t,d,M);if(g.length!==1)return!1;if(!v)v=g[0],Array.isArray(v.traces)&&v.traces.sort();else{if(c=g[0],c.type!==v.type||c.prop!==v.prop)return!1;if(Array.isArray(v.traces))if(Array.isArray(c.traces)){c.traces.sort();for(var u=0;u<v.traces.length;u++)if(v.traces[u]!==c.traces[u])return!1}else return!1;else if(c.prop!==v.prop)return!1}c=g[0];var y=c.value;if(Array.isArray(y))if(y.length===1)y=y[0];else return!1;l&&(l[y]=i)}return v};function n(t,r,l){var i,f,v,c=!1;if(r.type==="data")i=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")i=t._fullLayout;else return!1;return f=E.nestedProperty(i,r.prop).get(),v=l[r.type]=l[r.type]||{},v.hasOwnProperty(r.prop)&&v[r.prop]!==f&&(c=!0),v[r.prop]=f,{changed:c,value:f}}F.executeAPICommand=function(t,r,l){if(r==="skip")return Promise.resolve();var i=h.apiMethodRegistry[r],f=[t];Array.isArray(l)||(l=[]);for(var v=0;v<l.length;v++)f.push(l[v]);return i.apply(null,f).catch(function(c){return E.warn("API call to Plotly."+r+" rejected.",c),Promise.reject(c)})},F.computeAPICommandBindings=function(t,r,l){var i;switch(Array.isArray(l)||(l=[]),r){case"restyle":i=p(t,l);break;case"relayout":i=w(t,l);break;case"update":i=p(t,[l[0],l[2]]).concat(w(t,[l[1]]));break;case"animate":i=L(t,l);break;default:i=[]}return i};function L(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function w(t,r){var l=[],i=r[0],f={};if(typeof i=="string")f[i]=r[1];else if(E.isPlainObject(i))f=i;else return l;return m(f,function(v,c,x){l.push({type:"layout",prop:v,value:x})},"",0),l}function p(t,r){var l,i,f,v,c=[];if(i=r[0],f=r[1],l=r[2],v={},typeof i=="string")v[i]=f;else if(E.isPlainObject(i))v=i,l===void 0&&(l=f);else return c;return l===void 0&&(l=null),m(v,function(x,d,M){var g,u;if(Array.isArray(M)){u=M.slice();var y=Math.min(u.length,t.data.length);l&&(y=Math.min(y,l.length)),g=[];for(var C=0;C<y;C++)g[C]=l?l[C]:C}else u=M,g=l?l.slice():null;if(g===null)Array.isArray(u)&&(u=u[0]);else if(Array.isArray(g)){if(!Array.isArray(u)){var S=u;u=[];for(var D=0;D<g.length;D++)u[D]=S}u.length=Math.min(g.length,u.length)}c.push({type:"data",prop:x,traces:g,value:u})},"",0),c}function m(t,r,l,i){Object.keys(t).forEach(function(f){var v=t[f];if(f[0]!=="_"){var c=l+(i>0?".":"")+f;E.isPlainObject(v)?m(v,r,c,i+1):r(c,f,v)}})}},27670:function(k,F,e){var h=e(1426).extendFlat;F.Y=function(E,n){E=E||{},n=n||{};var L={valType:"info_array",editType:E.editType,items:[{valType:"number",min:0,max:1,editType:E.editType},{valType:"number",min:0,max:1,editType:E.editType}],dflt:[0,1]};E.name&&E.name+"",E.trace,n.description&&""+n.description;var w={x:h({},L,{}),y:h({},L,{}),editType:E.editType};return E.noGridCell||(w.row={valType:"integer",min:0,dflt:0,editType:E.editType},w.column={valType:"integer",min:0,dflt:0,editType:E.editType}),w},F.c=function(E,n,L,w){var p=w&&w.x||[0,1],m=w&&w.y||[0,1],t=n.grid;if(t){var r=L("domain.column");r!==void 0&&(r<t.columns?p=t._domains.x[r]:delete E.domain.column);var l=L("domain.row");l!==void 0&&(l<t.rows?m=t._domains.y[l]:delete E.domain.row)}var i=L("domain.x",p),f=L("domain.y",m);i[0]<i[1]||(E.domain.x=p.slice()),f[0]<f[1]||(E.domain.y=m.slice())}},41940:function(k){k.exports=function(F){var e=F.editType,h=F.colorEditType;h===void 0&&(h=e);var E={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:h},editType:e};return F.autoSize&&(E.size.dflt="auto"),F.autoColor&&(E.color.dflt="auto"),F.arrayOk&&(E.family.arrayOk=!0,E.size.arrayOk=!0,E.color.arrayOk=!0),E}},31391:function(k){k.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(k,F){F.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},F.axesNames=["lonaxis","lataxis"],F.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},F.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},F.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},F.clipPad=.001,F.precision=.1,F.landColor="#F0DC82",F.waterColor="#3399FF",F.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},F.sphereSVG={type:"Sphere"},F.fillLayers={ocean:1,land:1,lakes:1},F.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},F.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],F.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],F.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(k,F,e){var h=e(39898),E=e(27362),n=E.geoPath,L=E.geoDistance,w=e(65704),p=e(73972),m=e(71828),t=m.strTranslate,r=e(7901),l=e(91424),i=e(30211),f=e(74875),v=e(89298),c=e(71739).getAutoRange,x=e(28569),d=e(47322).prepSelect,M=e(47322).clearOutline,g=e(47322).selectOnClick,u=e(74455),y=e(78776),C=e(41327),S=e(90973),D=e(96892).zL;function T(b){this.id=b.id,this.graphDiv=b.graphDiv,this.container=b.container,this.topojsonURL=b.topojsonURL,this.isStatic=b.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var P=T.prototype;k.exports=function(N){return new T(N)},P.plot=function(b,N,O,Y){var B=this;if(Y)return B.update(b,N,!0);B._geoCalcData=b,B._fullLayout=N;var W=N[this.id],H=[],U=!1;for(var G in y.layerNameToAdjective)if(G!=="frame"&&W["show"+G]){U=!0;break}for(var j=!1,re=0;re<b.length;re++){var ae=b[0][0].trace;ae._geo=B,ae.locationmode&&(U=!0);var ue=ae.marker;if(ue){var de=ue.angle,ee=ue.angleref;(de||ee==="north"||ee==="previous")&&(j=!0)}}if(this._hasMarkerAngles=j,U){var X=S.getTopojsonName(W);(B.topojson===null||X!==B.topojsonName)&&(B.topojsonName=X,PlotlyGeoAssets.topojson[B.topojsonName]===void 0&&H.push(B.fetchTopojson()))}H=H.concat(C.fetchTraceGeoData(b)),O.push(new Promise(function(Q,$){Promise.all(H).then(function(){B.topojson=PlotlyGeoAssets.topojson[B.topojsonName],B.update(b,N),Q()}).catch($)}))},P.fetchTopojson=function(){var b=this,N=S.getTopojsonPath(b.topojsonURL,b.topojsonName);return new Promise(function(O,Y){h.json(N,function(B,W){if(B)return B.status===404?Y(new Error(["plotly.js could not find topojson file at",N+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):Y(new Error(["unexpected error while fetching topojson file at",N].join(" ")));PlotlyGeoAssets.topojson[b.topojsonName]=W,O()})})},P.update=function(b,N,O){var Y=N[this.id];this.hasChoropleth=!1;for(var B=0;B<b.length;B++){var W=b[B],H=W[0].trace;H.type==="choropleth"&&(this.hasChoropleth=!0),H.visible===!0&&H._length>0&&H._module.calcGeoJSON(W,N)}if(!O){var U=this.updateProjection(b,N);if(U)return;(!this.viewInitial||this.scope!==Y.scope)&&this.saveViewInitial(Y)}this.scope=Y.scope,this.updateBaseLayers(N,Y),this.updateDims(N,Y),this.updateFx(N,Y),f.generalUpdatePerTraceModule(this.graphDiv,this,b,Y);var G=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=G.selectAll(".point"),this.dataPoints.text=G.selectAll("text"),this.dataPaths.line=G.selectAll(".js-line");var j=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=j.selectAll("path"),this._render()},P.updateProjection=function(b,N){var O=this.graphDiv,Y=N[this.id],B=N._size,W=Y.domain,H=Y.projection,U=Y.lonaxis,G=Y.lataxis,j=U._ax,re=G._ax,ae=this.projection=A(Y),ue=[[B.l+B.w*W.x[0],B.t+B.h*(1-W.y[1])],[B.l+B.w*W.x[1],B.t+B.h*(1-W.y[0])]],de=Y.center||{},ee=H.rotation||{},X=U.range||[],Q=G.range||[];if(Y.fitbounds){j._length=ue[1][0]-ue[0][0],re._length=ue[1][1]-ue[0][1],j.range=c(O,j),re.range=c(O,re);var $=(j.range[0]+j.range[1])/2,ne=(re.range[0]+re.range[1])/2;if(Y._isScoped)de={lon:$,lat:ne};else if(Y._isClipped){de={lon:$,lat:ne},ee={lon:$,lat:ne,roll:ee.roll};var fe=H.type,te=y.lonaxisSpan[fe]/2||180,q=y.lataxisSpan[fe]/2||90;X=[$-te,$+te],Q=[ne-q,ne+q]}else de={lon:$,lat:ne},ee={lon:$,lat:ee.lat,roll:ee.roll}}ae.center([de.lon-ee.lon,de.lat-ee.lat]).rotate([-ee.lon,-ee.lat,ee.roll]).parallels(H.parallels);var he=R(X,Q);ae.fitExtent(ue,he);var se=this.bounds=ae.getBounds(he),pe=this.fitScale=ae.scale(),we=ae.translate();if(Y.fitbounds){var Ee=ae.getBounds(R(j.range,re.range)),Me=Math.min((se[1][0]-se[0][0])/(Ee[1][0]-Ee[0][0]),(se[1][1]-se[0][1])/(Ee[1][1]-Ee[0][1]));isFinite(Me)?ae.scale(Me*pe):m.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ae.scale(H.scale*pe);var Be=this.midPt=[(se[0][0]+se[1][0])/2,(se[0][1]+se[1][1])/2];if(ae.translate([we[0]+(Be[0]-we[0]),we[1]+(Be[1]-we[1])]).clipExtent(se),Y._isAlbersUsa){var Ne=ae([de.lon,de.lat]),Ce=ae.translate();ae.translate([Ce[0]-(Ne[0]-Ce[0]),Ce[1]-(Ne[1]-Ce[1])])}},P.updateBaseLayers=function(b,N){var O=this,Y=O.topojson,B=O.layers,W=O.basePaths;function H(ue){return ue==="lonaxis"||ue==="lataxis"}function U(ue){return Boolean(y.lineLayers[ue])}function G(ue){return Boolean(y.fillLayers[ue])}var j=this.hasChoropleth?y.layersForChoropleth:y.layers,re=j.filter(function(ue){return U(ue)||G(ue)?N["show"+ue]:H(ue)?N[ue].showgrid:!0}),ae=O.framework.selectAll(".layer").data(re,String);ae.exit().each(function(ue){delete B[ue],delete W[ue],h.select(this).remove()}),ae.enter().append("g").attr("class",function(ue){return"layer "+ue}).each(function(ue){var de=B[ue]=h.select(this);ue==="bg"?O.bgRect=de.append("rect").style("pointer-events","all"):H(ue)?W[ue]=de.append("path").style("fill","none"):ue==="backplot"?de.append("g").classed("choroplethlayer",!0):ue==="frontplot"?de.append("g").classed("scatterlayer",!0):U(ue)?W[ue]=de.append("path").style("fill","none").style("stroke-miterlimit",2):G(ue)&&(W[ue]=de.append("path").style("stroke","none"))}),ae.order(),ae.each(function(ue){var de=W[ue],ee=y.layerNameToAdjective[ue];ue==="frame"?de.datum(y.sphereSVG):U(ue)||G(ue)?de.datum(D(Y,Y.objects[ue])):H(ue)&&de.datum(a(ue,N,b)).call(r.stroke,N[ue].gridcolor).call(l.dashLine,N[ue].griddash,N[ue].gridwidth),U(ue)?de.call(r.stroke,N[ee+"color"]).call(l.dashLine,"",N[ee+"width"]):G(ue)&&de.call(r.fill,N[ee+"color"])})},P.updateDims=function(b,N){var O=this.bounds,Y=(N.framewidth||0)/2,B=O[0][0]-Y,W=O[0][1]-Y,H=O[1][0]-B+Y,U=O[1][1]-W+Y;l.setRect(this.clipRect,B,W,H,U),this.bgRect.call(l.setRect,B,W,H,U).call(r.fill,N.bgcolor),this.xaxis._offset=B,this.xaxis._length=H,this.yaxis._offset=W,this.yaxis._length=U},P.updateFx=function(b,N){var O=this,Y=O.graphDiv,B=O.bgRect,W=b.dragmode,H=b.clickmode;if(O.isStatic)return;function U(){var ae=O.viewInitial,ue={};for(var de in ae)ue[O.id+"."+de]=ae[de];p.call("_guiRelayout",Y,ue),Y.emit("plotly_doubleclick",null)}function G(ae){return O.projection.invert([ae[0]+O.xaxis._offset,ae[1]+O.yaxis._offset])}var j=function(ae,ue){if(ue.isRect){var de=ae.range={};de[O.id]=[G([ue.xmin,ue.ymin]),G([ue.xmax,ue.ymax])]}else{var ee=ae.lassoPoints={};ee[O.id]=ue.map(G)}},re={element:O.bgRect.node(),gd:Y,plotinfo:{id:O.id,xaxis:O.xaxis,yaxis:O.yaxis,fillRangeItems:j},xaxes:[O.xaxis],yaxes:[O.yaxis],subplot:O.id,clickFn:function(ae){ae===2&&M(Y)}};W==="pan"?(B.node().onmousedown=null,B.call(u(O,N)),B.on("dblclick.zoom",U),Y._context._scrollZoom.geo||B.on("wheel.zoom",null)):(W==="select"||W==="lasso")&&(B.on(".zoom",null),re.prepFn=function(ae,ue,de){d(ae,ue,de,re,W)},x.init(re)),B.on("mousemove",function(){var ae=O.projection.invert(m.getPositionFromD3Event());if(!ae)return x.unhover(Y,h.event);O.xaxis.p2c=function(){return ae[0]},O.yaxis.p2c=function(){return ae[1]},i.hover(Y,h.event,O.id)}),B.on("mouseout",function(){Y._dragging||x.unhover(Y,h.event)}),B.on("click",function(){W!=="select"&&W!=="lasso"&&(H.indexOf("select")>-1&&g(h.event,Y,[O.xaxis],[O.yaxis],O.id,re),H.indexOf("event")>-1&&i.click(Y,h.event))})},P.makeFramework=function(){var b=this,N=b.graphDiv,O=N._fullLayout,Y="clip"+O._uid+b.id;b.clipDef=O._clips.append("clipPath").attr("id",Y),b.clipRect=b.clipDef.append("rect"),b.framework=h.select(b.container).append("g").attr("class","geo "+b.id).call(l.setClipUrl,Y,N),b.project=function(B){var W=b.projection(B);return W?[W[0]-b.xaxis._offset,W[1]-b.yaxis._offset]:[null,null]},b.xaxis={_id:"x",c2p:function(B){return b.project(B)[0]}},b.yaxis={_id:"y",c2p:function(B){return b.project(B)[1]}},b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},v.setConvert(b.mockAxis,O)},P.saveViewInitial=function(b){var N=b.center||{},O=b.projection,Y=O.rotation||{};this.viewInitial={fitbounds:b.fitbounds,"projection.scale":O.scale};var B;b._isScoped?B={"center.lon":N.lon,"center.lat":N.lat}:b._isClipped?B={"projection.rotation.lon":Y.lon,"projection.rotation.lat":Y.lat}:B={"center.lon":N.lon,"center.lat":N.lat,"projection.rotation.lon":Y.lon},m.extendFlat(this.viewInitial,B)},P.render=function(b){this._hasMarkerAngles&&b?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},P._render=function(){var b=this.projection,N=b.getPath(),O;function Y(W){var H=b(W.lonlat);return H?t(H[0],H[1]):null}function B(W){return b.isLonLatOverEdges(W.lonlat)?"none":null}for(O in this.basePaths)this.basePaths[O].attr("d",N);for(O in this.dataPaths)this.dataPaths[O].attr("d",function(W){return N(W.geojson)});for(O in this.dataPoints)this.dataPoints[O].attr("display",B).attr("transform",Y)};function A(b){var N=b.projection,O=N.type,Y=y.projNames[O];Y="geo"+m.titleCase(Y);for(var B=E[Y]||w[Y],W=B(),H=b._isSatellite?Math.acos(1/N.distance)*180/Math.PI:b._isClipped?y.lonaxisSpan[O]/2:null,U=["center","rotate","parallels","clipExtent"],G=function(ae){return ae?W:[]},j=0;j<U.length;j++){var re=U[j];typeof W[re]!="function"&&(W[re]=G)}return W.isLonLatOverEdges=function(ae){if(W(ae)===null)return!0;if(H){var ue=W.rotate(),de=L(ae,[-ue[0],-ue[1]]),ee=H*Math.PI/180;return de>ee}else return!1},W.getPath=function(){return n().projection(W)},W.getBounds=function(ae){return W.getPath().bounds(ae)},W.precision(y.precision),b._isSatellite&&W.tilt(N.tilt).distance(N.distance),H&&W.clipAngle(H-y.clipPad),W}function a(b,N,O){var Y=1e-6,B=2.5,W=N[b],H=y.scopeDefaults[N.scope],U,G,j;b==="lonaxis"?(U=H.lonaxisRange,G=H.lataxisRange,j=function(ne,fe){return[ne,fe]}):b==="lataxis"&&(U=H.lataxisRange,G=H.lonaxisRange,j=function(ne,fe){return[fe,ne]});var re={type:"linear",range:[U[0],U[1]-Y],tick0:W.tick0,dtick:W.dtick};v.setConvert(re,O);var ae=v.calcTicks(re);!N.isScoped&&b==="lonaxis"&&ae.pop();for(var ue=ae.length,de=new Array(ue),ee=0;ee<ue;ee++)for(var X=ae[ee].x,Q=de[ee]=[],$=G[0];$<G[1]+B;$+=B)Q.push(j(X,$));return{type:"MultiLineString",coordinates:de}}function R(b,N){var O=y.clipPad,Y=b[0]+O,B=b[1]-O,W=N[0]+O,H=N[1]-O;Y>0&&B<0&&(B+=360);var U=(B-Y)/4;return{type:"Polygon",coordinates:[[[Y,W],[Y,H],[Y+U,H],[Y+2*U,H],[Y+3*U,H],[B,H],[B,W],[B-U,W],[B-2*U,W],[B-3*U,W],[Y,W]]]}}},44622:function(k,F,e){var h=e(27659).AU,E=e(71828).counterRegex,n=e(69082),L="geo",w=E(L),p={};p[L]={valType:"subplotid",dflt:L,editType:"calc"};function m(l){for(var i=l._fullLayout,f=l.calcdata,v=i._subplots[L],c=0;c<v.length;c++){var x=v[c],d=h(f,L,x),M=i[x],g=M._subplot;g||(g=n({id:x,graphDiv:l,container:i._geolayer.node(),topojsonURL:l._context.topojsonURL,staticPlot:l._context.staticPlot}),i[x]._subplot=g),g.plot(d,i,l._promises)}}function t(l,i,f,v){for(var c=v._subplots[L]||[],x=0;x<c.length;x++){var d=c[x],M=v[d]._subplot;!i[d]&&M&&(M.framework.remove(),M.clipDef.remove())}}function r(l){for(var i=l._fullLayout,f=i._subplots[L],v=0;v<f.length;v++){var c=i[f[v]],x=c._subplot;x.updateFx(i,c)}}k.exports={attr:L,name:L,idRoot:L,idRegex:w,attrRegex:w,attributes:p,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:m,updateFx:r,clean:t}},77519:function(k,F,e){var h=e(22399),E=e(27670).Y,n=e(79952).P,L=e(78776),w=e(30962).overrideAll,p=e(78607),m={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:h.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:n},t=k.exports=w({domain:E({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:p(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:p(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:h.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:h.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:h.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:h.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:h.background},lonaxis:m,lataxis:m},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(k,F,e){var h=e(71828),E=e(49119),n=e(27659).NG,L=e(78776),w=e(77519),p=L.axesNames;k.exports=function(r,l,i){E(r,l,i,{type:"geo",attributes:w,handleDefaults:m,fullData:i,partition:"y"})};function m(t,r,l,i){var f=n(i.fullData,"geo",i.id),v=f.map(function(Q){return Q._expandedIndex}),c=l("resolution"),x=l("scope"),d=L.scopeDefaults[x],M=l("projection.type",d.projType),g=r._isAlbersUsa=M==="albers usa";g&&(x=r.scope="usa");var u=r._isScoped=x!=="world",y=r._isSatellite=M==="satellite",C=r._isConic=M.indexOf("conic")!==-1||M==="albers",S=r._isClipped=!!L.lonaxisSpan[M];if(t.visible===!1){var D=h.extendDeep({},r._template);D.showcoastlines=!1,D.showcountries=!1,D.showframe=!1,D.showlakes=!1,D.showland=!1,D.showocean=!1,D.showrivers=!1,D.showsubunits=!1,D.lonaxis&&(D.lonaxis.showgrid=!1),D.lataxis&&(D.lataxis.showgrid=!1),r._template=D}for(var T=l("visible"),P,A=0;A<p.length;A++){var a=p[A],R=[30,10][A],b;if(u)b=d[a+"Range"];else{var N=L[a+"Span"],O=(N[M]||N["*"])/2,Y=l("projection.rotation."+a.substr(0,3),d.projRotate[A]);b=[Y-O,Y+O]}var B=l(a+".range",b);l(a+".tick0"),l(a+".dtick",R),P=l(a+".showgrid",T?void 0:!1),P&&(l(a+".gridcolor"),l(a+".gridwidth"),l(a+".griddash")),r[a]._ax={type:"linear",_id:a.slice(0,3),_traceIndices:v,setScale:h.identity,c2l:h.identity,r2l:h.identity,autorange:!0,range:B.slice(),_m:1,_input:{}}}var W=r.lonaxis.range,H=r.lataxis.range,U=W[0],G=W[1];U>0&&G<0&&(G+=360);var j=(U+G)/2,re;if(!g){var ae=u?d.projRotate:[j,0,0];re=l("projection.rotation.lon",ae[0]),l("projection.rotation.lat",ae[1]),l("projection.rotation.roll",ae[2]),P=l("showcoastlines",!u&&T),P&&(l("coastlinecolor"),l("coastlinewidth")),P=l("showocean",T?void 0:!1),P&&l("oceancolor")}var ue,de;if(g?(ue=-96.6,de=38.7):(ue=u?j:re,de=(H[0]+H[1])/2),l("center.lon",ue),l("center.lat",de),y&&(l("projection.tilt"),l("projection.distance")),C){var ee=d.projParallels||[0,60];l("projection.parallels",ee)}l("projection.scale"),P=l("showland",T?void 0:!1),P&&l("landcolor"),P=l("showlakes",T?void 0:!1),P&&l("lakecolor"),P=l("showrivers",T?void 0:!1),P&&(l("rivercolor"),l("riverwidth")),P=l("showcountries",u&&x!=="usa"&&T),P&&(l("countrycolor"),l("countrywidth")),(x==="usa"||x==="north america"&&c===50)&&(l("showsubunits",T),l("subunitcolor"),l("subunitwidth")),u||(P=l("showframe",T),P&&(l("framecolor"),l("framewidth"))),l("bgcolor");var X=l("fitbounds");X&&(delete r.projection.scale,u?(delete r.center.lon,delete r.center.lat):S?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(k,F,e){var h=e(39898),E=e(71828),n=e(73972),L=Math.PI/180,w=180/Math.PI,p={cursor:"pointer"},m={cursor:"auto"};function t(a,R){var b=a.projection,N;return R._isScoped?N=i:R._isClipped?N=v:N=f,N(a,b)}k.exports=t;function r(a,R){return h.behavior.zoom().translate(R.translate()).scale(R.scale())}function l(a,R,b){var N=a.id,O=a.graphDiv,Y=O.layout,B=Y[N],W=O._fullLayout,H=W[N],U={},G={};function j(re,ae){U[N+"."+re]=E.nestedProperty(B,re).get(),n.call("_storeDirectGUIEdit",Y,W._preGUI,U);var ue=E.nestedProperty(H,re);ue.get()!==ae&&(ue.set(ae),E.nestedProperty(B,re).set(ae),G[N+"."+re]=ae)}b(j),j("projection.scale",R.scale()/a.fitScale),j("fitbounds",!1),O.emit("plotly_relayout",G)}function i(a,R){var b=r(a,R);function N(){h.select(this).style(p)}function O(){R.scale(h.event.scale).translate(h.event.translate),a.render(!0);var W=R.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":R.scale()/a.fitScale,"geo.center.lon":W[0],"geo.center.lat":W[1]})}function Y(W){var H=R.invert(a.midPt);W("center.lon",H[0]),W("center.lat",H[1])}function B(){h.select(this).style(m),l(a,R,Y)}return b.on("zoomstart",N).on("zoom",O).on("zoomend",B),b}function f(a,R){var b=r(a,R),N=2,O,Y,B,W,H,U,G,j,re;function ae($){return R.invert($)}function ue($){var ne=ae($);if(!ne)return!0;var fe=R(ne);return Math.abs(fe[0]-$[0])>N||Math.abs(fe[1]-$[1])>N}function de(){h.select(this).style(p),O=h.mouse(this),Y=R.rotate(),B=R.translate(),W=Y,H=ae(O)}function ee(){if(U=h.mouse(this),ue(O)){b.scale(R.scale()),b.translate(R.translate());return}R.scale(h.event.scale),R.translate([B[0],h.event.translate[1]]),H?ae(U)&&(j=ae(U),G=[W[0]+(j[0]-H[0]),Y[1],Y[2]],R.rotate(G),W=G):(O=U,H=ae(O)),re=!0,a.render(!0);var $=R.rotate(),ne=R.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":R.scale()/a.fitScale,"geo.center.lon":ne[0],"geo.center.lat":ne[1],"geo.projection.rotation.lon":-$[0]})}function X(){h.select(this).style(m),re&&l(a,R,Q)}function Q($){var ne=R.rotate(),fe=R.invert(a.midPt);$("projection.rotation.lon",-ne[0]),$("center.lon",fe[0]),$("center.lat",fe[1])}return b.on("zoomstart",de).on("zoom",ee).on("zoomend",X),b}function v(a,R){R.rotate(),R.scale();var b=r(a,R),N=A(b,"zoomstart","zoom","zoomend"),O=0,Y=b.on,B;b.on("zoomstart",function(){h.select(this).style(p);var j=h.mouse(this),re=R.rotate(),ae=re,ue=R.translate(),de=x(re);B=c(R,j),Y.call(b,"zoom",function(){var ee=h.mouse(this);if(R.scale(h.event.scale),!B)j=ee,B=c(R,j);else if(c(R,ee)){R.rotate(re).translate(ue);var X=c(R,ee),Q=M(B,X),$=S(d(de,Q)),ne=g($,B,ae);(!isFinite(ne[0])||!isFinite(ne[1])||!isFinite(ne[2]))&&(ne=ae),R.rotate(ne),ae=ne}H(N.of(this,arguments))}),W(N.of(this,arguments))}).on("zoomend",function(){h.select(this).style(m),Y.call(b,"zoom",null),U(N.of(this,arguments)),l(a,R,G)}).on("zoom.redraw",function(){a.render(!0);var j=R.rotate();a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":R.scale()/a.fitScale,"geo.projection.rotation.lon":-j[0],"geo.projection.rotation.lat":-j[1]})});function W(j){O++||j({type:"zoomstart"})}function H(j){j({type:"zoom"})}function U(j){--O||j({type:"zoomend"})}function G(j){var re=R.rotate();j("projection.rotation.lon",-re[0]),j("projection.rotation.lat",-re[1])}return h.rebind(b,N,"on")}function c(a,R){var b=a.invert(R);return b&&isFinite(b[0])&&isFinite(b[1])&&D(b)}function x(a){var R=.5*a[0]*L,b=.5*a[1]*L,N=.5*a[2]*L,O=Math.sin(R),Y=Math.cos(R),B=Math.sin(b),W=Math.cos(b),H=Math.sin(N),U=Math.cos(N);return[Y*W*U+O*B*H,O*W*U-Y*B*H,Y*B*U+O*W*H,Y*W*H-O*B*U]}function d(a,R){var b=a[0],N=a[1],O=a[2],Y=a[3],B=R[0],W=R[1],H=R[2],U=R[3];return[b*B-N*W-O*H-Y*U,b*W+N*B+O*U-Y*H,b*H-N*U+O*B+Y*W,b*U+N*H-O*W+Y*B]}function M(a,R){if(!(!a||!R)){var b=P(a,R),N=Math.sqrt(T(b,b)),O=.5*Math.acos(Math.max(-1,Math.min(1,T(a,R)))),Y=Math.sin(O)/N;return N&&[Math.cos(O),b[2]*Y,-b[1]*Y,b[0]*Y]}}function g(a,R,b){var N=C(R,2,a[0]);N=C(N,1,a[1]),N=C(N,0,a[2]-b[2]);var O=R[0],Y=R[1],B=R[2],W=N[0],H=N[1],U=N[2],G=Math.atan2(Y,O)*w,j=Math.sqrt(O*O+Y*Y),re,ae;Math.abs(H)>j?(ae=(H>0?90:-90)-G,re=0):(ae=Math.asin(H/j)*w-G,re=Math.sqrt(j*j-H*H));var ue=180-ae-2*G,de=(Math.atan2(U,W)-Math.atan2(B,re))*w,ee=(Math.atan2(U,W)-Math.atan2(B,-re))*w,X=u(b[0],b[1],ae,de),Q=u(b[0],b[1],ue,ee);return X<=Q?[ae,de,b[2]]:[ue,ee,b[2]]}function u(a,R,b,N){var O=y(b-a),Y=y(N-R);return Math.sqrt(O*O+Y*Y)}function y(a){return(a%360+540)%360-180}function C(a,R,b){var N=b*L,O=a.slice(),Y=R===0?1:0,B=R===2?1:2,W=Math.cos(N),H=Math.sin(N);return O[Y]=a[Y]*W-a[B]*H,O[B]=a[B]*W+a[Y]*H,O}function S(a){return[Math.atan2(2*(a[0]*a[1]+a[2]*a[3]),1-2*(a[1]*a[1]+a[2]*a[2]))*w,Math.asin(Math.max(-1,Math.min(1,2*(a[0]*a[2]-a[3]*a[1]))))*w,Math.atan2(2*(a[0]*a[3]+a[1]*a[2]),1-2*(a[2]*a[2]+a[3]*a[3]))*w]}function D(a){var R=a[0]*L,b=a[1]*L,N=Math.cos(b);return[N*Math.cos(R),N*Math.sin(R),Math.sin(b)]}function T(a,R){for(var b=0,N=0,O=a.length;N<O;++N)b+=a[N]*R[N];return b}function P(a,R){return[a[1]*R[2]-a[2]*R[1],a[2]*R[0]-a[0]*R[2],a[0]*R[1]-a[1]*R[0]]}function A(a){for(var R=0,b=arguments.length,N=[];++R<b;)N.push(arguments[R]);var O=h.dispatch.apply(null,N);return O.of=function(Y,B){return function(W){var H;try{H=W.sourceEvent=h.event,W.target=a,h.event=W,O[W.type].apply(Y,B)}finally{h.event=H}}},O}},27659:function(k,F,e){var h=e(73972),E=e(85555).SUBPLOT_PATTERN;F.AU=function(n,L,w){var p=h.subplotsRegistry[L];if(!p)return[];for(var m=p.attr,t=[],r=0;r<n.length;r++){var l=n[r],i=l[0].trace;i[m]===w&&t.push(l)}return t},F.a0=function(n,L){var w=[],p=[],m;if(typeof L=="string"?m=h.getModule(L).plot:typeof L=="function"?m=L:m=L.plot,!m)return[w,n];for(var t=0;t<n.length;t++){var r=n[t],l=r[0].trace;l.visible!==!0||l._length===0||(l._module&&l._module.plot===m?w.push(r):p.push(r))}return[w,p]},F.NG=function(L,w,p){if(!h.subplotsRegistry[w])return[];var m=h.subplotsRegistry[w].attr,t=[],r,l,i;if(w==="gl2d"){var f=p.match(E);l="x"+f[1],i="y"+f[2]}for(var v=0;v<L.length;v++)r=L[v],w==="gl2d"&&h.traceIs(r,"gl2d")?r[m[0]]===l&&r[m[1]]===i&&t.push(r):r[m]===p&&t.push(r);return t}},75071:function(k,F,e){var h=e(16825),E=e(1195),n=e(48956),L=e(85555),w=e(38520);k.exports=m;function p(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function m(t){var r=t.mouseContainer,l=t.glplot,i=new p(r,l);function f(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function v(){for(var x=t.graphDiv._fullLayout._axisConstraintGroups,d=t.xaxis._id,M=t.yaxis._id,g=0;g<x.length;g++)if(x[g][d]!==-1){if(x[g][M]!==-1)return!0;break}return!1}i.mouseListener=h(r,c),r.addEventListener("touchstart",function(x){var d=n(x.changedTouches[0],r);c(0,d[0],d[1]),c(1,d[0],d[1]),x.preventDefault()},w?{passive:!1}:!1),r.addEventListener("touchmove",function(x){x.preventDefault();var d=n(x.changedTouches[0],r);c(1,d[0],d[1]),x.preventDefault()},w?{passive:!1}:!1),r.addEventListener("touchend",function(x){c(0,i.lastPos[0],i.lastPos[1]),x.preventDefault()},w?{passive:!1}:!1);function c(x,d,M){var g=t.calcDataBox(),u=l.viewBox,y=i.lastPos[0],C=i.lastPos[1],S=L.MINDRAG*l.pixelRatio,D=L.MINZOOM*l.pixelRatio,T,P;d*=l.pixelRatio,M*=l.pixelRatio,M=u[3]-u[1]-M;function A(Y,B,W){var H=Math.min(B,W),U=Math.max(B,W);H!==U?(g[Y]=H,g[Y+2]=U,i.dataBox=g,t.setRanges(g)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(x){var a=d/(u[2]-u[0])*(g[2]-g[0])+g[0],R=M/(u[3]-u[1])*(g[3]-g[1])+g[1];i.boxInited||(i.boxStart[0]=a,i.boxStart[1]=R,i.dragStart[0]=d,i.dragStart[1]=M),i.boxEnd[0]=a,i.boxEnd[1]=R,i.boxInited=!0,!i.boxEnabled&&(i.boxStart[0]!==i.boxEnd[0]||i.boxStart[1]!==i.boxEnd[1])&&(i.boxEnabled=!0);var b=Math.abs(i.dragStart[0]-d)<D,N=Math.abs(i.dragStart[1]-M)<D;if(v()&&!(b&&N)){T=i.boxEnd[0]-i.boxStart[0],P=i.boxEnd[1]-i.boxStart[1];var O=(g[3]-g[1])/(g[2]-g[0]);Math.abs(T*O)>Math.abs(P)?(i.boxEnd[1]=i.boxStart[1]+Math.abs(T)*O*(P>=0?1:-1),i.boxEnd[1]<g[1]?(i.boxEnd[1]=g[1],i.boxEnd[0]=i.boxStart[0]+(g[1]-i.boxStart[1])/Math.abs(O)):i.boxEnd[1]>g[3]&&(i.boxEnd[1]=g[3],i.boxEnd[0]=i.boxStart[0]+(g[3]-i.boxStart[1])/Math.abs(O))):(i.boxEnd[0]=i.boxStart[0]+Math.abs(P)/O*(T>=0?1:-1),i.boxEnd[0]<g[0]?(i.boxEnd[0]=g[0],i.boxEnd[1]=i.boxStart[1]+(g[0]-i.boxStart[0])*Math.abs(O)):i.boxEnd[0]>g[2]&&(i.boxEnd[0]=g[2],i.boxEnd[1]=i.boxStart[1]+(g[2]-i.boxStart[0])*Math.abs(O)))}else b&&(i.boxEnd[0]=i.boxStart[0]),N&&(i.boxEnd[1]=i.boxStart[1])}else i.boxEnabled?(T=i.boxStart[0]!==i.boxEnd[0],P=i.boxStart[1]!==i.boxEnd[1],T||P?(T&&(A(0,i.boxStart[0],i.boxEnd[0]),t.xaxis.autorange=!1),P&&(A(1,i.boxStart[1],i.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),i.boxEnabled=!1,i.boxInited=!1):i.boxInited&&(i.boxInited=!1);break;case"pan":i.boxEnabled=!1,i.boxInited=!1,x?(i.panning||(i.dragStart[0]=d,i.dragStart[1]=M),Math.abs(i.dragStart[0]-d)<S&&(d=i.dragStart[0]),Math.abs(i.dragStart[1]-M)<S&&(M=i.dragStart[1]),T=(y-d)*(g[2]-g[0])/(l.viewBox[2]-l.viewBox[0]),P=(C-M)*(g[3]-g[1])/(l.viewBox[3]-l.viewBox[1]),g[0]+=T,g[2]+=T,g[1]+=P,g[3]+=P,t.setRanges(g),i.panning=!0,i.lastInputTime=Date.now(),f(),t.cameraChanged(),t.handleAnnotations()):i.panning&&(i.panning=!1,t.relayoutCallback());break}i.lastPos[0]=d,i.lastPos[1]=M}return i.wheelListener=E(r,function(x,d){if(!t.scrollZoom)return!1;var M=t.calcDataBox(),g=l.viewBox,u=i.lastPos[0],y=i.lastPos[1],C=Math.exp(5*d/(g[3]-g[1])),S=u/(g[2]-g[0])*(M[2]-M[0])+M[0],D=y/(g[3]-g[1])*(M[3]-M[1])+M[1];return M[0]=(M[0]-S)*C+S,M[2]=(M[2]-S)*C+S,M[1]=(M[1]-D)*C+D,M[3]=(M[3]-D)*C+D,t.setRanges(M),i.lastInputTime=Date.now(),f(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),i}},82961:function(k,F,e){var h=e(89298),E=e(78614);function n(m){this.scene=m,this.gl=m.gl,this.pixelRatio=m.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=n.prototype,w=["xaxis","yaxis"];L.merge=function(m){this.titleEnable=!1,this.backgroundColor=E(m.plot_bgcolor);var t,r,l,i,f,v,c,x,d,M,g;for(M=0;M<2;++M){t=w[M];var u=t.charAt(0);for(r=m[this.scene[t]._name],l=r.title.text===this.scene.fullLayout._dfltTitle[u]?"":r.title.text,g=0;g<=2;g+=2)this.labelEnable[M+g]=!1,this.labels[M+g]=l,this.labelColor[M+g]=E(r.title.font.color),this.labelFont[M+g]=r.title.font.family,this.labelSize[M+g]=r.title.font.size,this.labelPad[M+g]=this.getLabelPad(t,r),this.tickEnable[M+g]=!1,this.tickColor[M+g]=E((r.tickfont||{}).color),this.tickAngle[M+g]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[M+g]=this.getTickPad(r),this.tickMarkLength[M+g]=0,this.tickMarkWidth[M+g]=r.tickwidth||0,this.tickMarkColor[M+g]=E(r.tickcolor),this.borderLineEnable[M+g]=!1,this.borderLineColor[M+g]=E(r.linecolor),this.borderLineWidth[M+g]=r.linewidth||0;c=this.hasSharedAxis(r),f=this.hasAxisInDfltPos(t,r)&&!c,v=this.hasAxisInAltrPos(t,r)&&!c,i=r.mirror||!1,x=c?String(i).indexOf("all")!==-1:!!i,d=c?i==="allticks":String(i).indexOf("ticks")!==-1,f?this.labelEnable[M]=!0:v&&(this.labelEnable[M+2]=!0),f?this.tickEnable[M]=r.showticklabels:v&&(this.tickEnable[M+2]=r.showticklabels),(f||x)&&(this.borderLineEnable[M]=r.showline),(v||x)&&(this.borderLineEnable[M+2]=r.showline),(f||d)&&(this.tickMarkLength[M]=this.getTickMarkLength(r)),(v||d)&&(this.tickMarkLength[M+2]=this.getTickMarkLength(r)),this.gridLineEnable[M]=r.showgrid,this.gridLineColor[M]=E(r.gridcolor),this.gridLineWidth[M]=r.gridwidth,this.zeroLineEnable[M]=r.zeroline,this.zeroLineColor[M]=E(r.zerolinecolor),this.zeroLineWidth[M]=r.zerolinewidth}},L.hasSharedAxis=function(m){var t=this.scene,r=t.fullLayout._subplots.gl2d,l=h.findSubplotsWithAxis(r,m);return l.indexOf(t.id)!==0},L.hasAxisInDfltPos=function(m,t){var r=t.side;if(m==="xaxis")return r==="bottom";if(m==="yaxis")return r==="left"},L.hasAxisInAltrPos=function(m,t){var r=t.side;if(m==="xaxis")return r==="top";if(m==="yaxis")return r==="right"},L.getLabelPad=function(m,t){var r=1.5,l=t.title.font.size,i=t.showticklabels;if(m==="xaxis")return t.side==="top"?-10+l*(r+(i?1:0)):-10+l*(r+(i?.5:0));if(m==="yaxis")return t.side==="right"?10+l*(r+(i?1:.5)):10+l*(r+(i?.5:0))},L.getTickPad=function(m){return m.ticks==="outside"?10+m.ticklen:15},L.getTickMarkLength=function(m){if(!m.ticks)return 0;var t=m.ticklen;return m.ticks==="inside"?-t:t};function p(m){return new n(m)}k.exports=p},4796:function(k,F,e){var h=e(30962).overrideAll,E=e(92918),n=e(10820),L=e(77922),w=e(85555),p=e(93612),m=e(528),t=e(27659).NG;F.name="gl2d",F.attr=["xaxis","yaxis"],F.idRoot=["x","y"],F.idRegex=w.idRegex,F.attrRegex=w.attrRegex,F.attributes=e(89502),F.supplyLayoutDefaults=function(r,l,i){l._has("cartesian")||p.supplyLayoutDefaults(r,l,i)},F.layoutAttrOverrides=h(p.layoutAttributes,"plot","from-root"),F.baseLayoutAttrOverrides=h({plot_bgcolor:n.plot_bgcolor,hoverlabel:m.hoverlabel},"plot","nested"),F.plot=function(l){for(var i=l._fullLayout,f=l._fullData,v=i._subplots.gl2d,c=0;c<v.length;c++){var x=v[c],d=i._plots[x],M=t(f,"gl2d",x),g=d._scene2d;g===void 0&&(g=new E({id:x,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio},i),d._scene2d=g),g.plot(M,l.calcdata,i,l.layout)}},F.clean=function(r,l,i,f){for(var v=f._subplots.gl2d||[],c=0;c<v.length;c++){var x=v[c],d=f._plots[x];if(d._scene2d){var M=t(r,"gl2d",x);M.length===0&&(d._scene2d.destroy(),delete f._plots[x])}}p.clean.apply(this,arguments)},F.drawFramework=function(r){r._context.staticPlot||p.drawFramework(r)},F.toSVG=function(r){for(var l=r._fullLayout,i=l._subplots.gl2d,f=0;f<i.length;f++){var v=l._plots[i[f]],c=v._scene2d,x=c.toImage("png"),d=l._glimages.append("svg:image");d.attr({xmlns:L.svg,"xlink:href":x,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),c.destroy()}},F.updateFx=function(r){for(var l=r._fullLayout,i=l._subplots.gl2d,f=0;f<i.length;f++){var v=l._plots[i[f]]._scene2d;v.updateFx(l.dragmode)}}},92918:function(k,F,e){var h=e(73972),E=e(89298),n=e(30211),L=e(9330).gl_plot2d,w=e(9330).gl_spikes2d,p=e(9330).gl_select_box,m=e(40372),t=e(82961),r=e(75071),l=e(58617),i=e(99082),f=i.enforce,v=i.clean,c=e(71739).doAutoRange,x=e(64505),d=x.drawMode,M=x.selectMode,g=["xaxis","yaxis"],u,y,C=e(85555).SUBPLOT_PATTERN;function S(P,A){this.container=P.container,this.graphDiv=P.graphDiv,this.pixelRatio=P.plotGlPixelRatio||window.devicePixelRatio,this.id=P.id,this.staticPlot=!!P.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(A),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(A),this.glplot=L(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=w(this.glplot),this.selectBox=p(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}k.exports=S;var D=S.prototype;D.makeFramework=function(){if(this.staticPlot){if(!y&&(u=document.createElement("canvas"),y=m({canvas:u,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!y))throw new Error("Error creating static canvas/context for image server");this.canvas=u,this.gl=y}else{var P=this.container.querySelector(".gl-canvas-focus"),A=m({canvas:P,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!A){l(this),this.stopped=!0;return}this.canvas=P,this.gl=A}var a=this.canvas;a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style["pointer-events"]="none",this.updateSize(a);var R=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");R.style.position="absolute",R.style.top=R.style.left="0px",R.style.width=R.style.height="100%",R.style["z-index"]=20,R.style["pointer-events"]="none";var b=this.mouseContainer=document.createElement("div");b.style.position="absolute",b.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var N=this.container;N.appendChild(R),N.appendChild(b);var O=this;b.addEventListener("mouseout",function(){O.isMouseOver=!1,O.unhover()}),b.addEventListener("mouseover",function(){O.isMouseOver=!0})},D.toImage=function(P){P||(P="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(u),this.updateSize(this.canvas);var A=this.glplot.gl,a=A.drawingBufferWidth,R=A.drawingBufferHeight;A.clearColor(1,1,1,0),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),A.bindFramebuffer(A.FRAMEBUFFER,null);var b=new Uint8Array(a*R*4);A.readPixels(0,0,a,R,A.RGBA,A.UNSIGNED_BYTE,b);for(var N=0,O=R-1;N<O;++N,--O)for(var Y=0;Y<a;++Y)for(var B=0;B<4;++B){var W=b[4*(a*N+Y)+B];b[4*(a*N+Y)+B]=b[4*(a*O+Y)+B],b[4*(a*O+Y)+B]=W}var H=document.createElement("canvas");H.width=a,H.height=R;var U=H.getContext("2d",{willReadFrequently:!0}),G=U.createImageData(a,R);G.data.set(b),U.putImageData(G,0,0);var j;switch(P){case"jpeg":j=H.toDataURL("image/jpeg");break;case"webp":j=H.toDataURL("image/webp");break;default:j=H.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(u),j},D.updateSize=function(P){P||(P=this.canvas);var A=this.pixelRatio,a=this.fullLayout,R=a.width,b=a.height,N=Math.ceil(A*R)|0,O=Math.ceil(A*b)|0;return(P.width!==N||P.height!==O)&&(P.width=N,P.height=O),P},D.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var P=[E.calcTicks(this.xaxis),E.calcTicks(this.yaxis)],A=0;A<2;++A)for(var a=0;a<P[A].length;++a)P[A][a].text=P[A][a].text+"";return P};function T(P,A){for(var a=0;a<2;++a){var R=P[a],b=A[a];if(R.length!==b.length)return!0;for(var N=0;N<R.length;++N)if(R[N].x!==b[N].x)return!0}return!1}D.updateRefs=function(P){this.fullLayout=P;var A=this.id.match(C),a="xaxis"+A[1],R="yaxis"+A[2];this.xaxis=this.fullLayout[a],this.yaxis=this.fullLayout[R]},D.relayoutCallback=function(){var P=this.graphDiv,A=this.xaxis,a=this.yaxis,R=P.layout,b={},N=b[A._name+".range"]=A.range.slice(),O=b[a._name+".range"]=a.range.slice();b[A._name+".autorange"]=A.autorange,b[a._name+".autorange"]=a.autorange,h.call("_storeDirectGUIEdit",P.layout,P._fullLayout._preGUI,b);var Y=R[A._name];Y.range=N,Y.autorange=A.autorange;var B=R[a._name];B.range=O,B.autorange=a.autorange,b.lastInputTime=this.camera.lastInputTime,P.emit("plotly_relayout",b)},D.cameraChanged=function(){var P=this.camera;this.glplot.setDataBox(this.calcDataBox());var A=this.computeTickMarks(),a=this.glplotOptions.ticks;T(A,a)&&(this.glplotOptions.ticks=A,this.glplotOptions.dataBox=P.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},D.handleAnnotations=function(){for(var P=this.graphDiv,A=this.fullLayout.annotations,a=0;a<A.length;a++){var R=A[a];R.xref===this.xaxis._id&&R.yref===this.yaxis._id&&h.getComponentMethod("annotations","drawOne")(P,a)}},D.destroy=function(){if(this.glplot){var P=this.traces;P&&Object.keys(P).map(function(A){P[A].dispose(),delete P[A]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},D.plot=function(P,A,a){var R=this.glplot;this.updateRefs(a),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(P,A),this.updateFx(a.dragmode);var b=a.width,N=a.height;this.updateSize(this.canvas);var O=this.glplotOptions;O.merge(a),O.screenBox=[0,0,b,N];var Y={_fullLayout:{_axisConstraintGroups:a._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:a._size}};v(Y,this.xaxis),v(Y,this.yaxis);var B=a._size,W=this.xaxis.domain,H=this.yaxis.domain;O.viewBox=[B.l+W[0]*B.w,B.b+H[0]*B.h,b-B.r-(1-W[1])*B.w,N-B.t-(1-H[1])*B.h],this.mouseContainer.style.width=B.w*(W[1]-W[0])+"px",this.mouseContainer.style.height=B.h*(H[1]-H[0])+"px",this.mouseContainer.height=B.h*(H[1]-H[0]),this.mouseContainer.style.left=B.l+W[0]*B.w+"px",this.mouseContainer.style.top=B.t+(1-H[1])*B.h+"px";var U,G;for(G=0;G<2;++G)U=this[g[G]],U._length=O.viewBox[G+2]-O.viewBox[G],c(this.graphDiv,U),U.setScale();f(Y),O.ticks=this.computeTickMarks(),O.dataBox=this.calcDataBox(),O.merge(a),R.update(O),this.glplot.draw()},D.calcDataBox=function(){var P=this.xaxis,A=this.yaxis,a=P.range,R=A.range,b=P.r2l,N=A.r2l;return[b(a[0]),N(R[0]),b(a[1]),N(R[1])]},D.setRanges=function(P){var A=this.xaxis,a=this.yaxis,R=A.l2r,b=a.l2r;A.range=[R(P[0]),R(P[2])],a.range=[b(P[1]),b(P[3])]},D.updateTraces=function(P,A){var a=Object.keys(this.traces),R,b,N;this.fullData=P;e:for(R=0;R<a.length;R++){var O=a[R],Y=this.traces[O];for(b=0;b<P.length;b++)if(N=P[b],N.uid===O&&N.type===Y.type)continue e;Y.dispose(),delete this.traces[O]}for(R=0;R<P.length;R++){N=P[R];var B=A[R],W=this.traces[N.uid];W?W.update(N,B):(W=N._module.plot(this,N,B),this.traces[N.uid]=W)}this.glplot.objects.sort(function(H,U){return H._trace.index-U._trace.index})},D.updateFx=function(P){M(P)||d(P)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),P==="pan"?this.mouseContainer.style.cursor="move":P==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},D.emitPointAction=function(P,A){for(var a=P.trace.uid,R=P.pointIndex,b,N=0;N<this.fullData.length;N++)this.fullData[N].uid===a&&(b=this.fullData[N]);var O={x:P.traceCoord[0],y:P.traceCoord[1],curveNumber:b.index,pointNumber:R,data:b._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};n.appendArrayPointValue(O,b,R),this.graphDiv.emit(A,{points:[O]})},D.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var P=this.glplot,A=this.camera,a=A.mouseListener,R=this.lastButtonState===1&&a.buttons===0,b=this.fullLayout;this.lastButtonState=a.buttons,this.cameraChanged();var N=a.x*P.pixelRatio,O=this.canvas.height-P.pixelRatio*a.y,Y;if(A.boxEnabled&&b.dragmode==="zoom"){this.selectBox.enabled=!0;for(var B=this.selectBox.selectBox=[Math.min(A.boxStart[0],A.boxEnd[0]),Math.min(A.boxStart[1],A.boxEnd[1]),Math.max(A.boxStart[0],A.boxEnd[0]),Math.max(A.boxStart[1],A.boxEnd[1])],W=0;W<2;W++)A.boxStart[W]===A.boxEnd[W]&&(B[W]=P.dataBox[W],B[W+2]=P.dataBox[W+2]);P.setDirty()}else if(!A.panning&&this.isMouseOver){this.selectBox.enabled=!1;var H=b._size,U=this.xaxis.domain,G=this.yaxis.domain;Y=P.pick(N/P.pixelRatio+H.l+U[0]*H.w,O/P.pixelRatio-(H.t+(1-G[1])*H.h));var j=Y&&Y.object._trace.handlePick(Y);if(j&&R&&this.emitPointAction(j,"plotly_click"),Y&&Y.object._trace.hoverinfo!=="skip"&&b.hovermode&&j&&(!this.lastPickResult||this.lastPickResult.traceUid!==j.trace.uid||this.lastPickResult.dataCoord[0]!==j.dataCoord[0]||this.lastPickResult.dataCoord[1]!==j.dataCoord[1])){var re=j;this.lastPickResult={traceUid:j.trace?j.trace.uid:null,dataCoord:j.dataCoord.slice()},this.spikes.update({center:Y.dataCoord}),re.screenCoord=[((P.viewBox[2]-P.viewBox[0])*(Y.dataCoord[0]-P.dataBox[0])/(P.dataBox[2]-P.dataBox[0])+P.viewBox[0])/P.pixelRatio,(this.canvas.height-(P.viewBox[3]-P.viewBox[1])*(Y.dataCoord[1]-P.dataBox[1])/(P.dataBox[3]-P.dataBox[1])-P.viewBox[1])/P.pixelRatio],this.emitPointAction(j,"plotly_hover");var ae=this.fullData[re.trace.index]||{},ue=re.pointIndex,de=n.castHoverinfo(ae,b,ue);if(de&&de!=="all"){var ee=de.split("+");ee.indexOf("x")===-1&&(re.traceCoord[0]=void 0),ee.indexOf("y")===-1&&(re.traceCoord[1]=void 0),ee.indexOf("z")===-1&&(re.traceCoord[2]=void 0),ee.indexOf("text")===-1&&(re.textLabel=void 0),ee.indexOf("name")===-1&&(re.name=void 0)}n.loneHover({x:re.screenCoord[0],y:re.screenCoord[1],xLabel:this.hoverFormatter("xaxis",re.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",re.traceCoord[1]),zLabel:re.traceCoord[2],text:re.textLabel,name:re.name,color:n.castHoverOption(ae,ue,"bgcolor")||re.color,borderColor:n.castHoverOption(ae,ue,"bordercolor"),fontFamily:n.castHoverOption(ae,ue,"font.family"),fontSize:n.castHoverOption(ae,ue,"font.size"),fontColor:n.castHoverOption(ae,ue,"font.color"),nameLength:n.castHoverOption(ae,ue,"namelength"),textAlign:n.castHoverOption(ae,ue,"align")},{container:this.svgContainer,gd:this.graphDiv})}}Y||this.unhover(),P.draw()}},D.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),n.loneUnhover(this.svgContainer))},D.hoverFormatter=function(P,A){if(A!==void 0){var a=this[P];return E.tickText(a,a.c2l(A),"hover").text}}},58547:function(k,F,e){var h=e(30962).overrideAll,E=e(528),n=e(33539),L=e(27659).NG,w=e(71828),p=e(77922),m="gl3d",t="scene";F.name=m,F.attr=t,F.idRoot=t,F.idRegex=F.attrRegex=w.counterRegex("scene"),F.attributes=e(59084),F.layoutAttributes=e(65500),F.baseLayoutAttrOverrides=h({hoverlabel:E.hoverlabel},"plot","nested"),F.supplyLayoutDefaults=e(24682),F.plot=function(l){for(var i=l._fullLayout,f=l._fullData,v=i._subplots[m],c=0;c<v.length;c++){var x=v[c],d=L(f,m,x),M=i[x],g=M.camera,u=M._scene;u||(u=new n({id:x,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio,camera:g},i),M._scene=u),u.viewInitial||(u.viewInitial={up:{x:g.up.x,y:g.up.y,z:g.up.z},eye:{x:g.eye.x,y:g.eye.y,z:g.eye.z},center:{x:g.center.x,y:g.center.y,z:g.center.z}}),u.plot(d,i,l.layout)}},F.clean=function(r,l,i,f){for(var v=f._subplots[m]||[],c=0;c<v.length;c++){var x=v[c];!l[x]&&f[x]._scene&&(f[x]._scene.destroy(),f._infolayer&&f._infolayer.selectAll(".annotation-"+x).remove())}},F.toSVG=function(r){for(var l=r._fullLayout,i=l._subplots[m],f=l._size,v=0;v<i.length;v++){var c=l[i[v]],x=c.domain,d=c._scene,M=d.toImage("png"),g=l._glimages.append("svg:image");g.attr({xmlns:p.svg,"xlink:href":M,x:f.l+f.w*x.x[0],y:f.t+f.h*(1-x.y[1]),width:f.w*(x.x[1]-x.x[0]),height:f.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"}),d.destroy()}},F.cleanId=function(l){if(l.match(/^scene[0-9]*$/)){var i=l.substr(5);return i==="1"&&(i=""),t+i}},F.updateFx=function(r){for(var l=r._fullLayout,i=l._subplots[m],f=0;f<i.length;f++){var v=l[i[f]]._scene;v.updateFx(l.dragmode,l.hovermode)}}},59084:function(k){k.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(k,F,e){var h=e(7901),E=e(13838),n=e(1426).extendFlat,L=e(30962).overrideAll;k.exports=L({visible:E.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:h.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:E.color,categoryorder:E.categoryorder,categoryarray:E.categoryarray,title:{text:E.title.text,font:E.title.font},type:n({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorange:E.autorange,autorangeoptions:{minallowed:E.autorangeoptions.minallowed,maxallowed:E.autorangeoptions.maxallowed,clipmin:E.autorangeoptions.clipmin,clipmax:E.autorangeoptions.clipmax,include:E.autorangeoptions.include,editType:"plot"},rangemode:E.rangemode,minallowed:E.minallowed,maxallowed:E.maxallowed,range:n({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,mirror:E.mirror,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,tickfont:E.tickfont,tickangle:E.tickangle,tickprefix:E.tickprefix,showtickprefix:E.showtickprefix,ticksuffix:E.ticksuffix,showticksuffix:E.showticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickformat:E.tickformat,tickformatstops:E.tickformatstops,hoverformat:E.hoverformat,showline:E.showline,linecolor:E.linecolor,linewidth:E.linewidth,showgrid:E.showgrid,gridcolor:n({},E.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:E.gridwidth,zeroline:E.zeroline,zerolinecolor:E.zerolinecolor,zerolinewidth:E.zerolinewidth,_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}},"plot","from-root")},3277:function(k,F,e){var h=e(84267).mix,E=e(71828),n=e(44467),L=e(77894),w=e(951),p=e(71453),m=["xaxis","yaxis","zaxis"],t=100*(204-68)/(255-68);k.exports=function(l,i,f){var v,c;function x(g,u){return E.coerce(v,c,L,g,u)}for(var d=0;d<m.length;d++){var M=m[d];v=l[M]||{},c=n.newContainer(i,M),c._id=M[0]+f.scene,c._name=M,w(v,c,x,f),p(v,c,x,{font:f.font,letter:M[0],data:f.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout),x("gridcolor",h(c.color,f.bgColor,t).toRgbString()),x("title.text",M[0]),c.setScale=E.noop,x("showspikes")&&(x("spikesides"),x("spikethickness"),x("spikecolor",c.color)),x("showaxeslabels"),x("showbackground")&&x("backgroundcolor")}}},30422:function(k,F,e){var h=e(78614),E=e(71828),n=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var w=L.prototype;w.merge=function(m,t){for(var r=this,l=0;l<3;++l){var i=t[n[l]];if(!i.visible){r.tickEnable[l]=!1,r.labelEnable[l]=!1,r.lineEnable[l]=!1,r.lineTickEnable[l]=!1,r.gridEnable[l]=!1,r.zeroEnable[l]=!1,r.backgroundEnable[l]=!1;continue}r.labels[l]=m._meta?E.templateString(i.title.text,m._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(r.labelColor[l]=h(i.title.font.color)),i.title.font.family&&(r.labelFont[l]=i.title.font.family),i.title.font.size&&(r.labelSize[l]=i.title.font.size)),"showline"in i&&(r.lineEnable[l]=i.showline),"linecolor"in i&&(r.lineColor[l]=h(i.linecolor)),"linewidth"in i&&(r.lineWidth[l]=i.linewidth),"showgrid"in i&&(r.gridEnable[l]=i.showgrid),"gridcolor"in i&&(r.gridColor[l]=h(i.gridcolor)),"gridwidth"in i&&(r.gridWidth[l]=i.gridwidth),i.type==="log"?r.zeroEnable[l]=!1:"zeroline"in i&&(r.zeroEnable[l]=i.zeroline),"zerolinecolor"in i&&(r.zeroLineColor[l]=h(i.zerolinecolor)),"zerolinewidth"in i&&(r.zeroLineWidth[l]=i.zerolinewidth),"ticks"in i&&i.ticks?r.lineTickEnable[l]=!0:r.lineTickEnable[l]=!1,"ticklen"in i&&(r.lineTickLength[l]=r._defaultLineTickLength[l]=i.ticklen),"tickcolor"in i&&(r.lineTickColor[l]=h(i.tickcolor)),"tickwidth"in i&&(r.lineTickWidth[l]=i.tickwidth),"tickangle"in i&&(r.tickAngle[l]=i.tickangle==="auto"?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(r.tickEnable[l]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(r.tickColor[l]=h(i.tickfont.color)),i.tickfont.family&&(r.tickFont[l]=i.tickfont.family),i.tickfont.size&&(r.tickSize[l]=i.tickfont.size)),"mirror"in i?["ticks","all","allticks"].indexOf(i.mirror)!==-1?(r.lineTickMirror[l]=!0,r.lineMirror[l]=!0):i.mirror===!0?(r.lineTickMirror[l]=!1,r.lineMirror[l]=!0):(r.lineTickMirror[l]=!1,r.lineMirror[l]=!1):r.lineMirror[l]=!1,"showbackground"in i&&i.showbackground!==!1?(r.backgroundEnable[l]=!0,r.backgroundColor[l]=h(i.backgroundcolor)):r.backgroundEnable[l]=!1}};function p(m,t){var r=new L;return r.merge(m,t),r}k.exports=p},24682:function(k,F,e){var h=e(71828),E=e(7901),n=e(73972),L=e(49119),w=e(3277),p=e(65500),m=e(27659).NG,t="gl3d";k.exports=function(i,f,v){var c=f._basePlotModules.length>1;function x(d){if(!c){var M=h.validate(i[d],p[d]);if(M)return i[d]}}L(i,f,v,{type:t,attributes:p,handleDefaults:r,fullLayout:f,font:f.font,fullData:v,getDfltFromLayout:x,autotypenumbersDflt:f.autotypenumbers,paper_bgcolor:f.paper_bgcolor,calendar:f.calendar})};function r(l,i,f,v){for(var c=f("bgcolor"),x=E.combine(c,v.paper_bgcolor),d=["up","center","eye"],M=0;M<d.length;M++)f("camera."+d[M]+".x"),f("camera."+d[M]+".y"),f("camera."+d[M]+".z");f("camera.projection.type");var g=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z"),u=g?"manual":"auto",y=f("aspectmode",u);g||(l.aspectratio=i.aspectratio={x:1,y:1,z:1},y==="manual"&&(i.aspectmode="auto"),l.aspectmode=i.aspectmode);var C=m(v.fullData,t,v.id);w(l,i,{font:v.font,scene:v.id,data:C,bgColor:x,calendar:v.calendar,autotypenumbersDflt:v.autotypenumbersDflt,fullLayout:v.fullLayout}),n.getComponentMethod("annotations3d","handleDefaults")(l,i,v);var S=v.getDfltFromLayout("dragmode");if(S!==!1&&!S)if(S="orbit",l.camera&&l.camera.up){var D=l.camera.up.x,T=l.camera.up.y,P=l.camera.up.z;P!==0&&(!D||!T||!P||P/Math.sqrt(D*D+T*T+P*P)>.999)&&(S="turntable")}else S="turntable";f("dragmode",S),f("hovermode",v.getDfltFromLayout("hovermode"))}},65500:function(k,F,e){var h=e(77894),E=e(27670).Y,n=e(1426).extendFlat,L=e(71828).counterRegex;function w(p,m,t){return{x:{valType:"number",dflt:p,editType:"camera"},y:{valType:"number",dflt:m,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}k.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:n(w(0,0,1),{}),center:n(w(0,0,0),{}),eye:n(w(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:E({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:h,yaxis:h,zaxis:h,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(k,F,e){var h=e(78614),E=["xaxis","yaxis","zaxis"];function n(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=n.prototype;L.merge=function(p){for(var m=0;m<3;++m){var t=p[E[m]];if(!t.visible){this.enabled[m]=!1,this.drawSides[m]=!1;continue}this.enabled[m]=t.showspikes,this.colors[m]=h(t.spikecolor),this.drawSides[m]=t.spikesides,this.lineWidth[m]=t.spikethickness}};function w(p){var m=new n;return m.merge(p),m}k.exports=w},96085:function(k,F,e){k.exports=w;var h=e(89298),E=e(71828),n=["xaxis","yaxis","zaxis"];function L(p){for(var m=new Array(3),t=0;t<3;++t){for(var r=p[t],l=new Array(r.length),i=0;i<r.length;++i)l[i]=r[i].x;m[t]=l}return m}function w(p){for(var m=p.axesOptions,t=p.glplot.axesPixels,r=p.fullSceneLayout,l=[[],[],[]],i=0;i<3;++i){var f=r[n[i]];if(f._length=(t[i].hi-t[i].lo)*t[i].pixelsPerDataUnit/p.dataScale[i],Math.abs(f._length)===1/0||isNaN(f._length))l[i]=[];else{f._input_range=f.range.slice(),f.range[0]=t[i].lo/p.dataScale[i],f.range[1]=t[i].hi/p.dataScale[i],f._m=1/(p.dataScale[i]*t[i].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var v=f.tickmode;if(f.tickmode==="auto"){f.tickmode="linear";var c=f.nticks||E.constrain(f._length/40,4,9);h.autoTicks(f,Math.abs(f.range[1]-f.range[0])/c)}for(var x=h.calcTicks(f,{msUTC:!0}),d=0;d<x.length;++d)x[d].x=x[d].x*p.dataScale[i],f.type==="date"&&(x[d].text=x[d].text.replace(/\<br\>/g," "));l[i]=x,f.tickmode=v}}m.ticks=l;for(var i=0;i<3;++i){.5*(p.glplot.bounds[0][i]+p.glplot.bounds[1][i]);for(var d=0;d<2;++d)m.bounds[d][i]=p.glplot.bounds[d][i]}p.contourLevels=L(l)}},63538:function(k){function F(h,E){var n=[0,0,0,0],L,w;for(L=0;L<4;++L)for(w=0;w<4;++w)n[w]+=h[4*L+w]*E[L];return n}function e(h,E){var n=F(h.projection,F(h.view,F(h.model,[E[0],E[1],E[2],1])));return n}k.exports=e},33539:function(k,F,e){var h=e(9330).gl_plot3d,E=h.createCamera,n=h.createScene,L=e(40372),w=e(38520),p=e(73972),m=e(71828),t=m.preserveDrawingBuffer(),r=e(89298),l=e(30211),i=e(78614),f=e(58617),v=e(63538),c=e(30422),x=e(13133),d=e(96085),M=e(71739).applyAutorangeOptions,g,u,y=!1;function C(O,Y){var B=document.createElement("div"),W=O.container;this.graphDiv=O.graphDiv;var H=document.createElementNS("http://www.w3.org/2000/svg","svg");H.style.position="absolute",H.style.top=H.style.left="0px",H.style.width=H.style.height="100%",H.style["z-index"]=20,H.style["pointer-events"]="none",B.appendChild(H),this.svgContainer=H,B.id=O.id,B.style.position="absolute",B.style.top=B.style.left="0px",B.style.width=B.style.height="100%",W.appendChild(B),this.fullLayout=Y,this.id=O.id||"scene",this.fullSceneLayout=Y[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(Y,Y[this.id]),this.spikeOptions=x(Y[this.id]),this.container=B,this.staticMode=!!O.staticPlot,this.pixelRatio=this.pixelRatio||O.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=p.getComponentMethod("annotations3d","convert"),this.drawAnnotations=p.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var S=C.prototype;S.prepareOptions=function(){var O=this,Y={canvas:O.canvas,gl:O.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:O.container,axes:O.axesOptions,spikes:O.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:O.camera,pixelRatio:O.pixelRatio};if(O.staticMode){if(!u&&(g=document.createElement("canvas"),u=L({canvas:g,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!u))throw new Error("error creating static canvas/context for image server");Y.gl=u,Y.canvas=g}return Y};var D=!0;S.tryCreatePlot=function(){var O=this,Y=O.prepareOptions(),B=!0;try{O.glplot=n(Y)}catch{if(O.staticMode||!D||t)B=!1;else{m.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=Y.glOptions.preserveDrawingBuffer=!0,O.glplot=n(Y)}catch{t=Y.glOptions.preserveDrawingBuffer=!1,B=!1}}}return D=!1,B},S.initializeGLCamera=function(){var O=this,Y=O.fullSceneLayout.camera,B=Y.projection.type==="orthographic";O.camera=E(O.container,{center:[Y.center.x,Y.center.y,Y.center.z],eye:[Y.eye.x,Y.eye.y,Y.eye.z],up:[Y.up.x,Y.up.y,Y.up.z],_ortho:B,zoomMin:.01,zoomMax:100,mode:"orbit"})},S.initializeGLPlot=function(){var O=this;O.initializeGLCamera();var Y=O.tryCreatePlot();if(!Y)return f(O);O.traces={},O.make4thDimension();var B=O.graphDiv,W=B.layout,H=function(){var G={};return O.isCameraChanged(W)&&(G[O.id+".camera"]=O.getCamera()),O.isAspectChanged(W)&&(G[O.id+".aspectratio"]=O.glplot.getAspectratio(),W[O.id].aspectmode!=="manual"&&(O.fullSceneLayout.aspectmode=W[O.id].aspectmode=G[O.id+".aspectmode"]="manual")),G},U=function(G){if(G.fullSceneLayout.dragmode!==!1){var j=H();G.saveLayout(W),G.graphDiv.emit("plotly_relayout",j)}};return O.glplot.canvas&&(O.glplot.canvas.addEventListener("mouseup",function(){U(O)}),O.glplot.canvas.addEventListener("touchstart",function(){y=!0}),O.glplot.canvas.addEventListener("wheel",function(G){if(B._context._scrollZoom.gl3d){if(O.camera._ortho){var j=G.deltaX>G.deltaY?1.1:.9090909090909091,re=O.glplot.getAspectratio();O.glplot.setAspectratio({x:j*re.x,y:j*re.y,z:j*re.z})}U(O)}},w?{passive:!1}:!1),O.glplot.canvas.addEventListener("mousemove",function(){if(O.fullSceneLayout.dragmode!==!1&&O.camera.mouseListener.buttons!==0){var G=H();O.graphDiv.emit("plotly_relayouting",G)}}),O.staticMode||O.glplot.canvas.addEventListener("webglcontextlost",function(G){B&&B.emit&&B.emit("plotly_webglcontextlost",{event:G,layer:O.id})},!1)),O.glplot.oncontextloss=function(){O.recoverContext()},O.glplot.onrender=function(){O.render()},!0},S.render=function(){var O=this,Y=O.graphDiv,B,W=O.svgContainer,H=O.container.getBoundingClientRect();Y._fullLayout._calcInverseTransform(Y);var U=Y._fullLayout._invScaleX,G=Y._fullLayout._invScaleY,j=H.width*U,re=H.height*G;W.setAttributeNS(null,"viewBox","0 0 "+j+" "+re),W.setAttributeNS(null,"width",j),W.setAttributeNS(null,"height",re),d(O),O.glplot.axes.update(O.axesOptions);for(var ae=Object.keys(O.traces),ue=null,de=O.glplot.selection,ee=0;ee<ae.length;++ee)B=O.traces[ae[ee]],B.data.hoverinfo!=="skip"&&B.handlePick(de)&&(ue=B),B.setContourLevels&&B.setContourLevels();function X(Be,Ne,Ce){var Te=O.fullSceneLayout[Be+"axis"];return Te.type!=="log"&&(Ne=Te.d2l(Ne)),r.hoverLabelText(Te,Ne,Ce)}if(ue!==null){var Q=v(O.glplot.cameraParams,de.dataCoordinate);B=ue.data;var $=Y._fullData[B.index],ne=de.index,fe={xLabel:X("x",de.traceCoordinate[0],B.xhoverformat),yLabel:X("y",de.traceCoordinate[1],B.yhoverformat),zLabel:X("z",de.traceCoordinate[2],B.zhoverformat)},te=l.castHoverinfo($,O.fullLayout,ne),q=(te||"").split("+"),he=te&&te==="all";!$.hovertemplate&&!he&&(q.indexOf("x")===-1&&(fe.xLabel=void 0),q.indexOf("y")===-1&&(fe.yLabel=void 0),q.indexOf("z")===-1&&(fe.zLabel=void 0),q.indexOf("text")===-1&&(de.textLabel=void 0),q.indexOf("name")===-1&&(ue.name=void 0));var se,pe=[];B.type==="cone"||B.type==="streamtube"?(fe.uLabel=X("x",de.traceCoordinate[3],B.uhoverformat),(he||q.indexOf("u")!==-1)&&pe.push("u: "+fe.uLabel),fe.vLabel=X("y",de.traceCoordinate[4],B.vhoverformat),(he||q.indexOf("v")!==-1)&&pe.push("v: "+fe.vLabel),fe.wLabel=X("z",de.traceCoordinate[5],B.whoverformat),(he||q.indexOf("w")!==-1)&&pe.push("w: "+fe.wLabel),fe.normLabel=de.traceCoordinate[6].toPrecision(3),(he||q.indexOf("norm")!==-1)&&pe.push("norm: "+fe.normLabel),B.type==="streamtube"&&(fe.divergenceLabel=de.traceCoordinate[7].toPrecision(3),(he||q.indexOf("divergence")!==-1)&&pe.push("divergence: "+fe.divergenceLabel)),de.textLabel&&pe.push(de.textLabel),se=pe.join("<br>")):B.type==="isosurface"||B.type==="volume"?(fe.valueLabel=r.hoverLabelText(O._mockAxis,O._mockAxis.d2l(de.traceCoordinate[3]),B.valuehoverformat),pe.push("value: "+fe.valueLabel),de.textLabel&&pe.push(de.textLabel),se=pe.join("<br>")):se=de.textLabel;var we={x:de.traceCoordinate[0],y:de.traceCoordinate[1],z:de.traceCoordinate[2],data:$._input,fullData:$,curveNumber:$.index,pointNumber:ne};l.appendArrayPointValue(we,$,ne),B._module.eventData&&(we=$._module.eventData(we,de,$,{},ne));var Ee={points:[we]};if(O.fullSceneLayout.hovermode){var Me=[];l.loneHover({trace:$,x:(.5+.5*Q[0]/Q[3])*j,y:(.5-.5*Q[1]/Q[3])*re,xLabel:fe.xLabel,yLabel:fe.yLabel,zLabel:fe.zLabel,text:se,name:ue.name,color:l.castHoverOption($,ne,"bgcolor")||ue.color,borderColor:l.castHoverOption($,ne,"bordercolor"),fontFamily:l.castHoverOption($,ne,"font.family"),fontSize:l.castHoverOption($,ne,"font.size"),fontColor:l.castHoverOption($,ne,"font.color"),nameLength:l.castHoverOption($,ne,"namelength"),textAlign:l.castHoverOption($,ne,"align"),hovertemplate:m.castOption($,ne,"hovertemplate"),hovertemplateLabels:m.extendFlat({},we,fe),eventData:[we]},{container:W,gd:Y,inOut_bbox:Me}),we.bbox=Me[0]}de.distance<5&&(de.buttons||y)?Y.emit("plotly_click",Ee):Y.emit("plotly_hover",Ee),this.oldEventData=Ee}else l.loneUnhover(W),this.oldEventData&&Y.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;O.drawAnnotations(O)},S.recoverContext=function(){var O=this;O.glplot.dispose();var Y=function(){if(O.glplot.gl.isContextLost()){requestAnimationFrame(Y);return}if(!O.initializeGLPlot()){m.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}O.plot.apply(O,O.plotArgs)};requestAnimationFrame(Y)};var T=["xaxis","yaxis","zaxis"];function P(O,Y,B){for(var W=O.fullSceneLayout,H=0;H<3;H++){var U=T[H],G=U.charAt(0),j=W[U],re=Y[G],ae=Y[G+"calendar"],ue=Y["_"+G+"length"];if(!m.isArrayOrTypedArray(re))B[0][H]=Math.min(B[0][H],0),B[1][H]=Math.max(B[1][H],ue-1);else for(var de,ee=0;ee<(ue||re.length);ee++)if(m.isArrayOrTypedArray(re[ee]))for(var X=0;X<re[ee].length;++X)de=j.d2l(re[ee][X],0,ae),!isNaN(de)&&isFinite(de)&&(B[0][H]=Math.min(B[0][H],de),B[1][H]=Math.max(B[1][H],de));else de=j.d2l(re[ee],0,ae),!isNaN(de)&&isFinite(de)&&(B[0][H]=Math.min(B[0][H],de),B[1][H]=Math.max(B[1][H],de))}}function A(O,Y){for(var B=O.fullSceneLayout,W=B.annotations||[],H=0;H<3;H++)for(var U=T[H],G=U.charAt(0),j=B[U],re=0;re<W.length;re++){var ae=W[re];if(ae.visible){var ue=j.r2l(ae[G]);!isNaN(ue)&&isFinite(ue)&&(Y[0][H]=Math.min(Y[0][H],ue),Y[1][H]=Math.max(Y[1][H],ue))}}}S.plot=function(O,Y,B){var W=this;if(W.plotArgs=[O,Y,B],W.glplot.contextLost)return;var H,U,G,j,re,ae,ue=Y[W.id],de=B[W.id];W.fullLayout=Y,W.fullSceneLayout=ue,W.axesOptions.merge(Y,ue),W.spikeOptions.merge(ue),W.setViewport(ue),W.updateFx(ue.dragmode,ue.hovermode),W.camera.enableWheel=W.graphDiv._context._scrollZoom.gl3d,W.glplot.setClearColor(i(ue.bgcolor)),W.setConvert(re),O?Array.isArray(O)||(O=[O]):O=[];var ee=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(G=0;G<O.length;++G)H=O[G],!(H.visible!==!0||H._length===0)&&P(this,H,ee);A(this,ee);var X=[1,1,1];for(j=0;j<3;++j)ee[1][j]===ee[0][j]?X[j]=1:X[j]=1/(ee[1][j]-ee[0][j]);for(W.dataScale=X,W.convertAnnotations(this),G=0;G<O.length;++G)H=O[G],!(H.visible!==!0||H._length===0)&&(U=W.traces[H.uid],U?U.data.type===H.type?U.update(H):(U.dispose(),U=H._module.plot(this,H),W.traces[H.uid]=U):(U=H._module.plot(this,H),W.traces[H.uid]=U),U.name=H.name);var Q=Object.keys(W.traces);e:for(G=0;G<Q.length;++G){for(j=0;j<O.length;++j)if(O[j].uid===Q[G]&&O[j].visible===!0&&O[j]._length!==0)continue e;U=W.traces[Q[G]],U.dispose(),delete W.traces[Q[G]]}W.glplot.objects.sort(function(qe,$e){return qe._trace.data.index-$e._trace.data.index});var $=[[0,0,0],[0,0,0]],ne={};for(G=0;G<3;++G){re=ue[T[G]],ae=re.type,ae in ne?(ne[ae].acc*=X[G],ne[ae].count+=1):ne[ae]={acc:X[G],count:1};var fe;if(re.autorange){$[0][G]=1/0,$[1][G]=-1/0;var te=W.glplot.objects,q=W.fullSceneLayout.annotations||[],he=re._name.charAt(0);for(j=0;j<te.length;j++){var se=te[j],pe=se.bounds,we=se._trace.data._pad||0;se.constructor.name==="ErrorBars"&&re._lowerLogErrorBound?$[0][G]=Math.min($[0][G],re._lowerLogErrorBound):$[0][G]=Math.min($[0][G],pe[0][G]/X[G]-we),$[1][G]=Math.max($[1][G],pe[1][G]/X[G]+we)}for(j=0;j<q.length;j++){var Ee=q[j];if(Ee.visible){var Me=re.r2l(Ee[he]);$[0][G]=Math.min($[0][G],Me),$[1][G]=Math.max($[1][G],Me)}}if("rangemode"in re&&re.rangemode==="tozero"&&($[0][G]=Math.min($[0][G],0),$[1][G]=Math.max($[1][G],0)),$[0][G]>$[1][G])$[0][G]=-1,$[1][G]=1;else{var Be=$[1][G]-$[0][G];$[0][G]-=Be/32,$[1][G]+=Be/32}if(fe=[$[0][G],$[1][G]],fe=M(fe,re),$[0][G]=fe[0],$[1][G]=fe[1],re.isReversed()){var Ne=$[0][G];$[0][G]=$[1][G],$[1][G]=Ne}}else fe=re.range,$[0][G]=re.r2l(fe[0]),$[1][G]=re.r2l(fe[1]);$[0][G]===$[1][G]&&($[0][G]-=1,$[1][G]+=1),re.range=[$[0][G],$[1][G]],re.limitRange(),W.glplot.setBounds(G,{min:re.range[0]*X[G],max:re.range[1]*X[G]})}var Ce,Te=ue.aspectmode;if(Te==="cube")Ce=[1,1,1];else if(Te==="manual"){var Le=ue.aspectratio;Ce=[Le.x,Le.y,Le.z]}else if(Te==="auto"||Te==="data"){var Ve=[1,1,1];for(G=0;G<3;++G){re=ue[T[G]],ae=re.type;var We=ne[ae];Ve[G]=Math.pow(We.acc,1/We.count)/X[G]}Te==="data"||Math.max.apply(null,Ve)/Math.min.apply(null,Ve)<=4?Ce=Ve:Ce=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ue.aspectratio.x=de.aspectratio.x=Ce[0],ue.aspectratio.y=de.aspectratio.y=Ce[1],ue.aspectratio.z=de.aspectratio.z=Ce[2],W.glplot.setAspectratio(ue.aspectratio),W.viewInitial.aspectratio||(W.viewInitial.aspectratio={x:ue.aspectratio.x,y:ue.aspectratio.y,z:ue.aspectratio.z}),W.viewInitial.aspectmode||(W.viewInitial.aspectmode=ue.aspectmode);var Fe=ue.domain||null,Ge=Y._size||null;if(Fe&&Ge){var it=W.container.style;it.position="absolute",it.left=Ge.l+Fe.x[0]*Ge.w+"px",it.top=Ge.t+(1-Fe.y[1])*Ge.h+"px",it.width=Ge.w*(Fe.x[1]-Fe.x[0])+"px",it.height=Ge.h*(Fe.y[1]-Fe.y[0])+"px"}W.glplot.redraw()},S.destroy=function(){var O=this;O.glplot&&(O.camera.mouseListener.enabled=!1,O.container.removeEventListener("wheel",O.camera.wheelListener),O.camera=null,O.glplot.dispose(),O.container.parentNode.removeChild(O.container),O.glplot=null)};function a(O){return[[O.eye.x,O.eye.y,O.eye.z],[O.center.x,O.center.y,O.center.z],[O.up.x,O.up.y,O.up.z]]}function R(O){return{up:{x:O.up[0],y:O.up[1],z:O.up[2]},center:{x:O.center[0],y:O.center[1],z:O.center[2]},eye:{x:O.eye[0],y:O.eye[1],z:O.eye[2]},projection:{type:O._ortho===!0?"orthographic":"perspective"}}}S.getCamera=function(){var O=this;return O.camera.view.recalcMatrix(O.camera.view.lastT()),R(O.camera)},S.setViewport=function(O){var Y=this,B=O.camera;Y.camera.lookAt.apply(this,a(B)),Y.glplot.setAspectratio(O.aspectratio);var W=B.projection.type==="orthographic",H=Y.camera._ortho;W!==H&&(Y.glplot.redraw(),Y.glplot.clearRGBA(),Y.glplot.dispose(),Y.initializeGLPlot())},S.isCameraChanged=function(O){var Y=this,B=Y.getCamera(),W=m.nestedProperty(O,Y.id+".camera"),H=W.get();function U(ae,ue,de,ee){var X=["up","center","eye"],Q=["x","y","z"];return ue[X[de]]&&ae[X[de]][Q[ee]]===ue[X[de]][Q[ee]]}var G=!1;if(H===void 0)G=!0;else{for(var j=0;j<3;j++)for(var re=0;re<3;re++)if(!U(B,H,j,re)){G=!0;break}(!H.projection||B.projection&&B.projection.type!==H.projection.type)&&(G=!0)}return G},S.isAspectChanged=function(O){var Y=this,B=Y.glplot.getAspectratio(),W=m.nestedProperty(O,Y.id+".aspectratio"),H=W.get();return H===void 0||H.x!==B.x||H.y!==B.y||H.z!==B.z},S.saveLayout=function(O){var Y=this,B=Y.fullLayout,W,H,U,G,j,re,ae=Y.isCameraChanged(O),ue=Y.isAspectChanged(O),de=ae||ue;if(de){var ee={};if(ae&&(W=Y.getCamera(),H=m.nestedProperty(O,Y.id+".camera"),U=H.get(),ee[Y.id+".camera"]=U),ue&&(G=Y.glplot.getAspectratio(),j=m.nestedProperty(O,Y.id+".aspectratio"),re=j.get(),ee[Y.id+".aspectratio"]=re),p.call("_storeDirectGUIEdit",O,B._preGUI,ee),ae){H.set(W);var X=m.nestedProperty(B,Y.id+".camera");X.set(W)}if(ue){j.set(G);var Q=m.nestedProperty(B,Y.id+".aspectratio");Q.set(G),Y.glplot.redraw()}}return de},S.updateFx=function(O,Y){var B=this,W=B.camera;if(W)if(O==="orbit")W.mode="orbit",W.keyBindingMode="rotate";else if(O==="turntable"){W.up=[0,0,1],W.mode="turntable",W.keyBindingMode="rotate";var H=B.graphDiv,U=H._fullLayout,G=B.fullSceneLayout.camera,j=G.up.x,re=G.up.y,ae=G.up.z;if(ae/Math.sqrt(j*j+re*re+ae*ae)<.999){var ue=B.id+".camera.up",de={x:0,y:0,z:1},ee={};ee[ue]=de;var X=H.layout;p.call("_storeDirectGUIEdit",X,U._preGUI,ee),G.up=de,m.nestedProperty(X,ue).set(de)}}else W.keyBindingMode=O;B.fullSceneLayout.hovermode=Y};function b(O,Y,B){for(var W=0,H=B-1;W<H;++W,--H)for(var U=0;U<Y;++U)for(var G=0;G<4;++G){var j=4*(Y*W+U)+G,re=4*(Y*H+U)+G,ae=O[j];O[j]=O[re],O[re]=ae}}function N(O,Y,B){for(var W=0;W<B;++W)for(var H=0;H<Y;++H){var U=4*(Y*W+H),G=O[U+3];if(G>0)for(var j=255/G,re=0;re<3;++re)O[U+re]=Math.min(j*O[U+re],255)}}S.toImage=function(O){var Y=this;O||(O="png"),Y.staticMode&&Y.container.appendChild(g),Y.glplot.redraw();var B=Y.glplot.gl,W=B.drawingBufferWidth,H=B.drawingBufferHeight;B.bindFramebuffer(B.FRAMEBUFFER,null);var U=new Uint8Array(W*H*4);B.readPixels(0,0,W,H,B.RGBA,B.UNSIGNED_BYTE,U),b(U,W,H),N(U,W,H);var G=document.createElement("canvas");G.width=W,G.height=H;var j=G.getContext("2d",{willReadFrequently:!0}),re=j.createImageData(W,H);re.data.set(U),j.putImageData(re,0,0);var ae;switch(O){case"jpeg":ae=G.toDataURL("image/jpeg");break;case"webp":ae=G.toDataURL("image/webp");break;default:ae=G.toDataURL("image/png")}return Y.staticMode&&Y.container.removeChild(g),ae},S.setConvert=function(){for(var O=this,Y=0;Y<3;Y++){var B=O.fullSceneLayout[T[Y]];r.setConvert(B,O.fullLayout),B.setScale=m.noop}},S.make4thDimension=function(){var O=this,Y=O.graphDiv,B=Y._fullLayout;O._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(O._mockAxis,B)},k.exports=C},90060:function(k){k.exports=function(e,h,E,n){n=n||e.length;for(var L=new Array(n),w=0;w<n;w++)L[w]=[e[w],h[w],E[w]];return L}},10820:function(k,F,e){var h=e(41940),E=e(85594),n=e(22399),L=e(29241),w=e(53777),p=e(35025),m=e(1426).extendFlat,t=h({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=n.defaultLine,k.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:h({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:m(p({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:w.newselection,activeselection:w.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:m({},E.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:h({editType:"layoutstyle"})}}},77734:function(k,F,e){var h=e(78607),E="1.10.1",n='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=['© <a target="_blank" href="https://carto.com/">Carto</a>',n].join(" "),w=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),p=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),m={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:n,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:w,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:w,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:p,tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},t=h(m);k.exports={requiredVersion:E,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:m,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+E+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(k,F,e){var h=e(71828);k.exports=function(n,L){var w=n.split(" "),p=w[0],m=w[1],t=h.isArrayOrTypedArray(L)?h.mean(L):L,r=.5+t/100,l=1.5+t/100,i=["",""],f=[0,0];switch(p){case"top":i[0]="top",f[1]=-l;break;case"bottom":i[0]="bottom",f[1]=l;break}switch(m){case"left":i[1]="right",f[0]=-r;break;case"right":i[1]="left",f[0]=r;break}var v;return i[0]&&i[1]?v=i.join("-"):i[0]?v=i[0]:i[1]?v=i[1]:v="center",{anchor:v,offset:f}}},50101:function(k,F,e){var h=e(44517),E=e(71828),n=E.strTranslate,L=E.strScale,w=e(27659).AU,p=e(77922),m=e(39898),t=e(91424),r=e(63893),l=e(10481),i="mapbox",f=F.constants=e(77734);F.name=i,F.attr="subplot",F.idRoot=i,F.idRegex=F.attrRegex=E.counterRegex(i),F.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},F.layoutAttributes=e(23585),F.supplyLayoutDefaults=e(77882),F.plot=function(d){var M=d._fullLayout,g=d.calcdata,u=M._subplots[i];if(h.version!==f.requiredVersion)throw new Error(f.wrongVersionErrorMsg);var y=v(d,u);h.accessToken=y;for(var C=0;C<u.length;C++){var S=u[C],D=w(g,i,S),T=M[S],P=T._subplot;P||(P=new l(d,S),M[S]._subplot=P),P.viewInitial||(P.viewInitial={center:E.extendFlat({},T.center),zoom:T.zoom,bearing:T.bearing,pitch:T.pitch}),P.plot(D,M,d._promises)}},F.clean=function(x,d,M,g){for(var u=g._subplots[i]||[],y=0;y<u.length;y++){var C=u[y];!d[C]&&g[C]._subplot&&g[C]._subplot.destroy()}},F.toSVG=function(x){for(var d=x._fullLayout,M=d._subplots[i],g=d._size,u=0;u<M.length;u++){var y=d[M[u]],C=y.domain,S=y._subplot,D=S.toImage("png"),T=d._glimages.append("svg:image");T.attr({xmlns:p.svg,"xlink:href":D,x:g.l+g.w*C.x[0],y:g.t+g.h*(1-C.y[1]),width:g.w*(C.x[1]-C.x[0]),height:g.h*(C.y[1]-C.y[0]),preserveAspectRatio:"none"});var P=m.select(y._subplot.div),A=P.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!A){var a=d._glimages.append("g");a.attr("transform",n(g.l+g.w*C.x[0]+10,g.t+g.h*(1-C.y[0])-31)),a.append("path").attr("d",f.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),a.append("path").attr("d",f.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),a.append("path").attr("d",f.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),a.append("polygon").attr("points",f.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var R=P.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),b=d._glimages.append("g"),N=b.append("text");N.text(R).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":R});var O=t.bBox(N.node()),Y=g.w*(C.x[1]-C.x[0]);if(O.width>Y/2){var B=R.split("|").join("<br>");N.text(B).attr("data-unformatted",B).call(r.convertToTspans,x),O=t.bBox(N.node())}N.attr("transform",n(-3,-O.height+8)),b.insert("rect",".static-attribution").attr({x:-O.width-6,y:-O.height-3,width:O.width+6,height:O.height+3,fill:"rgba(255, 255, 255, 0.75)"});var W=1;O.width+6>Y&&(W=Y/(O.width+6));var H=[g.l+g.w*C.x[1],g.t+g.h*(1-C.y[0])];b.attr("transform",n(H[0],H[1])+L(W))}};function v(x,d){var M=x._fullLayout,g=x._context;if(g.mapboxAccessToken==="")return"";for(var u=[],y=[],C=!1,S=!1,D=0;D<d.length;D++){var T=M[d[D]],P=T.accesstoken;c(T.style)&&(P?E.pushUnique(u,P):(c(T._input.style)&&(E.error("Uses Mapbox map style, but did not set an access token."),C=!0),S=!0)),P&&E.pushUnique(y,P)}if(S){var A=C?f.noAccessTokenErrorMsg:f.missingStyleErrorMsg;throw E.error(A),new Error(A)}return u.length?(u.length>1&&E.warn(f.multipleTokensErrorMsg),u[0]):(y.length&&E.log(["Listed mapbox access token(s)",y.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function c(x){return typeof x=="string"&&(f.styleValuesMapbox.indexOf(x)!==-1||x.indexOf("mapbox://")===0)}F.updateFx=function(x){for(var d=x._fullLayout,M=d._subplots[i],g=0;g<M.length;g++){var u=d[M[g]]._subplot;u.updateFx(d)}}},67911:function(k,F,e){var h=e(71828),E=e(63893).sanitizeHTML,n=e(13056),L=e(77734);function w(l,i){this.subplot=l,this.uid=l.uid+"-"+i,this.index=i,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var p=w.prototype;p.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=m(i)},p.needsNewImage=function(l){var i=this.subplot.map;return i.getSource(this.idSource)&&this.sourceType==="image"&&l.sourcetype==="image"&&(this.source!==l.source||JSON.stringify(this.coordinates)!==JSON.stringify(l.coordinates))},p.needsNewSource=function(l){return this.sourceType!==l.sourcetype||JSON.stringify(this.source)!==JSON.stringify(l.source)||this.layerType!==l.type},p.needsNewLayer=function(l){return this.layerType!==l.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},p.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},p.updateImage=function(l){var i=this.subplot.map;i.getSource(this.idSource).updateImage({url:l.source,coordinates:l.coordinates});var f=this.findFollowingMapboxLayerId(this.lookupBelow());f!==null&&this.subplot.map.moveLayer(this.idLayer,f)},p.updateSource=function(l){var i=this.subplot.map;if(i.getSource(this.idSource)&&i.removeSource(this.idSource),this.sourceType=l.sourcetype,this.source=l.source,!!m(l)){var f=r(l);i.addSource(this.idSource,f)}},p.findFollowingMapboxLayerId=function(l){if(l==="traces")for(var i=this.subplot.getMapLayers(),f=0;f<i.length;f++){var v=i[f].id;if(typeof v=="string"&&v.indexOf(L.traceLayerPrefix)===0){l=v;break}}return l},p.updateLayer=function(l){var i=this.subplot,f=t(l),v=this.lookupBelow(),c=this.findFollowingMapboxLayerId(v);this.removeLayer(),m(l)&&i.addLayer({id:this.idLayer,source:this.idSource,"source-layer":l.sourcelayer||"",type:l.type,minzoom:l.minzoom,maxzoom:l.maxzoom,layout:f.layout,paint:f.paint},c),this.layerType=l.type,this.below=v},p.updateStyle=function(l){if(m(l)){var i=t(l);this.subplot.setOptions(this.idLayer,"setLayoutProperty",i.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",i.paint)}},p.removeLayer=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer)},p.dispose=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer),l.getSource(this.idSource)&&l.removeSource(this.idSource)};function m(l){if(!l.visible)return!1;var i=l.source;if(Array.isArray(i)&&i.length>0){for(var f=0;f<i.length;f++)if(typeof i[f]!="string"||i[f].length===0)return!1;return!0}return h.isPlainObject(i)||typeof i=="string"&&i.length>0}function t(l){var i={},f={};switch(l.type){case"circle":h.extendFlat(f,{"circle-radius":l.circle.radius,"circle-color":l.color,"circle-opacity":l.opacity});break;case"line":h.extendFlat(f,{"line-width":l.line.width,"line-color":l.color,"line-opacity":l.opacity,"line-dasharray":l.line.dash});break;case"fill":h.extendFlat(f,{"fill-color":l.color,"fill-outline-color":l.fill.outlinecolor,"fill-opacity":l.opacity});break;case"symbol":var v=l.symbol,c=n(v.textposition,v.iconsize);h.extendFlat(i,{"icon-image":v.icon+"-15","icon-size":v.iconsize/10,"text-field":v.text,"text-size":v.textfont.size,"text-anchor":c.anchor,"text-offset":c.offset,"symbol-placement":v.placement}),h.extendFlat(f,{"icon-color":l.color,"text-color":v.textfont.color,"text-opacity":l.opacity});break;case"raster":h.extendFlat(f,{"raster-fade-duration":0,"raster-opacity":l.opacity});break}return{layout:i,paint:f}}function r(l){var i=l.sourcetype,f=l.source,v={type:i},c;return i==="geojson"?c="data":i==="vector"?c=typeof f=="string"?"url":"tiles":i==="raster"?(c="tiles",v.tileSize=256):i==="image"&&(c="url",v.coordinates=l.coordinates),v[c]=f,l.sourceattribution&&(v.attribution=E(l.sourceattribution)),v}k.exports=function(i,f,v){var c=new w(i,f);return c.update(v),c}},23585:function(k,F,e){var h=e(71828),E=e(7901).defaultLine,n=e(27670).Y,L=e(41940),w=e(82196).textposition,p=e(30962).overrideAll,m=e(44467).templatedArray,t=e(77734),r=L({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var l=k.exports=p({_arrayAttrRegexps:[h.counterRegex("mapbox",".layers",!0)],domain:n({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:m("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:E},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:E}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:h.extendFlat({},w,{arrayOk:!1})}})},"plot","from-root");l.uirevision={valType:"any",editType:"none"}},77882:function(k,F,e){var h=e(71828),E=e(49119),n=e(85501),L=e(23585);k.exports=function(t,r,l){E(t,r,l,{type:"mapbox",attributes:L,handleDefaults:w,partition:"y",accessToken:r._mapboxAccessToken})};function w(m,t,r,l){r("accesstoken",l.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var i=r("bounds.west"),f=r("bounds.east"),v=r("bounds.south"),c=r("bounds.north");(i===void 0||f===void 0||v===void 0||c===void 0)&&delete t.bounds,n(m,t,{name:"layers",handleItemDefaults:p}),t._input=m}function p(m,t){function r(x,d){return h.coerce(m,t,L.layers,x,d)}var l=r("visible");if(l){var i=r("sourcetype"),f=i==="raster"||i==="image";r("source"),r("sourceattribution"),i==="vector"&&r("sourcelayer"),i==="image"&&r("coordinates");var v;f&&(v="raster");var c=r("type",v);f&&c!=="raster"&&(c=t.type="raster",h.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),c==="circle"&&r("circle.radius"),c==="line"&&(r("line.width"),r("line.dash")),c==="fill"&&r("fill.outlinecolor"),c==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),h.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(k,F,e){var h=e(44517),E=e(71828),n=e(41327),L=e(73972),w=e(89298),p=e(28569),m=e(30211),t=e(64505),r=t.drawMode,l=t.selectMode,i=e(47322).prepSelect,f=e(47322).clearOutline,v=e(47322).clearSelectionsCache,c=e(47322).selectOnClick,x=e(77734),d=e(67911);function M(D,T){this.id=T,this.gd=D;var P=D._fullLayout,A=D._context;this.container=P._glcontainer.node(),this.isStatic=A.staticPlot,this.uid=P._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(P),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var g=M.prototype;g.plot=function(D,T,P){var A=this,a=T[A.id];A.map&&a.accesstoken!==A.accessToken&&(A.map.remove(),A.map=null,A.styleObj=null,A.traceHash={},A.layerList=[]);var R;A.map?R=new Promise(function(b,N){A.updateMap(D,T,b,N)}):R=new Promise(function(b,N){A.createMap(D,T,b,N)}),P.push(R)},g.createMap=function(D,T,P,A){var a=this,R=T[a.id],b=a.styleObj=y(R.style);a.accessToken=R.accesstoken;var N=R.bounds,O=N?[[N.west,N.south],[N.east,N.north]]:null,Y=a.map=new h.Map({container:a.div,style:b.style,center:S(R.center),zoom:R.zoom,bearing:R.bearing,pitch:R.pitch,maxBounds:O,interactive:!a.isStatic,preserveDrawingBuffer:a.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new h.AttributionControl({compact:!0}));Y._canvas.style.left="0px",Y._canvas.style.top="0px",a.rejectOnError(A),a.isStatic||a.initFx(D,T);var B=[];B.push(new Promise(function(W){Y.once("load",W)})),B=B.concat(n.fetchTraceGeoData(D)),Promise.all(B).then(function(){a.fillBelowLookup(D,T),a.updateData(D),a.updateLayout(T),a.resolveOnRender(P)}).catch(A)},g.updateMap=function(D,T,P,A){var a=this,R=a.map,b=T[this.id];a.rejectOnError(A);var N=[],O=y(b.style);JSON.stringify(a.styleObj)!==JSON.stringify(O)&&(a.styleObj=O,R.setStyle(O.style),a.traceHash={},N.push(new Promise(function(Y){R.once("styledata",Y)}))),N=N.concat(n.fetchTraceGeoData(D)),Promise.all(N).then(function(){a.fillBelowLookup(D,T),a.updateData(D),a.updateLayout(T),a.resolveOnRender(P)}).catch(A)},g.fillBelowLookup=function(D,T){var P=T[this.id],A=P.layers,a,R,b=this.belowLookup={},N=!1;for(a=0;a<D.length;a++){var O=D[a][0].trace,Y=O._module;typeof O.below=="string"?R=O.below:Y.getBelow&&(R=Y.getBelow(O,this)),R===""&&(N=!0),b["trace-"+O.uid]=R||""}for(a=0;a<A.length;a++){var B=A[a];typeof B.below=="string"?R=B.below:N?R="traces":R="",b["layout-"+a]=R}var W={},H,U;for(H in b)R=b[H],W[R]?W[R].push(H):W[R]=[H];for(R in W){var G=W[R];if(G.length>1)for(a=0;a<G.length;a++)H=G[a],H.indexOf("trace-")===0?(U=H.split("trace-")[1],this.traceHash[U]&&(this.traceHash[U].below=null)):H.indexOf("layout-")===0&&(U=H.split("layout-")[1],this.layerList[U]&&(this.layerList[U].below=null))}};var u={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};g.updateData=function(D){var T=this.traceHash,P,A,a,R,b=D.slice().sort(function(W,H){return u[W[0].trace.type]-u[H[0].trace.type]});for(a=0;a<b.length;a++){var N=b[a];A=N[0].trace,P=T[A.uid];var O=!1;P&&(P.type===A.type?(P.update(N),O=!0):P.dispose()),!O&&A._module&&(T[A.uid]=A._module.plot(this,N))}var Y=Object.keys(T);e:for(a=0;a<Y.length;a++){var B=Y[a];for(R=0;R<D.length;R++)if(A=D[R][0].trace,B===A.uid)continue e;P=T[B],P.dispose(),delete T[B]}},g.updateLayout=function(D){var T=this.map,P=D[this.id];!this.dragging&&!this.wheeling&&(T.setCenter(S(P.center)),T.setZoom(P.zoom),T.setBearing(P.bearing),T.setPitch(P.pitch)),this.updateLayers(D),this.updateFramework(D),this.updateFx(D),this.map.resize(),this.gd._context._scrollZoom.mapbox?T.scrollZoom.enable():T.scrollZoom.disable()},g.resolveOnRender=function(D){var T=this.map;T.on("render",function P(){T.loaded()&&(T.off("render",P),setTimeout(D,10))})},g.rejectOnError=function(D){var T=this.map;function P(){D(new Error(x.mapOnErrorMsg))}T.once("error",P),T.once("style.error",P),T.once("source.error",P),T.once("tile.error",P),T.once("layer.error",P)},g.createFramework=function(D){var T=this,P=T.div=document.createElement("div");P.id=T.uid,P.style.position="absolute",T.container.appendChild(P),T.xaxis={_id:"x",c2p:function(A){return T.project(A).x}},T.yaxis={_id:"y",c2p:function(A){return T.project(A).y}},T.updateFramework(D),T.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},w.setConvert(T.mockAxis,D)},g.initFx=function(D,T){var P=this,A=P.gd,a=P.map;a.on("moveend",function(N){if(P.map){var O=A._fullLayout;if(N.originalEvent||P.wheeling){var Y=O[P.id];L.call("_storeDirectGUIEdit",A.layout,O._preGUI,P.getViewEdits(Y));var B=P.getView();Y._input.center=Y.center=B.center,Y._input.zoom=Y.zoom=B.zoom,Y._input.bearing=Y.bearing=B.bearing,Y._input.pitch=Y.pitch=B.pitch,A.emit("plotly_relayout",P.getViewEditsWithDerived(B))}N.originalEvent&&N.originalEvent.type==="mouseup"?P.dragging=!1:P.wheeling&&(P.wheeling=!1),O._rehover&&O._rehover()}}),a.on("wheel",function(){P.wheeling=!0}),a.on("mousemove",function(N){var O=P.div.getBoundingClientRect(),Y=[N.originalEvent.offsetX,N.originalEvent.offsetY];N.target.getBoundingClientRect=function(){return O},P.xaxis.p2c=function(){return a.unproject(Y).lng},P.yaxis.p2c=function(){return a.unproject(Y).lat},A._fullLayout._rehover=function(){A._fullLayout._hoversubplot===P.id&&A._fullLayout[P.id]&&m.hover(A,N,P.id)},m.hover(A,N,P.id),A._fullLayout._hoversubplot=P.id});function R(){m.loneUnhover(T._hoverlayer)}a.on("dragstart",function(){P.dragging=!0,R()}),a.on("zoomstart",R),a.on("mouseout",function(){A._fullLayout._hoversubplot=null});function b(){var N=P.getView();A.emit("plotly_relayouting",P.getViewEditsWithDerived(N))}a.on("drag",b),a.on("zoom",b),a.on("dblclick",function(){var N=A._fullLayout[P.id];L.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,P.getViewEdits(N));var O=P.viewInitial;a.setCenter(S(O.center)),a.setZoom(O.zoom),a.setBearing(O.bearing),a.setPitch(O.pitch);var Y=P.getView();N._input.center=N.center=Y.center,N._input.zoom=N.zoom=Y.zoom,N._input.bearing=N.bearing=Y.bearing,N._input.pitch=N.pitch=Y.pitch,A.emit("plotly_doubleclick",null),A.emit("plotly_relayout",P.getViewEditsWithDerived(Y))}),P.clearOutline=function(){v(P.dragOptions),f(P.dragOptions.gd)},P.onClickInPanFn=function(N){return function(O){var Y=A._fullLayout.clickmode;Y.indexOf("select")>-1&&c(O.originalEvent,A,[P.xaxis],[P.yaxis],P.id,N),Y.indexOf("event")>-1&&m.click(A,O.originalEvent)}}},g.updateFx=function(D){var T=this,P=T.map,A=T.gd;if(T.isStatic)return;function a(O){var Y=T.map.unproject(O);return[Y.lng,Y.lat]}var R=D.dragmode,b;b=function(O,Y){if(Y.isRect){var B=O.range={};B[T.id]=[a([Y.xmin,Y.ymin]),a([Y.xmax,Y.ymax])]}else{var W=O.lassoPoints={};W[T.id]=Y.map(a)}};var N=T.dragOptions;T.dragOptions=E.extendDeep(N||{},{dragmode:D.dragmode,element:T.div,gd:A,plotinfo:{id:T.id,domain:D[T.id].domain,xaxis:T.xaxis,yaxis:T.yaxis,fillRangeItems:b},xaxes:[T.xaxis],yaxes:[T.yaxis],subplot:T.id}),P.off("click",T.onClickInPanHandler),l(R)||r(R)?(P.dragPan.disable(),P.on("zoomstart",T.clearOutline),T.dragOptions.prepFn=function(O,Y,B){i(O,Y,B,T.dragOptions,R)},p.init(T.dragOptions)):(P.dragPan.enable(),P.off("zoomstart",T.clearOutline),T.div.onmousedown=null,T.div.ontouchstart=null,T.div.removeEventListener("touchstart",T.div._ontouchstart),T.onClickInPanHandler=T.onClickInPanFn(T.dragOptions),P.on("click",T.onClickInPanHandler))},g.updateFramework=function(D){var T=D[this.id].domain,P=D._size,A=this.div.style;A.width=P.w*(T.x[1]-T.x[0])+"px",A.height=P.h*(T.y[1]-T.y[0])+"px",A.left=P.l+T.x[0]*P.w+"px",A.top=P.t+(1-T.y[1])*P.h+"px",this.xaxis._offset=P.l+T.x[0]*P.w,this.xaxis._length=P.w*(T.x[1]-T.x[0]),this.yaxis._offset=P.t+(1-T.y[1])*P.h,this.yaxis._length=P.h*(T.y[1]-T.y[0])},g.updateLayers=function(D){var T=D[this.id],P=T.layers,A=this.layerList,a;if(P.length!==A.length){for(a=0;a<A.length;a++)A[a].dispose();for(A=this.layerList=[],a=0;a<P.length;a++)A.push(d(this,a,P[a]))}else for(a=0;a<P.length;a++)A[a].update(P[a])},g.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},g.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},g.setOptions=function(D,T,P){for(var A in P)this.map[T](D,A,P[A])},g.getMapLayers=function(){return this.map.getStyle().layers},g.addLayer=function(D,T){var P=this.map;if(typeof T=="string"){if(T===""){P.addLayer(D,T);return}for(var A=this.getMapLayers(),a=0;a<A.length;a++)if(T===A[a].id){P.addLayer(D,T);return}E.warn(["Trying to add layer with *below* value",T,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}P.addLayer(D)},g.project=function(D){return this.map.project(new h.LngLat(D[0],D[1]))},g.getView=function(){var D=this.map,T=D.getCenter(),P=T.lng,A=T.lat,a={lon:P,lat:A},R=D.getCanvas(),b=parseInt(R.style.width),N=parseInt(R.style.height);return{center:a,zoom:D.getZoom(),bearing:D.getBearing(),pitch:D.getPitch(),_derived:{coordinates:[D.unproject([0,0]).toArray(),D.unproject([b,0]).toArray(),D.unproject([b,N]).toArray(),D.unproject([0,N]).toArray()]}}},g.getViewEdits=function(D){for(var T=this.id,P=["center","zoom","bearing","pitch"],A={},a=0;a<P.length;a++){var R=P[a];A[T+"."+R]=D[R]}return A},g.getViewEditsWithDerived=function(D){var T=this.id,P=this.getViewEdits(D);return P[T+"._derived"]=D._derived,P};function y(D){var T={};return E.isPlainObject(D)?(T.id=D.id,T.style=D):typeof D=="string"?(T.id=D,x.styleValuesMapbox.indexOf(D)!==-1?T.style=C(D):x.stylesNonMapbox[D]?T.style=x.stylesNonMapbox[D]:T.style=D):(T.id=x.styleValueDflt,T.style=C(x.styleValueDflt)),T.transition={duration:0,delay:0},T}function C(D){return x.styleUrlPrefix+D+"-"+x.styleUrlSuffix}function S(D){return[D.lon,D.lat]}k.exports=M},35025:function(k){k.exports=function(F){var e=F.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(k,F,e){var h=e(39898),E=e(84096).Dq,n=e(60721).FF,L=e(92770),w=e(73972),p=e(86281),m=e(44467),t=e(71828),r=e(7901),l=e(50606).BADNUM,i=e(41675),f=e(51873).clearOutline,v=e(21479),c=e(85594),x=e(31391),d=e(27659).a0,M=t.relinkPrivateKeys,g=t._,u=k.exports={};t.extendFlat(u,w),u.attributes=e(9012),u.attributes.type.values=u.allTypes,u.fontAttrs=e(41940),u.layoutAttributes=e(10820),u.fontWeight="normal";var y=u.transformsRegistry,C=e(31137);u.executeAPICommand=C.executeAPICommand,u.computeAPICommandBindings=C.computeAPICommandBindings,u.manageCommandObserver=C.manageCommandObserver,u.hasSimpleAPICommandBindings=C.hasSimpleAPICommandBindings,u.redrawText=function(Q){return Q=t.getGraphDiv(Q),new Promise(function($){setTimeout(function(){Q._fullLayout&&(w.getComponentMethod("annotations","draw")(Q),w.getComponentMethod("legend","draw")(Q),w.getComponentMethod("colorbar","draw")(Q),$(u.previousPromises(Q)))},300)})},u.resize=function(Q){Q=t.getGraphDiv(Q);var $,ne=new Promise(function(fe,te){(!Q||t.isHidden(Q))&&te(new Error("Resize must be passed a displayed plot div element.")),Q._redrawTimer&&clearTimeout(Q._redrawTimer),Q._resolveResize&&($=Q._resolveResize),Q._resolveResize=fe,Q._redrawTimer=setTimeout(function(){if(!Q.layout||Q.layout.width&&Q.layout.height||t.isHidden(Q)){fe(Q);return}delete Q.layout.width,delete Q.layout.height;var q=Q.changed;Q.autoplay=!0,w.call("relayout",Q,{autosize:!0}).then(function(){Q.changed=q,Q._resolveResize===fe&&(delete Q._resolveResize,fe(Q))})},100)});return $&&$(ne),ne},u.previousPromises=function(Q){if((Q._promises||[]).length)return Promise.all(Q._promises).then(function(){Q._promises=[]})},u.addLinks=function(Q){if(!(!Q._context.showLink&&!Q._context.showSources)){var $=Q._fullLayout,ne=t.ensureSingle($._paper,"text","js-plot-link-container",function(pe){pe.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var we=h.select(this);we.append("tspan").classed("js-link-to-tool",!0),we.append("tspan").classed("js-link-spacer",!0),we.append("tspan").classed("js-sourcelinks",!0)})}),fe=ne.node(),te={y:$._paper.attr("height")-9};document.body.contains(fe)&&fe.getComputedTextLength()>=$.width-20?(te["text-anchor"]="start",te.x=5):(te["text-anchor"]="end",te.x=$._paper.attr("width")-7),ne.attr(te);var q=ne.select(".js-link-to-tool"),he=ne.select(".js-link-spacer"),se=ne.select(".js-sourcelinks");Q._context.showSources&&Q._context.showSources(Q),Q._context.showLink&&S(Q,q),he.text(q.text()&&se.text()?" - ":"")}};function S(Q,$){$.text("");var ne=$.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Q._context.linkText+" "+String.fromCharCode(187));if(Q._context.sendData)ne.on("click",function(){u.sendDataToCloud(Q)});else{var fe=window.location.pathname.split("/"),te=window.location.search;ne.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+fe[2].split(".")[0]+"/"+fe[1]+te})}}u.sendDataToCloud=function(Q){var $=(window.PLOTLYENV||{}).BASE_URL||Q._context.plotlyServerURL;if($){Q.emit("plotly_beforeexport");var ne=h.select(Q).append("div").attr("id","hiddenform").style("display","none"),fe=ne.append("form").attr({action:$+"/external",method:"post",target:"_blank"}),te=fe.append("input").attr({type:"text",name:"data"});return te.node().value=u.graphJson(Q,!1,"keepdata"),fe.node().submit(),ne.remove(),Q.emit("plotly_afterexport"),!1}};var D=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],T=["year","month","dayMonth","dayMonthYear"];u.supplyDefaults=function(Q,$){var ne=$&&$.skipUpdateCalc,fe=Q._fullLayout||{};if(fe._skipDefaults){delete fe._skipDefaults;return}var te=Q._fullLayout={},q=Q.layout||{},he=Q._fullData||[],se=Q._fullData=[],pe=Q.data||[],we=Q.calcdata||[],Ee=Q._context||{},Me;Q._transitionData||u.createTransitionData(Q),te._dfltTitle={plot:g(Q,"Click to enter Plot title"),x:g(Q,"Click to enter X axis title"),y:g(Q,"Click to enter Y axis title"),colorbar:g(Q,"Click to enter Colorscale title"),annotation:g(Q,"new text")},te._traceWord=g(Q,"trace");var Be=a(Q,D);if(te._mapboxAccessToken=Ee.mapboxAccessToken,fe._initialAutoSizeIsDone){var Ne=fe.width,Ce=fe.height;u.supplyLayoutGlobalDefaults(q,te,Be),q.width||(te.width=Ne),q.height||(te.height=Ce),u.sanitizeMargins(te)}else{u.supplyLayoutGlobalDefaults(q,te,Be);var Te=!q.width||!q.height,Le=te.autosize,Ve=Ee.autosizable,We=Te&&(Le||Ve);We?u.plotAutoSize(Q,q,te):Te&&u.sanitizeMargins(te),!Le&&Te&&(q.width=te.width,q.height=te.height)}te._d3locale=R(Be,te.separators),te._extraFormat=a(Q,T),te._initialAutoSizeIsDone=!0,te._dataLength=pe.length,te._modules=[],te._visibleModules=[],te._basePlotModules=[];var Fe=te._subplots=A(),Ge=te._splomAxes={x:{},y:{}},it=te._splomSubplots={};te._splomGridDflt={},te._scatterStackOpts={},te._firstScatter={},te._alignmentOpts={},te._colorAxes={},te._requestRangeslider={},te._traceUids=P(he,pe),te._globalTransforms=(Q._context||{}).globalTransforms,u.supplyDataDefaults(pe,se,q,te);var qe=Object.keys(Ge.x),$e=Object.keys(Ge.y);if(qe.length>1&&$e.length>1){for(w.getComponentMethod("grid","sizeDefaults")(q,te),Me=0;Me<qe.length;Me++)t.pushUnique(Fe.xaxis,qe[Me]);for(Me=0;Me<$e.length;Me++)t.pushUnique(Fe.yaxis,$e[Me]);for(var tt in it)t.pushUnique(Fe.cartesian,tt)}if(te._has=u._hasPlotType.bind(te),he.length===se.length)for(Me=0;Me<se.length;Me++)M(se[Me],he[Me]);u.supplyLayoutModuleDefaults(q,te,se,Q._transitionData);var vt=te._visibleModules,dt=[];for(Me=0;Me<vt.length;Me++){var gt=vt[Me].crossTraceDefaults;gt&&t.pushUnique(dt,gt)}for(Me=0;Me<dt.length;Me++)dt[Me](se,te);te._hasOnlyLargeSploms=te._basePlotModules.length===1&&te._basePlotModules[0].name==="splom"&&qe.length>15&&$e.length>15&&te.shapes.length===0&&te.images.length===0,u.linkSubplots(se,te,he,fe),u.cleanPlot(se,te,he,fe);var Mt=!!(fe._has&&fe._has("gl2d")),Ct=!!(te._has&&te._has("gl2d")),Wt=!!(fe._has&&fe._has("cartesian")),Xe=!!(te._has&&te._has("cartesian")),ke=Wt||Mt,Ie=Xe||Ct;ke&&!Ie?fe._bgLayer.remove():Ie&&!ke&&(te._shouldCreateBgLayer=!0),fe._zoomlayer&&!Q._dragging&&f({_fullLayout:fe}),b(se,te),M(te,fe),w.getComponentMethod("colorscale","crossTraceDefaults")(se,te),te._preGUI||(te._preGUI={}),te._tracePreGUI||(te._tracePreGUI={});var Oe=te._tracePreGUI,_e={},Ae;for(Ae in Oe)_e[Ae]="old";for(Me=0;Me<se.length;Me++)Ae=se[Me]._fullInput.uid,_e[Ae]||(Oe[Ae]={}),_e[Ae]="new";for(Ae in _e)_e[Ae]==="old"&&delete Oe[Ae];W(te),w.getComponentMethod("rangeslider","makeData")(te),!ne&&we.length===se.length&&u.supplyDefaultsUpdateCalc(we,se)},u.supplyDefaultsUpdateCalc=function(Q,$){for(var ne=0;ne<$.length;ne++){var fe=$[ne],te=(Q[ne]||[])[0];if(te&&te.trace){var q=te.trace;if(q._hasCalcTransform){var he=q._arrayAttrs,se,pe,we;for(se=0;se<he.length;se++)pe=he[se],we=t.nestedProperty(q,pe).get().slice(),t.nestedProperty(fe,pe).set(we)}te.trace=fe}}};function P(Q,$){var ne=$.length,fe=[],te,q;for(te=0;te<Q.length;te++){var he=Q[te]._fullInput;he!==q&&fe.push(he),q=he}var se=fe.length,pe=new Array(ne),we={};function Ee(Ne,Ce){pe[Ce]=Ne,we[Ne]=1}function Me(Ne,Ce){if(Ne&&typeof Ne=="string"&&!we[Ne])return Ee(Ne,Ce),!0}for(te=0;te<ne;te++){var Be=$[te].uid;typeof Be=="number"&&(Be=String(Be)),!Me(Be,te)&&(te<se&&Me(fe[te].uid,te)||Ee(t.randstr(we),te))}return pe}function A(){var Q=w.collectableSubplotTypes,$={},ne,fe;if(!Q){Q=[];var te=w.subplotsRegistry;for(var q in te){var he=te[q],se=he.attr;if(se&&(Q.push(q),Array.isArray(se)))for(fe=0;fe<se.length;fe++)t.pushUnique(Q,se[fe])}}for(ne=0;ne<Q.length;ne++)$[Q[ne]]=[];return $}function a(Q,$){var ne=Q._context.locale;ne||(ne="en-US");var fe=!1,te={};function q(Me){for(var Be=!0,Ne=0;Ne<$.length;Ne++){var Ce=$[Ne];te[Ce]||(Me[Ce]?te[Ce]=Me[Ce]:Be=!1)}Be&&(fe=!0)}for(var he=0;he<2;he++){for(var se=Q._context.locales,pe=0;pe<2;pe++){var we=(se[ne]||{}).format;if(we&&(q(we),fe))break;se=w.localeRegistry}var Ee=ne.split("-")[0];if(fe||Ee===ne)break;ne=Ee}return fe||q(w.localeRegistry.en.format),te}function R(Q,$){return Q.decimal=$.charAt(0),Q.thousands=$.charAt(1),{numberFormat:function(ne){try{ne=n(Q).format(t.adjustFormat(ne))}catch{return t.warnBadFormat(ne),t.noFormat}return ne},timeFormat:E(Q).utcFormat}}function b(Q,$){var ne,fe=[];$.meta&&(ne=$._meta={meta:$.meta,layout:{meta:$.meta}});for(var te=0;te<Q.length;te++){var q=Q[te];q.meta?fe[q.index]=q._meta={meta:q.meta}:$.meta&&(q._meta={meta:$.meta}),$.meta&&(q._meta.layout={meta:$.meta})}fe.length&&(ne||(ne=$._meta={}),ne.data=fe)}u.createTransitionData=function(Q){Q._transitionData||(Q._transitionData={}),Q._transitionData._frames||(Q._transitionData._frames=[]),Q._transitionData._frameHash||(Q._transitionData._frameHash={}),Q._transitionData._counter||(Q._transitionData._counter=0),Q._transitionData._interruptCallbacks||(Q._transitionData._interruptCallbacks=[])},u._hasPlotType=function(Q){var $,ne=this._basePlotModules||[];for($=0;$<ne.length;$++)if(ne[$].name===Q)return!0;var fe=this._modules||[];for($=0;$<fe.length;$++){var te=fe[$].name;if(te===Q)return!0;var q=w.modules[te];if(q&&q.categories[Q])return!0}return!1},u.cleanPlot=function(Q,$,ne,fe){var te,q,he=fe._basePlotModules||[];for(te=0;te<he.length;te++){var se=he[te];se.clean&&se.clean(Q,$,ne,fe)}var pe=fe._has&&fe._has("gl"),we=$._has&&$._has("gl");pe&&!we&&fe._glcontainer!==void 0&&(fe._glcontainer.selectAll(".gl-canvas").remove(),fe._glcontainer.selectAll(".no-webgl").remove(),fe._glcanvas=null);var Ee=!!fe._infolayer;e:for(te=0;te<ne.length;te++){var Me=ne[te],Be=Me.uid;for(q=0;q<Q.length;q++){var Ne=Q[q];if(Be===Ne.uid)continue e}Ee&&fe._infolayer.select(".cb"+Be).remove()}},u.linkSubplots=function(Q,$,ne,fe){var te,q,he=fe._plots||{},se=$._plots={},pe=$._subplots,we={_fullData:Q,_fullLayout:$},Ee=pe.cartesian.concat(pe.gl2d||[]);for(te=0;te<Ee.length;te++){var Me=Ee[te],Be=he[Me],Ne=i.getFromId(we,Me,"x"),Ce=i.getFromId(we,Me,"y"),Te;for(Be?Te=se[Me]=Be:(Te=se[Me]={},Te.id=Me),Ne._counterAxes.push(Ce._id),Ce._counterAxes.push(Ne._id),Ne._subplotsWith.push(Me),Ce._subplotsWith.push(Me),Te.xaxis=Ne,Te.yaxis=Ce,Te._hasClipOnAxisFalse=!1,q=0;q<Q.length;q++){var Le=Q[q];if(Le.xaxis===Te.xaxis._id&&Le.yaxis===Te.yaxis._id&&Le.cliponaxis===!1){Te._hasClipOnAxisFalse=!0;break}}}var Ve=i.list(we,null,!0),We;for(te=0;te<Ve.length;te++){We=Ve[te];var Fe=null;We.overlaying&&(Fe=i.getFromId(we,We.overlaying),Fe&&Fe.overlaying&&(We.overlaying=!1,Fe=null)),We._mainAxis=Fe||We,Fe&&(We.domain=Fe.domain.slice()),We._anchorAxis=We.anchor==="free"?null:i.getFromId(we,We.anchor)}for(te=0;te<Ve.length;te++)if(We=Ve[te],We._counterAxes.sort(i.idSort),We._subplotsWith.sort(t.subplotSort),We._mainSubplot=N(We,$),We._counterAxes.length&&(We.spikemode&&We.spikemode.indexOf("across")!==-1||We.automargin&&We.mirror&&We.anchor!=="free"||w.getComponentMethod("rangeslider","isVisible")(We))){var Ge=1,it=0;for(q=0;q<We._counterAxes.length;q++){var qe=i.getFromId(we,We._counterAxes[q]);Ge=Math.min(Ge,qe.domain[0]),it=Math.max(it,qe.domain[1])}Ge<it&&(We._counterDomainMin=Ge,We._counterDomainMax=it)}};function N(Q,$){var ne={_fullLayout:$},fe=Q._id.charAt(0)==="x",te=Q._mainAxis._anchorAxis,q="",he="",se="";if(te&&(se=te._mainAxis._id,q=fe?Q._id+se:se+Q._id),!q||!$._plots[q]){q="";for(var pe=Q._counterAxes,we=0;we<pe.length;we++){var Ee=pe[we],Me=fe?Q._id+Ee:Ee+Q._id;he||(he=Me);var Be=i.getFromId(ne,Ee);if(se&&Be.overlaying===se){q=Me;break}}}return q||he}u.clearExpandedTraceDefaultColors=function(Q){var $,ne,fe;function te(he,se,pe,we){ne[we]=se,ne.length=we+1,he.valType==="color"&&he.dflt===void 0&&$.push(ne.join("."))}for(ne=[],$=Q._module._colorAttrs,$||(Q._module._colorAttrs=$=[],p.crawl(Q._module.attributes,te)),fe=0;fe<$.length;fe++){var q=t.nestedProperty(Q,"_input."+$[fe]);q.get()||t.nestedProperty(Q,$[fe]).set(null)}},u.supplyDataDefaults=function(Q,$,ne,fe){var te=fe._modules,q=fe._visibleModules,he=fe._basePlotModules,se=0,pe=0,we,Ee,Me;fe._transformModules=[];function Be($e){$.push($e);var tt=$e._module;tt&&(t.pushUnique(te,tt),$e.visible===!0&&t.pushUnique(q,tt),t.pushUnique(he,$e._module.basePlotModule),se++,$e._input.visible!==!1&&pe++)}var Ne={},Ce=[],Te=(ne.template||{}).data||{},Le=m.traceTemplater(Te);for(we=0;we<Q.length;we++){if(Me=Q[we],Ee=Le.newTrace(Me),Ee.uid=fe._traceUids[we],u.supplyTraceDefaults(Me,Ee,pe,fe,we),Ee.index=we,Ee._input=Me,Ee._expandedIndex=se,Ee.transforms&&Ee.transforms.length)for(var Ve=Me.visible!==!1&&Ee.visible===!1,We=Y(Ee,$,ne,fe),Fe=0;Fe<We.length;Fe++){var Ge=We[Fe],it={_template:Ee._template,type:Ee.type,uid:Ee.uid+Fe};Ve&&Ge.visible===!1&&delete Ge.visible,u.supplyTraceDefaults(Ge,it,se,fe,we),M(it,Ge),it.index=we,it._input=Me,it._fullInput=Ee,it._expandedIndex=se,it._expandedInput=Ge,Be(it)}else Ee._fullInput=Ee,Ee._expandedInput=Ee,Be(Ee);w.traceIs(Ee,"carpetAxis")&&(Ne[Ee.carpet]=Ee),w.traceIs(Ee,"carpetDependent")&&Ce.push(we)}for(we=0;we<Ce.length;we++)if(Ee=$[Ce[we]],!!Ee.visible){var qe=Ne[Ee.carpet];if(Ee._carpet=qe,!qe||!qe.visible){Ee.visible=!1;continue}Ee.xaxis=qe.xaxis,Ee.yaxis=qe.yaxis}},u.supplyAnimationDefaults=function(Q){Q=Q||{};var $,ne={};function fe(te,q){return t.coerce(Q||{},ne,c,te,q)}if(fe("mode"),fe("direction"),fe("fromcurrent"),Array.isArray(Q.frame))for(ne.frame=[],$=0;$<Q.frame.length;$++)ne.frame[$]=u.supplyAnimationFrameDefaults(Q.frame[$]||{});else ne.frame=u.supplyAnimationFrameDefaults(Q.frame||{});if(Array.isArray(Q.transition))for(ne.transition=[],$=0;$<Q.transition.length;$++)ne.transition[$]=u.supplyAnimationTransitionDefaults(Q.transition[$]||{});else ne.transition=u.supplyAnimationTransitionDefaults(Q.transition||{});return ne},u.supplyAnimationFrameDefaults=function(Q){var $={};function ne(fe,te){return t.coerce(Q||{},$,c.frame,fe,te)}return ne("duration"),ne("redraw"),$},u.supplyAnimationTransitionDefaults=function(Q){var $={};function ne(fe,te){return t.coerce(Q||{},$,c.transition,fe,te)}return ne("duration"),ne("easing"),$},u.supplyFrameDefaults=function(Q){var $={};function ne(fe,te){return t.coerce(Q,$,x,fe,te)}return ne("group"),ne("name"),ne("traces"),ne("baseframe"),ne("data"),ne("layout"),$},u.supplyTraceDefaults=function(Q,$,ne,fe,te){var q=fe.colorway||r.defaults,he=q[ne%q.length],se;function pe(We,Fe){return t.coerce(Q,$,u.attributes,We,Fe)}var we=pe("visible");pe("type"),pe("name",fe._traceWord+" "+te),pe("uirevision",fe.uirevision);var Ee=u.getModule($);if($._module=Ee,Ee){var Me=Ee.basePlotModule,Be=Me.attr,Ne=Me.attributes;if(Be&&Ne){var Ce=fe._subplots,Te="";if(we||Me.name!=="gl2d"){if(Array.isArray(Be))for(se=0;se<Be.length;se++){var Le=Be[se],Ve=t.coerce(Q,$,Ne,Le);Ce[Le]&&t.pushUnique(Ce[Le],Ve),Te+=Ve}else Te=t.coerce(Q,$,Ne,Be);Ce[Me.name]&&t.pushUnique(Ce[Me.name],Te)}}}return we&&(pe("customdata"),pe("ids"),pe("meta"),w.traceIs($,"showLegend")?(t.coerce(Q,$,Ee.attributes.showlegend?Ee.attributes:u.attributes,"showlegend"),pe("legend"),pe("legendwidth"),pe("legendgroup"),pe("legendgrouptitle.text"),pe("legendrank"),$._dfltShowLegend=!0):$._dfltShowLegend=!1,Ee&&Ee.supplyDefaults(Q,$,he,fe),w.traceIs($,"noOpacity")||pe("opacity"),w.traceIs($,"notLegendIsolatable")&&($.visible=!!$.visible),w.traceIs($,"noHover")||($.hovertemplate||t.coerceHoverinfo(Q,$,fe),$.type!=="parcats"&&w.getComponentMethod("fx","supplyDefaults")(Q,$,he,fe)),Ee&&Ee.selectPoints&&pe("selectedpoints"),u.supplyTransformDefaults(Q,$,fe)),$};function O(Q){var $=Q.transforms;if(Array.isArray($)&&$.length)for(var ne=0;ne<$.length;ne++){var fe=$[ne],te=fe._module||y[fe.type];if(te&&te.makesData)return!0}return!1}u.hasMakesDataTransform=O,u.supplyTransformDefaults=function(Q,$,ne){if($._length||O(Q)){var fe=ne._globalTransforms||[],te=ne._transformModules||[];if(!(!Array.isArray(Q.transforms)&&fe.length===0))for(var q=Q.transforms||[],he=fe.concat(q),se=$.transforms=[],pe=0;pe<he.length;pe++){var we=he[pe],Ee=we.type,Me=y[Ee],Be,Ne=!(we._module&&we._module===Me),Ce=Me&&typeof Me.transform=="function";Me||t.warn("Unrecognized transform type "+Ee+"."),Me&&Me.supplyDefaults&&(Ne||Ce)?(Be=Me.supplyDefaults(we,$,ne,Q),Be.type=Ee,Be._module=Me,t.pushUnique(te,Me)):Be=t.extendFlat({},we),se.push(Be)}}};function Y(Q,$,ne,fe){for(var te=Q.transforms,q=[Q],he=0;he<te.length;he++){var se=te[he],pe=y[se.type];pe&&pe.transform&&(q=pe.transform(q,{transform:se,fullTrace:Q,fullData:$,layout:ne,fullLayout:fe,transformIndex:he}))}return q}u.supplyLayoutGlobalDefaults=function(Q,$,ne){function fe(Me,Be){return t.coerce(Q,$,u.layoutAttributes,Me,Be)}var te=Q.template;t.isPlainObject(te)&&($.template=te,$._template=te.layout,$._dataTemplate=te.data),fe("autotypenumbers");var q=t.coerceFont(fe,"font"),he=q.size;t.coerceFont(fe,"title.font",t.extendFlat({},q,{size:Math.round(he*1.4)})),fe("title.text",$._dfltTitle.plot),fe("title.xref");var se=fe("title.yref");fe("title.pad.t"),fe("title.pad.r"),fe("title.pad.b"),fe("title.pad.l");var pe=fe("title.automargin");fe("title.x"),fe("title.xanchor"),fe("title.y"),fe("title.yanchor"),pe&&(se==="paper"&&($.title.y!==0&&($.title.y=1),$.title.yanchor==="auto"&&($.title.yanchor=$.title.y===0?"top":"bottom")),se==="container"&&($.title.y==="auto"&&($.title.y=1),$.title.yanchor==="auto"&&($.title.yanchor=$.title.y<.5?"bottom":"top")));var we=fe("uniformtext.mode");we&&fe("uniformtext.minsize"),fe("autosize",!(Q.width&&Q.height)),fe("width"),fe("height"),fe("minreducedwidth"),fe("minreducedheight"),fe("margin.l"),fe("margin.r"),fe("margin.t"),fe("margin.b"),fe("margin.pad"),fe("margin.autoexpand"),Q.width&&Q.height&&u.sanitizeMargins($),w.getComponentMethod("grid","sizeDefaults")(Q,$),fe("paper_bgcolor"),fe("separators",ne.decimal+ne.thousands),fe("hidesources"),fe("colorway"),fe("datarevision");var Ee=fe("uirevision");fe("editrevision",Ee),fe("selectionrevision",Ee),w.getComponentMethod("modebar","supplyLayoutDefaults")(Q,$),w.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Q,$,fe),w.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Q,$,fe),fe("meta"),t.isPlainObject(Q.transition)&&(fe("transition.duration"),fe("transition.easing"),fe("transition.ordering")),w.getComponentMethod("calendars","handleDefaults")(Q,$,"calendar"),w.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Q,$,fe),t.coerce(Q,$,v,"scattermode")};function B(Q){return typeof Q=="string"&&Q.substr(Q.length-2)==="px"&&parseFloat(Q)}u.plotAutoSize=function($,ne,fe){var te=$._context||{},q=te.frameMargins,he,se,pe=t.isPlotDiv($);if(pe&&$.emit("plotly_autosize"),te.fillFrame)he=window.innerWidth,se=window.innerHeight,document.body.style.overflow="hidden";else{var we=pe?window.getComputedStyle($):{};if(he=B(we.width)||B(we.maxWidth)||fe.width,se=B(we.height)||B(we.maxHeight)||fe.height,L(q)&&q>0){var Ee=1-2*q;he=Math.round(Ee*he),se=Math.round(Ee*se)}}var Me=u.layoutAttributes.width.min,Be=u.layoutAttributes.height.min;he<Me&&(he=Me),se<Be&&(se=Be);var Ne=!ne.width&&Math.abs(fe.width-he)>1,Ce=!ne.height&&Math.abs(fe.height-se)>1;(Ce||Ne)&&(Ne&&(fe.width=he),Ce&&(fe.height=se)),$._initialAutoSize||($._initialAutoSize={width:he,height:se}),u.sanitizeMargins(fe)},u.supplyLayoutModuleDefaults=function(Q,$,ne,fe){var te=w.componentsRegistry,q=$._basePlotModules,he,se,pe,we=w.subplotsRegistry.cartesian;for(he in te)pe=te[he],pe.includeBasePlot&&pe.includeBasePlot(Q,$);q.length||q.push(we),$._has("cartesian")&&(w.getComponentMethod("grid","contentDefaults")(Q,$),we.finalizeSubplots(Q,$));for(var Ee in $._subplots)$._subplots[Ee].sort(t.subplotSort);for(se=0;se<q.length;se++)pe=q[se],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(Q,$,ne);var Me=$._modules;for(se=0;se<Me.length;se++)pe=Me[se],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(Q,$,ne);var Be=$._transformModules;for(se=0;se<Be.length;se++)pe=Be[se],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(Q,$,ne,fe);for(he in te)pe=te[he],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(Q,$,ne)},u.purge=function(Q){var $=Q._fullLayout||{};$._glcontainer!==void 0&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.remove(),$._glcanvas=null),$._modeBar&&$._modeBar.destroy(),Q._transitionData&&(Q._transitionData._interruptCallbacks&&(Q._transitionData._interruptCallbacks.length=0),Q._transitionData._animationRaf&&window.cancelAnimationFrame(Q._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Q),delete Q.data,delete Q.layout,delete Q._fullData,delete Q._fullLayout,delete Q.calcdata,delete Q.empty,delete Q.fid,delete Q.undoqueue,delete Q.undonum,delete Q.autoplay,delete Q.changed,delete Q._promises,delete Q._redrawTimer,delete Q._hmlumcount,delete Q._hmpixcount,delete Q._transitionData,delete Q._transitioning,delete Q._initialAutoSize,delete Q._transitioningWithDuration,delete Q._dragging,delete Q._dragged,delete Q._dragdata,delete Q._hoverdata,delete Q._snapshotInProgress,delete Q._editing,delete Q._mouseDownTime,delete Q._legendMouseDownTime,Q.removeAllListeners&&Q.removeAllListeners()},u.style=function(Q){var $=Q._fullLayout._visibleModules,ne=[],fe;for(fe=0;fe<$.length;fe++){var te=$[fe];te.style&&t.pushUnique(ne,te.style)}for(fe=0;fe<ne.length;fe++)ne[fe](Q)},u.sanitizeMargins=function(Q){if(!(!Q||!Q.margin)){var $=Q.width,ne=Q.height,fe=Q.margin,te=$-(fe.l+fe.r),q=ne-(fe.t+fe.b),he;te<0&&(he=($-1)/(fe.l+fe.r),fe.l=Math.floor(he*fe.l),fe.r=Math.floor(he*fe.r)),q<0&&(he=(ne-1)/(fe.t+fe.b),fe.t=Math.floor(he*fe.t),fe.b=Math.floor(he*fe.b))}},u.clearAutoMarginIds=function(Q){Q._fullLayout._pushmarginIds={}},u.allowAutoMargin=function(Q,$){Q._fullLayout._pushmarginIds[$]=1};function W(Q){var $=Q.margin;if(!Q._size){var ne=Q._size={l:Math.round($.l),r:Math.round($.r),t:Math.round($.t),b:Math.round($.b),p:Math.round($.pad)};ne.w=Math.round(Q.width)-ne.l-ne.r,ne.h=Math.round(Q.height)-ne.t-ne.b}Q._pushmargin||(Q._pushmargin={}),Q._pushmarginIds||(Q._pushmarginIds={}),Q._reservedMargin||(Q._reservedMargin={})}var H=2,U=2;u.autoMargin=function(Q,$,ne){var fe=Q._fullLayout,te=fe.width,q=fe.height,he=fe.margin,se=fe.minreducedwidth,pe=fe.minreducedheight,we=t.constrain(te-he.l-he.r,H,se),Ee=t.constrain(q-he.t-he.b,U,pe),Me=Math.max(0,te-we),Be=Math.max(0,q-Ee),Ne=fe._pushmargin,Ce=fe._pushmarginIds;if(he.autoexpand!==!1){if(!ne)delete Ne[$],delete Ce[$];else{var Te=ne.pad;if(Te===void 0&&(Te=Math.min(12,he.l,he.r,he.t,he.b)),Me){var Le=(ne.l+ne.r)/Me;Le>1&&(ne.l/=Le,ne.r/=Le)}if(Be){var Ve=(ne.t+ne.b)/Be;Ve>1&&(ne.t/=Ve,ne.b/=Ve)}var We=ne.xl!==void 0?ne.xl:ne.x,Fe=ne.xr!==void 0?ne.xr:ne.x,Ge=ne.yt!==void 0?ne.yt:ne.y,it=ne.yb!==void 0?ne.yb:ne.y;Ne[$]={l:{val:We,size:ne.l+Te},r:{val:Fe,size:ne.r+Te},b:{val:it,size:ne.b+Te},t:{val:Ge,size:ne.t+Te}},Ce[$]=1}if(!fe._replotting)return u.doAutoMargin(Q)}};function G(Q){if("_redrawFromAutoMarginCount"in Q._fullLayout)return!1;var $=i.list(Q,"",!0);for(var ne in $)if($[ne].autoshift||$[ne].shift)return!0;return!1}u.doAutoMargin=function(Q){var $=Q._fullLayout,ne=$.width,fe=$.height;$._size||($._size={}),W($);var te=$._size,q=$.margin,he={t:0,b:0,l:0,r:0},se=t.extendFlat({},te),pe=q.l,we=q.r,Ee=q.t,Me=q.b,Be=$._pushmargin,Ne=$._pushmarginIds,Ce=$.minreducedwidth,Te=$.minreducedheight;if(q.autoexpand!==!1){for(var Le in Be)Ne[Le]||delete Be[Le];var Ve=Q._fullLayout._reservedMargin;for(var We in Ve)for(var Fe in Ve[We]){var Ge=Ve[We][Fe];he[Fe]=Math.max(he[Fe],Ge)}Be.base={l:{val:0,size:pe},r:{val:1,size:we},t:{val:1,size:Ee},b:{val:0,size:Me}};for(var it in he){var qe=0;for(var $e in Be)$e!=="base"&&L(Be[$e][it].size)&&(qe=Be[$e][it].size>qe?Be[$e][it].size:qe);var tt=Math.max(0,q[it]-qe);he[it]=Math.max(0,he[it]-tt)}for(var vt in Be){var dt=Be[vt].l||{},gt=Be[vt].b||{},Mt=dt.val,Ct=dt.size,Wt=gt.val,Xe=gt.size,ke=ne-he.r-he.l,Ie=fe-he.t-he.b;for(var Oe in Be){if(L(Ct)&&Be[Oe].r){var _e=Be[Oe].r.val,Ae=Be[Oe].r.size;if(_e>Mt){var ce=(Ct*_e+(Ae-ke)*Mt)/(_e-Mt),be=(Ae*(1-Mt)+(Ct-ke)*(1-_e))/(_e-Mt);ce+be>pe+we&&(pe=ce,we=be)}}if(L(Xe)&&Be[Oe].t){var Re=Be[Oe].t.val,Ue=Be[Oe].t.size;if(Re>Wt){var nt=(Xe*Re+(Ue-Ie)*Wt)/(Re-Wt),ot=(Ue*(1-Wt)+(Xe-Ie)*(1-Re))/(Re-Wt);nt+ot>Me+Ee&&(Me=nt,Ee=ot)}}}}}var wt=t.constrain(ne-q.l-q.r,H,Ce),_t=t.constrain(fe-q.t-q.b,U,Te),Ut=Math.max(0,ne-wt),Vt=Math.max(0,fe-_t);if(Ut){var Lt=(pe+we)/Ut;Lt>1&&(pe/=Lt,we/=Lt)}if(Vt){var Kt=(Me+Ee)/Vt;Kt>1&&(Me/=Kt,Ee/=Kt)}if(te.l=Math.round(pe)+he.l,te.r=Math.round(we)+he.r,te.t=Math.round(Ee)+he.t,te.b=Math.round(Me)+he.b,te.p=Math.round(q.pad),te.w=Math.round(ne)-te.l-te.r,te.h=Math.round(fe)-te.t-te.b,!$._replotting&&(u.didMarginChange(se,te)||G(Q))){"_redrawFromAutoMarginCount"in $?$._redrawFromAutoMarginCount++:$._redrawFromAutoMarginCount=1;var ar=3*(1+Object.keys(Ne).length);if($._redrawFromAutoMarginCount<ar)return w.call("_doPlot",Q);$._size=se,t.warn("Too many auto-margin redraws.")}j(Q)};function j(Q){var $=i.list(Q,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ne){for(var fe=0;fe<$.length;fe++){var te=$[fe][ne];te&&te()}})}var re=["l","r","t","b","p","w","h"];u.didMarginChange=function(Q,$){for(var ne=0;ne<re.length;ne++){var fe=re[ne],te=Q[fe],q=$[fe];if(!L(te)||Math.abs(q-te)>1)return!0}return!1},u.graphJson=function(Q,$,ne,fe,te,q){(te&&$&&!Q._fullData||te&&!$&&!Q._fullLayout)&&u.supplyDefaults(Q);var he=te?Q._fullData:Q.data,se=te?Q._fullLayout:Q.layout,pe=(Q._transitionData||{})._frames;function we(Be,Ne){if(typeof Be=="function")return Ne?"_function_":null;if(t.isPlainObject(Be)){var Ce={},Te;return Object.keys(Be).sort().forEach(function(Le){if(["_","["].indexOf(Le.charAt(0))===-1){if(typeof Be[Le]=="function"){Ne&&(Ce[Le]="_function");return}if(ne==="keepdata"){if(Le.substr(Le.length-3)==="src")return}else if(ne==="keepstream"){if(Te=Be[Le+"src"],typeof Te=="string"&&Te.indexOf(":")>0&&!t.isPlainObject(Be.stream))return}else if(ne!=="keepall"&&(Te=Be[Le+"src"],typeof Te=="string"&&Te.indexOf(":")>0))return;Ce[Le]=we(Be[Le],Ne)}}),Ce}return Array.isArray(Be)?Be.map(function(Le){return we(Le,Ne)}):t.isTypedArray(Be)?t.simpleMap(Be,t.identity):t.isJSDate(Be)?t.ms2DateTimeLocal(+Be):Be}var Ee={data:(he||[]).map(function(Be){var Ne=we(Be);return $&&delete Ne.fit,Ne})};if(!$&&(Ee.layout=we(se),te)){var Me=se._size;Ee.layout.computed={margin:{b:Me.b,l:Me.l,r:Me.r,t:Me.t}}}return pe&&(Ee.frames=we(pe)),q&&(Ee.config=we(Q._context,!0)),fe==="object"?Ee:JSON.stringify(Ee)},u.modifyFrames=function(Q,$){var ne,fe,te,q=Q._transitionData._frames,he=Q._transitionData._frameHash;for(ne=0;ne<$.length;ne++)switch(fe=$[ne],fe.type){case"replace":te=fe.value;var se=(q[fe.index]||{}).name,pe=te.name;q[fe.index]=he[pe]=te,pe!==se&&(delete he[se],he[pe]=te);break;case"insert":te=fe.value,he[te.name]=te,q.splice(fe.index,0,te);break;case"delete":te=q[fe.index],delete he[te.name],q.splice(fe.index,1);break}return Promise.resolve()},u.computeFrame=function(Q,$){var ne=Q._transitionData._frameHash,fe,te,q,he;if(!$)throw new Error("computeFrame must be given a string frame name");var se=ne[$.toString()];if(!se)return!1;for(var pe=[se],we=[se.name];se.baseframe&&(se=ne[se.baseframe.toString()])&&we.indexOf(se.name)===-1;)pe.push(se),we.push(se.name);for(var Ee={};se=pe.pop();)if(se.layout&&(Ee.layout=u.extendLayout(Ee.layout,se.layout)),se.data){if(Ee.data||(Ee.data=[]),te=se.traces,!te)for(te=[],fe=0;fe<se.data.length;fe++)te[fe]=fe;for(Ee.traces||(Ee.traces=[]),fe=0;fe<se.data.length;fe++)q=te[fe],q!=null&&(he=Ee.traces.indexOf(q),he===-1&&(he=Ee.data.length,Ee.traces[he]=q),Ee.data[he]=u.extendTrace(Ee.data[he],se.data[fe]))}return Ee},u.recomputeFrameHash=function(Q){for(var $=Q._transitionData._frameHash={},ne=Q._transitionData._frames,fe=0;fe<ne.length;fe++){var te=ne[fe];te&&te.name&&($[te.name]=te)}},u.extendObjectWithContainers=function(Q,$,ne){var fe,te,q,he,se,pe,we,Ee,Me=t.extendDeepNoArrays({},$||{}),Be=t.expandObjectPaths(Me),Ne={};if(ne&&ne.length)for(q=0;q<ne.length;q++)fe=t.nestedProperty(Be,ne[q]),te=fe.get(),te===void 0?t.nestedProperty(Ne,ne[q]).set(null):(fe.set(null),t.nestedProperty(Ne,ne[q]).set(te));if(Q=t.extendDeepNoArrays(Q||{},Be),ne&&ne.length){for(q=0;q<ne.length;q++)if(se=t.nestedProperty(Ne,ne[q]),we=se.get(),!!we){for(pe=t.nestedProperty(Q,ne[q]),Ee=pe.get(),Array.isArray(Ee)||(Ee=[],pe.set(Ee)),he=0;he<we.length;he++){var Ce=we[he];Ce===null?Ee[he]=null:Ee[he]=u.extendObjectWithContainers(Ee[he],Ce)}pe.set(Ee)}}return Q},u.dataArrayContainers=["transforms","dimensions"],u.layoutArrayContainers=w.layoutArrayContainers,u.extendTrace=function(Q,$){return u.extendObjectWithContainers(Q,$,u.dataArrayContainers)},u.extendLayout=function(Q,$){return u.extendObjectWithContainers(Q,$,u.layoutArrayContainers)},u.transition=function(Q,$,ne,fe,te,q){var he={redraw:te.redraw},se={},pe=[];return he.prepareFn=function(){for(var we=Array.isArray($)?$.length:0,Ee=fe.slice(0,we),Me=0;Me<Ee.length;Me++){var Be=Ee[Me],Ne=Q._fullData[Be],Ce=Ne._module;if(Ce){if(Ce.animatable){var Te=Ce.basePlotModule.name;se[Te]||(se[Te]=[]),se[Te].push(Be)}Q.data[Ee[Me]]=u.extendTrace(Q.data[Ee[Me]],$[Me])}}var Le=t.expandObjectPaths(t.extendDeepNoArrays({},ne)),Ve=/^[xy]axis[0-9]*$/;for(var We in Le)Ve.test(We)&&delete Le[We].range;u.extendLayout(Q.layout,Le),delete Q.calcdata,u.supplyDefaults(Q),u.doCalcdata(Q);var Fe=t.expandObjectPaths(ne);if(Fe){var Ge=Q._fullLayout._plots;for(var it in Ge){var qe=Ge[it],$e=qe.xaxis,tt=qe.yaxis,vt=$e.range.slice(),dt=tt.range.slice(),gt=null,Mt=null,Ct=null,Wt=null;Array.isArray(Fe[$e._name+".range"])?gt=Fe[$e._name+".range"].slice():Array.isArray((Fe[$e._name]||{}).range)&&(gt=Fe[$e._name].range.slice()),Array.isArray(Fe[tt._name+".range"])?Mt=Fe[tt._name+".range"].slice():Array.isArray((Fe[tt._name]||{}).range)&&(Mt=Fe[tt._name].range.slice()),vt&&gt&&($e.r2l(vt[0])!==$e.r2l(gt[0])||$e.r2l(vt[1])!==$e.r2l(gt[1]))&&(Ct={xr0:vt,xr1:gt}),dt&&Mt&&(tt.r2l(dt[0])!==tt.r2l(Mt[0])||tt.r2l(dt[1])!==tt.r2l(Mt[1]))&&(Wt={yr0:dt,yr1:Mt}),(Ct||Wt)&&pe.push(t.extendFlat({plotinfo:qe},Ct,Wt))}}return Promise.resolve()},he.runFn=function(we){var Ee,Me=Q._fullLayout._basePlotModules,Be=pe.length,Ne;if(ne)for(Ne=0;Ne<Me.length;Ne++)Me[Ne].transitionAxes&&Me[Ne].transitionAxes(Q,pe,q,we);Be?(Ee=t.extendFlat({},q),Ee.duration=0,delete se.cartesian):Ee=q;for(var Ce in se){var Te=se[Ce],Le=Q._fullData[Te[0]]._module;Le.basePlotModule.plot(Q,Te,Ee,we)}},ae(Q,q,he)},u.transitionFromReact=function(Q,$,ne,fe){var te=Q._fullLayout,q=te.transition,he={},se=[];return he.prepareFn=function(){var pe=te._plots;he.redraw=!1,$.anim==="some"&&(he.redraw=!0),ne.anim==="some"&&(he.redraw=!0);for(var we in pe){var Ee=pe[we],Me=Ee.xaxis,Be=Ee.yaxis,Ne=fe[Me._name].range.slice(),Ce=fe[Be._name].range.slice(),Te=Me.range.slice(),Le=Be.range.slice();Me.setScale(),Be.setScale();var Ve=null,We=null;(Me.r2l(Ne[0])!==Me.r2l(Te[0])||Me.r2l(Ne[1])!==Me.r2l(Te[1]))&&(Ve={xr0:Ne,xr1:Te}),(Be.r2l(Ce[0])!==Be.r2l(Le[0])||Be.r2l(Ce[1])!==Be.r2l(Le[1]))&&(We={yr0:Ce,yr1:Le}),(Ve||We)&&se.push(t.extendFlat({plotinfo:Ee},Ve,We))}return Promise.resolve()},he.runFn=function(pe){for(var we=Q._fullData,Ee=Q._fullLayout,Me=Ee._basePlotModules,Be,Ne,Ce,Te=[],Le=0;Le<we.length;Le++)Te.push(Le);function Ve(){if(Q._fullLayout)for(var Fe=0;Fe<Me.length;Fe++)Me[Fe].transitionAxes&&Me[Fe].transitionAxes(Q,se,Be,pe)}function We(){if(Q._fullLayout)for(var Fe=0;Fe<Me.length;Fe++)Me[Fe].plot(Q,Ce,Ne,pe)}se.length&&$.anim?q.ordering==="traces first"?(Be=t.extendFlat({},q,{duration:0}),Ce=Te,Ne=q,setTimeout(Ve,q.duration),We()):(Be=q,Ce=null,Ne=t.extendFlat({},q,{duration:0}),setTimeout(We,Be.duration),Ve()):se.length?(Be=q,Ve()):$.anim&&(Ce=Te,Ne=q,We())},ae(Q,q,he)};function ae(Q,$,ne){var fe=!1;function te(Me){var Be=Promise.resolve();if(!Me)return Be;for(;Me.length;)Be=Be.then(Me.shift());return Be}function q(Me){if(Me)for(;Me.length;)Me.shift()}function he(){return Q.emit("plotly_transitioning",[]),new Promise(function(Me){Q._transitioning=!0,$.duration>0&&(Q._transitioningWithDuration=!0),Q._transitionData._interruptCallbacks.push(function(){fe=!0}),ne.redraw&&Q._transitionData._interruptCallbacks.push(function(){return w.call("redraw",Q)}),Q._transitionData._interruptCallbacks.push(function(){Q.emit("plotly_transitioninterrupted",[])});var Be=0,Ne=0;function Ce(){return Be++,function(){Ne++,!fe&&Ne===Be&&se(Me)}}ne.runFn(Ce),setTimeout(Ce())})}function se(Me){if(Q._transitionData)return q(Q._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(ne.redraw)return w.call("redraw",Q)}).then(function(){Q._transitioning=!1,Q._transitioningWithDuration=!1,Q.emit("plotly_transitioned",[])}).then(Me)}function pe(){if(Q._transitionData)return Q._transitioning=!1,te(Q._transitionData._interruptCallbacks)}var we=[u.previousPromises,pe,ne.prepareFn,u.rehover,u.reselect,he],Ee=t.syncOrAsync(we,Q);return(!Ee||!Ee.then)&&(Ee=Promise.resolve()),Ee.then(function(){return Q})}u.doCalcdata=function(Q,$){var ne=i.list(Q),fe=Q._fullData,te=Q._fullLayout,q,he,se,pe,we=new Array(fe.length),Ee=(Q.calcdata||[]).slice();for(Q.calcdata=we,te._numBoxes=0,te._numViolins=0,te._violinScaleGroupStats={},Q._hmpixcount=0,Q._hmlumcount=0,te._piecolormap={},te._sunburstcolormap={},te._treemapcolormap={},te._iciclecolormap={},te._funnelareacolormap={},se=0;se<fe.length;se++)if(Array.isArray($)&&$.indexOf(se)===-1){we[se]=Ee[se];continue}for(se=0;se<fe.length;se++)q=fe[se],q._arrayAttrs=p.findArrayAttributes(q),q._extremes={};var Me=te._subplots.polar||[];for(se=0;se<Me.length;se++)ne.push(te[Me[se]].radialaxis,te[Me[se]].angularaxis);for(var Be in te._colorAxes){var Ne=te[Be];Ne.cauto!==!1&&(delete Ne.cmin,delete Ne.cmax)}var Ce=!1;function Te(We){if(q=fe[We],he=q._module,q.visible===!0&&q.transforms){if(he&&he.calc){var Fe=he.calc(Q,q);Fe[0]&&Fe[0].t&&Fe[0].t._scene&&delete Fe[0].t._scene.dirty}for(pe=0;pe<q.transforms.length;pe++){var Ge=q.transforms[pe];he=y[Ge.type],he&&he.calcTransform&&(q._hasCalcTransform=!0,Ce=!0,he.calcTransform(Q,q,Ge))}}}function Le(We,Fe){if(q=fe[We],he=q._module,!!he.isContainer===Fe){var Ge=[];if(q.visible===!0&&q._length!==0){delete q._indexToPoints;var it=q.transforms||[];for(pe=it.length-1;pe>=0;pe--)if(it[pe].enabled){q._indexToPoints=it[pe]._indexToPoints;break}he&&he.calc&&(Ge=he.calc(Q,q))}(!Array.isArray(Ge)||!Ge[0])&&(Ge=[{x:l,y:l}]),Ge[0].t||(Ge[0].t={}),Ge[0].trace=q,we[We]=Ge}}for(ee(ne,fe,te),se=0;se<fe.length;se++)Le(se,!0);for(se=0;se<fe.length;se++)Te(se);for(Ce&&ee(ne,fe,te),se=0;se<fe.length;se++)Le(se,!0);for(se=0;se<fe.length;se++)Le(se,!1);X(Q);var Ve=de(ne,Q);if(Ve.length){for(te._numBoxes=0,te._numViolins=0,se=0;se<Ve.length;se++)Le(Ve[se],!0);for(se=0;se<Ve.length;se++)Le(Ve[se],!1);X(Q)}w.getComponentMethod("fx","calc")(Q),w.getComponentMethod("errorbars","calc")(Q)};var ue=/(total|sum|min|max|mean|median) (ascending|descending)/;function de(Q,$){var ne=[],fe,te,q,he,se;function pe(ke,Ie,Oe){var _e=Ie._id.charAt(0);if(ke==="histogram2dcontour"){var Ae=Ie._counterAxes[0],ce=i.getFromId($,Ae),be=_e==="x"||Ae==="x"&&ce.type==="category",Re=_e==="y"||Ae==="y"&&ce.type==="category";return function(Ue,nt){return Ue===0||nt===0||be&&Ue===Oe[nt].length-1||Re&&nt===Oe.length-1?-1:(_e==="y"?nt:Ue)-1}}else return function(Ue,nt){return _e==="y"?nt:Ue}}var we={min:function(ke){return t.aggNums(Math.min,null,ke)},max:function(ke){return t.aggNums(Math.max,null,ke)},sum:function(ke){return t.aggNums(function(Ie,Oe){return Ie+Oe},null,ke)},total:function(ke){return t.aggNums(function(Ie,Oe){return Ie+Oe},null,ke)},mean:function(ke){return t.mean(ke)},median:function(ke){return t.median(ke)}};for(fe=0;fe<Q.length;fe++){var Ee=Q[fe];if(Ee.type==="category"){var Me=Ee.categoryorder.match(ue);if(Me){var Be=Me[1],Ne=Me[2],Ce=Ee._id.charAt(0),Te=Ce==="x",Le=[];for(te=0;te<Ee._categories.length;te++)Le.push([Ee._categories[te],[]]);for(te=0;te<Ee._traceIndices.length;te++){var Ve=Ee._traceIndices[te],We=$._fullData[Ve];if(We.visible===!0){var Fe=We.type;w.traceIs(We,"histogram")&&(delete We._xautoBinFinished,delete We._yautoBinFinished);var Ge=Fe==="splom",it=Fe==="scattergl",qe=$.calcdata[Ve];for(q=0;q<qe.length;q++){var $e=qe[q],tt,vt;if(Ge){var dt=We._axesDim[Ee._id];if(!Te){var gt=We._diag[dt][0];gt&&(Ee=$._fullLayout[i.id2name(gt)])}var Mt=$e.trace.dimensions[dt].values;for(he=0;he<Mt.length;he++)for(tt=Ee._categoriesMap[Mt[he]],se=0;se<$e.trace.dimensions.length;se++)if(se!==dt){var Ct=$e.trace.dimensions[se];Le[tt][1].push(Ct.values[he])}}else if(it){for(he=0;he<$e.t.x.length;he++)Te?(tt=$e.t.x[he],vt=$e.t.y[he]):(tt=$e.t.y[he],vt=$e.t.x[he]),Le[tt][1].push(vt);$e.t&&$e.t._scene&&delete $e.t._scene.dirty}else if($e.hasOwnProperty("z")){vt=$e.z;var Wt=pe(We.type,Ee,vt);for(he=0;he<vt.length;he++)for(se=0;se<vt[he].length;se++)tt=Wt(se,he),tt+1&&Le[tt][1].push(vt[he][se])}else for(tt=$e.p,tt===void 0&&(tt=$e[Ce]),vt=$e.s,vt===void 0&&(vt=$e.v),vt===void 0&&(vt=Te?$e.y:$e.x),Array.isArray(vt)||(vt===void 0?vt=[]:vt=[vt]),he=0;he<vt.length;he++)Le[tt][1].push(vt[he])}}}Ee._categoriesValue=Le;var Xe=[];for(te=0;te<Le.length;te++)Xe.push([Le[te][0],we[Be](Le[te][1])]);Xe.sort(function(ke,Ie){return ke[1]-Ie[1]}),Ee._categoriesAggregatedValue=Xe,Ee._initialCategories=Xe.map(function(ke){return ke[0]}),Ne==="descending"&&Ee._initialCategories.reverse(),ne=ne.concat(Ee.sortByInitialCategories())}}}return ne}function ee(Q,$,ne){var fe={};function te(pe){pe.clearCalc(),pe.type==="multicategory"&&pe.setupMultiCategory($),fe[pe._id]=1}t.simpleMap(Q,te);for(var q=ne._axisMatchGroups||[],he=0;he<q.length;he++)for(var se in q[he])fe[se]||te(ne[i.id2name(se)])}function X(Q){var $=Q._fullLayout,ne=$._visibleModules,fe={},te,q,he;for(q=0;q<ne.length;q++){var se=ne[q],pe=se.crossTraceCalc;if(pe){var we=se.basePlotModule.name;fe[we]?t.pushUnique(fe[we],pe):fe[we]=[pe]}}for(he in fe){var Ee=fe[he],Me=$._subplots[he];if(Array.isArray(Me))for(te=0;te<Me.length;te++){var Be=Me[te],Ne=he==="cartesian"?$._plots[Be]:$[Be];for(q=0;q<Ee.length;q++)Ee[q](Q,Ne,Be)}else for(q=0;q<Ee.length;q++)Ee[q](Q)}}u.rehover=function(Q){Q._fullLayout._rehover&&Q._fullLayout._rehover()},u.redrag=function(Q){Q._fullLayout._redrag&&Q._fullLayout._redrag()},u.reselect=function(Q){var $=Q._fullLayout,ne=(Q.layout||{}).selections,fe=$._previousSelections;$._previousSelections=ne;var te=$._reselect||JSON.stringify(ne)!==JSON.stringify(fe);w.getComponentMethod("selections","reselect")(Q,te)},u.generalUpdatePerTraceModule=function(Q,$,ne,fe){var te=$.traceHash,q={},he;for(he=0;he<ne.length;he++){var se=ne[he],pe=se[0].trace;pe.visible&&(q[pe.type]=q[pe.type]||[],q[pe.type].push(se))}for(var we in te)if(!q[we]){var Ee=te[we][0],Me=Ee[0].trace;Me.visible=!1,q[we]=[Ee]}for(var Be in q){var Ne=q[Be],Ce=Ne[0][0].trace._module;Ce.plot(Q,$,t.filterVisible(Ne),fe)}$.traceHash=q},u.plotBasePlot=function(Q,$,ne,fe,te){var q=w.getModule(Q),he=d($.calcdata,q)[0];q.plot($,he,fe,te)},u.cleanBasePlot=function(Q,$,ne,fe,te){var q=te._has&&te._has(Q),he=ne._has&&ne._has(Q);q&&!he&&te["_"+Q+"layer"].selectAll("g.trace").remove()}},9813:function(k){k.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(k,F,e){var h=e(71828),E=e(61082).tester,n=h.findIndexOfMin,L=h.isAngleInsideSector,w=h.angleDelta,p=h.angleDist;function m(u,y,C,S,D){if(!L(y,S))return!1;var T,P;C[0]<C[1]?(T=C[0],P=C[1]):(T=C[1],P=C[0]);var A=E(f(T,S[0],S[1],D)),a=E(f(P,S[0],S[1],D)),R=[u*Math.cos(y),u*Math.sin(y)];return a.contains(R)&&!A.contains(R)}function t(u,y,C,S){var D,T,P=S[0],A=S[1],a=x(Math.sin(y)-Math.sin(u)),R=x(Math.cos(y)-Math.cos(u)),b=Math.tan(C),N=x(1/b),O=a/R,Y=A-O*P;return N?a&&R?(D=Y/(b-O),T=b*D):R?(D=A*N,T=A):(D=P,T=P*b):a&&R?(D=0,T=Y):R?(D=0,T=A):D=T=NaN,[D,T]}function r(u,y,C,S){var D=-y*C,T=y*y+1,P=2*(y*D-C),A=D*D+C*C-u*u,a=Math.sqrt(P*P-4*T*A),R=(-P+a)/(2*T),b=(-P-a)/(2*T);return[[R,y*R+D+S],[b,y*b+D+S]]}function l(u,y){var C=y.length,S=new Array(C+1),D;for(D=0;D<C;D++){var T=y[D];S[D]=[u*Math.cos(T),u*Math.sin(T)]}return S[D]=S[0].slice(),S}function i(u,y,C,S){var D=S.length,T=[],P,A;function a(U){return[u*Math.cos(U),u*Math.sin(U)]}function R(U,G,j){return t(U,G,j,a(U))}function b(U){return h.mod(U,D)}function N(U){return L(U,[y,C])}var O=n(S,function(U){return N(U)?p(U,y):1/0}),Y=R(S[O],S[b(O-1)],y);for(T.push(Y),P=O,A=0;A<D;P++,A++){var B=S[b(P)];if(!N(B))break;T.push(a(B))}var W=n(S,function(U){return N(U)?p(U,C):1/0}),H=R(S[W],S[b(W+1)],C);return T.push(H),T.push([0,0]),T.push(T[0].slice()),T}function f(u,y,C,S){return h.isFullCircle([y,C])?l(u,S):i(u,y,C,S)}function v(u,y,C,S){for(var D=1/0,T=1/0,P=f(u,y,C,S),A=0;A<P.length;A++){var a=P[A];D=Math.min(D,a[0]),T=Math.min(T,-a[1])}return[D,T]}function c(u,y){var C=function(T){var P=w(T,u);return P>0?P:1/0},S=n(y,C),D=h.mod(S+1,y.length);return[y[S],y[D]]}function x(u){return Math.abs(u)>1e-10?u:0}function d(u,y,C){y=y||0,C=C||0;for(var S=u.length,D=new Array(S),T=0;T<S;T++){var P=u[T];D[T]=[y+P[0],C-P[1]]}return D}function M(u,y,C,S,D,T){var P=f(u,y,C,S);return"M"+d(P,D,T).join("L")}function g(u,y,C,S,D,T,P){var A,a;u<y?(A=u,a=y):(A=y,a=u);var R=d(f(A,C,S,D),T,P),b=d(f(a,C,S,D),T,P);return"M"+b.reverse().join("L")+"M"+R.join("L")}k.exports={isPtInsidePolygon:m,findPolygonOffset:v,findEnclosingVertexAngles:c,findIntersectionXY:t,findXYatLength:r,clampTiny:x,pathPolygon:M,pathPolygonAnnulus:g}},23580:function(k,F,e){var h=e(27659).AU,E=e(71828).counterRegex,n=e(77997),L=e(9813),w=L.attr,p=L.name,m=E(p),t={};t[w]={valType:"subplotid",dflt:p,editType:"calc"};function r(i){for(var f=i._fullLayout,v=i.calcdata,c=f._subplots[p],x=0;x<c.length;x++){var d=c[x],M=h(v,p,d),g=f[d]._subplot;g||(g=n(i,d),f[d]._subplot=g),g.plot(M,f,i._promises)}}function l(i,f,v,c){for(var x=c._subplots[p]||[],d=c._has&&c._has("gl"),M=f._has&&f._has("gl"),g=d&&!M,u=0;u<x.length;u++){var y=x[u],C=c[y]._subplot;if(!f[y]&&C){C.framework.remove(),C.layers["radial-axis-title"].remove();for(var S in C.clipPaths)C.clipPaths[S].remove()}g&&C._scene&&(C._scene.destroy(),C._scene=null)}}k.exports={attr:w,name:p,idRoot:p,idRegex:m,attrRegex:m,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:l,toSVG:e(93612).toSVG}},73812:function(k,F,e){var h=e(22399),E=e(13838),n=e(27670).Y,L=e(71828).extendFlat,w=e(30962).overrideAll,p=w({color:E.color,showline:L({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:L({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),m=w({tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,ticklabelstep:E.ticklabelstep,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickfont:E.tickfont,tickangle:E.tickangle,tickformat:E.tickformat,tickformatstops:E.tickformatstops,layer:E.layer},"plot","from-root"),t={visible:L({},E.visible,{dflt:!0}),type:L({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorangeoptions:{minallowed:E.autorangeoptions.minallowed,maxallowed:E.autorangeoptions.maxallowed,clipmin:E.autorangeoptions.clipmin,clipmax:E.autorangeoptions.clipmax,include:E.autorangeoptions.include,editType:"plot"},autorange:L({},E.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},E.minallowed,{editType:"plot"}),maxallowed:L({},E.maxallowed,{editType:"plot"}),range:L({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:E.categoryorder,categoryarray:E.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},E.title.text,{editType:"plot",dflt:""}),font:L({},E.title.font,{editType:"plot"}),editType:"plot"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}};L(t,p,m);var r={visible:L({},E.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:E.autotypenumbers,categoryorder:E.categoryorder,categoryarray:E.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(r,p,m),k.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:h.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(k,F,e){var h=e(71828),E=e(7901),n=e(44467),L=e(49119),w=e(27659).NG,p=e(26218),m=e(38701),t=e(96115),r=e(89426),l=e(15258),i=e(92128),f=e(23074),v=e(4322),c=e(73812),x=e(12101),d=e(9813),M=d.axisNames;function g(y,C,S,D){var T=S("bgcolor");D.bgColor=E.combine(T,D.paper_bgcolor);var P=S("sector");S("hole");var A=w(D.fullData,d.name,D.id),a=D.layoutOut,R;function b(ne,fe){return S(R+"."+ne,fe)}for(var N=0;N<M.length;N++){R=M[N],h.isPlainObject(y[R])||(y[R]={});var O=y[R],Y=n.newContainer(C,R);Y._id=Y._name=R,Y._attr=D.id+"."+R,Y._traceIndices=A.map(function(ne){return ne._expandedIndex});var B=d.axisName2dataArray[R],W=u(O,Y,b,A,B,D);l(O,Y,b,{axData:A,dataAttr:B});var H=b("visible");switch(x(Y,C,a),b("uirevision",C.uirevision),Y._m=1,R){case"radialaxis":b("minallowed"),b("maxallowed");var U=b("range"),G=Y.getAutorangeDflt(U),j=b("autorange",G),re;U&&(U[0]===null&&U[1]===null||(U[0]===null||U[1]===null)&&(j==="reversed"||j===!0)||U[0]!==null&&(j==="min"||j==="max reversed")||U[1]!==null&&(j==="max"||j==="min reversed"))&&(U=void 0,delete Y.range,Y.autorange=!0,re=!0),re||(G=Y.getAutorangeDflt(U),j=b("autorange",G)),O.autorange=j,j&&(f(b,j,U),(W==="linear"||W==="-")&&b("rangemode"),Y.isReversed()&&(Y._m=-1)),Y.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(W==="date"){h.log("Polar plots do not support date angular axes yet.");for(var ae=0;ae<A.length;ae++)A[ae].visible=!1;W=O.type=Y.type="linear"}b(W==="linear"?"thetaunit":"period");var ue=b("direction");b("rotation",{counterclockwise:0,clockwise:90}[ue]);break}if(r(O,Y,b,Y.type,{tickSuffixDflt:Y.thetaunit==="degrees"?"°":void 0}),H){var de,ee,X,Q,$=D.font||{};de=b("color"),ee=de===O.color?de:$.color,X=$.size,Q=$.family,p(O,Y,b,Y.type),t(O,Y,b,Y.type,{font:{color:ee,size:X,family:Q}}),m(O,Y,b,{outerTicks:!0}),i(O,Y,b,{dfltColor:de,bgColor:D.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[R]}),b("layer"),R==="radialaxis"&&(b("side"),b("angle",P[0]),b("title.text"),h.coerceFont(b,"title.font",{color:ee,size:h.bigFont(X),family:Q}))}W!=="category"&&b("hoverformat"),Y._input=O}C.angularaxis.type==="category"&&S("gridshape")}function u(y,C,S,D,T,P){var A=S("autotypenumbers",P.autotypenumbersDflt),a=S("type");if(a==="-"){for(var R,b=0;b<D.length;b++)if(D[b].visible){R=D[b];break}R&&R[T]&&(C.type=v(R[T],"gregorian",{noMultiCategory:!0,autotypenumbers:A})),C.type==="-"?C.type="linear":y.type=C.type}return C.type}k.exports=function(C,S,D){L(C,S,D,{type:d.name,attributes:c,handleDefaults:g,font:S.font,autotypenumbersDflt:S.autotypenumbers,paper_bgcolor:S.paper_bgcolor,fullData:D,layoutOut:S})}},77997:function(k,F,e){var h=e(39898),E=e(84267),n=e(73972),L=e(71828),w=L.strRotate,p=L.strTranslate,m=e(7901),t=e(91424),r=e(74875),l=e(89298),i=e(21994),f=e(12101),v=e(71739).doAutoRange,c=e(29323),x=e(28569),d=e(30211),M=e(92998),g=e(47322).prepSelect,u=e(47322).selectOnClick,y=e(47322).clearOutline,C=e(6964),S=e(33306),D=e(61549).redrawReglTraces,T=e(18783).MID_SHIFT,P=e(9813),A=e(10869),a=e(23893),R=a.smith,b=a.reactanceArc,N=a.resistanceArc,O=a.smithTransform,Y=L._,B=L.mod,W=L.deg2rad,H=L.rad2deg;function U(de,ee,X){this.isSmith=X||!1,this.id=ee,this.gd=de,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var Q=de._fullLayout,$="clip"+Q._uid+ee;this.clipIds.forTraces=$+"-for-traces",this.clipPaths.forTraces=Q._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=Q["_"+(X?"smith":"polar")+"layer"].append("g").attr("class",ee),this.getHole=function(ne){return this.isSmith?0:ne.hole},this.getSector=function(ne){return this.isSmith?[0,360]:ne.sector},this.getRadial=function(ne){return this.isSmith?ne.realaxis:ne.radialaxis},this.getAngular=function(ne){return this.isSmith?ne.imaginaryaxis:ne.angularaxis},X||(this.radialTickLayout=null,this.angularTickLayout=null)}var G=U.prototype;k.exports=function(ee,X,Q){return new U(ee,X,Q)},G.plot=function(de,ee){for(var X=this,Q=ee[X.id],$=!1,ne=0;ne<de.length;ne++){var fe=de[ne][0].trace;if(fe.cliponaxis===!1){$=!0;break}}X._hasClipOnAxisFalse=$,X.updateLayers(ee,Q),X.updateLayout(ee,Q),r.generalUpdatePerTraceModule(X.gd,X,de,Q),X.updateFx(ee,Q),X.isSmith&&(delete Q.realaxis.range,delete Q.imaginaryaxis.range)},G.updateLayers=function(de,ee){var X=this,Q=X.isSmith,$=X.layers,ne=X.getRadial(ee),fe=X.getAngular(ee),te=P.layerNames,q=te.indexOf("frontplot"),he=te.slice(0,q),se=fe.layer==="below traces",pe=ne.layer==="below traces";se&&he.push("angular-line"),pe&&he.push("radial-line"),se&&he.push("angular-axis"),pe&&he.push("radial-axis"),he.push("frontplot"),se||he.push("angular-line"),pe||he.push("radial-line"),se||he.push("angular-axis"),pe||he.push("radial-axis");var we=(Q?"smith":"polar")+"sublayer",Ee=X.framework.selectAll("."+we).data(he,String);Ee.enter().append("g").attr("class",function(Me){return we+" "+Me}).each(function(Me){var Be=$[Me]=h.select(this);switch(Me){case"frontplot":Q||Be.append("g").classed("barlayer",!0),Be.append("g").classed("scatterlayer",!0);break;case"backplot":Be.append("g").classed("maplayer",!0);break;case"plotbg":$.bg=Be.append("path");break;case"radial-grid":Be.style("fill","none");break;case"angular-grid":Be.style("fill","none");break;case"radial-line":Be.append("line").style("fill","none");break;case"angular-line":Be.append("path").style("fill","none");break}}),Ee.order()},G.updateLayout=function(de,ee){var X=this,Q=X.layers,$=de._size,ne=X.getRadial(ee),fe=X.getAngular(ee),te=ee.domain.x,q=ee.domain.y;X.xOffset=$.l+$.w*te[0],X.yOffset=$.t+$.h*(1-q[1]);var he=X.xLength=$.w*(te[1]-te[0]),se=X.yLength=$.h*(q[1]-q[0]),pe=X.getSector(ee);X.sectorInRad=pe.map(W);var we=X.sectorBBox=re(pe),Ee=we[2]-we[0],Me=we[3]-we[1],Be=se/he,Ne=Math.abs(Me/Ee),Ce,Te,Le,Ve,We;Be>Ne?(Ce=he,Te=he*Ne,We=(se-Te)/$.h/2,Le=[te[0],te[1]],Ve=[q[0]+We,q[1]-We]):(Ce=se/Ne,Te=se,We=(he-Ce)/$.w/2,Le=[te[0]+We,te[1]-We],Ve=[q[0],q[1]]),X.xLength2=Ce,X.yLength2=Te,X.xDomain2=Le,X.yDomain2=Ve;var Fe=X.xOffset2=$.l+$.w*Le[0],Ge=X.yOffset2=$.t+$.h*(1-Ve[1]),it=X.radius=Ce/Ee,qe=X.innerRadius=X.getHole(ee)*it,$e=X.cx=Fe-it*we[0],tt=X.cy=Ge+it*we[3],vt=X.cxx=$e-Fe,dt=X.cyy=tt-Ge,gt=ne.side,Mt;gt==="counterclockwise"?(Mt=gt,gt="top"):gt==="clockwise"&&(Mt=gt,gt="bottom"),X.radialAxis=X.mockAxis(de,ee,ne,{_id:"x",side:gt,_trueSide:Mt,domain:[qe/$.w,it/$.w]}),X.angularAxis=X.mockAxis(de,ee,fe,{side:"right",domain:[0,Math.PI],autorange:!1}),X.doAutoRange(de,ee),X.updateAngularAxis(de,ee),X.updateRadialAxis(de,ee),X.updateRadialAxisTitle(de,ee),X.xaxis=X.mockCartesianAxis(de,ee,{_id:"x",domain:Le}),X.yaxis=X.mockCartesianAxis(de,ee,{_id:"y",domain:Ve});var Ct=X.pathSubplot();X.clipPaths.forTraces.select("path").attr("d",Ct).attr("transform",p(vt,dt)),Q.frontplot.attr("transform",p(Fe,Ge)).call(t.setClipUrl,X._hasClipOnAxisFalse?null:X.clipIds.forTraces,X.gd),Q.bg.attr("d",Ct).attr("transform",p($e,tt)).call(m.fill,ee.bgcolor)},G.mockAxis=function(de,ee,X,Q){var $=L.extendFlat({},X,Q);return f($,ee,de),$},G.mockCartesianAxis=function(de,ee,X){var Q=this,$=Q.isSmith,ne=X._id,fe=L.extendFlat({type:"linear"},X);i(fe,de);var te={x:[0,2],y:[1,3]};return fe.setRange=function(){var q=Q.sectorBBox,he=te[ne],se=Q.radialAxis._rl,pe=(se[1]-se[0])/(1-Q.getHole(ee));fe.range=[q[he[0]]*pe,q[he[1]]*pe]},fe.isPtWithinRange=ne==="x"&&!$?function(q){return Q.isPtInside(q)}:function(){return!0},fe.setRange(),fe.setScale(),fe},G.doAutoRange=function(de,ee){var X=this,Q=X.gd,$=X.radialAxis,ne=X.getRadial(ee);v(Q,$);var fe=$.range;ne.range=fe.slice(),ne._input.range=fe.slice(),$._rl=[$.r2l(fe[0],null,"gregorian"),$.r2l(fe[1],null,"gregorian")]},G.updateRadialAxis=function(de,ee){var X=this,Q=X.gd,$=X.layers,ne=X.radius,fe=X.innerRadius,te=X.cx,q=X.cy,he=X.getRadial(ee),se=B(X.getSector(ee)[0],360),pe=X.radialAxis,we=fe<ne,Ee=X.isSmith;Ee||(X.fillViewInitialKey("radialaxis.angle",he.angle),X.fillViewInitialKey("radialaxis.range",pe.range.slice()),pe.setGeometry()),pe.tickangle==="auto"&&se>90&&se<=270&&(pe.tickangle=180);var Me=Ee?function(it){var qe=O(X,R([it.x,0]));return p(qe[0]-te,qe[1]-q)}:function(it){return p(pe.l2p(it.x)+fe,0)},Be=Ee?function(it){return N(X,it.x,-1/0,1/0)}:function(it){return X.pathArc(pe.r2p(it.x)+fe)},Ne=j(he);if(X.radialTickLayout!==Ne&&($["radial-axis"].selectAll(".xtick").remove(),X.radialTickLayout=Ne),we){pe.setScale();var Ce=0,Te=Ee?(pe.tickvals||[]).filter(function(it){return it>=0}).map(function(it){return l.tickText(pe,it,!0,!1)}):l.calcTicks(pe),Le=Ee?Te:l.clipEnds(pe,Te),Ve=l.getTickSigns(pe)[2];Ee&&((pe.ticks==="top"&&pe.side==="bottom"||pe.ticks==="bottom"&&pe.side==="top")&&(Ve=-Ve),pe.ticks==="top"&&pe.side==="top"&&(Ce=-pe.ticklen),pe.ticks==="bottom"&&pe.side==="bottom"&&(Ce=pe.ticklen)),l.drawTicks(Q,pe,{vals:Te,layer:$["radial-axis"],path:l.makeTickPath(pe,0,Ve),transFn:Me,crisp:!1}),l.drawGrid(Q,pe,{vals:Le,layer:$["radial-grid"],path:Be,transFn:L.noop,crisp:!1}),l.drawLabels(Q,pe,{vals:Te,layer:$["radial-axis"],transFn:Me,labelFns:l.makeLabelFns(pe,Ce)})}var We=X.radialAxisAngle=X.vangles?H(ae(W(he.angle),X.vangles)):he.angle,Fe=p(te,q),Ge=Fe+w(-We);ue($["radial-axis"],we&&(he.showticklabels||he.ticks),{transform:Ge}),ue($["radial-grid"],we&&he.showgrid,{transform:Ee?"":Fe}),ue($["radial-line"].select("line"),we&&he.showline,{x1:Ee?-ne:fe,y1:0,x2:ne,y2:0,transform:Ge}).attr("stroke-width",he.linewidth).call(m.stroke,he.linecolor)},G.updateRadialAxisTitle=function(de,ee,X){if(!this.isSmith){var Q=this,$=Q.gd,ne=Q.radius,fe=Q.cx,te=Q.cy,q=Q.getRadial(ee),he=Q.id+"title",se=0;if(q.title){var pe=t.bBox(Q.layers["radial-axis"].node()).height,we=q.title.font.size,Ee=q.side;se=Ee==="top"?we:Ee==="counterclockwise"?-(pe+we*.4):pe+we*.8}var Me=X!==void 0?X:Q.radialAxisAngle,Be=W(Me),Ne=Math.cos(Be),Ce=Math.sin(Be),Te=fe+ne/2*Ne+se*Ce,Le=te-ne/2*Ce+se*Ne;Q.layers["radial-axis-title"]=M.draw($,he,{propContainer:q,propName:Q.id+".radialaxis.title",placeholder:Y($,"Click to enter radial axis title"),attributes:{x:Te,y:Le,"text-anchor":"middle"},transform:{rotate:-Me}})}},G.updateAngularAxis=function(de,ee){var X=this,Q=X.gd,$=X.layers,ne=X.radius,fe=X.innerRadius,te=X.cx,q=X.cy,he=X.getAngular(ee),se=X.angularAxis,pe=X.isSmith;pe||(X.fillViewInitialKey("angularaxis.rotation",he.rotation),se.setGeometry(),se.setScale());var we=pe?function(qe){var $e=O(X,R([0,qe.x]));return Math.atan2($e[0]-te,$e[1]-q)-Math.PI/2}:function(qe){return se.t2g(qe.x)};se.type==="linear"&&se.thetaunit==="radians"&&(se.tick0=H(se.tick0),se.dtick=H(se.dtick));var Ee=function(qe){return p(te+ne*Math.cos(qe),q-ne*Math.sin(qe))},Me=pe?function(qe){var $e=O(X,R([0,qe.x]));return p($e[0],$e[1])}:function(qe){return Ee(we(qe))},Be=pe?function(qe){var $e=O(X,R([0,qe.x])),tt=Math.atan2($e[0]-te,$e[1]-q)-Math.PI/2;return p($e[0],$e[1])+w(-H(tt))}:function(qe){var $e=we(qe);return Ee($e)+w(-H($e))},Ne=pe?function(qe){return b(X,qe.x,0,1/0)}:function(qe){var $e=we(qe),tt=Math.cos($e),vt=Math.sin($e);return"M"+[te+fe*tt,q-fe*vt]+"L"+[te+ne*tt,q-ne*vt]},Ce=l.makeLabelFns(se,0),Te=Ce.labelStandoff,Le={};Le.xFn=function(qe){var $e=we(qe);return Math.cos($e)*Te},Le.yFn=function(qe){var $e=we(qe),tt=Math.sin($e)>0?.2:1;return-Math.sin($e)*(Te+qe.fontSize*tt)+Math.abs(Math.cos($e))*(qe.fontSize*T)},Le.anchorFn=function(qe){var $e=we(qe),tt=Math.cos($e);return Math.abs(tt)<.1?"middle":tt>0?"start":"end"},Le.heightFn=function(qe,$e,tt){var vt=we(qe);return-.5*(1+Math.sin(vt))*tt};var Ve=j(he);X.angularTickLayout!==Ve&&($["angular-axis"].selectAll("."+se._id+"tick").remove(),X.angularTickLayout=Ve);var We=pe?[1/0].concat(se.tickvals||[]).map(function(qe){return l.tickText(se,qe,!0,!1)}):l.calcTicks(se);pe&&(We[0].text="∞",We[0].fontSize*=1.75);var Fe;if(ee.gridshape==="linear"?(Fe=We.map(we),L.angleDelta(Fe[0],Fe[1])<0&&(Fe=Fe.slice().reverse())):Fe=null,X.vangles=Fe,se.type==="category"&&(We=We.filter(function(qe){return L.isAngleInsideSector(we(qe),X.sectorInRad)})),se.visible){var Ge=se.ticks==="inside"?-1:1,it=(se.linewidth||1)/2;l.drawTicks(Q,se,{vals:We,layer:$["angular-axis"],path:"M"+Ge*it+",0h"+Ge*se.ticklen,transFn:Be,crisp:!1}),l.drawGrid(Q,se,{vals:We,layer:$["angular-grid"],path:Ne,transFn:L.noop,crisp:!1}),l.drawLabels(Q,se,{vals:We,layer:$["angular-axis"],repositionOnUpdate:!0,transFn:Me,labelFns:Le})}ue($["angular-line"].select("path"),he.showline,{d:X.pathSubplot(),transform:p(te,q)}).attr("stroke-width",he.linewidth).call(m.stroke,he.linecolor)},G.updateFx=function(de,ee){if(!this.gd._context.staticPlot){var X=!this.isSmith;X&&(this.updateAngularDrag(de),this.updateRadialDrag(de,ee,0),this.updateRadialDrag(de,ee,1)),this.updateHoverAndMainDrag(de)}},G.updateHoverAndMainDrag=function(de){var ee=this,X=ee.isSmith,Q=ee.gd,$=ee.layers,ne=de._zoomlayer,fe=P.MINZOOM,te=P.OFFEDGE,q=ee.radius,he=ee.innerRadius,se=ee.cx,pe=ee.cy,we=ee.cxx,Ee=ee.cyy,Me=ee.sectorInRad,Be=ee.vangles,Ne=ee.radialAxis,Ce=A.clampTiny,Te=A.findXYatLength,Le=A.findEnclosingVertexAngles,Ve=P.cornerHalfWidth,We=P.cornerLen/2,Fe,Ge,it=c.makeDragger($,"path","maindrag",de.dragmode===!1?"none":"crosshair");h.select(it).attr("d",ee.pathSubplot()).attr("transform",p(se,pe)),it.onmousemove=function(Lt){d.hover(Q,Lt,ee.id),Q._fullLayout._lasthover=it,Q._fullLayout._hoversubplot=ee.id},it.onmouseout=function(Lt){Q._dragging||x.unhover(Q,Lt)};var qe={element:it,gd:Q,subplot:ee.id,plotinfo:{id:ee.id,xaxis:ee.xaxis,yaxis:ee.yaxis},xaxes:[ee.xaxis],yaxes:[ee.yaxis]},$e,tt,vt,dt,gt,Mt,Ct,Wt,Xe;function ke(Lt,Kt){return Math.sqrt(Lt*Lt+Kt*Kt)}function Ie(Lt,Kt){return ke(Lt-we,Kt-Ee)}function Oe(Lt,Kt){return Math.atan2(Ee-Kt,Lt-we)}function _e(Lt,Kt){return[Lt*Math.cos(Kt),Lt*Math.sin(-Kt)]}function Ae(Lt,Kt){if(Lt===0)return ee.pathSector(2*Ve);var ar=We/Lt,Fr=Kt-ar,yt=Kt+ar,Xt=Math.max(0,Math.min(Lt,q)),Yt=Xt-Ve,br=Xt+Ve;return"M"+_e(Yt,Fr)+"A"+[Yt,Yt]+" 0,0,0 "+_e(Yt,yt)+"L"+_e(br,yt)+"A"+[br,br]+" 0,0,1 "+_e(br,Fr)+"Z"}function ce(Lt,Kt,ar){if(Lt===0)return ee.pathSector(2*Ve);var Fr=_e(Lt,Kt),yt=_e(Lt,ar),Xt=Ce((Fr[0]+yt[0])/2),Yt=Ce((Fr[1]+yt[1])/2),br,hr;if(Xt&&Yt){var ut=Yt/Xt,lt=-1/ut,xt=Te(Ve,ut,Xt,Yt);br=Te(We,lt,xt[0][0],xt[0][1]),hr=Te(We,lt,xt[1][0],xt[1][1])}else{var Tt,Et;Yt?(Tt=We,Et=Ve):(Tt=Ve,Et=We),br=[[Xt-Tt,Yt-Et],[Xt+Tt,Yt-Et]],hr=[[Xt-Tt,Yt+Et],[Xt+Tt,Yt+Et]]}return"M"+br.join("L")+"L"+hr.reverse().join("L")+"Z"}function be(){vt=null,dt=null,gt=ee.pathSubplot(),Mt=!1;var Lt=Q._fullLayout[ee.id];Ct=E(Lt.bgcolor).getLuminance(),Wt=c.makeZoombox(ne,Ct,se,pe,gt),Wt.attr("fill-rule","evenodd"),Xe=c.makeCorners(ne,se,pe),y(Q)}function Re(Lt,Kt){return Kt=Math.max(Math.min(Kt,q),he),Lt<te?Lt=0:q-Lt<te?Lt=q:Kt<te?Kt=0:q-Kt<te&&(Kt=q),Math.abs(Kt-Lt)>fe?(Lt<Kt?(vt=Lt,dt=Kt):(vt=Kt,dt=Lt),!0):(vt=null,dt=null,!1)}function Ue(Lt,Kt){Lt=Lt||gt,Kt=Kt||"M0,0Z",Wt.attr("d",Lt),Xe.attr("d",Kt),c.transitionZoombox(Wt,Xe,Mt,Ct),Mt=!0;var ar={};Ut(ar),Q.emit("plotly_relayouting",ar)}function nt(Lt,Kt){Lt=Lt*Fe,Kt=Kt*Ge;var ar=$e+Lt,Fr=tt+Kt,yt=Ie($e,tt),Xt=Math.min(Ie(ar,Fr),q),Yt=Oe($e,tt),br,hr;Re(yt,Xt)&&(br=gt+ee.pathSector(dt),vt&&(br+=ee.pathSector(vt)),hr=Ae(vt,Yt)+Ae(dt,Yt)),Ue(br,hr)}function ot(Lt,Kt,ar,Fr){var yt=A.findIntersectionXY(ar,Fr,ar,[Lt-we,Ee-Kt]);return ke(yt[0],yt[1])}function wt(Lt,Kt){var ar=$e+Lt,Fr=tt+Kt,yt=Oe($e,tt),Xt=Oe(ar,Fr),Yt=Le(yt,Be),br=Le(Xt,Be),hr=ot($e,tt,Yt[0],Yt[1]),ut=Math.min(ot(ar,Fr,br[0],br[1]),q),lt,xt;Re(hr,ut)&&(lt=gt+ee.pathSector(dt),vt&&(lt+=ee.pathSector(vt)),xt=[ce(vt,Yt[0],Yt[1]),ce(dt,Yt[0],Yt[1])].join(" ")),Ue(lt,xt)}function _t(){if(c.removeZoombox(Q),!(vt===null||dt===null)){var Lt={};Ut(Lt),c.showDoubleClickNotifier(Q),n.call("_guiRelayout",Q,Lt)}}function Ut(Lt){var Kt=Ne._rl,ar=(Kt[1]-Kt[0])/(1-he/q)/q,Fr=[Kt[0]+(vt-he)*ar,Kt[0]+(dt-he)*ar];Lt[ee.id+".radialaxis.range"]=Fr}function Vt(Lt,Kt){var ar=Q._fullLayout.clickmode;if(c.removeZoombox(Q),Lt===2){var Fr={};for(var yt in ee.viewInitial)Fr[ee.id+"."+yt]=ee.viewInitial[yt];Q.emit("plotly_doubleclick",null),n.call("_guiRelayout",Q,Fr)}ar.indexOf("select")>-1&&Lt===1&&u(Kt,Q,[ee.xaxis],[ee.yaxis],ee.id,qe),ar.indexOf("event")>-1&&d.click(Q,Kt,ee.id)}qe.prepFn=function(Lt,Kt,ar){var Fr=Q._fullLayout.dragmode,yt=it.getBoundingClientRect();Q._fullLayout._calcInverseTransform(Q);var Xt=Q._fullLayout._invTransform;Fe=Q._fullLayout._invScaleX,Ge=Q._fullLayout._invScaleY;var Yt=L.apply3DTransform(Xt)(Kt-yt.left,ar-yt.top);if($e=Yt[0],tt=Yt[1],Be){var br=A.findPolygonOffset(q,Me[0],Me[1],Be);$e+=we+br[0],tt+=Ee+br[1]}switch(Fr){case"zoom":qe.clickFn=Vt,X||(Be?qe.moveFn=wt:qe.moveFn=nt,qe.doneFn=_t,be());break;case"select":case"lasso":g(Lt,Kt,ar,qe,Fr);break}},x.init(qe)},G.updateRadialDrag=function(de,ee,X){var Q=this,$=Q.gd,ne=Q.layers,fe=Q.radius,te=Q.innerRadius,q=Q.cx,he=Q.cy,se=Q.radialAxis,pe=P.radialDragBoxSize,we=pe/2;if(!se.visible)return;var Ee=W(Q.radialAxisAngle),Me=se._rl,Be=Me[0],Ne=Me[1],Ce=Me[X],Te=.75*(Me[1]-Me[0])/(1-Q.getHole(ee))/fe,Le,Ve,We;X?(Le=q+(fe+we)*Math.cos(Ee),Ve=he-(fe+we)*Math.sin(Ee),We="radialdrag"):(Le=q+(te-we)*Math.cos(Ee),Ve=he-(te-we)*Math.sin(Ee),We="radialdrag-inner");var Fe=c.makeRectDragger(ne,We,"crosshair",-we,-we,pe,pe),Ge={element:Fe,gd:$};de.dragmode===!1&&(Ge.dragmode=!1),ue(h.select(Fe),se.visible&&te<fe,{transform:p(Le,Ve)});var it,qe,$e;function tt(Ct,Wt){if(it)it(Ct,Wt);else{var Xe=[Ct,-Wt],ke=[Math.cos(Ee),Math.sin(Ee)],Ie=Math.abs(L.dot(Xe,ke)/Math.sqrt(L.dot(Xe,Xe)));isNaN(Ie)||(it=Ie<.5?gt:Mt)}var Oe={};vt(Oe),$.emit("plotly_relayouting",Oe)}function vt(Ct){qe!==null?Ct[Q.id+".radialaxis.angle"]=qe:$e!==null&&(Ct[Q.id+".radialaxis.range["+X+"]"]=$e)}function dt(){qe!==null?n.call("_guiRelayout",$,Q.id+".radialaxis.angle",qe):$e!==null&&n.call("_guiRelayout",$,Q.id+".radialaxis.range["+X+"]",$e)}function gt(Ct,Wt){if(X!==0){var Xe=Le+Ct,ke=Ve+Wt;qe=Math.atan2(he-ke,Xe-q),Q.vangles&&(qe=ae(qe,Q.vangles)),qe=H(qe);var Ie=p(q,he)+w(-qe);ne["radial-axis"].attr("transform",Ie),ne["radial-line"].select("line").attr("transform",Ie);var Oe=Q.gd._fullLayout,_e=Oe[Q.id];Q.updateRadialAxisTitle(Oe,_e,qe)}}function Mt(Ct,Wt){var Xe=L.dot([Ct,-Wt],[Math.cos(Ee),Math.sin(Ee)]);if($e=Ce-Te*Xe,Te>0!=(X?$e>Be:$e<Ne)){$e=null;return}var ke=$._fullLayout,Ie=ke[Q.id];se.range[X]=$e,se._rl[X]=$e,Q.updateRadialAxis(ke,Ie),Q.xaxis.setRange(),Q.xaxis.setScale(),Q.yaxis.setRange(),Q.yaxis.setScale();var Oe=!1;for(var _e in Q.traceHash){var Ae=Q.traceHash[_e],ce=L.filterVisible(Ae),be=Ae[0][0].trace._module;be.plot($,Q,ce,Ie),n.traceIs(_e,"gl")&&ce.length&&(Oe=!0)}Oe&&(S($),D($))}Ge.prepFn=function(){it=null,qe=null,$e=null,Ge.moveFn=tt,Ge.doneFn=dt,y($)},Ge.clampFn=function(Ct,Wt){return Math.sqrt(Ct*Ct+Wt*Wt)<P.MINDRAG&&(Ct=0,Wt=0),[Ct,Wt]},x.init(Ge)},G.updateAngularDrag=function(de){var ee=this,X=ee.gd,Q=ee.layers,$=ee.radius,ne=ee.angularAxis,fe=ee.cx,te=ee.cy,q=ee.cxx,he=ee.cyy,se=P.angularDragBoxSize,pe=c.makeDragger(Q,"path","angulardrag",de.dragmode===!1?"none":"move"),we={element:pe,gd:X};de.dragmode===!1?we.dragmode=!1:h.select(pe).attr("d",ee.pathAnnulus($,$+se)).attr("transform",p(fe,te)).call(C,"move");function Ee($e,tt){return Math.atan2(he+se-tt,$e-q-se)}var Me=Q.frontplot.select(".scatterlayer").selectAll(".trace"),Be=Me.selectAll(".point"),Ne=Me.selectAll(".textpoint"),Ce,Te,Le,Ve,We,Fe;function Ge($e,tt){var vt=ee.gd._fullLayout,dt=vt[ee.id],gt=Ce+$e*de._invScaleX,Mt=Te+tt*de._invScaleY,Ct=Ee(gt,Mt),Wt=H(Ct-Fe);if(Ve=Le+Wt,Q.frontplot.attr("transform",p(ee.xOffset2,ee.yOffset2)+w([-Wt,q,he])),ee.vangles){We=ee.radialAxisAngle+Wt;var Xe=p(fe,te)+w(-Wt),ke=p(fe,te)+w(-We);Q.bg.attr("transform",Xe),Q["radial-grid"].attr("transform",Xe),Q["radial-axis"].attr("transform",ke),Q["radial-line"].select("line").attr("transform",ke),ee.updateRadialAxisTitle(vt,dt,We)}else ee.clipPaths.forTraces.select("path").attr("transform",p(q,he)+w(Wt));Be.each(function(){var Re=h.select(this),Ue=t.getTranslate(Re);Re.attr("transform",p(Ue.x,Ue.y)+w([Wt]))}),Ne.each(function(){var Re=h.select(this),Ue=Re.select("text"),nt=t.getTranslate(Re);Re.attr("transform",w([Wt,Ue.attr("x"),Ue.attr("y")])+p(nt.x,nt.y))}),ne.rotation=L.modHalf(Ve,360),ee.updateAngularAxis(vt,dt),ee._hasClipOnAxisFalse&&!L.isFullCircle(ee.sectorInRad)&&Me.call(t.hideOutsideRangePoints,ee);var Ie=!1;for(var Oe in ee.traceHash)if(n.traceIs(Oe,"gl")){var _e=ee.traceHash[Oe],Ae=L.filterVisible(_e),ce=_e[0][0].trace._module;ce.plot(X,ee,Ae,dt),Ae.length&&(Ie=!0)}Ie&&(S(X),D(X));var be={};it(be),X.emit("plotly_relayouting",be)}function it($e){$e[ee.id+".angularaxis.rotation"]=Ve,ee.vangles&&($e[ee.id+".radialaxis.angle"]=We)}function qe(){Ne.select("text").attr("transform",null);var $e={};it($e),n.call("_guiRelayout",X,$e)}we.prepFn=function($e,tt,vt){var dt=de[ee.id];Le=dt.angularaxis.rotation;var gt=pe.getBoundingClientRect();Ce=tt-gt.left,Te=vt-gt.top,X._fullLayout._calcInverseTransform(X);var Mt=L.apply3DTransform(de._invTransform)(Ce,Te);Ce=Mt[0],Te=Mt[1],Fe=Ee(Ce,Te),we.moveFn=Ge,we.doneFn=qe,y(X)},ee.vangles&&!L.isFullCircle(ee.sectorInRad)&&(we.prepFn=L.noop,C(h.select(pe),null)),x.init(we)},G.isPtInside=function(de){if(this.isSmith)return!0;var ee=this.sectorInRad,X=this.vangles,Q=this.angularAxis.c2g(de.theta),$=this.radialAxis,ne=$.c2l(de.r),fe=$._rl,te=X?A.isPtInsidePolygon:L.isPtInsideSector;return te(ne,Q,fe,ee,X)},G.pathArc=function(de){var ee=this.sectorInRad,X=this.vangles,Q=X?A.pathPolygon:L.pathArc;return Q(de,ee[0],ee[1],X)},G.pathSector=function(de){var ee=this.sectorInRad,X=this.vangles,Q=X?A.pathPolygon:L.pathSector;return Q(de,ee[0],ee[1],X)},G.pathAnnulus=function(de,ee){var X=this.sectorInRad,Q=this.vangles,$=Q?A.pathPolygonAnnulus:L.pathAnnulus;return $(de,ee,X[0],X[1],Q)},G.pathSubplot=function(){var de=this.innerRadius,ee=this.radius;return de?this.pathAnnulus(de,ee):this.pathSector(ee)},G.fillViewInitialKey=function(de,ee){de in this.viewInitial||(this.viewInitial[de]=ee)};function j(de){var ee=de.ticks+String(de.ticklen)+String(de.showticklabels);return"side"in de&&(ee+=de.side),ee}function re(de){var ee=de[0],X=de[1],Q=X-ee,$=B(ee,360),ne=$+Q,fe=Math.cos(W($)),te=Math.sin(W($)),q=Math.cos(W(ne)),he=Math.sin(W(ne)),se,pe,we,Ee;return $<=90&&ne>=90||$>90&&ne>=450?Ee=1:te<=0&&he<=0?Ee=0:Ee=Math.max(te,he),$<=180&&ne>=180||$>180&&ne>=540?se=-1:fe>=0&&q>=0?se=0:se=Math.min(fe,q),$<=270&&ne>=270||$>270&&ne>=630?pe=-1:te>=0&&he>=0?pe=0:pe=Math.min(te,he),ne>=360?we=1:fe<=0&&q<=0?we=0:we=Math.max(fe,q),[se,pe,we,Ee]}function ae(de,ee){var X=function($){return L.angleDist(de,$)},Q=L.findIndexOfMin(ee,X);return ee[Q]}function ue(de,ee,X){return ee?(de.attr("display",null),de.attr(X)):de&&de.attr("display","none"),de}},12101:function(k,F,e){var h=e(71828),E=e(21994),n=h.deg2rad,L=h.rad2deg;k.exports=function(l,i,f){switch(E(l,f),l._id){case"x":case"radialaxis":w(l,i);break;case"angularaxis":t(l,i);break}};function w(r,l){var i=l._subplot;r.setGeometry=function(){var f=r._rl[0],v=r._rl[1],c=i.innerRadius,x=(i.radius-c)/(v-f),d=c/x,M=f>v?function(g){return g<=0}:function(g){return g>=0};r.c2g=function(g){var u=r.c2l(g)-f;return(M(u)?u:0)+d},r.g2c=function(g){return r.l2c(g+f-d)},r.g2p=function(g){return g*x},r.c2p=function(g){return r.g2p(r.c2g(g))}}}function p(r,l){return l==="degrees"?n(r):r}function m(r,l){return l==="degrees"?L(r):r}function t(r,l){var i=r.type;if(i==="linear"){var f=r.d2c,v=r.c2d;r.d2c=function(c,x){return p(f(c),x)},r.c2d=function(c,x){return v(m(c,x))}}r.makeCalcdata=function(c,x){var d=c[x],M=c._length,g,u,y=function(P){return r.d2c(P,c.thetaunit)};if(d){if(h.isTypedArray(d)&&i==="linear"){if(M===d.length)return d;if(d.subarray)return d.subarray(0,M)}for(g=new Array(M),u=0;u<M;u++)g[u]=y(d[u])}else{var C=x+"0",S="d"+x,D=C in c?y(c[C]):0,T=c[S]?y(c[S]):(r.period||2*Math.PI)/M;for(g=new Array(M),u=0;u<M;u++)g[u]=D+u*T}return g},r.setGeometry=function(){var c=l.sector,x=c.map(n),d={clockwise:-1,counterclockwise:1}[r.direction],M=n(r.rotation),g=function(A){return d*A+M},u=function(A){return(A-M)/d},y,C,S,D;switch(i){case"linear":C=y=h.identity,D=n,S=L,r.range=h.isFullCircle(x)?[c[0],c[0]+360]:x.map(u).map(L);break;case"category":var T=r._categories.length,P=r.period?Math.max(r.period,T):T;P===0&&(P=1),C=D=function(A){return A*2*Math.PI/P},y=S=function(A){return A*P/Math.PI/2},r.range=[0,P];break}r.c2g=function(A){return g(C(A))},r.g2c=function(A){return y(u(A))},r.t2g=function(A){return g(D(A))},r.g2t=function(A){return S(u(A))}}}},39779:function(k){k.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(k){function F(w){return w<0?-1:w>0?1:0}function e(w){var p=w[0],m=w[1];if(!isFinite(p)||!isFinite(m))return[1,0];var t=(p+1)*(p+1)+m*m;return[(p*p+m*m-1)/t,2*m/t]}function h(w,p){var m=p[0],t=p[1];return[m*w.radius+w.cx,-t*w.radius+w.cy]}function E(w,p){return p*w.radius}function n(w,p,m,t){var r=h(w,e([m,p])),l=r[0],i=r[1],f=h(w,e([t,p])),v=f[0],c=f[1];if(p===0)return["M"+l+","+i,"L"+v+","+c].join(" ");var x=E(w,1/Math.abs(p));return["M"+l+","+i,"A"+x+","+x+" 0 0,"+(p<0?1:0)+" "+v+","+c].join(" ")}function L(w,p,m,t){var r=E(w,1/(p+1)),l=h(w,e([p,m])),i=l[0],f=l[1],v=h(w,e([p,t])),c=v[0],x=v[1];if(F(m)!==F(t)){var d=h(w,e([p,0])),M=d[0],g=d[1];return["M"+i+","+f,"A"+r+","+r+" 0 0,"+(0<m?0:1)+" "+M+","+g,"A"+r+","+r+" 0 0,"+(t<0?0:1)+c+","+x].join(" ")}return["M"+i+","+f,"A"+r+","+r+" 0 0,"+(t<m?0:1)+" "+c+","+x].join(" ")}k.exports={smith:e,reactanceArc:n,resistanceArc:L,smithTransform:h}},7504:function(k,F,e){var h=e(27659).AU,E=e(71828).counterRegex,n=e(77997),L=e(39779),w=L.attr,p=L.name,m=E(p),t={};t[w]={valType:"subplotid",dflt:p,editType:"calc"};function r(i){for(var f=i._fullLayout,v=i.calcdata,c=f._subplots[p],x=0;x<c.length;x++){var d=c[x],M=h(v,p,d),g=f[d]._subplot;g||(g=n(i,d,!0),f[d]._subplot=g),g.plot(M,f,i._promises)}}function l(i,f,v,c){for(var x=c._subplots[p]||[],d=0;d<x.length;d++){var M=x[d],g=c[M]._subplot;if(!f[M]&&g){g.framework.remove();for(var u in g.clipPaths)g.clipPaths[u].remove()}}}k.exports={attr:w,name:p,idRoot:p,idRegex:m,attrRegex:m,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:l,toSVG:e(93612).toSVG}},33419:function(k,F,e){var h=e(22399),E=e(13838),n=e(27670).Y,L=e(71828).extendFlat,w=e(30962).overrideAll,p=w({color:E.color,showline:L({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:L({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),m=w({ticklen:E.ticklen,tickwidth:L({},E.tickwidth,{dflt:2}),tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,tickfont:E.tickfont,tickformat:E.tickformat,hoverformat:E.hoverformat,layer:E.layer},"plot","from-root"),t=L({visible:L({},E.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},E.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},p,m),r=L({visible:L({},E.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:E.ticks,editType:"calc"},p,m);k.exports={domain:n({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:h.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(k,F,e){var h=e(71828),E=e(7901),n=e(44467),L=e(49119),w=e(27659).NG,p=e(89426),m=e(96115),t=e(92128),r=e(21994),l=e(33419),i=e(39779),f=i.axisNames,v=x(function(d){return d.slice().reverse().map(function(M){return-M}).concat([0]).concat(d)},String);function c(d,M,g,u){var y=g("bgcolor");u.bgColor=E.combine(y,u.paper_bgcolor);var C=w(u.fullData,i.name,u.id),S=u.layoutOut,D;function T(G,j){return g(D+"."+G,j)}for(var P=0;P<f.length;P++){D=f[P],h.isPlainObject(d[D])||(d[D]={});var A=d[D],a=n.newContainer(M,D);a._id=a._name=D,a._attr=u.id+"."+D,a._traceIndices=C.map(function(G){return G._expandedIndex});var R=T("visible");if(a.type="linear",r(a,S),p(A,a,T,a.type),R){var b=D==="realaxis";if(b&&T("side"),b)T("tickvals");else{var N=v(M.realaxis.tickvals||l.realaxis.tickvals.dflt);T("tickvals",N)}var O,Y,B,W,H=u.font||{};R&&(O=T("color"),Y=O===A.color?O:H.color,B=H.size,W=H.family),m(A,a,T,a.type,{noTicklabelstep:!0,noAng:!b,noExp:!0,font:{color:Y,size:B,family:W}}),h.coerce2(d,M,l,D+".ticklen"),h.coerce2(d,M,l,D+".tickwidth"),h.coerce2(d,M,l,D+".tickcolor",M.color);var U=T("ticks");U||(delete M[D].ticklen,delete M[D].tickwidth,delete M[D].tickcolor),t(A,a,T,{dfltColor:O,bgColor:u.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[D]}),T("layer")}T("hoverformat"),delete a.type,a._input=A}}k.exports=function(M,g,u){L(M,g,u,{noUirevision:!0,type:i.name,attributes:l,handleDefaults:c,font:g.font,paper_bgcolor:g.paper_bgcolor,fullData:u,layoutOut:g})};function x(d,M){var g={};return function(u){var y=M?M(u):u;if(y in g)return g[y];var C=d(u);return g[y]=C,C}}},49119:function(k,F,e){var h=e(71828),E=e(44467),n=e(27670).c;k.exports=function(w,p,m,t){var r=t.type,l=t.attributes,i=t.handleDefaults,f=t.partition||"x",v=p._subplots[r],c=v.length,x=c&&v[0].replace(/\d+$/,""),d,M;function g(S,D){return h.coerce(d,M,l,S,D)}for(var u=0;u<c;u++){var y=v[u];w[y]?d=w[y]:d=w[y]={},M=E.newContainer(p,y,x),t.noUirevision||g("uirevision",p.uirevision);var C={};C[f]=[u/c,(u+1)/c],n(M,p,g,C),t.id=y,i(d,M,g,t)}}},5386:function(k,F,e){var h=e(31562);h.FORMAT_LINK,h.DATE_FORMAT_LINK;function E(n){var L=n.description?" "+n.description:"",w=n.keys||[];if(w.length>0){for(var p=[],m=0;m<w.length;m++)p[m]="`"+w[m]+"`";L=L+"Finally, the template string has access to ",w.length===1?L=L+"variable "+p[0]:L=L+"variables "+p.slice(0,-1).join(", ")+" and "+p.slice(-1)+"."}return L}F.fF=function(n,L){n=n||{},L=L||{},E(L);var w={valType:"string",dflt:"",editType:n.editType||"none"};return n.arrayOk!==!1&&(w.arrayOk=!0),w},F.si=function(n,L){n=n||{},L=L||{},E(L);var w={valType:"string",dflt:"",editType:n.editType||"calc"};return n.arrayOk!==!1&&(w.arrayOk=!0),w},F.R=function(n,L){n=n||{},L=L||{},n.newshape,E(L);var w={valType:"string",dflt:"",editType:n.editType||"arraydraw"};return w}},61639:function(k,F,e){var h=e(64380),E=e(27659).AU,n=e(71828).counterRegex,L="ternary";F.name=L;var w=F.attr="subplot";F.idRoot=L,F.idRegex=F.attrRegex=n(L);var p=F.attributes={};p[w]={valType:"subplotid",dflt:"ternary",editType:"calc"},F.layoutAttributes=e(81367),F.supplyLayoutDefaults=e(25369),F.plot=function(t){for(var r=t._fullLayout,l=t.calcdata,i=r._subplots[L],f=0;f<i.length;f++){var v=i[f],c=E(l,L,v),x=r[v]._subplot;x||(x=new h({id:v,graphDiv:t,container:r._ternarylayer.node()},r),r[v]._subplot=x),x.plot(c,r,t._promises)}},F.clean=function(m,t,r,l){for(var i=l._subplots[L]||[],f=0;f<i.length;f++){var v=i[f],c=l[v]._subplot;!t[v]&&c&&(c.plotContainer.remove(),c.clipDef.remove(),c.clipDefRelative.remove(),c.layers["a-title"].remove(),c.layers["b-title"].remove(),c.layers["c-title"].remove())}}},81367:function(k,F,e){var h=e(22399),E=e(27670).Y,n=e(13838),L=e(30962).overrideAll,w=e(1426).extendFlat,p={title:{text:n.title.text,font:n.title.font},color:n.color,tickmode:n.minor.tickmode,nticks:w({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,labelalias:n.labelalias,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,minexponent:n.minexponent,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:w({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:w({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,griddash:n.griddash,layer:n.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:n._deprecated.title,titlefont:n._deprecated.titlefont}},m=k.exports=L({domain:E({name:"ternary"}),bgcolor:{valType:"color",dflt:h.background},sum:{valType:"number",dflt:1,min:0},aaxis:p,baxis:p,caxis:p},"plot","from-root");m.uirevision={valType:"any",editType:"none"},m.aaxis.uirevision=m.baxis.uirevision=m.caxis.uirevision={valType:"any",editType:"none"}},25369:function(k,F,e){var h=e(7901),E=e(44467),n=e(71828),L=e(49119),w=e(96115),p=e(89426),m=e(38701),t=e(26218),r=e(92128),l=e(81367),i=["aaxis","baxis","caxis"];k.exports=function(x,d,M){L(x,d,M,{type:"ternary",attributes:l,handleDefaults:f,font:d.font,paper_bgcolor:d.paper_bgcolor})};function f(c,x,d,M){var g=d("bgcolor"),u=d("sum");M.bgColor=h.combine(g,M.paper_bgcolor);for(var y,C,S,D=0;D<i.length;D++)y=i[D],C=c[y]||{},S=E.newContainer(x,y),S._name=y,v(C,S,M,x);var T=x.aaxis,P=x.baxis,A=x.caxis;T.min+P.min+A.min>=u&&(T.min=0,P.min=0,A.min=0,c.aaxis&&delete c.aaxis.min,c.baxis&&delete c.baxis.min,c.caxis&&delete c.caxis.min)}function v(c,x,d,M){var g=l[x._name];function u(a,R){return n.coerce(c,x,g,a,R)}u("uirevision",M.uirevision),x.type="linear";var y=u("color"),C=y!==g.color.dflt?y:d.font.color,S=x._name,D=S.charAt(0).toUpperCase(),T="Component "+D,P=u("title.text",T);x._hovertitle=P===T?P:D,n.coerceFont(u,"title.font",{family:d.font.family,size:n.bigFont(d.font.size),color:C}),u("min"),t(c,x,u,"linear"),p(c,x,u,"linear"),w(c,x,u,"linear"),m(c,x,u,{outerTicks:!0});var A=u("showticklabels");A&&(n.coerceFont(u,"tickfont",{family:d.font.family,size:d.font.size,color:C}),u("tickangle"),u("tickformat")),r(c,x,u,{dfltColor:y,bgColor:d.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:g}),u("hoverformat"),u("layer")}},64380:function(k,F,e){var h=e(39898),E=e(84267),n=e(73972),L=e(71828),w=L.strTranslate,p=L._,m=e(7901),t=e(91424),r=e(21994),l=e(1426).extendFlat,i=e(74875),f=e(89298),v=e(28569),c=e(30211),x=e(64505),d=x.freeMode,M=x.rectMode,g=e(92998),u=e(47322).prepSelect,y=e(47322).selectOnClick,C=e(47322).clearOutline,S=e(47322).clearSelectionsCache,D=e(85555);function T(H,U){this.id=H.id,this.graphDiv=H.graphDiv,this.init(U),this.makeFramework(U),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}k.exports=T;var P=T.prototype;P.init=function(H){this.container=H._ternarylayer,this.defs=H._defs,this.layoutId=H._uid,this.traceHash={},this.layers={}},P.plot=function(H,U){var G=this,j=U[G.id],re=U._size;G._hasClipOnAxisFalse=!1;for(var ae=0;ae<H.length;ae++){var ue=H[ae][0].trace;if(ue.cliponaxis===!1){G._hasClipOnAxisFalse=!0;break}}G.updateLayers(j),G.adjustLayout(j,re),i.generalUpdatePerTraceModule(G.graphDiv,G,H,j),G.layers.plotbg.select("path").call(m.fill,j.bgcolor)},P.makeFramework=function(H){var U=this,G=U.graphDiv,j=H[U.id],re=U.clipId="clip"+U.layoutId+U.id,ae=U.clipIdRelative="clip-relative"+U.layoutId+U.id;U.clipDef=L.ensureSingleById(H._clips,"clipPath",re,function(ue){ue.append("path").attr("d","M0,0Z")}),U.clipDefRelative=L.ensureSingleById(H._clips,"clipPath",ae,function(ue){ue.append("path").attr("d","M0,0Z")}),U.plotContainer=L.ensureSingle(U.container,"g",U.id),U.updateLayers(j),t.setClipUrl(U.layers.backplot,re,G),t.setClipUrl(U.layers.grids,re,G)},P.updateLayers=function(H){var U=this,G=U.layers,j=["draglayer","plotbg","backplot","grids"];H.aaxis.layer==="below traces"&&j.push("aaxis","aline"),H.baxis.layer==="below traces"&&j.push("baxis","bline"),H.caxis.layer==="below traces"&&j.push("caxis","cline"),j.push("frontplot"),H.aaxis.layer==="above traces"&&j.push("aaxis","aline"),H.baxis.layer==="above traces"&&j.push("baxis","bline"),H.caxis.layer==="above traces"&&j.push("caxis","cline");var re=U.plotContainer.selectAll("g.toplevel").data(j,String),ae=["agrid","bgrid","cgrid"];re.enter().append("g").attr("class",function(ue){return"toplevel "+ue}).each(function(ue){var de=h.select(this);G[ue]=de,ue==="frontplot"?de.append("g").classed("scatterlayer",!0):ue==="backplot"?de.append("g").classed("maplayer",!0):ue==="plotbg"?de.append("path").attr("d","M0,0Z"):ue==="aline"||ue==="bline"||ue==="cline"?de.append("path"):ue==="grids"&&ae.forEach(function(ee){G[ee]=de.append("g").classed("grid "+ee,!0)})}),re.order()};var A=Math.sqrt(4/3);P.adjustLayout=function(H,U){var G=this,j=H.domain,re=(j.x[0]+j.x[1])/2,ae=(j.y[0]+j.y[1])/2,ue=j.x[1]-j.x[0],de=j.y[1]-j.y[0],ee=ue*U.w,X=de*U.h,Q=H.sum,$=H.aaxis.min,ne=H.baxis.min,fe=H.caxis.min,te,q,he,se,pe,we;ee>A*X?(se=X,he=se*A):(he=ee,se=he/A),pe=ue*he/ee,we=de*se/X,te=U.l+U.w*re-he/2,q=U.t+U.h*(1-ae)-se/2,G.x0=te,G.y0=q,G.w=he,G.h=se,G.sum=Q,G.xaxis={type:"linear",range:[$+2*fe-Q,Q-$-2*ne],domain:[re-pe/2,re+pe/2],_id:"x"},r(G.xaxis,G.graphDiv._fullLayout),G.xaxis.setScale(),G.xaxis.isPtWithinRange=function(Ge){return Ge.a>=G.aaxis.range[0]&&Ge.a<=G.aaxis.range[1]&&Ge.b>=G.baxis.range[1]&&Ge.b<=G.baxis.range[0]&&Ge.c>=G.caxis.range[1]&&Ge.c<=G.caxis.range[0]},G.yaxis={type:"linear",range:[$,Q-ne-fe],domain:[ae-we/2,ae+we/2],_id:"y"},r(G.yaxis,G.graphDiv._fullLayout),G.yaxis.setScale(),G.yaxis.isPtWithinRange=function(){return!0};var Ee=G.yaxis.domain[0],Me=G.aaxis=l({},H.aaxis,{range:[$,Q-ne-fe],side:"left",tickangle:(+H.aaxis.tickangle||0)-30,domain:[Ee,Ee+we*A],anchor:"free",position:0,_id:"y",_length:he});r(Me,G.graphDiv._fullLayout),Me.setScale();var Be=G.baxis=l({},H.baxis,{range:[Q-$-fe,ne],side:"bottom",domain:G.xaxis.domain,anchor:"free",position:0,_id:"x",_length:he});r(Be,G.graphDiv._fullLayout),Be.setScale();var Ne=G.caxis=l({},H.caxis,{range:[Q-$-ne,fe],side:"right",tickangle:(+H.caxis.tickangle||0)+30,domain:[Ee,Ee+we*A],anchor:"free",position:0,_id:"y",_length:he});r(Ne,G.graphDiv._fullLayout),Ne.setScale();var Ce="M"+te+","+(q+se)+"h"+he+"l-"+he/2+",-"+se+"Z";G.clipDef.select("path").attr("d",Ce),G.layers.plotbg.select("path").attr("d",Ce);var Te="M0,"+se+"h"+he+"l-"+he/2+",-"+se+"Z";G.clipDefRelative.select("path").attr("d",Te);var Le=w(te,q);G.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Le),G.clipDefRelative.select("path").attr("transform",null);var Ve=w(te-Be._offset,q+se);G.layers.baxis.attr("transform",Ve),G.layers.bgrid.attr("transform",Ve);var We=w(te+he/2,q)+"rotate(30)"+w(0,-Me._offset);G.layers.aaxis.attr("transform",We),G.layers.agrid.attr("transform",We);var Fe=w(te+he/2,q)+"rotate(-30)"+w(0,-Ne._offset);G.layers.caxis.attr("transform",Fe),G.layers.cgrid.attr("transform",Fe),G.drawAxes(!0),G.layers.aline.select("path").attr("d",Me.showline?"M"+te+","+(q+se)+"l"+he/2+",-"+se:"M0,0").call(m.stroke,Me.linecolor||"#000").style("stroke-width",(Me.linewidth||0)+"px"),G.layers.bline.select("path").attr("d",Be.showline?"M"+te+","+(q+se)+"h"+he:"M0,0").call(m.stroke,Be.linecolor||"#000").style("stroke-width",(Be.linewidth||0)+"px"),G.layers.cline.select("path").attr("d",Ne.showline?"M"+(te+he/2)+","+q+"l"+he/2+","+se:"M0,0").call(m.stroke,Ne.linecolor||"#000").style("stroke-width",(Ne.linewidth||0)+"px"),G.graphDiv._context.staticPlot||G.initInteractions(),t.setClipUrl(G.layers.frontplot,G._hasClipOnAxisFalse?null:G.clipId,G.graphDiv)},P.drawAxes=function(H){var U=this,G=U.graphDiv,j=U.id.substr(7)+"title",re=U.layers,ae=U.aaxis,ue=U.baxis,de=U.caxis;if(U.drawAx(ae),U.drawAx(ue),U.drawAx(de),H){var ee=Math.max(ae.showticklabels?ae.tickfont.size/2:0,(de.showticklabels?de.tickfont.size*.75:0)+(de.ticks==="outside"?de.ticklen*.87:0)),X=(ue.showticklabels?ue.tickfont.size:0)+(ue.ticks==="outside"?ue.ticklen:0)+3;re["a-title"]=g.draw(G,"a"+j,{propContainer:ae,propName:U.id+".aaxis.title",placeholder:p(G,"Click to enter Component A title"),attributes:{x:U.x0+U.w/2,y:U.y0-ae.title.font.size/3-ee,"text-anchor":"middle"}}),re["b-title"]=g.draw(G,"b"+j,{propContainer:ue,propName:U.id+".baxis.title",placeholder:p(G,"Click to enter Component B title"),attributes:{x:U.x0-X,y:U.y0+U.h+ue.title.font.size*.83+X,"text-anchor":"middle"}}),re["c-title"]=g.draw(G,"c"+j,{propContainer:de,propName:U.id+".caxis.title",placeholder:p(G,"Click to enter Component C title"),attributes:{x:U.x0+U.w+X,y:U.y0+U.h+de.title.font.size*.83+X,"text-anchor":"middle"}})}},P.drawAx=function(H){var U=this,G=U.graphDiv,j=H._name,re=j.charAt(0),ae=H._id,ue=U.layers[j],de=30,ee=re+"tickLayout",X=a(H);U[ee]!==X&&(ue.selectAll("."+ae+"tick").remove(),U[ee]=X),H.setScale();var Q=f.calcTicks(H),$=f.clipEnds(H,Q),ne=f.makeTransTickFn(H),fe=f.getTickSigns(H)[2],te=L.deg2rad(de),q=fe*(H.linewidth||1)/2,he=fe*H.ticklen,se=U.w,pe=U.h,we=re==="b"?"M0,"+q+"l"+Math.sin(te)*he+","+Math.cos(te)*he:"M"+q+",0l"+Math.cos(te)*he+","+-Math.sin(te)*he,Ee={a:"M0,0l"+pe+",-"+se/2,b:"M0,0l-"+se/2+",-"+pe,c:"M0,0l-"+pe+","+se/2}[re];f.drawTicks(G,H,{vals:H.ticks==="inside"?$:Q,layer:ue,path:we,transFn:ne,crisp:!1}),f.drawGrid(G,H,{vals:$,layer:U.layers[re+"grid"],path:Ee,transFn:ne,crisp:!1}),f.drawLabels(G,H,{vals:Q,layer:ue,transFn:ne,labelFns:f.makeLabelFns(H,0,de)})};function a(H){return H.ticks+String(H.ticklen)+String(H.showticklabels)}var R=D.MINZOOM/2+.87,b="m-0.87,.5h"+R+"v3h-"+(R+5.2)+"l"+(R/2+2.6)+",-"+(R*.87+4.5)+"l2.6,1.5l-"+R/2+","+R*.87+"Z",N="m0.87,.5h-"+R+"v3h"+(R+5.2)+"l-"+(R/2+2.6)+",-"+(R*.87+4.5)+"l-2.6,1.5l"+R/2+","+R*.87+"Z",O="m0,1l"+R/2+","+R*.87+"l2.6,-1.5l-"+(R/2+2.6)+",-"+(R*.87+4.5)+"l-"+(R/2+2.6)+","+(R*.87+4.5)+"l2.6,1.5l"+R/2+",-"+R*.87+"Z",Y="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",B=!0;P.clearOutline=function(){S(this.dragOptions),C(this.dragOptions.gd)},P.initInteractions=function(){var H=this,U=H.layers.plotbg.select("path").node(),G=H.graphDiv,j=G._fullLayout._zoomlayer,re,ae;this.dragOptions={element:U,gd:G,plotinfo:{id:H.id,domain:G._fullLayout[H.id].domain,xaxis:H.xaxis,yaxis:H.yaxis},subplot:H.id,prepFn:function(Ve,We,Fe){H.dragOptions.xaxes=[H.xaxis],H.dragOptions.yaxes=[H.yaxis],re=G._fullLayout._invScaleX,ae=G._fullLayout._invScaleY;var Ge=H.dragOptions.dragmode=G._fullLayout.dragmode;d(Ge)?H.dragOptions.minDrag=1:H.dragOptions.minDrag=void 0,Ge==="zoom"?(H.dragOptions.moveFn=Be,H.dragOptions.clickFn=se,H.dragOptions.doneFn=Ne,pe(Ve,We,Fe)):Ge==="pan"?(H.dragOptions.moveFn=Te,H.dragOptions.clickFn=se,H.dragOptions.doneFn=Le,Ce(),H.clearOutline(G)):(M(Ge)||d(Ge))&&u(Ve,We,Fe,H.dragOptions,Ge)}};var ue,de,ee,X,Q,$,ne,fe,te,q;function he(Ve){var We={};return We[H.id+".aaxis.min"]=Ve.a,We[H.id+".baxis.min"]=Ve.b,We[H.id+".caxis.min"]=Ve.c,We}function se(Ve,We){var Fe=G._fullLayout.clickmode;W(G),Ve===2&&(G.emit("plotly_doubleclick",null),n.call("_guiRelayout",G,he({a:0,b:0,c:0}))),Fe.indexOf("select")>-1&&Ve===1&&y(We,G,[H.xaxis],[H.yaxis],H.id,H.dragOptions),Fe.indexOf("event")>-1&&c.click(G,We,H.id)}function pe(Ve,We,Fe){var Ge=U.getBoundingClientRect();ue=We-Ge.left,de=Fe-Ge.top,G._fullLayout._calcInverseTransform(G);var it=G._fullLayout._invTransform,qe=L.apply3DTransform(it)(ue,de);ue=qe[0],de=qe[1],ee={a:H.aaxis.range[0],b:H.baxis.range[1],c:H.caxis.range[1]},Q=ee,X=H.aaxis.range[1]-ee.a,$=E(H.graphDiv._fullLayout[H.id].bgcolor).getLuminance(),ne="M0,"+H.h+"L"+H.w/2+", 0L"+H.w+","+H.h+"Z",fe=!1,te=j.append("path").attr("class","zoombox").attr("transform",w(H.x0,H.y0)).style({fill:$>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",ne),q=j.append("path").attr("class","zoombox-corners").attr("transform",w(H.x0,H.y0)).style({fill:m.background,stroke:m.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),H.clearOutline(G)}function we(Ve,We){return 1-We/H.h}function Ee(Ve,We){return 1-(Ve+(H.h-We)/Math.sqrt(3))/H.w}function Me(Ve,We){return(Ve-(H.h-We)/Math.sqrt(3))/H.w}function Be(Ve,We){var Fe=ue+Ve*re,Ge=de+We*ae,it=Math.max(0,Math.min(1,we(ue,de),we(Fe,Ge))),qe=Math.max(0,Math.min(1,Ee(ue,de),Ee(Fe,Ge))),$e=Math.max(0,Math.min(1,Me(ue,de),Me(Fe,Ge))),tt=(it/2+$e)*H.w,vt=(1-it/2-qe)*H.w,dt=(tt+vt)/2,gt=vt-tt,Mt=(1-it)*H.h,Ct=Mt-gt/A;gt<D.MINZOOM?(Q=ee,te.attr("d",ne),q.attr("d","M0,0Z")):(Q={a:ee.a+it*X,b:ee.b+qe*X,c:ee.c+$e*X},te.attr("d",ne+"M"+tt+","+Mt+"H"+vt+"L"+dt+","+Ct+"L"+tt+","+Mt+"Z"),q.attr("d","M"+ue+","+de+Y+"M"+tt+","+Mt+b+"M"+vt+","+Mt+N+"M"+dt+","+Ct+O)),fe||(te.transition().style("fill",$>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),q.transition().style("opacity",1).duration(200),fe=!0),G.emit("plotly_relayouting",he(Q))}function Ne(){W(G),Q!==ee&&(n.call("_guiRelayout",G,he(Q)),B&&G.data&&G._context.showTips&&(L.notifier(p(G,"Double-click to zoom back out"),"long"),B=!1))}function Ce(){ee={a:H.aaxis.range[0],b:H.baxis.range[1],c:H.caxis.range[1]},Q=ee}function Te(Ve,We){var Fe=Ve/H.xaxis._m,Ge=We/H.yaxis._m;Q={a:ee.a-Ge,b:ee.b+(Fe+Ge)/2,c:ee.c-(Fe-Ge)/2};var it=[Q.a,Q.b,Q.c].sort(L.sorterAsc),qe={a:it.indexOf(Q.a),b:it.indexOf(Q.b),c:it.indexOf(Q.c)};it[0]<0&&(it[1]+it[0]/2<0?(it[2]+=it[0]+it[1],it[0]=it[1]=0):(it[2]+=it[0]/2,it[1]+=it[0]/2,it[0]=0),Q={a:it[qe.a],b:it[qe.b],c:it[qe.c]},We=(ee.a-Q.a)*H.yaxis._m,Ve=(ee.c-Q.c-ee.b+Q.b)*H.xaxis._m);var $e=w(H.x0+Ve,H.y0+We);H.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",$e);var tt=w(-Ve,-We);H.clipDefRelative.select("path").attr("transform",tt),H.aaxis.range=[Q.a,H.sum-Q.b-Q.c],H.baxis.range=[H.sum-Q.a-Q.c,Q.b],H.caxis.range=[H.sum-Q.a-Q.b,Q.c],H.drawAxes(!1),H._hasClipOnAxisFalse&&H.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,H),G.emit("plotly_relayouting",he(Q))}function Le(){n.call("_guiRelayout",G,he(Q))}U.onmousemove=function(Ve){c.hover(G,Ve,H.id),G._fullLayout._lasthover=U,G._fullLayout._hoversubplot=H.id},U.onmouseout=function(Ve){G._dragging||v.unhover(G,Ve)},v.init(this.dragOptions)};function W(H){h.select(H).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(k,F,e){var h=e(47769),E=e(64213),n=e(75138),L=e(41965),w=e(24401).addStyleRule,p=e(1426),m=e(9012),t=e(10820),r=p.extendFlat,l=p.extendDeepAll;F.modules={},F.allCategories={},F.allTypes=[],F.subplotsRegistry={},F.transformsRegistry={},F.componentsRegistry={},F.layoutArrayContainers=[],F.layoutArrayRegexes=[],F.traceLayoutAttributes={},F.localeRegistry={},F.apiMethodRegistry={},F.collectableSubplotTypes=null,F.register=function(S){if(F.collectableSubplotTypes=null,S)S&&!Array.isArray(S)&&(S=[S]);else throw new Error("No argument passed to Plotly.register.");for(var D=0;D<S.length;D++){var T=S[D];if(!T)throw new Error("Invalid module was attempted to be registered!");switch(T.moduleType){case"trace":i(T);break;case"transform":c(T);break;case"component":v(T);break;case"locale":x(T);break;case"apiMethod":var P=T.name;F.apiMethodRegistry[P]=T.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},F.getModule=function(C){var S=F.modules[y(C)];return S?S._module:!1},F.traceIs=function(C,S){if(C=y(C),C==="various")return!1;var D=F.modules[C];return D||(C&&h.log("Unrecognized trace type "+C+"."),D=F.modules[m.type.dflt]),!!D.categories[S]},F.getTransformIndices=function(C,S){for(var D=[],T=C.transforms||[],P=0;P<T.length;P++)T[P].type===S&&D.push(P);return D},F.hasTransform=function(C,S){for(var D=C.transforms||[],T=0;T<D.length;T++)if(D[T].type===S)return!0;return!1},F.getComponentMethod=function(C,S){var D=F.componentsRegistry[C];return D&&D[S]||E},F.call=function(){var C=arguments[0],S=[].slice.call(arguments,1);return F.apiMethodRegistry[C].apply(null,S)};function i(C){var S=C.name,D=C.categories,T=C.meta;if(F.modules[S]){h.log("Type "+S+" already registered");return}F.subplotsRegistry[C.basePlotModule.name]||f(C.basePlotModule);for(var P={},A=0;A<D.length;A++)P[D[A]]=!0,F.allCategories[D[A]]=!0;F.modules[S]={_module:C,categories:P},T&&Object.keys(T).length&&(F.modules[S].meta=T),F.allTypes.push(S);for(var a in F.componentsRegistry)M(a,S);C.layoutAttributes&&r(F.traceLayoutAttributes,C.layoutAttributes);var R=C.basePlotModule,b=R.name;if(b==="mapbox"){var N=R.constants.styleRules;for(var O in N)w(".js-plotly-plot .plotly .mapboxgl-"+O,N[O])}(b==="geo"||b==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function f(C){var S=C.name;if(F.subplotsRegistry[S]){h.log("Plot type "+S+" already registered.");return}d(C),F.subplotsRegistry[S]=C;for(var D in F.componentsRegistry)u(D,C.name)}function v(C){if(typeof C.name!="string")throw new Error("Component module *name* must be a string.");var S=C.name;F.componentsRegistry[S]=C,C.layoutAttributes&&(C.layoutAttributes._isLinkedToArray&&n(F.layoutArrayContainers,S),d(C));for(var D in F.modules)M(S,D);for(var T in F.subplotsRegistry)u(S,T);for(var P in F.transformsRegistry)g(S,P);C.schema&&C.schema.layout&&l(t,C.schema.layout)}function c(C){if(typeof C.name!="string")throw new Error("Transform module *name* must be a string.");var S="Transform module "+C.name,D=typeof C.transform=="function",T=typeof C.calcTransform=="function";if(!D&&!T)throw new Error(S+" is missing a *transform* or *calcTransform* method.");D&&T&&h.log([S+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(C.attributes)||h.log(S+" registered without an *attributes* object."),typeof C.supplyDefaults!="function"&&h.log(S+" registered without a *supplyDefaults* method."),F.transformsRegistry[C.name]=C;for(var P in F.componentsRegistry)g(P,C.name)}function x(C){var S=C.name,D=S.split("-")[0],T=C.dictionary,P=C.format,A=T&&Object.keys(T).length,a=P&&Object.keys(P).length,R=F.localeRegistry,b=R[S];if(b||(R[S]=b={}),D!==S){var N=R[D];N||(R[D]=N={}),A&&N.dictionary===b.dictionary&&(N.dictionary=T),a&&N.format===b.format&&(N.format=P)}A&&(b.dictionary=T),a&&(b.format=P)}function d(C){if(C.layoutAttributes){var S=C.layoutAttributes._arrayAttrRegexps;if(S)for(var D=0;D<S.length;D++)n(F.layoutArrayRegexes,S[D])}}function M(C,S){var D=F.componentsRegistry[C].schema;if(!(!D||!D.traces)){var T=D.traces[S];T&&l(F.modules[S]._module.attributes,T)}}function g(C,S){var D=F.componentsRegistry[C].schema;if(!(!D||!D.transforms)){var T=D.transforms[S];T&&l(F.transformsRegistry[S].attributes,T)}}function u(C,S){var D=F.componentsRegistry[C].schema;if(!(!D||!D.subplots)){var T=F.subplotsRegistry[S],P=T.layoutAttributes,A=T.attr==="subplot"?T.name:T.attr;Array.isArray(A)&&(A=A[0]);var a=D.subplots[A];P&&a&&l(P,a)}}function y(C){return typeof C=="object"&&(C=C.type),C}},61914:function(k,F,e){var h=e(73972),E=e(71828),n=E.extendFlat,L=E.extendDeep;function w(m){var t;switch(m){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function p(m){var t=["xaxis","yaxis","zaxis"];return t.indexOf(m.slice(0,5))>-1}k.exports=function(t,r){var l,i=t.data,f=t.layout,v=L([],i),c=L({},f,w(r.tileClass)),x=t._context||{};if(r.width&&(c.width=r.width),r.height&&(c.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){c.annotations=[];var d=Object.keys(c);for(l=0;l<d.length;l++)p(d[l])&&(c[d[l]].title={text:""});for(l=0;l<v.length;l++){var M=v[l];M.showscale=!1,M.marker&&(M.marker.showscale=!1),h.traceIs(M,"pie-like")&&(M.textposition="none")}}if(Array.isArray(r.annotations))for(l=0;l<r.annotations.length;l++)c.annotations.push(r.annotations[l]);var g=Object.keys(c).filter(function(D){return D.match(/^scene\d*$/)});if(g.length){var u={};for(r.tileClass==="thumbnail"&&(u={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),l=0;l<g.length;l++){var y=c[g[l]];y.xaxis||(y.xaxis={}),y.yaxis||(y.yaxis={}),y.zaxis||(y.zaxis={}),n(y.xaxis,u),n(y.yaxis,u),n(y.zaxis,u),y._scene=null}}var C=document.createElement("div");r.tileClass&&(C.className=r.tileClass);var S={gd:C,td:C,layout:c,data:v,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:x.mapboxAccessToken}};return r.setBackground!=="transparent"&&(S.config.setBackground=r.setBackground||"opaque"),S.gd.defaultLayout=w(r.tileClass),S}},7239:function(k,F,e){var h=e(71828),E=e(403),n=e(22435),L=e(25095);function w(p,m){var t;return h.isPlainObject(p)||(t=h.getGraphDiv(p)),m=m||{},m.format=m.format||"png",m.width=m.width||null,m.height=m.height||null,m.imageDataOnly=!0,new Promise(function(r,l){t&&t._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),h.isIE()&&m.format!=="svg"&&l(new Error(L.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var i=E(p,m),f=m.filename||p.fn||"newplot";f+="."+m.format.replace("-","."),i.then(function(v){return t&&(t._snapshotInProgress=!1),n(v,f,m.format)}).then(function(v){r(v)}).catch(function(v){t&&(t._snapshotInProgress=!1),l(v)})})}k.exports=w},22435:function(k,F,e){var h=e(71828),E=e(25095);function n(L,w,p){var m=document.createElement("a"),t="download"in m,r=new Promise(function(l,i){var f,v;if(h.isIE())return f=E.createBlob(L,"svg"),window.navigator.msSaveBlob(f,w),f=null,l(w);if(t)return f=E.createBlob(L,p),v=E.createObjectURL(f),m.href=v,m.download=w,document.body.appendChild(m),m.click(),document.body.removeChild(m),E.revokeObjectURL(v),f=null,l(w);if(h.isSafari()){var c=p==="svg"?",":";base64,";return E.octetStream(c+encodeURIComponent(L)),l(w)}i(new Error("download error"))});return r}k.exports=n},25095:function(k,F,e){var h=e(73972);F.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},F.getRedrawFunc=function(L){return function(){h.getComponentMethod("colorbar","draw")(L)}},F.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},F.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var E=window.URL||window.webkitURL;F.createObjectURL=function(L){return E.createObjectURL(L)},F.revokeObjectURL=function(L){return E.revokeObjectURL(L)},F.createBlob=function(L,w){if(w==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(w==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var p=n(window.atob(L));return new window.Blob([p],{type:"image/"+w})},F.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function n(L){for(var w=L.length,p=new ArrayBuffer(w),m=new Uint8Array(p),t=0;t<w;t++)m[t]=L.charCodeAt(t);return p}F.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,F.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(k,F,e){var h=e(25095),E={getDelay:h.getDelay,getRedrawFunc:h.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};k.exports=E},70942:function(k,F,e){var h=e(71828),E=e(15398).EventEmitter,n=e(25095);function L(w){var p=w.emitter||new E,m=new Promise(function(t,r){var l=window.Image,i=w.svg,f=w.format||"png";if(h.isIE()&&f!=="svg"){var v=new Error(n.MSG_IE_BAD_FORMAT);return r(v),w.promise?m:p.emit("error",v)}var c=w.canvas,x=w.scale||1,d=w.width||300,M=w.height||150,g=x*d,u=x*M,y=c.getContext("2d",{willReadFrequently:!0}),C=new l,S,D;f==="svg"||h.isSafari()?D=n.encodeSVG(i):(S=n.createBlob(i,"svg"),D=n.createObjectURL(S)),c.width=g,c.height=u,C.onload=function(){var T;switch(S=null,n.revokeObjectURL(D),f!=="svg"&&y.drawImage(C,0,0,g,u),f){case"jpeg":T=c.toDataURL("image/jpeg");break;case"png":T=c.toDataURL("image/png");break;case"webp":T=c.toDataURL("image/webp");break;case"svg":T=D;break;default:var P="Image format is not jpeg, png, svg or webp.";if(r(new Error(P)),!w.promise)return p.emit("error",P)}t(T),w.promise||p.emit("success",T)},C.onerror=function(T){if(S=null,n.revokeObjectURL(D),r(T),!w.promise)return p.emit("error",T)},C.src=D});return w.promise?m:p}k.exports=L},56395:function(k,F,e){var h=e(15398).EventEmitter,E=e(73972),n=e(71828),L=e(25095),w=e(61914),p=e(5900),m=e(70942);function t(r,l){var i=new h,f=w(r,{format:"png"}),v=f.gd;v.style.position="absolute",v.style.left="-5000px",document.body.appendChild(v);function c(){var d=L.getDelay(v._fullLayout);setTimeout(function(){var M=p(v),g=document.createElement("canvas");g.id=n.randstr(),i=m({format:l.format,width:v._fullLayout.width,height:v._fullLayout.height,canvas:g,emitter:i,svg:M}),i.clean=function(){v&&document.body.removeChild(v)}},d)}var x=L.getRedrawFunc(v);return E.call("_doPlot",v,f.data,f.layout,f.config).then(x).then(c).catch(function(d){i.emit("error",d)}),i}k.exports=t},5900:function(k,F,e){var h=e(39898),E=e(71828),n=e(91424),L=e(7901),w=e(77922),p=/"/g,m="TOBESTRIPPED",t=new RegExp('("'+m+")|("+m+'")',"g");function r(i){var f=h.select("body").append("div").style({display:"none"}).html(""),v=i.replace(/(&[^;]*;)/gi,function(c){return c==="&lt;"?"&#60;":c==="&rt;"?"&#62;":c.indexOf("<")!==-1||c.indexOf(">")!==-1?"":f.html(c).text()});return f.remove(),v}function l(i){return i.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}k.exports=function(f,v,c){var x=f._fullLayout,d=x._paper,M=x._toppaper,g=x.width,u=x.height,y;d.insert("rect",":first-child").call(n.setRect,0,0,g,u).call(L.fill,x.paper_bgcolor);var C=x._basePlotModules||[];for(y=0;y<C.length;y++){var S=C[y];S.toSVG&&S.toSVG(f)}if(M){var D=M.node().childNodes,T=Array.prototype.slice.call(D);for(y=0;y<T.length;y++){var P=T[y];P.childNodes.length&&d.node().appendChild(P)}}x._draggers&&x._draggers.remove(),d.node().style.background="",d.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var a=h.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){a.remove();return}else a.style({visibility:null,display:null});var R=this.style.fontFamily;R&&R.indexOf('"')!==-1&&a.style("font-family",R.replace(p,m))}),d.selectAll(".gradient_filled,.pattern_filled").each(function(){var a=h.select(this),R=this.style.fill;R&&R.indexOf("url(")!==-1&&a.style("fill",R.replace(p,m));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&a.style("stroke",b.replace(p,m))}),(v==="pdf"||v==="eps")&&d.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),d.node().setAttributeNS(w.xmlns,"xmlns",w.svg),d.node().setAttributeNS(w.xmlns,"xmlns:xlink",w.xlink),v==="svg"&&c&&(d.attr("width",c*g),d.attr("height",c*u),d.attr("viewBox","0 0 "+g+" "+u));var A=new window.XMLSerializer().serializeToString(d.node());return A=r(A),A=l(A),A=A.replace(t,"'"),E.isIE()&&(A=A.replace(/"/gi,"'"),A=A.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),A=A.replace(/(\\')/gi,'"')),A}},75341:function(k,F,e){var h=e(71828);k.exports=function(n,L){for(var w=0;w<n.length;w++)n[w].i=w;h.mergeArray(L.text,n,"tx"),h.mergeArray(L.hovertext,n,"htx");var p=L.marker;if(p){h.mergeArray(p.opacity,n,"mo",!0),h.mergeArray(p.color,n,"mc");var m=p.line;m&&(h.mergeArray(m.color,n,"mlc"),h.mergeArrayCastPositive(m.width,n,"mlw"))}}},1486:function(k,F,e){var h=e(82196),E=e(12663).axisHoverFormat,n=e(5386).fF,L=e(5386).si,w=e(50693),p=e(41940),m=e(97313),t=e(79952).u,r=e(1426).extendFlat,l=p({editType:"calc",arrayOk:!0,colorEditType:"style"}),i=h.marker,f=i.line,v=r({},f.width,{dflt:0}),c=r({width:v,editType:"calc"},w("marker.line")),x=r({line:c,editType:"calc"},w("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});k.exports={x:h.x,x0:h.x0,dx:h.dx,y:h.y,y0:h.y0,dy:h.dy,xperiod:h.xperiod,yperiod:h.yperiod,xperiod0:h.xperiod0,yperiod0:h.yperiod0,xperiodalignment:h.xperiodalignment,yperiodalignment:h.yperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),text:h.text,texttemplate:L({editType:"plot"},{keys:m.eventDataKeys}),hovertext:h.hovertext,hovertemplate:n({},{keys:m.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},l,{}),insidetextfont:r({},l,{}),outsidetextfont:r({},l,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},h.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:x,offsetgroup:h.offsetgroup,alignmentgroup:h.alignmentgroup,selected:{marker:{opacity:h.selected.marker.opacity,color:h.selected.marker.color,editType:"style"},textfont:h.selected.textfont,editType:"style"},unselected:{marker:{opacity:h.unselected.marker.opacity,color:h.unselected.marker.color,editType:"style"},textfont:h.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(k,F,e){var h=e(89298),E=e(42973),n=e(52075).hasColorscale,L=e(78803),w=e(75341),p=e(66279);k.exports=function(t,r){var l=h.getFromId(t,r.xaxis||"x"),i=h.getFromId(t,r.yaxis||"y"),f,v,c,x,d,M,g={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(f=l.makeCalcdata(r,"x",g),c=i.makeCalcdata(r,"y"),x=E(r,i,"y",c),d=!!r.yperiodalignment,M="y"):(f=i.makeCalcdata(r,"y",g),c=l.makeCalcdata(r,"x"),x=E(r,l,"x",c),d=!!r.xperiodalignment,M="x"),v=x.vals;for(var u=Math.min(v.length,f.length),y=new Array(u),C=0;C<u;C++)y[C]={p:v[C],s:f[C]},d&&(y[C].orig_p=c[C],y[C][M+"End"]=x.ends[C],y[C][M+"Start"]=x.starts[C]),r.ids&&(y[C].id=String(r.ids[C]));return n(r,"marker")&&L(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),n(r,"marker.line")&&L(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),w(y,r),p(y,r),y}},97313:function(k){k.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(k,F,e){var h=e(92770),E=e(71828).isArrayOrTypedArray,n=e(50606).BADNUM,L=e(73972),w=e(89298),p=e(99082).getAxisGroup,m=e(61546);function t(A,a){for(var R=a.xaxis,b=a.yaxis,N=A._fullLayout,O=A._fullData,Y=A.calcdata,B=[],W=[],H=0;H<O.length;H++){var U=O[H];if(U.visible===!0&&L.traceIs(U,"bar")&&U.xaxis===R._id&&U.yaxis===b._id&&(U.orientation==="h"?B.push(Y[H]):W.push(Y[H]),U._computePh))for(var G=A.calcdata[H],j=0;j<G.length;j++)typeof G[j].ph0=="function"&&(G[j].ph0=G[j].ph0()),typeof G[j].ph1=="function"&&(G[j].ph1=G[j].ph1())}var re={xCat:R.type==="category"||R.type==="multicategory",yCat:b.type==="category"||b.type==="multicategory",mode:N.barmode,norm:N.barnorm,gap:N.bargap,groupgap:N.bargroupgap};r(A,R,b,W,re),r(A,b,R,B,re)}function r(A,a,R,b,N){if(b.length){var O,Y,B,W,H;switch(l(R,b),N.mode){case"overlay":i(a,R,b,N);break;case"group":for(O=[],Y=[],B=0;B<b.length;B++)W=b[B],H=W[0].trace,H.offset===void 0?Y.push(W):O.push(W);Y.length&&f(A,a,R,Y,N),O.length&&i(a,R,O,N);break;case"stack":case"relative":for(O=[],Y=[],B=0;B<b.length;B++)W=b[B],H=W[0].trace,H.base===void 0?Y.push(W):O.push(W);Y.length&&v(A,a,R,Y,N),O.length&&i(a,R,O,N);break}T(b,a)}}function l(A,a){var R,b;for(R=0;R<a.length;R++){var N=a[R],O=N[0].trace,Y=O.type==="funnel"?O._base:O.base,B,W=O.orientation==="h"?O.xcalendar:O.ycalendar,H=A.type==="category"||A.type==="multicategory"?function(){return null}:A.d2c;if(E(Y)){for(b=0;b<Math.min(Y.length,N.length);b++)B=H(Y[b],0,W),h(B)?(N[b].b=+B,N[b].hasB=1):N[b].b=0;for(;b<N.length;b++)N[b].b=0}else{B=H(Y,0,W);var U=h(B);for(B=U?B:0,b=0;b<N.length;b++)N[b].b=B,U&&(N[b].hasB=1)}}}function i(A,a,R,b){for(var N=0;N<R.length;N++){var O=R[N],Y=new m([O],{posAxis:A,sepNegVal:!1,overlapNoMerge:!b.norm});c(A,Y,b),b.norm?(C(Y),D(a,Y,b)):u(a,Y)}}function f(A,a,R,b,N){var O=new m(b,{posAxis:a,sepNegVal:!1,overlapNoMerge:!N.norm});x(A,a,O,N),S(O,a),N.norm?(C(O),D(R,O,N)):u(R,O)}function v(A,a,R,b,N){var O=new m(b,{posAxis:a,sepNegVal:N.mode==="relative",overlapNoMerge:!(N.norm||N.mode==="stack"||N.mode==="relative")});c(a,O,N),y(R,O,N);for(var Y=0;Y<b.length;Y++)for(var B=b[Y],W=0;W<B.length;W++){var H=B[W];if(H.s!==n){var U=H.b+H.s===O.get(H.p,H.s);U&&(H._outmost=!0)}}N.norm&&D(R,O,N)}function c(A,a,R){for(var b=a.minDiff,N=a.traces,O=b*(1-R.gap),Y=O,B=Y*(1-(R.groupgap||0)),W=-B/2,H=0;H<N.length;H++){var U=N[H],G=U[0].t;G.barwidth=B,G.poffset=W,G.bargroupwidth=O,G.bardelta=b}a.binWidth=N[0][0].t.barwidth/100,d(a),M(A,a),g(A,a)}function x(A,a,R,b){for(var N=A._fullLayout,O=R.positions,Y=R.distinctPositions,B=R.minDiff,W=R.traces,H=W.length,U=O.length!==Y.length,G=B*(1-b.gap),j=p(N,a._id)+W[0][0].trace.orientation,re=N._alignmentOpts[j]||{},ae=0;ae<H;ae++){var ue=W[ae],de=ue[0].trace,ee=re[de.alignmentgroup]||{},X=Object.keys(ee.offsetGroups||{}).length,Q;X?Q=G/X:Q=U?G/H:G;var $=Q*(1-(b.groupgap||0)),ne;X?ne=((2*de._offsetIndex+1-X)*Q-$)/2:ne=U?((2*ae+1-H)*Q-$)/2:-$/2;var fe=ue[0].t;fe.barwidth=$,fe.poffset=ne,fe.bargroupwidth=G,fe.bardelta=B}R.binWidth=W[0][0].t.barwidth/100,d(R),M(a,R),g(a,R,U)}function d(A){var a=A.traces,R,b;for(R=0;R<a.length;R++){var N=a[R],O=N[0],Y=O.trace,B=O.t,W=Y._offset||Y.offset,H=B.poffset,U;if(E(W)){for(U=Array.prototype.slice.call(W,0,N.length),b=0;b<U.length;b++)h(U[b])||(U[b]=H);for(b=U.length;b<N.length;b++)U.push(H);B.poffset=U}else W!==void 0&&(B.poffset=W);var G=Y._width||Y.width,j=B.barwidth;if(E(G)){var re=Array.prototype.slice.call(G,0,N.length);for(b=0;b<re.length;b++)h(re[b])||(re[b]=j);for(b=re.length;b<N.length;b++)re.push(j);if(B.barwidth=re,W===void 0){for(U=[],b=0;b<N.length;b++)U.push(H+(j-re[b])/2);B.poffset=U}}else G!==void 0&&(B.barwidth=G,W===void 0&&(B.poffset=H+(j-G)/2))}}function M(A,a){for(var R=a.traces,b=P(A),N=0;N<R.length;N++)for(var O=R[N],Y=O[0].t,B=Y.poffset,W=Array.isArray(B),H=Y.barwidth,U=Array.isArray(H),G=0;G<O.length;G++){var j=O[G],re=j.w=U?H[G]:H;j.p===void 0&&(j.p=j[b],j["orig_"+b]=j[b]);var ae=(W?B[G]:B)+re/2;j[b]=j.p+ae}}function g(A,a,R){var b=a.traces,N=a.minDiff,O=N/2;w.minDtick(A,a.minDiff,a.distinctPositions[0],R);for(var Y=0;Y<b.length;Y++){var B=b[Y],W=B[0],H=W.trace,U=[],G,j,re,ae;for(ae=0;ae<B.length;ae++)G=B[ae],j=G.p-O,re=G.p+O,U.push(j,re);if(H.width||H.offset){var ue=W.t,de=ue.poffset,ee=ue.barwidth,X=Array.isArray(de),Q=Array.isArray(ee);for(ae=0;ae<B.length;ae++){G=B[ae];var $=X?de[ae]:de,ne=Q?ee[ae]:ee;j=G.p+$,re=j+ne,U.push(j,re)}}H._extremes[A._id]=w.findExtremes(A,U,{padded:!1})}}function u(A,a){for(var R=a.traces,b=P(A),N=0;N<R.length;N++){for(var O=R[N],Y=O[0].trace,B=Y.type==="scatter",W=Y.orientation==="v",H=[],U=!1,G=0;G<O.length;G++){var j=O[G],re=B?0:j.b,ae=B?W?j.y:j.x:re+j.s;j[b]=ae,H.push(ae),j.hasB&&H.push(re),(!j.hasB||!j.b)&&(U=!0)}Y._extremes[A._id]=w.findExtremes(A,H,{tozero:U,padded:!0})}}function y(A,a,R){var b=P(A),N=a.traces,O,Y,B,W,H,U;for(W=0;W<N.length;W++)if(O=N[W],Y=O[0].trace,Y.type==="funnel")for(H=0;H<O.length;H++)U=O[H],U.s!==n&&a.put(U.p,-.5*U.s);for(W=0;W<N.length;W++){O=N[W],Y=O[0].trace,B=Y.type==="funnel";var G=[];for(H=0;H<O.length;H++)if(U=O[H],U.s!==n){var j;B?j=U.s:j=U.s+U.b;var re=a.put(U.p,j),ae=re+j;U.b=re,U[b]=ae,R.norm||(G.push(ae),U.hasB&&G.push(re))}R.norm||(Y._extremes[A._id]=w.findExtremes(A,G,{tozero:!0,padded:!0}))}}function C(A){for(var a=A.traces,R=0;R<a.length;R++)for(var b=a[R],N=0;N<b.length;N++){var O=b[N];O.s!==n&&A.put(O.p,O.b+O.s)}}function S(A,a){for(var R=A.traces,b=0;b<R.length;b++){var N=R[b],O=N[0].trace;if(O.base===void 0)for(var Y=new m([N],{posAxis:a,sepNegVal:!0,overlapNoMerge:!0}),B=0;B<N.length;B++){var W=N[B];if(W.p!==n){var H=Y.put(W.p,W.b+W.s);H&&(W.b=H)}}}}function D(A,a,R){var b=a.traces,N=P(A),O=R.norm==="fraction"?1:100,Y=O/1e9,B=A.l2c(A.c2l(0)),W=R.mode==="stack"?O:B;function H(ne){return h(A.c2l(ne))&&(ne<B-Y||ne>W+Y||!h(B))}for(var U=0;U<b.length;U++){for(var G=b[U],j=G[0].trace,re=[],ae=!1,ue=!1,de=0;de<G.length;de++){var ee=G[de];if(ee.s!==n){var X=Math.abs(O/a.get(ee.p,ee.s));ee.b*=X,ee.s*=X;var Q=ee.b,$=Q+ee.s;ee[N]=$,re.push($),ue=ue||H($),ee.hasB&&(re.push(Q),ue=ue||H(Q)),(!ee.hasB||!ee.b)&&(ae=!0)}}j._extremes[A._id]=w.findExtremes(A,re,{tozero:ae,padded:ue})}}function T(A,a){var R=P(a),b={},N,O,Y,B=1/0,W=-1/0;for(N=0;N<A.length;N++)for(Y=A[N],O=0;O<Y.length;O++){var H=Y[O].p;h(H)&&(B=Math.min(B,H),W=Math.max(W,H))}var U=1e4/(W-B),G=b.round=function(X){return String(Math.round(U*(X-B)))};for(N=0;N<A.length;N++){Y=A[N],Y[0].t.extents=b;var j=Y[0].t.poffset,re=Array.isArray(j);for(O=0;O<Y.length;O++){var ae=Y[O],ue=ae[R]-ae.w/2;if(h(ue)){var de=ae[R]+ae.w/2,ee=G(ae.p);b[ee]?b[ee]=[Math.min(ue,b[ee][0]),Math.max(de,b[ee][1])]:b[ee]=[ue,de]}ae.p0=ae.p+(re?j[O]:j),ae.p1=ae.p0+ae.w,ae.s0=ae.b,ae.s1=ae.s0+ae.s}}}function P(A){return A._id.charAt(0)}k.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(k,F,e){var h=e(71828),E=e(7901),n=e(73972),L=e(67513),w=e(73927),p=e(98340),m=e(26125),t=e(1486),r=h.coerceFont;function l(v,c,x,d){function M(S,D){return h.coerce(v,c,t,S,D)}var g=L(v,c,d,M);if(!g){c.visible=!1;return}w(v,c,d,M),M("xhoverformat"),M("yhoverformat"),M("orientation",c.x&&!c.y?"h":"v"),M("base"),M("offset"),M("width"),M("text"),M("hovertext"),M("hovertemplate");var u=M("textposition");f(v,c,d,M,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(v,c,M,x,d);var y=(c.marker.line||{}).color,C=n.getComponentMethod("errorbars","supplyDefaults");C(v,c,y||E.defaultLine,{axis:"y"}),C(v,c,y||E.defaultLine,{axis:"x",inherit:"y"}),h.coerceSelectionMarkerOpacity(c,M)}function i(v,c){var x,d;function M(u){return h.coerce(d._input,d,t,u)}if(c.barmode==="group")for(var g=0;g<v.length;g++)d=v[g],d.type==="bar"&&(x=d._input,m(x,d,c,M))}function f(v,c,x,d,M,g){g=g||{};var u=g.moduleHasSelected!==!1,y=g.moduleHasUnselected!==!1,C=g.moduleHasConstrain!==!1,S=g.moduleHasCliponaxis!==!1,D=g.moduleHasTextangle!==!1,T=g.moduleHasInsideanchor!==!1,P=!!g.hasPathbar,A=Array.isArray(M)||M==="auto",a=A||M==="inside",R=A||M==="outside";if(a||R){var b=r(d,"textfont",x.font),N=h.extendFlat({},b),O=v.textfont&&v.textfont.color,Y=!O;if(Y&&delete N.color,r(d,"insidetextfont",N),P){var B=h.extendFlat({},b);Y&&delete B.color,r(d,"pathbar.textfont",B)}R&&r(d,"outsidetextfont",b),u&&d("selected.textfont.color"),y&&d("unselected.textfont.color"),C&&d("constraintext"),S&&d("cliponaxis"),D&&d("textangle"),d("texttemplate")}a&&T&&d("insidetextanchor")}k.exports={supplyDefaults:l,crossTraceDefaults:i,handleText:f}},58065:function(k){k.exports=function(e,h,E){return e.x="xVal"in h?h.xVal:h.x,e.y="yVal"in h?h.yVal:h.y,h.xa&&(e.xaxis=h.xa),h.ya&&(e.yaxis=h.ya),E.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(k,F,e){var h=e(92770),E=e(84267),n=e(71828).isArrayOrTypedArray;F.coerceString=function(L,w,p){if(typeof w=="string"){if(w||!L.noBlank)return w}else if((typeof w=="number"||w===!0)&&!L.strict)return String(w);return p!==void 0?p:L.dflt},F.coerceNumber=function(L,w,p){if(h(w)){w=+w;var m=L.min,t=L.max,r=m!==void 0&&w<m||t!==void 0&&w>t;if(!r)return w}return p!==void 0?p:L.dflt},F.coerceColor=function(L,w,p){return E(w).isValid()?w:p!==void 0?p:L.dflt},F.coerceEnumerated=function(L,w,p){return L.coerceNumber&&(w=+w),L.values.indexOf(w)!==-1?w:p!==void 0?p:L.dflt},F.getValue=function(L,w){var p;return Array.isArray(L)?w<L.length&&(p=L[w]):p=L,p},F.getLineWidth=function(L,w){var p=0<w.mlw?w.mlw:n(L.marker.line.width)?0:L.marker.line.width;return p}},95423:function(k,F,e){var h=e(30211),E=e(73972),n=e(7901),L=e(71828).fillText,w=e(69383).getLineWidth,p=e(89298).hoverLabelText,m=e(50606).BADNUM;function t(i,f,v,c,x){var d=r(i,f,v,c,x);if(d){var M=d.cd,g=M[0].trace,u=M[d.index];return d.color=l(g,u),E.getComponentMethod("errorbars","hoverInfo")(u,g,d),[d]}}function r(i,f,v,c,x){var d=i.cd,M=d[0].trace,g=d[0].t,u=c==="closest",y=M.type==="waterfall",C=i.maxHoverDistance,S=i.maxSpikeDistance,D,T,P,A,a,R,b;M.orientation==="h"?(D=v,T=f,P="y",A="x",a=de,R=re):(D=f,T=v,P="x",A="y",R=de,a=re);var N=M[P+"period"],O=u||N;function Y(pe){return W(pe,-1)}function B(pe){return W(pe,1)}function W(pe,we){var Ee=pe.w;return pe[P]+we*Ee/2}function H(pe){return pe[P+"End"]-pe[P+"Start"]}var U=u?Y:N?function(pe){return pe.p-H(pe)/2}:function(pe){return Math.min(Y(pe),pe.p-g.bardelta/2)},G=u?B:N?function(pe){return pe.p+H(pe)/2}:function(pe){return Math.max(B(pe),pe.p+g.bardelta/2)};function j(pe,we,Ee){return x.finiteRange&&(Ee=0),h.inbox(pe-D,we-D,Ee+Math.min(1,Math.abs(we-pe)/b)-1)}function re(pe){return j(U(pe),G(pe),C)}function ae(pe){return j(Y(pe),B(pe),S)}function ue(pe){var we=pe[A];if(y){var Ee=Math.abs(pe.rawS)||0;T>0?we+=Ee:T<0&&(we-=Ee)}return we}function de(pe){var we=T,Ee=pe.b,Me=ue(pe);return h.inbox(Ee-we,Me-we,C+(Me-we)/(Me-Ee)-1)}function ee(pe){var we=T,Ee=pe.b,Me=ue(pe);return h.inbox(Ee-we,Me-we,S+(Me-we)/(Me-Ee)-1)}var X=i[P+"a"],Q=i[A+"a"];b=Math.abs(X.r2c(X.range[1])-X.r2c(X.range[0]));function $(pe){return(a(pe)+R(pe))/2}var ne=h.getDistanceFunction(c,a,R,$);if(h.getClosest(d,ne,i),i.index!==!1&&d[i.index].p!==m){O||(U=function(pe){return Math.min(Y(pe),pe.p-g.bargroupwidth/2)},G=function(pe){return Math.max(B(pe),pe.p+g.bargroupwidth/2)});var fe=i.index,te=d[fe],q=M.base?te.b+te.s:te.s;i[A+"0"]=i[A+"1"]=Q.c2p(te[A],!0),i[A+"LabelVal"]=q;var he=g.extents[g.extents.round(te.p)];i[P+"0"]=X.c2p(u?U(te):he[0],!0),i[P+"1"]=X.c2p(u?G(te):he[1],!0);var se=te.orig_p!==void 0;return i[P+"LabelVal"]=se?te.orig_p:te.p,i.labelLabel=p(X,i[P+"LabelVal"],M[P+"hoverformat"]),i.valueLabel=p(Q,i[A+"LabelVal"],M[A+"hoverformat"]),i.baseLabel=p(Q,te.b,M[A+"hoverformat"]),i.spikeDistance=(ee(te)+ae(te))/2,i[P+"Spike"]=X.c2p(te.p,!0),L(te,M,i),i.hovertemplate=M.hovertemplate,i}}function l(i,f){var v=f.mcc||i.marker.color,c=f.mlcc||i.marker.line.color,x=w(i,f);if(n.opacity(v))return v;if(n.opacity(c)&&x)return c}k.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:l}},60822:function(k,F,e){k.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(k){k.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(k,F,e){var h=e(73972),E=e(89298),n=e(71828),L=e(43641);k.exports=function(w,p,m){function t(g,u){return n.coerce(w,p,L,g,u)}for(var r=!1,l=!1,i=!1,f={},v=t("barmode"),c=0;c<m.length;c++){var x=m[c];if(h.traceIs(x,"bar")&&x.visible)r=!0;else continue;if(v==="group"){var d=x.xaxis+x.yaxis;f[d]&&(i=!0),f[d]=!0}if(x.visible&&x.type==="histogram"){var M=E.getFromId({_fullLayout:p},x[x.orientation==="v"?"xaxis":"yaxis"]);M.type!=="category"&&(l=!0)}}if(!r){delete p.barmode;return}v!=="overlay"&&t("barnorm"),t("bargap",l&&!i?0:.2),t("bargroupgap")}},17295:function(k,F,e){var h=e(39898),E=e(92770),n=e(71828),L=e(63893),w=e(7901),p=e(91424),m=e(73972),t=e(89298).tickText,r=e(72597),l=r.recordMinTextSize,i=r.clearMinTextSize,f=e(16688),v=e(69383),c=e(97313),x=e(1486),d=x.text,M=x.textposition,g=e(23469).appendArrayPointValue,u=c.TEXTPAD;function y(U){return U.id}function C(U){if(U.ids)return y}function S(U,G){return U<G?1:-1}function D(U,G,j,re){var ae=[],ue=[],de=re?G:j,ee=re?j:G;return ae[0]=de.c2p(U.s0,!0),ue[0]=ee.c2p(U.p0,!0),ae[1]=de.c2p(U.s1,!0),ue[1]=ee.c2p(U.p1,!0),re?[ae,ue]:[ue,ae]}function T(U,G,j,re){if(!G.uniformtext.mode&&P(j)){var ae;return re&&(ae=re()),U.transition().duration(j.duration).ease(j.easing).each("end",function(){ae&&ae()}).each("interrupt",function(){ae&&ae()})}else return U}function P(U){return U&&U.duration>0}function A(U,G,j,re,ae,ue){var de=G.xaxis,ee=G.yaxis,X=U._fullLayout,Q=U._context.staticPlot;ae||(ae={mode:X.barmode,norm:X.barmode,gap:X.bargap,groupgap:X.bargroupgap},i("bar",X));var $=n.makeTraceGroups(re,j,"trace bars").each(function(ne){var fe=h.select(this),te=ne[0].trace,q=te.type==="waterfall",he=te.type==="funnel",se=te.type==="bar",pe=se||he,we=0;q&&te.connector.visible&&te.connector.mode==="between"&&(we=te.connector.line.width/2);var Ee=te.orientation==="h",Me=P(ae),Be=n.ensureSingle(fe,"g","points"),Ne=C(te),Ce=Be.selectAll("g.point").data(n.identity,Ne);Ce.enter().append("g").classed("point",!0),Ce.exit().remove(),Ce.each(function(Le,Ve){var We=h.select(this),Fe=D(Le,de,ee,Ee),Ge=Fe[0][0],it=Fe[0][1],qe=Fe[1][0],$e=Fe[1][1],tt=(Ee?it-Ge:$e-qe)===0;tt&&pe&&v.getLineWidth(te,Le)&&(tt=!1),tt||(tt=!E(Ge)||!E(it)||!E(qe)||!E($e)),Le.isBlank=tt,tt&&(Ee?it=Ge:$e=qe),we&&!tt&&(Ee?(Ge-=S(Ge,it)*we,it+=S(Ge,it)*we):(qe-=S(qe,$e)*we,$e+=S(qe,$e)*we));var vt,dt;if(te.type==="waterfall"){if(!tt){var gt=te[Le.dir].marker;vt=gt.line.width,dt=gt.color}}else vt=v.getLineWidth(te,Le),dt=Le.mc||te.marker.color;function Mt(Oe){var _e=h.round(vt/2%1,2);return ae.gap===0&&ae.groupgap===0?h.round(Math.round(Oe)-_e,2):Oe}function Ct(Oe,_e,Ae){return Ae&&Oe===_e?Oe:Math.abs(Oe-_e)>=2?Mt(Oe):Oe>_e?Math.ceil(Oe):Math.floor(Oe)}if(!U._context.staticPlot){var Wt=w.opacity(dt),Xe=Wt<1||vt>.01?Mt:Ct;Ge=Xe(Ge,it,Ee),it=Xe(it,Ge,Ee),qe=Xe(qe,$e,!Ee),$e=Xe($e,qe,!Ee)}var ke=T(n.ensureSingle(We,"path"),X,ae,ue);if(ke.style("vector-effect",Q?"none":"non-scaling-stroke").attr("d",isNaN((it-Ge)*($e-qe))||tt&&U._context.staticPlot?"M0,0Z":"M"+Ge+","+qe+"V"+$e+"H"+it+"V"+qe+"Z").call(p.setClipUrl,G.layerClipId,U),!X.uniformtext.mode&&Me){var Ie=p.makePointStyleFns(te);p.singlePointStyle(Le,ke,te,Ie,U)}a(U,G,We,ne,Ve,Ge,it,qe,$e,ae,ue),G.layerClipId&&p.hideOutsideRangePoint(Le,We.select("text"),de,ee,te.xcalendar,te.ycalendar)});var Te=te.cliponaxis===!1;p.setClipUrl(fe,Te?null:G.layerClipId,U)});m.getComponentMethod("errorbars","plot")(U,$,G,ae)}function a(U,G,j,re,ae,ue,de,ee,X,Q,$){var ne=G.xaxis,fe=G.yaxis,te=U._fullLayout,q;function he(Oe,_e,Ae){var ce=n.ensureSingle(Oe,"text").text(_e).attr({class:"bartext bartext-"+q,"text-anchor":"middle","data-notex":1}).call(p.font,Ae).call(L.convertToTspans,U);return ce}var se=re[0].trace,pe=se.orientation==="h",we=Y(te,re,ae,ne,fe);q=B(se,ae);var Ee=Q.mode==="stack"||Q.mode==="relative",Me=re[ae],Be=!Ee||Me._outmost;if(!we||q==="none"||(Me.isBlank||ue===de||ee===X)&&(q==="auto"||q==="inside")){j.select("text").remove();return}var Ne=te.font,Ce=f.getBarColor(re[ae],se),Te=f.getInsideTextFont(se,ae,Ne,Ce),Le=f.getOutsideTextFont(se,ae,Ne),Ve=j.datum();pe?ne.type==="log"&&Ve.s0<=0&&(ne.range[0]<ne.range[1]?ue=0:ue=ne._length):fe.type==="log"&&Ve.s0<=0&&(fe.range[0]<fe.range[1]?ee=fe._length:ee=0);var We=Math.abs(de-ue)-2*u,Fe=Math.abs(X-ee)-2*u,Ge,it,qe,$e,tt;if(q==="outside"&&!Be&&!Me.hasB&&(q="inside"),q==="auto")if(Be){q="inside",tt=n.ensureUniformFontSize(U,Te),Ge=he(j,we,tt),it=p.bBox(Ge.node()),qe=it.width,$e=it.height;var vt=qe>0&&$e>0,dt=qe<=We&&$e<=Fe,gt=qe<=Fe&&$e<=We,Mt=pe?We>=qe*(Fe/$e):Fe>=$e*(We/qe);vt&&(dt||gt||Mt)?q="inside":(q="outside",Ge.remove(),Ge=null)}else q="inside";if(!Ge){tt=n.ensureUniformFontSize(U,q==="outside"?Le:Te),Ge=he(j,we,tt);var Ct=Ge.attr("transform");if(Ge.attr("transform",""),it=p.bBox(Ge.node()),qe=it.width,$e=it.height,Ge.attr("transform",Ct),qe<=0||$e<=0){Ge.remove();return}}var Wt=se.textangle,Xe,ke;q==="outside"?(ke=se.constraintext==="both"||se.constraintext==="outside",Xe=O(ue,de,ee,X,it,{isHorizontal:pe,constrained:ke,angle:Wt})):(ke=se.constraintext==="both"||se.constraintext==="inside",Xe=N(ue,de,ee,X,it,{isHorizontal:pe,constrained:ke,angle:Wt,anchor:se.insidetextanchor})),Xe.fontSize=tt.size,l(se.type==="histogram"?"bar":se.type,Xe,te),Me.transform=Xe;var Ie=T(Ge,te,Q,$);n.setTransormAndDisplay(Ie,Xe)}function R(U){return U==="auto"?0:U}function b(U,G){var j=Math.PI/180*G,re=Math.abs(Math.sin(j)),ae=Math.abs(Math.cos(j));return{x:U.width*ae+U.height*re,y:U.width*re+U.height*ae}}function N(U,G,j,re,ae,ue){var de=!!ue.isHorizontal,ee=!!ue.constrained,X=ue.angle||0,Q=ue.anchor||"end",$=Q==="end",ne=Q==="start",fe=ue.leftToRight||0,te=(fe+1)/2,q=1-te,he=ae.width,se=ae.height,pe=Math.abs(G-U),we=Math.abs(re-j),Ee=pe>2*u&&we>2*u?u:0;pe-=2*Ee,we-=2*Ee;var Me=R(X);X==="auto"&&!(he<=pe&&se<=we)&&(he>pe||se>we)&&(!(he>we||se>pe)||he<se!=pe<we)&&(Me+=90);var Be=b(ae,Me),Ne=1;ee&&(Ne=Math.min(1,pe/Be.x,we/Be.y));var Ce=ae.left*q+ae.right*te,Te=(ae.top+ae.bottom)/2,Le=(U+u)*q+(G-u)*te,Ve=(j+re)/2,We=0,Fe=0;if(ne||$){var Ge=(de?Be.x:Be.y)/2,it=de?S(U,G):S(j,re);de?ne?(Le=U+it*Ee,We=-it*Ge):(Le=G-it*Ee,We=it*Ge):ne?(Ve=j+it*Ee,Fe=-it*Ge):(Ve=re-it*Ee,Fe=it*Ge)}return{textX:Ce,textY:Te,targetX:Le,targetY:Ve,anchorX:We,anchorY:Fe,scale:Ne,rotate:Me}}function O(U,G,j,re,ae,ue){var de=!!ue.isHorizontal,ee=!!ue.constrained,X=ue.angle||0,Q=ae.width,$=ae.height,ne=Math.abs(G-U),fe=Math.abs(re-j),te;de?te=fe>2*u?u:0:te=ne>2*u?u:0;var q=1;ee&&(q=de?Math.min(1,fe/$):Math.min(1,ne/Q));var he=R(X),se=b(ae,he),pe=(de?se.x:se.y)/2,we=(ae.left+ae.right)/2,Ee=(ae.top+ae.bottom)/2,Me=(U+G)/2,Be=(j+re)/2,Ne=0,Ce=0,Te=de?S(G,U):S(j,re);return de?(Me=G-Te*te,Ne=Te*pe):(Be=re+Te*te,Ce=-Te*pe),{textX:we,textY:Ee,targetX:Me,targetY:Be,anchorX:Ne,anchorY:Ce,scale:q,rotate:he}}function Y(U,G,j,re,ae){var ue=G[0].trace,de=ue.texttemplate,ee;return de?ee=W(U,G,j,re,ae):ue.textinfo?ee=H(G,j,re,ae):ee=v.getValue(ue.text,j),v.coerceString(d,ee)}function B(U,G){var j=v.getValue(U.textposition,G);return v.coerceEnumerated(M,j)}function W(U,G,j,re,ae){var ue=G[0].trace,de=n.castOption(ue,j,"texttemplate");if(!de)return"";var ee=ue.type==="histogram",X=ue.type==="waterfall",Q=ue.type==="funnel",$=ue.orientation==="h",ne,fe,te,q;$?(ne="y",fe=ae,te="x",q=re):(ne="x",fe=re,te="y",q=ae);function he(Ne){return t(fe,fe.c2l(Ne),!0).text}function se(Ne){return t(q,q.c2l(Ne),!0).text}var pe=G[j],we={};we.label=pe.p,we.labelLabel=we[ne+"Label"]=he(pe.p);var Ee=n.castOption(ue,pe.i,"text");(Ee===0||Ee)&&(we.text=Ee),we.value=pe.s,we.valueLabel=we[te+"Label"]=se(pe.s);var Me={};g(Me,ue,pe.i),(ee||Me.x===void 0)&&(Me.x=$?we.value:we.label),(ee||Me.y===void 0)&&(Me.y=$?we.label:we.value),(ee||Me.xLabel===void 0)&&(Me.xLabel=$?we.valueLabel:we.labelLabel),(ee||Me.yLabel===void 0)&&(Me.yLabel=$?we.labelLabel:we.valueLabel),X&&(we.delta=+pe.rawS||pe.s,we.deltaLabel=se(we.delta),we.final=pe.v,we.finalLabel=se(we.final),we.initial=we.final-we.delta,we.initialLabel=se(we.initial)),Q&&(we.value=pe.s,we.valueLabel=se(we.value),we.percentInitial=pe.begR,we.percentInitialLabel=n.formatPercent(pe.begR),we.percentPrevious=pe.difR,we.percentPreviousLabel=n.formatPercent(pe.difR),we.percentTotal=pe.sumR,we.percenTotalLabel=n.formatPercent(pe.sumR));var Be=n.castOption(ue,pe.i,"customdata");return Be&&(we.customdata=Be),n.texttemplateString(de,we,U._d3locale,Me,we,ue._meta||{})}function H(U,G,j,re){var ae=U[0].trace,ue=ae.orientation==="h",de=ae.type==="waterfall",ee=ae.type==="funnel";function X(Be){var Ne=ue?re:j;return t(Ne,Be,!0).text}function Q(Be){var Ne=ue?j:re;return t(Ne,+Be,!0).text}var $=ae.textinfo,ne=U[G],fe=$.split("+"),te=[],q,he=function(Be){return fe.indexOf(Be)!==-1};if(he("label")&&te.push(X(U[G].p)),he("text")&&(q=n.castOption(ae,ne.i,"text"),(q===0||q)&&te.push(q)),de){var se=+ne.rawS||ne.s,pe=ne.v,we=pe-se;he("initial")&&te.push(Q(we)),he("delta")&&te.push(Q(se)),he("final")&&te.push(Q(pe))}if(ee){he("value")&&te.push(Q(ne.s));var Ee=0;he("percent initial")&&Ee++,he("percent previous")&&Ee++,he("percent total")&&Ee++;var Me=Ee>1;he("percent initial")&&(q=n.formatPercent(ne.begR),Me&&(q+=" of initial"),te.push(q)),he("percent previous")&&(q=n.formatPercent(ne.difR),Me&&(q+=" of previous"),te.push(q)),he("percent total")&&(q=n.formatPercent(ne.sumR),Me&&(q+=" of total"),te.push(q))}return te.join("<br>")}k.exports={plot:A,toMoveInsideBar:N}},81974:function(k){k.exports=function(h,E){var n=h.cd,L=h.xaxis,w=h.yaxis,p=n[0].trace,m=p.type==="funnel",t=p.orientation==="h",r=[],l;if(E===!1)for(l=0;l<n.length;l++)n[l].selected=0;else for(l=0;l<n.length;l++){var i=n[l],f="ct"in i?i.ct:F(i,L,w,t,m);E.contains(f,!1,l,h)?(r.push({pointNumber:l,x:L.c2d(i.x),y:w.c2d(i.y)}),i.selected=1):i.selected=0}return r};function F(e,h,E,n,L){var w=h.c2p(n?e.s0:e.p0,!0),p=h.c2p(n?e.s1:e.p1,!0),m=E.c2p(n?e.p0:e.s0,!0),t=E.c2p(n?e.p1:e.s1,!0);return L?[(w+p)/2,(m+t)/2]:n?[p,(m+t)/2]:[(w+p)/2,t]}},61546:function(k,F,e){k.exports=E;var h=e(71828).distinctVals;function E(n,L){this.traces=n,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var w=1/0,p=L.posAxis._id.charAt(0),m=[],t=0;t<n.length;t++){for(var r=n[t],l=0;l<r.length;l++){var i=r[l],f=i.p;f===void 0&&(f=i[p]),f!==void 0&&m.push(f)}r[0]&&r[0].width1&&(w=Math.min(r[0].width1,w))}this.positions=m;var v=h(m);this.distinctPositions=v.vals,v.vals.length===1&&w!==1/0?this.minDiff=w:this.minDiff=Math.min(v.minDiff,w);var c=(L.posAxis||{}).type;(c==="category"||c==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}E.prototype.put=function(L,w){var p=this.getLabel(L,w),m=this.bins[p]||0;return this.bins[p]=m+w,m},E.prototype.get=function(L,w){var p=this.getLabel(L,w);return this.bins[p]||0},E.prototype.getLabel=function(L,w){var p=w<0&&this.sepNegVal?"v":"^",m=this.overlapNoMerge?L:Math.round(L/this.binWidth);return p+m}},16688:function(k,F,e){var h=e(39898),E=e(7901),n=e(91424),L=e(71828),w=e(73972),p=e(72597).resizeText,m=e(1486),t=m.textfont,r=m.insidetextfont,l=m.outsidetextfont,i=e(69383);function f(T){var P=h.select(T).selectAll("g.barlayer").selectAll("g.trace");p(T,P,"bar");var A=P.size(),a=T._fullLayout;P.style("opacity",function(R){return R[0].trace.opacity}).each(function(R){(a.barmode==="stack"&&A>1||a.bargap===0&&a.bargroupgap===0&&!R[0].trace.marker.line.width)&&h.select(this).attr("shape-rendering","crispEdges")}),P.selectAll("g.points").each(function(R){var b=h.select(this),N=R[0].trace;v(b,N,T)}),w.getComponentMethod("errorbars","style")(P)}function v(T,P,A){n.pointStyle(T.selectAll("path"),P,A),c(T,P,A)}function c(T,P,A){T.selectAll("text").each(function(a){var R=h.select(this),b=L.ensureUniformFontSize(A,g(R,a,P,A));n.font(R,b)})}function x(T,P,A){var a=P[0].trace;a.selectedpoints?d(A,a,T):(v(A,a,T),w.getComponentMethod("errorbars","style")(A))}function d(T,P,A){n.selectedPointStyle(T.selectAll("path"),P),M(T.selectAll("text"),P,A)}function M(T,P,A){T.each(function(a){var R=h.select(this),b;if(a.selected){b=L.ensureUniformFontSize(A,g(R,a,P,A));var N=P.selected.textfont&&P.selected.textfont.color;N&&(b.color=N),n.font(R,b)}else n.selectedTextStyle(R,P)})}function g(T,P,A,a){var R=a._fullLayout.font,b=A.textfont;if(T.classed("bartext-inside")){var N=D(P,A);b=y(A,P.i,R,N)}else T.classed("bartext-outside")&&(b=C(A,P.i,R));return b}function u(T,P,A){return S(t,T.textfont,P,A)}function y(T,P,A,a){var R=u(T,P,A),b=T._input.textfont===void 0||T._input.textfont.color===void 0||Array.isArray(T.textfont.color)&&T.textfont.color[P]===void 0;return b&&(R={color:E.contrast(a),family:R.family,size:R.size}),S(r,T.insidetextfont,P,R)}function C(T,P,A){var a=u(T,P,A);return S(l,T.outsidetextfont,P,a)}function S(T,P,A,a){P=P||{};var R=i.getValue(P.family,A),b=i.getValue(P.size,A),N=i.getValue(P.color,A);return{family:i.coerceString(T.family,R,a.family),size:i.coerceNumber(T.size,b,a.size),color:i.coerceColor(T.color,N,a.color)}}function D(T,P){return P.type==="waterfall"?P[T.dir].marker.color:T.mcc||T.mc||P.marker.color}k.exports={style:f,styleTextPoints:c,styleOnSelect:x,getInsideTextFont:y,getOutsideTextFont:C,getBarColor:D,resizeText:p}},98340:function(k,F,e){var h=e(7901),E=e(52075).hasColorscale,n=e(1586),L=e(71828).coercePattern;k.exports=function(p,m,t,r,l){var i=t("marker.color",r),f=E(p,"marker");f&&n(p,m,l,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",h.defaultLine),E(p,"marker.line")&&n(p,m,l,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),L(t,"marker.pattern",i,f),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(k,F,e){var h=e(39898),E=e(71828);function n(m,t,r){var l=m._fullLayout,i=l["_"+r+"Text_minsize"];if(i){var f=l.uniformtext.mode==="hide",v;switch(r){case"funnelarea":case"pie":case"sunburst":v="g.slice";break;case"treemap":case"icicle":v="g.slice, g.pathbar";break;default:v="g.points > g.point"}t.selectAll(v).each(function(c){var x=c.transform;if(x){x.scale=f&&x.hide?0:i/x.fontSize;var d=h.select(this).select("text");E.setTransormAndDisplay(d,x)}})}}function L(m,t,r){if(r.uniformtext.mode){var l=p(m),i=r.uniformtext.minsize,f=t.scale*t.fontSize;t.hide=f<i,r[l]=r[l]||1/0,t.hide||(r[l]=Math.min(r[l],Math.max(f,i)))}}function w(m,t){var r=p(m);t[r]=void 0}function p(m){return"_"+m+"Text_minsize"}k.exports={recordMinTextSize:L,clearMinTextSize:w,resizeText:n}},55023:function(k,F,e){var h=e(5386).fF,E=e(1426).extendFlat,n=e(81245),L=e(1486);k.exports={r:n.r,theta:n.theta,r0:n.r0,dr:n.dr,theta0:n.theta0,dtheta:n.dtheta,thetaunit:n.thetaunit,base:E({},L.base,{}),offset:E({},L.offset,{}),width:E({},L.width,{}),text:E({},L.text,{}),hovertext:E({},L.hovertext,{}),marker:L.marker,hoverinfo:n.hoverinfo,hovertemplate:h(),selected:L.selected,unselected:L.unselected}},74692:function(k,F,e){var h=e(52075).hasColorscale,E=e(78803),n=e(75341),L=e(11661).setGroupPositions,w=e(66279),p=e(73972).traceIs,m=e(71828).extendFlat;function t(l,i){for(var f=l._fullLayout,v=i.subplot,c=f[v].radialaxis,x=f[v].angularaxis,d=c.makeCalcdata(i,"r"),M=x.makeCalcdata(i,"theta"),g=i._length,u=new Array(g),y=d,C=M,S=0;S<g;S++)u[S]={p:C[S],s:y[S]};function D(T){var P=i[T];P!==void 0&&(i["_"+T]=Array.isArray(P)?x.makeCalcdata(i,T):x.d2c(P,i.thetaunit))}return x.type==="linear"&&(D("width"),D("offset")),h(i,"marker")&&E(l,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),h(i,"marker.line")&&E(l,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),n(u,i),w(u,i),u}function r(l,i,f){for(var v=l.calcdata,c=[],x=0;x<v.length;x++){var d=v[x],M=d[0].trace;M.visible===!0&&p(M,"bar")&&M.subplot===f&&c.push(d)}var g=m({},i.radialaxis,{_id:"x"}),u=i.angularaxis;L(l,u,g,c,{mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap})}k.exports={calc:t,crossTraceCalc:r}},6135:function(k,F,e){var h=e(71828),E=e(22184).handleRThetaDefaults,n=e(98340),L=e(55023);k.exports=function(p,m,t,r){function l(f,v){return h.coerce(p,m,L,f,v)}var i=E(p,m,r,l);if(!i){m.visible=!1;return}l("thetaunit"),l("base"),l("offset"),l("width"),l("text"),l("hovertext"),l("hovertemplate"),n(p,m,l,t,r),h.coerceSelectionMarkerOpacity(m,l)}},27379:function(k,F,e){var h=e(30211),E=e(71828),n=e(95423).getTraceColor,L=E.fillText,w=e(59150).makeHoverPointText,p=e(10869).isPtInsidePolygon;k.exports=function(t,r,l){var i=t.cd,f=i[0].trace,v=t.subplot,c=v.radialAxis,x=v.angularAxis,d=v.vangles,M=d?p:E.isPtInsideSector,g=t.maxHoverDistance,u=x._period||2*Math.PI,y=Math.abs(c.g2p(Math.sqrt(r*r+l*l))),C=Math.atan2(l,r);c.range[0]>c.range[1]&&(C+=Math.PI);var S=function(A){return M(y,C,[A.rp0,A.rp1],[A.thetag0,A.thetag1],d)?g+Math.min(1,Math.abs(A.thetag1-A.thetag0)/u)-1+(A.rp1-y)/(A.rp1-A.rp0)-1:1/0};if(h.getClosest(i,S,t),t.index!==!1){var D=t.index,T=i[D];t.x0=t.x1=T.ct[0],t.y0=t.y1=T.ct[1];var P=E.extendFlat({},T,{r:T.s,theta:T.p});return L(T,f,t),w(P,f,v,t),t.hovertemplate=f.hovertemplate,t.color=n(f,T),t.xLabelVal=t.yLabelVal=void 0,T.s<0&&(t.idealAlign="left"),[t]}}},23381:function(k,F,e){k.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(k){k.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(k,F,e){var h=e(71828),E=e(40151);k.exports=function(n,L,w){var p={},m;function t(i,f){return h.coerce(n[m]||{},L[m],E,i,f)}for(var r=0;r<w.length;r++){var l=w[r];l.type==="barpolar"&&l.visible===!0&&(m=l.subplot,p[m]||(t("barmode"),t("bargap"),p[m]=1))}}},60173:function(k,F,e){var h=e(39898),E=e(92770),n=e(71828),L=e(91424),w=e(10869);k.exports=function(t,r,l){var i=t._context.staticPlot,f=r.xaxis,v=r.yaxis,c=r.radialAxis,x=r.angularAxis,d=p(r),M=r.layers.frontplot.select("g.barlayer");n.makeTraceGroups(M,l,"trace bars").each(function(){var g=h.select(this),u=n.ensureSingle(g,"g","points"),y=u.selectAll("g.point").data(n.identity);y.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),y.exit().remove(),y.each(function(C){var S=h.select(this),D=C.rp0=c.c2p(C.s0),T=C.rp1=c.c2p(C.s1),P=C.thetag0=x.c2g(C.p0),A=C.thetag1=x.c2g(C.p1),a;if(!E(D)||!E(T)||!E(P)||!E(A)||D===T||P===A)a="M0,0Z";else{var R=c.c2g(C.s1),b=(P+A)/2;C.ct=[f.c2p(R*Math.cos(b)),v.c2p(R*Math.sin(b))],a=d(D,T,P,A)}n.ensureSingle(S,"path").attr("d",a)}),L.setClipUrl(g,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function p(m){var t=m.cxx,r=m.cyy;return m.vangles?function(l,i,f,v){var c,x;n.angleDelta(f,v)>0?(c=f,x=v):(c=v,x=f);var d=w.findEnclosingVertexAngles(c,m.vangles)[0],M=w.findEnclosingVertexAngles(x,m.vangles)[1],g=[d,(c+x)/2,M];return w.pathPolygonAnnulus(l,i,c,x,g,t,r)}:function(l,i,f,v){return n.pathAnnulus(l,i,f,v,t,r)}}},53522:function(k,F,e){var h=e(82196),E=e(1486),n=e(22399),L=e(12663).axisHoverFormat,w=e(5386).fF,p=e(1426).extendFlat,m=h.marker,t=m.line;k.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:h.xperiod,yperiod:h.yperiod,xperiod0:h.xperiod0,yperiod0:h.yperiod0,xperiodalignment:h.xperiodalignment,yperiodalignment:h.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},m.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},m.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},m.angle,{arrayOk:!1,editType:"calc"}),size:p({},m.size,{arrayOk:!1,editType:"calc"}),color:p({},m.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:n.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:h.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,selected:{marker:h.selected.marker,editType:"style"},unselected:{marker:h.unselected.marker,editType:"style"},text:p({},h.text,{}),hovertext:p({},h.hovertext,{}),hovertemplate:w({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(k,F,e){var h=e(92770),E=e(89298),n=e(42973),L=e(71828),w=e(50606).BADNUM,p=L._;k.exports=function(C,S){var D=C._fullLayout,T=E.getFromId(C,S.xaxis||"x"),P=E.getFromId(C,S.yaxis||"y"),A=[],a=S.type==="violin"?"_numViolins":"_numBoxes",R,b,N,O,Y,B,W;S.orientation==="h"?(N=T,O="x",Y=P,B="y",W=!!S.yperiodalignment):(N=P,O="y",Y=T,B="x",W=!!S.xperiodalignment);var H=m(S,B,Y,D[a]),U=H[0],G=H[1],j=L.distinctVals(U,Y),re=j.vals,ae=j.minDiff/2,ue,de,ee,X,Q,$,ne=(S.boxpoints||S.points)==="all"?L.identity:function(Ct){return Ct.v<ue.lf||Ct.v>ue.uf};if(S._hasPreCompStats){var fe=S[O],te=function(Ct){return N.d2c((S[Ct]||[])[R])},q=1/0,he=-1/0;for(R=0;R<S._length;R++){var se=U[R];if(h(se)){if(ue={},ue.pos=ue[B]=se,W&&G&&(ue.orig_p=G[R]),ue.q1=te("q1"),ue.med=te("median"),ue.q3=te("q3"),de=[],fe&&L.isArrayOrTypedArray(fe[R]))for(b=0;b<fe[R].length;b++)$=N.d2c(fe[R][b]),$!==w&&(Q={v:$,i:[R,b]},i(Q,S,[R,b]),de.push(Q));if(ue.pts=de.sort(v),ee=ue[O]=de.map(c),X=ee.length,ue.med!==w&&ue.q1!==w&&ue.q3!==w&&ue.med>=ue.q1&&ue.q3>=ue.med){var pe=te("lowerfence");ue.lf=pe!==w&&pe<=ue.q1?pe:x(ue,ee,X);var we=te("upperfence");ue.uf=we!==w&&we>=ue.q3?we:d(ue,ee,X);var Ee=te("mean");ue.mean=Ee!==w?Ee:X?L.mean(ee,X):(ue.q1+ue.q3)/2;var Me=te("sd");ue.sd=Ee!==w&&Me>=0?Me:X?L.stdev(ee,X,ue.mean):ue.q3-ue.q1,ue.lo=M(ue),ue.uo=g(ue);var Be=te("notchspan");Be=Be!==w&&Be>0?Be:u(ue,X),ue.ln=ue.med-Be,ue.un=ue.med+Be;var Ne=ue.lf,Ce=ue.uf;S.boxpoints&&ee.length&&(Ne=Math.min(Ne,ee[0]),Ce=Math.max(Ce,ee[X-1])),S.notched&&(Ne=Math.min(Ne,ue.ln),Ce=Math.max(Ce,ue.un)),ue.min=Ne,ue.max=Ce}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ue.q1,"median = "+ue.med,"q3 = "+ue.q3].join(`
`));var Te;ue.med!==w?Te=ue.med:ue.q1!==w?ue.q3!==w?Te=(ue.q1+ue.q3)/2:Te=ue.q1:ue.q3!==w?Te=ue.q3:Te=0,ue.med=Te,ue.q1=ue.q3=Te,ue.lf=ue.uf=Te,ue.mean=ue.sd=Te,ue.ln=ue.un=Te,ue.min=ue.max=Te}q=Math.min(q,ue.min),he=Math.max(he,ue.max),ue.pts2=de.filter(ne),A.push(ue)}}S._extremes[N._id]=E.findExtremes(N,[q,he],{padded:!0})}else{var Le=N.makeCalcdata(S,O),Ve=t(re,ae),We=re.length,Fe=r(We);for(R=0;R<S._length;R++)if($=Le[R],!!h($)){var Ge=L.findBin(U[R],Ve);Ge>=0&&Ge<We&&(Q={v:$,i:R},i(Q,S,R),Fe[Ge].push(Q))}var it=1/0,qe=-1/0,$e=S.quartilemethod,tt=$e==="exclusive",vt=$e==="inclusive";for(R=0;R<We;R++)if(Fe[R].length>0){if(ue={},ue.pos=ue[B]=re[R],de=ue.pts=Fe[R].sort(v),ee=ue[O]=de.map(c),X=ee.length,ue.min=ee[0],ue.max=ee[X-1],ue.mean=L.mean(ee,X),ue.sd=L.stdev(ee,X,ue.mean)*S.sdmultiple,ue.med=L.interp(ee,.5),X%2&&(tt||vt)){var dt,gt;tt?(dt=ee.slice(0,X/2),gt=ee.slice(X/2+1)):vt&&(dt=ee.slice(0,X/2+1),gt=ee.slice(X/2)),ue.q1=L.interp(dt,.5),ue.q3=L.interp(gt,.5)}else ue.q1=L.interp(ee,.25),ue.q3=L.interp(ee,.75);ue.lf=x(ue,ee,X),ue.uf=d(ue,ee,X),ue.lo=M(ue),ue.uo=g(ue);var Mt=u(ue,X);ue.ln=ue.med-Mt,ue.un=ue.med+Mt,it=Math.min(it,ue.ln),qe=Math.max(qe,ue.un),ue.pts2=de.filter(ne),A.push(ue)}S._extremes[N._id]=E.findExtremes(N,S.notched?Le.concat([it,qe]):Le,{padded:!0})}return f(A,S),A.length>0?(A[0].t={num:D[a],dPos:ae,posLetter:B,valLetter:O,labels:{med:p(C,"median:"),min:p(C,"min:"),q1:p(C,"q1:"),q3:p(C,"q3:"),max:p(C,"max:"),mean:S.boxmean==="sd"||S.sizemode==="sd"?p(C,"mean ± σ:").replace("σ",S.sdmultiple===1?"σ":S.sdmultiple+"σ"):p(C,"mean:"),lf:p(C,"lower fence:"),uf:p(C,"upper fence:")}},D[a]++,A):[{t:{empty:!0}}]};function m(y,C,S,D){var T=C in y,P=C+"0"in y,A="d"+C in y;if(T||P&&A){var a=S.makeCalcdata(y,C),R=n(y,S,C,a).vals;return[R,a]}var b;P?b=y[C+"0"]:"name"in y&&(S.type==="category"||h(y.name)&&["linear","log"].indexOf(S.type)!==-1||L.isDateTime(y.name)&&S.type==="date")?b=y.name:b=D;for(var N=S.type==="multicategory"?S.r2c_just_indices(b):S.d2c(b,0,y[C+"calendar"]),O=y._length,Y=new Array(O),B=0;B<O;B++)Y[B]=N;return[Y]}function t(y,C){for(var S=y.length,D=new Array(S+1),T=0;T<S;T++)D[T]=y[T]-C;return D[S]=y[S-1]+C,D}function r(y){for(var C=new Array(y),S=0;S<y;S++)C[S]=[];return C}var l={text:"tx",hovertext:"htx"};function i(y,C,S){for(var D in l)L.isArrayOrTypedArray(C[D])&&(Array.isArray(S)?L.isArrayOrTypedArray(C[D][S[0]])&&(y[l[D]]=C[D][S[0]][S[1]]):y[l[D]]=C[D][S])}function f(y,C){if(L.isArrayOrTypedArray(C.selectedpoints))for(var S=0;S<y.length;S++){for(var D=y[S].pts||[],T={},P=0;P<D.length;P++)T[D[P].i]=P;L.tagSelected(D,C,T)}}function v(y,C){return y.v-C.v}function c(y){return y.v}function x(y,C,S){return S===0?y.q1:Math.min(y.q1,C[Math.min(L.findBin(2.5*y.q1-1.5*y.q3,C,!0)+1,S-1)])}function d(y,C,S){return S===0?y.q3:Math.max(y.q3,C[Math.max(L.findBin(2.5*y.q3-1.5*y.q1,C),0)])}function M(y){return 4*y.q1-3*y.q3}function g(y){return 4*y.q3-3*y.q1}function u(y,C){return C===0?0:1.57*(y.q3-y.q1)/Math.sqrt(C)}},37188:function(k,F,e){var h=e(89298),E=e(71828),n=e(99082).getAxisGroup,L=["v","h"];function w(m,t){for(var r=m.calcdata,l=t.xaxis,i=t.yaxis,f=0;f<L.length;f++){for(var v=L[f],c=v==="h"?i:l,x=[],d=0;d<r.length;d++){var M=r[d],g=M[0].t,u=M[0].trace;u.visible===!0&&(u.type==="box"||u.type==="candlestick")&&!g.empty&&(u.orientation||"v")===v&&u.xaxis===l._id&&u.yaxis===i._id&&x.push(d)}p("box",m,x,c)}}function p(m,t,r,l){var i=t.calcdata,f=t._fullLayout,v=l._id,c=v.charAt(0),x,d,M,g=[],u=0;for(x=0;x<r.length;x++)for(M=i[r[x]],d=0;d<M.length;d++)g.push(l.c2l(M[d].pos,!0)),u+=(M[d].pts2||[]).length;if(g.length){var y=E.distinctVals(g);(l.type==="category"||l.type==="multicategory")&&(y.minDiff=1);var C=y.minDiff/2;h.minDtick(l,y.minDiff,y.vals[0],!0);var S=m==="violin"?"_numViolins":"_numBoxes",D=f[S],T=f[m+"mode"]==="group"&&D>1,P=1-f[m+"gap"],A=1-f[m+"groupgap"];for(x=0;x<r.length;x++){M=i[r[x]];var a=M[0].trace,R=M[0].t,b=a.width,N=a.side,O,Y,B,W;if(b)O=Y=W=b/2,B=0;else if(O=C,T){var H=n(f,l._id)+a.orientation,U=f._alignmentOpts[H]||{},G=U[a.alignmentgroup]||{},j=Object.keys(G.offsetGroups||{}).length,re=j||D,ae=j?a._offsetIndex:R.num;Y=O*P*A/re,B=2*O*(-.5+(ae+.5)/re)*P,W=O*P/re}else Y=O*P*A,B=0,W=O;R.dPos=O,R.bPos=B,R.bdPos=Y,R.wHover=W;var ue,de,ee=B+Y,X,Q,$,ne,fe,te,q=Boolean(b),he=(a.boxpoints||a.points)&&u>0;if(N==="positive"?(ue=O*(b?1:.5),X=ee,de=X=B):N==="negative"?(ue=X=B,de=O*(b?1:.5),Q=ee):(ue=de=O,X=Q=ee),he){var se=a.pointpos,pe=a.jitter,we=a.marker.size/2,Ee=0;se+pe>=0&&(Ee=ee*(se+pe),Ee>ue?(q=!0,fe=we,$=Ee):Ee>X&&(fe=we,$=ue)),Ee<=ue&&($=ue);var Me=0;se-pe<=0&&(Me=-ee*(se-pe),Me>de?(q=!0,te=we,ne=Me):Me>Q&&(te=we,ne=de)),Me<=de&&(ne=de)}else $=ue,ne=de;var Be=new Array(M.length);for(d=0;d<M.length;d++)Be[d]=M[d].pos;a._extremes[v]=h.findExtremes(l,Be,{padded:q,vpadminus:ne,vpadplus:$,vpadLinearized:!0,ppadminus:{x:te,y:fe}[c],ppadplus:{x:fe,y:te}[c]})}}}k.exports={crossTraceCalc:w,setPositionOffset:p}},36411:function(k,F,e){var h=e(71828),E=e(73972),n=e(7901),L=e(73927),w=e(26125),p=e(4322),m=e(53522);function t(f,v,c,x){function d(A,a){return h.coerce(f,v,m,A,a)}if(r(f,v,d,x),v.visible!==!1){L(f,v,x,d),d("xhoverformat"),d("yhoverformat");var M=v._hasPreCompStats;M&&(d("lowerfence"),d("upperfence")),d("line.color",(f.marker||{}).color||c),d("line.width"),d("fillcolor",n.addOpacity(v.line.color,.5));var g=!1;if(M){var u=d("mean"),y=d("sd");u&&u.length&&(g=!0,y&&y.length&&(g="sd"))}d("whiskerwidth");var C=d("sizemode"),S;C==="quartiles"&&(S=d("boxmean",g)),d("showwhiskers",C==="quartiles"),(C==="sd"||S==="sd")&&d("sdmultiple"),d("width"),d("quartilemethod");var D=!1;if(M){var T=d("notchspan");T&&T.length&&(D=!0)}else h.validate(f.notchwidth,m.notchwidth)&&(D=!0);var P=d("notched",D);P&&d("notchwidth"),l(f,v,d,{prefix:"box"})}}function r(f,v,c,x){function d(j){var re=0;return j&&j.length&&(re+=1,h.isArrayOrTypedArray(j[0])&&j[0].length&&(re+=1)),re}function M(j){return h.validate(f[j],m[j])}var g=c("y"),u=c("x"),y;if(v.type==="box"){var C=c("q1"),S=c("median"),D=c("q3");v._hasPreCompStats=C&&C.length&&S&&S.length&&D&&D.length,y=Math.min(h.minRowLength(C),h.minRowLength(S),h.minRowLength(D))}var T=d(g),P=d(u),A=T&&h.minRowLength(g),a=P&&h.minRowLength(u),R=x.calendar,b={autotypenumbers:x.autotypenumbers},N,O;if(v._hasPreCompStats)switch(String(P)+String(T)){case"00":var Y=M("x0")||M("dx"),B=M("y0")||M("dy");B&&!Y?N="h":N="v",O=y;break;case"10":N="v",O=Math.min(y,a);break;case"20":N="h",O=Math.min(y,u.length);break;case"01":N="h",O=Math.min(y,A);break;case"02":N="v",O=Math.min(y,g.length);break;case"12":N="v",O=Math.min(y,a,g.length);break;case"21":N="h",O=Math.min(y,u.length,A);break;case"11":O=0;break;case"22":var W=!1,H;for(H=0;H<u.length;H++)if(p(u[H],R,b)==="category"){W=!0;break}if(W)N="v",O=Math.min(y,a,g.length);else{for(H=0;H<g.length;H++)if(p(g[H],R,b)==="category"){W=!0;break}W?(N="h",O=Math.min(y,u.length,A)):(N="v",O=Math.min(y,a,g.length))}break}else T>0?(N="v",P>0?O=Math.min(a,A):O=Math.min(A)):P>0?(N="h",O=Math.min(a)):O=0;if(!O){v.visible=!1;return}v._length=O;var U=c("orientation",N);v._hasPreCompStats?U==="v"&&P===0?(c("x0",0),c("dx",1)):U==="h"&&T===0&&(c("y0",0),c("dy",1)):U==="v"&&P===0?c("x0"):U==="h"&&T===0&&c("y0");var G=E.getComponentMethod("calendars","handleTraceDefaults");G(f,v,["x","y"],x)}function l(f,v,c,x){var d=x.prefix,M=h.coerce2(f,v,m,"marker.outliercolor"),g=c("marker.line.outliercolor"),u="outliers";v._hasPreCompStats?u="all":(M||g)&&(u="suspectedoutliers");var y=c(d+"points",u);y?(c("jitter",y==="all"?.3:0),c("pointpos",y==="all"?-1.5:0),c("marker.symbol"),c("marker.opacity"),c("marker.size"),c("marker.angle"),c("marker.color",v.line.color),c("marker.line.color"),c("marker.line.width"),y==="suspectedoutliers"&&(c("marker.line.outliercolor",v.marker.color),c("marker.line.outlierwidth")),c("selected.marker.color"),c("unselected.marker.color"),c("selected.marker.size"),c("unselected.marker.size"),c("text"),c("hovertext")):delete v.marker;var C=c("hoveron");(C==="all"||C.indexOf("points")!==-1)&&c("hovertemplate"),h.coerceSelectionMarkerOpacity(v,c)}function i(f,v){var c,x;function d(u){return h.coerce(x._input,x,m,u)}for(var M=0;M<f.length;M++){x=f[M];var g=x.type;(g==="box"||g==="violin")&&(c=x._input,v[g+"mode"]==="group"&&w(c,x,v,d))}}k.exports={supplyDefaults:t,crossTraceDefaults:i,handleSampleDefaults:r,handlePointsDefaults:l}},74907:function(k){k.exports=function(e,h){return h.hoverOnBox&&(e.hoverOnBox=h.hoverOnBox),"xVal"in h&&(e.x=h.xVal),"yVal"in h&&(e.y=h.yVal),h.xa&&(e.xaxis=h.xa),h.ya&&(e.yaxis=h.ya),e}},41868:function(k,F,e){var h=e(89298),E=e(71828),n=e(30211),L=e(7901),w=E.fillText;function p(r,l,i,f){var v=r.cd,c=v[0].trace,x=c.hoveron,d=[],M;return x.indexOf("boxes")!==-1&&(d=d.concat(m(r,l,i,f))),x.indexOf("points")!==-1&&(M=t(r,l,i)),f==="closest"?M?[M]:d:(M&&d.push(M),d)}function m(r,l,i,f){var v=r.cd,c=r.xa,x=r.ya,d=v[0].trace,M=v[0].t,g=d.type==="violin",u,y,C,S,D,T,P,A,a,R,b,N=M.bdPos,O,Y,B=M.wHover,W=function(Me){return C.c2l(Me.pos)+M.bPos-C.c2l(T)};g&&d.side!=="both"?(d.side==="positive"&&(a=function(Me){var Be=W(Me);return n.inbox(Be,Be+B,R)},O=N,Y=0),d.side==="negative"&&(a=function(Me){var Be=W(Me);return n.inbox(Be-B,Be,R)},O=0,Y=N)):(a=function(Me){var Be=W(Me);return n.inbox(Be-B,Be+B,R)},O=Y=N);var H;g?H=function(Me){return n.inbox(Me.span[0]-D,Me.span[1]-D,R)}:H=function(Me){return n.inbox(Me.min-D,Me.max-D,R)},d.orientation==="h"?(D=l,T=i,P=H,A=a,u="y",C=x,y="x",S=c):(D=i,T=l,P=a,A=H,u="x",C=c,y="y",S=x);var U=Math.min(1,N/Math.abs(C.r2c(C.range[1])-C.r2c(C.range[0])));R=r.maxHoverDistance-U,b=r.maxSpikeDistance-U;function G(Me){return(P(Me)+A(Me))/2}var j=n.getDistanceFunction(f,P,A,G);if(n.getClosest(v,j,r),r.index===!1)return[];var re=v[r.index],ae=d.line.color,ue=(d.marker||{}).color;L.opacity(ae)&&d.line.width?r.color=ae:L.opacity(ue)&&d.boxpoints?r.color=ue:r.color=d.fillcolor,r[u+"0"]=C.c2p(re.pos+M.bPos-Y,!0),r[u+"1"]=C.c2p(re.pos+M.bPos+O,!0),r[u+"LabelVal"]=re.orig_p!==void 0?re.orig_p:re.pos;var de=u+"Spike";r.spikeDistance=G(re)*b/R,r[de]=C.c2p(re.pos,!0);var ee=d.boxmean||d.sizemode==="sd"||(d.meanline||{}).visible,X=d.boxpoints||d.points,Q=X&&ee?["max","uf","q3","med","mean","q1","lf","min"]:X&&!ee?["max","uf","q3","med","q1","lf","min"]:!X&&ee?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],$=S.range[1]<S.range[0];d.orientation===($?"v":"h")&&Q.reverse();for(var ne=r.spikeDistance,fe=r[de],te=[],q=0;q<Q.length;q++){var he=Q[q];if(he in re){var se=re[he],pe=S.c2p(se,!0),we=E.extendFlat({},r);we.attr=he,we[y+"0"]=we[y+"1"]=pe,we[y+"LabelVal"]=se,we[y+"Label"]=(M.labels?M.labels[he]+" ":"")+h.hoverLabelText(S,se,d[y+"hoverformat"]),we.hoverOnBox=!0,he==="mean"&&"sd"in re&&(d.boxmean==="sd"||d.sizemode==="sd")&&(we[y+"err"]=re.sd),we.hovertemplate=!1,te.push(we)}}r.name="",r.spikeDistance=void 0,r[de]=void 0;for(var Ee=0;Ee<te.length;Ee++)te[Ee].attr!=="med"?(te[Ee].name="",te[Ee].spikeDistance=void 0,te[Ee][de]=void 0):(te[Ee].spikeDistance=ne,te[Ee][de]=fe);return te}function t(r,l,i){for(var f=r.cd,v=r.xa,c=r.ya,x=f[0].trace,d=v.c2p(l),M=c.c2p(i),g,u=function(H){var U=Math.max(3,H.mrc||0);return Math.max(Math.abs(v.c2p(H.x)-d)-U,1-3/U)},y=function(H){var U=Math.max(3,H.mrc||0);return Math.max(Math.abs(c.c2p(H.y)-M)-U,1-3/U)},C=n.quadrature(u,y),S=!1,D,T,P=0;P<f.length;P++){D=f[P];for(var A=0;A<(D.pts||[]).length;A++){T=D.pts[A];var a=C(T);a<=r.distance&&(r.distance=a,S=[P,A])}}if(!S)return!1;D=f[S[0]],T=D.pts[S[1]];var R=v.c2p(T.x,!0),b=c.c2p(T.y,!0),N=T.mrc||1;g=E.extendFlat({},r,{index:T.i,color:(x.marker||{}).color,name:x.name,x0:R-N,x1:R+N,y0:b-N,y1:b+N,spikeDistance:r.distance,hovertemplate:x.hovertemplate});var O=D.orig_p,Y=O!==void 0?O:D.pos,B;x.orientation==="h"?(B=c,g.xLabelVal=T.x,g.yLabelVal=Y):(B=v,g.xLabelVal=Y,g.yLabelVal=T.y);var W=B._id.charAt(0);return g[W+"Spike"]=B.c2p(D.pos,!0),w(T,x,g),g}k.exports={hoverPoints:p,hoverOnBoxes:m,hoverOnPoints:t}},83832:function(k,F,e){k.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(k){k.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(k,F,e){var h=e(73972),E=e(71828),n=e(40094);function L(p,m,t,r,l){for(var i=l+"Layout",f=!1,v=0;v<t.length;v++){var c=t[v];if(h.traceIs(c,i)){f=!0;break}}f&&(r(l+"mode"),r(l+"gap"),r(l+"groupgap"))}function w(p,m,t){function r(l,i){return E.coerce(p,m,n,l,i)}L(p,m,t,r,"box")}k.exports={supplyLayoutDefaults:w,_supply:L}},86047:function(k,F,e){var h=e(39898),E=e(71828),n=e(91424),L=5,w=.01;function p(l,i,f,v){var c=l._context.staticPlot,x=i.xaxis,d=i.yaxis;E.makeTraceGroups(v,f,"trace boxes").each(function(M){var g=h.select(this),u=M[0],y=u.t,C=u.trace;if(y.wdPos=y.bdPos*C.whiskerwidth,C.visible!==!0||y.empty){g.remove();return}var S,D;C.orientation==="h"?(S=d,D=x):(S=x,D=d),m(g,{pos:S,val:D},C,y,c),t(g,{x,y:d},C,y),r(g,{pos:S,val:D},C,y)})}function m(l,i,f,v,c){var x=f.orientation==="h",d=i.val,M=i.pos,g=!!M.rangebreaks,u=v.bPos,y=v.wdPos||0,C=v.bPosPxOffset||0,S=f.whiskerwidth||0,D=f.showwhiskers!==!1,T=f.notched||!1,P=T?1-2*f.notchwidth:1,A,a;Array.isArray(v.bdPos)?(A=v.bdPos[0],a=v.bdPos[1]):(A=v.bdPos,a=v.bdPos);var R=l.selectAll("path.box").data(f.type!=="violin"||f.box.visible?E.identity:[]);R.enter().append("path").style("vector-effect",c?"none":"non-scaling-stroke").attr("class","box"),R.exit().remove(),R.each(function(b){if(b.empty)return"M0,0Z";var N=M.c2l(b.pos+u,!0),O=M.l2p(N-A)+C,Y=M.l2p(N+a)+C,B=g?(O+Y)/2:M.l2p(N)+C,W=f.whiskerwidth,H=g?O*W+(1-W)*B:M.l2p(N-y)+C,U=g?Y*W+(1-W)*B:M.l2p(N+y)+C,G=M.l2p(N-A*P)+C,j=M.l2p(N+a*P)+C,re=f.sizemode==="sd",ae=d.c2p(re?b.mean-b.sd:b.q1,!0),ue=re?d.c2p(b.mean+b.sd,!0):d.c2p(b.q3,!0),de=E.constrain(re?d.c2p(b.mean,!0):d.c2p(b.med,!0),Math.min(ae,ue)+1,Math.max(ae,ue)-1),ee=b.lf===void 0||f.boxpoints===!1||re,X=d.c2p(ee?b.min:b.lf,!0),Q=d.c2p(ee?b.max:b.uf,!0),$=d.c2p(b.ln,!0),ne=d.c2p(b.un,!0);x?h.select(this).attr("d","M"+de+","+G+"V"+j+"M"+ae+","+O+"V"+Y+(T?"H"+$+"L"+de+","+j+"L"+ne+","+Y:"")+"H"+ue+"V"+O+(T?"H"+ne+"L"+de+","+G+"L"+$+","+O:"")+"Z"+(D?"M"+ae+","+B+"H"+X+"M"+ue+","+B+"H"+Q+(S===0?"":"M"+X+","+H+"V"+U+"M"+Q+","+H+"V"+U):"")):h.select(this).attr("d","M"+G+","+de+"H"+j+"M"+O+","+ae+"H"+Y+(T?"V"+$+"L"+j+","+de+"L"+Y+","+ne:"")+"V"+ue+"H"+O+(T?"V"+ne+"L"+G+","+de+"L"+O+","+$:"")+"Z"+(D?"M"+B+","+ae+"V"+X+"M"+B+","+ue+"V"+Q+(S===0?"":"M"+H+","+X+"H"+U+"M"+H+","+Q+"H"+U):""))})}function t(l,i,f,v){var c=i.x,x=i.y,d=v.bdPos,M=v.bPos,g=f.boxpoints||f.points;E.seedPseudoRandom();var u=function(S){return S.forEach(function(D){D.t=v,D.trace=f}),S},y=l.selectAll("g.points").data(g?u:[]);y.enter().append("g").attr("class","points"),y.exit().remove();var C=y.selectAll("path").data(function(S){var D,T=S.pts2,P=Math.max((S.max-S.min)/10,S.q3-S.q1),A=P*1e-9,a=P*w,R=[],b=0,N;if(f.jitter){if(P===0)for(b=1,R=new Array(T.length),D=0;D<T.length;D++)R[D]=1;else for(D=0;D<T.length;D++){var O=Math.max(0,D-L),Y=T[O].v,B=Math.min(T.length-1,D+L),W=T[B].v;g!=="all"&&(T[D].v<S.lf?W=Math.min(W,S.lf):Y=Math.max(Y,S.uf));var H=Math.sqrt(a*(B-O)/(W-Y+A))||0;H=E.constrain(Math.abs(H),0,1),R.push(H),b=Math.max(H,b)}N=f.jitter*2/(b||1)}for(D=0;D<T.length;D++){var U=T[D],G=U.v,j=f.jitter?N*R[D]*(E.pseudoRandom()-.5):0,re=S.pos+M+d*(f.pointpos+j);f.orientation==="h"?(U.y=re,U.x=G):(U.x=re,U.y=G),g==="suspectedoutliers"&&G<S.uo&&G>S.lo&&(U.so=!0)}return T});C.enter().append("path").classed("point",!0),C.exit().remove(),C.call(n.translatePoints,c,x)}function r(l,i,f,v){var c=i.val,x=i.pos,d=!!x.rangebreaks,M=v.bPos,g=v.bPosPxOffset||0,u=f.boxmean||(f.meanline||{}).visible,y,C;Array.isArray(v.bdPos)?(y=v.bdPos[0],C=v.bdPos[1]):(y=v.bdPos,C=v.bdPos);var S=l.selectAll("path.mean").data(f.type==="box"&&f.boxmean||f.type==="violin"&&f.box.visible&&f.meanline.visible?E.identity:[]);S.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),S.exit().remove(),S.each(function(D){var T=x.c2l(D.pos+M,!0),P=x.l2p(T-y)+g,A=x.l2p(T+C)+g,a=d?(P+A)/2:x.l2p(T)+g,R=c.c2p(D.mean,!0),b=c.c2p(D.mean-D.sd,!0),N=c.c2p(D.mean+D.sd,!0);f.orientation==="h"?h.select(this).attr("d","M"+R+","+P+"V"+A+(u==="sd"?"m0,0L"+b+","+a+"L"+R+","+P+"L"+N+","+a+"Z":"")):h.select(this).attr("d","M"+P+","+R+"H"+A+(u==="sd"?"m0,0L"+a+","+b+"L"+P+","+R+"L"+a+","+N+"Z":""))})}k.exports={plot:p,plotBoxAndWhiskers:m,plotPoints:t,plotBoxMean:r}},24626:function(k){k.exports=function(e,h){var E=e.cd,n=e.xaxis,L=e.yaxis,w=[],p,m;if(h===!1)for(p=0;p<E.length;p++)for(m=0;m<(E[p].pts||[]).length;m++)E[p].pts[m].selected=0;else for(p=0;p<E.length;p++)for(m=0;m<(E[p].pts||[]).length;m++){var t=E[p].pts[m],r=n.c2p(t.x),l=L.c2p(t.y);h.contains([r,l],null,t.i,e)?(w.push({pointNumber:t.i,x:n.c2d(t.x),y:L.c2d(t.y)}),t.selected=1):t.selected=0}return w}},58063:function(k,F,e){var h=e(39898),E=e(7901),n=e(91424);function L(p,m,t){var r=t||h.select(p).selectAll("g.trace.boxes");r.style("opacity",function(l){return l[0].trace.opacity}),r.each(function(l){var i=h.select(this),f=l[0].trace,v=f.line.width;function c(M,g,u,y){M.style("stroke-width",g+"px").call(E.stroke,u).call(E.fill,y)}var x=i.selectAll("path.box");if(f.type==="candlestick")x.each(function(M){if(!M.empty){var g=h.select(this),u=f[M.dir];c(g,u.line.width,u.line.color,u.fillcolor),g.style("opacity",f.selectedpoints&&!M.selected?.3:1)}});else{c(x,v,f.line.color,f.fillcolor),i.selectAll("path.mean").style({"stroke-width":v,"stroke-dasharray":2*v+"px,"+v+"px"}).call(E.stroke,f.line.color);var d=i.selectAll("path.point");n.pointStyle(d,f,p)}})}function w(p,m,t){var r=m[0].trace,l=t.selectAll("path.point");r.selectedpoints?n.selectedPointStyle(l,r):n.pointStyle(l,r,p)}k.exports={style:L,styleOnSelect:w}},75343:function(k,F,e){var h=e(71828).extendFlat,E=e(12663).axisHoverFormat,n=e(2522),L=e(53522);function w(p){return{line:{color:h({},L.line.color,{dflt:p}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}k.exports={xperiod:n.xperiod,xperiod0:n.xperiod0,xperiodalignment:n.xperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),x:n.x,open:n.open,high:n.high,low:n.low,close:n.close,line:{width:h({},L.line.width,{}),editType:"style"},increasing:w(n.increasing.line.color.dflt),decreasing:w(n.decreasing.line.color.dflt),text:n.text,hovertext:n.hovertext,whiskerwidth:h({},L.whiskerwidth,{dflt:0}),hoverlabel:n.hoverlabel}},41197:function(k,F,e){var h=e(71828),E=e(89298),n=e(42973),L=e(3485).calcCommon;k.exports=function(p,m){var t=p._fullLayout,r=E.getFromId(p,m.xaxis),l=E.getFromId(p,m.yaxis),i=r.makeCalcdata(m,"x"),f=n(m,r,"x",i).vals,v=L(p,m,i,f,l,w);return v.length?(h.extendFlat(v[0].t,{num:t._numBoxes,dPos:h.distinctVals(f).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,v):[{t:{empty:!0}}]};function w(p,m,t,r){return{min:t,q1:Math.min(p,r),med:r,q3:Math.max(p,r),max:m}}},1026:function(k,F,e){var h=e(71828),E=e(7901),n=e(14555),L=e(73927),w=e(75343);k.exports=function(t,r,l,i){function f(c,x){return h.coerce(t,r,w,c,x)}var v=n(t,r,f,i);if(!v){r.visible=!1;return}L(t,r,i,f,{x:!0}),f("xhoverformat"),f("yhoverformat"),f("line.width"),p(t,r,f,"increasing"),p(t,r,f,"decreasing"),f("text"),f("hovertext"),f("whiskerwidth"),i._requestRangeslider[r.xaxis]=!0};function p(m,t,r,l){var i=r(l+".line.color");r(l+".line.width",t.line.width),r(l+".fillcolor",E.addOpacity(i,.5))}},91815:function(k,F,e){k.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(k,F,e){var h=e(11500),E=e(44467);k.exports=function(w,p,m,t,r){var l=t("a");l||(t("da"),t("a0"));var i=t("b");i||(t("db"),t("b0")),n(w,p,m,r)};function n(L,w,p,m){var t=["aaxis","baxis"];t.forEach(function(r){var l=r.charAt(0),i=L[r]||{},f=E.newContainer(w,r),v={noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:w.font,name:r,data:L[l],calendar:w.calendar,dfltColor:m,bgColor:p.paper_bgcolor,autotypenumbersDflt:p.autotypenumbers,fullLayout:p};h(i,f,v),f._categories=f._categories||[],!L[r]&&i.type!=="-"&&(L[r]={type:i.type})})}},402:function(k,F,e){var h=e(71828).isArrayOrTypedArray;k.exports=function(n){return E(n,0)};function E(n,L){if(!h(n)||L>=10)return null;for(var w=1/0,p=-1/0,m=n.length,t=0;t<m;t++){var r=n[t];if(h(r)){var l=E(r,L+1);l&&(w=Math.min(l[0],w),p=Math.max(l[1],p))}else w=Math.min(r,w),p=Math.max(r,p)}return[w,p]}},99798:function(k,F,e){var h=e(41940),E=e(1928),n=e(22399),L=h({editType:"calc"});L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=n.defaultLine,k.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:E,baxis:E,font:L,color:{valType:"color",dflt:n.defaultLine,editType:"plot"},transforms:void 0}},4536:function(k,F,e){var h=e(71828).isArrayOrTypedArray;k.exports=function(E,n,L,w){var p,m,t,r,l,i,f,v,c,x,d,M,g,u=h(L)?"a":"b",y=u==="a"?E.aaxis:E.baxis,C=y.smoothing,S=u==="a"?E.a2i:E.b2j,D=u==="a"?L:w,T=u==="a"?w:L,P=u==="a"?n.a.length:n.b.length,A=u==="a"?n.b.length:n.a.length,a=Math.floor(u==="a"?E.b2j(T):E.a2i(T)),R=u==="a"?function(ae){return E.evalxy([],ae,a)}:function(ae){return E.evalxy([],a,ae)};C&&(t=Math.max(0,Math.min(A-2,a)),r=a-t,m=u==="a"?function(ae,ue){return E.dxydi([],ae,t,ue,r)}:function(ae,ue){return E.dxydj([],t,ae,r,ue)});var b=S(D[0]),N=S(D[1]),O=b<N?1:-1,Y=(N-b)*1e-8,B=O>0?Math.floor:Math.ceil,W=O>0?Math.ceil:Math.floor,H=O>0?Math.min:Math.max,U=O>0?Math.max:Math.min,G=B(b+Y),j=W(N-Y);f=R(b);var re=[[f]];for(p=G;p*O<j*O;p+=O)l=[],d=U(b,p),M=H(N,p+O),g=M-d,i=Math.max(0,Math.min(P-2,Math.floor(.5*(d+M)))),v=R(M),C&&(c=m(i,d-i),x=m(i,M-i),l.push([f[0]+c[0]/3*g,f[1]+c[1]/3*g]),l.push([v[0]-x[0]/3*g,v[1]-x[1]/3*g])),l.push(v),re.push(l),f=v;return re}},1928:function(k,F,e){var h=e(41940),E=e(22399),n=e(13838),L=e(12663).descriptionWithDates,w=e(30962).overrideAll,p=e(79952).P,m=e(1426).extendFlat;k.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:h({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:n.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:m({},n.labelalias,{editType:"calc"}),tickfont:h({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:w(n.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:m({},p,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:m({},p,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:E.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:h({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(k,F,e){var h=e(99798),E=e(7901).addOpacity,n=e(73972),L=e(71828),w=e(26218),p=e(96115),m=e(89426),t=e(15258),r=e(21994),l=e(4322);k.exports=function(v,c,x){var d=x.letter,M=x.font||{},g=h[d+"axis"];function u(G,j){return L.coerce(v,c,g,G,j)}function y(G,j){return L.coerce2(v,c,g,G,j)}x.name&&(c._name=x.name,c._id=x.name),u("autotypenumbers",x.autotypenumbersDflt);var C=u("type");if(C==="-"&&(x.data&&i(c,x.data),c.type==="-"?c.type="linear":C=v.type=c.type),u("smoothing"),u("cheatertype"),u("showticklabels"),u("labelprefix",d+" = "),u("labelsuffix"),u("showtickprefix"),u("showticksuffix"),u("separatethousands"),u("tickformat"),u("exponentformat"),u("minexponent"),u("showexponent"),u("categoryorder"),u("tickmode"),u("tickvals"),u("ticktext"),u("tick0"),u("dtick"),c.tickmode==="array"&&(u("arraytick0"),u("arraydtick")),u("labelpadding"),c._hovertitle=d,C==="date"){var S=n.getComponentMethod("calendars","handleDefaults");S(v,c,"calendar",x.calendar)}r(c,x.fullLayout),c.c2p=L.identity;var D=u("color",x.dfltColor),T=D===v.color?D:M.color,P=u("title.text");P&&(L.coerceFont(u,"title.font",{family:M.family,size:L.bigFont(M.size),color:T}),u("title.offset")),u("tickangle");var A=u("autorange",!c.isValidRange(v.range));A&&u("rangemode"),u("range"),c.cleanRange(),u("fixedrange"),w(v,c,u,C),m(v,c,u,C,x),p(v,c,u,C,x),t(v,c,u,{data:x.data,dataAttr:d});var a=y("gridcolor",E(D,.3)),R=y("gridwidth"),b=y("griddash"),N=u("showgrid");N||(delete c.gridcolor,delete c.gridwidth,delete c.griddash);var O=y("startlinecolor",D),Y=y("startlinewidth",R),B=u("startline",c.showgrid||!!O||!!Y);B||(delete c.startlinecolor,delete c.startlinewidth);var W=y("endlinecolor",D),H=y("endlinewidth",R),U=u("endline",c.showgrid||!!W||!!H);return U||(delete c.endlinecolor,delete c.endlinewidth),N?(u("minorgridcount"),u("minorgridwidth",R),u("minorgriddash",b),u("minorgridcolor",E(a,.06)),c.minorgridcount||(delete c.minorgridwidth,delete c.minorgriddash,delete c.minorgridcolor)):(delete c.gridcolor,delete c.gridwidth,delete c.griddash),c.showticklabels==="none"&&(delete c.tickfont,delete c.tickangle,delete c.showexponent,delete c.exponentformat,delete c.minexponent,delete c.tickformat,delete c.showticksuffix,delete c.showtickprefix),c.showticksuffix||delete c.ticksuffix,c.showtickprefix||delete c.tickprefix,u("tickmode"),c};function i(f,v){if(f.type==="-"){var c=f._id,x=c.charAt(0),d=x+"calendar",M=f[d];f.type=l(v,M,{autotypenumbers:f.autotypenumbers})}}},25281:function(k,F,e){var h=e(89298),E=e(71828).isArray1D,n=e(53824),L=e(402),w=e(20347),p=e(83311),m=e(44807),t=e(4742),r=e(72505),l=e(68296),i=e(11435);k.exports=function(v,c){var x=h.getFromId(v,c.xaxis),d=h.getFromId(v,c.yaxis),M=c.aaxis,g=c.baxis,u=c.x,y=c.y,C=[];u&&E(u)&&C.push("x"),y&&E(y)&&C.push("y"),C.length&&l(c,M,g,"a","b",C);var S=c._a=c._a||c.a,D=c._b=c._b||c.b;u=c._x||c.x,y=c._y||c.y;var T={};if(c._cheater){var P=M.cheatertype==="index"?S.length:S,A=g.cheatertype==="index"?D.length:D;u=n(P,A,c.cheaterslope)}c._x=u=t(u),c._y=y=t(y),r(u,S,D),r(y,S,D),i(c),c.setScale();var a=L(u),R=L(y),b=.5*(a[1]-a[0]),N=.5*(a[1]+a[0]),O=.5*(R[1]-R[0]),Y=.5*(R[1]+R[0]),B=1.3;return a=[N-b*B,N+b*B],R=[Y-O*B,Y+O*B],c._extremes[x._id]=h.findExtremes(x,a,{padded:!0}),c._extremes[d._id]=h.findExtremes(d,R,{padded:!0}),w(c,"a","b"),w(c,"b","a"),p(c,M),p(c,g),T.clipsegments=m(c._xctrl,c._yctrl,M,g),T.x=u,T.y=y,T.a=S,T.b=D,[T]}},44807:function(k){k.exports=function(e,h,E,n){var L,w,p,m=[],t=!!E.smoothing,r=!!n.smoothing,l=e[0].length-1,i=e.length-1;for(L=0,w=[],p=[];L<=l;L++)w[L]=e[0][L],p[L]=h[0][L];for(m.push({x:w,y:p,bicubic:t}),L=0,w=[],p=[];L<=i;L++)w[L]=e[L][l],p[L]=h[L][l];for(m.push({x:w,y:p,bicubic:r}),L=l,w=[],p=[];L>=0;L--)w[l-L]=e[i][L],p[l-L]=h[i][L];for(m.push({x:w,y:p,bicubic:t}),L=i,w=[],p=[];L>=0;L--)w[i-L]=e[L][0],p[i-L]=h[L][0];return m.push({x:w,y:p,bicubic:r}),m}},20347:function(k,F,e){var h=e(89298),E=e(1426).extendFlat;k.exports=function(L,w,p){var m,t,r,l,i,f,v,c,x,d,M,g,u,y,C=L["_"+w],S=L[w+"axis"],D=S._gridlines=[],T=S._minorgridlines=[],P=S._boundarylines=[],A=L["_"+p],a=L[p+"axis"];S.tickmode==="array"&&(S.tickvals=C.slice());var R=L._xctrl,b=L._yctrl,N=R[0].length,O=R.length,Y=L._a.length,B=L._b.length;h.prepTicks(S),S.tickmode==="array"&&delete S.tickvals;var W=S.smoothing?3:1;function H(G){var j,re,ae,ue,de,ee,X,Q,$,ne,fe,te,q=[],he=[],se={};if(w==="b")for(re=L.b2j(G),ae=Math.floor(Math.max(0,Math.min(B-2,re))),ue=re-ae,se.length=B,se.crossLength=Y,se.xy=function(pe){return L.evalxy([],pe,re)},se.dxy=function(pe,we){return L.dxydi([],pe,ae,we,ue)},j=0;j<Y;j++)ee=Math.min(Y-2,j),X=j-ee,Q=L.evalxy([],j,re),a.smoothing&&j>0&&($=L.dxydi([],j-1,ae,0,ue),q.push(de[0]+$[0]/3),he.push(de[1]+$[1]/3),ne=L.dxydi([],j-1,ae,1,ue),q.push(Q[0]-ne[0]/3),he.push(Q[1]-ne[1]/3)),q.push(Q[0]),he.push(Q[1]),de=Q;else for(j=L.a2i(G),ee=Math.floor(Math.max(0,Math.min(Y-2,j))),X=j-ee,se.length=Y,se.crossLength=B,se.xy=function(pe){return L.evalxy([],j,pe)},se.dxy=function(pe,we){return L.dxydj([],ee,pe,X,we)},re=0;re<B;re++)ae=Math.min(B-2,re),ue=re-ae,Q=L.evalxy([],j,re),a.smoothing&&re>0&&(fe=L.dxydj([],ee,re-1,X,0),q.push(de[0]+fe[0]/3),he.push(de[1]+fe[1]/3),te=L.dxydj([],ee,re-1,X,1),q.push(Q[0]-te[0]/3),he.push(Q[1]-te[1]/3)),q.push(Q[0]),he.push(Q[1]),de=Q;return se.axisLetter=w,se.axis=S,se.crossAxis=a,se.value=G,se.constvar=p,se.index=c,se.x=q,se.y=he,se.smoothing=a.smoothing,se}function U(G){var j,re,ae,ue,de,ee=[],X=[],Q={};if(Q.length=C.length,Q.crossLength=A.length,w==="b")for(ae=Math.max(0,Math.min(B-2,G)),de=Math.min(1,Math.max(0,G-ae)),Q.xy=function($){return L.evalxy([],$,G)},Q.dxy=function($,ne){return L.dxydi([],$,ae,ne,de)},j=0;j<N;j++)ee[j]=R[G*W][j],X[j]=b[G*W][j];else for(re=Math.max(0,Math.min(Y-2,G)),ue=Math.min(1,Math.max(0,G-re)),Q.xy=function($){return L.evalxy([],G,$)},Q.dxy=function($,ne){return L.dxydj([],re,$,ue,ne)},j=0;j<O;j++)ee[j]=R[j][G*W],X[j]=b[j][G*W];return Q.axisLetter=w,Q.axis=S,Q.crossAxis=a,Q.value=C[G],Q.constvar=p,Q.index=G,Q.x=ee,Q.y=X,Q.smoothing=a.smoothing,Q}if(S.tickmode==="array"){for(l=5e-15,i=[Math.floor((C.length-1-S.arraytick0)/S.arraydtick*(1+l)),Math.ceil(-S.arraytick0/S.arraydtick/(1+l))].sort(function(G,j){return G-j}),f=i[0]-1,v=i[1]+1,c=f;c<v;c++)t=S.arraytick0+S.arraydtick*c,!(t<0||t>C.length-1)&&D.push(E(U(t),{color:S.gridcolor,width:S.gridwidth,dash:S.griddash}));for(c=f;c<v;c++)if(r=S.arraytick0+S.arraydtick*c,M=Math.min(r+S.arraydtick,C.length-1),!(r<0||r>C.length-1)&&!(M<0||M>C.length-1))for(g=C[r],u=C[M],m=0;m<S.minorgridcount;m++)y=M-r,!(y<=0)&&(d=g+(u-g)*(m+1)/(S.minorgridcount+1)*(S.arraydtick/y),!(d<C[0]||d>C[C.length-1])&&T.push(E(H(d),{color:S.minorgridcolor,width:S.minorgridwidth,dash:S.minorgriddash})));S.startline&&P.push(E(U(0),{color:S.startlinecolor,width:S.startlinewidth})),S.endline&&P.push(E(U(C.length-1),{color:S.endlinecolor,width:S.endlinewidth}))}else{for(l=5e-15,i=[Math.floor((C[C.length-1]-S.tick0)/S.dtick*(1+l)),Math.ceil((C[0]-S.tick0)/S.dtick/(1+l))].sort(function(G,j){return G-j}),f=i[0],v=i[1],c=f;c<=v;c++)x=S.tick0+S.dtick*c,D.push(E(H(x),{color:S.gridcolor,width:S.gridwidth,dash:S.griddash}));for(c=f-1;c<v+1;c++)for(x=S.tick0+S.dtick*c,m=0;m<S.minorgridcount;m++)d=x+S.dtick*(m+1)/(S.minorgridcount+1),!(d<C[0]||d>C[C.length-1])&&T.push(E(H(d),{color:S.minorgridcolor,width:S.minorgridwidth,dash:S.minorgriddash}));S.startline&&P.push(E(H(C[0]),{color:S.startlinecolor,width:S.startlinewidth})),S.endline&&P.push(E(H(C[C.length-1]),{color:S.endlinecolor,width:S.endlinewidth}))}}},83311:function(k,F,e){var h=e(89298),E=e(1426).extendFlat;k.exports=function(L,w){var p,m,t,r,l,i=w._labels=[],f=w._gridlines;for(p=0;p<f.length;p++)l=f[p],["start","both"].indexOf(w.showticklabels)!==-1&&(m=h.tickText(w,l.value),E(m,{prefix:t,suffix:r,endAnchor:!0,xy:l.xy(0),dxy:l.dxy(0,0),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:p===0,isLast:p===f.length-1}),i.push(m)),["end","both"].indexOf(w.showticklabels)!==-1&&(m=h.tickText(w,l.value),E(m,{endAnchor:!1,xy:l.xy(l.crossLength-1),dxy:l.dxy(l.crossLength-2,1),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:p===0,isLast:p===f.length-1}),i.push(m))}},42048:function(k){var F=.5;k.exports=function(h,E,n,L){var w=h[0]-E[0],p=h[1]-E[1],m=n[0]-E[0],t=n[1]-E[1],r=Math.pow(w*w+p*p,F/2),l=Math.pow(m*m+t*t,F/2),i=(l*l*w-r*r*m)*L,f=(l*l*p-r*r*t)*L,v=l*(r+l)*3,c=r*(r+l)*3;return[[E[0]+(v&&i/v),E[1]+(v&&f/v)],[E[0]-(c&&i/c),E[1]-(c&&f/c)]]}},53824:function(k,F,e){var h=e(71828).isArrayOrTypedArray;k.exports=function(E,n,L){var w,p,m,t,r,l,i=[],f=h(E)?E.length:E,v=h(n)?n.length:n,c=h(E)?E:null,x=h(n)?n:null;c&&(m=(c.length-1)/(c[c.length-1]-c[0])/(f-1)),x&&(t=(x.length-1)/(x[x.length-1]-x[0])/(v-1));var d,M=1/0,g=-1/0;for(p=0;p<v;p++)for(i[p]=[],l=x?(x[p]-x[0])*t:p/(v-1),w=0;w<f;w++)r=c?(c[w]-c[0])*m:w/(f-1),d=r-l*L,M=Math.min(d,M),g=Math.max(d,g),i[p][w]=d;var u=1/(g-M),y=-M*u;for(p=0;p<v;p++)for(w=0;w<f;w++)i[p][w]=u*i[p][w]+y;return i}},45664:function(k,F,e){var h=e(42048),E=e(71828).ensureArray;function n(L,w,p){var m=-.5*p[0]+1.5*w[0],t=-.5*p[1]+1.5*w[1];return[(2*m+L[0])/3,(2*t+L[1])/3]}k.exports=function(w,p,m,t,r,l){var i,f,v,c,x,d,M,g,u,y,C=m[0].length,S=m.length,D=r?3*C-2:C,T=l?3*S-2:S;for(w=E(w,T),p=E(p,T),v=0;v<T;v++)w[v]=E(w[v],D),p[v]=E(p[v],D);for(f=0,c=0;f<S;f++,c+=l?3:1)for(x=w[c],d=p[c],M=m[f],g=t[f],i=0,v=0;i<C;i++,v+=r?3:1)x[v]=M[i],d[v]=g[i];if(r)for(f=0,c=0;f<S;f++,c+=l?3:1){for(i=1,v=3;i<C-1;i++,v+=3)u=h([m[f][i-1],t[f][i-1]],[m[f][i],t[f][i]],[m[f][i+1],t[f][i+1]],r),w[c][v-1]=u[0][0],p[c][v-1]=u[0][1],w[c][v+1]=u[1][0],p[c][v+1]=u[1][1];y=n([w[c][0],p[c][0]],[w[c][2],p[c][2]],[w[c][3],p[c][3]]),w[c][1]=y[0],p[c][1]=y[1],y=n([w[c][D-1],p[c][D-1]],[w[c][D-3],p[c][D-3]],[w[c][D-4],p[c][D-4]]),w[c][D-2]=y[0],p[c][D-2]=y[1]}if(l)for(v=0;v<D;v++){for(c=3;c<T-3;c+=3)u=h([w[c-3][v],p[c-3][v]],[w[c][v],p[c][v]],[w[c+3][v],p[c+3][v]],l),w[c-1][v]=u[0][0],p[c-1][v]=u[0][1],w[c+1][v]=u[1][0],p[c+1][v]=u[1][1];y=n([w[0][v],p[0][v]],[w[2][v],p[2][v]],[w[3][v],p[3][v]]),w[1][v]=y[0],p[1][v]=y[1],y=n([w[T-1][v],p[T-1][v]],[w[T-3][v],p[T-3][v]],[w[T-4][v],p[T-4][v]]),w[T-2][v]=y[0],p[T-2][v]=y[1]}if(r&&l)for(c=1;c<T;c+=(c+1)%3===0?2:1){for(v=3;v<D-3;v+=3)u=h([w[c][v-3],p[c][v-3]],[w[c][v],p[c][v]],[w[c][v+3],p[c][v+3]],r),w[c][v-1]=.5*(w[c][v-1]+u[0][0]),p[c][v-1]=.5*(p[c][v-1]+u[0][1]),w[c][v+1]=.5*(w[c][v+1]+u[1][0]),p[c][v+1]=.5*(p[c][v+1]+u[1][1]);y=n([w[c][0],p[c][0]],[w[c][2],p[c][2]],[w[c][3],p[c][3]]),w[c][1]=.5*(w[c][1]+y[0]),p[c][1]=.5*(p[c][1]+y[1]),y=n([w[c][D-1],p[c][D-1]],[w[c][D-3],p[c][D-3]],[w[c][D-4],p[c][D-4]]),w[c][D-2]=.5*(w[c][D-2]+y[0]),p[c][D-2]=.5*(p[c][D-2]+y[1])}return[w,p]}},35509:function(k){k.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(k){k.exports=function(F,e,h){return e&&h?function(E,n,L,w,p){E||(E=[]);var m,t,r,l,i,f;n*=3,L*=3;var v=w*w,c=1-w,x=c*c,d=c*w*2,M=-3*x,g=3*(x-d),u=3*(d-v),y=3*v,C=p*p,S=C*p,D=1-p,T=D*D,P=T*D;for(f=0;f<F.length;f++)i=F[f],m=M*i[L][n]+g*i[L][n+1]+u*i[L][n+2]+y*i[L][n+3],t=M*i[L+1][n]+g*i[L+1][n+1]+u*i[L+1][n+2]+y*i[L+1][n+3],r=M*i[L+2][n]+g*i[L+2][n+1]+u*i[L+2][n+2]+y*i[L+2][n+3],l=M*i[L+3][n]+g*i[L+3][n+1]+u*i[L+3][n+2]+y*i[L+3][n+3],E[f]=P*m+3*(T*p*t+D*C*r)+S*l;return E}:e?function(E,n,L,w,p){E||(E=[]);var m,t,r,l;n*=3;var i=w*w,f=1-w,v=f*f,c=f*w*2,x=-3*v,d=3*(v-c),M=3*(c-i),g=3*i,u=1-p;for(r=0;r<F.length;r++)l=F[r],m=x*l[L][n]+d*l[L][n+1]+M*l[L][n+2]+g*l[L][n+3],t=x*l[L+1][n]+d*l[L+1][n+1]+M*l[L+1][n+2]+g*l[L+1][n+3],E[r]=u*m+p*t;return E}:h?function(E,n,L,w,p){E||(E=[]);var m,t,r,l,i,f;L*=3;var v=p*p,c=v*p,x=1-p,d=x*x,M=d*x;for(i=0;i<F.length;i++)f=F[i],m=f[L][n+1]-f[L][n],t=f[L+1][n+1]-f[L+1][n],r=f[L+2][n+1]-f[L+2][n],l=f[L+3][n+1]-f[L+3][n],E[i]=M*m+3*(d*p*t+x*v*r)+c*l;return E}:function(E,n,L,w,p){E||(E=[]);var m,t,r,l,i=1-p;for(r=0;r<F.length;r++)l=F[r],m=l[L][n+1]-l[L][n],t=l[L+1][n+1]-l[L+1][n],E[r]=i*m+p*t;return E}}},73057:function(k){k.exports=function(F,e,h){return e&&h?function(E,n,L,w,p){E||(E=[]);var m,t,r,l,i,f;n*=3,L*=3;var v=w*w,c=v*w,x=1-w,d=x*x,M=d*x,g=p*p,u=1-p,y=u*u,C=u*p*2,S=-3*y,D=3*(y-C),T=3*(C-g),P=3*g;for(f=0;f<F.length;f++)i=F[f],m=S*i[L][n]+D*i[L+1][n]+T*i[L+2][n]+P*i[L+3][n],t=S*i[L][n+1]+D*i[L+1][n+1]+T*i[L+2][n+1]+P*i[L+3][n+1],r=S*i[L][n+2]+D*i[L+1][n+2]+T*i[L+2][n+2]+P*i[L+3][n+2],l=S*i[L][n+3]+D*i[L+1][n+3]+T*i[L+2][n+3]+P*i[L+3][n+3],E[f]=M*m+3*(d*w*t+x*v*r)+c*l;return E}:e?function(E,n,L,w,p){E||(E=[]);var m,t,r,l,i,f;n*=3;var v=p*p,c=v*p,x=1-p,d=x*x,M=d*x;for(i=0;i<F.length;i++)f=F[i],m=f[L+1][n]-f[L][n],t=f[L+1][n+1]-f[L][n+1],r=f[L+1][n+2]-f[L][n+2],l=f[L+1][n+3]-f[L][n+3],E[i]=M*m+3*(d*p*t+x*v*r)+c*l;return E}:h?function(E,n,L,w,p){E||(E=[]);var m,t,r,l;L*=3;var i=1-w,f=p*p,v=1-p,c=v*v,x=v*p*2,d=-3*c,M=3*(c-x),g=3*(x-f),u=3*f;for(r=0;r<F.length;r++)l=F[r],m=d*l[L][n]+M*l[L+1][n]+g*l[L+2][n]+u*l[L+3][n],t=d*l[L][n+1]+M*l[L+1][n+1]+g*l[L+2][n+1]+u*l[L+3][n+1],E[r]=i*m+w*t;return E}:function(E,n,L,w,p){E||(E=[]);var m,t,r,l,i=1-w;for(r=0;r<F.length;r++)l=F[r],m=l[L+1][n]-l[L][n],t=l[L+1][n+1]-l[L][n+1],E[r]=i*m+w*t;return E}}},20349:function(k){k.exports=function(F,e,h,E,n){var L=e-2,w=h-2;return E&&n?function(p,m,t){p||(p=[]);var r,l,i,f,v,c,x=Math.max(0,Math.min(Math.floor(m),L)),d=Math.max(0,Math.min(Math.floor(t),w)),M=Math.max(0,Math.min(1,m-x)),g=Math.max(0,Math.min(1,t-d));x*=3,d*=3;var u=M*M,y=u*M,C=1-M,S=C*C,D=S*C,T=g*g,P=T*g,A=1-g,a=A*A,R=a*A;for(c=0;c<F.length;c++)v=F[c],r=D*v[d][x]+3*(S*M*v[d][x+1]+C*u*v[d][x+2])+y*v[d][x+3],l=D*v[d+1][x]+3*(S*M*v[d+1][x+1]+C*u*v[d+1][x+2])+y*v[d+1][x+3],i=D*v[d+2][x]+3*(S*M*v[d+2][x+1]+C*u*v[d+2][x+2])+y*v[d+2][x+3],f=D*v[d+3][x]+3*(S*M*v[d+3][x+1]+C*u*v[d+3][x+2])+y*v[d+3][x+3],p[c]=R*r+3*(a*g*l+A*T*i)+P*f;return p}:E?function(p,m,t){p||(p=[]);var r=Math.max(0,Math.min(Math.floor(m),L)),l=Math.max(0,Math.min(Math.floor(t),w)),i=Math.max(0,Math.min(1,m-r)),f=Math.max(0,Math.min(1,t-l)),v,c,x,d,M,g;r*=3;var u=i*i,y=u*i,C=1-i,S=C*C,D=S*C,T=1-f;for(M=0;M<F.length;M++)g=F[M],v=T*g[l][r]+f*g[l+1][r],c=T*g[l][r+1]+f*g[l+1][r+1],x=T*g[l][r+2]+f*g[l+1][r+1],d=T*g[l][r+3]+f*g[l+1][r+1],p[M]=D*v+3*(S*i*c+C*u*x)+y*d;return p}:n?function(p,m,t){p||(p=[]);var r=Math.max(0,Math.min(Math.floor(m),L)),l=Math.max(0,Math.min(Math.floor(t),w)),i=Math.max(0,Math.min(1,m-r)),f=Math.max(0,Math.min(1,t-l)),v,c,x,d,M,g;l*=3;var u=f*f,y=u*f,C=1-f,S=C*C,D=S*C,T=1-i;for(M=0;M<F.length;M++)g=F[M],v=T*g[l][r]+i*g[l][r+1],c=T*g[l+1][r]+i*g[l+1][r+1],x=T*g[l+2][r]+i*g[l+2][r+1],d=T*g[l+3][r]+i*g[l+3][r+1],p[M]=D*v+3*(S*f*c+C*u*x)+y*d;return p}:function(p,m,t){p||(p=[]);var r=Math.max(0,Math.min(Math.floor(m),L)),l=Math.max(0,Math.min(Math.floor(t),w)),i=Math.max(0,Math.min(1,m-r)),f=Math.max(0,Math.min(1,t-l)),v,c,x,d,M=1-f,g=1-i;for(x=0;x<F.length;x++)d=F[x],v=g*d[l][r]+i*d[l][r+1],c=g*d[l+1][r]+i*d[l+1][r+1],p[x]=M*v+f*c;return p}}},92087:function(k,F,e){var h=e(71828),E=e(19237),n=e(13145),L=e(99798),w=e(22399);k.exports=function(m,t,r,l){function i(c,x){return h.coerce(m,t,L,c,x)}t._clipPathId="clip"+t.uid+"carpet";var f=i("color",w.defaultLine);if(h.coerceFont(i,"font"),i("carpet"),n(m,t,l,i,f),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var v=E(m,t,i);v||(t.visible=!1),t._cheater&&i("cheaterslope")}},21462:function(k,F,e){k.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(k){k.exports=function(F,e){for(var h=F._fullData.length,E,n=0;n<h;n++){var L=F._fullData[n];if(L.index!==e.index&&L.type==="carpet"&&(E||(E=L),L.carpet===e.carpet))return L}return E}},67961:function(k){k.exports=function(e,h,E){if(e.length===0)return"";var n,L=[],w=E?3:1;for(n=0;n<e.length;n+=w)L.push(e[n]+","+h[n]),E&&n<e.length-w&&(L.push("C"),L.push([e[n+1]+","+h[n+1],e[n+2]+","+h[n+2]+" "].join(" ")));return L.join(E?"":"L")}},27669:function(k,F,e){var h=e(71828).isArrayOrTypedArray;k.exports=function(n,L,w){var p;for(h(n)?n.length>L.length&&(n=n.slice(0,L.length)):n=[],p=0;p<L.length;p++)n[p]=w(L[p]);return n}},11651:function(k){k.exports=function(e,h,E,n,L,w){var p=L[0]*e.dpdx(h),m=L[1]*e.dpdy(E),t=1,r=1;if(w){var l=Math.sqrt(L[0]*L[0]+L[1]*L[1]),i=Math.sqrt(w[0]*w[0]+w[1]*w[1]),f=(L[0]*w[0]+L[1]*w[1])/l/i;r=Math.max(0,f)}var v=Math.atan2(m,p)*180/Math.PI;return v<-90?(v+=180,t=-t):v>90&&(v-=180,t=-t),{angle:v,flip:t,p:e.c2p(n,h,E),offsetMultplier:r}}},89740:function(k,F,e){var h=e(39898),E=e(91424),n=e(27669),L=e(67961),w=e(11651),p=e(63893),m=e(71828),t=m.strRotate,r=m.strTranslate,l=e(18783);k.exports=function(u,y,C,S){var D=u._context.staticPlot,T=y.xaxis,P=y.yaxis,A=u._fullLayout,a=A._clips;m.makeTraceGroups(S,C,"trace").each(function(R){var b=h.select(this),N=R[0],O=N.trace,Y=O.aaxis,B=O.baxis,W=m.ensureSingle(b,"g","minorlayer"),H=m.ensureSingle(b,"g","majorlayer"),U=m.ensureSingle(b,"g","boundarylayer"),G=m.ensureSingle(b,"g","labellayer");b.style("opacity",O.opacity),f(T,P,H,Y,"a",Y._gridlines,!0),f(T,P,H,B,"b",B._gridlines,!0),f(T,P,W,Y,"a",Y._minorgridlines,!0),f(T,P,W,B,"b",B._minorgridlines,!0),f(T,P,U,Y,"a-boundary",Y._boundarylines,D),f(T,P,U,B,"b-boundary",B._boundarylines,D);var j=v(u,T,P,O,N,G,Y._labels,"a-label"),re=v(u,T,P,O,N,G,B._labels,"b-label");c(u,G,O,N,T,P,j,re),i(O,N,a,T,P)})};function i(g,u,y,C,S){var D,T,P,A,a=y.select("#"+g._clipPathId);a.size()||(a=y.append("clipPath").classed("carpetclip",!0));var R=m.ensureSingle(a,"path","carpetboundary"),b=u.clipsegments,N=[];for(A=0;A<b.length;A++)D=b[A],T=n([],D.x,C.c2p),P=n([],D.y,S.c2p),N.push(L(T,P,D.bicubic));var O="M"+N.join("L")+"Z";a.attr("id",g._clipPathId),R.attr("d",O)}function f(g,u,y,C,S,D,T){var P="const-"+S+"-lines",A=y.selectAll("."+P).data(D);A.enter().append("path").classed(P,!0).style("vector-effect",T?"none":"non-scaling-stroke"),A.each(function(a){var R=a,b=R.x,N=R.y,O=n([],b,g.c2p),Y=n([],N,u.c2p),B="M"+L(O,Y,R.smoothing),W=h.select(this);W.attr("d",B).style("stroke-width",R.width).style("stroke",R.color).style("stroke-dasharray",E.dashStyle(R.dash,R.width)).style("fill","none")}),A.exit().remove()}function v(g,u,y,C,S,D,T,P){var A=D.selectAll("text."+P).data(T);A.enter().append("text").classed(P,!0);var a=0,R={};return A.each(function(b,N){var O;if(b.axis.tickangle==="auto")O=w(C,u,y,b.xy,b.dxy);else{var Y=(b.axis.tickangle+180)*Math.PI/180;O=w(C,u,y,b.xy,[Math.cos(Y),Math.sin(Y)])}N||(R={angle:O.angle,flip:O.flip});var B=(b.endAnchor?-1:1)*O.flip,W=h.select(this).attr({"text-anchor":B>0?"start":"end","data-notex":1}).call(E.font,b.font).text(b.text).call(p.convertToTspans,g),H=E.bBox(this);W.attr("transform",r(O.p[0],O.p[1])+t(O.angle)+r(b.axis.labelpadding*B,H.height*.3)),a=Math.max(a,H.width+b.axis.labelpadding)}),A.exit().remove(),R.maxExtent=a,R}function c(g,u,y,C,S,D,T,P){var A,a,R,b,N=m.aggNums(Math.min,null,y.a),O=m.aggNums(Math.max,null,y.a),Y=m.aggNums(Math.min,null,y.b),B=m.aggNums(Math.max,null,y.b);A=.5*(N+O),a=Y,R=y.ab2xy(A,a,!0),b=y.dxyda_rough(A,a),T.angle===void 0&&m.extendFlat(T,w(y,S,D,R,y.dxydb_rough(A,a))),M(g,u,y,C,R,b,y.aaxis,S,D,T,"a-title"),A=N,a=.5*(Y+B),R=y.ab2xy(A,a,!0),b=y.dxydb_rough(A,a),P.angle===void 0&&m.extendFlat(P,w(y,S,D,R,y.dxyda_rough(A,a))),M(g,u,y,C,R,b,y.baxis,S,D,P,"b-title")}var x=l.LINE_SPACING,d=(1-l.MID_SHIFT)/x+1;function M(g,u,y,C,S,D,T,P,A,a,R){var b=[];T.title.text&&b.push(T.title.text);var N=u.selectAll("text."+R).data(b),O=a.maxExtent;N.enter().append("text").classed(R,!0),N.each(function(){var Y=w(y,P,A,S,D);["start","both"].indexOf(T.showticklabels)===-1&&(O=0);var B=T.title.font.size;O+=B+T.title.offset;var W=a.angle+(a.flip<0?180:0),H=(W-Y.angle+450)%360,U=H>90&&H<270,G=h.select(this);G.text(T.title.text).call(p.convertToTspans,g),U&&(O=(-p.lineCount(G)+d)*x*B-O),G.attr("transform",r(Y.p[0],Y.p[1])+t(Y.angle)+r(0,O)).attr("text-anchor","middle").call(E.font,T.title.font)}),N.exit().remove()}},11435:function(k,F,e){var h=e(35509),E=e(65888).findBin,n=e(45664),L=e(20349),w=e(54495),p=e(73057);k.exports=function(t){var r=t._a,l=t._b,i=r.length,f=l.length,v=t.aaxis,c=t.baxis,x=r[0],d=r[i-1],M=l[0],g=l[f-1],u=r[r.length-1]-r[0],y=l[l.length-1]-l[0],C=u*h.RELATIVE_CULL_TOLERANCE,S=y*h.RELATIVE_CULL_TOLERANCE;x-=C,d+=C,M-=S,g+=S,t.isVisible=function(D,T){return D>x&&D<d&&T>M&&T<g},t.isOccluded=function(D,T){return D<x||D>d||T<M||T>g},t.setScale=function(){var D=t._x,T=t._y,P=n(t._xctrl,t._yctrl,D,T,v.smoothing,c.smoothing);t._xctrl=P[0],t._yctrl=P[1],t.evalxy=L([t._xctrl,t._yctrl],i,f,v.smoothing,c.smoothing),t.dxydi=w([t._xctrl,t._yctrl],v.smoothing,c.smoothing),t.dxydj=p([t._xctrl,t._yctrl],v.smoothing,c.smoothing)},t.i2a=function(D){var T=Math.max(0,Math.floor(D[0]),i-2),P=D[0]-T;return(1-P)*r[T]+P*r[T+1]},t.j2b=function(D){var T=Math.max(0,Math.floor(D[1]),i-2),P=D[1]-T;return(1-P)*l[T]+P*l[T+1]},t.ij2ab=function(D){return[t.i2a(D[0]),t.j2b(D[1])]},t.a2i=function(D){var T=Math.max(0,Math.min(E(D,r),i-2)),P=r[T],A=r[T+1];return Math.max(0,Math.min(i-1,T+(D-P)/(A-P)))},t.b2j=function(D){var T=Math.max(0,Math.min(E(D,l),f-2)),P=l[T],A=l[T+1];return Math.max(0,Math.min(f-1,T+(D-P)/(A-P)))},t.ab2ij=function(D){return[t.a2i(D[0]),t.b2j(D[1])]},t.i2c=function(D,T){return t.evalxy([],D,T)},t.ab2xy=function(D,T,P){if(!P&&(D<r[0]||D>r[i-1]|T<l[0]||T>l[f-1]))return[!1,!1];var A=t.a2i(D),a=t.b2j(T),R=t.evalxy([],A,a);if(P){var b=0,N=0,O=[],Y,B,W,H;D<r[0]?(Y=0,B=0,b=(D-r[0])/(r[1]-r[0])):D>r[i-1]?(Y=i-2,B=1,b=(D-r[i-1])/(r[i-1]-r[i-2])):(Y=Math.max(0,Math.min(i-2,Math.floor(A))),B=A-Y),T<l[0]?(W=0,H=0,N=(T-l[0])/(l[1]-l[0])):T>l[f-1]?(W=f-2,H=1,N=(T-l[f-1])/(l[f-1]-l[f-2])):(W=Math.max(0,Math.min(f-2,Math.floor(a))),H=a-W),b&&(t.dxydi(O,Y,W,B,H),R[0]+=O[0]*b,R[1]+=O[1]*b),N&&(t.dxydj(O,Y,W,B,H),R[0]+=O[0]*N,R[1]+=O[1]*N)}return R},t.c2p=function(D,T,P){return[T.c2p(D[0]),P.c2p(D[1])]},t.p2x=function(D,T,P){return[T.p2c(D[0]),P.p2c(D[1])]},t.dadi=function(D){var T=Math.max(0,Math.min(r.length-2,D));return r[T+1]-r[T]},t.dbdj=function(D){var T=Math.max(0,Math.min(l.length-2,D));return l[T+1]-l[T]},t.dxyda=function(D,T,P,A){var a=t.dxydi(null,D,T,P,A),R=t.dadi(D,P);return[a[0]/R,a[1]/R]},t.dxydb=function(D,T,P,A){var a=t.dxydj(null,D,T,P,A),R=t.dbdj(T,A);return[a[0]/R,a[1]/R]},t.dxyda_rough=function(D,T,P){var A=u*(P||.1),a=t.ab2xy(D+A,T,!0),R=t.ab2xy(D-A,T,!0);return[(a[0]-R[0])*.5/A,(a[1]-R[1])*.5/A]},t.dxydb_rough=function(D,T,P){var A=y*(P||.1),a=t.ab2xy(D,T+A,!0),R=t.ab2xy(D,T-A,!0);return[(a[0]-R[0])*.5/A,(a[1]-R[1])*.5/A]},t.dpdx=function(D){return D._m},t.dpdy=function(D){return D._m}}},72505:function(k,F,e){var h=e(71828);k.exports=function(n,L,w){var p,m,t,r=[],l=[],i=n[0].length,f=n.length;function v(re,ae){var ue=0,de,ee=0;return re>0&&(de=n[ae][re-1])!==void 0&&(ee++,ue+=de),re<i-1&&(de=n[ae][re+1])!==void 0&&(ee++,ue+=de),ae>0&&(de=n[ae-1][re])!==void 0&&(ee++,ue+=de),ae<f-1&&(de=n[ae+1][re])!==void 0&&(ee++,ue+=de),ue/Math.max(1,ee)}var c=0;for(p=0;p<i;p++)for(m=0;m<f;m++)n[m][p]===void 0&&(r.push(p),l.push(m),n[m][p]=v(p,m)),c=Math.max(c,Math.abs(n[m][p]));if(!r.length)return n;var x,d,M,g,u,y,C,S,D,T,P,A=1e-5,a=0,R=100,b=0,N=r.length;do{for(a=0,t=0;t<N;t++){p=r[t],m=l[t];var O=0,Y=0,B,W,H,U,G,j;p===0?(G=Math.min(i-1,2),H=L[G],U=L[1],B=n[m][G],W=n[m][1],Y+=W+(W-B)*(L[0]-U)/(U-H),O++):p===i-1&&(G=Math.max(0,i-3),H=L[G],U=L[i-2],B=n[m][G],W=n[m][i-2],Y+=W+(W-B)*(L[i-1]-U)/(U-H),O++),(p===0||p===i-1)&&m>0&&m<f-1&&(x=w[m+1]-w[m],d=w[m]-w[m-1],Y+=(d*n[m+1][p]+x*n[m-1][p])/(d+x),O++),m===0?(j=Math.min(f-1,2),H=w[j],U=w[1],B=n[j][p],W=n[1][p],Y+=W+(W-B)*(w[0]-U)/(U-H),O++):m===f-1&&(j=Math.max(0,f-3),H=w[j],U=w[f-2],B=n[j][p],W=n[f-2][p],Y+=W+(W-B)*(w[f-1]-U)/(U-H),O++),(m===0||m===f-1)&&p>0&&p<i-1&&(x=L[p+1]-L[p],d=L[p]-L[p-1],Y+=(d*n[m][p+1]+x*n[m][p-1])/(d+x),O++),O?Y/=O:(M=L[p+1]-L[p],g=L[p]-L[p-1],u=w[m+1]-w[m],y=w[m]-w[m-1],C=M*g*(M+g),S=u*y*(u+y),Y=(C*(y*n[m+1][p]+u*n[m-1][p])+S*(g*n[m][p+1]+M*n[m][p-1]))/(S*(g+M)+C*(y+u))),D=Y-n[m][p],T=D/c,a+=T*T,P=O?0:.85,n[m][p]+=D*(1+P)}a=Math.sqrt(a)}while(b++<R&&a>A);return h.log("Smoother converged to",a,"after",b,"iterations"),n}},19237:function(k,F,e){var h=e(71828).isArray1D;k.exports=function(n,L,w){var p=w("x"),m=p&&p.length,t=w("y"),r=t&&t.length;if(!m&&!r)return!1;if(L._cheater=!p,(!m||h(p))&&(!r||h(t))){var l=m?p.length:1/0;r&&(l=Math.min(l,t.length)),L.a&&L.a.length&&(l=Math.min(l,L.a.length)),L.b&&L.b.length&&(l=Math.min(l,L.b.length)),L._length=l}else L._length=null;return!0}},69568:function(k,F,e){var h=e(5386).fF,E=e(19316),n=e(50693),L=e(9012),w=e(22399).defaultLine,p=e(1426).extendFlat,m=E.marker.line;k.exports=p({locations:{valType:"data_array",editType:"calc"},locationmode:E.locationmode,z:{valType:"data_array",editType:"calc"},geojson:p({},E.geojson,{}),featureidkey:E.featureidkey,text:p({},E.text,{}),hovertext:p({},E.hovertext,{}),marker:{line:{color:p({},m.color,{dflt:w}),width:p({},m.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:E.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:E.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:p({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:h(),showlegend:p({},L.showlegend,{dflt:!1})},n("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(k,F,e){var h=e(92770),E=e(50606).BADNUM,n=e(78803),L=e(75225),w=e(66279);function p(m){return m&&typeof m=="string"}k.exports=function(t,r){var l=r._length,i=new Array(l),f;r.geojson?f=function(M){return p(M)||h(M)}:f=p;for(var v=0;v<l;v++){var c=i[v]={},x=r.locations[v],d=r.z[v];f(x)&&h(d)?(c.loc=x,c.z=d):(c.loc=null,c.z=E),c.index=v}return L(i,r),n(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),w(i,r),i}},61869:function(k,F,e){var h=e(71828),E=e(1586),n=e(69568);k.exports=function(w,p,m,t){function r(d,M){return h.coerce(w,p,n,d,M)}var l=r("locations"),i=r("z");if(!(l&&l.length&&h.isArrayOrTypedArray(i)&&i.length)){p.visible=!1;return}p._length=Math.min(l.length,i.length);var f=r("geojson"),v;(typeof f=="string"&&f!==""||h.isPlainObject(f))&&(v="geojson-id");var c=r("locationmode",v);c==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var x=r("marker.line.width");x&&r("marker.line.color"),r("marker.opacity"),E(w,p,t,r,{prefix:"",cLetter:"z"}),h.coerceSelectionMarkerOpacity(p,r)}},92069:function(k){k.exports=function(e,h,E,n,L){e.location=h.location,e.z=h.z;var w=n[L];return w.fIn&&w.fIn.properties&&(e.properties=w.fIn.properties),e.ct=w.ct,e}},42300:function(k,F,e){var h=e(89298),E=e(69568),n=e(71828).fillText;k.exports=function(p,m,t){var r=p.cd,l=r[0].trace,i=p.subplot,f,v,c,x,d=[m,t],M=[m+360,t];for(v=0;v<r.length;v++)if(f=r[v],x=!1,f._polygons){for(c=0;c<f._polygons.length;c++)f._polygons[c].contains(d)&&(x=!x),f._polygons[c].contains(M)&&(x=!x);if(x)break}if(!(!x||!f))return p.x0=p.x1=p.xa.c2p(f.ct),p.y0=p.y1=p.ya.c2p(f.ct),p.index=f.index,p.location=f.loc,p.z=f.z,p.zLabel=h.tickText(i.mockAxis,i.mockAxis.c2l(f.z),"hover").text,p.hovertemplate=f.hovertemplate,L(p,l,f),[p]};function L(w,p,m){if(!p.hovertemplate){var t=m.hi||p.hoverinfo,r=String(m.loc),l=t==="all"?E.hoverinfo.flags:t.split("+"),i=l.indexOf("name")!==-1,f=l.indexOf("location")!==-1,v=l.indexOf("z")!==-1,c=l.indexOf("text")!==-1,x=!i&&f,d=[];x?w.nameOverride=r:(i&&(w.nameOverride=p.name),f&&d.push(r)),v&&d.push(w.zLabel),c&&n(m,p,d),w.extraText=d.join("<br>")}}},51319:function(k,F,e){k.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(k,F,e){var h=e(39898),E=e(71828),n=e(41327),L=e(90973).getTopojsonFeatures,w=e(71739).findExtremes,p=e(99636).style;function m(r,l,i){var f=l.layers.backplot.select(".choroplethlayer");E.makeTraceGroups(f,i,"trace choropleth").each(function(v){var c=h.select(this),x=c.selectAll("path.choroplethlocation").data(E.identity);x.enter().append("path").classed("choroplethlocation",!0),x.exit().remove(),p(r,v)})}function t(r,l){for(var i=r[0].trace,f=l[i.geo],v=f._subplot,c=i.locationmode,x=i._length,d=c==="geojson-id"?n.extractTraceFeature(r):L(i,v.topojson),M=[],g=[],u=0;u<x;u++){var y=r[u],C=c==="geojson-id"?y.fOut:n.locationToFeature(c,y.loc,d);if(C){y.geojson=C,y.ct=C.properties.ct,y._polygons=n.feature2polygons(C);var S=n.computeBbox(C);M.push(S[0],S[2]),g.push(S[1],S[3])}else y.geojson=null}if(f.fitbounds==="geojson"&&c==="geojson-id"){var D=n.computeBbox(n.getTraceGeojson(i));M=[D[0],D[2]],g=[D[1],D[3]]}var T={padded:!0};i._extremes.lon=w(f.lonaxis._ax,M,T),i._extremes.lat=w(f.lataxis._ax,g,T)}k.exports={calcGeoJSON:t,plot:m}},81253:function(k){k.exports=function(e,h){var E=e.cd,n=e.xaxis,L=e.yaxis,w=[],p,m,t,r,l;if(h===!1)for(p=0;p<E.length;p++)E[p].selected=0;else for(p=0;p<E.length;p++)m=E[p],t=m.ct,t&&(r=n.c2p(t),l=L.c2p(t),h.contains([r,l],null,p,e)?(w.push({pointNumber:p,lon:t[0],lat:t[1]}),m.selected=1):m.selected=0);return w}},99636:function(k,F,e){var h=e(39898),E=e(7901),n=e(91424),L=e(21081);function w(t,r){r&&p(t,r)}function p(t,r){var l=r[0].trace,i=r[0].node3,f=i.selectAll(".choroplethlocation"),v=l.marker||{},c=v.line||{},x=L.makeColorScaleFuncFromTrace(l);f.each(function(d){h.select(this).attr("fill",x(d.z)).call(E.stroke,d.mlc||c.color).call(n.dashLine,"",d.mlw||c.width||0).style("opacity",v.opacity)}),n.selectedPointStyle(f,l)}function m(t,r){var l=r[0].node3,i=r[0].trace;i.selectedpoints?n.selectedPointStyle(l.selectAll(".choroplethlocation"),i):p(t,r)}k.exports={style:w,styleOnSelect:m}},64496:function(k,F,e){var h=e(69568),E=e(50693),n=e(5386).fF,L=e(9012),w=e(1426).extendFlat;k.exports=w({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:w({},h.featureidkey,{}),below:{valType:"string",editType:"plot"},text:h.text,hovertext:h.hovertext,marker:{line:{color:w({},h.marker.line.color,{editType:"plot"}),width:w({},h.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:w({},h.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:w({},h.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:w({},h.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:h.hoverinfo,hovertemplate:n({},{keys:["properties"]}),showlegend:w({},L.showlegend,{dflt:!1})},E("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(k,F,e){var h=e(92770),E=e(71828),n=e(21081),L=e(91424),w=e(18214).makeBlank,p=e(41327);function m(r){var l=r[0].trace,i=l.visible===!0&&l._length!==0,f={layout:{visibility:"none"},paint:{}},v={layout:{visibility:"none"},paint:{}},c=l._opts={fill:f,line:v,geojson:w()};if(!i)return c;var x=p.extractTraceFeature(r);if(!x)return c;var d=n.makeColorScaleFuncFromTrace(l),M=l.marker,g=M.line||{},u;E.isArrayOrTypedArray(M.opacity)&&(u=function(a){var R=a.mo;return h(R)?+E.constrain(R,0,1):0});var y;E.isArrayOrTypedArray(g.color)&&(y=function(a){return a.mlc});var C;E.isArrayOrTypedArray(g.width)&&(C=function(a){return a.mlw});for(var S=0;S<r.length;S++){var D=r[S],T=D.fOut;if(T){var P=T.properties;P.fc=d(D.z),u&&(P.mo=u(D)),y&&(P.mlc=y(D)),C&&(P.mlw=C(D)),D.ct=P.ct,D._polygons=p.feature2polygons(T)}}var A=u?{type:"identity",property:"mo"}:M.opacity;return E.extendFlat(f.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":A}),E.extendFlat(v.paint,{"line-color":y?{type:"identity",property:"mlc"}:g.color,"line-width":C?{type:"identity",property:"mlw"}:g.width,"line-opacity":A}),f.layout.visibility="visible",v.layout.visibility="visible",c.geojson={type:"FeatureCollection",features:x},t(r),c}function t(r){var l=r[0].trace,i=l._opts,f;if(l.selectedpoints){for(var v=L.makeSelectedPointStyleFns(l),c=0;c<r.length;c++){var x=r[c];x.fOut&&(x.fOut.properties.mo2=v.selectedOpacityFn(x))}f={type:"identity",property:"mo2"}}else f=E.isArrayOrTypedArray(l.marker.opacity)?{type:"identity",property:"mo"}:l.marker.opacity;return E.extendFlat(i.fill.paint,{"fill-opacity":f}),E.extendFlat(i.line.paint,{"line-opacity":f}),i}k.exports={convert:m,convertOnSelect:t}},22654:function(k,F,e){var h=e(71828),E=e(1586),n=e(64496);k.exports=function(w,p,m,t){function r(c,x){return h.coerce(w,p,n,c,x)}var l=r("locations"),i=r("z"),f=r("geojson");if(!h.isArrayOrTypedArray(l)||!l.length||!h.isArrayOrTypedArray(i)||!i.length||!(typeof f=="string"&&f!==""||h.isPlainObject(f))){p.visible=!1;return}r("featureidkey"),p._length=Math.min(l.length,i.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var v=r("marker.line.width");v&&r("marker.line.color"),r("marker.opacity"),E(w,p,t,r,{prefix:"",cLetter:"z"}),h.coerceSelectionMarkerOpacity(p,r)}},57516:function(k,F,e){k.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(h,E){if(E){var n=E[0].trace;n._glTrace.updateOnSelect(E)}},getBelow:function(h,E){for(var n=E.getMapLayers(),L=n.length-2;L>=0;L--){var w=n[L].id;if(typeof w=="string"&&w.indexOf("water")===0){for(var p=L+1;p<n.length;p++)if(w=n[p].id,typeof w=="string"&&w.indexOf("plotly-")===-1)return w}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(k,F,e){var h=e(82004).convert,E=e(82004).convertOnSelect,n=e(77734).traceLayerPrefix;function L(p,m){this.type="choroplethmapbox",this.subplot=p,this.uid=m,this.sourceId="source-"+m,this.layerList=[["fill",n+m+"-fill"],["line",n+m+"-line"]],this.below=null}var w=L.prototype;w.update=function(p){this._update(h(p)),p[0].trace._glTrace=this},w.updateOnSelect=function(p){this._update(E(p))},w._update=function(p){var m=this.subplot,t=this.layerList,r=m.belowLookup["trace-"+this.uid];m.map.getSource(this.sourceId).setData(p.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(p,r),this.below=r);for(var l=0;l<t.length;l++){var i=t[l],f=i[0],v=i[1],c=p[f];m.setOptions(v,"setLayoutProperty",c.layout),c.layout.visibility==="visible"&&m.setOptions(v,"setPaintProperty",c.paint)}},w._addLayers=function(p,m){for(var t=this.subplot,r=this.layerList,l=this.sourceId,i=0;i<r.length;i++){var f=r[i],v=f[0],c=p[v];t.addLayer({type:v,id:f[1],source:l,layout:c.layout,paint:c.paint},m)}},w._removeLayers=function(){for(var p=this.subplot.map,m=this.layerList,t=m.length-1;t>=0;t--)p.removeLayer(m[t][1])},w.dispose=function(){var p=this.subplot.map;this._removeLayers(),p.removeSource(this.sourceId)},k.exports=function(m,t){var r=t[0].trace,l=new L(m,r.uid),i=l.sourceId,f=h(t),v=l.below=m.belowLookup["trace-"+r.uid];return m.map.addSource(i,{type:"geojson",data:f.geojson}),l._addLayers(f,v),t[0].trace._glTrace=l,l}},12674:function(k,F,e){var h=e(50693),E=e(12663).axisHoverFormat,n=e(5386).fF,L=e(2418),w=e(9012),p=e(1426).extendFlat,m={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["norm"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:p({},w.showlegend,{dflt:!1})};p(m,h("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){m[r]=L[r]}),m.hoverinfo=p({},w.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),m.transforms=void 0,k.exports=m},31371:function(k,F,e){var h=e(78803);k.exports=function(n,L){for(var w=L.u,p=L.v,m=L.w,t=Math.min(L.x.length,L.y.length,L.z.length,w.length,p.length,m.length),r=-1/0,l=1/0,i=0;i<t;i++){var f=w[i],v=p[i],c=m[i],x=Math.sqrt(f*f+v*v+c*c);r=Math.max(r,x),l=Math.min(l,x)}L._len=t,L._normMax=r,h(n,L,{vals:[l,r],containerStr:"",cLetter:"c"})}},5453:function(k,F,e){var h=e(9330).gl_cone3d,E=e(9330).gl_cone3d.createConeMesh,n=e(71828).simpleMap,L=e(81697).parseColorScale,w=e(21081).extractOpts,p=e(90060);function m(c,x){this.scene=c,this.uid=x,this.mesh=null,this.data=null}var t=m.prototype;t.handlePick=function(c){if(c.object===this.mesh){var x=c.index=c.data.index,d=this.data.x[x],M=this.data.y[x],g=this.data.z[x],u=this.data.u[x],y=this.data.v[x],C=this.data.w[x];c.traceCoordinate=[d,M,g,u,y,C,Math.sqrt(u*u+y*y+C*C)];var S=this.data.hovertext||this.data.text;return Array.isArray(S)&&S[x]!==void 0?c.textLabel=S[x]:S&&(c.textLabel=S),!0}};var r={xaxis:0,yaxis:1,zaxis:2},l={tip:1,tail:0,cm:.25,center:.5},i={tip:1,tail:1,cm:.75,center:.5};function f(c,x){var d=c.fullSceneLayout,M=c.dataScale,g={};function u(D,T){var P=d[T],A=M[r[T]];return n(D,function(a){return P.d2l(a)*A})}g.vectors=p(u(x.u,"xaxis"),u(x.v,"yaxis"),u(x.w,"zaxis"),x._len),g.positions=p(u(x.x,"xaxis"),u(x.y,"yaxis"),u(x.z,"zaxis"),x._len);var y=w(x);g.colormap=L(x),g.vertexIntensityBounds=[y.min/x._normMax,y.max/x._normMax],g.coneOffset=l[x.anchor],x.sizemode==="scaled"?g.coneSize=x.sizeref||.5:g.coneSize=x.sizeref&&x._normMax?x.sizeref/x._normMax:.5;var C=h(g),S=x.lightposition;return C.lightPosition=[S.x,S.y,S.z],C.ambient=x.lighting.ambient,C.diffuse=x.lighting.diffuse,C.specular=x.lighting.specular,C.roughness=x.lighting.roughness,C.fresnel=x.lighting.fresnel,C.opacity=x.opacity,x._pad=i[x.anchor]*C.vectorScale*C.coneScale*x._normMax,C}t.update=function(c){this.data=c;var x=f(this.scene,c);this.mesh.update(x)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function v(c,x){var d=c.glplot.gl,M=f(c,x),g=E(d,M),u=new m(c,x.uid);return u.mesh=g,u.data=x,g._trace=u,c.glplot.add(g),u}k.exports=v},91750:function(k,F,e){var h=e(71828),E=e(1586),n=e(12674);k.exports=function(w,p,m,t){function r(d,M){return h.coerce(w,p,n,d,M)}var l=r("u"),i=r("v"),f=r("w"),v=r("x"),c=r("y"),x=r("z");if(!l||!l.length||!i||!i.length||!f||!f.length||!v||!v.length||!c||!c.length||!x||!x.length){p.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),E(w,p,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),p._length=null}},98128:function(k,F,e){k.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(h,E){return h.norm=E.traceCoordinate[6],h},meta:{}}},70600:function(k,F,e){var h=e(21606),E=e(82196),n=e(12663),L=n.axisHoverFormat,w=n.descriptionOnlyNumbers,p=e(50693),m=e(79952).P,t=e(41940),r=e(1426).extendFlat,l=e(74808),i=l.COMPARISON_OPS2,f=l.INTERVAL_OPS,v=E.line;k.exports=r({z:h.z,x:h.x,x0:h.x0,dx:h.dx,y:h.y,y0:h.y0,dy:h.dy,xperiod:h.xperiod,yperiod:h.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:h.xperiodalignment,yperiodalignment:h.yperiodalignment,text:h.text,hovertext:h.hovertext,transpose:h.transpose,xtype:h.xtype,ytype:h.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:h.hovertemplate,texttemplate:r({},h.texttemplate,{}),textfont:r({},h.textfont,{}),hoverongaps:h.hoverongaps,connectgaps:r({},h.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:w("contour label")},operation:{valType:"enumerated",values:[].concat(i).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},v.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:m,smoothing:r({},v.smoothing,{}),editType:"plot"}},p("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(k,F,e){var h=e(21081),E=e(90757),n=e(18670),L=e(53572);k.exports=function(p,m){var t=E(p,m),r=t[0].z;n(m,r);var l=m.contours,i=h.extractOpts(m),f;if(l.coloring==="heatmap"&&i.auto&&m.autocontour===!1){var v=l.start,c=L(l),x=l.size||1,d=Math.floor((c-v)/x)+1;isFinite(x)||(x=1,d=1);var M=v-x/2,g=M+d*x;f=[M,g]}else f=r;return h.calc(p,m,{vals:f,cLetter:"z"}),t}},20083:function(k){k.exports=function(F,e){var h=F[0],E=h.z,n;switch(e.type){case"levels":var L=Math.min(E[0][0],E[0][1]);for(n=0;n<F.length;n++){var w=F[n];w.prefixBoundary=!w.edgepaths.length&&(L>w.level||w.starts.length&&L===w.level)}break;case"constraint":if(h.prefixBoundary=!1,h.edgepaths.length)return;var p=h.x.length,m=h.y.length,t=-1/0,r=1/0;for(n=0;n<m;n++)r=Math.min(r,E[n][0]),r=Math.min(r,E[n][p-1]),t=Math.max(t,E[n][0]),t=Math.max(t,E[n][p-1]);for(n=1;n<p-1;n++)r=Math.min(r,E[0][n]),r=Math.min(r,E[m-1][n]),t=Math.max(t,E[0][n]),t=Math.max(t,E[m-1][n]);var l=e.value,i,f;switch(e._operation){case">":l>t&&(h.prefixBoundary=!0);break;case"<":(l<r||h.starts.length&&l===r)&&(h.prefixBoundary=!0);break;case"[]":i=Math.min(l[0],l[1]),f=Math.max(l[0],l[1]),(f<r||i>t||h.starts.length&&f===r)&&(h.prefixBoundary=!0);break;case"][":i=Math.min(l[0],l[1]),f=Math.max(l[0],l[1]),i<r&&f>t&&(h.prefixBoundary=!0);break}break}}},90654:function(k,F,e){var h=e(21081),E=e(86068),n=e(53572);function L(w,p,m){var t=p.contours,r=p.line,l=t.size||1,i=t.coloring,f=E(p,{isColorbar:!0});if(i==="heatmap"){var v=h.extractOpts(p);m._fillgradient=v.reversescale?h.flipScale(v.colorscale):v.colorscale,m._zrange=[v.min,v.max]}else i==="fill"&&(m._fillcolor=f);m._line={color:i==="lines"?f:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},m._levels={start:t.start,end:n(t),size:l}}k.exports={min:"zmin",max:"zmax",calc:L}},36914:function(k){k.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(k,F,e){var h=e(92770),E=e(14523),n=e(7901),L=n.addOpacity,w=n.opacity,p=e(74808),m=p.CONSTRAINT_REDUCTION,t=p.COMPARISON_OPS2;k.exports=function(i,f,v,c,x,d){var M=f.contours,g,u,y,C=v("contours.operation");if(M._operation=m[C],r(v,M),C==="="?g=M.showlines=!0:(g=v("contours.showlines"),y=v("fillcolor",L((i.line||{}).color||x,.5))),g){var S=y&&w(y)?L(f.fillcolor,1):x;u=v("line.color",S),v("line.width",2),v("line.dash")}v("line.smoothing"),E(v,c,u,d)};function r(l,i){var f;t.indexOf(i.operation)===-1?(l("contours.value",[0,1]),Array.isArray(i.value)?i.value.length>2?i.value=i.value.slice(2):i.length===0?i.value=[0,1]:i.length<2?(f=parseFloat(i.value[0]),i.value=[f,f+1]):i.value=[parseFloat(i.value[0]),parseFloat(i.value[1])]:h(i.value)&&(f=parseFloat(i.value),i.value=[f,f+1])):(l("contours.value",0),h(i.value)||(Array.isArray(i.value)?i.value=parseFloat(i.value[0]):i.value=0))}},64237:function(k,F,e){var h=e(74808),E=e(92770);k.exports={"[]":L("[]"),"][":L("]["),">":w(">"),"<":w("<"),"=":w("=")};function n(p,m){var t=Array.isArray(m),r;function l(i){return E(i)?+i:null}return h.COMPARISON_OPS2.indexOf(p)!==-1?r=l(t?m[0]:m):h.INTERVAL_OPS.indexOf(p)!==-1?r=t?[l(m[0]),l(m[1])]:[l(m),l(m)]:h.SET_OPS.indexOf(p)!==-1&&(r=t?m.map(l):[l(m)]),r}function L(p){return function(m){m=n(p,m);var t=Math.min(m[0],m[1]),r=Math.max(m[0],m[1]);return{start:t,end:r,size:r-t}}}function w(p){return function(m){return m=n(p,m),{start:m,end:1/0,size:1/0}}}},67217:function(k){k.exports=function(e,h,E,n){var L=n("contours.start"),w=n("contours.end"),p=L===!1||w===!1,m=E("contours.size"),t;p?t=h.autocontour=!0:t=E("autocontour",!1),(t||!m)&&E("ncontours")}},84857:function(k,F,e){var h=e(71828);k.exports=function(n,L){var w,p,m,t=function(i){return i.reverse()},r=function(i){return i};switch(L){case"=":case"<":return n;case">":for(n.length!==1&&h.warn("Contour data invalid for the specified inequality operation."),p=n[0],w=0;w<p.edgepaths.length;w++)p.edgepaths[w]=t(p.edgepaths[w]);for(w=0;w<p.paths.length;w++)p.paths[w]=t(p.paths[w]);for(w=0;w<p.starts.length;w++)p.starts[w]=t(p.starts[w]);return n;case"][":var l=t;t=r,r=l;case"[]":for(n.length!==2&&h.warn("Contour data invalid for the specified inequality range operation."),p=E(n[0]),m=E(n[1]),w=0;w<p.edgepaths.length;w++)p.edgepaths[w]=t(p.edgepaths[w]);for(w=0;w<p.paths.length;w++)p.paths[w]=t(p.paths[w]);for(w=0;w<p.starts.length;w++)p.starts[w]=t(p.starts[w]);for(;m.edgepaths.length;)p.edgepaths.push(r(m.edgepaths.shift()));for(;m.paths.length;)p.paths.push(r(m.paths.shift()));for(;m.starts.length;)p.starts.push(r(m.starts.shift()));return[p]}};function E(n){return h.extendFlat({},n,{edgepaths:h.extendDeep([],n.edgepaths),paths:h.extendDeep([],n.paths),starts:h.extendDeep([],n.starts)})}},13031:function(k,F,e){var h=e(71828),E=e(67684),n=e(73927),L=e(83179),w=e(67217),p=e(8724),m=e(58623),t=e(70600);k.exports=function(l,i,f,v){function c(g,u){return h.coerce(l,i,t,g,u)}function x(g){return h.coerce2(l,i,t,g)}var d=E(l,i,c,v);if(!d){i.visible=!1;return}n(l,i,v,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hoverongaps"),c("hovertemplate");var M=c("contours.type")==="constraint";c("connectgaps",h.isArray1D(i.z)),M?L(l,i,c,v,f):(w(l,i,c,x),p(l,i,c,v)),i.contours&&i.contours.coloring==="heatmap"&&m(c,v)}},87558:function(k,F,e){var h=e(71828),E=e(64237),n=e(53572);k.exports=function(w,p,m){for(var t=w.type==="constraint"?E[w._operation](w.value):w,r=t.size,l=[],i=n(t),f=m.trace._carpetTrace,v=f?{xaxis:f.aaxis,yaxis:f.baxis,x:m.a,y:m.b}:{xaxis:p.xaxis,yaxis:p.yaxis,x:m.x,y:m.y},c=t.start;c<i;c+=r)if(l.push(h.extendFlat({level:c,crossings:{},starts:[],edgepaths:[],paths:[],z:m.z,smoothing:m.trace.line.smoothing},v)),l.length>1e3){h.warn("Too many contours, clipping at 1000",w);break}return l}},53572:function(k){k.exports=function(e){return e.end+e.size/1e6}},81696:function(k,F,e){var h=e(71828),E=e(36914);k.exports=function(r,l,i){var f,v,c,x,d;for(l=l||.01,i=i||.01,c=0;c<r.length;c++){for(x=r[c],d=0;d<x.starts.length;d++)v=x.starts[d],w(x,v,"edge",l,i);for(f=0;Object.keys(x.crossings).length&&f<1e4;)f++,v=Object.keys(x.crossings)[0].split(",").map(Number),w(x,v,void 0,l,i);f===1e4&&h.log("Infinite loop in contour?")}};function n(t,r,l,i){return Math.abs(t[0]-r[0])<l&&Math.abs(t[1]-r[1])<i}function L(t,r){var l=t[2]-r[2],i=t[3]-r[3];return Math.sqrt(l*l+i*i)}function w(t,r,l,i,f){var v=r.join(","),c=t.crossings[v],x=p(c,l,r),d=[m(t,r,[-x[0],-x[1]])],M=t.z.length,g=t.z[0].length,u=r.slice(),y=x.slice(),C;for(C=0;C<1e4;C++){if(c>20?(c=E.CHOOSESADDLE[c][(x[0]||x[1])<0?0:1],t.crossings[v]=E.SADDLEREMAINDER[c]):delete t.crossings[v],x=E.NEWDELTA[c],!x){h.log("Found bad marching index:",c,r,t.level);break}d.push(m(t,r,x)),r[0]+=x[0],r[1]+=x[1],v=r.join(","),n(d[d.length-1],d[d.length-2],i,f)&&d.pop();var S=x[0]&&(r[0]<0||r[0]>g-2)||x[1]&&(r[1]<0||r[1]>M-2),D=r[0]===u[0]&&r[1]===u[1]&&x[0]===y[0]&&x[1]===y[1];if(D||l&&S)break;c=t.crossings[v]}C===1e4&&h.log("Infinite loop in contour?");var T=n(d[0],d[d.length-1],i,f),P=0,A=.2*t.smoothing,a=[],R=0,b,N,O,Y,B,W,H,U,G,j,re;for(C=1;C<d.length;C++)H=L(d[C],d[C-1]),P+=H,a.push(H);var ae=P/a.length*A;function ue(X){return d[X%d.length]}for(C=d.length-2;C>=R;C--)if(b=a[C],b<ae){for(O=0,N=C-1;N>=R&&b+a[N]<ae;N--)b+=a[N];if(T&&C===d.length-2)for(O=0;O<N&&b+a[O]<ae;O++)b+=a[O];B=C-N+O+1,W=Math.floor((C+N+O+2)/2),!T&&C===d.length-2?Y=d[d.length-1]:!T&&N===-1?Y=d[0]:B%2?Y=ue(W):Y=[(ue(W)[0]+ue(W+1)[0])/2,(ue(W)[1]+ue(W+1)[1])/2],d.splice(N+1,C-N+1,Y),C=N+1,O&&(R=O),T&&(C===d.length-2?d[O]=d[d.length-1]:C===0&&(d[d.length-1]=d[0]))}for(d.splice(0,R),C=0;C<d.length;C++)d[C].length=2;if(!(d.length<2))if(T)d.pop(),t.paths.push(d);else{l||h.log("Unclosed interior contour?",t.level,u.join(","),d.join("L"));var de=!1;for(U=0;U<t.edgepaths.length;U++)if(j=t.edgepaths[U],!de&&n(j[0],d[d.length-1],i,f)){d.pop(),de=!0;var ee=!1;for(G=0;G<t.edgepaths.length;G++)if(re=t.edgepaths[G],n(re[re.length-1],d[0],i,f)){ee=!0,d.shift(),t.edgepaths.splice(U,1),G===U?t.paths.push(d.concat(re)):(G>U&&G--,t.edgepaths[G]=re.concat(d,j));break}ee||(t.edgepaths[U]=d.concat(j))}for(U=0;U<t.edgepaths.length&&!de;U++)j=t.edgepaths[U],n(j[j.length-1],d[0],i,f)&&(d.shift(),t.edgepaths[U]=j.concat(d),de=!0);de||t.edgepaths.push(d)}}function p(t,r,l){var i=0,f=0;return t>20&&r?t===208||t===1114?i=l[0]===0?1:-1:f=l[1]===0?1:-1:E.BOTTOMSTART.indexOf(t)!==-1?f=1:E.LEFTSTART.indexOf(t)!==-1?i=1:E.TOPSTART.indexOf(t)!==-1?f=-1:i=-1,[i,f]}function m(t,r,l){var i=r[0]+Math.max(l[0],0),f=r[1]+Math.max(l[1],0),v=t.z[f][i],c=t.xaxis,x=t.yaxis;if(l[1]){var d=(t.level-v)/(t.z[f][i+1]-v),M=(d!==1?(1-d)*c.c2l(t.x[i]):0)+(d!==0?d*c.c2l(t.x[i+1]):0);return[c.c2p(c.l2c(M),!0),x.c2p(t.y[f],!0),i+d,f]}else{var g=(t.level-v)/(t.z[f+1][i]-v),u=(g!==1?(1-g)*x.c2l(t.y[f]):0)+(g!==0?g*x.c2l(t.y[f+1]):0);return[c.c2p(t.x[i],!0),x.c2p(x.l2c(u),!0),i,f+g]}}},52421:function(k,F,e){var h=e(7901),E=e(46248);k.exports=function(L,w,p,m,t){t||(t={}),t.isContour=!0;var r=E(L,w,p,m,t);return r&&r.forEach(function(l){var i=l.trace;i.contours.type==="constraint"&&(i.fillcolor&&h.opacity(i.fillcolor)?l.color=h.addOpacity(i.fillcolor,1):i.contours.showlines&&h.opacity(i.line.color)&&(l.color=h.addOpacity(i.line.color,1)))}),r}},99442:function(k,F,e){k.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(k,F,e){var h=e(71828);k.exports=function(n,L,w,p){p||(p={});var m=n("contours.showlabels");if(m){var t=L.font;h.coerceFont(n,"contours.labelfont",{family:t.family,size:t.size,color:w}),n("contours.labelformat")}p.hasHover!==!1&&n("zhoverformat")}},86068:function(k,F,e){var h=e(39898),E=e(21081),n=e(53572);k.exports=function(w){var p=w.contours,m=p.start,t=n(p),r=p.size||1,l=Math.floor((t-m)/r)+1,i=p.coloring==="lines"?0:1,f=E.extractOpts(w);isFinite(r)||(r=1,l=1);var v=f.reversescale?E.flipScale(f.colorscale):f.colorscale,c=v.length,x=new Array(c),d=new Array(c),M,g,u=f.min,y=f.max;if(p.coloring==="heatmap"){for(g=0;g<c;g++)M=v[g],x[g]=M[0]*(y-u)+u,d[g]=M[1];var C=h.extent([u,y,p.start,p.start+r*(l-1)]),S=C[u<y?0:1],D=C[u<y?1:0];S!==u&&(x.splice(0,0,S),d.splice(0,0,d[0])),D!==y&&(x.push(D),d.push(d[d.length-1]))}else{var T=w._input&&typeof w._input.zmin=="number"&&typeof w._input.zmax=="number";for(T&&(m<=u||t>=y)&&(m<=u&&(m=u),t>=y&&(t=y),l=Math.floor((t-m)/r)+1,i=0),g=0;g<c;g++)M=v[g],x[g]=(M[0]*(l+i-1)-i/2)*r+m,d[g]=M[1];(T||w.autocontour)&&(x[0]>u&&(x.unshift(u),d.unshift(d[0])),x[x.length-1]<y&&(x.push(y),d.push(d[d.length-1])))}return E.makeColorScaleFunc({domain:x,range:d},{noNumericCheck:!0})}},87678:function(k,F,e){var h=e(36914);k.exports=function(L){var w=L[0].z,p=w.length,m=w[0].length,t=p===2||m===2,r,l,i,f,v,c,x,d,M;for(l=0;l<p-1;l++)for(f=[],l===0&&(f=f.concat(h.BOTTOMSTART)),l===p-2&&(f=f.concat(h.TOPSTART)),r=0;r<m-1;r++)for(i=f.slice(),r===0&&(i=i.concat(h.LEFTSTART)),r===m-2&&(i=i.concat(h.RIGHTSTART)),v=r+","+l,c=[[w[l][r],w[l][r+1]],[w[l+1][r],w[l+1][r+1]]],M=0;M<L.length;M++)d=L[M],x=E(d.level,c),x&&(d.crossings[v]=x,i.indexOf(x)!==-1&&(d.starts.push([r,l]),t&&i.indexOf(x,i.indexOf(x)+1)!==-1&&d.starts.push([r,l])))};function E(n,L){var w=(L[0][0]>n?0:1)+(L[0][1]>n?0:2)+(L[1][1]>n?0:4)+(L[1][0]>n?0:8);if(w===5||w===10){var p=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return n>p?w===5?713:1114:w===5?104:208}return w===15?0:w}},29854:function(k,F,e){var h=e(39898),E=e(71828),n=e(91424),L=e(21081),w=e(63893),p=e(89298),m=e(21994),t=e(50347),r=e(87678),l=e(81696),i=e(87558),f=e(84857),v=e(20083),c=e(36914),x=c.LABELOPTIMIZER;F.plot=function(T,P,A,a){var R=P.xaxis,b=P.yaxis;E.makeTraceGroups(a,A,"contour").each(function(N){var O=h.select(this),Y=N[0],B=Y.trace,W=Y.x,H=Y.y,U=B.contours,G=i(U,P,Y),j=E.ensureSingle(O,"g","heatmapcoloring"),re=[];U.coloring==="heatmap"&&(re=[N]),t(T,P,re,j),r(G),l(G);var ae=R.c2p(W[0],!0),ue=R.c2p(W[W.length-1],!0),de=b.c2p(H[0],!0),ee=b.c2p(H[H.length-1],!0),X=[[ae,ee],[ue,ee],[ue,de],[ae,de]],Q=G;U.type==="constraint"&&(Q=f(G,U._operation)),d(O,X,U),M(O,Q,X,U),u(O,G,T,Y,U),C(O,P,T,Y,X)})};function d(D,T,P){var A=E.ensureSingle(D,"g","contourbg"),a=A.selectAll("path").data(P.coloring==="fill"?[0]:[]);a.enter().append("path"),a.exit().remove(),a.attr("d","M"+T.join("L")+"Z").style("stroke","none")}function M(D,T,P,A){var a=A.coloring==="fill"||A.type==="constraint"&&A._operation!=="=",R="M"+P.join("L")+"Z";a&&v(T,A);var b=E.ensureSingle(D,"g","contourfill"),N=b.selectAll("path").data(a?T:[]);N.enter().append("path"),N.exit().remove(),N.each(function(O){var Y=(O.prefixBoundary?R:"")+g(O,P);Y?h.select(this).attr("d",Y).style("stroke","none"):h.select(this).remove()})}function g(D,T){var P="",A=0,a=D.edgepaths.map(function(ae,ue){return ue}),R=!0,b,N,O,Y,B,W;function H(ae){return Math.abs(ae[1]-T[0][1])<.01}function U(ae){return Math.abs(ae[1]-T[2][1])<.01}function G(ae){return Math.abs(ae[0]-T[0][0])<.01}function j(ae){return Math.abs(ae[0]-T[2][0])<.01}for(;a.length;){for(W=n.smoothopen(D.edgepaths[A],D.smoothing),P+=R?W:W.replace(/^M/,"L"),a.splice(a.indexOf(A),1),b=D.edgepaths[A][D.edgepaths[A].length-1],Y=-1,O=0;O<4;O++){if(!b){E.log("Missing end?",A,D);break}for(H(b)&&!j(b)?N=T[1]:G(b)?N=T[0]:U(b)?N=T[3]:j(b)&&(N=T[2]),B=0;B<D.edgepaths.length;B++){var re=D.edgepaths[B][0];Math.abs(b[0]-N[0])<.01?Math.abs(b[0]-re[0])<.01&&(re[1]-b[1])*(N[1]-re[1])>=0&&(N=re,Y=B):Math.abs(b[1]-N[1])<.01?Math.abs(b[1]-re[1])<.01&&(re[0]-b[0])*(N[0]-re[0])>=0&&(N=re,Y=B):E.log("endpt to newendpt is not vert. or horz.",b,N,re)}if(b=N,Y>=0)break;P+="L"+N}if(Y===D.edgepaths.length){E.log("unclosed perimeter path");break}A=Y,R=a.indexOf(A)===-1,R&&(A=a[0],P+="Z")}for(A=0;A<D.paths.length;A++)P+=n.smoothclosed(D.paths[A],D.smoothing);return P}function u(D,T,P,A,a){var R=P._context.staticPlot,b=E.ensureSingle(D,"g","contourlines"),N=a.showlines!==!1,O=a.showlabels,Y=N&&O,B=F.createLines(b,N||O,T,R),W=F.createLineClip(b,Y,P,A.trace.uid),H=D.selectAll("g.contourlabels").data(O?[0]:[]);if(H.exit().remove(),H.enter().append("g").classed("contourlabels",!0),O){var U=[],G=[];E.clearLocationCache();var j=F.labelFormatter(P,A),re=n.tester.append("text").attr("data-notex",1).call(n.font,a.labelfont),ae=T[0].xaxis,ue=T[0].yaxis,de=ae._length,ee=ue._length,X=ae.range,Q=ue.range,$=E.aggNums(Math.min,null,A.x),ne=E.aggNums(Math.max,null,A.x),fe=E.aggNums(Math.min,null,A.y),te=E.aggNums(Math.max,null,A.y),q=Math.max(ae.c2p($,!0),0),he=Math.min(ae.c2p(ne,!0),de),se=Math.max(ue.c2p(te,!0),0),pe=Math.min(ue.c2p(fe,!0),ee),we={};X[0]<X[1]?(we.left=q,we.right=he):(we.left=he,we.right=q),Q[0]<Q[1]?(we.top=se,we.bottom=pe):(we.top=pe,we.bottom=se),we.middle=(we.top+we.bottom)/2,we.center=(we.left+we.right)/2,U.push([[we.left,we.top],[we.right,we.top],[we.right,we.bottom],[we.left,we.bottom]]);var Ee=Math.sqrt(de*de+ee*ee),Me=c.LABELDISTANCE*Ee/Math.max(1,T.length/c.LABELINCREASE);B.each(function(Be){var Ne=F.calcTextOpts(Be.level,j,re,P);h.select(this).selectAll("path").each(function(){var Ce=this,Te=E.getVisibleSegment(Ce,we,Ne.height/2);if(Te&&!(Te.len<(Ne.width+Ne.height)*c.LABELMIN))for(var Le=Math.min(Math.ceil(Te.len/Me),c.LABELMAX),Ve=0;Ve<Le;Ve++){var We=F.findBestTextLocation(Ce,Te,Ne,G,we);if(!We)break;F.addLabelData(We,Ne,G,U)}})}),re.remove(),F.drawLabels(H,G,P,W,Y?U:null)}O&&!N&&B.remove()}F.createLines=function(D,T,P,A){var a=P[0].smoothing,R=D.selectAll("g.contourlevel").data(T?P:[]);if(R.exit().remove(),R.enter().append("g").classed("contourlevel",!0),T){var b=R.selectAll("path.openline").data(function(O){return O.pedgepaths||O.edgepaths});b.exit().remove(),b.enter().append("path").classed("openline",!0),b.attr("d",function(O){return n.smoothopen(O,a)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke");var N=R.selectAll("path.closedline").data(function(O){return O.ppaths||O.paths});N.exit().remove(),N.enter().append("path").classed("closedline",!0),N.attr("d",function(O){return n.smoothclosed(O,a)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke")}return R},F.createLineClip=function(D,T,P,A){var a=P._fullLayout._clips,R=T?"clipline"+A:null,b=a.selectAll("#"+R).data(T?[0]:[]);return b.exit().remove(),b.enter().append("clipPath").classed("contourlineclip",!0).attr("id",R),n.setClipUrl(D,R,P),b},F.labelFormatter=function(D,T){var P=D._fullLayout,A=T.trace,a=A.contours,R={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(a.labelformat)R.tickformat=a.labelformat,m(R,P);else{var b=L.extractOpts(A);if(b&&b.colorbar&&b.colorbar._axis)R=b.colorbar._axis;else{if(a.type==="constraint"){var N=a.value;Array.isArray(N)?R.range=[N[0],N[N.length-1]]:R.range=[N,N]}else R.range=[a.start,a.end],R.nticks=(a.end-a.start)/a.size;R.range[0]===R.range[1]&&(R.range[1]+=R.range[0]||1),R.nticks||(R.nticks=1e3),m(R,P),p.prepTicks(R),R._tmin=null,R._tmax=null}}return function(O){return p.tickText(R,O).text}},F.calcTextOpts=function(D,T,P,A){var a=T(D);P.text(a).call(w.convertToTspans,A);var R=P.node(),b=n.bBox(R,!0);return{text:a,width:b.width,height:b.height,fontSize:+R.style["font-size"].replace("px",""),level:D,dy:(b.top+b.bottom)/2}},F.findBestTextLocation=function(D,T,P,A,a){var R=P.width,b,N,O,Y,B;T.isClosed?(N=T.len/x.INITIALSEARCHPOINTS,b=T.min+N/2,O=T.max):(N=(T.len-R)/(x.INITIALSEARCHPOINTS+1),b=T.min+N+R/2,O=T.max-(N+R)/2);for(var W=1/0,H=0;H<x.ITERATIONS;H++){for(var U=b;U<O;U+=N){var G=E.getTextLocation(D,T.total,U,R),j=y(G,P,A,a);j<W&&(W=j,B=G,Y=U)}if(W>x.MAXCOST*2)break;H&&(N/=2),b=Y-N/2,O=b+N*1.5}if(W<=x.MAXCOST)return B};function y(D,T,P,A){var a=T.width/2,R=T.height/2,b=D.x,N=D.y,O=D.theta,Y=Math.cos(O)*a,B=Math.sin(O)*a,W=(b>A.center?A.right-b:b-A.left)/(Y+Math.abs(Math.sin(O)*R)),H=(N>A.middle?A.bottom-N:N-A.top)/(Math.abs(B)+Math.cos(O)*R);if(W<1||H<1)return 1/0;var U=x.EDGECOST*(1/(W-1)+1/(H-1));U+=x.ANGLECOST*O*O;for(var G=b-Y,j=N-B,re=b+Y,ae=N+B,ue=0;ue<P.length;ue++){var de=P[ue],ee=Math.cos(de.theta)*de.width/2,X=Math.sin(de.theta)*de.width/2,Q=E.segmentDistance(G,j,re,ae,de.x-ee,de.y-X,de.x+ee,de.y+X)*2/(T.height+de.height),$=de.level===T.level,ne=$?x.SAMELEVELDISTANCE:1;if(Q<=ne)return 1/0;var fe=x.NEIGHBORCOST*($?x.SAMELEVELFACTOR:1);U+=fe/(Q-ne)}return U}F.addLabelData=function(D,T,P,A){var a=T.fontSize,R=T.width+a/3,b=Math.max(0,T.height-a/3),N=D.x,O=D.y,Y=D.theta,B=Math.sin(Y),W=Math.cos(Y),H=function(G,j){return[N+G*W-j*B,O+G*B+j*W]},U=[H(-R/2,-b/2),H(-R/2,b/2),H(R/2,b/2),H(R/2,-b/2)];P.push({text:T.text,x:N,y:O,dy:T.dy,theta:Y,level:T.level,width:R,height:b}),A.push(U)},F.drawLabels=function(D,T,P,A,a){var R=D.selectAll("text").data(T,function(Y){return Y.text+","+Y.x+","+Y.y+","+Y.theta});if(R.exit().remove(),R.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(Y){var B=Y.x+Math.sin(Y.theta)*Y.dy,W=Y.y-Math.cos(Y.theta)*Y.dy;h.select(this).text(Y.text).attr({x:B,y:W,transform:"rotate("+180*Y.theta/Math.PI+" "+B+" "+W+")"}).call(w.convertToTspans,P)}),a){for(var b="",N=0;N<a.length;N++)b+="M"+a[N].join("L")+"Z";var O=E.ensureSingle(A,"path","");O.attr("d",b)}};function C(D,T,P,A,a){var R=A.trace,b=P._fullLayout._clips,N="clip"+R.uid,O=b.selectAll("#"+N).data(R.connectgaps?[]:[0]);if(O.enter().append("clipPath").classed("contourclip",!0).attr("id",N),O.exit().remove(),R.connectgaps===!1){var Y={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:T.xaxis,yaxis:T.yaxis,x:A.x,y:A.y,z:S(A),smoothing:0};r([Y]),l([Y]),v([Y],{type:"levels"});var B=E.ensureSingle(O,"path","");B.attr("d",(Y.prefixBoundary?"M"+a.join("L")+"Z":"")+g(Y,a))}else N=null;n.setClipUrl(D,N,P)}function S(D){var T=D.trace._emptypoints,P=[],A=D.z.length,a=D.z[0].length,R,b=[],N;for(R=0;R<a;R++)b.push(1);for(R=0;R<A;R++)P.push(b.slice());for(R=0;R<T.length;R++)N=T[R],P[N[0]][N[1]]=0;return D.zmask=P,P}},18670:function(k,F,e){var h=e(89298),E=e(71828);k.exports=function(w,p){var m=w.contours;if(w.autocontour){var t=w.zmin,r=w.zmax;(w.zauto||t===void 0)&&(t=E.aggNums(Math.min,null,p)),(w.zauto||r===void 0)&&(r=E.aggNums(Math.max,null,p));var l=n(t,r,w.ncontours);m.size=l.dtick,m.start=h.tickFirst(l),l.range.reverse(),m.end=h.tickFirst(l),m.start===t&&(m.start+=m.size),m.end===r&&(m.end-=m.size),m.start>m.end&&(m.start=m.end=(m.start+m.end)/2),w._input.contours||(w._input.contours={}),E.extendFlat(w._input.contours,{start:m.start,end:m.end,size:m.size}),w._input.autocontour=!0}else if(m.type!=="constraint"){var i=m.start,f=m.end,v=w._input.contours;if(i>f&&(m.start=v.start=f,f=m.end=v.end=i,i=m.start),!(m.size>0)){var c;i===f?c=1:c=n(i,f,w.ncontours).dtick,v.size=m.size=c}}};function n(L,w,p){var m={type:"linear",range:[L,w]};return h.autoTicks(m,(w-L)/(p||15)),m}},84426:function(k,F,e){var h=e(39898),E=e(91424),n=e(70035),L=e(86068);k.exports=function(p){var m=h.select(p).selectAll("g.contour");m.style("opacity",function(t){return t[0].trace.opacity}),m.each(function(t){var r=h.select(this),l=t[0].trace,i=l.contours,f=l.line,v=i.size||1,c=i.start,x=i.type==="constraint",d=!x&&i.coloring==="lines",M=!x&&i.coloring==="fill",g=d||M?L(l):null;r.selectAll("g.contourlevel").each(function(C){h.select(this).selectAll("path").call(E.lineGroupStyle,f.width,d?g(C.level):f.color,f.dash)});var u=i.labelfont;if(r.selectAll("g.contourlabels text").each(function(C){E.font(h.select(this),{family:u.family,size:u.size,color:u.color||(d?g(C.level):f.color)})}),x)r.selectAll("g.contourfill path").style("fill",l.fillcolor);else if(M){var y;r.selectAll("g.contourfill path").style("fill",function(C){return y===void 0&&(y=C.level),g(C.level+.5*v)}),y===void 0&&(y=c),r.selectAll("g.contourbg path").style("fill",g(y-.5*v))}}),n(p)}},8724:function(k,F,e){var h=e(1586),E=e(14523);k.exports=function(L,w,p,m,t){var r=p("contours.coloring"),l,i="";r==="fill"&&(l=p("contours.showlines")),l!==!1&&(r!=="lines"&&(i=p("line.color","#000")),p("line.width",.5),p("line.dash")),r!=="none"&&(L.showlegend!==!0&&(w.showlegend=!1),w._dfltShowLegend=!1,h(L,w,m,p,{prefix:"",cLetter:"z"})),p("line.smoothing"),E(p,m,i,t)}},88085:function(k,F,e){var h=e(21606),E=e(70600),n=e(50693),L=e(1426).extendFlat,w=E.contours;k.exports=L({carpet:{valType:"string",editType:"calc"},z:h.z,a:h.x,a0:h.x0,da:h.dx,b:h.y,b0:h.y0,db:h.dy,text:h.text,hovertext:h.hovertext,transpose:h.transpose,atype:h.xtype,btype:h.ytype,fillcolor:E.fillcolor,autocontour:E.autocontour,ncontours:E.ncontours,contours:{type:w.type,start:w.start,end:w.end,size:w.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:w.showlines,showlabels:w.showlabels,labelfont:w.labelfont,labelformat:w.labelformat,operation:w.operation,value:w.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:E.line.color,width:E.line.width,dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},transforms:void 0},n("",{cLetter:"z",autoColorDflt:!1}))},59885:function(k,F,e){var h=e(78803),E=e(71828),n=e(68296),L=e(4742),w=e(824),p=e(43907),m=e(70769),t=e(75005),r=e(22882),l=e(18670);k.exports=function(v,c){var x=c._carpetTrace=r(v,c);if(!(!x||!x.visible||x.visible==="legendonly")){if(!c.a||!c.b){var d=v.data[x.index],M=v.data[c.index];M.a||(M.a=d.a),M.b||(M.b=d.b),t(M,c,c._defaultColor,v._fullLayout)}var g=i(v,c);return l(c,c._z),g}};function i(f,v){var c=v._carpetTrace,x=c.aaxis,d=c.baxis,M,g,u,y,C,S,D;x._minDtick=0,d._minDtick=0,E.isArray1D(v.z)&&n(v,x,d,"a","b",["z"]),M=v._a=v._a||v.a,y=v._b=v._b||v.b,M=M?x.makeCalcdata(v,"_a"):[],y=y?d.makeCalcdata(v,"_b"):[],g=v.a0||0,u=v.da||1,C=v.b0||0,S=v.db||1,D=v._z=L(v._z||v.z,v.transpose),v._emptypoints=p(D),w(D,v._emptypoints);var T=E.maxRowLength(D),P=v.xtype==="scaled"?"":M,A=m(v,P,g,u,T,x),a=v.ytype==="scaled"?"":y,R=m(v,a,C,S,D.length,d),b={a:A,b:R,z:D};return v.contours.type==="levels"&&v.contours.coloring!=="none"&&h(f,v,{vals:D,containerStr:"",cLetter:"z"}),[b]}},75005:function(k,F,e){var h=e(71828),E=e(67684),n=e(88085),L=e(83179),w=e(67217),p=e(8724);k.exports=function(t,r,l,i){function f(d,M){return h.coerce(t,r,n,d,M)}function v(d){return h.coerce2(t,r,n,d)}if(f("carpet"),t.a&&t.b){var c=E(t,r,f,i,"a","b");if(!c){r.visible=!1;return}f("text");var x=f("contours.type")==="constraint";x?L(t,r,f,i,l,{hasHover:!1}):(w(t,r,f,v),p(t,r,f,i,{hasHover:!1}))}else r._defaultColor=l,r._length=null}},93740:function(k,F,e){k.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(k,F,e){var h=e(39898),E=e(27669),n=e(67961),L=e(91424),w=e(71828),p=e(87678),m=e(81696),t=e(29854),r=e(36914),l=e(84857),i=e(87558),f=e(20083),v=e(22882),c=e(4536);k.exports=function(P,A,a,R){var b=A.xaxis,N=A.yaxis;w.makeTraceGroups(R,a,"contour").each(function(O){var Y=h.select(this),B=O[0],W=B.trace,H=W._carpetTrace=v(P,W),U=P.calcdata[H.index][0];if(!H.visible||H.visible==="legendonly")return;var G=B.a,j=B.b,re=W.contours,ae=i(re,A,B),ue=re.type==="constraint",de=re._operation,ee=ue?de==="="?"lines":"fill":re.coloring;function X(Ee){var Me=H.ab2xy(Ee[0],Ee[1],!0);return[b.c2p(Me[0]),N.c2p(Me[1])]}var Q=[[G[0],j[j.length-1]],[G[G.length-1],j[j.length-1]],[G[G.length-1],j[0]],[G[0],j[0]]];p(ae);var $=(G[G.length-1]-G[0])*1e-8,ne=(j[j.length-1]-j[0])*1e-8;m(ae,$,ne);var fe=ae;re.type==="constraint"&&(fe=l(ae,de)),x(ae,X);var te,q,he,se,pe=[];for(se=U.clipsegments.length-1;se>=0;se--)te=U.clipsegments[se],q=E([],te.x,b.c2p),he=E([],te.y,N.c2p),q.reverse(),he.reverse(),pe.push(n(q,he,te.bicubic));var we="M"+pe.join("L")+"Z";C(Y,U.clipsegments,b,N,ue,ee),S(W,Y,b,N,fe,Q,X,H,U,ee,we),d(Y,ae,P,B,re,A,H),L.setClipUrl(Y,H._clipPathId,P)})};function x(T,P){var A,a,R,b,N,O,Y,B,W;for(A=0;A<T.length;A++){for(b=T[A],N=b.pedgepaths=[],O=b.ppaths=[],a=0;a<b.edgepaths.length;a++){for(W=b.edgepaths[a],Y=[],R=0;R<W.length;R++)Y[R]=P(W[R]);N.push(Y)}for(a=0;a<b.paths.length;a++){for(W=b.paths[a],B=[],R=0;R<W.length;R++)B[R]=P(W[R]);O.push(B)}}}function d(T,P,A,a,R,b,N){var O=A._context.staticPlot,Y=w.ensureSingle(T,"g","contourlines"),B=R.showlines!==!1,W=R.showlabels,H=B&&W,U=t.createLines(Y,B||W,P,O),G=t.createLineClip(Y,H,A,a.trace.uid),j=T.selectAll("g.contourlabels").data(W?[0]:[]);if(j.exit().remove(),j.enter().append("g").classed("contourlabels",!0),W){var re=b.xaxis,ae=b.yaxis,ue=re._length,de=ae._length,ee=[[[0,0],[ue,0],[ue,de],[0,de]]],X=[];w.clearLocationCache();var Q=t.labelFormatter(A,a),$=L.tester.append("text").attr("data-notex",1).call(L.font,R.labelfont),ne={left:0,right:ue,center:ue/2,top:0,bottom:de,middle:de/2},fe=Math.sqrt(ue*ue+de*de),te=r.LABELDISTANCE*fe/Math.max(1,P.length/r.LABELINCREASE);U.each(function(q){var he=t.calcTextOpts(q.level,Q,$,A);h.select(this).selectAll("path").each(function(se){var pe=this,we=w.getVisibleSegment(pe,ne,he.height/2);if(we&&(M(pe,se,q,we,N,he.height),!(we.len<(he.width+he.height)*r.LABELMIN)))for(var Ee=Math.min(Math.ceil(we.len/te),r.LABELMAX),Me=0;Me<Ee;Me++){var Be=t.findBestTextLocation(pe,we,he,X,ne);if(!Be)break;t.addLabelData(Be,he,X,ee)}})}),$.remove(),t.drawLabels(j,X,A,G,H?ee:null)}W&&!B&&U.remove()}function M(T,P,A,a,R,b){for(var N,O=0;O<A.pedgepaths.length;O++)P===A.pedgepaths[O]&&(N=A.edgepaths[O]);if(!N)return;var Y=R.a[0],B=R.a[R.a.length-1],W=R.b[0],H=R.b[R.b.length-1];function U(ue,de){var ee=0,X,Q=.1;return(Math.abs(ue[0]-Y)<Q||Math.abs(ue[0]-B)<Q)&&(X=u(R.dxydb_rough(ue[0],ue[1],Q)),ee=Math.max(ee,b*y(de,X)/2)),(Math.abs(ue[1]-W)<Q||Math.abs(ue[1]-H)<Q)&&(X=u(R.dxyda_rough(ue[0],ue[1],Q)),ee=Math.max(ee,b*y(de,X)/2)),ee}var G=g(T,0,1),j=g(T,a.total,a.total-1),re=U(N[0],G),ae=a.total-U(N[N.length-1],j);a.min<re&&(a.min=re),a.max>ae&&(a.max=ae),a.len=a.max-a.min}function g(T,P,A){var a=T.getPointAtLength(P),R=T.getPointAtLength(A),b=R.x-a.x,N=R.y-a.y,O=Math.sqrt(b*b+N*N);return[b/O,N/O]}function u(T){var P=Math.sqrt(T[0]*T[0]+T[1]*T[1]);return[T[0]/P,T[1]/P]}function y(T,P){var A=Math.abs(T[0]*P[0]+T[1]*P[1]),a=Math.sqrt(1-A*A);return a/A}function C(T,P,A,a,R,b){var N,O,Y,B,W=w.ensureSingle(T,"g","contourbg"),H=W.selectAll("path").data(b==="fill"&&!R?[0]:[]);H.enter().append("path"),H.exit().remove();var U=[];for(B=0;B<P.length;B++)N=P[B],O=E([],N.x,A.c2p),Y=E([],N.y,a.c2p),U.push(n(O,Y,N.bicubic));H.attr("d","M"+U.join("L")+"Z").style("stroke","none")}function S(T,P,A,a,R,b,N,O,Y,B,W){var H=B==="fill";H&&f(R,T.contours);var U=w.ensureSingle(P,"g","contourfill"),G=U.selectAll("path").data(H?R:[]);G.enter().append("path"),G.exit().remove(),G.each(function(j){var re=(j.prefixBoundary?W:"")+D(T,j,b,N,O,Y,A,a);re?h.select(this).attr("d",re).style("stroke","none"):h.select(this).remove()})}function D(T,P,A,a,R,b,N,O){var Y,B="",W=P.edgepaths.map(function(he,se){return se}),H=!0,U,G,j,re,ae,ue,de=Math.abs(A[0][0]-A[2][0])*1e-4,ee=Math.abs(A[0][1]-A[2][1])*1e-4;function X(he){return Math.abs(he[1]-A[0][1])<ee}function Q(he){return Math.abs(he[1]-A[2][1])<ee}function $(he){return Math.abs(he[0]-A[0][0])<de}function ne(he){return Math.abs(he[0]-A[2][0])<de}function fe(he,se){var pe,we,Ee,Me,Be="";for(X(he)&&!ne(he)||Q(he)&&!$(he)?(Me=R.aaxis,Ee=c(R,b,[he[0],se[0]],.5*(he[1]+se[1]))):(Me=R.baxis,Ee=c(R,b,.5*(he[0]+se[0]),[he[1],se[1]])),pe=1;pe<Ee.length;pe++)for(Be+=Me.smoothing?"C":"L",we=0;we<Ee[pe].length;we++){var Ne=Ee[pe][we];Be+=[N.c2p(Ne[0]),O.c2p(Ne[1])]+" "}return Be}for(Y=0,U=null;W.length;){var te=P.edgepaths[Y][0];for(U&&(B+=fe(U,te)),ue=L.smoothopen(P.edgepaths[Y].map(a),P.smoothing),B+=H?ue:ue.replace(/^M/,"L"),W.splice(W.indexOf(Y),1),U=P.edgepaths[Y][P.edgepaths[Y].length-1],re=-1,j=0;j<4;j++){if(!U){w.log("Missing end?",Y,P);break}for(X(U)&&!ne(U)?G=A[1]:$(U)?G=A[0]:Q(U)?G=A[3]:ne(U)&&(G=A[2]),ae=0;ae<P.edgepaths.length;ae++){var q=P.edgepaths[ae][0];Math.abs(U[0]-G[0])<de?Math.abs(U[0]-q[0])<de&&(q[1]-U[1])*(G[1]-q[1])>=0&&(G=q,re=ae):Math.abs(U[1]-G[1])<ee?Math.abs(U[1]-q[1])<ee&&(q[0]-U[0])*(G[0]-q[0])>=0&&(G=q,re=ae):w.log("endpt to newendpt is not vert. or horz.",U,G,q)}if(re>=0)break;B+=fe(U,G),U=G}if(re===P.edgepaths.length){w.log("unclosed perimeter path");break}Y=re,H=W.indexOf(Y)===-1,H&&(Y=W[0],B+=fe(U,G)+"Z",U=null)}for(Y=0;Y<P.paths.length;Y++)B+=L.smoothclosed(P.paths[Y].map(a),P.smoothing);return B}},64096:function(k,F,e){var h=e(50693),E=e(5386).fF,n=e(9012),L=e(99181),w=e(1426).extendFlat;k.exports=w({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:w({},n.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:E(),showlegend:w({},n.showlegend,{dflt:!1})},h("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(k,F,e){var h=e(92770),E=e(71828).isArrayOrTypedArray,n=e(50606).BADNUM,L=e(78803),w=e(71828)._;k.exports=function(m,t){for(var r=t._length,l=new Array(r),i=t.z,f=E(i)&&i.length,v=0;v<r;v++){var c=l[v]={},x=t.lon[v],d=t.lat[v];if(c.lonlat=h(x)&&h(d)?[+x,+d]:[n,n],f){var M=i[v];c.z=h(M)?M:n}}return L(m,t,{vals:f?i:[0,1],containerStr:"",cLetter:"z"}),r&&(l[0].t={labels:{lat:w(m,"lat:")+" ",lon:w(m,"lon:")+" "}}),l}},52414:function(k,F,e){var h=e(92770),E=e(71828),n=e(7901),L=e(21081),w=e(50606).BADNUM,p=e(18214).makeBlank;k.exports=function(t){var r=t[0].trace,l=r.visible===!0&&r._length!==0,i={layout:{visibility:"none"},paint:{}},f=r._opts={heatmap:i,geojson:p()};if(!l)return f;var v=[],c,x=r.z,d=r.radius,M=E.isArrayOrTypedArray(x)&&x.length,g=E.isArrayOrTypedArray(d);for(c=0;c<t.length;c++){var u=t[c],y=u.lonlat;if(y[0]!==w){var C={};if(M){var S=u.z;C.z=S!==w?S:0}g&&(C.r=h(d[c])&&d[c]>0?+d[c]:0),v.push({type:"Feature",geometry:{type:"Point",coordinates:y},properties:C})}}var D=L.extractOpts(r),T=D.reversescale?L.flipScale(D.colorscale):D.colorscale,P=T[0][1],A=n.opacity(P)<1?P:n.addOpacity(P,0),a=["interpolate",["linear"],["heatmap-density"],0,A];for(c=1;c<T.length;c++)a.push(T[c][0],T[c][1]);var R=["interpolate",["linear"],["get","z"],D.min,0,D.max,1];return E.extendFlat(f.heatmap.paint,{"heatmap-weight":M?R:1/(D.max-D.min),"heatmap-color":a,"heatmap-radius":g?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),f.geojson={type:"FeatureCollection",features:v},f.heatmap.layout.visibility="visible",f}},79429:function(k,F,e){var h=e(71828),E=e(1586),n=e(64096);k.exports=function(w,p,m,t){function r(v,c){return h.coerce(w,p,n,v,c)}var l=r("lon")||[],i=r("lat")||[],f=Math.min(l.length,i.length);if(!f){p.visible=!1;return}p._length=f,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),E(w,p,t,r,{prefix:"",cLetter:"z"})}},62474:function(k){k.exports=function(e,h){return e.lon=h.lon,e.lat=h.lat,e.z=h.z,e}},84684:function(k,F,e){var h=e(89298),E=e(28178).hoverPoints,n=e(28178).getExtraText;k.exports=function(w,p,m){var t=E(w,p,m);if(t){var r=t[0],l=r.cd,i=l[0].trace,f=l[r.index];if(delete r.color,"z"in f){var v=r.subplot.mockAxis;r.z=f.z,r.zLabel=h.tickText(v,v.c2l(f.z),"hover").text}return r.extraText=n(i,f,l[0].t.labels),[r]}}},93814:function(k,F,e){k.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(h,E){for(var n=E.getMapLayers(),L=0;L<n.length;L++){var w=n[L],p=w.id;if(w.type==="symbol"&&typeof p=="string"&&p.indexOf("plotly-")===-1)return p}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(k,F,e){var h=e(52414),E=e(77734).traceLayerPrefix;function n(w,p){this.type="densitymapbox",this.subplot=w,this.uid=p,this.sourceId="source-"+p,this.layerList=[["heatmap",E+p+"-heatmap"]],this.below=null}var L=n.prototype;L.update=function(w){var p=this.subplot,m=this.layerList,t=h(w),r=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var l=0;l<m.length;l++){var i=m[l],f=i[0],v=i[1],c=t[f];p.setOptions(v,"setLayoutProperty",c.layout),c.layout.visibility==="visible"&&p.setOptions(v,"setPaintProperty",c.paint)}},L._addLayers=function(w,p){for(var m=this.subplot,t=this.layerList,r=this.sourceId,l=0;l<t.length;l++){var i=t[l],f=i[0],v=w[f];m.addLayer({type:f,id:i[1],source:r,layout:v.layout,paint:v.paint},p)}},L._removeLayers=function(){for(var w=this.subplot.map,p=this.layerList,m=p.length-1;m>=0;m--)w.removeLayer(p[m][1])},L.dispose=function(){var w=this.subplot.map;this._removeLayers(),w.removeSource(this.sourceId)},k.exports=function(p,m){var t=m[0].trace,r=new n(p,t.uid),l=r.sourceId,i=h(m),f=r.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(l,{type:"geojson",data:i.geojson}),r._addLayers(i,f),r}},49789:function(k,F,e){var h=e(71828);k.exports=function(n,L){for(var w=0;w<n.length;w++)n[w].i=w;h.mergeArray(L.text,n,"tx"),h.mergeArray(L.hovertext,n,"htx");var p=L.marker;if(p){h.mergeArray(p.opacity,n,"mo"),h.mergeArray(p.color,n,"mc");var m=p.line;m&&(h.mergeArray(m.color,n,"mlc"),h.mergeArrayCastPositive(m.width,n,"mlw"))}}},1285:function(k,F,e){var h=e(1486),E=e(82196).line,n=e(9012),L=e(12663).axisHoverFormat,w=e(5386).fF,p=e(5386).si,m=e(18517),t=e(1426).extendFlat,r=e(7901);k.exports={x:h.x,x0:h.x0,dx:h.dx,y:h.y,y0:h.y0,dy:h.dy,xperiod:h.xperiod,yperiod:h.yperiod,xperiod0:h.xperiod0,yperiod0:h.yperiod0,xperiodalignment:h.xperiodalignment,yperiodalignment:h.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:h.hovertext,hovertemplate:w({},{keys:m.eventDataKeys}),hoverinfo:t({},n.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:p({editType:"plot"},{keys:m.eventDataKeys.concat(["label","value"])}),text:h.text,textposition:h.textposition,insidetextanchor:t({},h.insidetextanchor,{dflt:"middle"}),textangle:t({},h.textangle,{dflt:0}),textfont:h.textfont,insidetextfont:h.insidetextfont,outsidetextfont:h.outsidetextfont,constraintext:h.constraintext,cliponaxis:h.cliponaxis,orientation:t({},h.orientation,{}),offset:t({},h.offset,{arrayOk:!1}),width:t({},h.width,{arrayOk:!1}),marker:l(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},E.color,{dflt:r.defaultLine}),width:t({},E.width,{dflt:0,editType:"plot"}),dash:E.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:h.offsetgroup,alignmentgroup:h.alignmentgroup};function l(){var i=t({},h.marker);return delete i.pattern,i}},9532:function(k,F,e){var h=e(89298),E=e(42973),n=e(49789),L=e(66279),w=e(50606).BADNUM;k.exports=function(t,r){var l=h.getFromId(t,r.xaxis||"x"),i=h.getFromId(t,r.yaxis||"y"),f,v,c,x,d,M,g,u;r.orientation==="h"?(f=l.makeCalcdata(r,"x"),c=i.makeCalcdata(r,"y"),x=E(r,i,"y",c),d=!!r.yperiodalignment,M="y"):(f=i.makeCalcdata(r,"y"),c=l.makeCalcdata(r,"x"),x=E(r,l,"x",c),d=!!r.xperiodalignment,M="x"),v=x.vals;var y=Math.min(v.length,f.length),C=new Array(y);for(r._base=[],g=0;g<y;g++){f[g]<0&&(f[g]=w);var S=!1;f[g]!==w&&g+1<y&&f[g+1]!==w&&(S=!0),u=C[g]={p:v[g],s:f[g],cNext:S},r._base[g]=-.5*u.s,d&&(C[g].orig_p=c[g],C[g][M+"End"]=x.ends[g],C[g][M+"Start"]=x.starts[g]),r.ids&&(u.id=String(r.ids[g])),g===0&&(C[0].vTotal=0),C[0].vTotal+=p(u.s),u.begR=p(u.s)/p(C[0].s)}var D;for(g=0;g<y;g++)u=C[g],u.s!==w&&(u.sumR=u.s/C[0].vTotal,u.difR=D!==void 0?u.s/D:1,D=u.s);return n(C,r),L(C,r),C};function p(m){return m===w?0:m}},18517:function(k){k.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(k,F,e){var h=e(11661).setGroupPositions;k.exports=function(n,L){var w=n._fullLayout,p=n._fullData,m=n.calcdata,t=L.xaxis,r=L.yaxis,l=[],i=[],f=[],v,c;for(c=0;c<p.length;c++){var x=p[c],d=x.orientation==="h";x.visible===!0&&x.xaxis===t._id&&x.yaxis===r._id&&x.type==="funnel"&&(v=m[c],d?f.push(v):i.push(v),l.push(v))}var M={mode:w.funnelmode,norm:w.funnelnorm,gap:w.funnelgap,groupgap:w.funnelgroupgap};for(h(n,t,r,i,M),h(n,r,t,f,M),c=0;c<l.length;c++){v=l[c];for(var g=0;g<v.length;g++)g+1<v.length&&(v[g].nextP0=v[g+1].p0,v[g].nextS0=v[g+1].s0,v[g].nextP1=v[g+1].p1,v[g].nextS1=v[g+1].s1)}}},26199:function(k,F,e){var h=e(71828),E=e(26125),n=e(90769).handleText,L=e(67513),w=e(73927),p=e(1285),m=e(7901);function t(i,f,v,c){function x(S,D){return h.coerce(i,f,p,S,D)}var d=L(i,f,c,x);if(!d){f.visible=!1;return}w(i,f,c,x),x("xhoverformat"),x("yhoverformat"),x("orientation",f.y&&!f.x?"v":"h"),x("offset"),x("width");var M=x("text");x("hovertext"),x("hovertemplate");var g=x("textposition");n(i,f,c,x,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&!f.texttemplate&&x("textinfo",Array.isArray(M)?"text+value":"value");var u=x("marker.color",v);x("marker.line.color",m.defaultLine),x("marker.line.width");var y=x("connector.visible");if(y){x("connector.fillcolor",r(u));var C=x("connector.line.width");C&&(x("connector.line.color"),x("connector.line.dash"))}}function r(i){var f=h.isArrayOrTypedArray(i)?"#000":i;return m.addOpacity(f,.5*m.opacity(f))}function l(i,f){var v,c;function x(M){return h.coerce(c._input,c,p,M)}if(f.funnelmode==="group")for(var d=0;d<i.length;d++)c=i[d],v=c._input,E(v,c,f,x)}k.exports={supplyDefaults:t,crossTraceDefaults:l}},34598:function(k){k.exports=function(e,h){return e.x="xVal"in h?h.xVal:h.x,e.y="yVal"in h?h.yVal:h.y,"percentInitial"in h&&(e.percentInitial=h.percentInitial),"percentPrevious"in h&&(e.percentPrevious=h.percentPrevious),"percentTotal"in h&&(e.percentTotal=h.percentTotal),h.xa&&(e.xaxis=h.xa),h.ya&&(e.yaxis=h.ya),e}},63341:function(k,F,e){var h=e(7901).opacity,E=e(95423).hoverOnBars,n=e(71828).formatPercent;k.exports=function(p,m,t,r,l){var i=E(p,m,t,r,l);if(i){var f=i.cd,v=f[0].trace,c=v.orientation==="h",x=i.index,d=f[x],M=c?"x":"y";i[M+"LabelVal"]=d.s,i.percentInitial=d.begR,i.percentInitialLabel=n(d.begR,1),i.percentPrevious=d.difR,i.percentPreviousLabel=n(d.difR,1),i.percentTotal=d.sumR,i.percentTotalLabel=n(d.sumR,1);var g=d.hi||v.hoverinfo,u=[];if(g&&g!=="none"&&g!=="skip"){var y=g==="all",C=g.split("+"),S=function(D){return y||C.indexOf(D)!==-1};S("percent initial")&&u.push(i.percentInitialLabel+" of initial"),S("percent previous")&&u.push(i.percentPreviousLabel+" of previous"),S("percent total")&&u.push(i.percentTotalLabel+" of total")}return i.extraText=u.join("<br>"),i.color=L(v,d),[i]}};function L(w,p){var m=w.marker,t=p.mc||m.color,r=p.mlc||m.line.color,l=p.mlw||m.line.width;if(h(t))return t;if(h(r)&&l)return r}},51759:function(k,F,e){k.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(k){k.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(k,F,e){var h=e(71828),E=e(10440);k.exports=function(n,L,w){var p=!1;function m(l,i){return h.coerce(n,L,E,l,i)}for(var t=0;t<w.length;t++){var r=w[t];if(r.visible&&r.type==="funnel"){p=!0;break}}p&&(m("funnelmode"),m("funnelgap",.2),m("funnelgroupgap"))}},80461:function(k,F,e){var h=e(39898),E=e(71828),n=e(91424),L=e(50606).BADNUM,w=e(17295),p=e(72597).clearMinTextSize;k.exports=function(i,f,v,c){var x=i._fullLayout;p("funnel",x),m(i,f,v,c),t(i,f,v,c),w.plot(i,f,v,c,{mode:x.funnelmode,norm:x.funnelmode,gap:x.funnelgap,groupgap:x.funnelgroupgap})};function m(l,i,f,v){var c=i.xaxis,x=i.yaxis;E.makeTraceGroups(v,f,"trace bars").each(function(d){var M=h.select(this),g=d[0].trace,u=E.ensureSingle(M,"g","regions");if(!g.connector||!g.connector.visible){u.remove();return}var y=g.orientation==="h",C=u.selectAll("g.region").data(E.identity);C.enter().append("g").classed("region",!0),C.exit().remove();var S=C.size();C.each(function(D,T){if(!(T!==S-1&&!D.cNext)){var P=r(D,c,x,y),A=P[0],a=P[1],R="";A[0]!==L&&a[0]!==L&&A[1]!==L&&a[1]!==L&&A[2]!==L&&a[2]!==L&&A[3]!==L&&a[3]!==L&&(y?R+="M"+A[0]+","+a[1]+"L"+A[2]+","+a[2]+"H"+A[3]+"L"+A[1]+","+a[1]+"Z":R+="M"+A[1]+","+a[1]+"L"+A[2]+","+a[3]+"V"+a[2]+"L"+A[1]+","+a[0]+"Z"),R===""&&(R="M0,0Z"),E.ensureSingle(h.select(this),"path").attr("d",R).call(n.setClipUrl,i.layerClipId,l)}})})}function t(l,i,f,v){var c=i.xaxis,x=i.yaxis;E.makeTraceGroups(v,f,"trace bars").each(function(d){var M=h.select(this),g=d[0].trace,u=E.ensureSingle(M,"g","lines");if(!g.connector||!g.connector.visible||!g.connector.line.width){u.remove();return}var y=g.orientation==="h",C=u.selectAll("g.line").data(E.identity);C.enter().append("g").classed("line",!0),C.exit().remove();var S=C.size();C.each(function(D,T){if(!(T!==S-1&&!D.cNext)){var P=r(D,c,x,y),A=P[0],a=P[1],R="";A[3]!==void 0&&a[3]!==void 0&&(y?(R+="M"+A[0]+","+a[1]+"L"+A[2]+","+a[2],R+="M"+A[1]+","+a[1]+"L"+A[3]+","+a[2]):(R+="M"+A[1]+","+a[1]+"L"+A[2]+","+a[3],R+="M"+A[1]+","+a[0]+"L"+A[2]+","+a[2])),R===""&&(R="M0,0Z"),E.ensureSingle(h.select(this),"path").attr("d",R).call(n.setClipUrl,i.layerClipId,l)}})})}function r(l,i,f,v){var c=[],x=[],d=v?i:f,M=v?f:i;return c[0]=d.c2p(l.s0,!0),x[0]=M.c2p(l.p0,!0),c[1]=d.c2p(l.s1,!0),x[1]=M.c2p(l.p1,!0),c[2]=d.c2p(l.nextS0,!0),x[2]=M.c2p(l.nextP0,!0),c[3]=d.c2p(l.nextS1,!0),x[3]=M.c2p(l.nextP1,!0),v?[c,x]:[x,c]}},68266:function(k,F,e){var h=e(39898),E=e(91424),n=e(7901),L=e(37822).DESELECTDIM,w=e(16688),p=e(72597).resizeText,m=w.styleTextPoints;function t(r,l,i){var f=i||h.select(r).selectAll("g.funnellayer").selectAll("g.trace");p(r,f,"funnel"),f.style("opacity",function(v){return v[0].trace.opacity}),f.each(function(v){var c=h.select(this),x=v[0].trace;c.selectAll(".point > path").each(function(d){if(!d.isBlank){var M=x.marker;h.select(this).call(n.fill,d.mc||M.color).call(n.stroke,d.mlc||M.line.color).call(E.dashLine,M.line.dash,d.mlw||M.line.width).style("opacity",x.selectedpoints&&!d.selected?L:1)}}),m(c,x,r),c.selectAll(".regions").each(function(){h.select(this).selectAll("path").style("stroke-width",0).call(n.fill,x.connector.fillcolor)}),c.selectAll(".lines").each(function(){var d=x.connector.line;E.lineGroupStyle(h.select(this).selectAll("path"),d.width,d.color,d.dash)})})}k.exports={style:t}},86807:function(k,F,e){var h=e(34e3),E=e(9012),n=e(27670).Y,L=e(5386).fF,w=e(5386).si,p=e(1426).extendFlat;k.exports={labels:h.labels,label0:h.label0,dlabel:h.dlabel,values:h.values,marker:{colors:h.marker.colors,line:{color:p({},h.marker.line.color,{dflt:null}),width:p({},h.marker.line.width,{dflt:1}),editType:"calc"},pattern:h.marker.pattern,editType:"calc"},text:h.text,hovertext:h.hovertext,scalegroup:p({},h.scalegroup,{}),textinfo:p({},h.textinfo,{flags:["label","text","value","percent"]}),texttemplate:w({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:p({},E.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:p({},h.textposition,{values:["inside","none"],dflt:"inside"}),textfont:h.textfont,insidetextfont:h.insidetextfont,title:{text:h.title.text,font:h.title.font,position:p({},h.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:n({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(k,F,e){var h=e(74875);F.name="funnelarea",F.plot=function(E,n,L,w){h.plotBasePlot(F.name,E,n,L,w)},F.clean=function(E,n,L,w){h.cleanBasePlot(F.name,E,n,L,w)}},89574:function(k,F,e){var h=e(32354);function E(L,w){return h.calc(L,w)}function n(L){h.crossTraceCalc(L,{type:"funnelarea"})}k.exports={calc:E,crossTraceCalc:n}},86282:function(k,F,e){var h=e(71828),E=e(86807),n=e(27670).c,L=e(90769).handleText,w=e(37434).handleLabelsAndValues,p=e(37434).handleMarkerDefaults;k.exports=function(t,r,l,i){function f(S,D){return h.coerce(t,r,E,S,D)}var v=f("labels"),c=f("values"),x=w(v,c),d=x.len;if(r._hasLabels=x.hasLabels,r._hasValues=x.hasValues,!r._hasLabels&&r._hasValues&&(f("label0"),f("dlabel")),!d){r.visible=!1;return}r._length=d,p(t,r,i,f),f("scalegroup");var M=f("text"),g=f("texttemplate"),u;if(g||(u=f("textinfo",Array.isArray(M)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),g||u&&u!=="none"){var y=f("textposition");L(t,r,i,f,y,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}n(r,i,f);var C=f("title.text");C&&(f("title.position"),h.coerceFont(f,"title.font",i.font)),f("aspectratio"),f("baseratio")}},10421:function(k,F,e){k.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(k,F,e){var h=e(92774).hiddenlabels;k.exports={hiddenlabels:h,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(k,F,e){var h=e(71828),E=e(80097);k.exports=function(L,w){function p(m,t){return h.coerce(L,w,E,m,t)}p("hiddenlabels"),p("funnelareacolorway",w.colorway),p("extendfunnelareacolors")}},79187:function(k,F,e){var h=e(39898),E=e(91424),n=e(71828),L=n.strScale,w=n.strTranslate,p=e(63893),m=e(17295),t=m.toMoveInsideBar,r=e(72597),l=r.recordMinTextSize,i=r.clearMinTextSize,f=e(53581),v=e(14575),c=v.attachFxHandlers,x=v.determineInsideTextFont,d=v.layoutAreas,M=v.prerenderTitles,g=v.positionTitleOutside,u=v.formatSliceLabel;k.exports=function(T,P){var A=T._context.staticPlot,a=T._fullLayout;i("funnelarea",a),M(P,T),d(P,a._size),n.makeTraceGroups(a._funnelarealayer,P,"trace").each(function(R){var b=h.select(this),N=R[0],O=N.trace;S(R),b.each(function(){var Y=h.select(this).selectAll("g.slice").data(R);Y.enter().append("g").classed("slice",!0),Y.exit().remove(),Y.each(function(W,H){if(W.hidden){h.select(this).selectAll("path,g").remove();return}W.pointNumber=W.i,W.curveNumber=O.index;var U=N.cx,G=N.cy,j=h.select(this),re=j.selectAll("path.surface").data([W]);re.enter().append("path").classed("surface",!0).style({"pointer-events":A?"none":"all"}),j.call(c,T,R);var ae="M"+(U+W.TR[0])+","+(G+W.TR[1])+y(W.TR,W.BR)+y(W.BR,W.BL)+y(W.BL,W.TL)+"Z";re.attr("d",ae),u(T,W,N);var ue=f.castOption(O.textposition,W.pts),de=j.selectAll("g.slicetext").data(W.text&&ue!=="none"?[0]:[]);de.enter().append("g").classed("slicetext",!0),de.exit().remove(),de.each(function(){var ee=n.ensureSingle(h.select(this),"text","",function(he){he.attr("data-notex",1)}),X=n.ensureUniformFontSize(T,x(O,W,a.font));ee.text(W.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(E.font,X).call(p.convertToTspans,T);var Q=E.bBox(ee.node()),$,ne,fe,te=Math.min(W.BL[1],W.BR[1])+G,q=Math.max(W.TL[1],W.TR[1])+G;ne=Math.max(W.TL[0],W.BL[0])+U,fe=Math.min(W.TR[0],W.BR[0])+U,$=t(ne,fe,te,q,Q,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),$.fontSize=X.size,l(O.type,$,a),R[H].transform=$,n.setTransormAndDisplay(ee,$)})});var B=h.select(this).selectAll("g.titletext").data(O.title.text?[0]:[]);B.enter().append("g").classed("titletext",!0),B.exit().remove(),B.each(function(){var W=n.ensureSingle(h.select(this),"text","",function(G){G.attr("data-notex",1)}),H=O.title.text;O._meta&&(H=n.templateString(H,O._meta)),W.text(H).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(E.font,O.title.font).call(p.convertToTspans,T);var U=g(N,a._size);W.attr("transform",w(U.x,U.y)+L(Math.min(1,U.scale))+w(U.tx,U.ty))})})})};function y(D,T){var P=T[0]-D[0],A=T[1]-D[1];return"l"+P+","+A}function C(D,T){return[.5*(D[0]+T[0]),.5*(D[1]+T[1])]}function S(D){if(!D.length)return;var T=D[0],P=T.trace,A=P.aspectratio,a=P.baseratio;a>.999&&(a=.999);var R=Math.pow(a,2),b=T.vTotal,N=b*R/(1-R),O=b,Y=N/b;function B(){var se=Math.sqrt(Y);return{x:se,y:-se}}function W(){var se=B();return[se.x,se.y]}var H,U=[];U.push(W());var G,j;for(G=D.length-1;G>-1;G--)if(j=D[G],!j.hidden){var re=j.v/O;Y+=re,U.push(W())}var ae=1/0,ue=-1/0;for(G=0;G<U.length;G++)H=U[G],ae=Math.min(ae,H[1]),ue=Math.max(ue,H[1]);for(G=0;G<U.length;G++)U[G][1]-=(ue+ae)/2;var de=U[U.length-1][0],ee=T.r,X=(ue-ae)/2,Q=ee/de,$=ee/X*A;for(T.r=$*X,G=0;G<U.length;G++)U[G][0]*=Q,U[G][1]*=$;H=U[0];var ne=[-H[0],H[1]],fe=[H[0],H[1]],te=0;for(G=D.length-1;G>-1;G--)if(j=D[G],!j.hidden){te+=1;var q=U[te][0],he=U[te][1];j.TL=[-q,he],j.TR=[q,he],j.BL=ne,j.BR=fe,j.pxmid=C(j.TR,j.BR),ne=j.TL,fe=j.TR}}},71858:function(k,F,e){var h=e(39898),E=e(63463),n=e(72597).resizeText;k.exports=function(w){var p=w._fullLayout._funnelarealayer.selectAll(".trace");n(w,p,"funnelarea"),p.each(function(m){var t=m[0],r=t.trace,l=h.select(this);l.style({opacity:r.opacity}),l.selectAll("path.surface").each(function(i){h.select(this).call(E,i,r,w)})})}},21606:function(k,F,e){var h=e(82196),E=e(9012),n=e(41940),L=e(12663).axisHoverFormat,w=e(5386).fF,p=e(5386).si,m=e(50693),t=e(1426).extendFlat;k.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},h.x,{impliedEdits:{xtype:"array"}}),x0:t({},h.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},h.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},h.y,{impliedEdits:{ytype:"array"}}),y0:t({},h.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},h.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},h.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},h.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},h.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},h.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},h.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},h.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:w(),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:n({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},E.showlegend,{dflt:!1})},{transforms:void 0},m("",{cLetter:"z",autoColorDflt:!1}))},90757:function(k,F,e){var h=e(73972),E=e(71828),n=e(89298),L=e(42973),w=e(17562),p=e(78803),m=e(68296),t=e(4742),r=e(824),l=e(43907),i=e(70769),f=e(50606).BADNUM;k.exports=function(d,M){var g=n.getFromId(d,M.xaxis||"x"),u=n.getFromId(d,M.yaxis||"y"),y=h.traceIs(M,"contour"),C=h.traceIs(M,"histogram"),S=h.traceIs(M,"gl2d"),D=y?"best":M.zsmooth,T,P,A,a,R,b,N,O,Y,B,W;if(g._minDtick=0,u._minDtick=0,C)W=w(d,M),a=W.orig_x,T=W.x,P=W.x0,A=W.dx,O=W.orig_y,R=W.y,b=W.y0,N=W.dy,Y=W.z;else{var H=M.z;E.isArray1D(H)?(m(M,g,u,"x","y",["z"]),T=M._x,R=M._y,H=M._z):(a=M.x?g.makeCalcdata(M,"x"):[],O=M.y?u.makeCalcdata(M,"y"):[],T=L(M,g,"x",a).vals,R=L(M,u,"y",O).vals,M._x=T,M._y=R),P=M.x0,A=M.dx,b=M.y0,N=M.dy,Y=t(H,M,g,u)}(g.rangebreaks||u.rangebreaks)&&(Y=c(T,R,Y),C||(T=v(T),R=v(R),M._x=T,M._y=R)),!C&&(y||M.connectgaps)&&(M._emptypoints=l(Y),r(Y,M._emptypoints));function U(Q){D=M._input.zsmooth=M.zsmooth=!1,E.warn('cannot use zsmooth: "fast": '+Q)}function G(Q){if(Q.length>1){var $=(Q[Q.length-1]-Q[0])/(Q.length-1),ne=Math.abs($/100);for(B=0;B<Q.length-1;B++)if(Math.abs(Q[B+1]-Q[B]-$)>ne)return!1}return!0}M._islinear=!1,g.type==="log"||u.type==="log"?D==="fast"&&U("log axis found"):G(T)?G(R)?M._islinear=!0:D==="fast"&&U("y scale is not linear"):D==="fast"&&U("x scale is not linear");var j=E.maxRowLength(Y),re=M.xtype==="scaled"?"":T,ae=i(M,re,P,A,j,g),ue=M.ytype==="scaled"?"":R,de=i(M,ue,b,N,Y.length,u);S||(M._extremes[g._id]=n.findExtremes(g,ae),M._extremes[u._id]=n.findExtremes(u,de));var ee={x:ae,y:de,z:Y,text:M._text||M.text,hovertext:M._hovertext||M.hovertext};if(M.xperiodalignment&&a&&(ee.orig_x=a),M.yperiodalignment&&O&&(ee.orig_y=O),re&&re.length===ae.length-1&&(ee.xCenter=re),ue&&ue.length===de.length-1&&(ee.yCenter=ue),C&&(ee.xRanges=W.xRanges,ee.yRanges=W.yRanges,ee.pts=W.pts),y||p(d,M,{vals:Y,cLetter:"z"}),y&&M.contours&&M.contours.coloring==="heatmap"){var X={type:M.type==="contour"?"heatmap":"histogram2d",xcalendar:M.xcalendar,ycalendar:M.ycalendar};ee.xfill=i(X,re,P,A,j,g),ee.yfill=i(X,ue,b,N,Y.length,u)}return[ee]};function v(x){for(var d=[],M=x.length,g=0;g<M;g++){var u=x[g];u!==f&&d.push(u)}return d}function c(x,d,M){for(var g=[],u=-1,y=0;y<M.length;y++)if(d[y]!==f){u++,g[u]=[];for(var C=0;C<M[y].length;C++)x[C]!==f&&g[u].push(M[y][C])}return g}},4742:function(k,F,e){var h=e(92770),E=e(71828),n=e(50606).BADNUM;k.exports=function(w,p,m,t){var r,l,i,f,v,c;function x(C){if(h(C))return+C}if(p&&p.transpose){for(r=0,v=0;v<w.length;v++)r=Math.max(r,w[v].length);if(r===0)return!1;i=function(C){return C.length},f=function(C,S,D){return(C[D]||[])[S]}}else r=w.length,i=function(C,S){return C[S].length},f=function(C,S,D){return(C[S]||[])[D]};var d=function(C,S,D){return S===n||D===n?n:f(C,S,D)};function M(C){if(p&&p.type!=="carpet"&&p.type!=="contourcarpet"&&C&&C.type==="category"&&p["_"+C._id.charAt(0)].length){var S=C._id.charAt(0),D={},T=p["_"+S+"CategoryMap"]||p[S];for(v=0;v<T.length;v++)D[T[v]]=v;return function(P){var A=D[C._categories[P]];return A+1?A:n}}else return E.identity}var g=M(m),u=M(t);t&&t.type==="category"&&(r=t._categories.length);var y=new Array(r);for(v=0;v<r;v++)for(m&&m.type==="category"?l=m._categories.length:l=i(w,v),y[v]=new Array(l),c=0;c<l;c++)y[v][c]=x(d(w,u(v),g(c)));return y}},61243:function(k){k.exports={min:"zmin",max:"zmax"}},68296:function(k,F,e){var h=e(71828),E=e(50606).BADNUM,n=e(42973);k.exports=function(w,p,m,t,r,l){var i=w._length,f=p.makeCalcdata(w,t),v=m.makeCalcdata(w,r);f=n(w,p,t,f).vals,v=n(w,m,r,v).vals;var c=w.text,x=c!==void 0&&h.isArray1D(c),d=w.hovertext,M=d!==void 0&&h.isArray1D(d),g,u,y=h.distinctVals(f),C=y.vals,S=h.distinctVals(v),D=S.vals,T=[],P,A,a=D.length,R=C.length;for(g=0;g<l.length;g++)T[g]=h.init2dArray(a,R);x&&(P=h.init2dArray(a,R)),M&&(A=h.init2dArray(a,R));var b=h.init2dArray(a,R);for(g=0;g<i;g++)if(f[g]!==E&&v[g]!==E){var N=h.findBin(f[g]+y.minDiff/2,C),O=h.findBin(v[g]+S.minDiff/2,D);for(u=0;u<l.length;u++){var Y=l[u],B=w[Y],W=T[u];W[O][N]=B[g],b[O][N]=g}x&&(P[O][N]=c[g]),M&&(A[O][N]=d[g])}for(w["_"+t]=C,w["_"+r]=D,u=0;u<l.length;u++)w["_"+l[u]]=T[u];x&&(w._text=P),M&&(w._hovertext=A),p&&p.type==="category"&&(w["_"+t+"CategoryMap"]=C.map(function(H){return p._categories[H]})),m&&m.type==="category"&&(w["_"+r+"CategoryMap"]=D.map(function(H){return m._categories[H]})),w._after2before=b}},76382:function(k,F,e){var h=e(71828),E=e(67684),n=e(58623),L=e(73927),w=e(49901),p=e(1586),m=e(21606);k.exports=function(r,l,i,f){function v(x,d){return h.coerce(r,l,m,x,d)}var c=E(r,l,v,f);if(!c){l.visible=!1;return}L(r,l,f,v),v("xhoverformat"),v("yhoverformat"),v("text"),v("hovertext"),v("hovertemplate"),n(v,f),w(r,l,v,f),v("hoverongaps"),v("connectgaps",h.isArray1D(l.z)&&l.zsmooth!==!1),p(r,l,f,v,{prefix:"",cLetter:"z"})}},43907:function(k,F,e){var h=e(71828).maxRowLength;k.exports=function(n){var L=[],w={},p=[],m=n[0],t=[],r=[0,0,0],l=h(n),i,f,v,c,x,d,M,g;for(f=0;f<n.length;f++)for(i=t,t=m,m=n[f+1]||[],v=0;v<l;v++)t[v]===void 0&&(d=(t[v-1]!==void 0?1:0)+(t[v+1]!==void 0?1:0)+(i[v]!==void 0?1:0)+(m[v]!==void 0?1:0),d?(f===0&&d++,v===0&&d++,f===n.length-1&&d++,v===t.length-1&&d++,d<4&&(w[[f,v]]=[f,v,d]),L.push([f,v,d])):p.push([f,v]));for(;p.length;){for(M={},g=!1,x=p.length-1;x>=0;x--)c=p[x],f=c[0],v=c[1],d=((w[[f-1,v]]||r)[2]+(w[[f+1,v]]||r)[2]+(w[[f,v-1]]||r)[2]+(w[[f,v+1]]||r)[2])/20,d&&(M[c]=[f,v,d],p.splice(x,1),g=!0);if(!g)throw"findEmpties iterated with no new neighbors";for(c in M)w[c]=M[c],L.push(M[c])}return L.sort(function(u,y){return y[2]-u[2]})}},46248:function(k,F,e){var h=e(30211),E=e(71828),n=e(89298),L=e(21081).extractOpts;k.exports=function(p,m,t,r,l){l||(l={});var i=l.isContour,f=p.cd[0],v=f.trace,c=p.xa,x=p.ya,d=f.x,M=f.y,g=f.z,u=f.xCenter,y=f.yCenter,C=f.zmask,S=v.zhoverformat,D=d,T=M,P,A,a,R;if(p.index!==!1){try{a=Math.round(p.index[1]),R=Math.round(p.index[0])}catch{E.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(a<0||a>=g[0].length||R<0||R>g.length)return}else{if(h.inbox(m-d[0],m-d[d.length-1],0)>0||h.inbox(t-M[0],t-M[M.length-1],0)>0)return;if(i){var b;for(D=[2*d[0]-d[1]],b=1;b<d.length;b++)D.push((d[b]+d[b-1])/2);for(D.push([2*d[d.length-1]-d[d.length-2]]),T=[2*M[0]-M[1]],b=1;b<M.length;b++)T.push((M[b]+M[b-1])/2);T.push([2*M[M.length-1]-M[M.length-2]])}a=Math.max(0,Math.min(D.length-2,E.findBin(m,D))),R=Math.max(0,Math.min(T.length-2,E.findBin(t,T)))}var N=c.c2p(d[a]),O=c.c2p(d[a+1]),Y=x.c2p(M[R]),B=x.c2p(M[R+1]),W,H;i?(W=f.orig_x||d,H=f.orig_y||M,O=N,P=W[a],B=Y,A=H[R]):(W=f.orig_x||u||d,H=f.orig_y||y||M,P=u?W[a]:(W[a]+W[a+1])/2,A=y?H[R]:(H[R]+H[R+1])/2,c&&c.type==="category"&&(P=d[a]),x&&x.type==="category"&&(A=M[R]),v.zsmooth&&(N=O=c.c2p(P),Y=B=x.c2p(A)));var U=g[R][a];if(C&&!C[R][a]&&(U=void 0),!(U===void 0&&!v.hoverongaps)){var G;Array.isArray(f.hovertext)&&Array.isArray(f.hovertext[R])?G=f.hovertext[R][a]:Array.isArray(f.text)&&Array.isArray(f.text[R])&&(G=f.text[R][a]);var j=L(v),re={type:"linear",range:[j.min,j.max],hoverformat:S,_separators:c._separators,_numFormat:c._numFormat},ae=n.tickText(re,U,"hover").text;return[E.extendFlat(p,{index:v._after2before?v._after2before[R][a]:[R,a],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:N,x1:O,y0:Y,y1:B,xLabelVal:P,yLabelVal:A,zLabelVal:U,zLabel:ae,text:G})]}}},92165:function(k,F,e){k.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(k,F,e){var h=e(71828),E=.01,n=[[-1,0],[1,0],[0,-1],[0,1]];function L(p){return .5-.25*Math.min(1,p*.5)}k.exports=function(m,t){var r=1,l;for(w(m,t),l=0;l<t.length&&!(t[l][2]<4);l++);for(t=t.slice(l),l=0;l<100&&r>E;l++)r=w(m,t,L(r));return r>E&&h.log("interp2d didn't converge quickly",r),m};function w(p,m,t){var r=0,l,i,f,v,c,x,d,M,g,u,y,C,S;for(v=0;v<m.length;v++){for(l=m[v],i=l[0],f=l[1],y=p[i][f],u=0,g=0,c=0;c<4;c++)x=n[c],d=p[i+x[0]],d&&(M=d[f+x[1]],M!==void 0&&(u===0?C=S=M:(C=Math.min(C,M),S=Math.max(S,M)),g++,u+=M));if(g===0)throw"iterateInterp2d order is wrong: no defined neighbors";p[i][f]=u/g,y===void 0?g<4&&(r=1):(p[i][f]=(1+t)*p[i][f]-t*y,S>C&&(r=Math.max(r,Math.abs(p[i][f]-y)/(S-C))))}return r}},58623:function(k,F,e){var h=e(71828);k.exports=function(n,L){n("texttemplate");var w=h.extendFlat({},L.font,{color:"auto",size:"auto"});h.coerceFont(n,"textfont",w)}},70769:function(k,F,e){var h=e(73972),E=e(71828).isArrayOrTypedArray;k.exports=function(L,w,p,m,t,r){var l=[],i=h.traceIs(L,"contour"),f=h.traceIs(L,"histogram"),v=h.traceIs(L,"gl2d"),c,x,d,M=E(w)&&w.length>1;if(M&&!f&&r.type!=="category"){var g=w.length;if(g<=t){if(i||v)l=w.slice(0,t);else if(t===1)l=[w[0]-.5,w[0]+.5];else{for(l=[1.5*w[0]-.5*w[1]],d=1;d<g;d++)l.push((w[d-1]+w[d])*.5);l.push(1.5*w[g-1]-.5*w[g-2])}if(g<t){var u=l[l.length-1],y=u-l[l.length-2];for(d=g;d<t;d++)u+=y,l.push(u)}}else return i?w.slice(0,t):w.slice(0,t+1)}else{var C=L[r._id.charAt(0)+"calendar"];if(f)c=r.r2c(p,0,C);else if(E(w)&&w.length===1)c=w[0];else if(p===void 0)c=0;else{var S=r.type==="log"?r.d2c:r.r2c;c=S(p,0,C)}for(x=m||1,d=i||v?0:-.5;d<t;d++)l.push(c+x*d)}return l}},50347:function(k,F,e){var h=e(39898),E=e(84267),n=e(73972),L=e(91424),w=e(89298),p=e(71828),m=e(63893),t=e(8225),r=e(7901),l=e(21081).extractOpts,i=e(21081).makeColorScaleFuncFromTrace,f=e(77922),v=e(18783),c=v.LINE_SPACING,x=e(3883),d=e(32396).STYLE,M="heatmap-label";function g(D){return D.selectAll("g."+M)}function u(D){g(D).remove()}k.exports=function(D,T,P,A){var a=T.xaxis,R=T.yaxis;p.makeTraceGroups(A,P,"hm").each(function(b){var N=h.select(this),O=b[0],Y=O.trace,B=Y.xgap||0,W=Y.ygap||0,H=O.z,U=O.x,G=O.y,j=O.xCenter,re=O.yCenter,ae=n.traceIs(Y,"contour"),ue=ae?"best":Y.zsmooth,de=H.length,ee=p.maxRowLength(H),X=!1,Q=!1,$,ne,fe,te,q,he,se,pe;for(he=0;$===void 0&&he<U.length-1;)$=a.c2p(U[he]),he++;for(he=U.length-1;ne===void 0&&he>0;)ne=a.c2p(U[he]),he--;for(ne<$&&(fe=ne,ne=$,$=fe,X=!0),he=0;te===void 0&&he<G.length-1;)te=R.c2p(G[he]),he++;for(he=G.length-1;q===void 0&&he>0;)q=R.c2p(G[he]),he--;q<te&&(fe=te,te=q,q=fe,Q=!0),ae&&(j=U,re=G,U=O.xfill,G=O.yfill);var we="default";if(ue?we=ue==="best"?"smooth":"fast":Y._islinear&&B===0&&W===0&&x()&&(we="fast"),we!=="fast"){var Ee=ue==="best"?0:.5;$=Math.max(-Ee*a._length,$),ne=Math.min((1+Ee)*a._length,ne),te=Math.max(-Ee*R._length,te),q=Math.min((1+Ee)*R._length,q)}var Me=Math.round(ne-$),Be=Math.round(q-te),Ne=$>=a._length||ne<=0||te>=R._length||q<=0;if(Ne){var Ce=N.selectAll("image").data([]);Ce.exit().remove(),u(N);return}var Te,Le;we==="fast"?(Te=ee,Le=de):(Te=Me,Le=Be);var Ve=document.createElement("canvas");Ve.width=Te,Ve.height=Le;var We=Ve.getContext("2d"),Fe=i(Y,{noNumericCheck:!0,returnArray:!0}),Ge,it;we==="fast"?(Ge=X?function(qr){return ee-1-qr}:p.identity,it=Q?function(qr){return de-1-qr}:p.identity):(Ge=function(qr){return p.constrain(Math.round(a.c2p(U[qr])-$),0,Me)},it=function(qr){return p.constrain(Math.round(R.c2p(G[qr])-te),0,Be)});var qe=it(0),$e=[qe,qe],tt=X?0:1,vt=Q?0:1,dt=0,gt=0,Mt=0,Ct=0,Wt,Xe,ke,Ie,Oe;function _e(qr,vn){if(qr!==void 0){var fn=Fe(qr);return fn[0]=Math.round(fn[0]),fn[1]=Math.round(fn[1]),fn[2]=Math.round(fn[2]),dt+=vn,gt+=fn[0]*vn,Mt+=fn[1]*vn,Ct+=fn[2]*vn,fn}return[0,0,0,0]}function Ae(qr,vn,fn,Tn){var Pn=qr[fn.bin0];if(Pn===void 0)return _e(void 0,1);var jn=qr[fn.bin1],qn=vn[fn.bin0],si=vn[fn.bin1],ti=jn-Pn||0,ei=qn-Pn||0,Mr;return jn===void 0?si===void 0?Mr=0:qn===void 0?Mr=2*(si-Pn):Mr=(2*si-qn-Pn)*2/3:si===void 0?qn===void 0?Mr=0:Mr=(2*Pn-jn-qn)*2/3:qn===void 0?Mr=(2*si-jn-Pn)*2/3:Mr=si+Pn-jn-qn,_e(Pn+fn.frac*ti+Tn.frac*(ei+fn.frac*Mr))}if(we!=="default"){var ce=0,be;try{be=new Uint8Array(Te*Le*4)}catch{be=new Array(Te*Le*4)}if(we==="smooth"){var Re=j||U,Ue=re||G,nt=new Array(Re.length),ot=new Array(Ue.length),wt=new Array(Me),_t=j?C:y,Ut=re?C:y,Vt,Lt,Kt;for(he=0;he<Re.length;he++)nt[he]=Math.round(a.c2p(Re[he])-$);for(he=0;he<Ue.length;he++)ot[he]=Math.round(R.c2p(Ue[he])-te);for(he=0;he<Me;he++)wt[he]=_t(he,nt);for(se=0;se<Be;se++)for(Vt=Ut(se,ot),Lt=H[Vt.bin0],Kt=H[Vt.bin1],he=0;he<Me;he++,ce+=4)Oe=Ae(Lt,Kt,wt[he],Vt),S(be,ce,Oe)}else for(se=0;se<de;se++)for(Ie=H[se],$e=it(se),he=0;he<ee;he++)Oe=_e(Ie[he],1),ce=($e*ee+Ge(he))*4,S(be,ce,Oe);var ar=We.createImageData(Te,Le);try{ar.data.set(be)}catch{var Fr=ar.data,yt=Fr.length;for(se=0;se<yt;se++)Fr[se]=be[se]}We.putImageData(ar,0,0)}else{var Xt=Math.floor(B/2),Yt=Math.floor(W/2);for(se=0;se<de;se++)if(Ie=H[se],$e.reverse(),$e[vt]=it(se+1),!($e[0]===$e[1]||$e[0]===void 0||$e[1]===void 0))for(Xe=Ge(0),Wt=[Xe,Xe],he=0;he<ee;he++)Wt.reverse(),Wt[tt]=Ge(he+1),!(Wt[0]===Wt[1]||Wt[0]===void 0||Wt[1]===void 0)&&(ke=Ie[he],Oe=_e(ke,(Wt[1]-Wt[0])*($e[1]-$e[0])),We.fillStyle="rgba("+Oe.join(",")+")",We.fillRect(Wt[0]+Xt,$e[0]+Yt,Wt[1]-Wt[0]-B,$e[1]-$e[0]-W))}gt=Math.round(gt/dt),Mt=Math.round(Mt/dt),Ct=Math.round(Ct/dt);var br=E("rgb("+gt+","+Mt+","+Ct+")");D._hmpixcount=(D._hmpixcount||0)+dt,D._hmlumcount=(D._hmlumcount||0)+dt*br.getLuminance();var hr=N.selectAll("image").data(b);hr.enter().append("svg:image").attr({xmlns:f.svg,preserveAspectRatio:"none"}),hr.attr({height:Be,width:Me,x:$,y:te,"xlink:href":Ve.toDataURL("image/png")}),we==="fast"&&!ue&&hr.attr("style",d),u(N);var ut=Y.texttemplate;if(ut){var lt=l(Y),xt={type:"linear",range:[lt.min,lt.max],_separators:a._separators,_numFormat:a._numFormat},Tt=Y.type==="histogram2dcontour",Et=Y.type==="contour",At=Et?1:0,Ft=Et?de-1:de,Ht=Et?1:0,$t=Et?ee-1:ee,Qt=[];for(he=At;he<Ft;he++){var or;if(Et)or=O.y[he];else if(Tt){if(he===0||he===de-1)continue;or=O.y[he]}else if(O.yCenter)or=O.yCenter[he];else{if(he+1===de&&O.y[he+1]===void 0)continue;or=(O.y[he]+O.y[he+1])/2}var Er=Math.round(R.c2p(or));if(!(0>Er||Er>R._length))for(se=Ht;se<$t;se++){var Ze;if(Et)Ze=O.x[se];else if(Tt){if(se===0||se===ee-1)continue;Ze=O.x[se]}else if(O.xCenter)Ze=O.xCenter[se];else{if(se+1===ee&&O.x[se+1]===void 0)continue;Ze=(O.x[se]+O.x[se+1])/2}var Ye=Math.round(a.c2p(Ze));if(!(0>Ye||Ye>a._length)){var Dt=t({x:Ze,y:or},Y,D._fullLayout);Dt.x=Ze,Dt.y=or;var It=O.z[he][se];It===void 0?(Dt.z="",Dt.zLabel=""):(Dt.z=It,Dt.zLabel=w.tickText(xt,It,"hover").text);var Zt=O.text&&O.text[he]&&O.text[he][se];(Zt===void 0||Zt===!1)&&(Zt=""),Dt.text=Zt;var nr=p.texttemplateString(ut,Dt,D._fullLayout._d3locale,Dt,Y._meta||{});if(nr){var lr=nr.split("<br>"),rr=lr.length,zt=0;for(pe=0;pe<rr;pe++)zt=Math.max(zt,lr[pe].length);Qt.push({l:rr,c:zt,t:nr,x:Ye,y:Er,z:It})}}}}var fr=Y.textfont,dr=fr.family,pr=fr.size,vr=D._fullLayout.font.size;if(!pr||pr==="auto"){var Vr=1/0,_r=1/0,kr=0,pn=0;for(pe=0;pe<Qt.length;pe++){var Xr=Qt[pe];if(kr=Math.max(kr,Xr.l),pn=Math.max(pn,Xr.c),pe<Qt.length-1){var _n=Qt[pe+1],Dn=Math.abs(_n.x-Xr.x),xr=Math.abs(_n.y-Xr.y);Dn&&(Vr=Math.min(Vr,Dn)),xr&&(_r=Math.min(_r,xr))}}!isFinite(Vr)||!isFinite(_r)?pr=vr:(Vr-=B,_r-=W,Vr/=pn,_r/=kr,Vr/=c/2,_r/=c,pr=Math.min(Math.floor(Vr),Math.floor(_r),vr))}if(pr<=0||!isFinite(pr))return;var Ar=function(qr){return qr.x},Or=function(qr){return qr.y-pr*(qr.l*c/2-1)},Br=g(N).data(Qt);Br.enter().append("g").classed(M,1).append("text").attr("text-anchor","middle").each(function(qr){var vn=h.select(this),fn=fr.color;(!fn||fn==="auto")&&(fn=r.contrast("rgba("+Fe(qr.z).join()+")")),vn.attr("data-notex",1).call(m.positionText,Ar(qr),Or(qr)).call(L.font,dr,pr,fn).text(qr.t).call(m.convertToTspans,D)})}})};function y(D,T){var P=T.length-2,A=p.constrain(p.findBin(D,T),0,P),a=T[A],R=T[A+1],b=p.constrain(A+(D-a)/(R-a)-.5,0,P),N=Math.round(b),O=Math.abs(b-N);return!b||b===P||!O?{bin0:N,bin1:N,frac:0}:{bin0:N,frac:O,bin1:Math.round(N+O/(b-N))}}function C(D,T){var P=T.length-1,A=p.constrain(p.findBin(D,T),0,P),a=T[A],R=T[A+1],b=(D-a)/(R-a)||0;return b<=0?{bin0:A,bin1:A,frac:0}:b<.5?{bin0:A,bin1:A+1,frac:b}:{bin0:A+1,bin1:A,frac:1-b}}function S(D,T,P){D[T]=P[0],D[T+1]=P[1],D[T+2]=P[2],D[T+3]=Math.round(P[3]*255)}},70035:function(k,F,e){var h=e(39898);k.exports=function(n){h.select(n).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},49901:function(k){k.exports=function(e,h,E){var n=E("zsmooth");n===!1&&(E("xgap"),E("ygap")),E("zhoverformat")}},67684:function(k,F,e){var h=e(92770),E=e(71828),n=e(73972);k.exports=function(m,t,r,l,i,f){var v=r("z");i=i||"x",f=f||"y";var c,x;if(v===void 0||!v.length)return 0;if(E.isArray1D(m.z)){c=r(i),x=r(f);var d=E.minRowLength(c),M=E.minRowLength(x);if(d===0||M===0)return 0;t._length=Math.min(d,M,v.length)}else{if(c=L(i,r),x=L(f,r),!w(v))return 0;r("transpose"),t._length=null}if(m.type==="heatmapgl")return!0;var g=n.getComponentMethod("calendars","handleTraceDefaults");return g(m,t,[i,f],l),!0};function L(p,m){var t=m(p),r=t?m(p+"type","array"):"scaled";return r==="scaled"&&(m(p+"0"),m("d"+p)),t}function w(p){for(var m=!0,t=!1,r=!1,l,i=0;i<p.length;i++){if(l=p[i],!E.isArrayOrTypedArray(l)){m=!1;break}l.length>0&&(t=!0);for(var f=0;f<l.length;f++)if(h(l[f])){r=!0;break}}return m&&t&&r}},16063:function(k,F,e){for(var h=e(21606),E=e(50693),n=e(1426).extendFlat,L=e(30962).overrideAll,w=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],p={},m=0;m<w.length;m++){var t=w[m];p[t]=h[t]}p.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},n(p,E("",{cLetter:"z",autoColorDflt:!1})),k.exports=L(p,"calc","nested")},59560:function(k,F,e){var h=e(9330).gl_heatmap2d,E=e(89298),n=e(78614);function L(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=h(t.glplot,this.options),this.heatmap._trace=this}var w=L.prototype;w.handlePick=function(t){var r=this.options,l=r.shape,i=t.pointId,f=i%l[0],v=Math.floor(i/l[0]),c=i;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[f],r.y[v],r.z[c]],textLabel:this.textLabels[i],name:this.name,pointIndex:[v,f],hoverinfo:this.hoverinfo}},w.update=function(t,r){var l=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var i=l.z;this.options.z=[].concat.apply([],i);var f=i[0].length,v=i.length;this.options.shape=[f,v],this.options.x=l.x,this.options.y=l.y,this.options.zsmooth=t.zsmooth;var c=p(t);this.options.colorLevels=c.colorLevels,this.options.colorValues=c.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var x=this.scene.xaxis,d=this.scene.yaxis,M,g;t.zsmooth===!1&&(M={ppad:l.x[1]-l.x[0]},g={ppad:l.y[1]-l.y[0]}),t._extremes[x._id]=E.findExtremes(x,l.x,M),t._extremes[d._id]=E.findExtremes(d,l.y,g)},w.dispose=function(){this.heatmap.dispose()};function p(t){for(var r=t.colorscale,l=t.zmin,i=t.zmax,f=r.length,v=new Array(f),c=new Array(4*f),x=0;x<f;x++){var d=r[x],M=n(d[1]);v[x]=l+d[0]*(i-l);for(var g=0;g<4;g++)c[4*x+g]=M[g]}return{colorLevels:v,colorValues:c}}function m(t,r,l){var i=new L(t,r.uid);return i.update(r,l),i}k.exports=m},19600:function(k,F,e){var h=e(71828),E=e(67684),n=e(1586),L=e(16063);k.exports=function(p,m,t,r){function l(f,v){return h.coerce(p,m,L,f,v)}var i=E(p,m,l,r);if(!i){m.visible=!1;return}l("text"),l("zsmooth"),n(p,m,r,l,{prefix:"",cLetter:"z"})}},3325:function(k,F,e){k.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(k,F,e){var h=e(1486),E=e(12663).axisHoverFormat,n=e(5386).fF,L=e(5386).si,w=e(41940),p=e(17656),m=e(72406),t=e(1426).extendFlat;k.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:E("x"),yhoverformat:E("y"),text:t({},h.text,{}),hovertext:t({},h.hovertext,{}),orientation:h.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:p("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:p("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({},{keys:m.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},h.textposition,{arrayOk:!1}),textfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:h.insidetextanchor,textangle:h.textangle,cliponaxis:h.cliponaxis,constraintext:h.constraintext,marker:h.marker,offsetgroup:h.offsetgroup,alignmentgroup:h.alignmentgroup,selected:h.selected,unselected:h.unselected,_deprecated:{bardir:h._deprecated.bardir}}},42174:function(k){k.exports=function(e,h){for(var E=e.length,n=0,L=0;L<E;L++)h[L]?(e[L]/=h[L],n+=e[L]):e[L]=null;return n}},17656:function(k){k.exports=function(e,h){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(k,F,e){var h=e(92770);k.exports={count:function(E,n,L){return L[E]++,1},sum:function(E,n,L,w){var p=w[n];return h(p)?(p=Number(p),L[E]+=p,p):0},avg:function(E,n,L,w,p){var m=w[n];return h(m)&&(m=Number(m),L[E]+=m,p[E]++),0},min:function(E,n,L,w){var p=w[n];if(h(p))if(p=Number(p),h(L[E])){if(L[E]>p){var m=p-L[E];return L[E]=p,m}}else return L[E]=p,p;return 0},max:function(E,n,L,w){var p=w[n];if(h(p))if(p=Number(p),h(L[E])){if(L[E]<p){var m=p-L[E];return L[E]=p,m}}else return L[E]=p,p;return 0}}},40965:function(k,F,e){var h=e(50606),E=h.ONEAVGYEAR,n=h.ONEAVGMONTH,L=h.ONEDAY,w=h.ONEHOUR,p=h.ONEMIN,m=h.ONESEC,t=e(89298).tickIncrement;k.exports=function(c,x,d,M,g){var u=-1.1*x,y=-.1*x,C=c-y,S=d[0],D=d[1],T=Math.min(r(S+y,S+C,M,g),r(D+y,D+C,M,g)),P=Math.min(r(S+u,S+y,M,g),r(D+u,D+y,M,g)),A,a;if(T>P&&P<Math.abs(D-S)/4e3?(A=T,a=!1):(A=Math.min(T,P),a=!0),M.type==="date"&&A>L){var R=A===E?1:6,b=A===E?"M12":"M1";return function(N,O){var Y=M.c2d(N,E,g),B=Y.indexOf("-",R);B>0&&(Y=Y.substr(0,B));var W=M.d2c(Y,0,g);if(W<N){var H=t(W,b,!1,g);(W+H)/2<N+c&&(W=H)}return O&&a?t(W,b,!0,g):W}}return function(N,O){var Y=A*Math.round(N/A);return Y+A/10<N&&Y+A*.9<N+c&&(Y+=A),O&&a&&(Y-=A),Y}};function r(v,c,x,d){if(v*c<=0)return 1/0;for(var M=Math.abs(c-v),g=x.type==="date",u=l(M,g),y=0;y<10;y++){var C=l(u*80,g);if(u===C)break;if(i(C,v,c,g,x,d))u=C;else break}return u}function l(v,c){return c&&v>m?v>L?v>E*1.1?E:v>n*1.1?n:L:v>w?w:v>p?p:m:Math.pow(10,Math.floor(Math.log(v)/Math.LN10))}function i(v,c,x,d,M,g){if(d&&v>L){var u=f(c,M,g),y=f(x,M,g),C=v===E?0:1;return u[C]!==y[C]}return Math.floor(x/v)-Math.floor(c/v)>.1}function f(v,c,x){var d=c.c2d(v,E,x).split("-");return d[0]===""&&(d.unshift(),d[0]="-"+d[0]),d}},72138:function(k,F,e){var h=e(92770),E=e(71828),n=e(73972),L=e(89298),w=e(75341),p=e(59575),m=e(36362),t=e(42174),r=e(40965);function l(x,d){var M=[],g=[],u=d.orientation==="h",y=L.getFromId(x,u?d.yaxis:d.xaxis),C=u?"y":"x",S={x:"y",y:"x"}[C],D=d[C+"calendar"],T=d.cumulative,P,A=i(x,d,y,C),a=A[0],R=A[1],b=typeof a.size=="string",N=[],O=b?N:a,Y=[],B=[],W=[],H=0,U=d.histnorm,G=d.histfunc,j=U.indexOf("density")!==-1,re,ae,ue;T.enabled&&j&&(U=U.replace(/ ?density$/,""),j=!1);var de=G==="max"||G==="min",ee=de?null:0,X=p.count,Q=m[U],$=!1,ne=function(We){return y.r2c(We,0,D)},fe;for(E.isArrayOrTypedArray(d[S])&&G!=="count"&&(fe=d[S],$=G==="avg",X=p[G]),P=ne(a.start),ae=ne(a.end)+(P-L.tickIncrement(P,a.size,!1,D))/1e6;P<ae&&M.length<1e6&&(re=L.tickIncrement(P,a.size,!1,D),M.push((P+re)/2),g.push(ee),W.push([]),N.push(P),j&&Y.push(1/(re-P)),$&&B.push(0),!(re<=P));)P=re;N.push(P),!b&&y.type==="date"&&(O={start:ne(O.start),end:ne(O.end),size:O.size}),x._fullLayout._roundFnOpts||(x._fullLayout._roundFnOpts={});var te=d["_"+C+"bingroup"],q={leftGap:1/0,rightGap:1/0};te&&(x._fullLayout._roundFnOpts[te]||(x._fullLayout._roundFnOpts[te]=q),q=x._fullLayout._roundFnOpts[te]);var he=g.length,se=!0,pe=q.leftGap,we=q.rightGap,Ee={};for(P=0;P<R.length;P++){var Me=R[P];ue=E.findBin(Me,O),ue>=0&&ue<he&&(H+=X(ue,P,g,fe,B),se&&W[ue].length&&Me!==R[W[ue][0]]&&(se=!1),W[ue].push(P),Ee[P]=ue,pe=Math.min(pe,Me-N[ue]),we=Math.min(we,N[ue+1]-Me))}q.leftGap=pe,q.rightGap=we;var Be;se||(Be=function(We,Fe){return function(){var Ge=x._fullLayout._roundFnOpts[te];return r(Ge.leftGap,Ge.rightGap,N,y,D)(We,Fe)}}),$&&(H=t(g,B)),Q&&Q(g,H,Y),T.enabled&&c(g,T.direction,T.currentbin);var Ne=Math.min(M.length,g.length),Ce=[],Te=0,Le=Ne-1;for(P=0;P<Ne;P++)if(g[P]){Te=P;break}for(P=Ne-1;P>=Te;P--)if(g[P]){Le=P;break}for(P=Te;P<=Le;P++)if(h(M[P])&&h(g[P])){var Ve={p:M[P],s:g[P],b:0};T.enabled||(Ve.pts=W[P],se?Ve.ph0=Ve.ph1=W[P].length?R[W[P][0]]:M[P]:(d._computePh=!0,Ve.ph0=Be(N[P]),Ve.ph1=Be(N[P+1],!0))),Ce.push(Ve)}return Ce.length===1&&(Ce[0].width1=L.tickIncrement(Ce[0].p,a.size,!1,D)-Ce[0].p),w(Ce,d),E.isArrayOrTypedArray(d.selectedpoints)&&E.tagSelected(Ce,d,Ee),Ce}function i(x,d,M,g,u){var y=g+"bins",C=x._fullLayout,S=d["_"+g+"bingroup"],D=C._histogramBinOpts[S],T=C.barmode==="overlay",P,A,a,R,b,N,O,Y=function(Me){return M.r2c(Me,0,R)},B=function(Me){return M.c2r(Me,0,R)},W=M.type==="date"?function(Me){return Me||Me===0?E.cleanDate(Me,null,R):null}:function(Me){return h(Me)?Number(Me):null};function H(Me,Be,Ne){Be[Me+"Found"]?(Be[Me]=W(Be[Me]),Be[Me]===null&&(Be[Me]=Ne[Me])):(N[Me]=Be[Me]=Ne[Me],E.nestedProperty(A[0],y+"."+Me).set(Ne[Me]))}if(d["_"+g+"autoBinFinished"])delete d["_"+g+"autoBinFinished"];else{A=D.traces;var U=[],G=!0,j=!1,re=!1;for(P=0;P<A.length;P++)if(a=A[P],a.visible){var ae=D.dirs[P];b=a["_"+ae+"pos0"]=M.makeCalcdata(a,ae),U=E.concat(U,b),delete a["_"+g+"autoBinFinished"],d.visible===!0&&(G?G=!1:(delete a._autoBin,a["_"+g+"autoBinFinished"]=1),n.traceIs(a,"2dMap")&&(j=!0),a.type==="histogram2dcontour"&&(re=!0))}R=A[0][g+"calendar"];var ue=L.autoBin(U,M,D.nbins,j,R,D.sizeFound&&D.size),de=A[0]._autoBin={};if(N=de[D.dirs[0]]={},re&&(D.size||(ue.start=B(L.tickIncrement(Y(ue.start),ue.size,!0,R))),D.end===void 0&&(ue.end=B(L.tickIncrement(Y(ue.end),ue.size,!1,R)))),T&&!n.traceIs(d,"2dMap")&&ue._dataSpan===0&&M.type!=="category"&&M.type!=="multicategory"){if(u)return[ue,b,!0];ue=f(x,d,M,g,y)}O=a.cumulative||{},O.enabled&&O.currentbin!=="include"&&(O.direction==="decreasing"?ue.start=B(L.tickIncrement(Y(ue.start),ue.size,!0,R)):ue.end=B(L.tickIncrement(Y(ue.end),ue.size,!1,R))),D.size=ue.size,D.sizeFound||(N.size=ue.size,E.nestedProperty(A[0],y+".size").set(ue.size)),H("start",D,ue),H("end",D,ue)}b=d["_"+g+"pos0"],delete d["_"+g+"pos0"];var ee=d._input[y]||{},X=E.extendFlat({},D),Q=D.start,$=M.r2l(ee.start),ne=$!==void 0;if((D.startFound||ne)&&$!==M.r2l(Q)){var fe=ne?$:E.aggNums(Math.min,null,b),te={type:M.type==="category"||M.type==="multicategory"?"linear":M.type,r2l:M.r2l,dtick:D.size,tick0:Q,calendar:R,range:[fe,L.tickIncrement(fe,D.size,!1,R)].map(M.l2r)},q=L.tickFirst(te);q>M.r2l(fe)&&(q=L.tickIncrement(q,D.size,!0,R)),X.start=M.l2r(q),ne||E.nestedProperty(d,y+".start").set(X.start)}var he=D.end,se=M.r2l(ee.end),pe=se!==void 0;if((D.endFound||pe)&&se!==M.r2l(he)){var we=pe?se:E.aggNums(Math.max,null,b);X.end=M.l2r(we),pe||E.nestedProperty(d,y+".start").set(X.end)}var Ee="autobin"+g;return d._input[Ee]===!1&&(d._input[y]=E.extendFlat({},d[y]||{}),delete d._input[Ee],delete d[Ee]),[X,b]}function f(x,d,M,g,u){var y=x._fullLayout,C=v(x,d),S=!1,D=1/0,T=[d],P,A,a;for(P=0;P<C.length;P++)if(A=C[P],A===d)S=!0;else if(!S)a=y._histogramBinOpts[A["_"+g+"bingroup"]],D=Math.min(D,a.size||A[u].size);else{var R=i(x,A,M,g,!0),b=R[0],N=R[2];A["_"+g+"autoBinFinished"]=1,A["_"+g+"pos0"]=R[1],N?T.push(A):D=Math.min(D,b.size)}var O=new Array(T.length);for(P=0;P<T.length;P++)for(var Y=T[P]["_"+g+"pos0"],B=0;B<Y.length;B++)if(Y[B]!==void 0){O[P]=Y[B];break}for(isFinite(D)||(D=E.distinctVals(O).minDiff),P=0;P<T.length;P++){A=T[P];var W=A[g+"calendar"],H={start:M.c2r(O[P]-D/2,0,W),end:M.c2r(O[P]+D/2,0,W),size:D};A._input[u]=A[u]=H,a=y._histogramBinOpts[A["_"+g+"bingroup"]],a&&E.extendFlat(a,H)}return d[u]}function v(x,d){for(var M=d.xaxis,g=d.yaxis,u=d.orientation,y=[],C=x._fullData,S=0;S<C.length;S++){var D=C[S];D.type==="histogram"&&D.visible===!0&&D.orientation===u&&D.xaxis===M&&D.yaxis===g&&y.push(D)}return y}function c(x,d,M){var g,u,y;function C(D){y=x[D],x[D]/=2}function S(D){u=x[D],x[D]=y+u/2,y+=u}if(M==="half")if(d==="increasing")for(C(0),g=1;g<x.length;g++)S(g);else for(C(x.length-1),g=x.length-2;g>=0;g--)S(g);else if(d==="increasing"){for(g=1;g<x.length;g++)x[g]+=x[g-1];M==="exclude"&&(x.unshift(0),x.pop())}else{for(g=x.length-2;g>=0;g--)x[g]+=x[g+1];M==="exclude"&&(x.push(0),x.shift())}}k.exports={calc:l,calcAllAutoBins:i}},72406:function(k){k.exports={eventDataKeys:["binNumber"]}},82222:function(k,F,e){var h=e(71828),E=e(41675),n=e(73972).traceIs,L=e(26125),w=h.nestedProperty,p=e(99082).getAxisGroup,m=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];k.exports=function(l,i){var f=i._histogramBinOpts={},v=[],c={},x=[],d,M,g,u,y,C,S;function D(re,ae){return h.coerce(d._input,d,d._module.attributes,re,ae)}function T(re){return re.orientation==="v"?"x":"y"}function P(re,ae){var ue=E.getFromTrace({_fullLayout:i},re,ae);return ue.type}function A(re,ae,ue){var de=re.uid+"__"+ue;ae||(ae=de);var ee=P(re,ue),X=re[ue+"calendar"]||"",Q=f[ae],$=!0;Q&&(ee===Q.axType&&X===Q.calendar?($=!1,Q.traces.push(re),Q.dirs.push(ue)):(ae=de,ee!==Q.axType&&h.warn(["Attempted to group the bins of trace",re.index,"set on a","type:"+ee,"axis","with bins on","type:"+Q.axType,"axis."].join(" ")),X!==Q.calendar&&h.warn(["Attempted to group the bins of trace",re.index,"set with a",X,"calendar","with bins",Q.calendar?"on a "+Q.calendar+" calendar":"w/o a set calendar"].join(" ")))),$&&(f[ae]={traces:[re],dirs:[ue],axType:ee,calendar:re[ue+"calendar"]||""}),re["_"+ue+"bingroup"]=ae}for(y=0;y<l.length;y++)d=l[y],n(d,"histogram")&&(v.push(d),delete d._xautoBinFinished,delete d._yautoBinFinished,n(d,"2dMap")||L(d._input,d,i,D));var a=i._alignmentOpts||{};for(y=0;y<v.length;y++){if(d=v[y],g="",!n(d,"2dMap")){if(u=T(d),i.barmode==="group"&&d.alignmentgroup){var R=d[u+"axis"],b=p(i,R)+d.orientation;(a[b]||{})[d.alignmentgroup]&&(g=b)}!g&&i.barmode!=="overlay"&&(g=p(i,d.xaxis)+p(i,d.yaxis)+T(d))}g?(c[g]||(c[g]=[]),c[g].push(d)):x.push(d)}for(g in c){if(M=c[g],M.length===1){x.push(M[0]);continue}var N=!1;for(M.length&&(d=M[0],N=D("bingroup")),g=N||g,y=0;y<M.length;y++){d=M[y];var O=d._input.bingroup;O&&O!==g&&h.warn(["Trace",d.index,"must match","within bingroup",g+".","Ignoring its bingroup:",O,"setting."].join(" ")),d.bingroup=g,A(d,g,T(d))}}for(y=0;y<x.length;y++){d=x[y];var Y=D("bingroup");if(n(d,"2dMap"))for(S=0;S<2;S++){u=t[S];var B=D(u+"bingroup",Y?Y+"__"+u:null);A(d,B,u)}else A(d,Y,T(d))}for(g in f){var W=f[g];for(M=W.traces,C=0;C<m.length;C++){var H=m[C],U=H.name,G,j;if(!(U==="nbins"&&W.sizeFound)){for(y=0;y<M.length;y++){if(d=M[y],u=W.dirs[y],G=H.aStr[u],w(d._input,G).get()!==void 0){W[U]=D(G),W[U+"Found"]=!0;break}j=(d._autoBin||{})[u]||{},j[U]&&w(d,G).set(j[U])}if(U==="start"||U==="end")for(;y<M.length;y++)d=M[y],d["_"+u+"bingroup"]&&(j=(d._autoBin||{})[u]||{},D(G,j[U]));U==="nbins"&&!W.sizeFound&&!W.nbinsFound&&(d=M[0],W[U]=D(G))}}}}},11385:function(k,F,e){var h=e(73972),E=e(71828),n=e(7901),L=e(90769).handleText,w=e(98340),p=e(7745);k.exports=function(t,r,l,i){function f(P,A){return E.coerce(t,r,p,P,A)}var v=f("x"),c=f("y"),x=f("cumulative.enabled");x&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var d=f("textposition");L(t,r,i,f,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat");var M=f("orientation",c&&!v?"h":"v"),g=M==="v"?"x":"y",u=M==="v"?"y":"x",y=v&&c?Math.min(E.minRowLength(v)&&E.minRowLength(c)):E.minRowLength(r[g]||[]);if(!y){r.visible=!1;return}r._length=y;var C=h.getComponentMethod("calendars","handleTraceDefaults");C(t,r,["x","y"],i);var S=r[u];S&&f("histfunc"),f("histnorm"),f("autobin"+g),w(t,r,f,l,i),E.coerceSelectionMarkerOpacity(r,f);var D=(r.marker.line||{}).color,T=h.getComponentMethod("errorbars","supplyDefaults");T(t,r,D||n.defaultLine,{axis:"y"}),T(t,r,D||n.defaultLine,{axis:"x",inherit:"y"})}},84402:function(k){k.exports=function(e,h,E,n,L){if(e.x="xVal"in h?h.xVal:h.x,e.y="yVal"in h?h.yVal:h.y,"zLabelVal"in h&&(e.z=h.zLabelVal),h.xa&&(e.xaxis=h.xa),h.ya&&(e.yaxis=h.ya),!(E.cumulative||{}).enabled){var w=Array.isArray(L)?n[0].pts[L[0]][L[1]]:n[L].pts;e.pointNumbers=w,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var p;if(E._indexToPoints){p=[];for(var m=0;m<w.length;m++)p=p.concat(E._indexToPoints[w[m]])}else p=w;e.pointIndices=p}return e}},76440:function(k,F,e){var h=e(95423).hoverPoints,E=e(89298).hoverLabelText;k.exports=function(L,w,p,m,t){var r=h(L,w,p,m,t);if(r){L=r[0];var l=L.cd[L.index],i=L.cd[0].trace;if(!i.cumulative.enabled){var f=i.orientation==="h"?"y":"x";L[f+"Label"]=E(L[f+"a"],[l.ph0,l.ph1],i[f+"hoverformat"])}return r}}},36071:function(k,F,e){k.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(k){k.exports={percent:function(F,e){for(var h=F.length,E=100/e,n=0;n<h;n++)F[n]*=E},probability:function(F,e){for(var h=F.length,E=0;E<h;E++)F[E]/=e},density:function(F,e,h,E){var n=F.length;E=E||1;for(var L=0;L<n;L++)F[L]*=h[L]*E},"probability density":function(F,e,h,E){var n=F.length;E&&(e/=E);for(var L=0;L<n;L++)F[L]*=h[L]/e}}},35361:function(k,F,e){var h=e(7745),E=e(17656),n=e(21606),L=e(9012),w=e(12663).axisHoverFormat,p=e(5386).fF,m=e(5386).si,t=e(50693),r=e(1426).extendFlat;k.exports=r({x:h.x,y:h.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:h.histnorm,histfunc:h.histfunc,nbinsx:h.nbinsx,xbins:E("x"),nbinsy:h.nbinsy,ybins:E("y"),autobinx:h.autobinx,autobiny:h.autobiny,bingroup:r({},h.bingroup,{}),xbingroup:r({},h.bingroup,{}),ybingroup:r({},h.bingroup,{}),xgap:n.xgap,ygap:n.ygap,zsmooth:n.zsmooth,xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:p({},{keys:"z"}),texttemplate:m({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:n.textfont,showlegend:r({},L.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(k,F,e){var h=e(71828),E=e(89298),n=e(59575),L=e(36362),w=e(42174),p=e(40965),m=e(72138).calcAllAutoBins;k.exports=function(f,v){var c=E.getFromId(f,v.xaxis),x=E.getFromId(f,v.yaxis),d=v.xcalendar,M=v.ycalendar,g=function(Oe){return c.r2c(Oe,0,d)},u=function(Oe){return x.r2c(Oe,0,M)},y=function(Oe){return c.c2r(Oe,0,d)},C=function(Oe){return x.c2r(Oe,0,M)},S,D,T,P,A=m(f,v,c,"x"),a=A[0],R=A[1],b=m(f,v,x,"y"),N=b[0],O=b[1],Y=v._length;R.length>Y&&R.splice(Y,R.length-Y),O.length>Y&&O.splice(Y,O.length-Y);var B=[],W=[],H=[],U=typeof a.size=="string",G=typeof N.size=="string",j=[],re=[],ae=U?j:a,ue=G?re:N,de=0,ee=[],X=[],Q=v.histnorm,$=v.histfunc,ne=Q.indexOf("density")!==-1,fe=$==="max"||$==="min",te=fe?null:0,q=n.count,he=L[Q],se=!1,pe=[],we=[],Ee="z"in v?v.z:"marker"in v&&Array.isArray(v.marker.color)?v.marker.color:"";Ee&&$!=="count"&&(se=$==="avg",q=n[$]);var Me=a.size,Be=g(a.start),Ne=g(a.end)+(Be-E.tickIncrement(Be,Me,!1,d))/1e6;for(S=Be;S<Ne;S=E.tickIncrement(S,Me,!1,d))W.push(te),j.push(S),se&&H.push(0);j.push(S);var Ce=W.length,Te=(S-Be)/Ce,Le=y(Be+Te/2),Ve=N.size,We=u(N.start),Fe=u(N.end)+(We-E.tickIncrement(We,Ve,!1,M))/1e6;for(S=We;S<Fe;S=E.tickIncrement(S,Ve,!1,M)){B.push(W.slice()),re.push(S);var Ge=new Array(Ce);for(D=0;D<Ce;D++)Ge[D]=[];X.push(Ge),se&&ee.push(H.slice())}re.push(S);var it=B.length,qe=(S-We)/it,$e=C(We+qe/2);ne&&(pe=t(W.length,ae,Te,U),we=t(B.length,ue,qe,G)),!U&&c.type==="date"&&(ae=r(g,ae)),!G&&x.type==="date"&&(ue=r(u,ue));var tt=!0,vt=!0,dt=new Array(Ce),gt=new Array(it),Mt=1/0,Ct=1/0,Wt=1/0,Xe=1/0;for(S=0;S<Y;S++){var ke=R[S],Ie=O[S];T=h.findBin(ke,ae),P=h.findBin(Ie,ue),T>=0&&T<Ce&&P>=0&&P<it&&(de+=q(T,S,B[P],Ee,ee[P]),X[P][T].push(S),tt&&(dt[T]===void 0?dt[T]=ke:dt[T]!==ke&&(tt=!1)),vt&&(gt[P]===void 0?gt[P]=Ie:gt[P]!==Ie&&(vt=!1)),Mt=Math.min(Mt,ke-j[T]),Ct=Math.min(Ct,j[T+1]-ke),Wt=Math.min(Wt,Ie-re[P]),Xe=Math.min(Xe,re[P+1]-Ie))}if(se)for(P=0;P<it;P++)de+=w(B[P],ee[P]);if(he)for(P=0;P<it;P++)he(B[P],de,pe,we[P]);return{x:R,xRanges:l(j,tt&&dt,Mt,Ct,c,d),x0:Le,dx:Te,y:O,yRanges:l(re,vt&&gt,Wt,Xe,x,M),y0:$e,dy:qe,z:B,pts:X}};function t(i,f,v,c){var x=new Array(i),d;if(c)for(d=0;d<i;d++)x[d]=1/(f[d+1]-f[d]);else{var M=1/v;for(d=0;d<i;d++)x[d]=M}return x}function r(i,f){return{start:i(f.start),end:i(f.end),size:f.size}}function l(i,f,v,c,x,d){var M,g=i.length-1,u=new Array(g),y=p(v,c,i,x,d);for(M=0;M<g;M++){var C=(f||[])[M];u[M]=C===void 0?[y(i[M]),y(i[M+1],!0)]:[C,C]}return u}},93888:function(k,F,e){var h=e(71828),E=e(75238),n=e(49901),L=e(1586),w=e(58623),p=e(35361);k.exports=function(t,r,l,i){function f(v,c){return h.coerce(t,r,p,v,c)}E(t,r,f,i),r.visible!==!1&&(n(t,r,f,i),L(t,r,i,f,{prefix:"",cLetter:"z"}),f("hovertemplate"),w(f,i),f("xhoverformat"),f("yhoverformat"))}},76128:function(k,F,e){var h=e(46248),E=e(89298).hoverLabelText;k.exports=function(L,w,p,m,t){var r=h(L,w,p,m,t);if(r){L=r[0];var l=L.index,i=l[0],f=l[1],v=L.cd[0],c=v.trace,x=v.xRanges[f],d=v.yRanges[i];return L.xLabel=E(L.xa,[x[0],x[1]],c.xhoverformat),L.yLabel=E(L.ya,[d[0],d[1]],c.yhoverformat),r}}},43905:function(k,F,e){k.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(k,F,e){var h=e(73972),E=e(71828);k.exports=function(L,w,p,m){var t=p("x"),r=p("y"),l=E.minRowLength(t),i=E.minRowLength(r);if(!l||!i){w.visible=!1;return}w._length=Math.min(l,i);var f=h.getComponentMethod("calendars","handleTraceDefaults");f(L,w,["x","y"],m);var v=p("z")||p("marker.color");v&&p("histfunc"),p("histnorm"),p("autobinx"),p("autobiny")}},99066:function(k,F,e){var h=e(35361),E=e(70600),n=e(50693),L=e(12663).axisHoverFormat,w=e(1426).extendFlat;k.exports=w({x:h.x,y:h.y,z:h.z,marker:h.marker,histnorm:h.histnorm,histfunc:h.histfunc,nbinsx:h.nbinsx,xbins:h.xbins,nbinsy:h.nbinsy,ybins:h.ybins,autobinx:h.autobinx,autobiny:h.autobiny,bingroup:h.bingroup,xbingroup:h.xbingroup,ybingroup:h.ybingroup,autocontour:E.autocontour,ncontours:E.ncontours,contours:E.contours,line:{color:E.line.color,width:w({},E.line.width,{dflt:.5}),dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:h.hovertemplate,texttemplate:E.texttemplate,textfont:E.textfont},n("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(k,F,e){var h=e(71828),E=e(75238),n=e(67217),L=e(8724),w=e(58623),p=e(99066);k.exports=function(t,r,l,i){function f(c,x){return h.coerce(t,r,p,c,x)}function v(c){return h.coerce2(t,r,p,c)}E(t,r,f,i),r.visible!==!1&&(n(t,r,f,v),L(t,r,f,i),f("xhoverformat"),f("yhoverformat"),f("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&w(f,i))}},35902:function(k,F,e){k.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(k,F,e){var h=e(5386).fF,E=e(5386).si,n=e(50693),L=e(27670).Y,w=e(34e3),p=e(57564),m=e(45802),t=e(43473),r=e(1426).extendFlat,l=e(79952).u;k.exports={labels:p.labels,parents:p.parents,values:p.values,branchvalues:p.branchvalues,count:p.count,level:p.level,maxdepth:p.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:m.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:p.marker.colors,line:p.marker.line,pattern:l,editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),leaf:p.leaf,pathbar:m.pathbar,text:w.text,textinfo:p.textinfo,texttemplate:E({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:w.hovertext,hoverinfo:p.hoverinfo,hovertemplate:h({},{keys:t.eventDataKeys}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:m.outsidetextfont,textposition:m.textposition,sort:w.sort,root:p.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},96346:function(k,F,e){var h=e(74875);F.name="icicle",F.plot=function(E,n,L,w){h.plotBasePlot(F.name,E,n,L,w)},F.clean=function(E,n,L,w){h.cleanBasePlot(F.name,E,n,L,w)}},46584:function(k,F,e){var h=e(52147);F.y=function(E,n){return h.calc(E,n)},F.T=function(E){return h._runCrossTraceCalc("icicle",E)}},56524:function(k,F,e){var h=e(71828),E=e(46291),n=e(7901),L=e(27670).c,w=e(90769).handleText,p=e(97313).TEXTPAD,m=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,l=t.handleDefaults;k.exports=function(f,v,c,x){function d(T,P){return h.coerce(f,v,E,T,P)}var M=d("labels"),g=d("parents");if(!M||!M.length||!g||!g.length){v.visible=!1;return}var u=d("values");u&&u.length?d("branchvalues"):d("count"),d("level"),d("maxdepth"),d("tiling.orientation"),d("tiling.flip"),d("tiling.pad");var y=d("text");d("texttemplate"),v.texttemplate||d("textinfo",Array.isArray(y)?"text+label":"label"),d("hovertext"),d("hovertemplate");var C=d("pathbar.visible"),S="auto";w(f,v,x,d,S,{hasPathbar:C,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("textposition"),m(f,v,x,d);var D=v._hasColorscale=r(f,"marker","colors")||(f.marker||{}).coloraxis;D&&l(f,v,x,d,{prefix:"marker.",cLetter:"c"}),d("leaf.opacity",D?1:.7),v._hovered={marker:{line:{width:2,color:n.contrast(x.paper_bgcolor)}}},C&&(d("pathbar.thickness",v.pathbar.textfont.size+2*p),d("pathbar.side"),d("pathbar.edgeshape")),d("sort"),d("root.color"),L(v,x,d),v._length=null}},90666:function(k,F,e){var h=e(39898),E=e(71828),n=e(91424),L=e(63893),w=e(21538),p=e(82454).styleOne,m=e(43473),t=e(2791),r=e(83523),l=e(24714).formatSliceLabel,i=!1;k.exports=function(v,c,x,d,M){var g=M.width,u=M.height,y=M.viewX,C=M.viewY,S=M.pathSlice,D=M.toMoveInsideSlice,T=M.strTransform,P=M.hasTransition,A=M.handleSlicesExit,a=M.makeUpdateSliceInterpolator,R=M.makeUpdateTextInterpolator,b=M.prevEntry,N={},O=v._context.staticPlot,Y=v._fullLayout,B=c[0],W=B.trace,H=W.textposition.indexOf("left")!==-1,U=W.textposition.indexOf("right")!==-1,G=W.textposition.indexOf("bottom")!==-1,j=w(x,[g,u],{flipX:W.tiling.flip.indexOf("x")>-1,flipY:W.tiling.flip.indexOf("y")>-1,orientation:W.tiling.orientation,pad:{inner:W.tiling.pad},maxDepth:W._maxDepth}),re=j.descendants(),ae=1/0,ue=-1/0;re.forEach(function($){var ne=$.depth;ne>=W._maxDepth?($.x0=$.x1=($.x0+$.x1)/2,$.y0=$.y1=($.y0+$.y1)/2):(ae=Math.min(ae,ne),ue=Math.max(ue,ne))}),d=d.data(re,t.getPtId),W._maxVisibleLayers=isFinite(ue)?ue-ae+1:0,d.enter().append("g").classed("slice",!0),A(d,i,N,[g,u],S),d.order();var de=null;if(P&&b){var ee=t.getPtId(b);d.each(function($){de===null&&t.getPtId($)===ee&&(de={x0:$.x0,x1:$.x1,y0:$.y0,y1:$.y1})})}var X=function(){return de||{x0:0,x1:g,y0:0,y1:u}},Q=d;return P&&(Q=Q.transition().each("end",function(){var $=h.select(this);t.setSliceCursor($,v,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function($){$._x0=y($.x0),$._x1=y($.x1),$._y0=C($.y0),$._y1=C($.y1),$._hoverX=y($.x1-W.tiling.pad),$._hoverY=C(G?$.y1-W.tiling.pad/2:$.y0+W.tiling.pad/2);var ne=h.select(this),fe=E.ensureSingle(ne,"path","surface",function(se){se.style("pointer-events",O?"none":"all")});P?fe.transition().attrTween("d",function(se){var pe=a(se,i,X(),[g,u],{orientation:W.tiling.orientation,flipX:W.tiling.flip.indexOf("x")>-1,flipY:W.tiling.flip.indexOf("y")>-1});return function(we){return S(pe(we))}}):fe.attr("d",S),ne.call(r,x,v,c,{styleOne:p,eventDataKeys:m.eventDataKeys,transitionTime:m.CLICK_TRANSITION_TIME,transitionEasing:m.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,v,{isTransitioning:v._transitioning}),fe.call(p,$,W,v,{hovered:!1}),$.x0===$.x1||$.y0===$.y1?$._text="":$._text=l($,x,W,c,Y)||"";var te=E.ensureSingle(ne,"g","slicetext"),q=E.ensureSingle(te,"text","",function(se){se.attr("data-notex",1)}),he=E.ensureUniformFontSize(v,t.determineTextFont(W,$,Y.font));q.text($._text||" ").classed("slicetext",!0).attr("text-anchor",U?"end":H?"start":"middle").call(n.font,he).call(L.convertToTspans,v),$.textBB=n.bBox(q.node()),$.transform=D($,{fontSize:he.size}),$.transform.fontSize=he.size,P?q.transition().attrTween("transform",function(se){var pe=R(se,i,X(),[g,u]);return function(we){return T(pe(we))}}):q.attr("transform",T($))}),de}},69816:function(k,F,e){k.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(k){k.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(k,F,e){var h=e(71828),E=e(92894);k.exports=function(L,w){function p(m,t){return h.coerce(L,w,E,m,t)}p("iciclecolorway",w.colorway),p("extendiciclecolors")}},21538:function(k,F,e){var h=e(674),E=e(14102);k.exports=function(L,w,p){var m=p.flipX,t=p.flipY,r=p.orientation==="h",l=p.maxDepth,i=w[0],f=w[1];l&&(i=(L.height+1)*w[0]/Math.min(L.height+1,l),f=(L.height+1)*w[1]/Math.min(L.height+1,l));var v=h.partition().padding(p.pad.inner).size(r?[w[1],i]:[w[0],f])(L);return(r||m||t)&&E(v,w,{swapXY:r,flipX:m,flipY:t}),v}},85596:function(k,F,e){var h=e(80694),E=e(90666);k.exports=function(L,w,p,m){return h(L,w,p,m,{type:"icicle",drawDescendants:E})}},82454:function(k,F,e){var h=e(39898),E=e(7901),n=e(71828),L=e(72597).resizeText,w=e(43467);function p(t){var r=t._fullLayout._iciclelayer.selectAll(".trace");L(t,r,"icicle"),r.each(function(l){var i=h.select(this),f=l[0],v=f.trace;i.style("opacity",v.opacity),i.selectAll("path.surface").each(function(c){h.select(this).call(m,c,v,t)})})}function m(t,r,l,i){var f=r.data.data,v=!r.children,c=f.i,x=n.castOption(l,c,"marker.line.color")||E.defaultLine,d=n.castOption(l,c,"marker.line.width")||0;t.call(w,r,l,i).style("stroke-width",d).call(E.stroke,x).style("opacity",v?l.leaf.opacity:null)}k.exports={style:p,styleOne:m}},17230:function(k,F,e){for(var h=e(9012),E=e(5386).fF,n=e(1426).extendFlat,L=e(51877).colormodel,w=["rgb","rgba","rgba256","hsl","hsla"],p=[],m=[],t=0;t<w.length;t++){var r=L[w[t]];p.push("For the `"+w[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),m.push("For the `"+w[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}k.exports=n({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:w,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:n({},h.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:E({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(k,F,e){var h=e(71828),E=e(51877),n=e(92770),L=e(89298),w=e(71828).maxRowLength,p=e(67395).A;k.exports=function(i,f){var v,c;if(f._hasZ)v=f.z.length,c=w(f.z);else if(f._hasSource){var x=p(f.source);v=x.height,c=x.width}var d=L.getFromId(i,f.xaxis||"x"),M=L.getFromId(i,f.yaxis||"y"),g=d.d2c(f.x0)-f.dx/2,u=M.d2c(f.y0)-f.dy/2,y,C=[g,g+c*f.dx],S=[u,u+v*f.dy];if(d&&d.type==="log")for(y=0;y<c;y++)C.push(g+y*f.dx);if(M&&M.type==="log")for(y=0;y<v;y++)S.push(u+y*f.dy);f._extremes[d._id]=L.findExtremes(d,C),f._extremes[M._id]=L.findExtremes(M,S),f._scaler=r(f);var D={x0:g,y0:u,z:f.z,w:c,h:v};return[D]};function m(l,i,f,v){return function(c){return h.constrain((c-l)*i,f,v)}}function t(l,i){return function(f){return h.constrain(f,l,i)}}function r(l){var i=E.colormodel[l.colormodel],f=i.colormodel||l.colormodel,v=f.length;l._sArray=[];for(var c=0;c<v;c++)i.min[c]!==l.zmin[c]||i.max[c]!==l.zmax[c]?l._sArray.push(m(l.zmin[c],(i.max[c]-i.min[c])/(l.zmax[c]-l.zmin[c]),i.min[c],i.max[c])):l._sArray.push(t(i.min[c],i.max[c]));return function(x){for(var d=x.slice(0,v),M=0;M<v;M++){var g=d[M];if(!n(g))return!1;d[M]=l._sArray[M](g)}return d}}},51877:function(k){k.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(F){return F.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(F){return F.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(F){return F.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(F){var e=F.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(F){var e=F.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13245:function(k,F,e){var h=e(71828),E=e(17230),n=e(51877),L=e(25095).IMAGE_URL_PREFIX;k.exports=function(p,m){function t(i,f){return h.coerce(p,m,E,i,f)}t("source"),m.source&&!m.source.match(L)&&delete m.source,m._hasSource=!!m.source;var r=t("z");if(m._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!m._hasZ&&!m._hasSource){m.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var l;m._hasZ?(t("colormodel","rgb"),l=n.colormodel[m.colormodel],t("zmin",l.zminDflt||l.min),t("zmax",l.zmaxDflt||l.max)):m._hasSource&&(m.colormodel="rgba256",l=n.colormodel[m.colormodel],m.zmin=l.zminDflt,m.zmax=l.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),m._length=null}},30835:function(k){k.exports=function(e,h){return"xVal"in h&&(e.x=h.xVal),"yVal"in h&&(e.y=h.yVal),h.xa&&(e.xaxis=h.xa),h.ya&&(e.yaxis=h.ya),e.color=h.color,e.colormodel=h.trace.colormodel,e.z||(e.z=h.color),e}},67395:function(k,F,e){var h=e(33575),E=e(25095).IMAGE_URL_PREFIX,n=e(12856).Buffer;F.A=function(L){var w=L.replace(E,""),p=new n(w,"base64");return h(p)}},28749:function(k,F,e){var h=e(30211),E=e(71828),n=e(51877);k.exports=function(w,p,m){var t=w.cd[0],r=t.trace,l=w.xa,i=w.ya;if(!(h.inbox(p-t.x0,p-(t.x0+t.w*r.dx),0)>0||h.inbox(m-t.y0,m-(t.y0+t.h*r.dy),0)>0)){var f=Math.floor((p-t.x0)/r.dx),v=Math.floor(Math.abs(m-t.y0)/r.dy),c;if(r._hasZ?c=t.z[v][f]:r._hasSource&&(c=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(f,v,1,1).data),!!c){var x=t.hi||r.hoverinfo,d;if(x){var M=x.split("+");M.indexOf("all")!==-1&&(M=["color"]),M.indexOf("color")!==-1&&(d=!0)}var g=n.colormodel[r.colormodel],u=g.colormodel||r.colormodel,y=u.length,C=r._scaler(c),S=g.suffix,D=[];(r.hovertemplate||d)&&(D.push("["+[C[0]+S[0],C[1]+S[1],C[2]+S[2]].join(", ")),y===4&&D.push(", "+C[3]+S[3]),D.push("]"),D=D.join(""),w.extraText=u.toUpperCase()+": "+D);var T;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[v])?T=r.hovertext[v][f]:Array.isArray(r.text)&&Array.isArray(r.text[v])&&(T=r.text[v][f]);var P=i.c2p(t.y0+(v+.5)*r.dy),A=t.x0+(f+.5)*r.dx,a=t.y0+(v+.5)*r.dy,R="["+c.slice(0,r.colormodel.length).join(", ")+"]";return[E.extendFlat(w,{index:[v,f],x0:l.c2p(t.x0+f*r.dx),x1:l.c2p(t.x0+(f+1)*r.dx),y0:P,y1:P,color:C,xVal:A,xLabelVal:A,yVal:a,yLabelVal:a,zLabelVal:R,text:T,hovertemplateLabels:{zLabel:R,colorLabel:D,"color[0]Label":C[0]+S[0],"color[1]Label":C[1]+S[1],"color[2]Label":C[2]+S[2],"color[3]Label":C[3]+S[3]}})]}}}},94507:function(k,F,e){k.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(k,F,e){var h=e(39898),E=e(71828),n=E.strTranslate,L=e(77922),w=e(51877),p=e(3883),m=e(32396).STYLE;k.exports=function(r,l,i,f){var v=l.xaxis,c=l.yaxis,x=!r._context._exportedPlot&&p();E.makeTraceGroups(f,i,"im").each(function(d){var M=h.select(this),g=d[0],u=g.trace,y=(u.zsmooth==="fast"||u.zsmooth===!1&&x)&&!u._hasZ&&u._hasSource&&v.type==="linear"&&c.type==="linear";u._realImage=y;var C=g.z,S=g.x0,D=g.y0,T=g.w,P=g.h,A=u.dx,a=u.dy,R,b,N,O,Y,B;for(B=0;R===void 0&&B<T;)R=v.c2p(S+B*A),B++;for(B=T;b===void 0&&B>0;)b=v.c2p(S+B*A),B--;for(B=0;O===void 0&&B<P;)O=c.c2p(D+B*a),B++;for(B=P;Y===void 0&&B>0;)Y=c.c2p(D+B*a),B--;if(b<R&&(N=b,b=R,R=N),Y<O&&(N=O,O=Y,Y=N),!y){var W=.5;R=Math.max(-W*v._length,R),b=Math.min((1+W)*v._length,b),O=Math.max(-W*c._length,O),Y=Math.min((1+W)*c._length,Y)}var H=Math.round(b-R),U=Math.round(Y-O),G=H<=0||U<=0;if(G){var j=M.selectAll("image").data([]);j.exit().remove();return}function re(te){var q=document.createElement("canvas");q.width=H,q.height=U;var he=q.getContext("2d",{willReadFrequently:!0}),se=function(We){return E.constrain(Math.round(v.c2p(S+We*A)-R),0,H)},pe=function(We){return E.constrain(Math.round(c.c2p(D+We*a)-O),0,U)},we=w.colormodel[u.colormodel],Ee=we.colormodel||u.colormodel,Me=we.fmt,Be;for(B=0;B<g.w;B++){var Ne=se(B),Ce=se(B+1);if(!(Ce===Ne||isNaN(Ce)||isNaN(Ne)))for(var Te=0;Te<g.h;Te++){var Le=pe(Te),Ve=pe(Te+1);Ve===Le||isNaN(Ve)||isNaN(Le)||!te(B,Te)||(Be=u._scaler(te(B,Te)),Be?he.fillStyle=Ee+"("+Me(Be).join(",")+")":he.fillStyle="rgba(0,0,0,0)",he.fillRect(Ne,Le,Ce-Ne,Ve-Le))}}return q}var ae=M.selectAll("image").data([d]);ae.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),ae.exit().remove();var ue=u.zsmooth===!1?m:"";if(y){var de=E.simpleMap(v.range,v.r2l),ee=E.simpleMap(c.range,c.r2l),X=de[1]<de[0],Q=ee[1]>ee[0];if(X||Q){var $=R+H/2,ne=O+U/2;ue+="transform:"+n($+"px",ne+"px")+"scale("+(X?-1:1)+","+(Q?-1:1)+")"+n(-$+"px",-ne+"px")+";"}}ae.attr("style",ue);var fe=new Promise(function(te){if(u._hasZ)te();else if(u._hasSource)if(u._canvas&&u._canvas.el.width===T&&u._canvas.el.height===P&&u._canvas.source===u.source)te();else{var q=document.createElement("canvas");q.width=T,q.height=P;var he=q.getContext("2d",{willReadFrequently:!0});u._image=u._image||new Image;var se=u._image;se.onload=function(){he.drawImage(se,0,0),u._canvas={el:q,source:u.source},te()},se.setAttribute("src",u.source)}}).then(function(){var te,q;if(u._hasZ)q=re(function(pe,we){return C[we][pe]}),te=q.toDataURL("image/png");else if(u._hasSource)if(y)te=u.source;else{var he=u._canvas.el.getContext("2d",{willReadFrequently:!0}),se=he.getImageData(0,0,T,P).data;q=re(function(pe,we){var Ee=4*(we*T+pe);return[se[Ee],se[Ee+1],se[Ee+2],se[Ee+3]]}),te=q.toDataURL("image/png")}ae.attr({"xlink:href":te,height:U,width:H,x:R,y:O})});r._promises.push(fe)})}},12826:function(k,F,e){var h=e(39898);k.exports=function(n){h.select(n).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},54846:function(k,F,e){var h=e(1426).extendFlat,E=e(1426).extendDeep,n=e(30962).overrideAll,L=e(41940),w=e(22399),p=e(27670).Y,m=e(13838),t=e(44467).templatedArray,r=e(22372),l=e(12663).descriptionOnlyNumbers,i=L({editType:"plot",colorEditType:"plot"}),f={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:w.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},v={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},c=t("step",E({},f,{range:v}));k.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:p({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:h({},i,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:l("value")},font:h({},i,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:l("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:h({},i,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:E({},f,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:w.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:n({range:v,visible:h({},m.visible,{dflt:!0}),tickmode:m.minor.tickmode,nticks:m.nticks,tick0:m.tick0,dtick:m.dtick,tickvals:m.tickvals,ticktext:m.ticktext,ticks:h({},m.ticks,{dflt:"outside"}),ticklen:m.ticklen,tickwidth:m.tickwidth,tickcolor:m.tickcolor,ticklabelstep:m.ticklabelstep,showticklabels:m.showticklabels,labelalias:m.labelalias,tickfont:L({}),tickangle:m.tickangle,tickformat:m.tickformat,tickformatstops:m.tickformatstops,tickprefix:m.tickprefix,showtickprefix:m.showtickprefix,ticksuffix:m.ticksuffix,showticksuffix:m.showticksuffix,separatethousands:m.separatethousands,exponentformat:m.exponentformat,minexponent:m.minexponent,showexponent:m.showexponent,editType:"plot"},"plot"),steps:c,threshold:{line:{color:h({},f.line.color,{}),width:h({},f.line.width,{dflt:1}),editType:"plot"},thickness:h({},f.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(k,F,e){var h=e(74875);F.name="indicator",F.plot=function(E,n,L,w){h.plotBasePlot(F.name,E,n,L,w)},F.clean=function(E,n,L,w){h.cleanBasePlot(F.name,E,n,L,w)}},24667:function(k){function F(e,h){var E=[],n=h.value;typeof h._lastValue!="number"&&(h._lastValue=h.value);var L=h._lastValue,w=L;return h._hasDelta&&typeof h.delta.reference=="number"&&(w=h.delta.reference),E[0]={y:n,lastY:L,delta:n-w,relativeDelta:(n-w)/w},E}k.exports={calc:F}},84577:function(k){k.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(k,F,e){var h=e(71828),E=e(54846),n=e(27670).c,L=e(44467),w=e(85501),p=e(84577),m=e(26218),t=e(38701),r=e(96115),l=e(89426);function i(v,c,x,d){function M(Y,B){return h.coerce(v,c,E,Y,B)}n(c,d,M),M("mode"),c._hasNumber=c.mode.indexOf("number")!==-1,c._hasDelta=c.mode.indexOf("delta")!==-1,c._hasGauge=c.mode.indexOf("gauge")!==-1;var g=M("value");c._range=[0,typeof g=="number"?1.5*g:1];var u=new Array(2),y;c._hasNumber&&(M("number.valueformat"),M("number.font.color",d.font.color),M("number.font.family",d.font.family),M("number.font.size"),c.number.font.size===void 0&&(c.number.font.size=p.defaultNumberFontSize,u[0]=!0),M("number.prefix"),M("number.suffix"),y=c.number.font.size);var C;c._hasDelta&&(M("delta.font.color",d.font.color),M("delta.font.family",d.font.family),M("delta.font.size"),c.delta.font.size===void 0&&(c.delta.font.size=(c._hasNumber?.5:1)*(y||p.defaultNumberFontSize),u[1]=!0),M("delta.reference",c.value),M("delta.relative"),M("delta.valueformat",c.delta.relative?"2%":""),M("delta.increasing.symbol"),M("delta.increasing.color"),M("delta.decreasing.symbol"),M("delta.decreasing.color"),M("delta.position"),M("delta.prefix"),M("delta.suffix"),C=c.delta.font.size),c._scaleNumbers=(!c._hasNumber||u[0])&&(!c._hasDelta||u[1])||!1,M("title.font.color",d.font.color),M("title.font.family",d.font.family),M("title.font.size",.25*(y||C||p.defaultNumberFontSize)),M("title.text");var S,D,T,P;function A(Y,B){return h.coerce(S,D,E.gauge,Y,B)}function a(Y,B){return h.coerce(T,P,E.gauge.axis,Y,B)}if(c._hasGauge){S=v.gauge,S||(S={}),D=L.newContainer(c,"gauge"),A("shape");var R=c._isBullet=c.gauge.shape==="bullet";R||M("title.align","center");var b=c._isAngular=c.gauge.shape==="angular";b||M("align","center"),A("bgcolor",d.paper_bgcolor),A("borderwidth"),A("bordercolor"),A("bar.color"),A("bar.line.color"),A("bar.line.width");var N=p.valueThickness*(c.gauge.shape==="bullet"?.5:1);A("bar.thickness",N),w(S,D,{name:"steps",handleItemDefaults:f}),A("threshold.value"),A("threshold.thickness"),A("threshold.line.width"),A("threshold.line.color"),T={},S&&(T=S.axis||{}),P=L.newContainer(D,"axis"),a("visible"),c._range=a("range",c._range);var O={outerTicks:!0};m(T,P,a,"linear"),l(T,P,a,"linear",O),r(T,P,a,"linear",O),t(T,P,a,O)}else M("title.align","center"),M("align","center"),c._isAngular=c._isBullet=!1;c._length=null}function f(v,c){function x(d,M){return h.coerce(v,c,E.gauge.steps,d,M)}x("color"),x("line.color"),x("line.width"),x("range"),x("thickness")}k.exports={supplyDefaults:i}},15154:function(k,F,e){k.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(k,F,e){var h=e(39898),E=e(81684).sX,n=e(81684).k4,L=e(71828),w=L.strScale,p=L.strTranslate,m=L.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),l=e(84577),i=e(63893),f=e(89298),v=e(71453),c=e(52830),x=e(13838),d=e(7901),M={left:"start",center:"middle",right:"end"},g={left:0,center:.5,right:1},u=/[yzafpnµmkMGTPEZY]/;function y(O){return O&&O.duration>0}k.exports=function(Y,B,W,H){var U=Y._fullLayout,G;y(W)&&H&&(G=H()),L.makeTraceGroups(U._indicatorlayer,B,"trace").each(function(j){var re=j[0],ae=re.trace,ue=h.select(this),de=ae._hasGauge,ee=ae._isAngular,X=ae._isBullet,Q=ae.domain,$={w:U._size.w*(Q.x[1]-Q.x[0]),h:U._size.h*(Q.y[1]-Q.y[0]),l:U._size.l+U._size.w*Q.x[0],r:U._size.r+U._size.w*(1-Q.x[1]),t:U._size.t+U._size.h*(1-Q.y[1]),b:U._size.b+U._size.h*Q.y[0]},ne=$.l+$.w/2,fe=$.t+$.h/2,te=Math.min($.w/2,$.h),q=l.innerRadius*te,he,se,pe,we=ae.align||"center";if(se=fe,!de)he=$.l+g[we]*$.w,pe=function(Fe){return a(Fe,$.w,$.h)};else if(ee&&(he=ne,se=fe+te/2,pe=function(Fe){return R(Fe,.9*q)}),X){var Ee=l.bulletPadding,Me=1-l.bulletNumberDomainSize+Ee;he=$.l+(Me+(1-Me)*g[we])*$.w,pe=function(Fe){return a(Fe,(l.bulletNumberDomainSize-Ee)*$.w,$.h)}}D(Y,ue,j,{numbersX:he,numbersY:se,numbersScaler:pe,transitionOpts:W,onComplete:G});var Be,Ne;de&&(Be={range:ae.gauge.axis.range,color:ae.gauge.bgcolor,line:{color:ae.gauge.bordercolor,width:0},thickness:1},Ne={range:ae.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ae.gauge.bordercolor,width:ae.gauge.borderwidth},thickness:1});var Ce=ue.selectAll("g.angular").data(ee?j:[]);Ce.exit().remove();var Te=ue.selectAll("g.angularaxis").data(ee?j:[]);Te.exit().remove(),ee&&S(Y,ue,j,{radius:te,innerRadius:q,gauge:Ce,layer:Te,size:$,gaugeBg:Be,gaugeOutline:Ne,transitionOpts:W,onComplete:G});var Le=ue.selectAll("g.bullet").data(X?j:[]);Le.exit().remove();var Ve=ue.selectAll("g.bulletaxis").data(X?j:[]);Ve.exit().remove(),X&&C(Y,ue,j,{gauge:Le,layer:Ve,size:$,gaugeBg:Be,gaugeOutline:Ne,transitionOpts:W,onComplete:G});var We=ue.selectAll("text.title").data(j);We.exit().remove(),We.enter().append("text").classed("title",!0),We.attr("text-anchor",function(){return X?M.right:M[ae.title.align]}).text(ae.title.text).call(r.font,ae.title.font).call(i.convertToTspans,Y),We.attr("transform",function(){var Fe=$.l+$.w*g[ae.title.align],Ge,it=l.titlePadding,qe=r.bBox(We.node());if(de){if(ee)if(ae.gauge.axis.visible){var $e=r.bBox(Te.node());Ge=$e.top-it-qe.bottom}else Ge=$.t+$.h/2-te/2-qe.bottom-it;X&&(Ge=se-(qe.top+qe.bottom)/2,Fe=$.l-l.bulletPadding*$.w)}else Ge=ae._numbersTop-it-qe.bottom;return p(Fe,Ge)})})};function C(O,Y,B,W){var H=B[0].trace,U=W.gauge,G=W.layer,j=W.gaugeBg,re=W.gaugeOutline,ae=W.size,ue=H.domain,de=W.transitionOpts,ee=W.onComplete,X,Q,$,ne,fe;U.enter().append("g").classed("bullet",!0),U.attr("transform",p(ae.l,ae.t)),G.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),G.selectAll("g.xbulletaxistick,path,text").remove();var te=ae.h,q=H.gauge.bar.thickness*te,he=ue.x[0],se=ue.x[0]+(ue.x[1]-ue.x[0])*(H._hasNumber||H._hasDelta?1-l.bulletNumberDomainSize:1);X=A(O,H.gauge.axis),X._id="xbulletaxis",X.domain=[he,se],X.setScale(),Q=f.calcTicks(X),$=f.makeTransTickFn(X),ne=f.getTickSigns(X)[2],fe=ae.t+ae.h,X.visible&&(f.drawTicks(O,X,{vals:X.ticks==="inside"?f.clipEnds(X,Q):Q,layer:G,path:f.makeTickPath(X,fe,ne),transFn:$}),f.drawLabels(O,X,{vals:Q,layer:G,transFn:$,labelFns:f.makeLabelFns(X,fe)}));function pe(Te){Te.attr("width",function(Le){return Math.max(0,X.c2p(Le.range[1])-X.c2p(Le.range[0]))}).attr("x",function(Le){return X.c2p(Le.range[0])}).attr("y",function(Le){return .5*(1-Le.thickness)*te}).attr("height",function(Le){return Le.thickness*te})}var we=[j].concat(H.gauge.steps),Ee=U.selectAll("g.bg-bullet").data(we);Ee.enter().append("g").classed("bg-bullet",!0).append("rect"),Ee.select("rect").call(pe).call(T),Ee.exit().remove();var Me=U.selectAll("g.value-bullet").data([H.gauge.bar]);Me.enter().append("g").classed("value-bullet",!0).append("rect"),Me.select("rect").attr("height",q).attr("y",(te-q)/2).call(T),y(de)?Me.select("rect").transition().duration(de.duration).ease(de.easing).each("end",function(){ee&&ee()}).each("interrupt",function(){ee&&ee()}).attr("width",Math.max(0,X.c2p(Math.min(H.gauge.axis.range[1],B[0].y)))):Me.select("rect").attr("width",typeof B[0].y=="number"?Math.max(0,X.c2p(Math.min(H.gauge.axis.range[1],B[0].y))):0),Me.exit().remove();var Be=B.filter(function(){return H.gauge.threshold.value||H.gauge.threshold.value===0}),Ne=U.selectAll("g.threshold-bullet").data(Be);Ne.enter().append("g").classed("threshold-bullet",!0).append("line"),Ne.select("line").attr("x1",X.c2p(H.gauge.threshold.value)).attr("x2",X.c2p(H.gauge.threshold.value)).attr("y1",(1-H.gauge.threshold.thickness)/2*te).attr("y2",(1-(1-H.gauge.threshold.thickness)/2)*te).call(d.stroke,H.gauge.threshold.line.color).style("stroke-width",H.gauge.threshold.line.width),Ne.exit().remove();var Ce=U.selectAll("g.gauge-outline").data([re]);Ce.enter().append("g").classed("gauge-outline",!0).append("rect"),Ce.select("rect").call(pe).call(T),Ce.exit().remove()}function S(O,Y,B,W){var H=B[0].trace,U=W.size,G=W.radius,j=W.innerRadius,re=W.gaugeBg,ae=W.gaugeOutline,ue=[U.l+U.w/2,U.t+U.h/2+G/2],de=W.gauge,ee=W.layer,X=W.transitionOpts,Q=W.onComplete,$=Math.PI/2;function ne(tt){var vt=H.gauge.axis.range[0],dt=H.gauge.axis.range[1],gt=(tt-vt)/(dt-vt)*Math.PI-$;return gt<-$?-$:gt>$?$:gt}function fe(tt){return h.svg.arc().innerRadius((j+G)/2-tt/2*(G-j)).outerRadius((j+G)/2+tt/2*(G-j)).startAngle(-$)}function te(tt){tt.attr("d",function(vt){return fe(vt.thickness).startAngle(ne(vt.range[0])).endAngle(ne(vt.range[1]))()})}var q,he,se,pe;de.enter().append("g").classed("angular",!0),de.attr("transform",p(ue[0],ue[1])),ee.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),ee.selectAll("g.xangularaxistick,path,text").remove(),q=A(O,H.gauge.axis),q.type="linear",q.range=H.gauge.axis.range,q._id="xangularaxis",q.ticklabeloverflow="allow",q.setScale();var we=function(tt){return(q.range[0]-tt.x)/(q.range[1]-q.range[0])*Math.PI+Math.PI},Ee={},Me=f.makeLabelFns(q,0),Be=Me.labelStandoff;Ee.xFn=function(tt){var vt=we(tt);return Math.cos(vt)*Be},Ee.yFn=function(tt){var vt=we(tt),dt=Math.sin(vt)>0?.2:1;return-Math.sin(vt)*(Be+tt.fontSize*dt)+Math.abs(Math.cos(vt))*(tt.fontSize*t)},Ee.anchorFn=function(tt){var vt=we(tt),dt=Math.cos(vt);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},Ee.heightFn=function(tt,vt,dt){var gt=we(tt);return-.5*(1+Math.sin(gt))*dt};var Ne=function(tt){return p(ue[0]+G*Math.cos(tt),ue[1]-G*Math.sin(tt))};se=function(tt){return Ne(we(tt))};var Ce=function(tt){var vt=we(tt);return Ne(vt)+"rotate("+-m(vt)+")"};if(he=f.calcTicks(q),pe=f.getTickSigns(q)[2],q.visible){pe=q.ticks==="inside"?-1:1;var Te=(q.linewidth||1)/2;f.drawTicks(O,q,{vals:he,layer:ee,path:"M"+pe*Te+",0h"+pe*q.ticklen,transFn:Ce}),f.drawLabels(O,q,{vals:he,layer:ee,transFn:se,labelFns:Ee})}var Le=[re].concat(H.gauge.steps),Ve=de.selectAll("g.bg-arc").data(Le);Ve.enter().append("g").classed("bg-arc",!0).append("path"),Ve.select("path").call(te).call(T),Ve.exit().remove();var We=fe(H.gauge.bar.thickness),Fe=de.selectAll("g.value-arc").data([H.gauge.bar]);Fe.enter().append("g").classed("value-arc",!0).append("path");var Ge=Fe.select("path");y(X)?(Ge.transition().duration(X.duration).ease(X.easing).each("end",function(){Q&&Q()}).each("interrupt",function(){Q&&Q()}).attrTween("d",P(We,ne(B[0].lastY),ne(B[0].y))),H._lastValue=B[0].y):Ge.attr("d",typeof B[0].y=="number"?We.endAngle(ne(B[0].y)):"M0,0Z"),Ge.call(T),Fe.exit().remove(),Le=[];var it=H.gauge.threshold.value;(it||it===0)&&Le.push({range:[it,it],color:H.gauge.threshold.color,line:{color:H.gauge.threshold.line.color,width:H.gauge.threshold.line.width},thickness:H.gauge.threshold.thickness});var qe=de.selectAll("g.threshold-arc").data(Le);qe.enter().append("g").classed("threshold-arc",!0).append("path"),qe.select("path").call(te).call(T),qe.exit().remove();var $e=de.selectAll("g.gauge-outline").data([ae]);$e.enter().append("g").classed("gauge-outline",!0).append("path"),$e.select("path").call(te).call(T),$e.exit().remove()}function D(O,Y,B,W){var H=B[0].trace,U=W.numbersX,G=W.numbersY,j=H.align||"center",re=M[j],ae=W.transitionOpts,ue=W.onComplete,de=L.ensureSingle(Y,"g","numbers"),ee,X,Q,$=[];H._hasNumber&&$.push("number"),H._hasDelta&&($.push("delta"),H.delta.position==="left"&&$.reverse());var ne=de.selectAll("text").data($);ne.enter().append("text"),ne.attr("text-anchor",function(){return re}).attr("class",function(Ne){return Ne}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),ne.exit().remove();function fe(Ne,Ce,Te,Le){if(Ne.match("s")&&Te>=0!=Le>=0&&!Ce(Te).slice(-1).match(u)&&!Ce(Le).slice(-1).match(u)){var Ve=Ne.slice().replace("s","f").replace(/\d+/,function(Fe){return parseInt(Fe)-1}),We=A(O,{tickformat:Ve});return function(Fe){return Math.abs(Fe)<1?f.tickText(We,Fe).text:Ce(Fe)}}else return Ce}function te(){var Ne=A(O,{tickformat:H.number.valueformat},H._range);Ne.setScale(),f.prepTicks(Ne);var Ce=function(Fe){return f.tickText(Ne,Fe).text},Te=H.number.suffix,Le=H.number.prefix,Ve=de.select("text.number");function We(){var Fe=typeof B[0].y=="number"?Le+Ce(B[0].y)+Te:"-";Ve.text(Fe).call(r.font,H.number.font).call(i.convertToTspans,O)}return y(ae)?Ve.transition().duration(ae.duration).ease(ae.easing).each("end",function(){We(),ue&&ue()}).each("interrupt",function(){We(),ue&&ue()}).attrTween("text",function(){var Fe=h.select(this),Ge=n(B[0].lastY,B[0].y);H._lastValue=B[0].y;var it=fe(H.number.valueformat,Ce,B[0].lastY,B[0].y);return function(qe){Fe.text(Le+it(Ge(qe))+Te)}}):We(),ee=b(Le+Ce(B[0].y)+Te,H.number.font,re,O),Ve}function q(){var Ne=A(O,{tickformat:H.delta.valueformat},H._range);Ne.setScale(),f.prepTicks(Ne);var Ce=function(qe){return f.tickText(Ne,qe).text},Te=H.delta.suffix,Le=H.delta.prefix,Ve=function(qe){var $e=H.delta.relative?qe.relativeDelta:qe.delta;return $e},We=function(qe,$e){return qe===0||typeof qe!="number"||isNaN(qe)?"-":(qe>0?H.delta.increasing.symbol:H.delta.decreasing.symbol)+Le+$e(qe)+Te},Fe=function(qe){return qe.delta>=0?H.delta.increasing.color:H.delta.decreasing.color};H._deltaLastValue===void 0&&(H._deltaLastValue=Ve(B[0]));var Ge=de.select("text.delta");Ge.call(r.font,H.delta.font).call(d.fill,Fe({delta:H._deltaLastValue}));function it(){Ge.text(We(Ve(B[0]),Ce)).call(d.fill,Fe(B[0])).call(i.convertToTspans,O)}return y(ae)?Ge.transition().duration(ae.duration).ease(ae.easing).tween("text",function(){var qe=h.select(this),$e=Ve(B[0]),tt=H._deltaLastValue,vt=fe(H.delta.valueformat,Ce,tt,$e),dt=n(tt,$e);return H._deltaLastValue=$e,function(gt){qe.text(We(dt(gt),vt)),qe.call(d.fill,Fe({delta:dt(gt)}))}}).each("end",function(){it(),ue&&ue()}).each("interrupt",function(){it(),ue&&ue()}):it(),X=b(We(Ve(B[0]),Ce),H.delta.font,re,O),Ge}var he=H.mode+H.align,se;if(H._hasDelta&&(se=q(),he+=H.delta.position+H.delta.font.size+H.delta.font.family+H.delta.valueformat,he+=H.delta.increasing.symbol+H.delta.decreasing.symbol,Q=X),H._hasNumber&&(te(),he+=H.number.font.size+H.number.font.family+H.number.valueformat+H.number.suffix+H.number.prefix,Q=ee),H._hasDelta&&H._hasNumber){var pe=[(ee.left+ee.right)/2,(ee.top+ee.bottom)/2],we=[(X.left+X.right)/2,(X.top+X.bottom)/2],Ee,Me,Be=.75*H.delta.font.size;H.delta.position==="left"&&(Ee=N(H,"deltaPos",0,-1*(ee.width*g[H.align]+X.width*(1-g[H.align])+Be),he,Math.min),Me=pe[1]-we[1],Q={width:ee.width+X.width+Be,height:Math.max(ee.height,X.height),left:X.left+Ee,right:ee.right,top:Math.min(ee.top,X.top+Me),bottom:Math.max(ee.bottom,X.bottom+Me)}),H.delta.position==="right"&&(Ee=N(H,"deltaPos",0,ee.width*(1-g[H.align])+X.width*g[H.align]+Be,he,Math.max),Me=pe[1]-we[1],Q={width:ee.width+X.width+Be,height:Math.max(ee.height,X.height),left:ee.left,right:X.right+Ee,top:Math.min(ee.top,X.top+Me),bottom:Math.max(ee.bottom,X.bottom+Me)}),H.delta.position==="bottom"&&(Ee=null,Me=X.height,Q={width:Math.max(ee.width,X.width),height:ee.height+X.height,left:Math.min(ee.left,X.left),right:Math.max(ee.right,X.right),top:ee.bottom-ee.height,bottom:ee.bottom+X.height}),H.delta.position==="top"&&(Ee=null,Me=ee.top,Q={width:Math.max(ee.width,X.width),height:ee.height+X.height,left:Math.min(ee.left,X.left),right:Math.max(ee.right,X.right),top:ee.bottom-ee.height-X.height,bottom:ee.bottom}),se.attr({dx:Ee,dy:Me})}(H._hasNumber||H._hasDelta)&&de.attr("transform",function(){var Ne=W.numbersScaler(Q);he+=Ne[2];var Ce=N(H,"numbersScale",1,Ne[0],he,Math.min),Te;H._scaleNumbers||(Ce=1),H._isAngular?Te=G-Ce*Q.bottom:Te=G-Ce*(Q.top+Q.bottom)/2,H._numbersTop=Ce*Q.top+Te;var Le=Q[j];j==="center"&&(Le=(Q.left+Q.right)/2);var Ve=U-Ce*Le;return Ve=N(H,"numbersTranslate",0,Ve,he,Math.max),p(Ve,Te)+w(Ce)})}function T(O){O.each(function(Y){d.stroke(h.select(this),Y.line.color)}).each(function(Y){d.fill(h.select(this),Y.color)}).style("stroke-width",function(Y){return Y.line.width})}function P(O,Y,B){return function(){var W=E(Y,B);return function(H){return O.endAngle(W(H))()}}}function A(O,Y,B){var W=O._fullLayout,H=L.extendFlat({type:"linear",ticks:"outside",range:B,showline:!0},Y),U={type:"linear",_id:"x"+Y._id},G={letter:"x",font:W.font,noHover:!0,noTickson:!0};function j(re,ae){return L.coerce(H,U,x,re,ae)}return v(H,U,j,G,W),c(H,U,j,G),U}function a(O,Y,B){var W=Math.min(Y/O.width,B/O.height);return[W,O,Y+"x"+B]}function R(O,Y){var B=Math.sqrt(O.width/2*(O.width/2)+O.height*O.height),W=Y/B;return[W,O,Y]}function b(O,Y,B,W){var H=document.createElementNS("http://www.w3.org/2000/svg","text"),U=h.select(H);return U.text(O).attr("x",0).attr("y",0).attr("text-anchor",B).attr("data-unformatted",O).call(i.convertToTspans,W).call(r.font,Y),r.bBox(U.node())}function N(O,Y,B,W,H,U){var G="_cache"+Y;O[G]&&O[G].key===H||(O[G]={key:H,value:B});var j=L.aggNums(U,null,[O[G].value,W],2);return O[G].value=j,j}},16249:function(k,F,e){var h=e(50693),E=e(12663).axisHoverFormat,n=e(5386).fF,L=e(2418),w=e(9012),p=e(1426).extendFlat,m=e(30962).overrideAll;function t(i){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(i){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var l=k.exports=m(p({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:n(),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),valuehoverformat:E("value",1),showlegend:p({},w.showlegend,{dflt:!1})},h("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:p({},w.hoverinfo)}),"calc","nested");l.flatshading.dflt=!0,l.lighting.facenormalsepsilon.dflt=0,l.x.editType=l.y.editType=l.z.editType=l.value.editType="calc+clearAxisTypes",l.transforms=void 0},56959:function(k,F,e){var h=e(78803),E=e(88489).processGrid,n=e(88489).filter;k.exports=function(w,p){p._len=Math.min(p.x.length,p.y.length,p.z.length,p.value.length),p._x=n(p.x,p._len),p._y=n(p.y,p._len),p._z=n(p.z,p._len),p._value=n(p.value,p._len);var m=E(p);p._gridFill=m.fill,p._Xs=m.Xs,p._Ys=m.Ys,p._Zs=m.Zs,p._len=m.len;for(var t=1/0,r=-1/0,l=0;l<p._len;l++){var i=p._value[l];t=Math.min(t,i),r=Math.max(r,i)}p._minValues=t,p._maxValues=r,p._vMin=p.isomin===void 0||p.isomin===null?t:p.isomin,p._vMax=p.isomax===void 0||p.isomin===null?r:p.isomax,h(w,p,{vals:[p._vMin,p._vMax],containerStr:"",cLetter:"c"})}},22674:function(k,F,e){var h=e(9330).gl_mesh3d,E=e(81697).parseColorScale,n=e(78614),L=e(21081).extractOpts,w=e(90060),p=function(f,v){for(var c=v.length-1;c>0;c--){var x=Math.min(v[c],v[c-1]),d=Math.max(v[c],v[c-1]);if(d>x&&x<f&&f<=d)return{id:c,distRatio:(d-f)/(d-x)}}return{id:0,distRatio:0}};function m(f,v,c){this.scene=f,this.uid=c,this.mesh=v,this.name="",this.data=null,this.showContour=!1}var t=m.prototype;t.handlePick=function(f){if(f.object===this.mesh){var v=f.data.index,c=this.data._meshX[v],x=this.data._meshY[v],d=this.data._meshZ[v],M=this.data._Ys.length,g=this.data._Zs.length,u=p(c,this.data._Xs).id,y=p(x,this.data._Ys).id,C=p(d,this.data._Zs).id,S=f.index=C+g*y+g*M*u;f.traceCoordinate=[this.data._meshX[S],this.data._meshY[S],this.data._meshZ[S],this.data._value[S]];var D=this.data.hovertext||this.data.text;return Array.isArray(D)&&D[S]!==void 0?f.textLabel=D[S]:D&&(f.textLabel=D),!0}},t.update=function(f){var v=this.scene,c=v.fullSceneLayout;this.data=l(f);function x(y,C,S,D){return C.map(function(T){return y.d2l(T,0,D)*S})}var d=w(x(c.xaxis,f._meshX,v.dataScale[0],f.xcalendar),x(c.yaxis,f._meshY,v.dataScale[1],f.ycalendar),x(c.zaxis,f._meshZ,v.dataScale[2],f.zcalendar)),M=w(f._meshI,f._meshJ,f._meshK),g={positions:d,cells:M,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,contourEnable:f.contour.show,contourColor:n(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},u=L(f);g.vertexIntensity=f._meshIntensity,g.vertexIntensityBounds=[u.min,u.max],g.colormap=E(f),this.mesh.update(g)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function l(f){f._meshI=[],f._meshJ=[],f._meshK=[];var v=f.surface.show,c=f.spaceframe.show,x=f.surface.fill,d=f.spaceframe.fill,M=!1,g=!1,u=0,y,C,S=f._Xs,D=f._Ys,T=f._Zs,P=S.length,A=D.length,a=T.length,R=r.indexOf(f._gridFill.replace(/-/g,"").replace(/\+/g,"")),b=function(ke,Ie,Oe){switch(R){case 5:return Oe+a*Ie+a*A*ke;case 4:return Oe+a*ke+a*P*Ie;case 3:return Ie+A*Oe+A*a*ke;case 2:return Ie+A*ke+A*P*Oe;case 1:return ke+P*Oe+P*a*Ie;default:return ke+P*Ie+P*A*Oe}},N=f._minValues,O=f._maxValues,Y=f._vMin,B=f._vMax,W,H,U,G;function j(ke,Ie,Oe){for(var _e=G.length,Ae=C;Ae<_e;Ae++)if(ke===W[Ae]&&Ie===H[Ae]&&Oe===U[Ae])return Ae;return-1}function re(){C=y}function ae(){W=[],H=[],U=[],G=[],y=0,re()}function ue(ke,Ie,Oe,_e){return W.push(ke),H.push(Ie),U.push(Oe),G.push(_e),y++,y-1}function de(ke,Ie,Oe){return f._meshI.push(ke),f._meshJ.push(Ie),f._meshK.push(Oe),u++,u-1}function ee(ke,Ie,Oe){for(var _e=[],Ae=0;Ae<ke.length;Ae++)_e[Ae]=(ke[Ae]+Ie[Ae]+Oe[Ae])/3;return _e}function X(ke,Ie,Oe){for(var _e=[],Ae=0;Ae<ke.length;Ae++)_e[Ae]=ke[Ae]*(1-Oe)+Oe*Ie[Ae];return _e}var Q;function $(ke){Q=ke}function ne(ke,Ie){var Oe=ke[0],_e=ke[1],Ae=ke[2],ce=ee(Oe,_e,Ae),be=Math.sqrt(1-Q),Re=X(ce,Oe,be),Ue=X(ce,_e,be),nt=X(ce,Ae,be),ot=Ie[0],wt=Ie[1],_t=Ie[2];return{xyzv:[[Oe,_e,Ue],[Ue,Re,Oe],[_e,Ae,nt],[nt,Ue,_e],[Ae,Oe,Re],[Re,nt,Ae]],abc:[[ot,wt,-1],[-1,-1,ot],[wt,_t,-1],[-1,-1,wt],[_t,ot,-1],[-1,-1,_t]]}}function fe(ke,Ie){return ke==="all"||ke===null?!0:ke.indexOf(Ie)>-1}function te(ke,Ie){return ke===null?Ie:ke}function q(ke,Ie,Oe){re();var _e=[Ie],Ae=[Oe];if(Q>=1)_e=[Ie],Ae=[Oe];else if(Q>0){var ce=ne(Ie,Oe);_e=ce.xyzv,Ae=ce.abc}for(var be=0;be<_e.length;be++){Ie=_e[be],Oe=Ae[be];for(var Re=[],Ue=0;Ue<3;Ue++){var nt=Ie[Ue][0],ot=Ie[Ue][1],wt=Ie[Ue][2],_t=Ie[Ue][3],Ut=Oe[Ue]>-1?Oe[Ue]:j(nt,ot,wt);Ut>-1?Re[Ue]=Ut:Re[Ue]=ue(nt,ot,wt,te(ke,_t))}de(Re[0],Re[1],Re[2])}}function he(ke,Ie,Oe){var _e=function(Ae,ce,be){q(ke,[Ie[Ae],Ie[ce],Ie[be]],[Oe[Ae],Oe[ce],Oe[be]])};_e(0,1,2),_e(2,3,0)}function se(ke,Ie,Oe){var _e=function(Ae,ce,be){q(ke,[Ie[Ae],Ie[ce],Ie[be]],[Oe[Ae],Oe[ce],Oe[be]])};_e(0,1,2),_e(3,0,1),_e(2,3,0),_e(1,2,3)}function pe(ke,Ie,Oe,_e){var Ae=ke[3];Ae<Oe&&(Ae=Oe),Ae>_e&&(Ae=_e);for(var ce=(ke[3]-Ae)/(ke[3]-Ie[3]+1e-9),be=[],Re=0;Re<4;Re++)be[Re]=(1-ce)*ke[Re]+ce*Ie[Re];return be}function we(ke,Ie,Oe){return ke>=Ie&&ke<=Oe}function Ee(ke){var Ie=.001*(B-Y);return ke>=Y-Ie&&ke<=B+Ie}function Me(ke){for(var Ie=[],Oe=0;Oe<4;Oe++){var _e=ke[Oe];Ie.push([f._x[_e],f._y[_e],f._z[_e],f._value[_e]])}return Ie}var Be=3;function Ne(ke,Ie,Oe,_e,Ae,ce){ce||(ce=1),Oe=[-1,-1,-1];var be=!1,Re=[we(Ie[0][3],_e,Ae),we(Ie[1][3],_e,Ae),we(Ie[2][3],_e,Ae)];if(!Re[0]&&!Re[1]&&!Re[2])return!1;var Ue=function(ot,wt,_t){return Ee(wt[0][3])&&Ee(wt[1][3])&&Ee(wt[2][3])?(q(ot,wt,_t),!0):ce<Be?Ne(ot,wt,_t,Y,B,++ce):!1};if(Re[0]&&Re[1]&&Re[2])return Ue(ke,Ie,Oe)||be;var nt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ot){if(Re[ot[0]]&&Re[ot[1]]&&!Re[ot[2]]){var wt=Ie[ot[0]],_t=Ie[ot[1]],Ut=Ie[ot[2]],Vt=pe(Ut,wt,_e,Ae),Lt=pe(Ut,_t,_e,Ae);be=Ue(ke,[Lt,Vt,wt],[-1,-1,Oe[ot[0]]])||be,be=Ue(ke,[wt,_t,Lt],[Oe[ot[0]],Oe[ot[1]],-1])||be,nt=!0}}),nt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ot){if(Re[ot[0]]&&!Re[ot[1]]&&!Re[ot[2]]){var wt=Ie[ot[0]],_t=Ie[ot[1]],Ut=Ie[ot[2]],Vt=pe(_t,wt,_e,Ae),Lt=pe(Ut,wt,_e,Ae);be=Ue(ke,[Lt,Vt,wt],[-1,-1,Oe[ot[0]]])||be,nt=!0}}),be}function Ce(ke,Ie,Oe,_e){var Ae=!1,ce=Me(Ie),be=[we(ce[0][3],Oe,_e),we(ce[1][3],Oe,_e),we(ce[2][3],Oe,_e),we(ce[3][3],Oe,_e)];if(!be[0]&&!be[1]&&!be[2]&&!be[3])return Ae;if(be[0]&&be[1]&&be[2]&&be[3])return g&&(Ae=se(ke,ce,Ie)||Ae),Ae;var Re=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ue){if(be[Ue[0]]&&be[Ue[1]]&&be[Ue[2]]&&!be[Ue[3]]){var nt=ce[Ue[0]],ot=ce[Ue[1]],wt=ce[Ue[2]],_t=ce[Ue[3]];if(g)Ae=q(ke,[nt,ot,wt],[Ie[Ue[0]],Ie[Ue[1]],Ie[Ue[2]]])||Ae;else{var Ut=pe(_t,nt,Oe,_e),Vt=pe(_t,ot,Oe,_e),Lt=pe(_t,wt,Oe,_e);Ae=q(null,[Ut,Vt,Lt],[-1,-1,-1])||Ae}Re=!0}}),Re||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ue){if(be[Ue[0]]&&be[Ue[1]]&&!be[Ue[2]]&&!be[Ue[3]]){var nt=ce[Ue[0]],ot=ce[Ue[1]],wt=ce[Ue[2]],_t=ce[Ue[3]],Ut=pe(wt,nt,Oe,_e),Vt=pe(wt,ot,Oe,_e),Lt=pe(_t,ot,Oe,_e),Kt=pe(_t,nt,Oe,_e);g?(Ae=q(ke,[nt,Kt,Ut],[Ie[Ue[0]],-1,-1])||Ae,Ae=q(ke,[ot,Vt,Lt],[Ie[Ue[1]],-1,-1])||Ae):Ae=he(null,[Ut,Vt,Lt,Kt],[-1,-1,-1,-1])||Ae,Re=!0}}),Re)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ue){if(be[Ue[0]]&&!be[Ue[1]]&&!be[Ue[2]]&&!be[Ue[3]]){var nt=ce[Ue[0]],ot=ce[Ue[1]],wt=ce[Ue[2]],_t=ce[Ue[3]],Ut=pe(ot,nt,Oe,_e),Vt=pe(wt,nt,Oe,_e),Lt=pe(_t,nt,Oe,_e);g?(Ae=q(ke,[nt,Ut,Vt],[Ie[Ue[0]],-1,-1])||Ae,Ae=q(ke,[nt,Vt,Lt],[Ie[Ue[0]],-1,-1])||Ae,Ae=q(ke,[nt,Lt,Ut],[Ie[Ue[0]],-1,-1])||Ae):Ae=q(null,[Ut,Vt,Lt],[-1,-1,-1])||Ae,Re=!0}}),Ae}function Te(ke,Ie,Oe,_e,Ae,ce,be,Re,Ue,nt,ot){var wt=!1;return M&&(fe(ke,"A")&&(wt=Ce(null,[Ie,Oe,_e,ce],nt,ot)||wt),fe(ke,"B")&&(wt=Ce(null,[Oe,_e,Ae,Ue],nt,ot)||wt),fe(ke,"C")&&(wt=Ce(null,[Oe,ce,be,Ue],nt,ot)||wt),fe(ke,"D")&&(wt=Ce(null,[_e,ce,Re,Ue],nt,ot)||wt),fe(ke,"E")&&(wt=Ce(null,[Oe,_e,ce,Ue],nt,ot)||wt)),g&&(wt=Ce(ke,[Oe,_e,ce,Ue],nt,ot)||wt),wt}function Le(ke,Ie,Oe,_e,Ae,ce,be,Re){return[Re[0]===!0?!0:Ne(ke,Me([Ie,Oe,_e]),[Ie,Oe,_e],ce,be),Re[1]===!0?!0:Ne(ke,Me([_e,Ae,Ie]),[_e,Ae,Ie],ce,be)]}function Ve(ke,Ie,Oe,_e,Ae,ce,be,Re,Ue){return Re?Le(ke,Ie,Oe,Ae,_e,ce,be,Ue):Le(ke,Oe,Ae,_e,Ie,ce,be,Ue)}function We(ke,Ie,Oe,_e,Ae,ce,be){var Re=!1,Ue,nt,ot,wt,_t=function(){Re=Ne(ke,[Ue,nt,ot],[-1,-1,-1],Ae,ce)||Re,Re=Ne(ke,[ot,wt,Ue],[-1,-1,-1],Ae,ce)||Re},Ut=be[0],Vt=be[1],Lt=be[2];return Ut&&(Ue=X(Me([b(Ie,Oe-0,_e-0)])[0],Me([b(Ie-1,Oe-0,_e-0)])[0],Ut),nt=X(Me([b(Ie,Oe-0,_e-1)])[0],Me([b(Ie-1,Oe-0,_e-1)])[0],Ut),ot=X(Me([b(Ie,Oe-1,_e-1)])[0],Me([b(Ie-1,Oe-1,_e-1)])[0],Ut),wt=X(Me([b(Ie,Oe-1,_e-0)])[0],Me([b(Ie-1,Oe-1,_e-0)])[0],Ut),_t()),Vt&&(Ue=X(Me([b(Ie-0,Oe,_e-0)])[0],Me([b(Ie-0,Oe-1,_e-0)])[0],Vt),nt=X(Me([b(Ie-0,Oe,_e-1)])[0],Me([b(Ie-0,Oe-1,_e-1)])[0],Vt),ot=X(Me([b(Ie-1,Oe,_e-1)])[0],Me([b(Ie-1,Oe-1,_e-1)])[0],Vt),wt=X(Me([b(Ie-1,Oe,_e-0)])[0],Me([b(Ie-1,Oe-1,_e-0)])[0],Vt),_t()),Lt&&(Ue=X(Me([b(Ie-0,Oe-0,_e)])[0],Me([b(Ie-0,Oe-0,_e-1)])[0],Lt),nt=X(Me([b(Ie-0,Oe-1,_e)])[0],Me([b(Ie-0,Oe-1,_e-1)])[0],Lt),ot=X(Me([b(Ie-1,Oe-1,_e)])[0],Me([b(Ie-1,Oe-1,_e-1)])[0],Lt),wt=X(Me([b(Ie-1,Oe-0,_e)])[0],Me([b(Ie-1,Oe-0,_e-1)])[0],Lt),_t()),Re}function Fe(ke,Ie,Oe,_e,Ae,ce,be,Re,Ue,nt,ot,wt){var _t=ke;return wt?(M&&ke==="even"&&(_t=null),Te(_t,Ie,Oe,_e,Ae,ce,be,Re,Ue,nt,ot)):(M&&ke==="odd"&&(_t=null),Te(_t,Ue,Re,be,ce,Ae,_e,Oe,Ie,nt,ot))}function Ge(ke,Ie,Oe,_e,Ae){for(var ce=[],be=0,Re=0;Re<Ie.length;Re++)for(var Ue=Ie[Re],nt=1;nt<a;nt++)for(var ot=1;ot<A;ot++)ce.push(Ve(ke,b(Ue,ot-1,nt-1),b(Ue,ot-1,nt),b(Ue,ot,nt-1),b(Ue,ot,nt),Oe,_e,(Ue+ot+nt)%2,Ae&&Ae[be]?Ae[be]:[])),be++;return ce}function it(ke,Ie,Oe,_e,Ae){for(var ce=[],be=0,Re=0;Re<Ie.length;Re++)for(var Ue=Ie[Re],nt=1;nt<P;nt++)for(var ot=1;ot<a;ot++)ce.push(Ve(ke,b(nt-1,Ue,ot-1),b(nt,Ue,ot-1),b(nt-1,Ue,ot),b(nt,Ue,ot),Oe,_e,(nt+Ue+ot)%2,Ae&&Ae[be]?Ae[be]:[])),be++;return ce}function qe(ke,Ie,Oe,_e,Ae){for(var ce=[],be=0,Re=0;Re<Ie.length;Re++)for(var Ue=Ie[Re],nt=1;nt<A;nt++)for(var ot=1;ot<P;ot++)ce.push(Ve(ke,b(ot-1,nt-1,Ue),b(ot-1,nt,Ue),b(ot,nt-1,Ue),b(ot,nt,Ue),Oe,_e,(ot+nt+Ue)%2,Ae&&Ae[be]?Ae[be]:[])),be++;return ce}function $e(ke,Ie,Oe){for(var _e=1;_e<a;_e++)for(var Ae=1;Ae<A;Ae++)for(var ce=1;ce<P;ce++)Fe(ke,b(ce-1,Ae-1,_e-1),b(ce-1,Ae-1,_e),b(ce-1,Ae,_e-1),b(ce-1,Ae,_e),b(ce,Ae-1,_e-1),b(ce,Ae-1,_e),b(ce,Ae,_e-1),b(ce,Ae,_e),Ie,Oe,(ce+Ae+_e)%2)}function tt(ke,Ie,Oe){g=!0,$e(ke,Ie,Oe),g=!1}function vt(ke,Ie,Oe){M=!0,$e(ke,Ie,Oe),M=!1}function dt(ke,Ie,Oe,_e,Ae,ce){for(var be=[],Re=0,Ue=0;Ue<Ie.length;Ue++)for(var nt=Ie[Ue],ot=1;ot<a;ot++)for(var wt=1;wt<A;wt++)be.push(We(ke,nt,wt,ot,Oe,_e,Ae[Ue],ce&&ce[Re]?ce[Re]:[])),Re++;return be}function gt(ke,Ie,Oe,_e,Ae,ce){for(var be=[],Re=0,Ue=0;Ue<Ie.length;Ue++)for(var nt=Ie[Ue],ot=1;ot<P;ot++)for(var wt=1;wt<a;wt++)be.push(We(ke,ot,nt,wt,Oe,_e,Ae[Ue],ce&&ce[Re]?ce[Re]:[])),Re++;return be}function Mt(ke,Ie,Oe,_e,Ae,ce){for(var be=[],Re=0,Ue=0;Ue<Ie.length;Ue++)for(var nt=Ie[Ue],ot=1;ot<A;ot++)for(var wt=1;wt<P;wt++)be.push(We(ke,wt,ot,nt,Oe,_e,Ae[Ue],ce&&ce[Re]?ce[Re]:[])),Re++;return be}function Ct(ke,Ie){for(var Oe=[],_e=ke;_e<Ie;_e++)Oe.push(_e);return Oe}function Wt(){for(var ke=0;ke<P;ke++)for(var Ie=0;Ie<A;Ie++)for(var Oe=0;Oe<a;Oe++){var _e=b(ke,Ie,Oe);ue(f._x[_e],f._y[_e],f._z[_e],f._value[_e])}}function Xe(){ae(),Wt();var ke=null;if(c&&d&&($(d),tt(ke,Y,B)),v&&x){$(x);for(var Ie=f.surface.pattern,Oe=f.surface.count,_e=0;_e<Oe;_e++){var Ae=Oe===1?.5:_e/(Oe-1),ce=(1-Ae)*Y+Ae*B,be=Math.abs(ce-N),Re=Math.abs(ce-O),Ue=be>Re?[N,ce]:[ce,O];vt(Ie,Ue[0],Ue[1])}}var nt=[[Math.min(Y,O),Math.max(Y,O)],[Math.min(N,B),Math.max(N,B)]];["x","y","z"].forEach(function(ot){for(var wt=[],_t=0;_t<nt.length;_t++){var Ut=0,Vt=nt[_t][0],Lt=nt[_t][1],Kt=f.slices[ot];if(Kt.show&&Kt.fill){$(Kt.fill);var ar=[],Fr=[],yt=[];if(Kt.locations.length)for(var Xt=0;Xt<Kt.locations.length;Xt++){var Yt=p(Kt.locations[Xt],ot==="x"?S:ot==="y"?D:T);Yt.distRatio===0?ar.push(Yt.id):Yt.id>0&&(Fr.push(Yt.id),ot==="x"?yt.push([Yt.distRatio,0,0]):ot==="y"?yt.push([0,Yt.distRatio,0]):yt.push([0,0,Yt.distRatio]))}else ot==="x"?ar=Ct(1,P-1):ot==="y"?ar=Ct(1,A-1):ar=Ct(1,a-1);Fr.length>0&&(ot==="x"?wt[Ut]=dt(ke,Fr,Vt,Lt,yt,wt[Ut]):ot==="y"?wt[Ut]=gt(ke,Fr,Vt,Lt,yt,wt[Ut]):wt[Ut]=Mt(ke,Fr,Vt,Lt,yt,wt[Ut]),Ut++),ar.length>0&&(ot==="x"?wt[Ut]=Ge(ke,ar,Vt,Lt,wt[Ut]):ot==="y"?wt[Ut]=it(ke,ar,Vt,Lt,wt[Ut]):wt[Ut]=qe(ke,ar,Vt,Lt,wt[Ut]),Ut++)}var br=f.caps[ot];br.show&&br.fill&&($(br.fill),ot==="x"?wt[Ut]=Ge(ke,[0,P-1],Vt,Lt,wt[Ut]):ot==="y"?wt[Ut]=it(ke,[0,A-1],Vt,Lt,wt[Ut]):wt[Ut]=qe(ke,[0,a-1],Vt,Lt,wt[Ut]),Ut++)}}),u===0&&ae(),f._meshX=W,f._meshY=H,f._meshZ=U,f._meshIntensity=G,f._Xs=S,f._Ys=D,f._Zs=T}return Xe(),f}function i(f,v){var c=f.glplot.gl,x=h({gl:c}),d=new m(f,x,v.uid);return x._trace=d,d.update(v),f.glplot.add(x),d}k.exports={findNearestOnAxis:p,generateIsoMeshes:l,createIsosurfaceTrace:i}},82738:function(k,F,e){var h=e(71828),E=e(73972),n=e(16249),L=e(1586);function w(m,t,r,l){function i(f,v){return h.coerce(m,t,n,f,v)}p(m,t,r,l,i)}function p(m,t,r,l,i){var f=i("isomin"),v=i("isomax");v!=null&&f!==void 0&&f!==null&&f>v&&(t.isomin=null,t.isomax=null);var c=i("x"),x=i("y"),d=i("z"),M=i("value");if(!c||!c.length||!x||!x.length||!d||!d.length||!M||!M.length){t.visible=!1;return}var g=E.getComponentMethod("calendars","handleTraceDefaults");g(m,t,["x","y","z"],l),i("valuehoverformat"),["x","y","z"].forEach(function(S){i(S+"hoverformat");var D="caps."+S,T=i(D+".show");T&&i(D+".fill");var P="slices."+S,A=i(P+".show");A&&(i(P+".fill"),i(P+".locations"))});var u=i("spaceframe.show");u&&i("spaceframe.fill");var y=i("surface.show");y&&(i("surface.count"),i("surface.fill"),i("surface.pattern"));var C=i("contour.show");C&&(i("contour.color"),i("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(S){i(S)}),L(m,t,l,i,{prefix:"",cLetter:"c"}),t._length=null}k.exports={supplyDefaults:w,supplyIsoDefaults:p}},64943:function(k,F,e){k.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(k,F,e){var h=e(50693),E=e(12663).axisHoverFormat,n=e(5386).fF,L=e(54532),w=e(9012),p=e(1426).extendFlat;k.exports=p({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"}),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},h("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:p({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:p({},L.lightposition.x,{dflt:1e5}),y:p({},L.lightposition.y,{dflt:1e5}),z:p({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:p({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:p({},w.hoverinfo,{editType:"calc"}),showlegend:p({},w.showlegend,{dflt:!1})})},82932:function(k,F,e){var h=e(78803);k.exports=function(n,L){L.intensity&&h(n,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},91134:function(k,F,e){var h=e(9330).gl_mesh3d,E=e(9330).delaunay_triangulate,n=e(9330).alpha_shape,L=e(9330).convex_hull,w=e(81697).parseColorScale,p=e(78614),m=e(21081).extractOpts,t=e(90060);function r(M,g,u){this.scene=M,this.uid=u,this.mesh=g,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var l=r.prototype;l.handlePick=function(M){if(M.object===this.mesh){var g=M.index=M.data.index;M.data._cellCenter?M.traceCoordinate=M.data.dataCoordinate:M.traceCoordinate=[this.data.x[g],this.data.y[g],this.data.z[g]];var u=this.data.hovertext||this.data.text;return Array.isArray(u)&&u[g]!==void 0?M.textLabel=u[g]:u&&(M.textLabel=u),!0}};function i(M){for(var g=[],u=M.length,y=0;y<u;y++)g[y]=p(M[y]);return g}function f(M,g,u,y){for(var C=[],S=g.length,D=0;D<S;D++)C[D]=M.d2l(g[D],0,y)*u;return C}function v(M){for(var g=[],u=M.length,y=0;y<u;y++)g[y]=Math.round(M[y]);return g}function c(M,g){for(var u=["x","y","z"].indexOf(M),y=[],C=g.length,S=0;S<C;S++)y[S]=[g[S][(u+1)%3],g[S][(u+2)%3]];return E(y)}function x(M,g){for(var u=M.length,y=0;y<u;y++)if(M[y]<=-.5||M[y]>=g-.5)return!1;return!0}l.update=function(M){var g=this.scene,u=g.fullSceneLayout;this.data=M;var y=M.x.length,C=t(f(u.xaxis,M.x,g.dataScale[0],M.xcalendar),f(u.yaxis,M.y,g.dataScale[1],M.ycalendar),f(u.zaxis,M.z,g.dataScale[2],M.zcalendar)),S;if(M.i&&M.j&&M.k){if(M.i.length!==M.j.length||M.j.length!==M.k.length||!x(M.i,y)||!x(M.j,y)||!x(M.k,y))return;S=t(v(M.i),v(M.j),v(M.k))}else M.alphahull===0?S=L(C):M.alphahull>0?S=n(M.alphahull,C):S=c(M.delaunayaxis,C);var D={positions:C,cells:S,lightPosition:[M.lightposition.x,M.lightposition.y,M.lightposition.z],ambient:M.lighting.ambient,diffuse:M.lighting.diffuse,specular:M.lighting.specular,roughness:M.lighting.roughness,fresnel:M.lighting.fresnel,vertexNormalsEpsilon:M.lighting.vertexnormalsepsilon,faceNormalsEpsilon:M.lighting.facenormalsepsilon,opacity:M.opacity,contourEnable:M.contour.show,contourColor:p(M.contour.color).slice(0,3),contourWidth:M.contour.width,useFacetNormals:M.flatshading};if(M.intensity){var T=m(M);this.color="#fff";var P=M.intensitymode;D[P+"Intensity"]=M.intensity,D[P+"IntensityBounds"]=[T.min,T.max],D.colormap=w(M)}else M.vertexcolor?(this.color=M.vertexcolor[0],D.vertexColors=i(M.vertexcolor)):M.facecolor?(this.color=M.facecolor[0],D.cellColors=i(M.facecolor)):(this.color=M.color,D.meshColor=p(M.color));this.mesh.update(D)},l.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function d(M,g){var u=M.glplot.gl,y=h({gl:u}),C=new r(M,y,g.uid);return y._trace=C,C.update(g),M.glplot.add(y),C}k.exports=d},58669:function(k,F,e){var h=e(73972),E=e(71828),n=e(1586),L=e(2418);k.exports=function(p,m,t,r){function l(x,d){return E.coerce(p,m,L,x,d)}function i(x){var d=x.map(function(M){var g=l(M);return g&&E.isArrayOrTypedArray(g)?g:null});return d.every(function(M){return M&&M.length===d[0].length})&&d}var f=i(["x","y","z"]);if(!f){m.visible=!1;return}if(i(["i","j","k"]),m.i&&(!m.j||!m.k)||m.j&&(!m.k||!m.i)||m.k&&(!m.i||!m.j)){m.visible=!1;return}var v=h.getComponentMethod("calendars","handleTraceDefaults");v(p,m,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(x){l(x)});var c=l("contour.show");c&&(l("contour.color"),l("contour.width")),"intensity"in p?(l("intensity"),l("intensitymode"),n(p,m,r,l,{prefix:"",cLetter:"c"})):(m.showscale=!1,"facecolor"in p?l("facecolor"):"vertexcolor"in p?l("vertexcolor"):l("color",t)),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),m._length=null}},21164:function(k,F,e){k.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(k,F,e){var h=e(71828).extendFlat,E=e(82196),n=e(12663).axisHoverFormat,L=e(79952).P,w=e(77914),p=e(22372),m=p.INCREASING.COLOR,t=p.DECREASING.COLOR,r=E.line;function l(i){return{line:{color:h({},r.color,{dflt:i}),width:r.width,dash:L,editType:"style"},editType:"style"}}k.exports={xperiod:E.xperiod,xperiod0:E.xperiod0,xperiodalignment:E.xperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:h({},r.width,{}),dash:h({},L,{}),editType:"style"},increasing:l(m),decreasing:l(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:h({},w.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(k,F,e){var h=e(71828),E=h._,n=e(89298),L=e(42973),w=e(50606).BADNUM;function p(l,i){var f=n.getFromId(l,i.xaxis),v=n.getFromId(l,i.yaxis),c=r(l,f,i),x=i._minDiff;i._minDiff=null;var d=i._origX;i._origX=null;var M=i._xcalc;i._xcalc=null;var g=t(l,i,d,M,v,m);return i._extremes[f._id]=n.findExtremes(f,M,{vpad:x/2}),g.length?(h.extendFlat(g[0].t,{wHover:x/2,tickLen:c}),g):[{t:{empty:!0}}]}function m(l,i,f,v){return{o:l,h:i,l:f,c:v}}function t(l,i,f,v,c,x){for(var d=c.makeCalcdata(i,"open"),M=c.makeCalcdata(i,"high"),g=c.makeCalcdata(i,"low"),u=c.makeCalcdata(i,"close"),y=Array.isArray(i.text),C=Array.isArray(i.hovertext),S=!0,D=null,T=!!i.xperiodalignment,P=[],A=0;A<v.length;A++){var a=v[A],R=d[A],b=M[A],N=g[A],O=u[A];if(a!==w&&R!==w&&b!==w&&N!==w&&O!==w){O===R?D!==null&&O!==D&&(S=O>D):S=O>R,D=O;var Y=x(R,b,N,O);Y.pos=a,Y.yc=(R+O)/2,Y.i=A,Y.dir=S?"increasing":"decreasing",Y.x=Y.pos,Y.y=[N,b],T&&(Y.orig_p=f[A]),y&&(Y.tx=i.text[A]),C&&(Y.htx=i.hovertext[A]),P.push(Y)}else P.push({pos:a,empty:!0})}return i._extremes[c._id]=n.findExtremes(c,h.concat(g,M),{padded:!0}),P.length&&(P[0].t={labels:{open:E(l,"open:")+" ",high:E(l,"high:")+" ",low:E(l,"low:")+" ",close:E(l,"close:")+" "}}),P}function r(l,i,f){var v=f._minDiff;if(!v){var c=l._fullData,x=[];v=1/0;var d;for(d=0;d<c.length;d++){var M=c[d];if(M.type==="ohlc"&&M.visible===!0&&M.xaxis===i._id){x.push(M);var g=i.makeCalcdata(M,"x");M._origX=g;var u=L(f,i,"x",g).vals;M._xcalc=u;var y=h.distinctVals(u).minDiff;y&&isFinite(y)&&(v=Math.min(v,y))}}for(v===1/0&&(v=1),d=0;d<x.length;d++)x[d]._minDiff=v}return v*f.tickwidth}k.exports={calc:p,calcCommon:t}},16169:function(k,F,e){var h=e(71828),E=e(14555),n=e(73927),L=e(2522);k.exports=function(m,t,r,l){function i(v,c){return h.coerce(m,t,L,v,c)}var f=E(m,t,i,l);if(!f){t.visible=!1;return}n(m,t,l,i,{x:!0}),i("xhoverformat"),i("yhoverformat"),i("line.width"),i("line.dash"),w(m,t,i,"increasing"),w(m,t,i,"decreasing"),i("text"),i("hovertext"),i("tickwidth"),l._requestRangeslider[t.xaxis]=!0};function w(p,m,t,r){t(r+".line.color"),t(r+".line.width",m.line.width),t(r+".line.dash",m.line.dash)}},66449:function(k,F,e){var h=e(89298),E=e(71828),n=e(30211),L=e(7901),w=e(71828).fillText,p=e(22372),m={increasing:p.INCREASING.SYMBOL,decreasing:p.DECREASING.SYMBOL};function t(f,v,c,x){var d=f.cd,M=d[0].trace;return M.hoverlabel.split?l(f,v,c,x):i(f,v,c,x)}function r(f,v,c,x){var d=f.cd,M=f.xa,g=d[0].trace,u=d[0].t,y=g.type,C=y==="ohlc"?"l":"min",S=y==="ohlc"?"h":"max",D,T,P=u.bPos||0,A=function(j){return j.pos+P-v},a=u.bdPos||u.tickLen,R=u.wHover,b=Math.min(1,a/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));D=f.maxHoverDistance-b,T=f.maxSpikeDistance-b;function N(j){var re=A(j);return n.inbox(re-R,re+R,D)}function O(j){var re=j[C],ae=j[S];return re===ae||n.inbox(re-c,ae-c,D)}function Y(j){return(N(j)+O(j))/2}var B=n.getDistanceFunction(x,N,O,Y);if(n.getClosest(d,B,f),f.index===!1)return null;var W=d[f.index];if(W.empty)return null;var H=W.dir,U=g[H],G=U.line.color;return L.opacity(G)&&U.line.width?f.color=G:f.color=U.fillcolor,f.x0=M.c2p(W.pos+P-a,!0),f.x1=M.c2p(W.pos+P+a,!0),f.xLabelVal=W.orig_p!==void 0?W.orig_p:W.pos,f.spikeDistance=Y(W)*T/D,f.xSpike=M.c2p(W.pos,!0),f}function l(f,v,c,x){var d=f.cd,M=f.ya,g=d[0].trace,u=d[0].t,y=[],C=r(f,v,c,x);if(!C)return[];var S=C.index,D=d[S],T=D.hi||g.hoverinfo,P=T.split("+"),A=T==="all",a=A||P.indexOf("y")!==-1;if(!a)return[];for(var R=["high","open","close","low"],b={},N=0;N<R.length;N++){var O=R[N],Y=g[O][C.index],B=M.c2p(Y,!0),W;Y in b?(W=b[Y],W.yLabel+="<br>"+u.labels[O]+h.hoverLabelText(M,Y,g.yhoverformat)):(W=E.extendFlat({},C),W.y0=W.y1=B,W.yLabelVal=Y,W.yLabel=u.labels[O]+h.hoverLabelText(M,Y,g.yhoverformat),W.name="",y.push(W),b[Y]=W)}return y}function i(f,v,c,x){var d=f.cd,M=f.ya,g=d[0].trace,u=d[0].t,y=r(f,v,c,x);if(!y)return[];var C=y.index,S=d[C],D=y.index=S.i,T=S.dir;function P(Y){return u.labels[Y]+h.hoverLabelText(M,g[Y][D],g.yhoverformat)}var A=S.hi||g.hoverinfo,a=A.split("+"),R=A==="all",b=R||a.indexOf("y")!==-1,N=R||a.indexOf("text")!==-1,O=b?[P("open"),P("high"),P("low"),P("close")+"  "+m[T]]:[];return N&&w(S,g,O),y.extraText=O.join("<br>"),y.y0=y.y1=M.c2p(S.yc,!0),[y]}k.exports={hoverPoints:t,hoverSplit:l,hoverOnPoints:i}},54186:function(k,F,e){k.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(k,F,e){var h=e(73972),E=e(71828);k.exports=function(L,w,p,m){var t=p("x"),r=p("open"),l=p("high"),i=p("low"),f=p("close");p("hoverlabel.split");var v=h.getComponentMethod("calendars","handleTraceDefaults");if(v(L,w,["x"],m),!!(r&&l&&i&&f)){var c=Math.min(r.length,l.length,i.length,f.length);return t&&(c=Math.min(c,E.minRowLength(t))),w._length=c,c}}},72314:function(k,F,e){var h=e(39898),E=e(71828);k.exports=function(L,w,p,m){var t=w.yaxis,r=w.xaxis,l=!!r.rangebreaks;E.makeTraceGroups(m,p,"trace ohlc").each(function(i){var f=h.select(this),v=i[0],c=v.t,x=v.trace;if(x.visible!==!0||c.empty){f.remove();return}var d=c.tickLen,M=f.selectAll("path").data(E.identity);M.enter().append("path"),M.exit().remove(),M.attr("d",function(g){if(g.empty)return"M0,0Z";var u=r.c2p(g.pos-d,!0),y=r.c2p(g.pos+d,!0),C=l?(u+y)/2:r.c2p(g.pos,!0),S=t.c2p(g.o,!0),D=t.c2p(g.h,!0),T=t.c2p(g.l,!0),P=t.c2p(g.c,!0);return"M"+u+","+S+"H"+C+"M"+C+","+D+"V"+T+"M"+y+","+P+"H"+C})})}},67324:function(k){k.exports=function(e,h){var E=e.cd,n=e.xaxis,L=e.yaxis,w=[],p,m=E[0].t.bPos||0;if(h===!1)for(p=0;p<E.length;p++)E[p].selected=0;else for(p=0;p<E.length;p++){var t=E[p];h.contains([n.c2p(t.pos+m),L.c2p(t.yc)],null,t.i,e)?(w.push({pointNumber:t.i,x:n.c2d(t.pos),y:L.c2d(t.yc)}),t.selected=1):t.selected=0}return w}},53101:function(k,F,e){var h=e(39898),E=e(91424),n=e(7901);k.exports=function(w,p,m){var t=m||h.select(w).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var l=r[0].trace;h.select(this).selectAll("path").each(function(i){if(!i.empty){var f=l[i.dir].line;h.select(this).style("fill","none").call(n.stroke,f.color).call(E.dashLine,f.dash,f.width).style("opacity",l.selectedpoints&&!i.selected?.3:1)}})})}},99506:function(k,F,e){var h=e(1426).extendFlat,E=e(9012),n=e(41940),L=e(50693),w=e(5386).fF,p=e(27670).Y,m=h({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:w({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});k.exports={domain:p({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:h({},E.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:w({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:n({editType:"calc"}),tickfont:n({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:m,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(k,F,e){var h=e(27659).a0,E=e(45784),n="parcats";F.name=n,F.plot=function(L,w,p,m){var t=h(L.calcdata,n);if(t.length){var r=t[0];E(L,r,p,m)}},F.clean=function(L,w,p,m){var t=m._has&&m._has("parcats"),r=w._has&&w._has("parcats");t&&!r&&m._paperdiv.selectAll(".parcats").remove()}},28699:function(k,F,e){var h=e(28984).wrap,E=e(52075).hasColorscale,n=e(78803),L=e(75744),w=e(91424),p=e(71828),m=e(92770);k.exports=function(u,y){var C=p.filterVisible(y.dimensions);if(C.length===0)return[];var S=C.map(function(ee){var X;if(ee.categoryorder==="trace")X=null;else if(ee.categoryorder==="array")X=ee.categoryarray;else{X=L(ee.values);for(var Q=!0,$=0;$<X.length;$++)if(!m(X[$])){Q=!1;break}X.sort(Q?p.sorterAsc:void 0),ee.categoryorder==="category descending"&&(X=X.reverse())}return c(ee.values,X)}),D,T,P;p.isArrayOrTypedArray(y.counts)?D=y.counts:D=[y.counts],x(C),C.forEach(function(ee,X){d(ee,S[X])});var A=y.line,a;A?(E(y,"line")&&n(u,y,{vals:y.line.color,containerStr:"line",cLetter:"c"}),a=w.tryColorscale(A)):a=p.identity;function R(ee){var X,Q;return p.isArrayOrTypedArray(A.color)?(X=A.color[ee%A.color.length],Q=X):X=A.color,{color:a(X),rawColor:Q}}var b=C[0].values.length,N={},O=S.map(function(ee){return ee.inds});P=0;var Y,B;for(Y=0;Y<b;Y++){var W=[];for(B=0;B<O.length;B++)W.push(O[B][Y]);T=D[Y%D.length],P+=T;var H=R(Y),U=W+"-"+H.rawColor;N[U]===void 0&&(N[U]=f(W,H.color,H.rawColor)),v(N[U],Y,T)}var G=C.map(function(ee,X){return r(X,ee._index,ee._displayindex,ee.label,P)});for(Y=0;Y<b;Y++)for(T=D[Y%D.length],B=0;B<G.length;B++){var j=G[B].containerInd,re=S[B].inds[Y],ae=G[B].categories;if(ae[re]===void 0){var ue=y.dimensions[j]._categoryarray[re],de=y.dimensions[j]._ticktext[re];ae[re]=l(B,re,ue,de)}i(ae[re],Y,T)}return h(t(G,N,P))};function t(g,u,y){var C=g.map(function(S){return S.categories.length}).reduce(function(S,D){return Math.max(S,D)});return{dimensions:g,paths:u,trace:void 0,maxCats:C,count:y}}function r(g,u,y,C,S){return{dimensionInd:g,containerInd:u,displayInd:y,dimensionLabel:C,count:S,categories:[],dragX:null}}function l(g,u,y,C){return{dimensionInd:g,categoryInd:u,categoryValue:y,displayInd:u,categoryLabel:C,valueInds:[],count:0,dragY:null}}function i(g,u,y){g.valueInds.push(u),g.count+=y}function f(g,u,y){return{categoryInds:g,color:u,rawColor:y,valueInds:[],count:0}}function v(g,u,y){g.valueInds.push(u),g.count+=y}function c(g,u){u==null?u=[]:u=u.map(function(a){return a});var y={},C={},S=[];u.forEach(function(a,R){y[a]=0,C[a]=R});for(var D=0;D<g.length;D++){var T=g[D],P;y[T]===void 0?(y[T]=1,P=u.push(T)-1,C[T]=P):(y[T]++,P=C[T]),S.push(P)}var A=u.map(function(a){return y[a]});return{uniqueValues:u,uniqueCounts:A,inds:S}}function x(g){var u=g.map(function(C){return C.displayindex}),y;if(M(u))for(y=0;y<g.length;y++)g[y]._displayindex=g[y].displayindex;else for(y=0;y<g.length;y++)g[y]._displayindex=y}function d(g,u){g._categoryarray=u.uniqueValues,g.ticktext===null||g.ticktext===void 0?g._ticktext=[]:g._ticktext=g.ticktext.slice();for(var y=g._ticktext.length;y<u.uniqueValues.length;y++)g._ticktext.push(u.uniqueValues[y])}function M(g){for(var u=new Array(g.length),y=0;y<g.length;y++){if(g[y]<0||g[y]>=g.length||u[g[y]]!==void 0)return!1;u[g[y]]=!0}return!0}},14647:function(k,F,e){var h=e(71828),E=e(52075).hasColorscale,n=e(1586),L=e(27670).c,w=e(85501),p=e(99506),m=e(94397);function t(l,i,f,v,c){c("line.shape"),c("line.hovertemplate");var x=c("line.color",v.colorway[0]);if(E(l,"line")&&h.isArrayOrTypedArray(x)){if(x.length)return c("line.colorscale"),n(l,i,v,c,{prefix:"line.",cLetter:"c"}),x.length;i.line.color=f}return 1/0}function r(l,i){function f(u,y){return h.coerce(l,i,p.dimensions,u,y)}var v=f("values"),c=f("visible");if(v&&v.length||(c=i.visible=!1),c){f("label"),f("displayindex",i._index);var x=l.categoryarray,d=Array.isArray(x)&&x.length>0,M;d&&(M="array");var g=f("categoryorder",M);g==="array"?(f("categoryarray"),f("ticktext")):(delete l.categoryarray,delete l.ticktext),!d&&g==="array"&&(i.categoryorder="trace")}}k.exports=function(i,f,v,c){function x(y,C){return h.coerce(i,f,p,y,C)}var d=w(i,f,{name:"dimensions",handleItemDefaults:r}),M=t(i,f,v,c,x);L(f,c,x),(!Array.isArray(d)||!d.length)&&(f.visible=!1),m(f,d,"values",M),x("hoveron"),x("hovertemplate"),x("arrangement"),x("bundlecolors"),x("sortpaths"),x("counts");var g={family:c.font.family,size:Math.round(c.font.size),color:c.font.color};h.coerceFont(x,"labelfont",g);var u={family:c.font.family,size:Math.round(c.font.size/1.2),color:c.font.color};h.coerceFont(x,"tickfont",u)}},94873:function(k,F,e){k.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(k,F,e){var h=e(39898),E=e(81684).k4,n=e(72391),L=e(30211),w=e(71828),p=w.strTranslate,m=e(91424),t=e(84267),r=e(63893);function l($,ne,fe,te){var q=ne._context.staticPlot,he=$.map(ue.bind(0,ne,fe)),se=te.selectAll("g.parcatslayer").data([null]);se.enter().append("g").attr("class","parcatslayer").style("pointer-events",q?"none":"all");var pe=se.selectAll("g.trace.parcats").data(he,i),we=pe.enter().append("g").attr("class","trace parcats");pe.attr("transform",function(Ge){return p(Ge.x,Ge.y)}),we.append("g").attr("class","paths");var Ee=pe.select("g.paths"),Me=Ee.selectAll("path.path").data(function(Ge){return Ge.paths},i);Me.attr("fill",function(Ge){return Ge.model.color});var Be=Me.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ge){return Ge.model.color}).attr("fill-opacity",0);u(Be),Me.attr("d",function(Ge){return Ge.svgD}),Be.empty()||Me.sort(v),Me.exit().remove(),Me.on("mouseover",c).on("mouseout",x).on("click",g),we.append("g").attr("class","dimensions");var Ne=pe.select("g.dimensions"),Ce=Ne.selectAll("g.dimension").data(function(Ge){return Ge.dimensions},i);Ce.enter().append("g").attr("class","dimension"),Ce.attr("transform",function(Ge){return p(Ge.x,0)}),Ce.exit().remove();var Te=Ce.selectAll("g.category").data(function(Ge){return Ge.categories},i),Le=Te.enter().append("g").attr("class","category");Te.attr("transform",function(Ge){return p(0,Ge.y)}),Le.append("rect").attr("class","catrect").attr("pointer-events","none"),Te.select("rect.catrect").attr("fill","none").attr("width",function(Ge){return Ge.width}).attr("height",function(Ge){return Ge.height}),S(Le);var Ve=Te.selectAll("rect.bandrect").data(function(Ge){return Ge.bands},i);Ve.each(function(){w.raiseToTop(this)}),Ve.attr("fill",function(Ge){return Ge.color});var We=Ve.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ge){return Ge.color}).attr("fill-opacity",0);Ve.attr("fill",function(Ge){return Ge.color}).attr("width",function(Ge){return Ge.width}).attr("height",function(Ge){return Ge.height}).attr("y",function(Ge){return Ge.y}).attr("cursor",function(Ge){return Ge.parcatsViewModel.arrangement==="fixed"?"default":Ge.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),T(We),Ve.exit().remove(),Le.append("text").attr("class","catlabel").attr("pointer-events","none");var Fe=ne._fullLayout.paper_bgcolor;Te.select("text.catlabel").attr("text-anchor",function(Ge){return f(Ge)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(Fe)).style("fill","rgb(0, 0, 0)").attr("x",function(Ge){return f(Ge)?Ge.width+5:-5}).attr("y",function(Ge){return Ge.height/2}).text(function(Ge){return Ge.model.categoryLabel}).each(function(Ge){m.font(h.select(this),Ge.parcatsViewModel.categorylabelfont),r.convertToTspans(h.select(this),ne)}),Le.append("text").attr("class","dimlabel"),Te.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ge){return Ge.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ge){return Ge.width/2}).attr("y",-5).text(function(Ge,it){return it===0?Ge.parcatsViewModel.model.dimensions[Ge.model.dimensionInd].dimensionLabel:null}).each(function(Ge){m.font(h.select(this),Ge.parcatsViewModel.labelfont)}),Te.selectAll("rect.bandrect").on("mouseover",B).on("mouseout",W),Te.exit().remove(),Ce.call(h.behavior.drag().origin(function(Ge){return{x:Ge.x,y:0}}).on("dragstart",H).on("drag",U).on("dragend",G)),pe.each(function(Ge){Ge.traceSelection=h.select(this),Ge.pathSelection=h.select(this).selectAll("g.paths").selectAll("path.path"),Ge.dimensionSelection=h.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),pe.exit().remove()}k.exports=function($,ne,fe,te){l(fe,$,te,ne)};function i($){return $.key}function f($){var ne=$.parcatsViewModel.dimensions.length,fe=$.parcatsViewModel.dimensions[ne-1].model.dimensionInd;return $.model.dimensionInd===fe}function v($,ne){return $.model.rawColor>ne.model.rawColor?1:$.model.rawColor<ne.model.rawColor?-1:0}function c($){if(!$.parcatsViewModel.dragDimension&&$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){w.raiseToTop(this),y(h.select(this));var ne=d($),fe=M($);if($.parcatsViewModel.graphDiv.emit("plotly_hover",{points:ne,event:h.event,constraints:fe}),$.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var te=h.mouse(this)[0],q=$.parcatsViewModel.graphDiv,he=$.parcatsViewModel.trace,se=q._fullLayout,pe=se._paperdiv.node().getBoundingClientRect(),we=$.parcatsViewModel.graphDiv.getBoundingClientRect(),Ee,Me,Be;for(Be=0;Be<$.leftXs.length-1;Be++)if($.leftXs[Be]+$.dimWidths[Be]-2<=te&&te<=$.leftXs[Be+1]+2){var Ne=$.parcatsViewModel.dimensions[Be],Ce=$.parcatsViewModel.dimensions[Be+1];Ee=(Ne.x+Ne.width+Ce.x)/2,Me=($.topYs[Be]+$.topYs[Be+1]+$.height)/2;break}var Te=$.parcatsViewModel.x+Ee,Le=$.parcatsViewModel.y+Me,Ve=t.mostReadable($.model.color,["black","white"]),We=$.model.count,Fe=We/$.parcatsViewModel.model.count,Ge={countLabel:We,probabilityLabel:Fe.toFixed(3)},it=[];$.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&it.push(["Count:",Ge.countLabel].join(" ")),$.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&it.push(["P:",Ge.probabilityLabel].join(" "));var qe=it.join("<br>"),$e=h.mouse(q)[0];L.loneHover({trace:he,x:Te-pe.left+we.left,y:Le-pe.top+we.top,text:qe,color:$.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ve,idealAlign:$e<Te?"right":"left",hovertemplate:(he.line||{}).hovertemplate,hovertemplateLabels:Ge,eventData:[{data:he._input,fullData:he,count:We,probability:Fe}]},{container:se._hoverlayer.node(),outerContainer:se._paper.node(),gd:q})}}}function x($){if(!$.parcatsViewModel.dragDimension&&(u(h.select(this)),L.loneUnhover($.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),$.parcatsViewModel.pathSelection.sort(v),$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var ne=d($),fe=M($);$.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:ne,event:h.event,constraints:fe})}}function d($){for(var ne=[],fe=j($.parcatsViewModel),te=0;te<$.model.valueInds.length;te++){var q=$.model.valueInds[te];ne.push({curveNumber:fe,pointNumber:q})}return ne}function M($){for(var ne={},fe=$.parcatsViewModel.model.dimensions,te=0;te<fe.length;te++){var q=fe[te],he=q.categories[$.model.categoryInds[te]];ne[q.containerInd]=he.categoryValue}return $.model.rawColor!==void 0&&(ne.color=$.model.rawColor),ne}function g($){if($.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ne=d($),fe=M($);$.parcatsViewModel.graphDiv.emit("plotly_click",{points:ne,event:h.event,constraints:fe})}}function u($){$.attr("fill",function(ne){return ne.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function y($){$.attr("fill-opacity",.8).attr("stroke",function(ne){return t.mostReadable(ne.model.color,["black","white"])}).attr("stroke-width",.3)}function C($){$.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function S($){$.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function D($){$.attr("stroke","black").attr("stroke-width",1.5)}function T($){$.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function P($){var ne=$.parcatsViewModel.pathSelection,fe=$.categoryViewModel.model.dimensionInd,te=$.categoryViewModel.model.categoryInd;return ne.filter(function(q){return q.model.categoryInds[fe]===te&&q.model.color===$.color})}function A($){var ne=h.select($.parentNode).selectAll("rect.bandrect");ne.each(function(fe){var te=P(fe);y(te),te.each(function(){w.raiseToTop(this)})}),C(h.select($.parentNode))}function a($){var ne=h.select($).datum(),fe=P(ne);y(fe),fe.each(function(){w.raiseToTop(this)}),h.select($.parentNode).selectAll("rect.bandrect").filter(function(te){return te.color===ne.color}).each(function(){w.raiseToTop(this),D(h.select(this))})}function R($,ne,fe){var te=h.select($).datum(),q=te.categoryViewModel.model,he=te.parcatsViewModel.graphDiv,se=h.select($.parentNode).selectAll("rect.bandrect"),pe=[];se.each(function(Ee){var Me=P(Ee);Me.each(function(Be){Array.prototype.push.apply(pe,d(Be))})});var we={};we[q.dimensionInd]=q.categoryValue,he.emit(ne,{points:pe,event:fe,constraints:we})}function b($,ne,fe){var te=h.select($).datum(),q=te.categoryViewModel.model,he=te.parcatsViewModel.graphDiv,se=P(te),pe=[];se.each(function(Ee){Array.prototype.push.apply(pe,d(Ee))});var we={};we[q.dimensionInd]=q.categoryValue,te.rawColor!==void 0&&(we.color=te.rawColor),he.emit(ne,{points:pe,event:fe,constraints:we})}function N($,ne,fe){$._fullLayout._calcInverseTransform($);var te=$._fullLayout._invScaleX,q=$._fullLayout._invScaleY,he=h.select(fe.parentNode).select("rect.catrect"),se=he.node().getBoundingClientRect(),pe=he.datum(),we=pe.parcatsViewModel,Ee=we.model.dimensions[pe.model.dimensionInd],Me=we.trace,Be=se.top+se.height/2,Ne,Ce;we.dimensions.length>1&&Ee.displayInd===we.dimensions.length-1?(Ne=se.left,Ce="left"):(Ne=se.left+se.width,Ce="right");var Te=pe.model.count,Le=pe.model.categoryLabel,Ve=Te/pe.parcatsViewModel.model.count,We={countLabel:Te,categoryLabel:Le,probabilityLabel:Ve.toFixed(3)},Fe=[];pe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Fe.push(["Count:",We.countLabel].join(" ")),pe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Fe.push(["P("+We.categoryLabel+"):",We.probabilityLabel].join(" "));var Ge=Fe.join("<br>");return{trace:Me,x:te*(Ne-ne.left),y:q*(Be-ne.top),text:Ge,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ce,hovertemplate:Me.hovertemplate,hovertemplateLabels:We,eventData:[{data:Me._input,fullData:Me,count:Te,category:Le,probability:Ve}]}}function O($,ne,fe){var te=[];return h.select(fe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var q=this;te.push(N($,ne,q))}),te}function Y($,ne,fe){$._fullLayout._calcInverseTransform($);var te=$._fullLayout._invScaleX,q=$._fullLayout._invScaleY,he=fe.getBoundingClientRect(),se=h.select(fe).datum(),pe=se.categoryViewModel,we=pe.parcatsViewModel,Ee=we.model.dimensions[pe.model.dimensionInd],Me=we.trace,Be=he.y+he.height/2,Ne,Ce;we.dimensions.length>1&&Ee.displayInd===we.dimensions.length-1?(Ne=he.left,Ce="left"):(Ne=he.left+he.width,Ce="right");var Te=pe.model.categoryLabel,Le=se.parcatsViewModel.model.count,Ve=0;se.categoryViewModel.bands.forEach(function(gt){gt.color===se.color&&(Ve+=gt.count)});var We=pe.model.count,Fe=0;we.pathSelection.each(function(gt){gt.model.color===se.color&&(Fe+=gt.model.count)});var Ge=Ve/Le,it=Ve/Fe,qe=Ve/We,$e={countLabel:Le,categoryLabel:Te,probabilityLabel:Ge.toFixed(3)},tt=[];pe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&tt.push(["Count:",$e.countLabel].join(" ")),pe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(tt.push("P(color ∩ "+Te+"): "+$e.probabilityLabel),tt.push("P("+Te+" | color): "+it.toFixed(3)),tt.push("P(color | "+Te+"): "+qe.toFixed(3)));var vt=tt.join("<br>"),dt=t.mostReadable(se.color,["black","white"]);return{trace:Me,x:te*(Ne-ne.left),y:q*(Be-ne.top),text:vt,color:se.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:dt,fontSize:10,idealAlign:Ce,hovertemplate:Me.hovertemplate,hovertemplateLabels:$e,eventData:[{data:Me._input,fullData:Me,category:Te,count:Le,probability:Ge,categorycount:We,colorcount:Fe,bandcolorcount:Ve}]}}function B($){if(!$.parcatsViewModel.dragDimension&&$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ne=h.mouse(this)[1];if(ne<-1)return;var fe=$.parcatsViewModel.graphDiv,te=fe._fullLayout,q=te._paperdiv.node().getBoundingClientRect(),he=$.parcatsViewModel.hoveron,se=this;if(he==="color"?(a(se),b(se,"plotly_hover",h.event)):(A(se),R(se,"plotly_hover",h.event)),$.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var pe;he==="category"?pe=N(fe,q,se):he==="color"?pe=Y(fe,q,se):he==="dimension"&&(pe=O(fe,q,se)),pe&&L.loneHover(pe,{container:te._hoverlayer.node(),outerContainer:te._paper.node(),gd:fe})}}}function W($){var ne=$.parcatsViewModel;if(!ne.dragDimension&&(u(ne.pathSelection),S(ne.dimensionSelection.selectAll("g.category")),T(ne.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(ne.graphDiv._fullLayout._hoverlayer.node()),ne.pathSelection.sort(v),ne.hoverinfoItems.indexOf("skip")===-1)){var fe=$.parcatsViewModel.hoveron,te=this;fe==="color"?b(te,"plotly_unhover",h.event):R(te,"plotly_unhover",h.event)}}function H($){$.parcatsViewModel.arrangement!=="fixed"&&($.dragDimensionDisplayInd=$.model.displayInd,$.initialDragDimensionDisplayInds=$.parcatsViewModel.model.dimensions.map(function(ne){return ne.displayInd}),$.dragHasMoved=!1,$.dragCategoryDisplayInd=null,h.select(this).selectAll("g.category").select("rect.catrect").each(function(ne){var fe=h.mouse(this)[0],te=h.mouse(this)[1];-2<=fe&&fe<=ne.width+2&&-2<=te&&te<=ne.height+2&&($.dragCategoryDisplayInd=ne.model.displayInd,$.initialDragCategoryDisplayInds=$.model.categories.map(function(q){return q.displayInd}),ne.model.dragY=ne.y,w.raiseToTop(this.parentNode),h.select(this.parentNode).selectAll("rect.bandrect").each(function(q){q.y<te&&te<=q.y+q.height&&($.potentialClickBand=this)}))}),$.parcatsViewModel.dragDimension=$,L.loneUnhover($.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function U($){if($.parcatsViewModel.arrangement!=="fixed"&&($.dragHasMoved=!0,$.dragDimensionDisplayInd!==null)){var ne=$.dragDimensionDisplayInd,fe=ne-1,te=ne+1,q=$.parcatsViewModel.dimensions[ne];if($.dragCategoryDisplayInd!==null){var he=q.categories[$.dragCategoryDisplayInd];he.model.dragY+=h.event.dy;var se=he.model.dragY,pe=he.model.displayInd,we=q.categories,Ee=we[pe-1],Me=we[pe+1];Ee!==void 0&&se<Ee.y+Ee.height/2&&(he.model.displayInd=Ee.model.displayInd,Ee.model.displayInd=pe),Me!==void 0&&se+he.height>Me.y+Me.height/2&&(he.model.displayInd=Me.model.displayInd,Me.model.displayInd=pe),$.dragCategoryDisplayInd=he.model.displayInd}if($.dragCategoryDisplayInd===null||$.parcatsViewModel.arrangement==="freeform"){q.model.dragX=h.event.x;var Be=$.parcatsViewModel.dimensions[fe],Ne=$.parcatsViewModel.dimensions[te];Be!==void 0&&q.model.dragX<Be.x+Be.width&&(q.model.displayInd=Be.model.displayInd,Be.model.displayInd=ne),Ne!==void 0&&q.model.dragX+q.width>Ne.x&&(q.model.displayInd=Ne.model.displayInd,Ne.model.displayInd=$.dragDimensionDisplayInd),$.dragDimensionDisplayInd=q.model.displayInd}X($.parcatsViewModel),ee($.parcatsViewModel),ae($.parcatsViewModel),re($.parcatsViewModel)}}function G($){if($.parcatsViewModel.arrangement!=="fixed"&&$.dragDimensionDisplayInd!==null){h.select(this).selectAll("text").attr("font-weight","normal");var ne={},fe=j($.parcatsViewModel),te=$.parcatsViewModel.model.dimensions.map(function(Ne){return Ne.displayInd}),q=$.initialDragDimensionDisplayInds.some(function(Ne,Ce){return Ne!==te[Ce]});q&&te.forEach(function(Ne,Ce){var Te=$.parcatsViewModel.model.dimensions[Ce].containerInd;ne["dimensions["+Te+"].displayindex"]=Ne});var he=!1;if($.dragCategoryDisplayInd!==null){var se=$.model.categories.map(function(Ne){return Ne.displayInd});if(he=$.initialDragCategoryDisplayInds.some(function(Ne,Ce){return Ne!==se[Ce]}),he){var pe=$.model.categories.slice().sort(function(Ne,Ce){return Ne.displayInd-Ce.displayInd}),we=pe.map(function(Ne){return Ne.categoryValue}),Ee=pe.map(function(Ne){return Ne.categoryLabel});ne["dimensions["+$.model.containerInd+"].categoryarray"]=[we],ne["dimensions["+$.model.containerInd+"].ticktext"]=[Ee],ne["dimensions["+$.model.containerInd+"].categoryorder"]="array"}}if($.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!$.dragHasMoved&&$.potentialClickBand&&($.parcatsViewModel.hoveron==="color"?b($.potentialClickBand,"plotly_click",h.event.sourceEvent):R($.potentialClickBand,"plotly_click",h.event.sourceEvent)),$.model.dragX=null,$.dragCategoryDisplayInd!==null){var Me=$.parcatsViewModel.dimensions[$.dragDimensionDisplayInd].categories[$.dragCategoryDisplayInd];Me.model.dragY=null,$.dragCategoryDisplayInd=null}$.dragDimensionDisplayInd=null,$.parcatsViewModel.dragDimension=null,$.dragHasMoved=null,$.potentialClickBand=null,X($.parcatsViewModel),ee($.parcatsViewModel);var Be=h.transition().duration(300).ease("cubic-in-out");Be.each(function(){ae($.parcatsViewModel,!0),re($.parcatsViewModel,!0)}).each("end",function(){(q||he)&&n.restyle($.parcatsViewModel.graphDiv,ne,[fe])})}}function j($){for(var ne,fe=$.graphDiv._fullData,te=0;te<fe.length;te++)if($.key===fe[te].uid){ne=te;break}return ne}function re($,ne){ne===void 0&&(ne=!1);function fe(te){return ne?te.transition():te}$.pathSelection.data(function(te){return te.paths},i),fe($.pathSelection).attr("d",function(te){return te.svgD})}function ae($,ne){ne===void 0&&(ne=!1);function fe(we){return ne?we.transition():we}$.dimensionSelection.data(function(we){return we.dimensions},i);var te=$.dimensionSelection.selectAll("g.category").data(function(we){return we.categories},i);fe($.dimensionSelection).attr("transform",function(we){return p(we.x,0)}),fe(te).attr("transform",function(we){return p(0,we.y)});var q=te.select(".dimlabel");q.text(function(we,Ee){return Ee===0?we.parcatsViewModel.model.dimensions[we.model.dimensionInd].dimensionLabel:null});var he=te.select(".catlabel");he.attr("text-anchor",function(we){return f(we)?"start":"end"}).attr("x",function(we){return f(we)?we.width+5:-5}).each(function(we){var Ee,Me;f(we)?(Ee=we.width+5,Me="start"):(Ee=-5,Me="end"),h.select(this).selectAll("tspan").attr("x",Ee).attr("text-anchor",Me)});var se=te.selectAll("rect.bandrect").data(function(we){return we.bands},i),pe=se.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(we){return we.color}).attr("fill-opacity",0);se.attr("fill",function(we){return we.color}).attr("width",function(we){return we.width}).attr("height",function(we){return we.height}).attr("y",function(we){return we.y}),T(pe),se.each(function(){w.raiseToTop(this)}),se.exit().remove()}function ue($,ne,fe){var te=fe[0],q=ne.margin||{l:80,r:80,t:100,b:80},he=te.trace,se=he.domain,pe=ne.width,we=ne.height,Ee=Math.floor(pe*(se.x[1]-se.x[0])),Me=Math.floor(we*(se.y[1]-se.y[0])),Be=se.x[0]*pe+q.l,Ne=ne.height-se.y[1]*ne.height+q.t,Ce=he.line.shape,Te;he.hoverinfo==="all"?Te=["count","probability"]:Te=(he.hoverinfo||"").split("+");var Le={trace:he,key:he.uid,model:te,x:Be,y:Ne,width:Ee,height:Me,hoveron:he.hoveron,hoverinfoItems:Te,arrangement:he.arrangement,bundlecolors:he.bundlecolors,sortpaths:he.sortpaths,labelfont:he.labelfont,categorylabelfont:he.tickfont,pathShape:Ce,dragDimension:null,margin:q,paths:[],dimensions:[],graphDiv:$,traceSelection:null,pathSelection:null,dimensionSelection:null};return te.dimensions&&(X(Le),ee(Le)),Le}function de($,ne,fe,te,q){var he=[],se=[],pe,we;for(we=0;we<fe.length-1;we++)pe=E(fe[we]+$[we],$[we+1]),he.push(pe(q)),se.push(pe(1-q));var Ee="M "+$[0]+","+ne[0];for(Ee+="l"+fe[0]+",0 ",we=1;we<fe.length;we++)Ee+="C"+he[we-1]+","+ne[we-1]+" "+se[we-1]+","+ne[we]+" "+$[we]+","+ne[we],Ee+="l"+fe[we]+",0 ";for(Ee+="l0,"+te+" ",Ee+="l -"+fe[fe.length-1]+",0 ",we=fe.length-2;we>=0;we--)Ee+="C"+se[we]+","+(ne[we+1]+te)+" "+he[we]+","+(ne[we]+te)+" "+($[we]+fe[we])+","+(ne[we]+te),Ee+="l-"+fe[we]+",0 ";return Ee+="Z",Ee}function ee($){var ne=$.dimensions,fe=$.model,te=ne.map(function(Wt){return Wt.categories.map(function(Xe){return Xe.y})}),q=$.model.dimensions.map(function(Wt){return Wt.categories.map(function(Xe){return Xe.displayInd})}),he=$.model.dimensions.map(function(Wt){return Wt.displayInd}),se=$.dimensions.map(function(Wt){return Wt.model.dimensionInd}),pe=ne.map(function(Wt){return Wt.x}),we=ne.map(function(Wt){return Wt.width}),Ee=[];for(var Me in fe.paths)fe.paths.hasOwnProperty(Me)&&Ee.push(fe.paths[Me]);function Be(Wt){var Xe=Wt.categoryInds.map(function(Ie,Oe){return q[Oe][Ie]}),ke=se.map(function(Ie){return Xe[Ie]});return ke}Ee.sort(function(Wt,Xe){var ke=Be(Wt),Ie=Be(Xe);return $.sortpaths==="backward"&&(ke.reverse(),Ie.reverse()),ke.push(Wt.valueInds[0]),Ie.push(Xe.valueInds[0]),$.bundlecolors&&(ke.unshift(Wt.rawColor),Ie.unshift(Xe.rawColor)),ke<Ie?-1:ke>Ie?1:0});for(var Ne=new Array(Ee.length),Ce=ne[0].model.count,Te=ne[0].categories.map(function(Wt){return Wt.height}).reduce(function(Wt,Xe){return Wt+Xe}),Le=0;Le<Ee.length;Le++){var Ve=Ee[Le],We;Ce>0?We=Te*(Ve.count/Ce):We=0;for(var Fe=new Array(te.length),Ge=0;Ge<Ve.categoryInds.length;Ge++){var it=Ve.categoryInds[Ge],qe=q[Ge][it],$e=he[Ge];Fe[$e]=te[$e][qe],te[$e][qe]+=We;var tt=$.dimensions[$e].categories[qe],vt=tt.bands.length,dt=tt.bands[vt-1];if(dt===void 0||Ve.rawColor!==dt.rawColor){var gt=dt===void 0?0:dt.y+dt.height;tt.bands.push({key:gt,color:Ve.color,rawColor:Ve.rawColor,height:We,width:tt.width,count:Ve.count,y:gt,categoryViewModel:tt,parcatsViewModel:$})}else{var Mt=tt.bands[vt-1];Mt.height+=We,Mt.count+=Ve.count}}var Ct;$.pathShape==="hspline"?Ct=de(pe,Fe,we,We,.5):Ct=de(pe,Fe,we,We,0),Ne[Le]={key:Ve.valueInds[0],model:Ve,height:We,leftXs:pe,topYs:Fe,dimWidths:we,svgD:Ct,parcatsViewModel:$}}$.paths=Ne}function X($){var ne=$.model.dimensions.map(function(se){return{displayInd:se.displayInd,dimensionInd:se.dimensionInd}});ne.sort(function(se,pe){return se.displayInd-pe.displayInd});var fe=[];for(var te in ne){var q=ne[te].dimensionInd,he=$.model.dimensions[q];fe.push(Q($,he))}$.dimensions=fe}function Q($,ne){var fe=40,te=16,q=$.model.dimensions.length,he=ne.displayInd,se,pe,we;q>1?se=($.width-2*fe-te)/(q-1):se=0,pe=fe,we=pe+se*he;var Ee=[],Me=$.model.maxCats,Be=ne.categories.length,Ne=8,Ce=ne.count,Te=$.height-Ne*(Me-1),Le,Ve,We,Fe,Ge,it=(Me-Be)*Ne/2,qe=ne.categories.map(function($e){return{displayInd:$e.displayInd,categoryInd:$e.categoryInd}});for(qe.sort(function($e,tt){return $e.displayInd-tt.displayInd}),Ge=0;Ge<Be;Ge++)Fe=qe[Ge].categoryInd,Ve=ne.categories[Fe],Ce>0?Le=Ve.count/Ce*Te:Le=0,We={key:Ve.valueInds[0],model:Ve,width:te,height:Le,y:Ve.dragY!==null?Ve.dragY:it,bands:[],parcatsViewModel:$},it=it+Le+Ne,Ee.push(We);return{key:ne.dimensionInd,x:ne.dragX!==null?ne.dragX:we,y:0,width:te,model:ne,categories:Ee,parcatsViewModel:$,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(k,F,e){var h=e(45460);k.exports=function(n,L,w,p){var m=n._fullLayout,t=m._paper,r=m._size;h(n,t,L,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},w,p)}},73362:function(k,F,e){var h=e(50693),E=e(13838),n=e(41940),L=e(27670).Y,w=e(1426).extendFlat,p=e(44467).templatedArray;k.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:n({editType:"plot"}),tickfont:n({editType:"plot"}),rangefont:n({editType:"plot"}),dimensions:p("dimension",{label:{valType:"string",editType:"plot"},tickvals:w({},E.tickvals,{editType:"plot"}),ticktext:w({},E.ticktext,{editType:"plot"}),tickformat:w({},E.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:w({editType:"calc"},h("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(k,F,e){var h=e(25706),E=e(39898),n=e(28984).keyFun,L=e(28984).repeat,w=e(71828).sorterAsc,p=e(71828).strTranslate,m=h.bar.snapRatio;function t(G,j){return G*(1-m)+j*m}var r=h.bar.snapClose;function l(G,j){return G*(1-r)+j*r}function i(G,j,re,ae){if(f(re,ae))return re;var ue=G?-1:1,de=0,ee=j.length-1;if(ue<0){var X=de;de=ee,ee=X}for(var Q=j[de],$=Q,ne=de;ue*ne<ue*ee;ne+=ue){var fe=ne+ue,te=j[fe];if(ue*re<ue*l(Q,te))return t(Q,$);if(ue*re<ue*te||fe===ee)return t(te,Q);$=Q,Q=te}}function f(G,j){for(var re=0;re<j.length;re++)if(G>=j[re][0]&&G<=j[re][1])return!0;return!1}function v(G){G.attr("x",-h.bar.captureWidth/2).attr("width",h.bar.captureWidth)}function c(G){G.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function x(G){if(!G.brush.filterSpecified)return"0,"+G.height;for(var j=d(G.brush.filter.getConsolidated(),G.height),re=[0],ae,ue,de,ee=j.length?j[0][0]:null,X=0;X<j.length;X++)ae=j[X],ue=ae[1]-ae[0],re.push(ee),re.push(ue),de=X+1,de<j.length&&(ee=j[de][0]-ae[1]);return re.push(G.height),re}function d(G,j){return G.map(function(re){return re.map(function(ae){return Math.max(0,ae*j)}).sort(w)})}function M(G,j){var re=h.bar.handleHeight;if(!(j>G[1]+re||j<G[0]-re))return j>=.9*G[1]+.1*G[0]?"n":j<=.9*G[0]+.1*G[1]?"s":"ns"}function g(){E.select(document.body).style("cursor",null)}function u(G){G.attr("stroke-dasharray",x)}function y(G,j){var re=E.select(G).selectAll(".highlight, .highlight-shadow"),ae=j?re.transition().duration(h.bar.snapDuration).each("end",j):re;u(ae)}function C(G,j){var re=G.brush,ae=re.filterSpecified,ue=NaN,de={},ee;if(ae){var X=G.height,Q=re.filter.getConsolidated(),$=d(Q,X),ne=NaN,fe=NaN,te=NaN;for(ee=0;ee<=$.length;ee++){var q=$[ee];if(q&&q[0]<=j&&j<=q[1]){ne=ee;break}else if(fe=ee?ee-1:NaN,q&&q[0]>j){te=ee;break}}if(ue=ne,isNaN(ue)&&(isNaN(fe)||isNaN(te)?ue=isNaN(fe)?te:fe:ue=j-$[fe][1]<$[te][0]-j?fe:te),!isNaN(ue)){var he=$[ue],se=M(he,j);se&&(de.interval=Q[ue],de.intervalPix=he,de.region=se)}}if(G.ordinal&&!de.region){var pe=G.unitTickvals,we=G.unitToPaddedPx.invert(j);for(ee=0;ee<pe.length;ee++){var Ee=[pe[Math.max(ee-1,0)]*.25+pe[ee]*.75,pe[Math.min(ee+1,pe.length-1)]*.25+pe[ee]*.75];if(we>=Ee[0]&&we<=Ee[1]){de.clickableOrdinalRange=Ee;break}}}return de}function S(G,j){E.event.sourceEvent.stopPropagation();var re=j.height-E.mouse(G)[1]-2*h.verticalPadding,ae=j.unitToPaddedPx.invert(re),ue=j.brush,de=C(j,re),ee=de.interval,X=ue.svgBrush;if(X.wasDragged=!1,X.grabbingBar=de.region==="ns",X.grabbingBar){var Q=ee.map(j.unitToPaddedPx);X.grabPoint=re-Q[0]-h.verticalPadding,X.barLength=Q[1]-Q[0]}X.clickableOrdinalRange=de.clickableOrdinalRange,X.stayingIntervals=j.multiselect&&ue.filterSpecified?ue.filter.getConsolidated():[],ee&&(X.stayingIntervals=X.stayingIntervals.filter(function($){return $[0]!==ee[0]&&$[1]!==ee[1]})),X.startExtent=de.region?ee[de.region==="s"?1:0]:ae,j.parent.inBrushDrag=!0,X.brushStartCallback()}function D(G,j){E.event.sourceEvent.stopPropagation();var re=j.height-E.mouse(G)[1]-2*h.verticalPadding,ae=j.brush.svgBrush;ae.wasDragged=!0,ae._dragging=!0,ae.grabbingBar?ae.newExtent=[re-ae.grabPoint,re+ae.barLength-ae.grabPoint].map(j.unitToPaddedPx.invert):ae.newExtent=[ae.startExtent,j.unitToPaddedPx.invert(re)].sort(w),j.brush.filterSpecified=!0,ae.extent=ae.stayingIntervals.concat([ae.newExtent]),ae.brushCallback(j),y(G.parentNode)}function T(G,j){var re=j.brush,ae=re.filter,ue=re.svgBrush;ue._dragging||(P(G,j),D(G,j),j.brush.svgBrush.wasDragged=!1),ue._dragging=!1;var de=E.event;de.sourceEvent.stopPropagation();var ee=ue.grabbingBar;if(ue.grabbingBar=!1,ue.grabLocation=void 0,j.parent.inBrushDrag=!1,g(),!ue.wasDragged){ue.wasDragged=void 0,ue.clickableOrdinalRange?re.filterSpecified&&j.multiselect?ue.extent.push(ue.clickableOrdinalRange):(ue.extent=[ue.clickableOrdinalRange],re.filterSpecified=!0):ee?(ue.extent=ue.stayingIntervals,ue.extent.length===0&&O(re)):O(re),ue.brushCallback(j),y(G.parentNode),ue.brushEndCallback(re.filterSpecified?ae.getConsolidated():[]);return}var X=function(){ae.set(ae.getConsolidated())};if(j.ordinal){var Q=j.unitTickvals;Q[Q.length-1]<Q[0]&&Q.reverse(),ue.newExtent=[i(0,Q,ue.newExtent[0],ue.stayingIntervals),i(1,Q,ue.newExtent[1],ue.stayingIntervals)];var $=ue.newExtent[1]>ue.newExtent[0];ue.extent=ue.stayingIntervals.concat($?[ue.newExtent]:[]),ue.extent.length||O(re),ue.brushCallback(j),$?y(G.parentNode,X):(X(),y(G.parentNode))}else X();ue.brushEndCallback(re.filterSpecified?ae.getConsolidated():[])}function P(G,j){var re=j.height-E.mouse(G)[1]-2*h.verticalPadding,ae=C(j,re),ue="crosshair";ae.clickableOrdinalRange?ue="pointer":ae.region&&(ue=ae.region+"-resize"),E.select(document.body).style("cursor",ue)}function A(G){G.on("mousemove",function(j){E.event.preventDefault(),j.parent.inBrushDrag||P(this,j)}).on("mouseleave",function(j){j.parent.inBrushDrag||g()}).call(E.behavior.drag().on("dragstart",function(j){S(this,j)}).on("drag",function(j){D(this,j)}).on("dragend",function(j){T(this,j)}))}function a(G,j){return G[0]-j[0]}function R(G,j,re){var ae=re._context.staticPlot,ue=G.selectAll(".background").data(L);ue.enter().append("rect").classed("background",!0).call(v).call(c).style("pointer-events",ae?"none":"auto").attr("transform",p(0,h.verticalPadding)),ue.call(A).attr("height",function(X){return X.height-h.verticalPadding});var de=G.selectAll(".highlight-shadow").data(L);de.enter().append("line").classed("highlight-shadow",!0).attr("x",-h.bar.width/2).attr("stroke-width",h.bar.width+h.bar.strokeWidth).attr("stroke",j).attr("opacity",h.bar.strokeOpacity).attr("stroke-linecap","butt"),de.attr("y1",function(X){return X.height}).call(u);var ee=G.selectAll(".highlight").data(L);ee.enter().append("line").classed("highlight",!0).attr("x",-h.bar.width/2).attr("stroke-width",h.bar.width-h.bar.strokeWidth).attr("stroke",h.bar.fillColor).attr("opacity",h.bar.fillOpacity).attr("stroke-linecap","butt"),ee.attr("y1",function(X){return X.height}).call(u)}function b(G,j,re){var ae=G.selectAll("."+h.cn.axisBrush).data(L,n);ae.enter().append("g").classed(h.cn.axisBrush,!0),R(ae,j,re)}function N(G){return G.svgBrush.extent.map(function(j){return j.slice()})}function O(G){G.filterSpecified=!1,G.svgBrush.extent=[[-1/0,1/0]]}function Y(G){return function(re){var ae=re.brush,ue=N(ae),de=ue.slice();ae.filter.set(de),G()}}function B(G){for(var j=G.slice(),re=[],ae,ue=j.shift();ue;){for(ae=ue.slice();(ue=j.shift())&&ue[0]<=ae[1];)ae[1]=Math.max(ae[1],ue[1]);re.push(ae)}return re.length===1&&re[0][0]>re[0][1]&&(re=[]),re}function W(){var G=[],j,re;return{set:function(ae){G=ae.map(function(ue){return ue.slice().sort(w)}).sort(a),G.length===1&&G[0][0]===-1/0&&G[0][1]===1/0&&(G=[[0,-1]]),j=B(G),re=G.reduce(function(ue,de){return[Math.min(ue[0],de[0]),Math.max(ue[1],de[1])]},[1/0,-1/0])},get:function(){return G.slice()},getConsolidated:function(){return j},getBounds:function(){return re}}}function H(G,j,re,ae,ue,de){var ee=W();return ee.set(re),{filter:ee,filterSpecified:j,svgBrush:{extent:[],brushStartCallback:ae,brushCallback:Y(ue),brushEndCallback:de}}}function U(G,j){if(Array.isArray(G[0])?(G=G.map(function(ae){return ae.sort(w)}),j.multiselect?G=B(G.sort(a)):G=[G[0]]):G=[G.sort(w)],j.tickvals){var re=j.tickvals.slice().sort(w);if(G=G.map(function(ae){var ue=[i(0,re,ae[0],[]),i(1,re,ae[1],[])];if(ue[1]>ue[0])return ue}).filter(function(ae){return ae}),!G.length)return}return G.length>1?G:G[0]}k.exports={makeBrush:H,ensureAxisBrush:b,cleanRanges:U}},71791:function(k,F,e){k.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(k,F,e){var h=e(39898),E=e(27659).a0,n=e(21341),L=e(77922);F.name="parcoords",F.plot=function(w){var p=E(w.calcdata,"parcoords")[0];p.length&&n(w,p)},F.clean=function(w,p,m,t){var r=t._has&&t._has("parcoords"),l=p._has&&p._has("parcoords");r&&!l&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},F.toSVG=function(w){var p=w._fullLayout._glimages,m=h.select(w).selectAll(".svg-container"),t=m.filter(function(l,i){return i===m.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var l=this,i=l.toDataURL("image/png"),f=p.append("svg:image");f.attr({xmlns:L.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:l.style.width,height:l.style.height})}t.each(r),window.setTimeout(function(){h.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(k,F,e){var h=e(71828).isArrayOrTypedArray,E=e(21081),n=e(28984).wrap;k.exports=function(p,m){var t,r;return E.hasColorscale(m,"line")&&h(m.line.color)?(t=m.line.color,r=E.extractOpts(m.line).colorscale,E.calc(p,m,{vals:t,containerStr:"line",cLetter:"c"})):(t=L(m._length),r=[[0,m.line.color],[1,m.line.color]]),n({lineColor:t,cscale:r})};function L(w){for(var p=new Array(w),m=0;m<w;m++)p[m]=.5;return p}},25706:function(k){k.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(k,F,e){var h=e(71828),E=e(52075).hasColorscale,n=e(1586),L=e(27670).c,w=e(85501),p=e(89298),m=e(73362),t=e(57920),r=e(25706).maxDimensionCount,l=e(94397);function i(v,c,x,d,M){var g=M("line.color",x);if(E(v,"line")&&h.isArrayOrTypedArray(g)){if(g.length)return M("line.colorscale"),n(v,c,d,M,{prefix:"line.",cLetter:"c"}),g.length;c.line.color=x}return 1/0}function f(v,c,x,d){function M(S,D){return h.coerce(v,c,m.dimensions,S,D)}var g=M("values"),u=M("visible");if(g&&g.length||(u=c.visible=!1),u){M("label"),M("tickvals"),M("ticktext"),M("tickformat");var y=M("range");c._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:y},p.setConvert(c._ax,d.layout),M("multiselect");var C=M("constraintrange");C&&(c.constraintrange=t.cleanRanges(C,c))}}k.exports=function(c,x,d,M){function g(D,T){return h.coerce(c,x,m,D,T)}var u=c.dimensions;Array.isArray(u)&&u.length>r&&(h.log("parcoords traces support up to "+r+" dimensions at the moment"),u.splice(r));var y=w(c,x,{name:"dimensions",layout:M,handleItemDefaults:f}),C=i(c,x,d,M,g);L(x,M,g),(!Array.isArray(y)||!y.length)&&(x.visible=!1),l(x,y,"values",C);var S={family:M.font.family,size:Math.round(M.font.size/1.2),color:M.font.color};h.coerceFont(g,"labelfont",S),h.coerceFont(g,"tickfont",S),h.coerceFont(g,"rangefont",S),g("labelangle"),g("labelside"),g("unselected.line.color"),g("unselected.line.opacity")}},1602:function(k,F,e){var h=e(71828).isTypedArray;F.convertTypedArray=function(E){return h(E)?Array.prototype.slice.call(E):E},F.isOrdinal=function(E){return!!E.tickvals},F.isVisible=function(E){return E.visible||!("visible"in E)}},67618:function(k,F,e){var h=e(71791);h.plot=e(21341),k.exports=h},83398:function(k,F,e){var h=e(56068),E=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),n=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),L=e(25706).maxDimensionCount,w=e(71828),p=1e-6,m=2048,t=new Uint8Array(4),r=new Uint8Array(4),l={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(P){P.read({x:0,y:0,width:1,height:1,data:t})}function f(P,A,a,R,b){var N=P._gl;N.enable(N.SCISSOR_TEST),N.scissor(A,a,R,b),P.clear({color:[0,0,0,0],depth:1})}function v(P,A,a,R,b,N){var O=N.key;function Y(B){var W=Math.min(R,b-B*R);B===0&&(window.cancelAnimationFrame(a.currentRafs[O]),delete a.currentRafs[O],f(P,N.scissorX,N.scissorY,N.scissorWidth,N.viewBoxSize[1])),!a.clearOnly&&(N.count=2*W,N.offset=2*B*R,A(N),B*R+W<b&&(a.currentRafs[O]=window.requestAnimationFrame(function(){Y(B+1)})),a.drawCompleted=!1)}a.drawCompleted||(i(P),a.drawCompleted=!0),Y(0)}function c(P){return Math.max(p,Math.min(1-p,P))}function x(P,A){for(var a=new Array(256),R=0;R<256;R++)a[R]=P(R/255).concat(A);return a}function d(P,A){return(P>>>8*A)%256/255}function M(P,A,a){for(var R=new Array(P*(L+4)),b=0,N=0;N<P;N++){for(var O=0;O<L;O++)R[b++]=O<A.length?A[O].paddedUnitValues[N]:.5;R[b++]=d(N,2),R[b++]=d(N,1),R[b++]=d(N,0),R[b++]=c(a[N])}return R}function g(P,A,a){for(var R=new Array(A*8),b=0,N=0;N<A;N++)for(var O=0;O<2;O++)for(var Y=0;Y<4;Y++){var B=P*4+Y,W=a[N*64+B];B===63&&O===0&&(W*=-1),R[b++]=W}return R}function u(P){var A="0"+P;return A.substr(A.length-2)}function y(P){return P<L?"p"+u(P+1)+"_"+u(P+4):"colors"}function C(P,A,a){for(var R=0;R<=L;R+=4)P[y(R)](g(R/4,A,a))}function S(P){for(var A={},a=0;a<=L;a+=4)A[y(a)]=P.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return A}function D(P,A,a,R,b,N,O,Y,B,W,H,U,G,j){for(var re=[[],[]],ae=0;ae<64;ae++)re[0][ae]=ae===b?1:0,re[1][ae]=ae===N?1:0;O*=j,Y*=j,B*=j,W*=j;var ue=P.lines.canvasOverdrag*j,de=P.domain,ee=P.canvasWidth*j,X=P.canvasHeight*j,Q=P.pad.l*j,$=P.pad.b*j,ne=P.layoutHeight*j,fe=P.layoutWidth*j,te=P.deselectedLines.color,q=P.deselectedLines.opacity,he=w.extendFlat({key:H,resolution:[ee,X],viewBoxPos:[O+ue,Y],viewBoxSize:[B,W],i0:b,i1:N,dim0A:re[0].slice(0,16),dim0B:re[0].slice(16,32),dim0C:re[0].slice(32,48),dim0D:re[0].slice(48,64),dim1A:re[1].slice(0,16),dim1B:re[1].slice(16,32),dim1C:re[1].slice(32,48),dim1D:re[1].slice(48,64),drwLayer:U,contextColor:[te[0]/255,te[1]/255,te[2]/255,q!=="auto"?te[3]*q:Math.max(1/255,Math.pow(1/P.lines.color.length,1/3))],scissorX:(R===A?0:O+ue)+(Q-ue)+fe*de.x[0],scissorWidth:(R===a?ee-O+ue:B+.5)+(R===A?O+ue:0),scissorY:Y+$+ne*de.y[0],scissorHeight:W,viewportX:Q-ue+fe*de.x[0],viewportY:$+ne*de.y[0],viewportWidth:ee,viewportHeight:X},G);return he}function T(P){var A=m-1,a=Math.max(0,Math.floor(P[0]*A),0),R=Math.min(A,Math.ceil(P[1]*A),A);return[Math.min(a,R),Math.max(a,R)]}k.exports=function(P,A){var a=A.context,R=A.pick,b=A.regl,N=b._gl,O=N.getParameter(N.ALIASED_LINE_WIDTH_RANGE),Y=Math.max(O[0],Math.min(O[1],A.viewModel.plotGlPixelRatio)),B={currentRafs:{},drawCompleted:!0,clearOnly:!1},W,H,U,G,j=S(b),re,ae=b.texture(l),ue=[];ee(A);var de=b({profile:!1,blend:{enable:a,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!a,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:b.prop("scissorX"),y:b.prop("scissorY"),width:b.prop("scissorWidth"),height:b.prop("scissorHeight")}},viewport:{x:b.prop("viewportX"),y:b.prop("viewportY"),width:b.prop("viewportWidth"),height:b.prop("viewportHeight")},dither:!1,vert:E,frag:n,primitive:"lines",lineWidth:Y,attributes:j,uniforms:{resolution:b.prop("resolution"),viewBoxPos:b.prop("viewBoxPos"),viewBoxSize:b.prop("viewBoxSize"),dim0A:b.prop("dim0A"),dim1A:b.prop("dim1A"),dim0B:b.prop("dim0B"),dim1B:b.prop("dim1B"),dim0C:b.prop("dim0C"),dim1C:b.prop("dim1C"),dim0D:b.prop("dim0D"),dim1D:b.prop("dim1D"),loA:b.prop("loA"),hiA:b.prop("hiA"),loB:b.prop("loB"),hiB:b.prop("hiB"),loC:b.prop("loC"),hiC:b.prop("hiC"),loD:b.prop("loD"),hiD:b.prop("hiD"),palette:ae,contextColor:b.prop("contextColor"),maskTexture:b.prop("maskTexture"),drwLayer:b.prop("drwLayer"),maskHeight:b.prop("maskHeight")},offset:b.prop("offset"),count:b.prop("count")});function ee(te){W=te.model,H=te.viewModel,U=H.dimensions.slice(),G=U[0]?U[0].values.length:0;var q=W.lines,he=R?q.color.map(function(pe,we){return we/q.color.length}):q.color,se=M(G,U,he);C(j,G,se),!a&&!R&&(ae=b.texture(w.extendFlat({data:x(W.unitToColor,255)},l)))}function X(te){var q,he,se,pe=[[],[]];for(se=0;se<64;se++){var we=!te&&se<U.length?U[se].brush.filter.getBounds():[-1/0,1/0];pe[0][se]=we[0],pe[1][se]=we[1]}var Ee=m*8,Me=new Array(Ee);for(q=0;q<Ee;q++)Me[q]=255;if(!te)for(q=0;q<U.length;q++){var Be=q%8,Ne=(q-Be)/8,Ce=Math.pow(2,Be),Te=U[q],Le=Te.brush.filter.get();if(!(Le.length<2)){var Ve=T(Le[0])[1];for(he=1;he<Le.length;he++){var We=T(Le[he]);for(se=Ve+1;se<We[0];se++)Me[se*8+Ne]&=~Ce;Ve=Math.max(Ve,We[1])}}}var Fe={shape:[8,m],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Me};return re?re(Fe):re=b.texture(Fe),{maskTexture:re,maskHeight:m,loA:pe[0].slice(0,16),loB:pe[0].slice(16,32),loC:pe[0].slice(32,48),loD:pe[0].slice(48,64),hiA:pe[1].slice(0,16),hiB:pe[1].slice(16,32),hiC:pe[1].slice(32,48),hiD:pe[1].slice(48,64)}}function Q(te,q,he){var se=te.length,pe,we,Ee,Me=1/0,Be=-1/0;for(pe=0;pe<se;pe++)te[pe].dim0.canvasX<Me&&(Me=te[pe].dim0.canvasX,we=pe),te[pe].dim1.canvasX>Be&&(Be=te[pe].dim1.canvasX,Ee=pe);se===0&&f(b,0,0,W.canvasWidth,W.canvasHeight);var Ne=X(a);for(pe=0;pe<se;pe++){var Ce=te[pe],Te=Ce.dim0.crossfilterDimensionIndex,Le=Ce.dim1.crossfilterDimensionIndex,Ve=Ce.canvasX,We=Ce.canvasY,Fe=Ve+Ce.panelSizeX,Ge=Ce.plotGlPixelRatio;if(q||!ue[Te]||ue[Te][0]!==Ve||ue[Te][1]!==Fe){ue[Te]=[Ve,Fe];var it=D(W,we,Ee,pe,Te,Le,Ve,We,Ce.panelSizeX,Ce.panelSizeY,Ce.dim0.crossfilterDimensionIndex,a?0:R?2:1,Ne,Ge);B.clearOnly=he;var qe=q?W.lines.blockLineCount:G;v(b,de,B,qe,G,it)}}}function $(te,q){return b.read({x:te,y:q,width:1,height:1,data:r}),r}function ne(te,q,he,se){var pe=new Uint8Array(4*he*se);return b.read({x:te,y:q,width:he,height:se,data:pe}),pe}function fe(){P.style["pointer-events"]="none",ae.destroy(),re&&re.destroy();for(var te in j)j[te].destroy()}return{render:Q,readPixel:$,readPixels:ne,destroy:fe,update:ee}}},94397:function(k){k.exports=function(F,e,h,E){E||(E=1/0);var n,L;for(n=0;n<e.length;n++)L=e[n],L.visible&&(E=Math.min(E,L[h].length));for(E===1/0&&(E=0),F._length=E,n=0;n<e.length;n++)L=e[n],L.visible&&(L._length=E);return E}},17171:function(k,F,e){var h=e(39898),E=e(71828),n=E.numberFormat,L=e(36652),w=e(89298),p=E.strRotate,m=E.strTranslate,t=e(63893),r=e(91424),l=e(21081),i=e(28984),f=i.keyFun,v=i.repeat,c=i.unwrap,x=e(1602),d=e(25706),M=e(57920),g=e(83398);function u(re,ae,ue){return E.aggNums(re,null,ae,ue)}function y(re,ae){return S(u(Math.min,re,ae),u(Math.max,re,ae))}function C(re){var ae=re.range;return ae?S(ae[0],ae[1]):y(re.values,re._length)}function S(re,ae){return(isNaN(re)||!isFinite(re))&&(re=0),(isNaN(ae)||!isFinite(ae))&&(ae=0),re===ae&&(re===0?(re-=1,ae+=1):(re*=.9,ae*=1.1)),[re,ae]}function D(re,ae){return ae?function(ue,de){var ee=ae[de];return ee??re(ue)}:re}function T(re,ae,ue,de,ee){var X=C(ue);return de?h.scale.ordinal().domain(de.map(D(n(ue.tickformat),ee))).range(de.map(function(Q){var $=(Q-X[0])/(X[1]-X[0]);return re-ae+$*(2*ae-re)})):h.scale.linear().domain(X).range([re-ae,ae])}function P(re,ae){return h.scale.linear().range([ae,re-ae])}function A(re,ae){return h.scale.linear().domain(C(re)).range([ae,1-ae])}function a(re){if(re.tickvals){var ae=C(re);return h.scale.ordinal().domain(re.tickvals).range(re.tickvals.map(function(ue){return(ue-ae[0])/(ae[1]-ae[0])}))}}function R(re){var ae=re.map(function(X){return X[0]}),ue=re.map(function(X){var Q=L(X[1]);return h.rgb("rgb("+Q[0]+","+Q[1]+","+Q[2]+")")}),de=function(X){return function(Q){return Q[X]}},ee="rgb".split("").map(function(X){return h.scale.linear().clamp(!0).domain(ae).range(ue.map(de(X)))});return function(X){return ee.map(function(Q){return Q(X)})}}function b(re){return re.dimensions.some(function(ae){return ae.brush.filterSpecified})}function N(re,ae,ue){var de=c(ae),ee=de.trace,X=x.convertTypedArray(de.lineColor),Q=ee.line,$={color:L(ee.unselected.line.color),opacity:ee.unselected.line.opacity},ne=l.extractOpts(Q),fe=ne.reversescale?l.flipScale(de.cscale):de.cscale,te=ee.domain,q=ee.dimensions,he=re.width,se=ee.labelangle,pe=ee.labelside,we=ee.labelfont,Ee=ee.tickfont,Me=ee.rangefont,Be=E.extendDeepNoArrays({},Q,{color:X.map(h.scale.linear().domain(C({values:X,range:[ne.min,ne.max],_length:ee._length}))),blockLineCount:d.blockLineCount,canvasOverdrag:d.overdrag*d.canvasPixelRatio}),Ne=Math.floor(he*(te.x[1]-te.x[0])),Ce=Math.floor(re.height*(te.y[1]-te.y[0])),Te=re.margin||{l:80,r:80,t:100,b:80},Le=Ne,Ve=Ce;return{key:ue,colCount:q.filter(x.isVisible).length,dimensions:q,tickDistance:d.tickDistance,unitToColor:R(fe),lines:Be,deselectedLines:$,labelAngle:se,labelSide:pe,labelFont:we,tickFont:Ee,rangeFont:Me,layoutWidth:he,layoutHeight:re.height,domain:te,translateX:te.x[0]*he,translateY:re.height-te.y[1]*re.height,pad:Te,canvasWidth:Le*d.canvasPixelRatio+2*Be.canvasOverdrag,canvasHeight:Ve*d.canvasPixelRatio,width:Le,height:Ve,canvasPixelRatio:d.canvasPixelRatio}}function O(re,ae,ue){var de=ue.width,ee=ue.height,X=ue.dimensions,Q=ue.canvasPixelRatio,$=function(he){return de*he/Math.max(1,ue.colCount-1)},ne=d.verticalPadding/ee,fe=P(ee,d.verticalPadding),te={key:ue.key,xScale:$,model:ue,inBrushDrag:!1},q={};return te.dimensions=X.filter(x.isVisible).map(function(he,se){var pe=A(he,ne),we=q[he.label];q[he.label]=(we||0)+1;var Ee=he.label+(we?"__"+we:""),Me=he.constraintrange,Be=Me&&Me.length;Be&&!Array.isArray(Me[0])&&(Me=[Me]);var Ne=Be?Me.map(function($e){return $e.map(pe)}):[[-1/0,1/0]],Ce=function(){var $e=te;$e.focusLayer&&$e.focusLayer.render($e.panels,!0);var tt=b($e);!re.contextShown()&&tt?($e.contextLayer&&$e.contextLayer.render($e.panels,!0),re.contextShown(!0)):re.contextShown()&&!tt&&($e.contextLayer&&$e.contextLayer.render($e.panels,!0,!0),re.contextShown(!1))},Te=he.values;Te.length>he._length&&(Te=Te.slice(0,he._length));var Le=he.tickvals,Ve;function We($e,tt){return{val:$e,text:Ve[tt]}}function Fe($e,tt){return $e.val-tt.val}if(Array.isArray(Le)&&Le.length){Ve=he.ticktext,!Array.isArray(Ve)||!Ve.length?Ve=Le.map(n(he.tickformat)):Ve.length>Le.length?Ve=Ve.slice(0,Le.length):Le.length>Ve.length&&(Le=Le.slice(0,Ve.length));for(var Ge=1;Ge<Le.length;Ge++)if(Le[Ge]<Le[Ge-1]){for(var it=Le.map(We).sort(Fe),qe=0;qe<Le.length;qe++)Le[qe]=it[qe].val,Ve[qe]=it[qe].text;break}}else Le=void 0;return Te=x.convertTypedArray(Te),{key:Ee,label:he.label,tickFormat:he.tickformat,tickvals:Le,ticktext:Ve,ordinal:x.isOrdinal(he),multiselect:he.multiselect,xIndex:se,crossfilterDimensionIndex:se,visibleIndex:he._index,height:ee,values:Te,paddedUnitValues:Te.map(pe),unitTickvals:Le&&Le.map(pe),xScale:$,x:$(se),canvasX:$(se)*Q,unitToPaddedPx:fe,domainScale:T(ee,d.verticalPadding,he,Le,Ve),ordinalScale:a(he),parent:te,model:ue,brush:M.makeBrush(re,Be,Ne,function(){re.linePickActive(!1)},Ce,function($e){if(te.focusLayer.render(te.panels,!0),te.pickLayer&&te.pickLayer.render(te.panels,!0),re.linePickActive(!0),ae&&ae.filterChanged){var tt=pe.invert,vt=$e.map(function(dt){return dt.map(tt).sort(E.sorterAsc)}).sort(function(dt,gt){return dt[0]-gt[0]});ae.filterChanged(te.key,he._index,vt)}})}}),te}function Y(re){re.classed(d.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function B(){var re=!0,ae=!1;return{linePickActive:function(ue){return arguments.length?re=!!ue:re},contextShown:function(ue){return arguments.length?ae=!!ue:ae}}}function W(re,ae){var ue=ae==="top"?1:-1,de=re*Math.PI/180,ee=Math.sin(de),X=Math.cos(de);return{dir:ue,dx:ee,dy:X,degrees:re}}function H(re,ae,ue){for(var de=ae.panels||(ae.panels=[]),ee=re.data(),X=0;X<ee.length-1;X++){var Q=de[X]||(de[X]={}),$=ee[X],ne=ee[X+1];Q.dim0=$,Q.dim1=ne,Q.canvasX=$.canvasX,Q.panelSizeX=ne.canvasX-$.canvasX,Q.panelSizeY=ae.model.canvasHeight,Q.y=0,Q.canvasY=0,Q.plotGlPixelRatio=ue}}function U(re){for(var ae=0;ae<re.length;ae++)for(var ue=0;ue<re[ae].length;ue++)for(var de=re[ae][ue].trace,ee=de.dimensions,X=0;X<ee.length;X++){var Q=ee[X].values,$=ee[X]._ax;$&&($.range?$.range=S($.range[0],$.range[1]):$.range=y(Q,de._length),$.dtick||($.dtick=.01*(Math.abs($.range[1]-$.range[0])||1)),$.tickformat=ee[X].tickformat,w.calcTicks($),$.cleanRange())}}function G(re,ae){return w.tickText(re._ax,ae,!1).text}function j(re,ae){if(re.ordinal)return"";var ue=re.domainScale.domain(),de=ue[ae?ue.length-1:0];return G(re.model.dimensions[re.visibleIndex],de)}k.exports=function(ae,ue,de,ee){var X=ae._context.staticPlot,Q=ae._fullLayout,$=Q._toppaper,ne=Q._glcontainer,fe=ae._context.plotGlPixelRatio,te=ae._fullLayout.paper_bgcolor;U(ue);var q=B(),he=ue.filter(function(qe){return c(qe).trace.visible}).map(N.bind(0,de)).map(O.bind(0,q,ee));ne.each(function(qe,$e){return E.extendFlat(qe,he[$e])});var se=ne.selectAll(".gl-canvas").each(function(qe){qe.viewModel=he[0],qe.viewModel.plotGlPixelRatio=fe,qe.viewModel.paperColor=te,qe.model=qe.viewModel?qe.viewModel.model:null}),pe=null,we=se.filter(function(qe){return qe.pick});we.style("pointer-events",X?"none":"auto").on("mousemove",function(qe){if(q.linePickActive()&&qe.lineLayer&&ee&&ee.hover){var $e=h.event,tt=this.width,vt=this.height,dt=h.mouse(this),gt=dt[0],Mt=dt[1];if(gt<0||Mt<0||gt>=tt||Mt>=vt)return;var Ct=qe.lineLayer.readPixel(gt,vt-1-Mt),Wt=Ct[3]!==0,Xe=Wt?Ct[2]+256*(Ct[1]+256*Ct[0]):null,ke={x:gt,y:Mt,clientX:$e.clientX,clientY:$e.clientY,dataIndex:qe.model.key,curveNumber:Xe};Xe!==pe&&(Wt?ee.hover(ke):ee.unhover&&ee.unhover(ke),pe=Xe)}}),se.style("opacity",function(qe){return qe.pick?0:1}),$.style("background","rgba(255, 255, 255, 0)");var Ee=$.selectAll("."+d.cn.parcoords).data(he,f);Ee.exit().remove(),Ee.enter().append("g").classed(d.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ee.attr("transform",function(qe){return m(qe.model.translateX,qe.model.translateY)});var Me=Ee.selectAll("."+d.cn.parcoordsControlView).data(v,f);Me.enter().append("g").classed(d.cn.parcoordsControlView,!0),Me.attr("transform",function(qe){return m(qe.model.pad.l,qe.model.pad.t)});var Be=Me.selectAll("."+d.cn.yAxis).data(function(qe){return qe.dimensions},f);Be.enter().append("g").classed(d.cn.yAxis,!0),Me.each(function(qe){H(Be,qe,fe)}),se.each(function(qe){if(qe.viewModel){!qe.lineLayer||ee?qe.lineLayer=g(this,qe):qe.lineLayer.update(qe),(qe.key||qe.key===0)&&(qe.viewModel[qe.key]=qe.lineLayer);var $e=!qe.context||ee;qe.lineLayer.render(qe.viewModel.panels,$e)}}),Be.attr("transform",function(qe){return m(qe.xScale(qe.xIndex),0)}),Be.call(h.behavior.drag().origin(function(qe){return qe}).on("drag",function(qe){var $e=qe.parent;q.linePickActive(!1),qe.x=Math.max(-d.overdrag,Math.min(qe.model.width+d.overdrag,h.event.x)),qe.canvasX=qe.x*qe.model.canvasPixelRatio,Be.sort(function(tt,vt){return tt.x-vt.x}).each(function(tt,vt){tt.xIndex=vt,tt.x=qe===tt?tt.x:tt.xScale(tt.xIndex),tt.canvasX=tt.x*tt.model.canvasPixelRatio}),H(Be,$e,fe),Be.filter(function(tt){return Math.abs(qe.xIndex-tt.xIndex)!==0}).attr("transform",function(tt){return m(tt.xScale(tt.xIndex),0)}),h.select(this).attr("transform",m(qe.x,0)),Be.each(function(tt,vt,dt){dt===qe.parent.key&&($e.dimensions[vt]=tt)}),$e.contextLayer&&$e.contextLayer.render($e.panels,!1,!b($e)),$e.focusLayer.render&&$e.focusLayer.render($e.panels)}).on("dragend",function(qe){var $e=qe.parent;qe.x=qe.xScale(qe.xIndex),qe.canvasX=qe.x*qe.model.canvasPixelRatio,H(Be,$e,fe),h.select(this).attr("transform",function(tt){return m(tt.x,0)}),$e.contextLayer&&$e.contextLayer.render($e.panels,!1,!b($e)),$e.focusLayer&&$e.focusLayer.render($e.panels),$e.pickLayer&&$e.pickLayer.render($e.panels,!0),q.linePickActive(!0),ee&&ee.axesMoved&&ee.axesMoved($e.key,$e.dimensions.map(function(tt){return tt.crossfilterDimensionIndex}))})),Be.exit().remove();var Ne=Be.selectAll("."+d.cn.axisOverlays).data(v,f);Ne.enter().append("g").classed(d.cn.axisOverlays,!0),Ne.selectAll("."+d.cn.axis).remove();var Ce=Ne.selectAll("."+d.cn.axis).data(v,f);Ce.enter().append("g").classed(d.cn.axis,!0),Ce.each(function(qe){var $e=qe.model.height/qe.model.tickDistance,tt=qe.domainScale,vt=tt.domain();h.select(this).call(h.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks($e,qe.tickFormat).tickValues(qe.ordinal?vt:null).tickFormat(function(dt){return x.isOrdinal(qe)?dt:G(qe.model.dimensions[qe.visibleIndex],dt)}).scale(tt)),r.font(Ce.selectAll("text"),qe.model.tickFont)}),Ce.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ce.selectAll("text").style("text-shadow",t.makeTextShadow(te)).style("cursor","default");var Te=Ne.selectAll("."+d.cn.axisHeading).data(v,f);Te.enter().append("g").classed(d.cn.axisHeading,!0);var Le=Te.selectAll("."+d.cn.axisTitle).data(v,f);Le.enter().append("text").classed(d.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",X?"none":"auto"),Le.text(function(qe){return qe.label}).each(function(qe){var $e=h.select(this);r.font($e,qe.model.labelFont),t.convertToTspans($e,ae)}).attr("transform",function(qe){var $e=W(qe.model.labelAngle,qe.model.labelSide),tt=d.axisTitleOffset;return($e.dir>0?"":m(0,2*tt+qe.model.height))+p($e.degrees)+m(-tt*$e.dx,-tt*$e.dy)}).attr("text-anchor",function(qe){var $e=W(qe.model.labelAngle,qe.model.labelSide),tt=Math.abs($e.dx),vt=Math.abs($e.dy);return 2*tt>vt?$e.dir*$e.dx<0?"start":"end":"middle"});var Ve=Ne.selectAll("."+d.cn.axisExtent).data(v,f);Ve.enter().append("g").classed(d.cn.axisExtent,!0);var We=Ve.selectAll("."+d.cn.axisExtentTop).data(v,f);We.enter().append("g").classed(d.cn.axisExtentTop,!0),We.attr("transform",m(0,-d.axisExtentOffset));var Fe=We.selectAll("."+d.cn.axisExtentTopText).data(v,f);Fe.enter().append("text").classed(d.cn.axisExtentTopText,!0).call(Y),Fe.text(function(qe){return j(qe,!0)}).each(function(qe){r.font(h.select(this),qe.model.rangeFont)});var Ge=Ve.selectAll("."+d.cn.axisExtentBottom).data(v,f);Ge.enter().append("g").classed(d.cn.axisExtentBottom,!0),Ge.attr("transform",function(qe){return m(0,qe.model.height+d.axisExtentOffset)});var it=Ge.selectAll("."+d.cn.axisExtentBottomText).data(v,f);it.enter().append("text").classed(d.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(Y),it.text(function(qe){return j(qe,!1)}).each(function(qe){r.font(h.select(this),qe.model.rangeFont)}),M.ensureAxisBrush(Ne,te,ae)}},21341:function(k,F,e){var h=e(17171),E=e(79749),n=e(1602).isVisible,L={};function w(t,r,l){var i=r.indexOf(l),f=t.indexOf(i);return f===-1&&(f+=r.length),f}function p(t,r){return function(i,f){return w(t,r,i)-w(t,r,f)}}var m=k.exports=function(r,l){var i=r._fullLayout,f=E(r,[],L);if(f){var v={},c={},x={},d={},M=i._size;l.forEach(function(S,D){var T=S[0].trace;x[D]=T.index;var P=d[D]=T._fullInput.index;v[D]=r.data[P].dimensions,c[D]=r.data[P].dimensions.slice()});var g=function(S,D,T){var P=c[S][D],A=T.map(function(Y){return Y.slice()}),a="dimensions["+D+"].constraintrange",R=i._tracePreGUI[r._fullData[x[S]]._fullInput.uid];if(R[a]===void 0){var b=P.constraintrange;R[a]=b||null}var N=r._fullData[x[S]].dimensions[D];A.length?(A.length===1&&(A=A[0]),P.constraintrange=A,N.constraintrange=A.slice(),A=[A]):(delete P.constraintrange,delete N.constraintrange,A=null);var O={};O[a]=A,r.emit("plotly_restyle",[O,[d[S]]])},u=function(S){r.emit("plotly_hover",S)},y=function(S){r.emit("plotly_unhover",S)},C=function(S,D){var T=p(D,c[S].filter(n));v[S].sort(T),c[S].filter(function(P){return!n(P)}).sort(function(P){return c[S].indexOf(P)}).forEach(function(P){v[S].splice(v[S].indexOf(P),1),v[S].splice(c[S].indexOf(P),0,P)}),r.emit("plotly_restyle",[{dimensions:[v[S]]},[d[S]]])};h(r,l,{width:M.w,height:M.h,margin:{t:M.t,r:M.r,b:M.b,l:M.l}},{filterChanged:g,hover:u,unhover:y,axesMoved:C})}};m.reglPrecompiled=L},34e3:function(k,F,e){var h=e(9012),E=e(27670).Y,n=e(41940),L=e(22399),w=e(5386).fF,p=e(5386).si,m=e(1426).extendFlat,t=e(79952).u,r=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});k.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:m({},h.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:w({},{keys:["label","color","value","percent","text"]}),texttemplate:p({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:m({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:m({},r,{}),outsidetextfont:m({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:m({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:E({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:m({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(k,F,e){var h=e(74875);F.name="pie",F.plot=function(E,n,L,w){h.plotBasePlot(F.name,E,n,L,w)},F.clean=function(E,n,L,w){h.cleanBasePlot(F.name,E,n,L,w)}},32354:function(k,F,e){var h=e(92770),E=e(84267),n=e(7901),L={};function w(r,l){var i=[],f=r._fullLayout,v=f.hiddenlabels||[],c=l.labels,x=l.marker.colors||[],d=l.values,M=l._length,g=l._hasValues&&M,u,y;if(l.dlabel)for(c=new Array(M),u=0;u<M;u++)c[u]=String(l.label0+u*l.dlabel);var C={},S=p(f["_"+l.type+"colormap"]),D=0,T=!1;for(u=0;u<M;u++){var P,A,a;if(g){if(P=d[u],!h(P))continue;P=+P}else P=1;A=c[u],(A===void 0||A==="")&&(A=u),A=String(A);var R=C[A];R===void 0?(C[A]=i.length,a=v.indexOf(A)!==-1,a||(D+=P),i.push({v:P,label:A,color:S(x[u],A),i:u,pts:[u],hidden:a})):(T=!0,y=i[R],y.v+=P,y.pts.push(u),y.hidden||(D+=P),y.color===!1&&x[u]&&(y.color=S(x[u],A)))}i=i.filter(function(N){return N.v>=0});var b=l.type==="funnelarea"?T:l.sort;return b&&i.sort(function(N,O){return O.v-N.v}),i[0]&&(i[0].vTotal=D),i}function p(r){return function(i,f){return!i||(i=E(i),!i.isValid())?!1:(i=n.addOpacity(i,i.getAlpha()),r[f]||(r[f]=i),i)}}function m(r,l){var i=(l||{}).type;i||(i="pie");var f=r._fullLayout,v=r.calcdata,c=f[i+"colorway"],x=f["_"+i+"colormap"];f["extend"+i+"colors"]&&(c=t(c,L));for(var d=0,M=0;M<v.length;M++){var g=v[M],u=g[0].trace.type;if(u===i)for(var y=0;y<g.length;y++){var C=g[y];C.color===!1&&(x[C.label]?C.color=x[C.label]:(x[C.label]=C.color=c[d%c.length],d++))}}}function t(r,l){var i,f=JSON.stringify(r),v=l[f];if(!v){for(v=r.slice(),i=0;i<r.length;i++)v.push(E(r[i]).lighten(20).toHexString());for(i=0;i<r.length;i++)v.push(E(r[i]).darken(20).toHexString());l[f]=v}return v}k.exports={calc:w,crossTraceCalc:m,makePullColorFn:p,generateExtendedColors:t}},37434:function(k,F,e){var h=e(92770),E=e(71828),n=e(34e3),L=e(27670).c,w=e(90769).handleText,p=e(71828).coercePattern;function m(l,i){var f=Array.isArray(l),v=E.isArrayOrTypedArray(i),c=Math.min(f?l.length:1/0,v?i.length:1/0);if(isFinite(c)||(c=0),c&&v){for(var x,d=0;d<c;d++){var M=i[d];if(h(M)&&M>0){x=!0;break}}x||(c=0)}return{hasLabels:f,hasValues:v,len:c}}function t(l,i,f,v,c){var x=v("marker.line.width");x&&v("marker.line.color",c?void 0:f.paper_bgcolor);var d=v("marker.colors");p(v,"marker.pattern",d),l.marker&&!i.marker.pattern.fgcolor&&(i.marker.pattern.fgcolor=l.marker.colors),i.marker.pattern.bgcolor||(i.marker.pattern.bgcolor=f.paper_bgcolor)}function r(l,i,f,v){function c(R,b){return E.coerce(l,i,n,R,b)}var x=c("labels"),d=c("values"),M=m(x,d),g=M.len;if(i._hasLabels=M.hasLabels,i._hasValues=M.hasValues,!i._hasLabels&&i._hasValues&&(c("label0"),c("dlabel")),!g){i.visible=!1;return}i._length=g,t(l,i,v,c,!0),c("scalegroup");var u=c("text"),y=c("texttemplate"),C;if(y||(C=c("textinfo",Array.isArray(u)?"text+percent":"percent")),c("hovertext"),c("hovertemplate"),y||C&&C!=="none"){var S=c("textposition");w(l,i,v,c,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var D=Array.isArray(S)||S==="auto",T=D||S==="outside";T&&c("automargin"),(S==="inside"||S==="auto"||Array.isArray(S))&&c("insidetextorientation")}L(i,v,c);var P=c("hole"),A=c("title.text");if(A){var a=c("title.position",P?"middle center":"top center");!P&&a==="middle center"&&(i.title.position="top center"),E.coerceFont(c,"title.font",v.font)}c("sort"),c("direction"),c("rotation"),c("pull")}k.exports={handleLabelsAndValues:m,handleMarkerDefaults:t,supplyDefaults:r}},20007:function(k,F,e){var h=e(23469).appendArrayMultiPointValues;k.exports=function(n,L){var w={curveNumber:L.index,pointNumbers:n.pts,data:L._input,fullData:L,label:n.label,color:n.color,value:n.v,percent:n.percent,text:n.text,bbox:n.bbox,v:n.v};return n.pts.length===1&&(w.pointNumber=w.i=n.pts[0]),h(w,L,n.pts),L.type==="funnelarea"&&(delete w.v,delete w.i),w}},22209:function(k,F,e){var h=e(91424),E=e(7901);k.exports=function(L,w,p,m){var t=p.marker.pattern;t&&t.shape?h.pointStyle(L,p,m,w):E.fill(L,w.color)}},53581:function(k,F,e){var h=e(71828);function E(n){return n.indexOf("e")!==-1?n.replace(/[.]?0+e/,"e"):n.indexOf(".")!==-1?n.replace(/[.]?0+$/,""):n}F.formatPiePercent=function(L,w){var p=E((L*100).toPrecision(3));return h.numSeparate(p,w)+"%"},F.formatPieValue=function(L,w){var p=E(L.toPrecision(10));return h.numSeparate(p,w)},F.getFirstFilled=function(L,w){if(Array.isArray(L))for(var p=0;p<w.length;p++){var m=L[w[p]];if(m||m===0||m==="")return m}},F.castOption=function(L,w){if(Array.isArray(L))return F.getFirstFilled(L,w);if(L)return L},F.getRotationAngle=function(n){return(n==="auto"?0:n)*Math.PI/180}},58810:function(k,F,e){k.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(k){k.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(k,F,e){var h=e(71828),E=e(92774);k.exports=function(L,w){function p(m,t){return h.coerce(L,w,E,m,t)}p("hiddenlabels"),p("piecolorway",w.colorway),p("extendpiecolors")}},14575:function(k,F,e){var h=e(39898),E=e(74875),n=e(30211),L=e(7901),w=e(91424),p=e(71828),m=p.strScale,t=p.strTranslate,r=e(63893),l=e(72597),i=l.recordMinTextSize,f=l.clearMinTextSize,v=e(97313).TEXTPAD,c=e(53581),x=e(20007),d=e(71828).isValidTextValue;function M(X,Q){var $=X._context.staticPlot,ne=X._fullLayout,fe=ne._size;f("pie",ne),S(Q,X),j(Q,fe);var te=p.makeTraceGroups(ne._pielayer,Q,"trace").each(function(q){var he=h.select(this),se=q[0],pe=se.trace;ae(q),he.attr("stroke-linejoin","round"),he.each(function(){var we=h.select(this).selectAll("g.slice").data(q);we.enter().append("g").classed("slice",!0),we.exit().remove();var Ee=[[[],[]],[[],[]]],Me=!1;we.each(function(Fe,Ge){if(Fe.hidden){h.select(this).selectAll("path,g").remove();return}Fe.pointNumber=Fe.i,Fe.curveNumber=pe.index,Ee[Fe.pxmid[1]<0?0:1][Fe.pxmid[0]<0?0:1].push(Fe);var it=se.cx,qe=se.cy,$e=h.select(this),tt=$e.selectAll("path.surface").data([Fe]);if(tt.enter().append("path").classed("surface",!0).style({"pointer-events":$?"none":"all"}),$e.call(u,X,q),pe.pull){var vt=+c.castOption(pe.pull,Fe.pts)||0;vt>0&&(it+=vt*Fe.pxmid[0],qe+=vt*Fe.pxmid[1])}Fe.cxFinal=it,Fe.cyFinal=qe;function dt(Ie,Oe,_e,Ae){var ce=Ae*(Oe[0]-Ie[0]),be=Ae*(Oe[1]-Ie[1]);return"a"+Ae*se.r+","+Ae*se.r+" 0 "+Fe.largeArc+(_e?" 1 ":" 0 ")+ce+","+be}var gt=pe.hole;if(Fe.v===se.vTotal){var Mt="M"+(it+Fe.px0[0])+","+(qe+Fe.px0[1])+dt(Fe.px0,Fe.pxmid,!0,1)+dt(Fe.pxmid,Fe.px0,!0,1)+"Z";gt?tt.attr("d","M"+(it+gt*Fe.px0[0])+","+(qe+gt*Fe.px0[1])+dt(Fe.px0,Fe.pxmid,!1,gt)+dt(Fe.pxmid,Fe.px0,!1,gt)+"Z"+Mt):tt.attr("d",Mt)}else{var Ct=dt(Fe.px0,Fe.px1,!0,1);if(gt){var Wt=1-gt;tt.attr("d","M"+(it+gt*Fe.px1[0])+","+(qe+gt*Fe.px1[1])+dt(Fe.px1,Fe.px0,!1,gt)+"l"+Wt*Fe.px0[0]+","+Wt*Fe.px0[1]+Ct+"Z")}else tt.attr("d","M"+it+","+qe+"l"+Fe.px0[0]+","+Fe.px0[1]+Ct+"Z")}de(X,Fe,se);var Xe=c.castOption(pe.textposition,Fe.pts),ke=$e.selectAll("g.slicetext").data(Fe.text&&Xe!=="none"?[0]:[]);ke.enter().append("g").classed("slicetext",!0),ke.exit().remove(),ke.each(function(){var Ie=p.ensureSingle(h.select(this),"text","",function(nt){nt.attr("data-notex",1)}),Oe=p.ensureUniformFontSize(X,Xe==="outside"?y(pe,Fe,ne.font):C(pe,Fe,ne.font));Ie.text(Fe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(w.font,Oe).call(r.convertToTspans,X);var _e=w.bBox(Ie.node()),Ae;if(Xe==="outside")Ae=O(_e,Fe);else if(Ae=D(_e,Fe,se),Xe==="auto"&&Ae.scale<1){var ce=p.ensureUniformFontSize(X,pe.outsidetextfont);Ie.call(w.font,ce),_e=w.bBox(Ie.node()),Ae=O(_e,Fe)}var be=Ae.textPosAngle,Re=be===void 0?Fe.pxmid:ue(se.r,be);if(Ae.targetX=it+Re[0]*Ae.rCenter+(Ae.x||0),Ae.targetY=qe+Re[1]*Ae.rCenter+(Ae.y||0),ee(Ae,_e),Ae.outside){var Ue=Ae.targetY;Fe.yLabelMin=Ue-_e.height/2,Fe.yLabelMid=Ue,Fe.yLabelMax=Ue+_e.height/2,Fe.labelExtraX=0,Fe.labelExtraY=0,Me=!0}Ae.fontSize=Oe.size,i(pe.type,Ae,ne),q[Ge].transform=Ae,p.setTransormAndDisplay(Ie,Ae)})});var Be=h.select(this).selectAll("g.titletext").data(pe.title.text?[0]:[]);if(Be.enter().append("g").classed("titletext",!0),Be.exit().remove(),Be.each(function(){var Fe=p.ensureSingle(h.select(this),"text","",function(qe){qe.attr("data-notex",1)}),Ge=pe.title.text;pe._meta&&(Ge=p.templateString(Ge,pe._meta)),Fe.text(Ge).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(w.font,pe.title.font).call(r.convertToTspans,X);var it;pe.title.position==="middle center"?it=Y(se):it=B(se,fe),Fe.attr("transform",t(it.x,it.y)+m(Math.min(1,it.scale))+t(it.tx,it.ty))}),Me&&G(Ee,pe),g(we,pe),Me&&pe.automargin){var Ne=w.bBox(he.node()),Ce=pe.domain,Te=fe.w*(Ce.x[1]-Ce.x[0]),Le=fe.h*(Ce.y[1]-Ce.y[0]),Ve=(.5*Te-se.r)/fe.w,We=(.5*Le-se.r)/fe.h;E.autoMargin(X,"pie."+pe.uid+".automargin",{xl:Ce.x[0]-Ve,xr:Ce.x[1]+Ve,yb:Ce.y[0]-We,yt:Ce.y[1]+We,l:Math.max(se.cx-se.r-Ne.left,0),r:Math.max(Ne.right-(se.cx+se.r),0),b:Math.max(Ne.bottom-(se.cy+se.r),0),t:Math.max(se.cy-se.r-Ne.top,0),pad:5})}})});setTimeout(function(){te.selectAll("tspan").each(function(){var q=h.select(this);q.attr("dy")&&q.attr("dy",q.attr("dy"))})},0)}function g(X,Q){X.each(function($){var ne=h.select(this);if(!$.labelExtraX&&!$.labelExtraY){ne.select("path.textline").remove();return}var fe=ne.select("g.slicetext text");$.transform.targetX+=$.labelExtraX,$.transform.targetY+=$.labelExtraY,p.setTransormAndDisplay(fe,$.transform);var te=$.cxFinal+$.pxmid[0],q=$.cyFinal+$.pxmid[1],he="M"+te+","+q,se=($.yLabelMax-$.yLabelMin)*($.pxmid[0]<0?-1:1)/4;if($.labelExtraX){var pe=$.labelExtraX*$.pxmid[1]/$.pxmid[0],we=$.yLabelMid+$.labelExtraY-($.cyFinal+$.pxmid[1]);Math.abs(pe)>Math.abs(we)?he+="l"+we*$.pxmid[0]/$.pxmid[1]+","+we+"H"+(te+$.labelExtraX+se):he+="l"+$.labelExtraX+","+pe+"v"+(we-pe)+"h"+se}else he+="V"+($.yLabelMid+$.labelExtraY)+"h"+se;p.ensureSingle(ne,"path","textline").call(L.stroke,Q.outsidetextfont.color).attr({"stroke-width":Math.min(2,Q.outsidetextfont.size/8),d:he,fill:"none"})})}function u(X,Q,$){var ne=$[0],fe=ne.cx,te=ne.cy,q=ne.trace,he=q.type==="funnelarea";"_hasHoverLabel"in q||(q._hasHoverLabel=!1),"_hasHoverEvent"in q||(q._hasHoverEvent=!1),X.on("mouseover",function(se){var pe=Q._fullLayout,we=Q._fullData[q.index];if(!(Q._dragging||pe.hovermode===!1)){var Ee=we.hoverinfo;if(Array.isArray(Ee)&&(Ee=n.castHoverinfo({hoverinfo:[c.castOption(Ee,se.pts)],_module:q._module},pe,0)),Ee==="all"&&(Ee="label+text+value+percent+name"),we.hovertemplate||Ee!=="none"&&Ee!=="skip"&&Ee){var Me=se.rInscribed||0,Be=fe+se.pxmid[0]*(1-Me),Ne=te+se.pxmid[1]*(1-Me),Ce=pe.separators,Te=[];if(Ee&&Ee.indexOf("label")!==-1&&Te.push(se.label),se.text=c.castOption(we.hovertext||we.text,se.pts),Ee&&Ee.indexOf("text")!==-1){var Le=se.text;p.isValidTextValue(Le)&&Te.push(Le)}se.value=se.v,se.valueLabel=c.formatPieValue(se.v,Ce),Ee&&Ee.indexOf("value")!==-1&&Te.push(se.valueLabel),se.percent=se.v/ne.vTotal,se.percentLabel=c.formatPiePercent(se.percent,Ce),Ee&&Ee.indexOf("percent")!==-1&&Te.push(se.percentLabel);var Ve=we.hoverlabel,We=Ve.font,Fe=[];n.loneHover({trace:q,x0:Be-Me*ne.r,x1:Be+Me*ne.r,y:Ne,_x0:he?fe+se.TL[0]:Be-Me*ne.r,_x1:he?fe+se.TR[0]:Be+Me*ne.r,_y0:he?te+se.TL[1]:Ne-Me*ne.r,_y1:he?te+se.BL[1]:Ne+Me*ne.r,text:Te.join("<br>"),name:we.hovertemplate||Ee.indexOf("name")!==-1?we.name:void 0,idealAlign:se.pxmid[0]<0?"left":"right",color:c.castOption(Ve.bgcolor,se.pts)||se.color,borderColor:c.castOption(Ve.bordercolor,se.pts),fontFamily:c.castOption(We.family,se.pts),fontSize:c.castOption(We.size,se.pts),fontColor:c.castOption(We.color,se.pts),nameLength:c.castOption(Ve.namelength,se.pts),textAlign:c.castOption(Ve.align,se.pts),hovertemplate:c.castOption(we.hovertemplate,se.pts),hovertemplateLabels:se,eventData:[x(se,we)]},{container:pe._hoverlayer.node(),outerContainer:pe._paper.node(),gd:Q,inOut_bbox:Fe}),se.bbox=Fe[0],q._hasHoverLabel=!0}q._hasHoverEvent=!0,Q.emit("plotly_hover",{points:[x(se,we)],event:h.event})}}),X.on("mouseout",function(se){var pe=Q._fullLayout,we=Q._fullData[q.index],Ee=h.select(this).datum();q._hasHoverEvent&&(se.originalEvent=h.event,Q.emit("plotly_unhover",{points:[x(Ee,we)],event:h.event}),q._hasHoverEvent=!1),q._hasHoverLabel&&(n.loneUnhover(pe._hoverlayer.node()),q._hasHoverLabel=!1)}),X.on("click",function(se){var pe=Q._fullLayout,we=Q._fullData[q.index];Q._dragging||pe.hovermode===!1||(Q._hoverdata=[x(se,we)],n.click(Q,h.event))})}function y(X,Q,$){var ne=c.castOption(X.outsidetextfont.color,Q.pts)||c.castOption(X.textfont.color,Q.pts)||$.color,fe=c.castOption(X.outsidetextfont.family,Q.pts)||c.castOption(X.textfont.family,Q.pts)||$.family,te=c.castOption(X.outsidetextfont.size,Q.pts)||c.castOption(X.textfont.size,Q.pts)||$.size;return{color:ne,family:fe,size:te}}function C(X,Q,$){var ne=c.castOption(X.insidetextfont.color,Q.pts);!ne&&X._input.textfont&&(ne=c.castOption(X._input.textfont.color,Q.pts));var fe=c.castOption(X.insidetextfont.family,Q.pts)||c.castOption(X.textfont.family,Q.pts)||$.family,te=c.castOption(X.insidetextfont.size,Q.pts)||c.castOption(X.textfont.size,Q.pts)||$.size;return{color:ne||L.contrast(Q.color),family:fe,size:te}}function S(X,Q){for(var $,ne,fe=0;fe<X.length;fe++)if($=X[fe][0],ne=$.trace,ne.title.text){var te=ne.title.text;ne._meta&&(te=p.templateString(te,ne._meta));var q=w.tester.append("text").attr("data-notex",1).text(te).call(w.font,ne.title.font).call(r.convertToTspans,Q),he=w.bBox(q.node(),!0);$.titleBox={width:he.width,height:he.height},q.remove()}}function D(X,Q,$){var ne=$.r||Q.rpx1,fe=Q.rInscribed,te=Q.startangle===Q.stopangle;if(te)return{rCenter:1-fe,scale:0,rotate:0,textPosAngle:0};var q=Q.ring,he=q===1&&Math.abs(Q.startangle-Q.stopangle)===Math.PI*2,se=Q.halfangle,pe=Q.midangle,we=$.trace.insidetextorientation,Ee=we==="horizontal",Me=we==="tangential",Be=we==="radial",Ne=we==="auto",Ce=[],Te;if(!Ne){var Le=function($e,tt){if(T(Q,$e)){var vt=Math.abs($e-Q.startangle),dt=Math.abs($e-Q.stopangle),gt=vt<dt?vt:dt;tt==="tan"?Te=A(X,ne,q,gt,0):Te=P(X,ne,q,gt,Math.PI/2),Te.textPosAngle=$e,Ce.push(Te)}},Ve;if(Ee||Me){for(Ve=4;Ve>=-4;Ve-=2)Le(Math.PI*Ve,"tan");for(Ve=4;Ve>=-4;Ve-=2)Le(Math.PI*(Ve+1),"tan")}if(Ee||Be){for(Ve=4;Ve>=-4;Ve-=2)Le(Math.PI*(Ve+1.5),"rad");for(Ve=4;Ve>=-4;Ve-=2)Le(Math.PI*(Ve+.5),"rad")}}if(he||Ne||Ee){var We=Math.sqrt(X.width*X.width+X.height*X.height);if(Te={scale:fe*ne*2/We,rCenter:1-fe,rotate:0},Te.textPosAngle=(Q.startangle+Q.stopangle)/2,Te.scale>=1)return Te;Ce.push(Te)}(Ne||Be)&&(Te=P(X,ne,q,se,pe),Te.textPosAngle=(Q.startangle+Q.stopangle)/2,Ce.push(Te)),(Ne||Me)&&(Te=A(X,ne,q,se,pe),Te.textPosAngle=(Q.startangle+Q.stopangle)/2,Ce.push(Te));for(var Fe=0,Ge=0,it=0;it<Ce.length;it++){var qe=Ce[it].scale;if(Ge<qe&&(Ge=qe,Fe=it),!Ne&&Ge>=1)break}return Ce[Fe]}function T(X,Q){var $=X.startangle,ne=X.stopangle;return $>Q&&Q>ne||$<Q&&Q<ne}function P(X,Q,$,ne,fe){Q=Math.max(0,Q-2*v);var te=X.width/X.height,q=b(te,ne,Q,$);return{scale:q*2/X.height,rCenter:a(te,q/Q),rotate:R(fe)}}function A(X,Q,$,ne,fe){Q=Math.max(0,Q-2*v);var te=X.height/X.width,q=b(te,ne,Q,$);return{scale:q*2/X.width,rCenter:a(te,q/Q),rotate:R(fe+Math.PI/2)}}function a(X,Q){return Math.cos(Q)-X*Q}function R(X){return(180/Math.PI*X+720)%180-90}function b(X,Q,$,ne){var fe=X+1/(2*Math.tan(Q));return $*Math.min(1/(Math.sqrt(fe*fe+.5)+fe),ne/(Math.sqrt(X*X+ne/2)+X))}function N(X,Q){return X.v===Q.vTotal&&!Q.trace.hole?1:Math.min(1/(1+1/Math.sin(X.halfangle)),X.ring/2)}function O(X,Q){var $=Q.pxmid[0],ne=Q.pxmid[1],fe=X.width/2,te=X.height/2;return $<0&&(fe*=-1),ne<0&&(te*=-1),{scale:1,rCenter:1,rotate:0,x:fe+Math.abs(te)*(fe>0?1:-1)/2,y:te/(1+$*$/(ne*ne)),outside:!0}}function Y(X){var Q=Math.sqrt(X.titleBox.width*X.titleBox.width+X.titleBox.height*X.titleBox.height);return{x:X.cx,y:X.cy,scale:X.trace.hole*X.r*2/Q,tx:0,ty:-X.titleBox.height/2+X.trace.title.font.size}}function B(X,Q){var $=1,ne=1,fe,te=X.trace,q={x:X.cx,y:X.cy},he={tx:0,ty:0};he.ty+=te.title.font.size,fe=U(te),te.title.position.indexOf("top")!==-1?(q.y-=(1+fe)*X.r,he.ty-=X.titleBox.height):te.title.position.indexOf("bottom")!==-1&&(q.y+=(1+fe)*X.r);var se=W(X.r,X.trace.aspectratio),pe=Q.w*(te.domain.x[1]-te.domain.x[0])/2;return te.title.position.indexOf("left")!==-1?(pe=pe+se,q.x-=(1+fe)*se,he.tx+=X.titleBox.width/2):te.title.position.indexOf("center")!==-1?pe*=2:te.title.position.indexOf("right")!==-1&&(pe=pe+se,q.x+=(1+fe)*se,he.tx-=X.titleBox.width/2),$=pe/X.titleBox.width,ne=H(X,Q)/X.titleBox.height,{x:q.x,y:q.y,scale:Math.min($,ne),tx:he.tx,ty:he.ty}}function W(X,Q){return X/(Q===void 0?1:Q)}function H(X,Q){var $=X.trace,ne=Q.h*($.domain.y[1]-$.domain.y[0]);return Math.min(X.titleBox.height,ne/2)}function U(X){var Q=X.pull;if(!Q)return 0;var $;if(Array.isArray(Q))for(Q=0,$=0;$<X.pull.length;$++)X.pull[$]>Q&&(Q=X.pull[$]);return Q}function G(X,Q){var $,ne,fe,te,q,he,se,pe,we,Ee,Me,Be,Ne;function Ce(We,Fe){return We.pxmid[1]-Fe.pxmid[1]}function Te(We,Fe){return Fe.pxmid[1]-We.pxmid[1]}function Le(We,Fe){Fe||(Fe={});var Ge=Fe.labelExtraY+(ne?Fe.yLabelMax:Fe.yLabelMin),it=ne?We.yLabelMin:We.yLabelMax,qe=ne?We.yLabelMax:We.yLabelMin,$e=We.cyFinal+q(We.px0[1],We.px1[1]),tt=Ge-it,vt,dt,gt,Mt,Ct,Wt;if(tt*se>0&&(We.labelExtraY=tt),!!Array.isArray(Q.pull))for(dt=0;dt<Ee.length;dt++)gt=Ee[dt],!(gt===We||(c.castOption(Q.pull,We.pts)||0)>=(c.castOption(Q.pull,gt.pts)||0))&&((We.pxmid[1]-gt.pxmid[1])*se>0?(Mt=gt.cyFinal+q(gt.px0[1],gt.px1[1]),tt=Mt-it-We.labelExtraY,tt*se>0&&(We.labelExtraY+=tt)):(qe+We.labelExtraY-$e)*se>0&&(vt=3*he*Math.abs(dt-Ee.indexOf(We)),Ct=gt.cxFinal+te(gt.px0[0],gt.px1[0]),Wt=Ct+vt-(We.cxFinal+We.pxmid[0])-We.labelExtraX,Wt*he>0&&(We.labelExtraX+=Wt)))}for(ne=0;ne<2;ne++)for(fe=ne?Ce:Te,q=ne?Math.max:Math.min,se=ne?1:-1,$=0;$<2;$++){for(te=$?Math.max:Math.min,he=$?1:-1,pe=X[ne][$],pe.sort(fe),we=X[1-ne][$],Ee=we.concat(pe),Be=[],Me=0;Me<pe.length;Me++)pe[Me].yLabelMid!==void 0&&Be.push(pe[Me]);for(Ne=!1,Me=0;ne&&Me<we.length;Me++)if(we[Me].yLabelMid!==void 0){Ne=we[Me];break}for(Me=0;Me<Be.length;Me++){var Ve=Me&&Be[Me-1];Ne&&!Me&&(Ve=Ne),Le(Be[Me],Ve)}}}function j(X,Q){for(var $=[],ne=0;ne<X.length;ne++){var fe=X[ne][0],te=fe.trace,q=te.domain,he=Q.w*(q.x[1]-q.x[0]),se=Q.h*(q.y[1]-q.y[0]);te.title.text&&te.title.position!=="middle center"&&(se-=H(fe,Q));var pe=he/2,we=se/2;te.type==="funnelarea"&&!te.scalegroup&&(we/=te.aspectratio),fe.r=Math.min(pe,we)/(1+U(te)),fe.cx=Q.l+Q.w*(te.domain.x[1]+te.domain.x[0])/2,fe.cy=Q.t+Q.h*(1-te.domain.y[0])-se/2,te.title.text&&te.title.position.indexOf("bottom")!==-1&&(fe.cy-=H(fe,Q)),te.scalegroup&&$.indexOf(te.scalegroup)===-1&&$.push(te.scalegroup)}re(X,$)}function re(X,Q){for(var $,ne,fe,te=0;te<Q.length;te++){var q=1/0,he=Q[te];for(ne=0;ne<X.length;ne++)if($=X[ne][0],fe=$.trace,fe.scalegroup===he){var se;if(fe.type==="pie")se=$.r*$.r;else if(fe.type==="funnelarea"){var pe,we;fe.aspectratio>1?(pe=$.r,we=pe/fe.aspectratio):(we=$.r,pe=we*fe.aspectratio),pe*=(1+fe.baseratio)/2,se=pe*we}q=Math.min(q,se/$.vTotal)}for(ne=0;ne<X.length;ne++)if($=X[ne][0],fe=$.trace,fe.scalegroup===he){var Ee=q*$.vTotal;fe.type==="funnelarea"&&(Ee/=(1+fe.baseratio)/2,Ee/=fe.aspectratio),$.r=Math.sqrt(Ee)}}}function ae(X){var Q=X[0],$=Q.r,ne=Q.trace,fe=c.getRotationAngle(ne.rotation),te=2*Math.PI/Q.vTotal,q="px0",he="px1",se,pe,we;if(ne.direction==="counterclockwise"){for(se=0;se<X.length&&X[se].hidden;se++);if(se===X.length)return;fe+=te*X[se].v,te*=-1,q="px1",he="px0"}for(we=ue($,fe),se=0;se<X.length;se++)pe=X[se],!pe.hidden&&(pe[q]=we,pe.startangle=fe,fe+=te*pe.v/2,pe.pxmid=ue($,fe),pe.midangle=fe,fe+=te*pe.v/2,we=ue($,fe),pe.stopangle=fe,pe[he]=we,pe.largeArc=pe.v>Q.vTotal/2?1:0,pe.halfangle=Math.PI*Math.min(pe.v/Q.vTotal,.5),pe.ring=1-ne.hole,pe.rInscribed=N(pe,Q))}function ue(X,Q){return[X*Math.sin(Q),-X*Math.cos(Q)]}function de(X,Q,$){var ne=X._fullLayout,fe=$.trace,te=fe.texttemplate,q=fe.textinfo;if(!te&&q&&q!=="none"){var he=q.split("+"),se=function(Fe){return he.indexOf(Fe)!==-1},pe=se("label"),we=se("text"),Ee=se("value"),Me=se("percent"),Be=ne.separators,Ne;if(Ne=pe?[Q.label]:[],we){var Ce=c.getFirstFilled(fe.text,Q.pts);d(Ce)&&Ne.push(Ce)}Ee&&Ne.push(c.formatPieValue(Q.v,Be)),Me&&Ne.push(c.formatPiePercent(Q.v/$.vTotal,Be)),Q.text=Ne.join("<br>")}function Te(Fe){return{label:Fe.label,value:Fe.v,valueLabel:c.formatPieValue(Fe.v,ne.separators),percent:Fe.v/$.vTotal,percentLabel:c.formatPiePercent(Fe.v/$.vTotal,ne.separators),color:Fe.color,text:Fe.text,customdata:p.castOption(fe,Fe.i,"customdata")}}if(te){var Le=p.castOption(fe,Q.i,"texttemplate");if(!Le)Q.text="";else{var Ve=Te(Q),We=c.getFirstFilled(fe.text,Q.pts);(d(We)||We==="")&&(Ve.text=We),Q.text=p.texttemplateString(Le,Ve,X._fullLayout._d3locale,Ve,fe._meta||{})}}}function ee(X,Q){var $=X.rotate*Math.PI/180,ne=Math.cos($),fe=Math.sin($),te=(Q.left+Q.right)/2,q=(Q.top+Q.bottom)/2;X.textX=te*ne-q*fe,X.textY=te*fe+q*ne,X.noCenter=!0}k.exports={plot:M,formatSliceLabel:de,transformInsideText:D,determineInsideTextFont:C,positionTitleOutside:B,prerenderTitles:S,layoutAreas:j,attachFxHandlers:u,computeTransform:ee}},68357:function(k,F,e){var h=e(39898),E=e(63463),n=e(72597).resizeText;k.exports=function(w){var p=w._fullLayout._pielayer.selectAll(".trace");n(w,p,"pie"),p.each(function(m){var t=m[0],r=t.trace,l=h.select(this);l.style({opacity:r.opacity}),l.selectAll("path.surface").each(function(i){h.select(this).call(E,i,r,w)})})}},63463:function(k,F,e){var h=e(7901),E=e(53581).castOption,n=e(22209);k.exports=function(w,p,m,t){var r=m.marker.line,l=E(r.color,p.pts)||h.defaultLine,i=E(r.width,p.pts)||0;w.call(n,p,m,t).style("stroke-width",i).call(h.stroke,l)}},10959:function(k,F,e){var h=e(82196);k.exports={x:h.x,y:h.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:h.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(k,F,e){var h=e(9330).gl_pointcloud2d,E=e(78614),n=e(71739).findExtremes,L=e(34603);function w(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=h(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=w.prototype;p.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=L(t,{})},p.updateFast=function(t){var r=this.xData=this.pickXData=t.x,l=this.yData=this.pickYData=t.y,i=this.pickXYData=t.xy,f=t.xbounds&&t.ybounds,v=t.indices,c,x,d,M=this.bounds,g,u,y;if(i){if(d=i,c=i.length>>>1,f)M[0]=t.xbounds[0],M[2]=t.xbounds[1],M[1]=t.ybounds[0],M[3]=t.ybounds[1];else for(y=0;y<c;y++)g=d[y*2],u=d[y*2+1],g<M[0]&&(M[0]=g),g>M[2]&&(M[2]=g),u<M[1]&&(M[1]=u),u>M[3]&&(M[3]=u);if(v)x=v;else for(x=new Int32Array(c),y=0;y<c;y++)x[y]=y}else for(c=r.length,d=new Float32Array(2*c),x=new Int32Array(c),y=0;y<c;y++)g=r[y],u=l[y],x[y]=y,d[y*2]=g,d[y*2+1]=u,g<M[0]&&(M[0]=g),g>M[2]&&(M[2]=g),u<M[1]&&(M[1]=u),u>M[3]&&(M[3]=u);this.idToIndex=x,this.pointcloudOptions.idToIndex=x,this.pointcloudOptions.positions=d;var C=E(t.marker.color),S=E(t.marker.border.color),D=t.opacity*t.marker.opacity;C[3]*=D,this.pointcloudOptions.color=C;var T=t.marker.blend;if(T===null){var P=100;T=r.length<P||l.length<P}this.pointcloudOptions.blend=T,S[3]*=D,this.pointcloudOptions.borderColor=S;var A=t.marker.sizemin,a=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=A,this.pointcloudOptions.sizeMax=a,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var R=this.scene.xaxis,b=this.scene.yaxis,N=a/2||.5;t._extremes[R._id]=n(R,[M[0],M[2]],{ppad:N}),t._extremes[b._id]=n(b,[M[1],M[3]],{ppad:N})},p.dispose=function(){this.pointcloud.dispose()};function m(t,r){var l=new w(t,r.uid);return l.update(r),l}k.exports=m},33876:function(k,F,e){var h=e(71828),E=e(10959);k.exports=function(L,w,p){function m(t,r){return h.coerce(L,w,E,t,r)}m("x"),m("y"),m("xbounds"),m("ybounds"),L.xy&&L.xy instanceof Float32Array&&(w.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(w.indices=L.indices),m("text"),m("marker.color",p),m("marker.opacity"),m("marker.blend"),m("marker.sizemin"),m("marker.sizemax"),m("marker.border.color",p),m("marker.border.arearatio"),w._length=null}},20593:function(k,F,e){k.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(k,F,e){var h=e(41940),E=e(9012),n=e(22399),L=e(77914),w=e(27670).Y,p=e(5386).fF,m=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,l=e(1426).extendFlat,i=e(30962).overrideAll,f=k.exports=i({hoverinfo:l({},E.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:w({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:h({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:p({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:p({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:l(m().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");f.transforms=void 0},75536:function(k,F,e){var h=e(30962).overrideAll,E=e(27659).a0,n=e(60436),L=e(528),w=e(6964),p=e(28569),m=e(47322).prepSelect,t=e(71828),r=e(73972),l="sankey";F.name=l,F.baseLayoutAttrOverrides=h({hoverlabel:L.hoverlabel},"plot","nested"),F.plot=function(f){var v=E(f.calcdata,l)[0];n(f,v),F.updateFx(f)},F.clean=function(f,v,c,x){var d=x._has&&x._has(l),M=v._has&&v._has(l);d&&!M&&(x._paperdiv.selectAll(".sankey").remove(),x._paperdiv.selectAll(".bgsankey").remove())},F.updateFx=function(f){for(var v=0;v<f._fullData.length;v++)i(f,v)};function i(f,v){var c=f._fullData[v],x=f._fullLayout,d=x.dragmode,M=x.dragmode==="pan"?"move":"crosshair",g=c._bgRect;if(g&&!(d==="pan"||d==="zoom")){w(g,M);var u={_id:"x",c2p:t.identity,_offset:c._sankey.translateX,_length:c._sankey.width},y={_id:"y",c2p:t.identity,_offset:c._sankey.translateY,_length:c._sankey.height},C={gd:f,element:g.node(),plotinfo:{id:v,xaxis:u,yaxis:y,fillRangeItems:t.noop},subplot:v,xaxes:[u],yaxes:[y],doneFnCompleted:function(S){var D=f._fullData[v],T,P=D.node.groups.slice(),A=[];function a(O){for(var Y=D._sankey.graph.nodes,B=0;B<Y.length;B++)if(Y[B].pointNumber===O)return Y[B]}for(var R=0;R<S.length;R++){var b=a(S[R].pointNumber);if(b)if(b.group){for(var N=0;N<b.childrenNodes.length;N++)A.push(b.childrenNodes[N].pointNumber);P[b.pointNumber-D.node._count]=!1}else A.push(b.pointNumber)}T=P.filter(Boolean).concat([A]),r.call("_guiRestyle",f,{"node.groups":[T]},v)}};C.prepFn=function(S,D,T){m(S,D,T,C,d)},p.init(C)}}},92930:function(k,F,e){var h=e(68664),E=e(71828),n=e(28984).wrap,L=E.isArrayOrTypedArray,w=E.isIndex,p=e(21081);function m(r){var l=r.node,i=r.link,f=[],v=L(i.color),c=L(i.customdata),x={},d={},M=i.colorscales.length,g;for(g=0;g<M;g++){var u=i.colorscales[g],y=p.extractScale(u,{cLetter:"c"}),C=p.makeColorScaleFunc(y);d[u.label]=C}var S=0;for(g=0;g<i.value.length;g++)i.source[g]>S&&(S=i.source[g]),i.target[g]>S&&(S=i.target[g]);var D=S+1;r.node._count=D;var T,P=r.node.groups,A={};for(g=0;g<P.length;g++){var a=P[g];for(T=0;T<a.length;T++){var R=a[T],b=D+g;A.hasOwnProperty(R)?E.warn("Node "+R+" is already part of a group."):A[R]=b}}var N={source:[],target:[]};for(g=0;g<i.value.length;g++){var O=i.value[g],Y=i.source[g],B=i.target[g];if(O>0&&w(Y,D)&&w(B,D)&&!(A.hasOwnProperty(Y)&&A.hasOwnProperty(B)&&A[Y]===A[B])){A.hasOwnProperty(B)&&(B=A[B]),A.hasOwnProperty(Y)&&(Y=A[Y]),Y=+Y,B=+B,x[Y]=x[B]=!0;var W="";i.label&&i.label[g]&&(W=i.label[g]);var H=null;W&&d.hasOwnProperty(W)&&(H=d[W]),f.push({pointNumber:g,label:W,color:v?i.color[g]:i.color,customdata:c?i.customdata[g]:i.customdata,concentrationscale:H,source:Y,target:B,value:+O}),N.source.push(Y),N.target.push(B)}}var U=D+P.length,G=L(l.color),j=L(l.customdata),re=[];for(g=0;g<U;g++)if(x[g]){var ae=l.label[g];re.push({group:g>D-1,childrenNodes:[],pointNumber:g,label:ae,color:G?l.color[g]:l.color,customdata:j?l.customdata[g]:l.customdata})}var ue=!1;return t(U,N.source,N.target)&&(ue=!0),{circular:ue,links:f,nodes:re,groups:P,groupLookup:A}}function t(r,l,i){for(var f=E.init2dArray(r,0),v=0;v<Math.min(l.length,i.length);v++)if(E.isIndex(l[v],r)&&E.isIndex(i[v],r)){if(l[v]===i[v])return!0;f[l[v]].push(i[v])}var c=h(f);return c.components.some(function(x){return x.length>1})}k.exports=function(l,i){var f=m(i);return n({circular:f.circular,_nodes:f.nodes,_links:f.links,_groups:f.groups,_groupLookup:f.groupLookup})}},85247:function(k){k.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(k,F,e){var h=e(71828),E=e(39953),n=e(7901),L=e(84267),w=e(27670).c,p=e(38048),m=e(44467),t=e(85501);k.exports=function(i,f,v,c){function x(a,R){return h.coerce(i,f,E,a,R)}var d=h.extendDeep(c.hoverlabel,i.hoverlabel),M=i.node,g=m.newContainer(f,"node");function u(a,R){return h.coerce(M,g,E.node,a,R)}u("label"),u("groups"),u("x"),u("y"),u("pad"),u("thickness"),u("line.color"),u("line.width"),u("hoverinfo",i.hoverinfo),p(M,g,u,d),u("hovertemplate");var y=c.colorway,C=function(a){return y[a%y.length]};u("color",g.label.map(function(a,R){return n.addOpacity(C(R),.8)})),u("customdata");var S=i.link||{},D=m.newContainer(f,"link");function T(a,R){return h.coerce(S,D,E.link,a,R)}T("label"),T("arrowlen"),T("source"),T("target"),T("value"),T("line.color"),T("line.width"),T("hoverinfo",i.hoverinfo),p(S,D,T,d),T("hovertemplate");var P=L(c.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";T("color",h.repeat(P,D.value.length)),T("customdata"),t(S,D,{name:"colorscales",handleItemDefaults:r}),w(f,c,x),x("orientation"),x("valueformat"),x("valuesuffix");var A;g.x.length&&g.y.length&&(A="freeform"),x("arrangement",A),h.coerceFont(x,"textfont",h.extendFlat({},c.font)),f._length=null};function r(l,i){function f(v,c){return h.coerce(l,i,E.link.colorscales,v,c)}f("label"),f("cmin"),f("cmax"),f("colorscale")}},29396:function(k,F,e){k.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(k,F,e){var h=e(39898),E=e(71828),n=E.numberFormat,L=e(3393),w=e(30211),p=e(7901),m=e(85247).cn,t=E._;function r(y){return y!==""}function l(y,C){return y.filter(function(S){return S.key===C.traceId})}function i(y,C){h.select(y).select("path").style("fill-opacity",C),h.select(y).select("rect").style("fill-opacity",C)}function f(y){h.select(y).select("text.name").style("fill","black")}function v(y){return function(C){return y.node.sourceLinks.indexOf(C.link)!==-1||y.node.targetLinks.indexOf(C.link)!==-1}}function c(y){return function(C){return C.node.sourceLinks.indexOf(y.link)!==-1||C.node.targetLinks.indexOf(y.link)!==-1}}function x(y,C,S){C&&S&&l(S,C).selectAll("."+m.sankeyLink).filter(v(C)).call(M.bind(0,C,S,!1))}function d(y,C,S){C&&S&&l(S,C).selectAll("."+m.sankeyLink).filter(v(C)).call(g.bind(0,C,S,!1))}function M(y,C,S,D){var T=D.datum().link.label;D.style("fill-opacity",function(P){if(!P.link.concentrationscale)return .4}),T&&l(C,y).selectAll("."+m.sankeyLink).filter(function(P){return P.link.label===T}).style("fill-opacity",function(P){if(!P.link.concentrationscale)return .4}),S&&l(C,y).selectAll("."+m.sankeyNode).filter(c(y)).call(x)}function g(y,C,S,D){var T=D.datum().link.label;D.style("fill-opacity",function(P){return P.tinyColorAlpha}),T&&l(C,y).selectAll("."+m.sankeyLink).filter(function(P){return P.link.label===T}).style("fill-opacity",function(P){return P.tinyColorAlpha}),S&&l(C,y).selectAll(m.sankeyNode).filter(c(y)).call(d)}function u(y,C){var S=y.hoverlabel||{},D=E.nestedProperty(S,C).get();return Array.isArray(D)?!1:D}k.exports=function(C,S){for(var D=C._fullLayout,T=D._paper,P=D._size,A=0;A<C._fullData.length;A++)if(C._fullData[A].visible&&C._fullData[A].type===m.sankey&&!C._fullData[A]._viewInitial){var a=C._fullData[A].node;C._fullData[A]._viewInitial={node:{groups:a.groups.slice(),x:a.x.slice(),y:a.y.slice()}}}var R=function(ue,de){var ee=de.link;ee.originalEvent=h.event,C._hoverdata=[ee],w.click(C,{target:!0})},b=function(ue,de,ee){C._fullLayout.hovermode!==!1&&(h.select(ue).call(M.bind(0,de,ee,!0)),de.link.trace.link.hoverinfo!=="skip"&&(de.link.fullData=de.link.trace,C.emit("plotly_hover",{event:h.event,points:[de.link]})))},N=t(C,"source:")+" ",O=t(C,"target:")+" ",Y=t(C,"concentration:")+" ",B=t(C,"incoming flow count:")+" ",W=t(C,"outgoing flow count:")+" ",H=function(ue,de){if(C._fullLayout.hovermode===!1)return;var ee=de.link.trace.link;if(ee.hoverinfo==="none"||ee.hoverinfo==="skip")return;var X=[];function Q(se){var pe,we;se.circular?(pe=(se.circularPathData.leftInnerExtent+se.circularPathData.rightInnerExtent)/2,we=se.circularPathData.verticalFullExtent):(pe=(se.source.x1+se.target.x0)/2,we=(se.y0+se.y1)/2);var Ee=[pe,we];return se.trace.orientation==="v"&&Ee.reverse(),Ee[0]+=de.parent.translateX,Ee[1]+=de.parent.translateY,Ee}for(var $=0,ne=0;ne<de.flow.links.length;ne++){var fe=de.flow.links[ne];if(!(C._fullLayout.hovermode==="closest"&&de.link.pointNumber!==fe.pointNumber)){de.link.pointNumber===fe.pointNumber&&($=ne),fe.fullData=fe.trace,ee=de.link.trace.link;var te=Q(fe),q={valueLabel:n(de.valueFormat)(fe.value)+de.valueSuffix};X.push({x:te[0],y:te[1],name:q.valueLabel,text:[fe.label||"",N+fe.source.label,O+fe.target.label,fe.concentrationscale?Y+n("%0.2f")(fe.flow.labelConcentration):""].filter(r).join("<br>"),color:u(ee,"bgcolor")||p.addOpacity(fe.color,1),borderColor:u(ee,"bordercolor"),fontFamily:u(ee,"font.family"),fontSize:u(ee,"font.size"),fontColor:u(ee,"font.color"),nameLength:u(ee,"namelength"),textAlign:u(ee,"align"),idealAlign:h.event.x<te[0]?"right":"left",hovertemplate:ee.hovertemplate,hovertemplateLabels:q,eventData:[fe]})}}var he=w.loneHover(X,{container:D._hoverlayer.node(),outerContainer:D._paper.node(),gd:C,anchorIndex:$});he.each(function(){var se=this;de.link.concentrationscale||i(se,.65),f(se)})},U=function(ue,de,ee){C._fullLayout.hovermode!==!1&&(h.select(ue).call(g.bind(0,de,ee,!0)),de.link.trace.link.hoverinfo!=="skip"&&(de.link.fullData=de.link.trace,C.emit("plotly_unhover",{event:h.event,points:[de.link]})),w.loneUnhover(D._hoverlayer.node()))},G=function(ue,de,ee){var X=de.node;X.originalEvent=h.event,C._hoverdata=[X],h.select(ue).call(d,de,ee),w.click(C,{target:!0})},j=function(ue,de,ee){C._fullLayout.hovermode!==!1&&(h.select(ue).call(x,de,ee),de.node.trace.node.hoverinfo!=="skip"&&(de.node.fullData=de.node.trace,C.emit("plotly_hover",{event:h.event,points:[de.node]})))},re=function(ue,de){if(C._fullLayout.hovermode!==!1){var ee=de.node.trace.node;if(!(ee.hoverinfo==="none"||ee.hoverinfo==="skip")){var X=h.select(ue).select("."+m.nodeRect),Q=C._fullLayout._paperdiv.node().getBoundingClientRect(),$=X.node().getBoundingClientRect(),ne=$.left-2-Q.left,fe=$.right+2-Q.left,te=$.top+$.height/4-Q.top,q={valueLabel:n(de.valueFormat)(de.node.value)+de.valueSuffix};de.node.fullData=de.node.trace,C._fullLayout._calcInverseTransform(C);var he=C._fullLayout._invScaleX,se=C._fullLayout._invScaleY,pe=w.loneHover({x0:he*ne,x1:he*fe,y:se*te,name:n(de.valueFormat)(de.node.value)+de.valueSuffix,text:[de.node.label,B+de.node.targetLinks.length,W+de.node.sourceLinks.length].filter(r).join("<br>"),color:u(ee,"bgcolor")||de.tinyColorHue,borderColor:u(ee,"bordercolor"),fontFamily:u(ee,"font.family"),fontSize:u(ee,"font.size"),fontColor:u(ee,"font.color"),nameLength:u(ee,"namelength"),textAlign:u(ee,"align"),idealAlign:"left",hovertemplate:ee.hovertemplate,hovertemplateLabels:q,eventData:[de.node]},{container:D._hoverlayer.node(),outerContainer:D._paper.node(),gd:C});i(pe,.85),f(pe)}}},ae=function(ue,de,ee){C._fullLayout.hovermode!==!1&&(h.select(ue).call(d,de,ee),de.node.trace.node.hoverinfo!=="skip"&&(de.node.fullData=de.node.trace,C.emit("plotly_unhover",{event:h.event,points:[de.node]})),w.loneUnhover(D._hoverlayer.node()))};L(C,T,S,{width:P.w,height:P.h,margin:{t:P.t,r:P.r,b:P.b,l:P.l}},{linkEvents:{hover:b,follow:H,unhover:U,select:R},nodeEvents:{hover:j,follow:re,unhover:ae,select:G}})}},3393:function(k,F,e){var h=e(49887),E=e(81684).k4,n=e(39898),L=e(30838),w=e(86781),p=e(85247),m=e(84267),t=e(7901),r=e(91424),l=e(71828),i=l.strTranslate,f=l.strRotate,v=e(28984),c=v.keyFun,x=v.repeat,d=v.unwrap,M=e(63893),g=e(73972),u=e(18783),y=u.CAP_SHIFT,C=u.LINE_SPACING,S=3;function D(Q,$,ne){var fe=d($),te=fe.trace,q=te.domain,he=te.orientation==="h",se=te.node.pad,pe=te.node.thickness,we=Q.width*(q.x[1]-q.x[0]),Ee=Q.height*(q.y[1]-q.y[0]),Me=fe._nodes,Be=fe._links,Ne=fe.circular,Ce;Ne?Ce=w.sankeyCircular().circularLinkGap(0):Ce=L.sankey(),Ce.iterations(p.sankeyIterations).size(he?[we,Ee]:[Ee,we]).nodeWidth(pe).nodePadding(se).nodeId(function(Ct){return Ct.pointNumber}).nodes(Me).links(Be);var Te=Ce();Ce.nodePadding()<se&&l.warn("node.pad was reduced to ",Ce.nodePadding()," to fit within the figure.");var Le,Ve,We;for(var Fe in fe._groupLookup){var Ge=parseInt(fe._groupLookup[Fe]),it;for(Le=0;Le<Te.nodes.length;Le++)if(Te.nodes[Le].pointNumber===Ge){it=Te.nodes[Le];break}if(it){var qe={pointNumber:parseInt(Fe),x0:it.x0,x1:it.x1,y0:it.y0,y1:it.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Te.nodes.unshift(qe),it.childrenNodes.unshift(qe)}}function $e(){for(Le=0;Le<Te.nodes.length;Le++){var Ct=Te.nodes[Le],Wt={},Xe,ke;for(Ve=0;Ve<Ct.targetLinks.length;Ve++)ke=Ct.targetLinks[Ve],Xe=ke.source.pointNumber+":"+ke.target.pointNumber,Wt.hasOwnProperty(Xe)||(Wt[Xe]=[]),Wt[Xe].push(ke);var Ie=Object.keys(Wt);for(Ve=0;Ve<Ie.length;Ve++){Xe=Ie[Ve];var Oe=Wt[Xe],_e=0,Ae={};for(We=0;We<Oe.length;We++)ke=Oe[We],Ae[ke.label]||(Ae[ke.label]=0),Ae[ke.label]+=ke.value,_e+=ke.value;for(We=0;We<Oe.length;We++)ke=Oe[We],ke.flow={value:_e,labelConcentration:Ae[ke.label]/_e,concentration:ke.value/_e,links:Oe},ke.concentrationscale&&(ke.color=m(ke.concentrationscale(ke.flow.labelConcentration)))}var ce=0;for(Ve=0;Ve<Ct.sourceLinks.length;Ve++)ce+=Ct.sourceLinks[Ve].value;for(Ve=0;Ve<Ct.sourceLinks.length;Ve++)ke=Ct.sourceLinks[Ve],ke.concentrationOut=ke.value/ce;var be=0;for(Ve=0;Ve<Ct.targetLinks.length;Ve++)be+=Ct.targetLinks[Ve].value;for(Ve=0;Ve<Ct.targetLinks.length;Ve++)ke=Ct.targetLinks[Ve],ke.concenrationIn=ke.value/be}}$e();function tt(Ct){Ct.forEach(function(Wt){var Xe,ke,Ie=0,Oe=Wt.length,_e;for(Wt.sort(function(Ae,ce){return Ae.y0-ce.y0}),_e=0;_e<Oe;++_e)Xe=Wt[_e],Xe.y0>=Ie||(ke=Ie-Xe.y0,ke>1e-6&&(Xe.y0+=ke,Xe.y1+=ke)),Ie=Xe.y1+se})}function vt(Ct){var Wt=Ct.map(function(ce,be){return{x0:ce.x0,index:be}}).sort(function(ce,be){return ce.x0-be.x0}),Xe=[],ke=-1,Ie,Oe=-1/0,_e;for(Le=0;Le<Wt.length;Le++){var Ae=Ct[Wt[Le].index];Ae.x0>Oe+pe&&(ke+=1,Ie=Ae.x0),Oe=Ae.x0,Xe[ke]||(Xe[ke]=[]),Xe[ke].push(Ae),_e=Ie-Ae.x0,Ae.x0+=_e,Ae.x1+=_e}return Xe}if(te.node.x.length&&te.node.y.length){for(Le=0;Le<Math.min(te.node.x.length,te.node.y.length,Te.nodes.length);Le++)if(te.node.x[Le]&&te.node.y[Le]){var dt=[te.node.x[Le]*we,te.node.y[Le]*Ee];Te.nodes[Le].x0=dt[0]-pe/2,Te.nodes[Le].x1=dt[0]+pe/2;var gt=Te.nodes[Le].y1-Te.nodes[Le].y0;Te.nodes[Le].y0=dt[1]-gt/2,Te.nodes[Le].y1=dt[1]+gt/2}if(te.arrangement==="snap"){Me=Te.nodes;var Mt=vt(Me);tt(Mt)}Ce.update(Te)}return{circular:Ne,key:ne,trace:te,guid:l.randstr(),horizontal:he,width:we,height:Ee,nodePad:te.node.pad,nodeLineColor:te.node.line.color,nodeLineWidth:te.node.line.width,linkLineColor:te.link.line.color,linkLineWidth:te.link.line.width,linkArrowLength:te.link.arrowlen,valueFormat:te.valueformat,valueSuffix:te.valuesuffix,textFont:te.textfont,translateX:q.x[0]*Q.width+Q.margin.l,translateY:Q.height-q.y[1]*Q.height+Q.margin.t,dragParallel:he?Ee:we,dragPerpendicular:he?we:Ee,arrangement:te.arrangement,sankey:Ce,graph:Te,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function T(Q,$,ne){var fe=m($.color),te=$.source.label+"|"+$.target.label,q=te+"__"+ne;return $.trace=Q.trace,$.curveNumber=Q.trace.index,{circular:Q.circular,key:q,traceId:Q.key,pointNumber:$.pointNumber,link:$,tinyColorHue:t.tinyRGB(fe),tinyColorAlpha:fe.getAlpha(),linkPath:A,linkLineColor:Q.linkLineColor,linkLineWidth:Q.linkLineWidth,linkArrowLength:Q.linkArrowLength,valueFormat:Q.valueFormat,valueSuffix:Q.valueSuffix,sankey:Q.sankey,parent:Q,interactionState:Q.interactionState,flow:$.flow}}function P(Q,$){var ne="",fe=Q.width/2,te=Q.circularPathData;return Q.circularLinkType==="top"?ne="M "+(te.targetX-$)+" "+(te.targetY+fe)+" L"+(te.rightInnerExtent-$)+" "+(te.targetY+fe)+"A"+(te.rightLargeArcRadius+fe)+" "+(te.rightSmallArcRadius+fe)+" 0 0 1 "+(te.rightFullExtent-fe-$)+" "+(te.targetY-te.rightSmallArcRadius)+"L"+(te.rightFullExtent-fe-$)+" "+te.verticalRightInnerExtent+"A"+(te.rightLargeArcRadius+fe)+" "+(te.rightLargeArcRadius+fe)+" 0 0 1 "+(te.rightInnerExtent-$)+" "+(te.verticalFullExtent-fe)+"L"+te.leftInnerExtent+" "+(te.verticalFullExtent-fe)+"A"+(te.leftLargeArcRadius+fe)+" "+(te.leftLargeArcRadius+fe)+" 0 0 1 "+(te.leftFullExtent+fe)+" "+te.verticalLeftInnerExtent+"L"+(te.leftFullExtent+fe)+" "+(te.sourceY-te.leftSmallArcRadius)+"A"+(te.leftLargeArcRadius+fe)+" "+(te.leftSmallArcRadius+fe)+" 0 0 1 "+te.leftInnerExtent+" "+(te.sourceY+fe)+"L"+te.sourceX+" "+(te.sourceY+fe)+"L"+te.sourceX+" "+(te.sourceY-fe)+"L"+te.leftInnerExtent+" "+(te.sourceY-fe)+"A"+(te.leftLargeArcRadius-fe)+" "+(te.leftSmallArcRadius-fe)+" 0 0 0 "+(te.leftFullExtent-fe)+" "+(te.sourceY-te.leftSmallArcRadius)+"L"+(te.leftFullExtent-fe)+" "+te.verticalLeftInnerExtent+"A"+(te.leftLargeArcRadius-fe)+" "+(te.leftLargeArcRadius-fe)+" 0 0 0 "+te.leftInnerExtent+" "+(te.verticalFullExtent+fe)+"L"+(te.rightInnerExtent-$)+" "+(te.verticalFullExtent+fe)+"A"+(te.rightLargeArcRadius-fe)+" "+(te.rightLargeArcRadius-fe)+" 0 0 0 "+(te.rightFullExtent+fe-$)+" "+te.verticalRightInnerExtent+"L"+(te.rightFullExtent+fe-$)+" "+(te.targetY-te.rightSmallArcRadius)+"A"+(te.rightLargeArcRadius-fe)+" "+(te.rightSmallArcRadius-fe)+" 0 0 0 "+(te.rightInnerExtent-$)+" "+(te.targetY-fe)+"L"+(te.targetX-$)+" "+(te.targetY-fe)+($>0?"L"+te.targetX+" "+te.targetY:"")+"Z":ne="M "+(te.targetX-$)+" "+(te.targetY-fe)+" L"+(te.rightInnerExtent-$)+" "+(te.targetY-fe)+"A"+(te.rightLargeArcRadius+fe)+" "+(te.rightSmallArcRadius+fe)+" 0 0 0 "+(te.rightFullExtent-fe-$)+" "+(te.targetY+te.rightSmallArcRadius)+"L"+(te.rightFullExtent-fe-$)+" "+te.verticalRightInnerExtent+"A"+(te.rightLargeArcRadius+fe)+" "+(te.rightLargeArcRadius+fe)+" 0 0 0 "+(te.rightInnerExtent-$)+" "+(te.verticalFullExtent+fe)+"L"+te.leftInnerExtent+" "+(te.verticalFullExtent+fe)+"A"+(te.leftLargeArcRadius+fe)+" "+(te.leftLargeArcRadius+fe)+" 0 0 0 "+(te.leftFullExtent+fe)+" "+te.verticalLeftInnerExtent+"L"+(te.leftFullExtent+fe)+" "+(te.sourceY+te.leftSmallArcRadius)+"A"+(te.leftLargeArcRadius+fe)+" "+(te.leftSmallArcRadius+fe)+" 0 0 0 "+te.leftInnerExtent+" "+(te.sourceY-fe)+"L"+te.sourceX+" "+(te.sourceY-fe)+"L"+te.sourceX+" "+(te.sourceY+fe)+"L"+te.leftInnerExtent+" "+(te.sourceY+fe)+"A"+(te.leftLargeArcRadius-fe)+" "+(te.leftSmallArcRadius-fe)+" 0 0 1 "+(te.leftFullExtent-fe)+" "+(te.sourceY+te.leftSmallArcRadius)+"L"+(te.leftFullExtent-fe)+" "+te.verticalLeftInnerExtent+"A"+(te.leftLargeArcRadius-fe)+" "+(te.leftLargeArcRadius-fe)+" 0 0 1 "+te.leftInnerExtent+" "+(te.verticalFullExtent-fe)+"L"+(te.rightInnerExtent-$)+" "+(te.verticalFullExtent-fe)+"A"+(te.rightLargeArcRadius-fe)+" "+(te.rightLargeArcRadius-fe)+" 0 0 1 "+(te.rightFullExtent+fe-$)+" "+te.verticalRightInnerExtent+"L"+(te.rightFullExtent+fe-$)+" "+(te.targetY+te.rightSmallArcRadius)+"A"+(te.rightLargeArcRadius-fe)+" "+(te.rightSmallArcRadius-fe)+" 0 0 1 "+(te.rightInnerExtent-$)+" "+(te.targetY+fe)+"L"+(te.targetX-$)+" "+(te.targetY+fe)+($>0?"L"+te.targetX+" "+te.targetY:"")+"Z",ne}function A(){var Q=.5;function $(ne){var fe=ne.linkArrowLength;if(ne.link.circular)return P(ne.link,fe);var te=Math.abs((ne.link.target.x0-ne.link.source.x1)/2);fe>te&&(fe=te);var q=ne.link.source.x1,he=ne.link.target.x0-fe,se=E(q,he),pe=se(Q),we=se(1-Q),Ee=ne.link.y0-ne.link.width/2,Me=ne.link.y0+ne.link.width/2,Be=ne.link.y1-ne.link.width/2,Ne=ne.link.y1+ne.link.width/2,Ce="M"+q+","+Ee,Te="C"+pe+","+Ee+" "+we+","+Be+" "+he+","+Be,Le="C"+we+","+Ne+" "+pe+","+Me+" "+q+","+Me,Ve=fe>0?"L"+(he+fe)+","+(Be+ne.link.width/2):"";return Ve+="L"+he+","+Ne,Ce+Te+Ve+Le+"Z"}return $}function a(Q,$){var ne=m($.color),fe=p.nodePadAcross,te=Q.nodePad/2;$.dx=$.x1-$.x0,$.dy=$.y1-$.y0;var q=$.dx,he=Math.max(.5,$.dy),se="node_"+$.pointNumber;return $.group&&(se=l.randstr()),$.trace=Q.trace,$.curveNumber=Q.trace.index,{index:$.pointNumber,key:se,partOfGroup:$.partOfGroup||!1,group:$.group,traceId:Q.key,trace:Q.trace,node:$,nodePad:Q.nodePad,nodeLineColor:Q.nodeLineColor,nodeLineWidth:Q.nodeLineWidth,textFont:Q.textFont,size:Q.horizontal?Q.height:Q.width,visibleWidth:Math.ceil(q),visibleHeight:he,zoneX:-fe,zoneY:-te,zoneWidth:q+2*fe,zoneHeight:he+2*te,labelY:Q.horizontal?$.dy/2+1:$.dx/2+1,left:$.originalLayer===1,sizeAcross:Q.width,forceLayouts:Q.forceLayouts,horizontal:Q.horizontal,darkBackground:ne.getBrightness()<=128,tinyColorHue:t.tinyRGB(ne),tinyColorAlpha:ne.getAlpha(),valueFormat:Q.valueFormat,valueSuffix:Q.valueSuffix,sankey:Q.sankey,graph:Q.graph,arrangement:Q.arrangement,uniqueNodeLabelPathId:[Q.guid,Q.key,se].join("_"),interactionState:Q.interactionState,figure:Q}}function R(Q){Q.attr("transform",function($){return i($.node.x0.toFixed(3),$.node.y0.toFixed(3))})}function b(Q){Q.call(R)}function N(Q,$){Q.call(b),$.attr("d",A())}function O(Q){Q.attr("width",function($){return $.node.x1-$.node.x0}).attr("height",function($){return $.visibleHeight})}function Y(Q){return Q.link.width>1||Q.linkLineWidth>0}function B(Q){var $=i(Q.translateX,Q.translateY);return $+(Q.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function W(Q,$,ne){Q.on(".basic",null).on("mouseover.basic",function(fe){!fe.interactionState.dragInProgress&&!fe.partOfGroup&&(ne.hover(this,fe,$),fe.interactionState.hovered=[this,fe])}).on("mousemove.basic",function(fe){!fe.interactionState.dragInProgress&&!fe.partOfGroup&&(ne.follow(this,fe),fe.interactionState.hovered=[this,fe])}).on("mouseout.basic",function(fe){!fe.interactionState.dragInProgress&&!fe.partOfGroup&&(ne.unhover(this,fe,$),fe.interactionState.hovered=!1)}).on("click.basic",function(fe){fe.interactionState.hovered&&(ne.unhover(this,fe,$),fe.interactionState.hovered=!1),!fe.interactionState.dragInProgress&&!fe.partOfGroup&&ne.select(this,fe,$)})}function H(Q,$,ne,fe){var te=n.behavior.drag().origin(function(q){return{x:q.node.x0+q.visibleWidth/2,y:q.node.y0+q.visibleHeight/2}}).on("dragstart",function(q){if(q.arrangement!=="fixed"&&(l.ensureSingle(fe._fullLayout._infolayer,"g","dragcover",function(se){fe._fullLayout._dragCover=se}),l.raiseToTop(this),q.interactionState.dragInProgress=q.node,ue(q.node),q.interactionState.hovered&&(ne.nodeEvents.unhover.apply(0,q.interactionState.hovered),q.interactionState.hovered=!1),q.arrangement==="snap")){var he=q.traceId+"|"+q.key;q.forceLayouts[he]?q.forceLayouts[he].alpha(1):U(Q,he,q),G(Q,$,q,he,fe)}}).on("drag",function(q){if(q.arrangement!=="fixed"){var he=n.event.x,se=n.event.y;q.arrangement==="snap"?(q.node.x0=he-q.visibleWidth/2,q.node.x1=he+q.visibleWidth/2,q.node.y0=se-q.visibleHeight/2,q.node.y1=se+q.visibleHeight/2):(q.arrangement==="freeform"&&(q.node.x0=he-q.visibleWidth/2,q.node.x1=he+q.visibleWidth/2),se=Math.max(0,Math.min(q.size-q.visibleHeight/2,se)),q.node.y0=se-q.visibleHeight/2,q.node.y1=se+q.visibleHeight/2),ue(q.node),q.arrangement!=="snap"&&(q.sankey.update(q.graph),N(Q.filter(de(q)),$))}}).on("dragend",function(q){if(q.arrangement!=="fixed"){q.interactionState.dragInProgress=!1;for(var he=0;he<q.node.childrenNodes.length;he++)q.node.childrenNodes[he].x=q.node.x,q.node.childrenNodes[he].y=q.node.y;q.arrangement!=="snap"&&re(q,fe)}});Q.on(".drag",null).call(te)}function U(Q,$,ne,fe){ee(ne.graph.nodes);var te=ne.graph.nodes.filter(function(q){return q.originalX===ne.node.originalX}).filter(function(q){return!q.partOfGroup});ne.forceLayouts[$]=h.forceSimulation(te).alphaDecay(0).force("collide",h.forceCollide().radius(function(q){return q.dy/2+ne.nodePad/2}).strength(1).iterations(p.forceIterations)).force("constrain",j(Q,$,te,ne)).stop()}function G(Q,$,ne,fe,te){window.requestAnimationFrame(function q(){var he;for(he=0;he<p.forceTicksPerFrame;he++)ne.forceLayouts[fe].tick();var se=ne.graph.nodes;if(X(se),ne.sankey.update(ne.graph),N(Q.filter(de(ne)),$),ne.forceLayouts[fe].alpha()>0)window.requestAnimationFrame(q);else{var pe=ne.node.originalX;ne.node.x0=pe-ne.visibleWidth/2,ne.node.x1=pe+ne.visibleWidth/2,re(ne,te)}})}function j(Q,$,ne,fe){return function(){for(var q=0,he=0;he<ne.length;he++){var se=ne[he];se===fe.interactionState.dragInProgress?(se.x=se.lastDraggedX,se.y=se.lastDraggedY):(se.vx=(se.originalX-se.x)/p.forceTicksPerFrame,se.y=Math.min(fe.size-se.dy/2,Math.max(se.dy/2,se.y))),q=Math.max(q,Math.abs(se.vx),Math.abs(se.vy))}!fe.interactionState.dragInProgress&&q<.1&&fe.forceLayouts[$].alpha()>0&&fe.forceLayouts[$].alpha(0)}}function re(Q,$){for(var ne=[],fe=[],te=0;te<Q.graph.nodes.length;te++){var q=(Q.graph.nodes[te].x0+Q.graph.nodes[te].x1)/2,he=(Q.graph.nodes[te].y0+Q.graph.nodes[te].y1)/2;ne.push(q/Q.figure.width),fe.push(he/Q.figure.height)}g.call("_guiRestyle",$,{"node.x":[ne],"node.y":[fe]},Q.trace.index).then(function(){$._fullLayout._dragCover&&$._fullLayout._dragCover.remove()})}function ae(Q){var $=[],ne;for(ne=0;ne<Q.length;ne++)Q[ne].originalX=(Q[ne].x0+Q[ne].x1)/2,Q[ne].originalY=(Q[ne].y0+Q[ne].y1)/2,$.indexOf(Q[ne].originalX)===-1&&$.push(Q[ne].originalX);for($.sort(function(fe,te){return fe-te}),ne=0;ne<Q.length;ne++)Q[ne].originalLayerIndex=$.indexOf(Q[ne].originalX),Q[ne].originalLayer=Q[ne].originalLayerIndex/($.length-1)}function ue(Q){Q.lastDraggedX=Q.x0+Q.dx/2,Q.lastDraggedY=Q.y0+Q.dy/2}function de(Q){return function($){return $.node.originalX===Q.node.originalX}}function ee(Q){for(var $=0;$<Q.length;$++)Q[$].y=(Q[$].y0+Q[$].y1)/2,Q[$].x=(Q[$].x0+Q[$].x1)/2}function X(Q){for(var $=0;$<Q.length;$++)Q[$].y0=Q[$].y-Q[$].dy/2,Q[$].y1=Q[$].y0+Q[$].dy,Q[$].x0=Q[$].x-Q[$].dx/2,Q[$].x1=Q[$].x0+Q[$].dx}k.exports=function(Q,$,ne,fe,te){var q=Q._context.staticPlot,he=!1;l.ensureSingle(Q._fullLayout._infolayer,"g","first-render",function(){he=!0});var se=Q._fullLayout._dragCover,pe=ne.filter(function(Le){return d(Le).trace.visible}).map(D.bind(null,fe)),we=$.selectAll("."+p.cn.sankey).data(pe,c);we.exit().remove(),we.enter().append("g").classed(p.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",q?"none":"auto").attr("transform",B),we.each(function(Le,Ve){Q._fullData[Ve]._sankey=Le;var We="bgsankey-"+Le.trace.uid+"-"+Ve;l.ensureSingle(Q._fullLayout._draggers,"rect",We),Q._fullData[Ve]._bgRect=n.select("."+We),Q._fullData[Ve]._bgRect.style("pointer-events",q?"none":"all").attr("width",Le.width).attr("height",Le.height).attr("x",Le.translateX).attr("y",Le.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),we.transition().ease(p.ease).duration(p.duration).attr("transform",B);var Ee=we.selectAll("."+p.cn.sankeyLinks).data(x,c);Ee.enter().append("g").classed(p.cn.sankeyLinks,!0).style("fill","none");var Me=Ee.selectAll("."+p.cn.sankeyLink).data(function(Le){var Ve=Le.graph.links;return Ve.filter(function(We){return We.value}).map(T.bind(null,Le))},c);Me.enter().append("path").classed(p.cn.sankeyLink,!0).call(W,we,te.linkEvents),Me.style("stroke",function(Le){return Y(Le)?t.tinyRGB(m(Le.linkLineColor)):Le.tinyColorHue}).style("stroke-opacity",function(Le){return Y(Le)?t.opacity(Le.linkLineColor):Le.tinyColorAlpha}).style("fill",function(Le){return Le.tinyColorHue}).style("fill-opacity",function(Le){return Le.tinyColorAlpha}).style("stroke-width",function(Le){return Y(Le)?Le.linkLineWidth:1}).attr("d",A()),Me.style("opacity",function(){return Q._context.staticPlot||he||se?1:0}).transition().ease(p.ease).duration(p.duration).style("opacity",1),Me.exit().transition().ease(p.ease).duration(p.duration).style("opacity",0).remove();var Be=we.selectAll("."+p.cn.sankeyNodeSet).data(x,c);Be.enter().append("g").classed(p.cn.sankeyNodeSet,!0),Be.style("cursor",function(Le){switch(Le.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ne=Be.selectAll("."+p.cn.sankeyNode).data(function(Le){var Ve=Le.graph.nodes;return ae(Ve),Ve.map(a.bind(null,Le))},c);Ne.enter().append("g").classed(p.cn.sankeyNode,!0).call(R).style("opacity",function(Le){return(Q._context.staticPlot||he)&&!Le.partOfGroup?1:0}),Ne.call(W,we,te.nodeEvents).call(H,Me,te,Q),Ne.transition().ease(p.ease).duration(p.duration).call(R).style("opacity",function(Le){return Le.partOfGroup?0:1}),Ne.exit().transition().ease(p.ease).duration(p.duration).style("opacity",0).remove();var Ce=Ne.selectAll("."+p.cn.nodeRect).data(x);Ce.enter().append("rect").classed(p.cn.nodeRect,!0).call(O),Ce.style("stroke-width",function(Le){return Le.nodeLineWidth}).style("stroke",function(Le){return t.tinyRGB(m(Le.nodeLineColor))}).style("stroke-opacity",function(Le){return t.opacity(Le.nodeLineColor)}).style("fill",function(Le){return Le.tinyColorHue}).style("fill-opacity",function(Le){return Le.tinyColorAlpha}),Ce.transition().ease(p.ease).duration(p.duration).call(O);var Te=Ne.selectAll("."+p.cn.nodeLabel).data(x);Te.enter().append("text").classed(p.cn.nodeLabel,!0).style("cursor","default"),Te.attr("data-notex",1).text(function(Le){return Le.node.label}).each(function(Le){var Ve=n.select(this);r.font(Ve,Le.textFont),M.convertToTspans(Ve,Q)}).style("text-shadow",M.makeTextShadow(Q._fullLayout.paper_bgcolor)).attr("text-anchor",function(Le){return Le.horizontal&&Le.left?"end":"start"}).attr("transform",function(Le){var Ve=n.select(this),We=M.lineCount(Ve),Fe=Le.textFont.size*((We-1)*C-y),Ge=Le.nodeLineWidth/2+S,it=((Le.horizontal?Le.visibleHeight:Le.visibleWidth)-Fe)/2;Le.horizontal&&(Le.left?Ge=-Ge:Ge+=Le.visibleWidth);var qe=Le.horizontal?"":"scale(-1,1)"+f(90);return i(Le.horizontal?Ge:it,Le.horizontal?it:Ge)+qe}),Te.transition().ease(p.ease).duration(p.duration)}},84564:function(k){k.exports=function(e,h){for(var E=e.cd,n=[],L=E[0].trace,w=L._sankey.graph.nodes,p=0;p<w.length;p++){var m=w[p];if(!m.partOfGroup){var t=[(m.x0+m.x1)/2,(m.y0+m.y1)/2];L.orientation==="v"&&t.reverse(),h&&h.contains(t,!1,p,e)&&n.push({pointNumber:m.pointNumber})}}return n}},75225:function(k,F,e){var h=e(71828);k.exports=function(n,L){for(var w=0;w<n.length;w++)n[w].i=w;h.mergeArray(L.text,n,"tx"),h.mergeArray(L.texttemplate,n,"txt"),h.mergeArray(L.hovertext,n,"htx"),h.mergeArray(L.customdata,n,"data"),h.mergeArray(L.textposition,n,"tp"),L.textfont&&(h.mergeArrayCastPositive(L.textfont.size,n,"ts"),h.mergeArray(L.textfont.color,n,"tc"),h.mergeArray(L.textfont.family,n,"tf"));var p=L.marker;if(p){h.mergeArrayCastPositive(p.size,n,"ms"),h.mergeArrayCastPositive(p.opacity,n,"mo"),h.mergeArray(p.symbol,n,"mx"),h.mergeArray(p.angle,n,"ma"),h.mergeArray(p.standoff,n,"mf"),h.mergeArray(p.color,n,"mc");var m=p.line;p.line&&(h.mergeArray(m.color,n,"mlc"),h.mergeArrayCastPositive(m.width,n,"mlw"));var t=p.gradient;t&&t.type!=="none"&&(h.mergeArray(t.type,n,"mgt"),h.mergeArray(t.color,n,"mgc"))}}},82196:function(k,F,e){var h=e(12663).axisHoverFormat,E=e(5386).si,n=e(5386).fF,L=e(50693),w=e(41940),p=e(79952).P,m=e(79952).u,t=e(91424),r=e(47581),l=e(1426).extendFlat;function i(c){return{valType:"any",dflt:0,editType:"calc"}}function f(c){return{valType:"any",editType:"calc"}}function v(c){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}k.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:i(),yperiod:i(),xperiod0:f(),yperiod0:f(),xperiodalignment:v(),yperiodalignment:v(),xhoverformat:h("x"),yhoverformat:h("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:E({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:l({},p,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:m,marker:l({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:l({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:w({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(k,F,e){var h=e(92770),E=e(71828),n=e(89298),L=e(42973),w=e(50606).BADNUM,p=e(34098),m=e(36922),t=e(75225),r=e(66279);function l(d,M){var g=d._fullLayout,u=M._xA=n.getFromId(d,M.xaxis||"x","x"),y=M._yA=n.getFromId(d,M.yaxis||"y","y"),C=u.makeCalcdata(M,"x"),S=y.makeCalcdata(M,"y"),D=L(M,u,"x",C),T=L(M,y,"y",S),P=D.vals,A=T.vals,a=M._length,R=new Array(a),b=M.ids,N=x(M,g,u,y),O=!1,Y,B,W,H,U,G;v(g,M);var j="x",re="y",ae;if(N)E.pushUnique(N.traceIndices,M._expandedIndex),Y=N.orientation==="v",Y?(re="s",ae="x"):(j="s",ae="y"),U=N.stackgaps==="interpolate";else{var ue=f(M,a);i(d,M,u,y,P,A,ue)}var de=!!M.xperiodalignment,ee=!!M.yperiodalignment;for(B=0;B<a;B++){var X=R[B]={},Q=h(P[B]),$=h(A[B]);Q&&$?(X[j]=P[B],X[re]=A[B],de&&(X.orig_x=C[B],X.xEnd=D.ends[B],X.xStart=D.starts[B]),ee&&(X.orig_y=S[B],X.yEnd=T.ends[B],X.yStart=T.starts[B])):N&&(Y?Q:$)?(X[ae]=Y?P[B]:A[B],X.gap=!0,U?(X.s=w,O=!0):X.s=0):X[j]=X[re]=w,b&&(X.id=String(b[B]))}if(t(R,M),m(d,M),r(R,M),N){for(B=0;B<R.length;)R[B][ae]===w?R.splice(B,1):B++;if(E.sort(R,function(q,he){return q[ae]-he[ae]||q.i-he.i}),O){for(B=0;B<R.length-1&&R[B].gap;)B++;for(G=R[B].s,G||(G=R[B].s=0),W=0;W<B;W++)R[W].s=G;for(H=R.length-1;H>B&&R[H].gap;)H--;for(G=R[H].s,W=R.length-1;W>H;W--)R[W].s=G;for(;B<H;)if(B++,R[B].gap){for(W=B+1;R[W].gap;)W++;for(var ne=R[B-1][ae],fe=R[B-1].s,te=(R[W].s-fe)/(R[W][ae]-ne);B<W;)R[B].s=fe+(R[B][ae]-ne)*te,B++}}}return R}function i(d,M,g,u,y,C,S){var D=M._length,T=d._fullLayout,P=g._id,A=u._id,a=T._firstScatter[c(M)]===M.uid,R=(x(M,T,g,u)||{}).orientation,b=M.fill;g._minDtick=0,u._minDtick=0;var N={padded:!0},O={padded:!0};S&&(N.ppad=O.ppad=S);var Y=D<2||y[0]!==y[D-1]||C[0]!==C[D-1];Y&&(b==="tozerox"||b==="tonextx"&&(a||R==="h"))?N.tozero=!0:!(M.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!p.hasMarkers(M)&&!p.hasText(M))&&(N.padded=!1,N.ppad=0),Y&&(b==="tozeroy"||b==="tonexty"&&(a||R==="v"))?O.tozero=!0:(b==="tonextx"||b==="tozerox")&&(O.padded=!1),P&&(M._extremes[P]=n.findExtremes(g,y,N)),A&&(M._extremes[A]=n.findExtremes(u,C,O))}function f(d,M){if(p.hasMarkers(d)){var g=d.marker,u=1.6*(d.marker.sizeref||1),y;if(d.marker.sizemode==="area"?y=function(P){return Math.max(Math.sqrt((P||0)/u),3)}:y=function(P){return Math.max((P||0)/u,3)},E.isArrayOrTypedArray(g.size)){var C={type:"linear"};n.setConvert(C);for(var S=C.makeCalcdata(d.marker,"size"),D=new Array(M),T=0;T<M;T++)D[T]=y(S[T]);return D}else return y(g.size)}}function v(d,M){var g=c(M),u=d._firstScatter;u[g]||(u[g]=M.uid)}function c(d){var M=d.stackgroup;return d.xaxis+d.yaxis+d.type+(M?"-"+M:"")}function x(d,M,g,u){var y=d.stackgroup;if(y){var C=M._scatterStackOpts[g._id+u._id][y],S=C.orientation==="v"?u:g;if(S.type==="linear"||S.type==="log")return C}}k.exports={calc:l,calcMarkerSize:f,calcAxisExpansion:i,setFirstScatter:v,getStackOpts:x}},66279:function(k,F,e){var h=e(71828);k.exports=function(n,L){h.isArrayOrTypedArray(L.selectedpoints)&&h.tagSelected(n,L)}},36922:function(k,F,e){var h=e(52075).hasColorscale,E=e(78803),n=e(34098);k.exports=function(w,p){n.hasLines(p)&&h(p,"line")&&E(w,p,{vals:p.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(p)&&(h(p,"marker")&&E(w,p,{vals:p.marker.color,containerStr:"marker",cLetter:"c"}),h(p,"marker.line")&&E(w,p,{vals:p.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(k){k.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(k,F,e){var h=e(47761),E=e(11661).setGroupPositions;function n(p,m){for(var t=m.xaxis,r=m.yaxis,l=p._fullLayout,i=p._fullData,f=p.calcdata,v=[],c=[],x=0;x<i.length;x++){var d=i[x];d.visible===!0&&d.type==="scatter"&&d.xaxis===t._id&&d.yaxis===r._id&&(d.orientation==="h"?v.push(f[x]):d.orientation==="v"&&c.push(f[x]))}var M={mode:l.scattermode,gap:l.scattergap};E(p,t,r,c,M),E(p,r,t,v,M)}k.exports=function(m,t){m._fullLayout.scattermode==="group"&&n(m,t);var r=t.xaxis,l=t.yaxis,i=r._id+l._id,f=m._fullLayout._scatterStackOpts[i];if(f){var v=m.calcdata,c,x,d,M,g,u,y,C,S,D,T,P,A,a,R;for(var b in f){D=f[b];var N=D.traceIndices;if(N.length){for(T=D.stackgaps==="interpolate",P=D.groupnorm,D.orientation==="v"?(A="x",a="y"):(A="y",a="x"),R=new Array(N.length),c=0;c<R.length;c++)R[c]=!1;u=v[N[0]];var O=new Array(u.length);for(c=0;c<u.length;c++)O[c]=u[c][A];for(c=1;c<N.length;c++){for(g=v[N[c]],x=d=0;x<g.length;x++){for(y=g[x][A];y>O[d]&&d<O.length;d++)L(g,x,O[d],c,R,T,A),x++;if(y!==O[d]){for(M=0;M<c;M++)L(v[N[M]],d,y,M,R,T,A);O.splice(d,0,y)}d++}for(;d<O.length;d++)L(g,x,O[d],c,R,T,A),x++}var Y=O.length;for(x=0;x<u.length;x++){for(C=u[x][a]=u[x].s,c=1;c<N.length;c++)g=v[N[c]],g[0].trace._rawLength=g[0].trace._length,g[0].trace._length=Y,C+=g[x].s,g[x][a]=C;if(P)for(S=(P==="fraction"?C:C/100)||1,c=0;c<N.length;c++){var B=v[N[c]][x];B[a]/=S,B.sNorm=B.s/S}}for(c=0;c<N.length;c++){g=v[N[c]];var W=g[0].trace,H=h.calcMarkerSize(W,W._rawLength),U=Array.isArray(H);if(H&&R[c]||U){var G=H;for(H=new Array(Y),x=0;x<Y;x++)H[x]=g[x].gap?0:U?G[g[x].i]:G}var j=new Array(Y),re=new Array(Y);for(x=0;x<Y;x++)j[x]=g[x].x,re[x]=g[x].y;h.calcAxisExpansion(m,W,r,l,j,re,H),g[0].t.orientation=D.orientation}}}}};function L(p,m,t,r,l,i,f){l[r]=!0;var v={i:null,gap:!0,s:0};if(v[f]=t,p.splice(m,0,v),m&&t===p[m-1][f]){var c=p[m-1];v.s=c.s,v.i=c.i,v.gap=c.gap}else i&&(v.s=w(p,m,t,f));m||(p[0].t=p[1].t,p[0].trace=p[1].trace,delete p[1].t,delete p[1].trace)}function w(p,m,t,r){var l=p[m-1],i=p[m+1];return i?l?l.s+(i.s-l.s)*(t-l[r])/(i[r]-l[r]):i.s:l.s}},34936:function(k,F,e){var h=e(71828),E=e(26125),n=e(82196);k.exports=function(w,p){var m,t,r;function l(x){return h.coerce(t._input,t,n,x)}if(p.scattermode==="group")for(r=0;r<w.length;r++)t=w[r],t.type==="scatter"&&(m=t._input,E(m,t,p,l));for(r=0;r<w.length;r++){var i=w[r];if(i.type==="scatter"){var f=i.fill;if(!(f==="none"||f==="toself")&&(i.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var v=r-1;v>=0;v--){var c=w[v];if(c.type==="scatter"&&c.xaxis===i.xaxis&&c.yaxis===i.yaxis){c.opacity=void 0;break}}}}}},17438:function(k,F,e){var h=e(71828),E=e(73972),n=e(82196),L=e(47581),w=e(34098),p=e(67513),m=e(73927),t=e(565),r=e(49508),l=e(11058),i=e(94039),f=e(82410),v=e(28908),c=e(71828).coercePattern;k.exports=function(d,M,g,u){function y(R,b){return h.coerce(d,M,n,R,b)}var C=p(d,M,u,y);if(C||(M.visible=!1),!!M.visible){m(d,M,u,y),y("xhoverformat"),y("yhoverformat");var S=t(d,M,u,y);u.scattermode==="group"&&M.orientation===void 0&&y("orientation","v");var D=!S&&C<L.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("mode",D),w.hasLines(M)&&(l(d,M,g,u,y,{backoff:!0}),i(d,M,y),y("connectgaps"),y("line.simplify")),w.hasMarkers(M)&&r(d,M,g,u,y,{gradient:!0}),w.hasText(M)&&(y("texttemplate"),f(d,M,u,y));var T=[];(w.hasMarkers(M)||w.hasText(M))&&(y("cliponaxis"),y("marker.maxdisplayed"),T.push("points")),y("fill",S?S.fillDflt:"none"),M.fill!=="none"&&(v(d,M,g,y),w.hasLines(M)||i(d,M,y),c(y,"fillpattern",M.fillcolor,!1));var P=(M.line||{}).color,A=(M.marker||{}).color;(M.fill==="tonext"||M.fill==="toself")&&T.push("fills"),y("hoveron",T.join("+")||"points"),M.hoveron!=="fills"&&y("hovertemplate");var a=E.getComponentMethod("errorbars","supplyDefaults");a(d,M,P||A||g,{axis:"y"}),a(d,M,P||A||g,{axis:"x",inherit:"y"}),h.coerceSelectionMarkerOpacity(M,y)}}},28908:function(k,F,e){var h=e(7901),E=e(71828).isArrayOrTypedArray;k.exports=function(L,w,p,m){var t=!1;if(w.marker){var r=w.marker.color,l=(w.marker.line||{}).color;r&&!E(r)?t=r:l&&!E(l)&&(t=l)}m("fillcolor",h.addOpacity((w.line||{}).color||t||p,.5))}},8225:function(k,F,e){var h=e(89298);k.exports=function(n,L,w){var p={},m={_fullLayout:w},t=h.getFromTrace(m,L,"x"),r=h.getFromTrace(m,L,"y"),l=n.orig_x;l===void 0&&(l=n.x);var i=n.orig_y;return i===void 0&&(i=n.y),p.xLabel=h.tickText(t,t.c2l(l),!0).text,p.yLabel=h.tickText(r,r.c2l(i),!0).text,p}},34603:function(k,F,e){var h=e(7901),E=e(34098);k.exports=function(L,w){var p,m;if(L.mode==="lines")return p=L.line.color,p&&h.opacity(p)?p:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var t=w.mcc||(L.marker||{}).color,r=w.mlcc||((L.marker||{}).line||{}).color;return m=t&&h.opacity(t)?t:r&&h.opacity(r)&&(w.mlw||((L.marker||{}).line||{}).width)?r:"",m?h.opacity(m)<.3?h.addOpacity(m,.3):m:(p=(L.line||{}).color,p&&h.opacity(p)&&E.hasLines(L)&&L.line.width?p:L.fillcolor)}},26125:function(k,F,e){var h=e(99082).getAxisGroup;k.exports=function(n,L,w,p){var m=L.orientation,t=L[{v:"x",h:"y"}[m]+"axis"],r=h(w,t)+m,l=w._alignmentOpts||{},i=p("alignmentgroup"),f=l[r];f||(f=l[r]={});var v=f[i];v?v.traces.push(L):v=f[i]={traces:[L],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var c=p("offsetgroup"),x=v.offsetGroups,d=x[c];c&&(d||(d=x[c]={offsetIndex:Object.keys(x).length}),L._offsetIndex=d.offsetIndex)}},33720:function(k,F,e){var h=e(71828),E=e(30211),n=e(73972),L=e(34603),w=e(7901),p=h.fillText;k.exports=function(t,r,l,i){var f=t.cd,v=f[0].trace,c=t.xa,x=t.ya,d=c.c2p(r),M=x.c2p(l),g=[d,M],u=v.hoveron||"",y=v.mode.indexOf("markers")!==-1?3:.5,C=!!v.xperiodalignment,S=!!v.yperiodalignment;if(u.indexOf("points")!==-1){var D=function(pe){if(C){var we=c.c2p(pe.xStart),Ee=c.c2p(pe.xEnd);return d>=Math.min(we,Ee)&&d<=Math.max(we,Ee)?0:1/0}var Me=Math.max(3,pe.mrc||0),Be=1-1/Me,Ne=Math.abs(c.c2p(pe.x)-d);return Ne<Me?Be*Ne/Me:Ne-Me+Be},T=function(pe){if(S){var we=x.c2p(pe.yStart),Ee=x.c2p(pe.yEnd);return M>=Math.min(we,Ee)&&M<=Math.max(we,Ee)?0:1/0}var Me=Math.max(3,pe.mrc||0),Be=1-1/Me,Ne=Math.abs(x.c2p(pe.y)-M);return Ne<Me?Be*Ne/Me:Ne-Me+Be},P=function(pe){var we=Math.max(y,pe.mrc||0),Ee=c.c2p(pe.x)-d,Me=x.c2p(pe.y)-M;return Math.max(Math.sqrt(Ee*Ee+Me*Me)-we,1-y/we)},A=E.getDistanceFunction(i,D,T,P);if(E.getClosest(f,A,t),t.index!==!1){var a=f[t.index],R=c.c2p(a.x,!0),b=x.c2p(a.y,!0),N=a.mrc||1;t.index=a.i;var O=f[0].t.orientation,Y=O&&(a.sNorm||a.s),B=O==="h"?Y:a.orig_x!==void 0?a.orig_x:a.x,W=O==="v"?Y:a.orig_y!==void 0?a.orig_y:a.y;return h.extendFlat(t,{color:L(v,a),x0:R-N,x1:R+N,xLabelVal:B,y0:b-N,y1:b+N,yLabelVal:W,spikeDistance:P(a),hovertemplate:v.hovertemplate}),p(a,v,t),n.getComponentMethod("errorbars","hoverInfo")(a,v,t),[t]}}if(u.indexOf("fills")!==-1&&v._polygons){var H=v._polygons,U=[],G=!1,j=1/0,re=-1/0,ae=1/0,ue=-1/0,de,ee,X,Q,$,ne,fe,te,q;for(de=0;de<H.length;de++)X=H[de],X.contains(g)&&(G=!G,U.push(X),ae=Math.min(ae,X.ymin),ue=Math.max(ue,X.ymax));if(G){ae=Math.max(ae,0),ue=Math.min(ue,x._length);var he=(ae+ue)/2;for(de=0;de<U.length;de++)for(Q=U[de].pts,ee=1;ee<Q.length;ee++)te=Q[ee-1][1],q=Q[ee][1],te>he!=q>=he&&(ne=Q[ee-1][0],fe=Q[ee][0],q-te&&($=ne+(fe-ne)*(he-te)/(q-te),j=Math.min(j,$),re=Math.max(re,$)));j=Math.max(j,0),re=Math.min(re,c._length);var se=w.defaultLine;return w.opacity(v.fillcolor)?se=v.fillcolor:w.opacity((v.line||{}).color)&&(se=v.line.color),h.extendFlat(t,{distance:t.maxHoverDistance,x0:j,x1:re,y0:he,y1:he,color:se,hovertemplate:!1}),delete t.index,v.text&&!Array.isArray(v.text)?t.text=String(v.text):t.text=v.name,[t]}}}},67368:function(k,F,e){var h=e(34098);k.exports={hasLines:h.hasLines,hasMarkers:h.hasMarkers,hasText:h.hasText,isBubble:h.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(k){k.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(k,F,e){var h=e(71828),E=e(21479);k.exports=function(n,L){function w(m,t){return h.coerce(n,L,E,m,t)}var p=L.barmode==="group";L.scattermode==="group"&&w("scattergap",p?L.bargap:.2)}},11058:function(k,F,e){var h=e(71828).isArrayOrTypedArray,E=e(52075).hasColorscale,n=e(1586);k.exports=function(w,p,m,t,r,l){l||(l={});var i=(w.marker||{}).color;if(r("line.color",m),E(w,"line"))n(w,p,t,r,{prefix:"line.",cLetter:"c"});else{var f=(h(i)?!1:i)||m;r("line.color",f)}r("line.width"),l.noDash||r("line.dash"),l.backoff&&r("line.backoff")}},34621:function(k,F,e){var h=e(91424),E=e(50606),n=E.BADNUM,L=E.LOG_CLIP,w=L+.5,p=L-.5,m=e(71828),t=m.segmentsIntersect,r=m.constrain,l=e(47581);k.exports=function(f,v){var c=v.trace||{},x=v.xaxis,d=v.yaxis,M=x.type==="log",g=d.type==="log",u=x._length,y=d._length,C=v.backoff,S=c.marker,D=v.connectGaps,T=v.baseTolerance,P=v.shape,A=P==="linear",a=c.fill&&c.fill!=="none",R=[],b=l.minTolerance,N=f.length,O=new Array(N),Y=0,B,W,H,U,G,j,re,ae,ue,de,ee,X,Q,$,ne,fe;function te(wt){var _t=f[wt];if(!_t)return!1;var Ut=v.linearized?x.l2p(_t.x):x.c2p(_t.x),Vt=v.linearized?d.l2p(_t.y):d.c2p(_t.y);if(Ut===n){if(M&&(Ut=x.c2p(_t.x,!0)),Ut===n)return!1;g&&Vt===n&&(Ut*=Math.abs(x._m*y*(x._m>0?w:p)/(d._m*u*(d._m>0?w:p)))),Ut*=1e3}if(Vt===n){if(g&&(Vt=d.c2p(_t.y,!0)),Vt===n)return!1;Vt*=1e3}return[Ut,Vt]}function q(wt,_t,Ut,Vt){var Lt=Ut-wt,Kt=Vt-_t,ar=.5-wt,Fr=.5-_t,yt=Lt*Lt+Kt*Kt,Xt=Lt*ar+Kt*Fr;if(Xt>0&&Xt<yt){var Yt=ar*Kt-Fr*Lt;if(Yt*Yt<yt)return!0}}var he,se;function pe(wt,_t){var Ut=wt[0]/u,Vt=wt[1]/y,Lt=Math.max(0,-Ut,Ut-1,-Vt,Vt-1);return Lt&&he!==void 0&&q(Ut,Vt,he,se)&&(Lt=0),Lt&&_t&&q(Ut,Vt,_t[0]/u,_t[1]/y)&&(Lt=0),(1+l.toleranceGrowth*Lt)*T}function we(wt,_t){var Ut=wt[0]-_t[0],Vt=wt[1]-_t[1];return Math.sqrt(Ut*Ut+Vt*Vt)}var Ee=l.maxScreensAway,Me=-u*Ee,Be=u*(1+Ee),Ne=-y*Ee,Ce=y*(1+Ee),Te=[[Me,Ne,Be,Ne],[Be,Ne,Be,Ce],[Be,Ce,Me,Ce],[Me,Ce,Me,Ne]],Le,Ve,We,Fe,Ge,it;function qe(wt,_t){for(var Ut=[],Vt=0,Lt=0;Lt<4;Lt++){var Kt=Te[Lt],ar=t(wt[0],wt[1],_t[0],_t[1],Kt[0],Kt[1],Kt[2],Kt[3]);ar&&(!Vt||Math.abs(ar.x-Ut[0][0])>1||Math.abs(ar.y-Ut[0][1])>1)&&(ar=[ar.x,ar.y],Vt&&we(ar,wt)<we(Ut[0],wt)?Ut.unshift(ar):Ut.push(ar),Vt++)}return Ut}function $e(wt){if(wt[0]<Me||wt[0]>Be||wt[1]<Ne||wt[1]>Ce)return[r(wt[0],Me,Be),r(wt[1],Ne,Ce)]}function tt(wt,_t){if(wt[0]===_t[0]&&(wt[0]===Me||wt[0]===Be)||wt[1]===_t[1]&&(wt[1]===Ne||wt[1]===Ce))return!0}function vt(wt,_t){var Ut=[],Vt=$e(wt),Lt=$e(_t);return Vt&&Lt&&tt(Vt,Lt)||(Vt&&Ut.push(Vt),Lt&&Ut.push(Lt)),Ut}function dt(wt,_t,Ut){return function(Vt,Lt){var Kt=$e(Vt),ar=$e(Lt),Fr=[];if(Kt&&ar&&tt(Kt,ar))return Fr;Kt&&Fr.push(Kt),ar&&Fr.push(ar);var yt=2*m.constrain((Vt[wt]+Lt[wt])/2,_t,Ut)-((Kt||Vt)[wt]+(ar||Lt)[wt]);if(yt){var Xt;Kt&&ar?Xt=yt>0==Kt[wt]>ar[wt]?Kt:ar:Xt=Kt||ar,Xt[wt]+=yt}return Fr}}var gt;P==="linear"||P==="spline"?gt=qe:P==="hv"||P==="vh"?gt=vt:P==="hvh"?gt=dt(0,Me,Be):P==="vhv"&&(gt=dt(1,Ne,Ce));function Mt(wt,_t){var Ut=_t[0]-wt[0],Vt=(_t[1]-wt[1])/Ut,Lt=(wt[1]*_t[0]-_t[1]*wt[0])/Ut;return Lt>0?[Vt>0?Me:Be,Ce]:[Vt>0?Be:Me,Ne]}function Ct(wt){var _t=wt[0],Ut=wt[1],Vt=_t===O[Y-1][0],Lt=Ut===O[Y-1][1];if(!(Vt&&Lt))if(Y>1){var Kt=_t===O[Y-2][0],ar=Ut===O[Y-2][1];Vt&&(_t===Me||_t===Be)&&Kt?ar?Y--:O[Y-1]=wt:Lt&&(Ut===Ne||Ut===Ce)&&ar?Kt?Y--:O[Y-1]=wt:O[Y++]=wt}else O[Y++]=wt}function Wt(wt){O[Y-1][0]!==wt[0]&&O[Y-1][1]!==wt[1]&&Ct([We,Fe]),Ct(wt),Ge=null,We=Fe=0}var Xe=m.isArrayOrTypedArray(S);function ke(wt){if(wt&&C&&(wt.i=B,wt.d=f,wt.trace=c,wt.marker=Xe?S[wt.i]:S,wt.backoff=C),he=wt[0]/u,se=wt[1]/y,Le=wt[0]<Me?Me:wt[0]>Be?Be:0,Ve=wt[1]<Ne?Ne:wt[1]>Ce?Ce:0,Le||Ve){if(!Y)O[Y++]=[Le||wt[0],Ve||wt[1]];else if(Ge){var _t=gt(Ge,wt);_t.length>1&&(Wt(_t[0]),O[Y++]=_t[1])}else it=gt(O[Y-1],wt)[0],O[Y++]=it;var Ut=O[Y-1];Le&&Ve&&(Ut[0]!==Le||Ut[1]!==Ve)?(Ge&&(We!==Le&&Fe!==Ve?Ct(We&&Fe?Mt(Ge,wt):[We||Le,Fe||Ve]):We&&Fe&&Ct([We,Fe])),Ct([Le,Ve])):We-Le&&Fe-Ve&&Ct([Le||We,Ve||Fe]),Ge=wt,We=Le,Fe=Ve}else Ge&&Wt(gt(Ge,wt)[0]),O[Y++]=wt}for(B=0;B<N;B++)if(W=te(B),!!W){for(Y=0,Ge=null,ke(W),B++;B<N;B++){if(U=te(B),!U){if(D)continue;break}if(!A||!v.simplify){ke(U);continue}var Ie=te(B+1);if(de=we(U,W),!(!(a&&(Y===0||Y===N-1))&&de<pe(U,Ie)*b)){for(ae=[(U[0]-W[0])/de,(U[1]-W[1])/de],G=W,ee=de,X=$=ne=0,re=!1,H=U,B++;B<f.length;B++){if(j=Ie,Ie=te(B+1),!j){if(D)continue;break}if(ue=[j[0]-W[0],j[1]-W[1]],fe=ue[0]*ae[1]-ue[1]*ae[0],$=Math.min($,fe),ne=Math.max(ne,fe),ne-$>pe(j,Ie))break;H=j,Q=ue[0]*ae[0]+ue[1]*ae[1],Q>ee?(ee=Q,U=j,re=!1):Q<X&&(X=Q,G=j,re=!0)}if(re?(ke(U),H!==G&&ke(G)):(G!==W&&ke(G),H!==U&&ke(U)),ke(H),B>=f.length||!j)break;ke(j),W=j}}Ge&&Ct([We||Ge[0],Fe||Ge[1]]),R.push(O.slice(0,Y))}var Oe=P.slice(P.length-1);if(C&&Oe!=="h"&&Oe!=="v"){for(var _e=!1,Ae=-1,ce=[],be=0;be<R.length;be++)for(var Re=0;Re<R[be].length-1;Re++){var Ue=R[be][Re],nt=R[be][Re+1],ot=h.applyBackoff(nt,Ue);(ot[0]!==nt[0]||ot[1]!==nt[1])&&(_e=!0),ce[Ae+1]||(Ae++,ce[Ae]=[Ue,[ot[0],ot[1]]])}return _e?ce:R}return R}},94039:function(k){k.exports=function(e,h,E){var n=E("line.shape");n==="spline"&&E("line.smoothing")}},68687:function(k){var F={tonextx:1,tonexty:1,tonext:1};k.exports=function(h,E,n){var L,w,p,m,t,r={},l=!1,i=-1,f=0,v=-1;for(w=0;w<n.length;w++)L=n[w][0].trace,p=L.stackgroup||"",p?p in r?t=r[p]:(t=r[p]=f,f++):L.fill in F&&v>=0?t=v:(t=v=f,f++),t<i&&(l=!0),L._groupIndex=i=t;var c=n.slice();l&&c.sort(function(d,M){var g=d[0].trace,u=M[0].trace;return g._groupIndex-u._groupIndex||g.index-u.index});var x={};for(w=0;w<c.length;w++)L=c[w][0].trace,p=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in F&&(m=x[p],L._prevtrace=m||null,m&&(m._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),x[p]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return c}},39984:function(k,F,e){var h=e(92770);k.exports=function(n,L){L||(L=2);var w=n.marker,p=w.sizeref||1,m=w.sizemin||0,t=w.sizemode==="area"?function(r){return Math.sqrt(r/p)}:function(r){return r/p};return function(r){var l=t(r/L);return h(l)&&l>0?Math.max(l,m):0}}},4898:function(k){k.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(k,F,e){var h=e(7901),E=e(52075).hasColorscale,n=e(1586),L=e(34098);k.exports=function(p,m,t,r,l,i){var f=L.isBubble(p),v=(p.line||{}).color,c;if(i=i||{},v&&(t=v),l("marker.symbol"),l("marker.opacity",f?.7:1),l("marker.size"),i.noAngle||(l("marker.angle"),i.noAngleRef||l("marker.angleref"),i.noStandOff||l("marker.standoff")),l("marker.color",t),E(p,"marker")&&n(p,m,r,l,{prefix:"marker.",cLetter:"c"}),i.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),i.noLine||(v&&!Array.isArray(v)&&m.marker.color!==v?c=v:f?c=h.background:c=h.defaultLine,l("marker.line.color",c),E(p,"marker.line")&&n(p,m,r,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",f?1:0)),f&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),i.gradient){var x=l("marker.gradient.type");x!=="none"&&l("marker.gradient.color")}}},73927:function(k,F,e){var h=e(71828).dateTick0,E=e(50606),n=E.ONEWEEK;function L(w,p){return w%n===0?h(p,1):h(p,0)}k.exports=function(p,m,t,r,l){if(l||(l={x:!0,y:!0}),l.x){var i=r("xperiod");i&&(r("xperiod0",L(i,m.xcalendar)),r("xperiodalignment"))}if(l.y){var f=r("yperiod");f&&(r("yperiod0",L(f,m.ycalendar)),r("yperiodalignment"))}}},32663:function(k,F,e){var h=e(39898),E=e(73972),n=e(71828),L=n.ensureSingle,w=n.identity,p=e(91424),m=e(34098),t=e(34621),r=e(68687),l=e(61082).tester;k.exports=function(x,d,M,g,u,y){var C,S,D=!u,T=!!u&&u.duration>0,P=r(x,d,M);if(C=g.selectAll("g.trace").data(P,function(a){return a[0].trace.uid}),C.enter().append("g").attr("class",function(a){return"trace scatter trace"+a[0].trace.uid}).style("stroke-miterlimit",2),C.order(),i(x,C,d),T){y&&(S=y());var A=h.transition().duration(u.duration).ease(u.easing).each("end",function(){S&&S()}).each("interrupt",function(){S&&S()});A.each(function(){g.selectAll("g.trace").each(function(a,R){f(x,R,d,a,P,this,u)})})}else C.each(function(a,R){f(x,R,d,a,P,this,u)});D&&C.exit().remove(),g.selectAll("path:not([d])").remove()};function i(c,x,d){x.each(function(M){var g=L(h.select(this),"g","fills");p.setClipUrl(g,d.layerClipId,c);var u=M[0].trace,y=[];u._ownfill&&y.push("_ownFill"),u._nexttrace&&y.push("_nextFill");var C=g.selectAll("g").data(y,w);C.enter().append("g"),C.exit().each(function(S){u[S]=null}).remove(),C.order().each(function(S){u[S]=L(h.select(this),"path","js-fill")})})}function f(c,x,d,M,g,u,y){var C=c._context.staticPlot,S;v(c,x,d,M,g);var D=!!y&&y.duration>0;function T(Fe){return D?Fe.transition():Fe}var P=d.xaxis,A=d.yaxis,a=M[0].trace,R=a.line,b=h.select(u),N=L(b,"g","errorbars"),O=L(b,"g","lines"),Y=L(b,"g","points"),B=L(b,"g","text");if(E.getComponentMethod("errorbars","plot")(c,N,d,y),a.visible!==!0)return;T(b).style("opacity",a.opacity);var W,H,U=a.fill.charAt(a.fill.length-1);U!=="x"&&U!=="y"&&(U=""),M[0][d.isRangePlot?"nodeRangePlot3":"node3"]=b;var G="",j=[],re=a._prevtrace;re&&(G=re._prevRevpath||"",H=re._nextFill,j=re._polygons);var ae,ue,de="",ee="",X,Q,$,ne,fe,te,q,he=[],se=n.noop;if(W=a._ownFill,m.hasLines(a)||a.fill!=="none"){for(H&&H.datum(M),["hv","vh","hvh","vhv"].indexOf(R.shape)!==-1?(X=p.steps(R.shape),Q=p.steps(R.shape.split("").reverse().join(""))):R.shape==="spline"?X=Q=function(Fe){var Ge=Fe[Fe.length-1];return Fe.length>1&&Fe[0][0]===Ge[0]&&Fe[0][1]===Ge[1]?p.smoothclosed(Fe.slice(1),R.smoothing):p.smoothopen(Fe,R.smoothing)}:X=Q=function(Fe){return"M"+Fe.join("L")},$=function(Fe){return Q(Fe.reverse())},he=t(M,{xaxis:P,yaxis:A,trace:a,connectGaps:a.connectgaps,baseTolerance:Math.max(R.width||1,3)/4,shape:R.shape,backoff:R.backoff,simplify:R.simplify,fill:a.fill}),q=a._polygons=new Array(he.length),S=0;S<he.length;S++)a._polygons[S]=l(he[S]);he.length&&(ne=he[0][0],fe=he[he.length-1],te=fe[fe.length-1]),se=function(Fe){return function(Ge){if(ae=X(Ge),ue=$(Ge),de?U?(de+="L"+ae.substr(1),ee=ue+("L"+ee.substr(1))):(de+="Z"+ae,ee=ue+"Z"+ee):(de=ae,ee=ue),m.hasLines(a)){var it=h.select(this);if(it.datum(M),Fe)T(it.style("opacity",0).attr("d",ae).call(p.lineGroupStyle)).style("opacity",1);else{var qe=T(it);qe.attr("d",ae),p.singleLineStyle(M,qe)}}}}}var pe=O.selectAll(".js-line").data(he);T(pe.exit()).style("opacity",0).remove(),pe.each(se(!1)),pe.enter().append("path").classed("js-line",!0).style("vector-effect",C?"none":"non-scaling-stroke").call(p.lineGroupStyle).each(se(!0)),p.setClipUrl(pe,d.layerClipId,c);function we(Fe){T(Fe).attr("d","M0,0Z")}he.length?(W?(W.datum(M),ne&&te&&(U?(U==="y"?ne[1]=te[1]=A.c2p(0,!0):U==="x"&&(ne[0]=te[0]=P.c2p(0,!0)),T(W).attr("d","M"+te+"L"+ne+"L"+de.substr(1)).call(p.singleFillStyle,c)):T(W).attr("d",de+"Z").call(p.singleFillStyle,c))):H&&(a.fill.substr(0,6)==="tonext"&&de&&G?(a.fill==="tonext"?T(H).attr("d",de+"Z"+G+"Z").call(p.singleFillStyle,c):T(H).attr("d",de+"L"+G.substr(1)+"Z").call(p.singleFillStyle,c),a._polygons=a._polygons.concat(j)):(we(H),a._polygons=null)),a._prevRevpath=ee,a._prevPolygons=q):(W?we(W):H&&we(H),a._polygons=a._prevRevpath=a._prevPolygons=null);function Ee(Fe){return Fe.filter(function(Ge){return!Ge.gap&&Ge.vis})}function Me(Fe){return Fe.filter(function(Ge){return Ge.vis})}function Be(Fe){return Fe.filter(function(Ge){return!Ge.gap})}function Ne(Fe){return Fe.id}function Ce(Fe){if(Fe.ids)return Ne}function Te(){return!1}function Le(Fe,Ge,it){var qe,$e,tt,vt=it[0].trace,dt=m.hasMarkers(vt),gt=m.hasText(vt),Mt=Ce(vt),Ct=Te,Wt=Te;if(dt||gt){var Xe=w,ke=vt.stackgroup,Ie=ke&&c._fullLayout._scatterStackOpts[P._id+A._id][ke].stackgaps==="infer zero";vt.marker.maxdisplayed||vt._needsCull?Xe=Ie?Me:Ee:ke&&!Ie&&(Xe=Be),dt&&(Ct=Xe),gt&&(Wt=Xe)}$e=Fe.selectAll("path.point"),qe=$e.data(Ct,Mt);var Oe=qe.enter().append("path").classed("point",!0);D&&Oe.call(p.pointStyle,vt,c).call(p.translatePoints,P,A).style("opacity",0).transition().style("opacity",1),qe.order();var _e;dt&&(_e=p.makePointStyleFns(vt)),qe.each(function(Ae){var ce=h.select(this),be=T(ce);tt=p.translatePoint(Ae,be,P,A),tt?(p.singlePointStyle(Ae,be,vt,_e,c),d.layerClipId&&p.hideOutsideRangePoint(Ae,be,P,A,vt.xcalendar,vt.ycalendar),vt.customdata&&ce.classed("plotly-customdata",Ae.data!==null&&Ae.data!==void 0)):be.remove()}),D?qe.exit().transition().style("opacity",0).remove():qe.exit().remove(),$e=Ge.selectAll("g"),qe=$e.data(Wt,Mt),qe.enter().append("g").classed("textpoint",!0).append("text"),qe.order(),qe.each(function(Ae){var ce=h.select(this),be=T(ce.select("text"));tt=p.translatePoint(Ae,be,P,A),tt?d.layerClipId&&p.hideOutsideRangePoint(Ae,ce,P,A,vt.xcalendar,vt.ycalendar):ce.remove()}),qe.selectAll("text").call(p.textPointStyle,vt,c).each(function(Ae){var ce=P.c2p(Ae.x),be=A.c2p(Ae.y);h.select(this).selectAll("tspan.line").each(function(){T(h.select(this)).attr({x:ce,y:be})})}),qe.exit().remove()}Y.datum(M),B.datum(M),Le(Y,B,M);var Ve=a.cliponaxis===!1,We=Ve?null:d.layerClipId;p.setClipUrl(Y,We,c),p.setClipUrl(B,We,c)}function v(c,x,d,M,g){var u=d.xaxis,y=d.yaxis,C=h.extent(n.simpleMap(u.range,u.r2c)),S=h.extent(n.simpleMap(y.range,y.r2c)),D=M[0].trace;if(m.hasMarkers(D)){var T=D.marker.maxdisplayed;if(T!==0){var P=M.filter(function(b){return b.x>=C[0]&&b.x<=C[1]&&b.y>=S[0]&&b.y<=S[1]}),A=Math.ceil(P.length/T),a=0;g.forEach(function(b,N){var O=b[0].trace;m.hasMarkers(O)&&O.marker.maxdisplayed>0&&N<x&&a++});var R=Math.round(a*A/3+Math.floor(a/3)*A/7.1);M.forEach(function(b){delete b.vis}),P.forEach(function(b,N){Math.round((N+R)%A)===0&&(b.vis=!0)})}}}},98002:function(k,F,e){var h=e(34098);k.exports=function(n,L){var w=n.cd,p=n.xaxis,m=n.yaxis,t=[],r=w[0].trace,l,i,f,v,c=!h.hasMarkers(r)&&!h.hasText(r);if(c)return[];if(L===!1)for(l=0;l<w.length;l++)w[l].selected=0;else for(l=0;l<w.length;l++)i=w[l],f=p.c2p(i.x),v=m.c2p(i.y),i.i!==null&&L.contains([f,v],!1,l,n)?(t.push({pointNumber:i.i,x:p.c2d(i.x),y:m.c2d(i.y)}),i.selected=1):i.selected=0;return t}},565:function(k){var F=["orientation","groupnorm","stackgaps"];k.exports=function(h,E,n,L){var w=n._scatterStackOpts,p=L("stackgroup");if(p){var m=E.xaxis+E.yaxis,t=w[m];t||(t=w[m]={});var r=t[p],l=!1;r?r.traces.push(E):(r=t[p]={traceIndices:[],traces:[E]},l=!0);for(var i={orientation:E.x&&!E.y?"h":"v"},f=0;f<F.length;f++){var v=F[f],c=v+"Found";if(!r[c]){var x=h[v]!==void 0,d=v==="orientation";if((x||l)&&(r[v]=L(v,i[v]),d&&(r.fillDflt=r[v]==="h"?"tonextx":"tonexty"),x&&(r[c]=!0,!l&&(delete r.traces[0][v],d))))for(var M=0;M<r.traces.length-1;M++){var g=r.traces[M];g._input.fill!==g.fill&&(g.fill=r.fillDflt)}}}return r}}},16296:function(k,F,e){var h=e(39898),E=e(91424),n=e(73972);function L(t){var r=h.select(t).selectAll("g.trace.scatter");r.style("opacity",function(l){return l[0].trace.opacity}),r.selectAll("g.points").each(function(l){var i=h.select(this),f=l.trace||l[0].trace;w(i,f,t)}),r.selectAll("g.text").each(function(l){var i=h.select(this),f=l.trace||l[0].trace;p(i,f,t)}),r.selectAll("g.trace path.js-line").call(E.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(E.fillGroupStyle,t),n.getComponentMethod("errorbars","style")(r)}function w(t,r,l){E.pointStyle(t.selectAll("path.point"),r,l)}function p(t,r,l){E.textPointStyle(t.selectAll("text"),r,l)}function m(t,r,l){var i=r[0].trace;i.selectedpoints?(E.selectedPointStyle(l.selectAll("path.point"),i),E.selectedTextStyle(l.selectAll("text"),i)):(w(l,i,t),p(l,i,t))}k.exports={style:L,stylePoints:w,styleText:p,styleOnSelect:m}},34098:function(k,F,e){var h=e(71828);k.exports={hasLines:function(E){return E.visible&&E.mode&&E.mode.indexOf("lines")!==-1},hasMarkers:function(E){return E.visible&&(E.mode&&E.mode.indexOf("markers")!==-1||E.type==="splom")},hasText:function(E){return E.visible&&E.mode&&E.mode.indexOf("text")!==-1},isBubble:function(E){return h.isPlainObject(E.marker)&&h.isArrayOrTypedArray(E.marker.size)}}},82410:function(k,F,e){var h=e(71828);k.exports=function(E,n,L,w,p){p=p||{},w("textposition"),h.coerceFont(w,"textfont",p.font||L.font),p.noSelect||(w("selected.textfont.color"),w("unselected.textfont.color"))}},67513:function(k,F,e){var h=e(71828),E=e(73972);k.exports=function(L,w,p,m){var t=m("x"),r=m("y"),l,i=E.getComponentMethod("calendars","handleTraceDefaults");if(i(L,w,["x","y"],p),t){var f=h.minRowLength(t);r?l=Math.min(f,h.minRowLength(r)):(l=f,m("y0"),m("dy"))}else{if(!r)return 0;l=h.minRowLength(r),m("x0"),m("dx")}return w._length=l,l}},44542:function(k,F,e){var h=e(82196),E=e(50693),n=e(12663).axisHoverFormat,L=e(5386).fF,w=e(5386).si,p=e(9012),m=e(29659),t=e(87381),r=e(1426).extendFlat,l=e(30962).overrideAll,i=e(78607),f=h.line,v=h.marker,c=v.line,x=r({width:f.width,dash:{valType:"enumerated",values:i(m),dflt:"solid"}},E("line"));function d(g){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var M=k.exports=l({x:h.x,y:h.y,z:{valType:"data_array"},text:r({},h.text,{}),texttemplate:w({},{}),hovertext:r({},h.hovertext,{}),hovertemplate:L(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),mode:r({},h.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:d(),y:d(),z:d()},connectgaps:h.connectgaps,line:x,marker:r({symbol:{valType:"enumerated",values:i(t),dflt:"circle",arrayOk:!0},size:r({},v.size,{dflt:8}),sizeref:v.sizeref,sizemin:v.sizemin,sizemode:v.sizemode,opacity:r({},v.opacity,{arrayOk:!1}),colorbar:v.colorbar,line:r({width:r({},c.width,{arrayOk:!1})},E("marker.line"))},E("marker")),textposition:r({},h.textposition,{dflt:"top center"}),textfont:{color:h.textfont.color,size:h.textfont.size,family:r({},h.textfont.family,{arrayOk:!1})},opacity:p.opacity,hoverinfo:r({},p.hoverinfo)},"calc","nested");M.x.editType=M.y.editType=M.z.editType="calc+clearAxisTypes"},36563:function(k,F,e){var h=e(75225),E=e(36922);k.exports=function(L,w){var p=[{x:!1,y:!1,trace:w,t:{}}];return h(p,w),E(L,w),p}},67336:function(k,F,e){var h=e(73972);function E(w,p,m,t){if(!p||!p.visible)return null;for(var r=h.getComponentMethod("errorbars","makeComputeError")(p),l=new Array(w.length),i=0;i<w.length;i++){var f=r(+w[i],i);if(t.type==="log"){var v=t.c2l(w[i]),c=w[i]-f[0],x=w[i]+f[1];if(l[i]=[(t.c2l(c,!0)-v)*m,(t.c2l(x,!0)-v)*m],c>0){var d=t.c2l(c);t._lowerLogErrorBound||(t._lowerLogErrorBound=d),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,d)}}else l[i]=[-f[0]*m,f[1]*m]}return l}function n(w){for(var p=0;p<w.length;p++)if(w[p])return w[p].length;return 0}function L(w,p,m){var t=[E(w.x,w.error_x,p[0],m.xaxis),E(w.y,w.error_y,p[1],m.yaxis),E(w.z,w.error_z,p[2],m.zaxis)],r=n(t);if(r===0)return null;for(var l=new Array(r),i=0;i<r;i++){for(var f=[[0,0,0],[0,0,0]],v=0;v<3;v++)if(t[v])for(var c=0;c<2;c++)f[c][v]=t[v][i][c];l[i]=f}return l}k.exports=L},58925:function(k,F,e){var h=e(9330).gl_line3d,E=e(9330).gl_scatter3d,n=e(9330).gl_error3d,L=e(9330).gl_mesh3d,w=e(9330).delaunay_triangulate,p=e(71828),m=e(78614),t=e(81697).formatColor,r=e(39984),l=e(29659),i=e(87381),f=e(89298),v=e(23469).appendArrayPointValue,c=e(67336);function x(b,N){this.scene=b,this.uid=N,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var d=x.prototype;d.handlePick=function(b){if(b.object&&(b.object===this.linePlot||b.object===this.delaunayMesh||b.object===this.textMarkers||b.object===this.scatterPlot)){var N=b.index=b.data.index;return b.object.highlight&&b.object.highlight(null),this.scatterPlot&&(b.object=this.scatterPlot,this.scatterPlot.highlight(b.data)),b.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[N]||this.textLabels[N]===0)&&(b.textLabel=this.textLabels[N]):b.textLabel=this.textLabels),b.traceCoordinate=[this.data.x[N],this.data.y[N],this.data.z[N]],!0}};function M(b,N,O){var Y=(O+1)%3,B=(O+2)%3,W=[],H=[],U;for(U=0;U<b.length;++U){var G=b[U];isNaN(G[Y])||!isFinite(G[Y])||isNaN(G[B])||!isFinite(G[B])||(W.push([G[Y],G[B]]),H.push(U))}var j=w(W);for(U=0;U<j.length;++U)for(var re=j[U],ae=0;ae<re.length;++ae)re[ae]=H[re[ae]];return{positions:b,cells:j,meshColor:N}}function g(b){for(var N=[0,0,0],O=[[0,0,0],[0,0,0],[0,0,0]],Y=[1,1,1],B=0;B<3;B++){var W=b[B];W&&W.copy_zstyle!==!1&&b[2].visible!==!1&&(W=b[2]),!(!W||!W.visible)&&(N[B]=W.width/2,O[B]=m(W.color),Y[B]=W.thickness)}return{capSize:N,color:O,lineWidth:Y}}function u(b){return b==null?0:b.indexOf("left")>-1?-1:b.indexOf("right")>-1?1:0}function y(b){return b==null?0:b.indexOf("top")>-1?-1:b.indexOf("bottom")>-1?1:0}function C(b){var N=0,O=0,Y=[N,O];if(Array.isArray(b))for(var B=0;B<b.length;B++)Y[B]=[N,O],b[B]&&(Y[B][0]=u(b[B]),Y[B][1]=y(b[B]));else Y[0]=u(b),Y[1]=y(b);return Y}function S(b,N){return N(b*4)}function D(b){return i[b]}function T(b,N,O,Y,B){var W=null;if(p.isArrayOrTypedArray(b)){W=[];for(var H=0;H<N;H++)b[H]===void 0?W[H]=Y:W[H]=O(b[H],B)}else W=O(b,p.identity);return W}function P(b,N){var O=[],Y=b.fullSceneLayout,B=b.dataScale,W=Y.xaxis,H=Y.yaxis,U=Y.zaxis,G=N.marker,j=N.line,re=N.x||[],ae=N.y||[],ue=N.z||[],de=re.length,ee=N.xcalendar,X=N.ycalendar,Q=N.zcalendar,$,ne,fe,te,q,he;for(q=0;q<de;q++)$=W.d2l(re[q],0,ee)*B[0],ne=H.d2l(ae[q],0,X)*B[1],fe=U.d2l(ue[q],0,Q)*B[2],O[q]=[$,ne,fe];if(Array.isArray(N.text))he=N.text;else if(N.text!==void 0)for(he=new Array(de),q=0;q<de;q++)he[q]=N.text;function se(qe,$e){var tt=Y[qe];return f.tickText(tt,tt.d2l($e),!0).text}var pe=N.texttemplate;if(pe){var we=b.fullLayout,Ee=we._d3locale,Me=Array.isArray(pe),Be=Me?Math.min(pe.length,de):de,Ne=Me?function(qe){return pe[qe]}:function(){return pe};for(he=new Array(Be),q=0;q<Be;q++){var Ce={x:re[q],y:ae[q],z:ue[q]},Te={xLabel:se("xaxis",re[q]),yLabel:se("yaxis",ae[q]),zLabel:se("zaxis",ue[q])},Le={};v(Le,N,q);var Ve=N._meta||{};he[q]=p.texttemplateString(Ne(q),Te,Ee,Le,Ce,Ve)}}if(te={position:O,mode:N.mode,text:he},"line"in N&&(te.lineColor=t(j,1,de),te.lineWidth=j.width,te.lineDashes=j.dash),"marker"in N){var We=r(N);te.scatterColor=t(G,1,de),te.scatterSize=T(G.size,de,S,20,We),te.scatterMarker=T(G.symbol,de,D,"●"),te.scatterLineWidth=G.line.width,te.scatterLineColor=t(G.line,1,de),te.scatterAngle=0}"textposition"in N&&(te.textOffset=C(N.textposition),te.textColor=t(N.textfont,1,de),te.textSize=T(N.textfont.size,de,p.identity,12),te.textFont=N.textfont.family,te.textAngle=0);var Fe=["x","y","z"];for(te.project=[!1,!1,!1],te.projectScale=[1,1,1],te.projectOpacity=[1,1,1],q=0;q<3;++q){var Ge=N.projection[Fe[q]];(te.project[q]=Ge.show)&&(te.projectOpacity[q]=Ge.opacity,te.projectScale[q]=Ge.scale)}te.errorBounds=c(N,B,Y);var it=g([N.error_x,N.error_y,N.error_z]);return te.errorColor=it.color,te.errorLineWidth=it.lineWidth,te.errorCapSize=it.capSize,te.delaunayAxis=N.surfaceaxis,te.delaunayColor=m(N.surfacecolor),te}function A(b){if(p.isArrayOrTypedArray(b)){var N=b[0];return p.isArrayOrTypedArray(N)&&(b=N),"rgb("+b.slice(0,3).map(function(O){return Math.round(O*255)})+")"}return null}function a(b){return p.isArrayOrTypedArray(b)?b.length===4&&typeof b[0]=="number"?A(b):b.map(A):null}d.update=function(b){var N=this.scene.glplot.gl,O,Y,B,W,H=l.solid;this.data=b;var U=P(this.scene,b);"mode"in U&&(this.mode=U.mode),"lineDashes"in U&&U.lineDashes in l&&(H=l[U.lineDashes]),this.color=a(U.scatterColor)||a(U.lineColor),this.dataPoints=U.position,O={gl:this.scene.glplot.gl,position:U.position,color:U.lineColor,lineWidth:U.lineWidth||1,dashes:H[0],dashScale:H[1],opacity:b.opacity,connectGaps:b.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(O):(this.linePlot=h(O),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var G=b.opacity;if(b.marker&&b.marker.opacity!==void 0&&(G*=b.marker.opacity),Y={gl:this.scene.glplot.gl,position:U.position,color:U.scatterColor,size:U.scatterSize,glyph:U.scatterMarker,opacity:G,orthographic:!0,lineWidth:U.scatterLineWidth,lineColor:U.scatterLineColor,project:U.project,projectScale:U.projectScale,projectOpacity:U.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(Y):(this.scatterPlot=E(Y),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),W={gl:this.scene.glplot.gl,position:U.position,glyph:U.text,color:U.textColor,size:U.textSize,angle:U.textAngle,alignment:U.textOffset,font:U.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity},this.textLabels=b.hovertext||b.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(W):(this.textMarkers=E(W),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),B={gl:this.scene.glplot.gl,position:U.position,color:U.errorColor,error:U.errorBounds,lineWidth:U.errorLineWidth,capSize:U.errorCapSize,opacity:b.opacity},this.errorBars?U.errorBounds?this.errorBars.update(B):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):U.errorBounds&&(this.errorBars=n(B),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),U.delaunayAxis>=0){var j=M(U.position,U.delaunayColor,U.delaunayAxis);j.opacity=b.opacity,this.delaunayMesh?this.delaunayMesh.update(j):(j.gl=N,this.delaunayMesh=L(j),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},d.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function R(b,N){var O=new x(b,N.uid);return O.update(N),O}k.exports=R},21428:function(k,F,e){var h=e(73972),E=e(71828),n=e(34098),L=e(49508),w=e(11058),p=e(82410),m=e(44542);k.exports=function(l,i,f,v){function c(S,D){return E.coerce(l,i,m,S,D)}var x=t(l,i,c,v);if(!x){i.visible=!1;return}c("text"),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat"),c("zhoverformat"),c("mode"),n.hasLines(i)&&(c("connectgaps"),w(l,i,f,v,c)),n.hasMarkers(i)&&L(l,i,f,v,c,{noSelect:!0,noAngle:!0}),n.hasText(i)&&(c("texttemplate"),p(l,i,v,c,{noSelect:!0}));var d=(i.line||{}).color,M=(i.marker||{}).color;c("surfaceaxis")>=0&&c("surfacecolor",d||M);for(var g=["x","y","z"],u=0;u<3;++u){var y="projection."+g[u];c(y+".show")&&(c(y+".opacity"),c(y+".scale"))}var C=h.getComponentMethod("errorbars","supplyDefaults");C(l,i,d||M||f,{axis:"z"}),C(l,i,d||M||f,{axis:"y",inherit:"z"}),C(l,i,d||M||f,{axis:"x",inherit:"z"})};function t(r,l,i,f){var v=0,c=i("x"),x=i("y"),d=i("z"),M=h.getComponentMethod("calendars","handleTraceDefaults");return M(r,l,["x","y","z"],f),c&&x&&d&&(v=Math.min(c.length,x.length,d.length),l._length=l._xlength=l._ylength=l._zlength=v),v}},13551:function(k,F,e){k.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(k,F,e){var h=e(82196),E=e(9012),n=e(5386).fF,L=e(5386).si,w=e(50693),p=e(1426).extendFlat,m=h.marker,t=h.line,r=m.line;k.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},h.mode,{dflt:"markers"}),text:p({},h.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},h.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:h.connectgaps,fill:p({},h.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:h.fillcolor,marker:p({symbol:m.symbol,opacity:m.opacity,maxdisplayed:m.maxdisplayed,angle:m.angle,angleref:m.angleref,standoff:m.standoff,size:m.size,sizeref:m.sizeref,sizemin:m.sizemin,sizemode:m.sizemode,line:p({width:r.width,editType:"calc"},w("marker.line")),gradient:m.gradient,editType:"calc"},w("marker")),textfont:h.textfont,textposition:h.textposition,selected:h.selected,unselected:h.unselected,hoverinfo:p({},E.hoverinfo,{flags:["a","b","text","name"]}),hoveron:h.hoveron,hovertemplate:n()}},34618:function(k,F,e){var h=e(92770),E=e(36922),n=e(75225),L=e(66279),w=e(47761).calcMarkerSize,p=e(22882);k.exports=function(t,r){var l=r._carpetTrace=p(t,r);if(!(!l||!l.visible||l.visible==="legendonly")){var i;r.xaxis=l.xaxis,r.yaxis=l.yaxis;var f=r._length,v=new Array(f),c,x,d=!1;for(i=0;i<f;i++)if(c=r.a[i],x=r.b[i],h(c)&&h(x)){var M=l.ab2xy(+c,+x,!0),g=l.isVisible(+c,+x);g||(d=!0),v[i]={x:M[0],y:M[1],a:c,b:x,vis:g}}else v[i]={x:!1,y:!1};return r._needsCull=d,v[0].carpet=l,v[0].trace=r,w(r,f),E(t,r),n(v,r),L(v,r),v}}},98965:function(k,F,e){var h=e(71828),E=e(47581),n=e(34098),L=e(49508),w=e(11058),p=e(94039),m=e(82410),t=e(28908),r=e(97001);k.exports=function(i,f,v,c){function x(S,D){return h.coerce(i,f,r,S,D)}x("carpet"),f.xaxis="x",f.yaxis="y";var d=x("a"),M=x("b"),g=Math.min(d.length,M.length);if(!g){f.visible=!1;return}f._length=g,x("text"),x("texttemplate"),x("hovertext");var u=g<E.PTS_LINESONLY?"lines+markers":"lines";x("mode",u),n.hasLines(f)&&(w(i,f,v,c,x,{backoff:!0}),p(i,f,x),x("connectgaps")),n.hasMarkers(f)&&L(i,f,v,c,x,{gradient:!0}),n.hasText(f)&&m(i,f,c,x);var y=[];(n.hasMarkers(f)||n.hasText(f))&&(x("marker.maxdisplayed"),y.push("points")),x("fill"),f.fill!=="none"&&(t(i,f,v,x),n.hasLines(f)||p(i,f,x)),(f.fill==="tonext"||f.fill==="toself")&&y.push("fills");var C=x("hoveron",y.join("+")||"points");C!=="fills"&&x("hovertemplate"),h.coerceSelectionMarkerOpacity(f,x)}},16165:function(k){k.exports=function(e,h,E,n,L){var w=n[L];return e.a=w.a,e.b=w.b,e.y=w.y,e}},48953:function(k){k.exports=function(e,h){var E={},n=h._carpet,L=n.ab2ij([e.a,e.b]),w=Math.floor(L[0]),p=L[0]-w,m=Math.floor(L[1]),t=L[1]-m,r=n.evalxy([],w,m,p,t);return E.yLabel=r[1].toFixed(3),E}},22931:function(k,F,e){var h=e(33720),E=e(71828).fillText;k.exports=function(L,w,p,m){var t=h(L,w,p,m);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var l=1-r.y0/L.ya._length,i=L.xa._length,f=i*l/2,v=i-f;return r.x0=Math.max(Math.min(r.x0,v),f),r.x1=Math.max(Math.min(r.x1,v),f),t}var c=r.cd[r.index];r.a=c.a,r.b=c.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var x=r.trace,d=x._carpet,M=x._module.formatLabels(c,x);r.yLabel=M.yLabel,delete r.text;var g=[];function u(S,D){var T;S.labelprefix&&S.labelprefix.length>0?T=S.labelprefix.replace(/ = $/,""):T=S._hovertitle,g.push(T+": "+D.toFixed(3)+S.labelsuffix)}if(!x.hovertemplate){var y=c.hi||x.hoverinfo,C=y.split("+");C.indexOf("all")!==-1&&(C=["a","b","text"]),C.indexOf("a")!==-1&&u(d.aaxis,c.a),C.indexOf("b")!==-1&&u(d.baxis,c.b),g.push("y: "+r.yLabel),C.indexOf("text")!==-1&&E(c,x,g),r.extraText=g.join("<br>")}return t}},46858:function(k,F,e){k.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(k,F,e){var h=e(32663),E=e(89298),n=e(91424);k.exports=function(w,p,m,t){var r,l,i,f=m[0][0].carpet,v=E.getFromId(w,f.xaxis||"x"),c=E.getFromId(w,f.yaxis||"y"),x={xaxis:v,yaxis:c,plot:p.plot};for(r=0;r<m.length;r++)l=m[r][0].trace,l._xA=v,l._yA=c;for(h(w,x,m,t),r=0;r<m.length;r++)l=m[r][0].trace,i=t.selectAll("g.trace"+l.uid+" .js-line"),n.setClipUrl(i,m[r][0].carpet._clipPathId,w)}},19316:function(k,F,e){var h=e(5386).fF,E=e(5386).si,n=e(82196),L=e(9012),w=e(50693),p=e(79952).P,m=e(1426).extendFlat,t=e(30962).overrideAll,r=n.marker,l=n.line,i=r.line;k.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:m({},n.mode,{dflt:"markers"}),text:m({},n.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:m({},n.hovertext,{}),textfont:n.textfont,textposition:n.textposition,line:{color:l.color,width:l.width,dash:p},connectgaps:n.connectgaps,marker:m({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:m({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:m({width:i.width},w("marker.line")),gradient:r.gradient},w("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:n.fillcolor,selected:n.selected,unselected:n.unselected,hoverinfo:m({},L.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:h()},"calc","nested")},84622:function(k,F,e){var h=e(92770),E=e(50606).BADNUM,n=e(36922),L=e(75225),w=e(66279),p=e(71828)._;function m(t){return t&&typeof t=="string"}k.exports=function(r,l){var i=Array.isArray(l.locations),f=i?l.locations.length:l._length,v=new Array(f),c;l.geojson?c=function(y){return m(y)||h(y)}:c=m;for(var x=0;x<f;x++){var d=v[x]={};if(i){var M=l.locations[x];d.loc=c(M)?M:null}else{var g=l.lon[x],u=l.lat[x];h(g)&&h(u)?d.lonlat=[+g,+u]:d.lonlat=[E,E]}}return L(v,l),n(r,l),w(v,l),f&&(v[0].t={labels:{lat:p(r,"lat:")+" ",lon:p(r,"lon:")+" "}}),v}},10659:function(k,F,e){var h=e(71828),E=e(34098),n=e(49508),L=e(11058),w=e(82410),p=e(28908),m=e(19316);k.exports=function(r,l,i,f){function v(C,S){return h.coerce(r,l,m,C,S)}var c=v("locations"),x;if(c&&c.length){var d=v("geojson"),M;(typeof d=="string"&&d!==""||h.isPlainObject(d))&&(M="geojson-id");var g=v("locationmode",M);g==="geojson-id"&&v("featureidkey"),x=c.length}else{var u=v("lon")||[],y=v("lat")||[];x=Math.min(u.length,y.length)}if(!x){l.visible=!1;return}l._length=x,v("text"),v("hovertext"),v("hovertemplate"),v("mode"),E.hasLines(l)&&(L(r,l,i,f,v),v("connectgaps")),E.hasMarkers(l)&&n(r,l,i,f,v,{gradient:!0}),E.hasText(l)&&(v("texttemplate"),w(r,l,f,v)),v("fill"),l.fill!=="none"&&p(r,l,i,v),h.coerceSelectionMarkerOpacity(l,v)}},84084:function(k){k.exports=function(e,h,E,n,L){e.lon=h.lon,e.lat=h.lat,e.location=h.loc?h.loc:null;var w=n[L];return w.fIn&&w.fIn.properties&&(e.properties=w.fIn.properties),e}},82719:function(k,F,e){var h=e(89298);k.exports=function(n,L,w){var p={},m=w[L.geo]._subplot,t=m.mockAxis,r=n.lonlat;return p.lonLabel=h.tickText(t,t.c2l(r[0]),!0).text,p.latLabel=h.tickText(t,t.c2l(r[1]),!0).text,p}},14977:function(k,F,e){var h=e(30211),E=e(50606).BADNUM,n=e(34603),L=e(71828).fillText,w=e(19316);k.exports=function(t,r,l){var i=t.cd,f=i[0].trace,v=t.xa,c=t.ya,x=t.subplot,d=x.projection.isLonLatOverEdges,M=x.project;function g(P){var A=P.lonlat;if(A[0]===E||d(A))return 1/0;var a=M(A),R=M([r,l]),b=Math.abs(a[0]-R[0]),N=Math.abs(a[1]-R[1]),O=Math.max(3,P.mrc||0);return Math.max(Math.sqrt(b*b+N*N)-O,1-3/O)}if(h.getClosest(i,g,t),t.index!==!1){var u=i[t.index],y=u.lonlat,C=[v.c2p(y),c.c2p(y)],S=u.mrc||1;t.x0=C[0]-S,t.x1=C[0]+S,t.y0=C[1]-S,t.y1=C[1]+S,t.loc=u.loc,t.lon=y[0],t.lat=y[1];var D={};D[f.geo]={_subplot:x};var T=f._module.formatLabels(u,f,D);return t.lonLabel=T.lonLabel,t.latLabel=T.latLabel,t.color=n(f,u),t.extraText=p(f,u,t,i[0].t.labels),t.hovertemplate=f.hovertemplate,[t]}};function p(m,t,r,l){if(m.hovertemplate)return;var i=t.hi||m.hoverinfo,f=i==="all"?w.hoverinfo.flags:i.split("+"),v=f.indexOf("location")!==-1&&Array.isArray(m.locations),c=f.indexOf("lon")!==-1,x=f.indexOf("lat")!==-1,d=f.indexOf("text")!==-1,M=[];function g(u){return u+"°"}return v?M.push(t.loc):c&&x?M.push("("+g(r.latLabel)+", "+g(r.lonLabel)+")"):c?M.push(l.lon+g(r.lonLabel)):x&&M.push(l.lat+g(r.latLabel)),d&&L(t,m,M),M.join("<br>")}},17988:function(k,F,e){k.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(k,F,e){var h=e(39898),E=e(71828),n=e(90973).getTopojsonFeatures,L=e(18214),w=e(41327),p=e(71739).findExtremes,m=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),l=e(33095);function i(v,c,x){var d=c.layers.frontplot.select(".scatterlayer"),M=E.makeTraceGroups(d,x,"trace scattergeo");function g(u,y){u.lonlat[0]===m&&h.select(y).remove()}M.selectAll("*").remove(),M.each(function(u){var y=h.select(this),C=u[0].trace;if(r.hasLines(C)||C.fill!=="none"){var S=L.calcTraceToLineCoords(u),D=C.fill!=="none"?L.makePolygon(S):L.makeLine(S);y.selectAll("path.js-line").data([{geojson:D,trace:C}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(C)&&y.selectAll("path.point").data(E.identity).enter().append("path").classed("point",!0).each(function(T){g(T,this)}),r.hasText(C)&&y.selectAll("g").data(E.identity).enter().append("g").append("text").each(function(T){g(T,this)}),l(v,u)})}function f(v,c){var x=v[0].trace,d=c[x.geo],M=d._subplot,g=x._length,u,y;if(Array.isArray(x.locations)){var C=x.locationmode,S=C==="geojson-id"?w.extractTraceFeature(v):n(x,M.topojson);for(u=0;u<g;u++){y=v[u];var D=C==="geojson-id"?y.fOut:w.locationToFeature(C,y.loc,S);y.lonlat=D?D.properties.ct:[m,m]}}var T={padded:!0},P,A;if(d.fitbounds==="geojson"&&x.locationmode==="geojson-id"){var a=w.computeBbox(w.getTraceGeojson(x));P=[a[0],a[2]],A=[a[1],a[3]]}else{for(P=new Array(g),A=new Array(g),u=0;u<g;u++)y=v[u],P[u]=y.lonlat[0],A[u]=y.lonlat[1];T.ppad=t(x,g)}x._extremes.lon=p(d.lonaxis._ax,P,T),x._extremes.lat=p(d.lataxis._ax,A,T)}k.exports={calcGeoJSON:f,plot:i}},20548:function(k,F,e){var h=e(34098),E=e(50606).BADNUM;k.exports=function(L,w){var p=L.cd,m=L.xaxis,t=L.yaxis,r=[],l=p[0].trace,i,f,v,c,x,d=!h.hasMarkers(l)&&!h.hasText(l);if(d)return[];if(w===!1)for(x=0;x<p.length;x++)p[x].selected=0;else for(x=0;x<p.length;x++)i=p[x],f=i.lonlat,f[0]!==E&&(v=m.c2p(f),c=t.c2p(f),w.contains([v,c],null,x,L)?(r.push({pointNumber:x,lon:f[0],lat:f[1]}),i.selected=1):i.selected=0);return r}},33095:function(k,F,e){var h=e(39898),E=e(91424),n=e(7901),L=e(16296),w=L.stylePoints,p=L.styleText;k.exports=function(r,l){l&&m(r,l)};function m(t,r){var l=r[0].trace,i=r[0].node3;i.style("opacity",r[0].trace.opacity),w(i,l,t),p(i,l,t),i.selectAll("path.js-line").style("fill","none").each(function(f){var v=h.select(this),c=f.trace,x=c.line||{};v.call(n.stroke,x.color).call(E.dashLine,x.dash||"",x.width||0),c.fill!=="none"&&v.call(n.fill,c.fillcolor)})}},42341:function(k,F,e){var h=e(9012),E=e(82196),n=e(12663).axisHoverFormat,L=e(50693),w=e(78607),p=e(1426).extendFlat,m=e(30962).overrideAll,t=e(78232).DASHES,r=E.line,l=E.marker,i=l.line,f=k.exports=m({x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),text:E.text,hovertext:E.hovertext,textposition:E.textposition,textfont:E.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:w(t),dflt:"solid"}},marker:p({},L("marker"),{symbol:l.symbol,angle:l.angle,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:l.opacity,colorbar:l.colorbar,line:p({},L("marker.line"),{width:i.width})}),connectgaps:E.connectgaps,fill:p({},E.fill,{dflt:"none"}),fillcolor:E.fillcolor,selected:{marker:E.selected.marker,textfont:E.selected.textfont},unselected:{marker:E.unselected.marker,textfont:E.unselected.textfont},opacity:h.opacity},"calc","nested");f.x.editType=f.y.editType=f.x0.editType=f.y0.editType="calc+clearAxisTypes",f.hovertemplate=E.hovertemplate,f.texttemplate=E.texttemplate},72156:function(k,F,e){var h=e(20794);k.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:h.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(k,F,e){var h=e(88294),E=e(71828),n=e(41675),L=e(71739).findExtremes,w=e(42973),p=e(47761),m=p.calcMarkerSize,t=p.calcAxisExpansion,r=p.setFirstScatter,l=e(36922),i=e(19635),f=e(38967),v=e(50606).BADNUM,c=e(78232).TOO_MANY_POINTS;k.exports=function(g,u){var y=g._fullLayout,C=u._xA=n.getFromId(g,u.xaxis,"x"),S=u._yA=n.getFromId(g,u.yaxis,"y"),D=y._plots[u.xaxis+u.yaxis],T=u._length,P=T>=c,A=T*2,a={},R,b=C.makeCalcdata(u,"x"),N=S.makeCalcdata(u,"y"),O=w(u,C,"x",b),Y=w(u,S,"y",N),B=O.vals,W=Y.vals;u._x=B,u._y=W,u.xperiodalignment&&(u._origX=b,u._xStarts=O.starts,u._xEnds=O.ends),u.yperiodalignment&&(u._origY=N,u._yStarts=Y.starts,u._yEnds=Y.ends);var H=new Array(A),U=new Array(T);for(R=0;R<T;R++)H[R*2]=B[R]===v?NaN:B[R],H[R*2+1]=W[R]===v?NaN:W[R],U[R]=R;if(C.type==="log")for(R=0;R<A;R+=2)H[R]=C.c2l(H[R]);if(S.type==="log")for(R=1;R<A;R+=2)H[R]=S.c2l(H[R]);P&&C.type!=="log"&&S.type!=="log"?a.tree=h(H):a.ids=U,l(g,u);var G=d(g,D,u,H,B,W),j=f(g,D);r(y,u);var re;return P?G.marker&&(re=G.marker.sizeAvg||Math.max(G.marker.size,3)):re=m(u,T),t(g,u,C,S,B,W,re),G.errorX&&x(u,C,G.errorX),G.errorY&&x(u,S,G.errorY),G.fill&&!j.fill2d&&(j.fill2d=!0),G.marker&&!j.scatter2d&&(j.scatter2d=!0),G.line&&!j.line2d&&(j.line2d=!0),(G.errorX||G.errorY)&&!j.error2d&&(j.error2d=!0),G.text&&!j.glText&&(j.glText=!0),G.marker&&(G.marker.snap=T),j.lineOptions.push(G.line),j.errorXOptions.push(G.errorX),j.errorYOptions.push(G.errorY),j.fillOptions.push(G.fill),j.markerOptions.push(G.marker),j.markerSelectedOptions.push(G.markerSel),j.markerUnselectedOptions.push(G.markerUnsel),j.textOptions.push(G.text),j.textSelectedOptions.push(G.textSel),j.textUnselectedOptions.push(G.textUnsel),j.selectBatch.push([]),j.unselectBatch.push([]),a._scene=j,a.index=j.count,a.x=B,a.y=W,a.positions=H,j.count++,[{x:!1,y:!1,t:a,trace:u}]};function x(M,g,u){var y=M._extremes[g._id],C=L(g,u._bnds,{padded:!0});y.min=y.min.concat(C.min),y.max=y.max.concat(C.max)}function d(M,g,u,y,C,S){var D=i.style(M,u);if(D.marker&&(D.marker.positions=y),D.line&&y.length>1&&E.extendFlat(D.line,i.linePositions(M,u,y)),D.errorX||D.errorY){var T=i.errorBarPositions(M,u,y,C,S);D.errorX&&E.extendFlat(D.errorX,T.x),D.errorY&&E.extendFlat(D.errorY,T.y)}return D.text&&(E.extendFlat(D.text,{positions:y},i.textPosition(M,u,D.text,D.marker)),E.extendFlat(D.textSel,{positions:y},i.textPosition(M,u,D.text,D.markerSel)),E.extendFlat(D.textUnsel,{positions:y},i.textPosition(M,u,D.text,D.markerUnsel))),D}},78232:function(k){var F=20;k.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:F,SYMBOL_STROKE:F/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(k,F,e){var h=e(92770),E=e(82019),n=e(25075),L=e(73972),w=e(71828),p=e(91424),m=e(41675),t=e(81697).formatColor,r=e(34098),l=e(39984),i=e(68645),f=e(78232),v=e(37822).DESELECTDIM,c={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},x=e(23469).appendArrayPointValue;function d(O,Y){var B,W={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},H=O._context.plotGlPixelRatio;if(Y.visible!==!0)return W;if(r.hasText(Y)&&(W.text=M(O,Y),W.textSel=y(O,Y,Y.selected),W.textUnsel=y(O,Y,Y.unselected)),r.hasMarkers(Y)&&(W.marker=g(O,Y),W.markerSel=u(O,Y,Y.selected),W.markerUnsel=u(O,Y,Y.unselected),!Y.unselected&&w.isArrayOrTypedArray(Y.marker.opacity))){var U=Y.marker.opacity;for(W.markerUnsel.opacity=new Array(U.length),B=0;B<U.length;B++)W.markerUnsel.opacity[B]=v*U[B]}if(r.hasLines(Y)){W.line={overlay:!0,thickness:Y.line.width*H,color:Y.line.color,opacity:Y.opacity};var G=(f.DASHES[Y.line.dash]||[1]).slice();for(B=0;B<G.length;++B)G[B]*=Y.line.width*H;W.line.dashes=G}return Y.error_x&&Y.error_x.visible&&(W.errorX=C(Y,Y.error_x,H)),Y.error_y&&Y.error_y.visible&&(W.errorY=C(Y,Y.error_y,H)),Y.fill&&Y.fill!=="none"&&(W.fill={closed:!0,fill:Y.fillcolor,thickness:0}),W}function M(O,Y){var B=O._fullLayout,W=Y._length,H=Y.textfont,U=Y.textposition,G=Array.isArray(U)?U:[U],j=H.color,re=H.size,ae=H.family,ue={},de,ee=O._context.plotGlPixelRatio,X=Y.texttemplate;if(X){ue.text=[];var Q=B._d3locale,$=Array.isArray(X),ne=$?Math.min(X.length,W):W,fe=$?function(Ee){return X[Ee]}:function(){return X};for(de=0;de<ne;de++){var te={i:de},q=Y._module.formatLabels(te,Y,B),he={};x(he,Y,de);var se=Y._meta||{};ue.text.push(w.texttemplateString(fe(de),q,Q,he,te,se))}}else Array.isArray(Y.text)&&Y.text.length<W?ue.text=Y.text.slice():ue.text=Y.text;if(Array.isArray(ue.text))for(de=ue.text.length;de<W;de++)ue.text[de]="";for(ue.opacity=Y.opacity,ue.font={},ue.align=[],ue.baseline=[],de=0;de<G.length;de++){var pe=G[de].split(/\s+/);switch(pe[1]){case"left":ue.align.push("right");break;case"right":ue.align.push("left");break;default:ue.align.push(pe[1])}switch(pe[0]){case"top":ue.baseline.push("bottom");break;case"bottom":ue.baseline.push("top");break;default:ue.baseline.push(pe[0])}}if(Array.isArray(j))for(ue.color=new Array(W),de=0;de<W;de++)ue.color[de]=j[de];else ue.color=j;if(w.isArrayOrTypedArray(re)||Array.isArray(ae))for(ue.font=new Array(W),de=0;de<W;de++){var we=ue.font[de]={};we.size=(w.isTypedArray(re)?re[de]:Array.isArray(re)?h(re[de])?re[de]:0:re)*ee,we.family=Array.isArray(ae)?ae[de]:ae}else ue.font={size:re*ee,family:ae};return ue}function g(O,Y){var B=Y._length,W=Y.marker,H={},U,G=w.isArrayOrTypedArray(W.symbol),j=w.isArrayOrTypedArray(W.angle),re=w.isArrayOrTypedArray(W.color),ae=w.isArrayOrTypedArray(W.line.color),ue=w.isArrayOrTypedArray(W.opacity),de=w.isArrayOrTypedArray(W.size),ee=w.isArrayOrTypedArray(W.line.width),X;if(G||(X=i.isOpenSymbol(W.symbol)),G||re||ae||ue||j){H.symbols=new Array(B),H.angles=new Array(B),H.colors=new Array(B),H.borderColors=new Array(B);var Q=W.symbol,$=W.angle,ne=t(W,W.opacity,B),fe=t(W.line,W.opacity,B);if(!Array.isArray(fe[0])){var te=fe;for(fe=Array(B),U=0;U<B;U++)fe[U]=te}if(!Array.isArray(ne[0])){var q=ne;for(ne=Array(B),U=0;U<B;U++)ne[U]=q}if(!Array.isArray(Q)){var he=Q;for(Q=Array(B),U=0;U<B;U++)Q[U]=he}if(!Array.isArray($)){var se=$;for($=Array(B),U=0;U<B;U++)$[U]=se}for(H.symbols=Q,H.angles=$,H.colors=ne,H.borderColors=fe,U=0;U<B;U++)G&&(X=i.isOpenSymbol(W.symbol[U])),X&&(fe[U]=ne[U].slice(),ne[U]=ne[U].slice(),ne[U][3]=0);for(H.opacity=Y.opacity,H.markers=new Array(B),U=0;U<B;U++)H.markers[U]=a({mx:H.symbols[U],ma:H.angles[U]},Y)}else X?(H.color=n(W.color,"uint8"),H.color[3]=0,H.borderColor=n(W.color,"uint8")):(H.color=n(W.color,"uint8"),H.borderColor=n(W.line.color,"uint8")),H.opacity=Y.opacity*W.opacity,H.marker=a({mx:W.symbol,ma:W.angle},Y);var pe=1,we=l(Y,pe),Ee;if(de||ee){var Me=H.sizes=new Array(B),Be=H.borderSizes=new Array(B),Ne=0,Ce;if(de){for(U=0;U<B;U++)Me[U]=we(W.size[U]),Ne+=Me[U];Ce=Ne/B}else for(Ee=we(W.size),U=0;U<B;U++)Me[U]=Ee;if(ee)for(U=0;U<B;U++)Be[U]=W.line.width[U];else for(Ee=W.line.width,U=0;U<B;U++)Be[U]=Ee;H.sizeAvg=Ce}else H.size=we(W&&W.size||10),H.borderSizes=we(W.line.width);return H}function u(O,Y,B){var W=Y.marker,H={};return B&&(B.marker&&B.marker.symbol?H=g(O,w.extendFlat({},W,B.marker)):B.marker&&(B.marker.size&&(H.size=B.marker.size),B.marker.color&&(H.colors=B.marker.color),B.marker.opacity!==void 0&&(H.opacity=B.marker.opacity))),H}function y(O,Y,B){var W={};if(!B)return W;if(B.textfont){var H={opacity:1,text:Y.text,texttemplate:Y.texttemplate,textposition:Y.textposition,textfont:w.extendFlat({},Y.textfont)};B.textfont&&w.extendFlat(H.textfont,B.textfont),W=M(O,H)}return W}function C(O,Y,B){var W={capSize:Y.width*2*B,lineWidth:Y.thickness*B,color:Y.color};return Y.copy_ystyle&&(W=O.error_y),W}var S=f.SYMBOL_SDF_SIZE,D=f.SYMBOL_SIZE,T=f.SYMBOL_STROKE,P={},A=p.symbolFuncs[0](D*.05);function a(O,Y){var B=O.mx;if(B==="circle")return null;var W,H,U=p.symbolNumber(B),G=p.symbolFuncs[U%100],j=!!p.symbolNoDot[U%100],re=!!p.symbolNoFill[U%100],ae=i.isDotSymbol(B);if(O.ma&&(B+="_"+O.ma),P[B])return P[B];var ue=p.getMarkerAngle(O,Y);return ae&&!j?W=G(D*1.1,ue)+A:W=G(D,ue),H=E(W,{w:S,h:S,viewBox:[-D,-D,D,D],stroke:re?T:-T}),P[B]=H,H||null}function R(O,Y,B){var W=B.length,H=W/2,U,G;if(r.hasLines(Y)&&H)if(Y.line.shape==="hv"){for(U=[],G=0;G<H-1;G++)isNaN(B[G*2])||isNaN(B[G*2+1])?U.push(NaN,NaN,NaN,NaN):(U.push(B[G*2],B[G*2+1]),!isNaN(B[G*2+2])&&!isNaN(B[G*2+3])?U.push(B[G*2+2],B[G*2+1]):U.push(NaN,NaN));U.push(B[W-2],B[W-1])}else if(Y.line.shape==="hvh"){for(U=[],G=0;G<H-1;G++)if(isNaN(B[G*2])||isNaN(B[G*2+1])||isNaN(B[G*2+2])||isNaN(B[G*2+3]))!isNaN(B[G*2])&&!isNaN(B[G*2+1])?U.push(B[G*2],B[G*2+1]):U.push(NaN,NaN),U.push(NaN,NaN);else{var j=(B[G*2]+B[G*2+2])/2;U.push(B[G*2],B[G*2+1],j,B[G*2+1],j,B[G*2+3])}U.push(B[W-2],B[W-1])}else if(Y.line.shape==="vhv"){for(U=[],G=0;G<H-1;G++)if(isNaN(B[G*2])||isNaN(B[G*2+1])||isNaN(B[G*2+2])||isNaN(B[G*2+3]))!isNaN(B[G*2])&&!isNaN(B[G*2+1])?U.push(B[G*2],B[G*2+1]):U.push(NaN,NaN),U.push(NaN,NaN);else{var re=(B[G*2+1]+B[G*2+3])/2;U.push(B[G*2],B[G*2+1],B[G*2],re,B[G*2+2],re)}U.push(B[W-2],B[W-1])}else if(Y.line.shape==="vh"){for(U=[],G=0;G<H-1;G++)isNaN(B[G*2])||isNaN(B[G*2+1])?U.push(NaN,NaN,NaN,NaN):(U.push(B[G*2],B[G*2+1]),!isNaN(B[G*2+2])&&!isNaN(B[G*2+3])?U.push(B[G*2],B[G*2+3]):U.push(NaN,NaN));U.push(B[W-2],B[W-1])}else U=B;var ae=!1;for(G=0;G<U.length;G++)if(isNaN(U[G])){ae=!0;break}var ue=ae||U.length>f.TOO_MANY_POINTS||r.hasMarkers(Y)?"rect":"round";if(ae&&Y.connectgaps){var de=U[0],ee=U[1];for(G=0;G<U.length;G+=2)isNaN(U[G])||isNaN(U[G+1])?(U[G]=de,U[G+1]=ee):(de=U[G],ee=U[G+1])}return{join:ue,positions:U}}function b(O,Y,B,W,H){var U=L.getComponentMethod("errorbars","makeComputeError"),G=m.getFromId(O,Y.xaxis,"x"),j=m.getFromId(O,Y.yaxis,"y"),re=B.length/2,ae={};function ue(de,ee){var X=ee._id.charAt(0),Q=Y["error_"+X];if(Q&&Q.visible&&(ee.type==="linear"||ee.type==="log")){for(var $=U(Q),ne={x:0,y:1}[X],fe={x:[0,1,2,3],y:[2,3,0,1]}[X],te=new Float64Array(4*re),q=1/0,he=-1/0,se=0,pe=0;se<re;se++,pe+=4){var we=de[se];if(h(we)){var Ee=B[se*2+ne],Me=$(we,se),Be=Me[0],Ne=Me[1];if(h(Be)&&h(Ne)){var Ce=we-Be,Te=we+Ne;te[pe+fe[0]]=Ee-ee.c2l(Ce),te[pe+fe[1]]=ee.c2l(Te)-Ee,te[pe+fe[2]]=0,te[pe+fe[3]]=0,q=Math.min(q,we-Be),he=Math.max(he,we+Ne)}}}ae[X]={positions:B,errors:te,_bnds:[q,he]}}}return ue(W,G),ue(H,j),ae}function N(O,Y,B,W){var H=Y._length,U={},G;if(r.hasMarkers(Y)){var j=B.font,re=B.align,ae=B.baseline;for(U.offset=new Array(H),G=0;G<H;G++){var ue=W.sizes?W.sizes[G]:W.size,de=Array.isArray(j)?j[G].size:j.size,ee=Array.isArray(re)?re.length>1?re[G]:re[0]:re,X=Array.isArray(ae)?ae.length>1?ae[G]:ae[0]:ae,Q=c[ee],$=c[X],ne=ue?ue/.8+1:0,fe=-$*ne-$*.5;U.offset[G]=[Q*ne/de,fe/de]}}return U}k.exports={style:d,markerStyle:g,markerSelection:u,linePositions:R,errorBarPositions:b,textPosition:N}},47148:function(k,F,e){var h=e(71828),E=e(73972),n=e(68645),L=e(42341),w=e(47581),p=e(34098),m=e(67513),t=e(73927),r=e(49508),l=e(11058),i=e(28908),f=e(82410);k.exports=function(c,x,d,M){function g(A,a){return h.coerce(c,x,L,A,a)}var u=c.marker?n.isOpenSymbol(c.marker.symbol):!1,y=p.isBubble(c),C=m(c,x,M,g);if(!C){x.visible=!1;return}t(c,x,M,g),g("xhoverformat"),g("yhoverformat");var S=C<w.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("hovertemplate"),g("mode",S),p.hasLines(x)&&(g("connectgaps"),l(c,x,d,M,g),g("line.shape")),p.hasMarkers(x)&&(r(c,x,d,M,g,{noAngleRef:!0,noStandOff:!0}),g("marker.line.width",u||y?1:0)),p.hasText(x)&&(g("texttemplate"),f(c,x,M,g));var D=(x.line||{}).color,T=(x.marker||{}).color;g("fill"),x.fill!=="none"&&i(c,x,d,g);var P=E.getComponentMethod("errorbars","supplyDefaults");P(c,x,D||T||d,{axis:"y"}),P(c,x,D||T||d,{axis:"x",inherit:"y"}),h.coerceSelectionMarkerOpacity(x,g)}},5345:function(k,F,e){var h=e(71828),E=e(7901),n=e(37822).DESELECTDIM;function L(w){var p=w[0],m=p.trace,t=p.t,r=t._scene,l=t.index,i=r.selectBatch[l],f=r.unselectBatch[l],v=r.textOptions[l],c=r.textSelectedOptions[l]||{},x=r.textUnselectedOptions[l]||{},d=h.extendFlat({},v),M,g;if(i.length||f.length){var u=c.color,y=x.color,C=v.color,S=Array.isArray(C);for(d.color=new Array(m._length),M=0;M<i.length;M++)g=i[M],d.color[g]=u||(S?C[g]:C);for(M=0;M<f.length;M++){g=f[M];var D=S?C[g]:C;d.color[g]=y||(u?D:E.addOpacity(D,n))}}r.glText[l].update(d)}k.exports={styleTextSelection:L}},68101:function(k,F,e){var h=e(8225);k.exports=function(n,L,w){var p=n.i;return"x"in n||(n.x=L._x[p]),"y"in n||(n.y=L._y[p]),h(n,L,w)}},68645:function(k,F,e){var h=e(78232);F.isOpenSymbol=function(E){return typeof E=="string"?h.OPEN_RE.test(E):E%200>100},F.isDotSymbol=function(E){return typeof E=="string"?h.DOT_RE.test(E):E>200}},20794:function(k,F,e){var h=e(73972),E=e(71828),n=e(34603);function L(p,m,t,r){var l=p.cd,i=l[0].t,f=l[0].trace,v=p.xa,c=p.ya,x=i.x,d=i.y,M=v.c2p(m),g=c.c2p(t),u=p.distance,y;if(i.tree){var C=v.p2c(M-u),S=v.p2c(M+u),D=c.p2c(g-u),T=c.p2c(g+u);r==="x"?y=i.tree.range(Math.min(C,S),Math.min(c._rl[0],c._rl[1]),Math.max(C,S),Math.max(c._rl[0],c._rl[1])):y=i.tree.range(Math.min(C,S),Math.min(D,T),Math.max(C,S),Math.max(D,T))}else y=i.ids;var P,A,a,R,b,N,O,Y,B,W=u;if(r==="x"){var H=!!f.xperiodalignment,U=!!f.yperiodalignment;for(b=0;b<y.length;b++){if(P=y[b],a=x[P],N=Math.abs(v.c2p(a)-M),H){var G=v.c2p(f._xStarts[P]),j=v.c2p(f._xEnds[P]);N=M>=Math.min(G,j)&&M<=Math.max(G,j)?0:1/0}if(N<W){if(W=N,R=d[P],O=c.c2p(R)-g,U){var re=c.c2p(f._yStarts[P]),ae=c.c2p(f._yEnds[P]);O=g>=Math.min(re,ae)&&g<=Math.max(re,ae)?0:1/0}B=Math.sqrt(N*N+O*O),A=y[b]}}}else for(b=y.length-1;b>-1;b--)P=y[b],a=x[P],R=d[P],N=v.c2p(a)-M,O=c.c2p(R)-g,Y=Math.sqrt(N*N+O*O),Y<W&&(W=B=Y,A=P);return p.index=A,p.distance=W,p.dxy=B,A===void 0?[p]:[w(p,x,d,f)]}function w(p,m,t,r){var l=p.xa,i=p.ya,f=p.distance,v=p.dxy,c=p.index,x={pointNumber:c,x:m[c],y:t[c]};x.tx=Array.isArray(r.text)?r.text[c]:r.text,x.htx=Array.isArray(r.hovertext)?r.hovertext[c]:r.hovertext,x.data=Array.isArray(r.customdata)?r.customdata[c]:r.customdata,x.tp=Array.isArray(r.textposition)?r.textposition[c]:r.textposition;var d=r.textfont;d&&(x.ts=E.isArrayOrTypedArray(d.size)?d.size[c]:d.size,x.tc=Array.isArray(d.color)?d.color[c]:d.color,x.tf=Array.isArray(d.family)?d.family[c]:d.family);var M=r.marker;M&&(x.ms=E.isArrayOrTypedArray(M.size)?M.size[c]:M.size,x.mo=E.isArrayOrTypedArray(M.opacity)?M.opacity[c]:M.opacity,x.mx=E.isArrayOrTypedArray(M.symbol)?M.symbol[c]:M.symbol,x.ma=E.isArrayOrTypedArray(M.angle)?M.angle[c]:M.angle,x.mc=E.isArrayOrTypedArray(M.color)?M.color[c]:M.color);var g=M&&M.line;g&&(x.mlc=Array.isArray(g.color)?g.color[c]:g.color,x.mlw=E.isArrayOrTypedArray(g.width)?g.width[c]:g.width);var u=M&&M.gradient;u&&u.type!=="none"&&(x.mgt=Array.isArray(u.type)?u.type[c]:u.type,x.mgc=Array.isArray(u.color)?u.color[c]:u.color);var y=l.c2p(x.x,!0),C=i.c2p(x.y,!0),S=x.mrc||1,D=r.hoverlabel;D&&(x.hbg=Array.isArray(D.bgcolor)?D.bgcolor[c]:D.bgcolor,x.hbc=Array.isArray(D.bordercolor)?D.bordercolor[c]:D.bordercolor,x.hts=E.isArrayOrTypedArray(D.font.size)?D.font.size[c]:D.font.size,x.htc=Array.isArray(D.font.color)?D.font.color[c]:D.font.color,x.htf=Array.isArray(D.font.family)?D.font.family[c]:D.font.family,x.hnl=E.isArrayOrTypedArray(D.namelength)?D.namelength[c]:D.namelength);var T=r.hoverinfo;T&&(x.hi=Array.isArray(T)?T[c]:T);var P=r.hovertemplate;P&&(x.ht=Array.isArray(P)?P[c]:P);var A={};A[p.index]=x;var a=r._origX,R=r._origY,b=E.extendFlat({},p,{color:n(r,x),x0:y-S,x1:y+S,xLabelVal:a?a[c]:x.x,y0:C-S,y1:C+S,yLabelVal:R?R[c]:x.y,cd:A,distance:f,spikeDistance:v,hovertemplate:x.ht});return x.htx?b.text=x.htx:x.tx?b.text=x.tx:r.text&&(b.text=r.text),E.fillText(x,r,b),h.getComponentMethod("errorbars","hoverInfo")(x,r,b),b}k.exports={hoverPoints:L,calcHover:w}},68868:function(k,F,e){var h=e(72156);h.plot=e(26787),k.exports=h},26787:function(k,F,e){var h=e(11870),E=e(46075),n=e(3593),L=e(42505),w=e(71828),p=e(64505).selectMode,m=e(79749),t=e(34098),r=e(68687),l=e(5345).styleTextSelection,i={};function f(c,x,d,M){var g=c._size,u=c.width*M,y=c.height*M,C=g.l*M,S=g.b*M,D=g.r*M,T=g.t*M,P=g.w*M,A=g.h*M;return[C+x.domain[0]*P,S+d.domain[0]*A,u-D-(1-x.domain[1])*P,y-T-(1-d.domain[1])*A]}var v=k.exports=function(x,d,M){if(M.length){var g=x._fullLayout,u=d._scene,y=d.xaxis,C=d.yaxis,S,D;if(u){var T=m(x,["ANGLE_instanced_arrays","OES_element_index_uint"],i);if(!T){u.init();return}var P=u.count,A=g._glcanvas.data()[0].regl;if(r(x,d,M),u.dirty){if(u.error2d===!0&&(u.error2d=n(A)),u.line2d===!0&&(u.line2d=E(A)),u.scatter2d===!0&&(u.scatter2d=h(A)),u.fill2d===!0&&(u.fill2d=E(A)),u.glText===!0)for(u.glText=new Array(P),S=0;S<P;S++)u.glText[S]=new L(A);if(u.glText){if(P>u.glText.length){var a=P-u.glText.length;for(S=0;S<a;S++)u.glText.push(new L(A))}else if(P<u.glText.length){var R=u.glText.length-P,b=u.glText.splice(P,R);b.forEach(function(te){te.destroy()})}for(S=0;S<P;S++)u.glText[S].update(u.textOptions[S])}if(u.line2d&&(u.line2d.update(u.lineOptions),u.lineOptions=u.lineOptions.map(function(te){if(te&&te.positions){for(var q=te.positions,he=0;he<q.length&&(isNaN(q[he])||isNaN(q[he+1]));)he+=2;for(var se=q.length-2;se>he&&(isNaN(q[se])||isNaN(q[se+1]));)se-=2;te.positions=q.slice(he,se+2)}return te}),u.line2d.update(u.lineOptions)),u.error2d){var N=(u.errorXOptions||[]).concat(u.errorYOptions||[]);u.error2d.update(N)}u.scatter2d&&u.scatter2d.update(u.markerOptions),u.fillOrder=w.repeat(null,P),u.fill2d&&(u.fillOptions=u.fillOptions.map(function(te,q){var he=M[q];if(!(!te||!he||!he[0]||!he[0].trace)){var se=he[0],pe=se.trace,we=se.t,Ee=u.lineOptions[q],Me,Be,Ne=[];pe._ownfill&&Ne.push(q),pe._nexttrace&&Ne.push(q+1),Ne.length&&(u.fillOrder[q]=Ne);var Ce=[],Te=Ee&&Ee.positions||we.positions,Le,Ve;if(pe.fill==="tozeroy"){for(Le=0;Le<Te.length&&isNaN(Te[Le+1]);)Le+=2;for(Ve=Te.length-2;Ve>Le&&isNaN(Te[Ve+1]);)Ve-=2;Te[Le+1]!==0&&(Ce=[Te[Le],0]),Ce=Ce.concat(Te.slice(Le,Ve+2)),Te[Ve+1]!==0&&(Ce=Ce.concat([Te[Ve],0]))}else if(pe.fill==="tozerox"){for(Le=0;Le<Te.length&&isNaN(Te[Le]);)Le+=2;for(Ve=Te.length-2;Ve>Le&&isNaN(Te[Ve]);)Ve-=2;Te[Le]!==0&&(Ce=[0,Te[Le+1]]),Ce=Ce.concat(Te.slice(Le,Ve+2)),Te[Ve]!==0&&(Ce=Ce.concat([0,Te[Ve+1]]))}else if(pe.fill==="toself"||pe.fill==="tonext"){for(Ce=[],Me=0,te.splitNull=!0,Be=0;Be<Te.length;Be+=2)(isNaN(Te[Be])||isNaN(Te[Be+1]))&&(Ce=Ce.concat(Te.slice(Me,Be)),Ce.push(Te[Me],Te[Me+1]),Ce.push(null,null),Me=Be+2);Ce=Ce.concat(Te.slice(Me)),Me&&Ce.push(Te[Me],Te[Me+1])}else{var We=pe._nexttrace;if(We){var Fe=u.lineOptions[q+1];if(Fe){var Ge=Fe.positions;if(pe.fill==="tonexty"){for(Ce=Te.slice(),q=Math.floor(Ge.length/2);q--;){var it=Ge[q*2],qe=Ge[q*2+1];isNaN(it)||isNaN(qe)||Ce.push(it,qe)}te.fill=We.fillcolor}}}}if(pe._prevtrace&&pe._prevtrace.fill==="tonext"){var $e=u.lineOptions[q-1].positions,tt=Ce.length/2;Me=tt;var vt=[Me];for(Be=0;Be<$e.length;Be+=2)(isNaN($e[Be])||isNaN($e[Be+1]))&&(vt.push(Be/2+tt+1),Me=Be+2);Ce=Ce.concat($e),te.hole=vt}return te.fillmode=pe.fill,te.opacity=pe.opacity,te.positions=Ce,te}}),u.fill2d.update(u.fillOptions))}var O=g.dragmode,Y=p(O),B=g.clickmode.indexOf("select")>-1;for(S=0;S<P;S++){var W=M[S][0],H=W.trace,U=W.t,G=U.index,j=H._length,re=U.x,ae=U.y;if(H.selectedpoints||Y||B){if(Y||(Y=!0),H.selectedpoints){var ue=u.selectBatch[G]=w.selIndices2selPoints(H),de={};for(D=0;D<ue.length;D++)de[ue[D]]=1;var ee=[];for(D=0;D<j;D++)de[D]||ee.push(D);u.unselectBatch[G]=ee}var X=U.xpx=new Array(j),Q=U.ypx=new Array(j);for(D=0;D<j;D++)X[D]=y.c2p(re[D]),Q[D]=C.c2p(ae[D])}else U.xpx=U.ypx=null}if(Y){if(u.select2d||(u.select2d=h(g._glcanvas.data()[1].regl)),u.scatter2d){var $=new Array(P);for(S=0;S<P;S++)$[S]=u.selectBatch[S].length||u.unselectBatch[S].length?u.markerUnselectedOptions[S]:{};u.scatter2d.update($)}u.select2d&&(u.select2d.update(u.markerOptions),u.select2d.update(u.markerSelectedOptions)),u.glText&&M.forEach(function(te){var q=((te||[])[0]||{}).trace||{};t.hasText(q)&&l(te)})}else u.scatter2d&&u.scatter2d.update(u.markerOptions);var ne={viewport:f(g,y,C,x._context.plotGlPixelRatio),range:[(y._rl||y.range)[0],(C._rl||C.range)[0],(y._rl||y.range)[1],(C._rl||C.range)[1]]},fe=w.repeat(ne,u.count);u.fill2d&&u.fill2d.update(fe),u.line2d&&u.line2d.update(fe),u.error2d&&u.error2d.update(fe.concat(fe)),u.scatter2d&&u.scatter2d.update(fe),u.select2d&&u.select2d.update(fe),u.glText&&u.glText.forEach(function(te){te.update(ne)})}}};v.reglPrecompiled=i},38967:function(k,F,e){var h=e(71828);k.exports=function(n,L){var w=L._scene,p={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},m={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(w=L._scene={},w.init=function(){h.extendFlat(w,m,p)},w.init(),w.update=function(r){var l=h.repeat(r,w.count);if(w.fill2d&&w.fill2d.update(l),w.scatter2d&&w.scatter2d.update(l),w.line2d&&w.line2d.update(l),w.error2d&&w.error2d.update(l.concat(l)),w.select2d&&w.select2d.update(l),w.glText)for(var i=0;i<w.count;i++)w.glText[i].update(r)},w.draw=function(){for(var r=w.count,l=w.fill2d,i=w.error2d,f=w.line2d,v=w.scatter2d,c=w.glText,x=w.select2d,d=w.selectBatch,M=w.unselectBatch,g=0;g<r;g++){if(l&&w.fillOrder[g]&&l.draw(w.fillOrder[g]),f&&w.lineOptions[g]&&f.draw(g),i&&(w.errorXOptions[g]&&i.draw(g),w.errorYOptions[g]&&i.draw(g+r)),v&&w.markerOptions[g])if(M[g].length){var u=h.repeat([],w.count);u[g]=M[g],v.draw(u)}else d[g].length||v.draw(g);c[g]&&w.textOptions[g]&&c[g].render()}x&&x.draw(d),w.dirty=!1},w.destroy=function(){w.fill2d&&w.fill2d.destroy&&w.fill2d.destroy(),w.scatter2d&&w.scatter2d.destroy&&w.scatter2d.destroy(),w.error2d&&w.error2d.destroy&&w.error2d.destroy(),w.line2d&&w.line2d.destroy&&w.line2d.destroy(),w.select2d&&w.select2d.destroy&&w.select2d.destroy(),w.glText&&w.glText.forEach(function(r){r.destroy&&r.destroy()}),w.lineOptions=null,w.fillOptions=null,w.markerOptions=null,w.markerSelectedOptions=null,w.markerUnselectedOptions=null,w.errorXOptions=null,w.errorYOptions=null,w.textOptions=null,w.textSelectedOptions=null,w.textUnselectedOptions=null,w.selectBatch=null,w.unselectBatch=null,L._scene=null}),w.dirty||h.extendFlat(w,p),w}},58147:function(k,F,e){var h=e(34098),E=e(5345).styleTextSelection;k.exports=function(L,w){var p=L.cd,m=L.xaxis,t=L.yaxis,r=[],l=p[0].trace,i=p[0].t,f=l._length,v=i.x,c=i.y,x=i._scene,d=i.index;if(!x)return r;var M=h.hasText(l),g=h.hasMarkers(l),u=!g&&!M;if(l.visible!==!0||u)return r;var y=[],C=[];if(w!==!1&&!w.degenerate)for(var S=0;S<f;S++)w.contains([i.xpx[S],i.ypx[S]],!1,S,L)?(y.push(S),r.push({pointNumber:S,x:m.c2d(v[S]),y:t.c2d(c[S])})):C.push(S);if(g){var D=x.scatter2d;if(!y.length&&!C.length){var T=new Array(x.count);T[d]=x.markerOptions[d],D.update.apply(D,T)}else if(!x.selectBatch[d].length&&!x.unselectBatch[d].length){var P=new Array(x.count);P[d]=x.markerUnselectedOptions[d],D.update.apply(D,P)}}return x.selectBatch[d]=y,x.unselectBatch[d]=C,M&&E(p),r}},99181:function(k,F,e){var h=e(5386).fF,E=e(5386).si,n=e(19316),L=e(82196),w=e(23585),p=e(9012),m=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,l=e(23585),i=n.line,f=n.marker;k.exports=r({lon:n.lon,lat:n.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},l.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},f.opacity,{dflt:1})},mode:t({},L.mode,{dflt:"markers"}),text:t({},L.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},L.hovertext,{}),line:{color:i.color,width:i.width},connectgaps:L.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:f.opacity,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode},m("marker")),fill:n.fill,fillcolor:L.fillcolor,textfont:w.layers.symbol.textfont,textposition:w.layers.symbol.textposition,below:{valType:"string"},selected:{marker:L.selected.marker},unselected:{marker:L.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:h()},"calc","nested")},15790:function(k,F,e){var h=e(92770),E=e(71828),n=e(50606).BADNUM,L=e(18214),w=e(21081),p=e(91424),m=e(39984),t=e(34098),r=e(13056),l=e(23469).appendArrayPointValue,i=e(63893).NEWLINES,f=e(63893).BR_TAG_ALL;k.exports=function(C,S){var D=S[0].trace,T=D.visible===!0&&D._length!==0,P=D.fill!=="none",A=t.hasLines(D),a=t.hasMarkers(D),R=t.hasText(D),b=a&&D.marker.symbol==="circle",N=a&&D.marker.symbol!=="circle",O=D.cluster&&D.cluster.enabled,Y=v("fill"),B=v("line"),W=v("circle"),H=v("symbol"),U={fill:Y,line:B,circle:W,symbol:H};if(!T)return U;var G;if((P||A)&&(G=L.calcTraceToLineCoords(S)),P&&(Y.geojson=L.makePolygon(G),Y.layout.visibility="visible",E.extendFlat(Y.paint,{"fill-color":D.fillcolor})),A&&(B.geojson=L.makeLine(G),B.layout.visibility="visible",E.extendFlat(B.paint,{"line-width":D.line.width,"line-color":D.line.color,"line-opacity":D.opacity})),b){var j=c(S);W.geojson=j.geojson,W.layout.visibility="visible",O&&(W.filter=["!",["has","point_count"]],U.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":u(D.cluster.color,D.cluster.step),"circle-radius":u(D.cluster.size,D.cluster.step),"circle-opacity":u(D.cluster.opacity,D.cluster.step)}},U.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),E.extendFlat(W.paint,{"circle-color":j.mcc,"circle-radius":j.mrc,"circle-opacity":j.mo})}if(b&&O&&(W.filter=["!",["has","point_count"]]),(N||R)&&(H.geojson=x(S,C),E.extendFlat(H.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),N&&(E.extendFlat(H.layout,{"icon-size":D.marker.size/10}),"angle"in D.marker&&D.marker.angle!=="auto"&&E.extendFlat(H.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),H.layout["icon-allow-overlap"]=D.marker.allowoverlap,E.extendFlat(H.paint,{"icon-opacity":D.opacity*D.marker.opacity,"icon-color":D.marker.color})),R)){var re=(D.marker||{}).size,ae=r(D.textposition,re);E.extendFlat(H.layout,{"text-size":D.textfont.size,"text-anchor":ae.anchor,"text-offset":ae.offset,"text-font":D.textfont.family.split(", ")}),E.extendFlat(H.paint,{"text-color":D.textfont.color,"text-opacity":D.opacity})}return U};function v(y){return{type:y,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function c(y){var C=y[0].trace,S=C.marker,D=C.selectedpoints,T=E.isArrayOrTypedArray(S.color),P=E.isArrayOrTypedArray(S.size),A=E.isArrayOrTypedArray(S.opacity),a;function R(re){return C.opacity*re}function b(re){return re/2}var N;T&&(w.hasColorscale(C,"marker")?N=w.makeColorScaleFuncFromTrace(S):N=E.identity);var O;P&&(O=m(C));var Y;A&&(Y=function(re){var ae=h(re)?+E.constrain(re,0,1):0;return R(ae)});var B=[];for(a=0;a<y.length;a++){var W=y[a],H=W.lonlat;if(!g(H)){var U={};N&&(U.mcc=W.mcc=N(W.mc)),O&&(U.mrc=W.mrc=O(W.ms)),Y&&(U.mo=Y(W.mo)),D&&(U.selected=W.selected||0),B.push({type:"Feature",id:a+1,geometry:{type:"Point",coordinates:H},properties:U})}}var G;if(D)for(G=p.makeSelectedPointStyleFns(C),a=0;a<B.length;a++){var j=B[a].properties;G.selectedOpacityFn&&(j.mo=R(G.selectedOpacityFn(j))),G.selectedColorFn&&(j.mcc=G.selectedColorFn(j)),G.selectedSizeFn&&(j.mrc=G.selectedSizeFn(j))}return{geojson:{type:"FeatureCollection",features:B},mcc:T||G&&G.selectedColorFn?{type:"identity",property:"mcc"}:S.color,mrc:P||G&&G.selectedSizeFn?{type:"identity",property:"mrc"}:b(S.size),mo:A||G&&G.selectedOpacityFn?{type:"identity",property:"mo"}:R(S.opacity)}}function x(y,C){for(var S=C._fullLayout,D=y[0].trace,T=D.marker||{},P=T.symbol,A=T.angle,a=P!=="circle"?d(P):M,R=A!=="auto"?d(A,!0):M,b=t.hasText(D)?d(D.text):M,N=[],O=0;O<y.length;O++){var Y=y[O];if(!g(Y.lonlat)){var B=D.texttemplate,W;if(B){var H=Array.isArray(B)?B[O]||"":B,U=D._module.formatLabels(Y,D,S),G={};l(G,D,Y.i);var j=D._meta||{};W=E.texttemplateString(H,U,S._d3locale,G,Y,j)}else W=b(O);W&&(W=W.replace(i,"").replace(f,`
`)),N.push({type:"Feature",geometry:{type:"Point",coordinates:Y.lonlat},properties:{symbol:a(O),angle:R(O),text:W}})}}return{type:"FeatureCollection",features:N}}function d(y,C){return E.isArrayOrTypedArray(y)?C?function(S){return h(y[S])?+y[S]:0}:function(S){return y[S]}:y?function(){return y}:M}function M(){return""}function g(y){return y[0]===n}function u(y,C){var S;if(E.isArrayOrTypedArray(y)&&E.isArrayOrTypedArray(C)){S=["step",["get","point_count"],y[0]];for(var D=1;D<y.length;D++)S.push(C[D-1],y[D])}else S=y;return S}},76645:function(k,F,e){var h=e(71828),E=e(34098),n=e(49508),L=e(11058),w=e(82410),p=e(28908),m=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];k.exports=function(i,f,v,c){function x(P,A){return h.coerce(i,f,m,P,A)}function d(P,A){return h.coerce2(i,f,m,P,A)}var M=r(i,f,x);if(!M){f.visible=!1;return}if(x("text"),x("texttemplate"),x("hovertext"),x("hovertemplate"),x("mode"),x("below"),E.hasLines(f)&&(L(i,f,v,c,x,{noDash:!0}),x("connectgaps")),E.hasMarkers(f)){n(i,f,v,c,x,{noLine:!0,noAngle:!0}),x("marker.allowoverlap"),x("marker.angle");var g=f.marker;g.symbol!=="circle"&&(h.isArrayOrTypedArray(g.size)&&(g.size=g.size[0]),h.isArrayOrTypedArray(g.color)&&(g.color=g.color[0]))}var u=d("cluster.maxzoom"),y=d("cluster.step"),C=d("cluster.color",f.marker&&f.marker.color||v),S=d("cluster.size"),D=d("cluster.opacity"),T=u!==!1||y!==!1||C!==!1||S!==!1||D!==!1;x("cluster.enabled",T),E.hasText(f)&&w(i,f,c,x,{noSelect:!0,font:{family:t.indexOf(c.font.family)!==-1?c.font.family:"Open Sans Regular",size:c.font.size,color:c.font.color}}),x("fill"),f.fill!=="none"&&p(i,f,v,x),h.coerceSelectionMarkerOpacity(f,x)};function r(l,i,f){var v=f("lon")||[],c=f("lat")||[],x=Math.min(v.length,c.length);return i._length=x,x}},53353:function(k){k.exports=function(e,h){return e.lon=h.lon,e.lat=h.lat,e}},15636:function(k,F,e){var h=e(89298);k.exports=function(n,L,w){var p={},m=w[L.subplot]._subplot,t=m.mockAxis,r=n.lonlat;return p.lonLabel=h.tickText(t,t.c2l(r[0]),!0).text,p.latLabel=h.tickText(t,t.c2l(r[1]),!0).text,p}},28178:function(k,F,e){var h=e(30211),E=e(71828),n=e(34603),L=E.fillText,w=e(50606).BADNUM,p=e(77734).traceLayerPrefix;function m(r,l,i){var f=r.cd,v=f[0].trace,c=r.xa,x=r.ya,d=r.subplot,M=[],g=p+v.uid+"-circle",u=v.cluster&&v.cluster.enabled;if(u){var y=d.map.queryRenderedFeatures(null,{layers:[g]});M=y.map(function(B){return B.id})}var C=l>=0?Math.floor((l+180)/360):Math.ceil((l-180)/360),S=C*360,D=l-S;function T(B){var W=B.lonlat;if(W[0]===w||u&&M.indexOf(B.i+1)===-1)return 1/0;var H=E.modHalf(W[0],360),U=W[1],G=d.project([H,U]),j=G.x-c.c2p([D,U]),re=G.y-x.c2p([H,i]),ae=Math.max(3,B.mrc||0);return Math.max(Math.sqrt(j*j+re*re)-ae,1-3/ae)}if(h.getClosest(f,T,r),r.index!==!1){var P=f[r.index],A=P.lonlat,a=[E.modHalf(A[0],360)+S,A[1]],R=c.c2p(a),b=x.c2p(a),N=P.mrc||1;r.x0=R-N,r.x1=R+N,r.y0=b-N,r.y1=b+N;var O={};O[v.subplot]={_subplot:d};var Y=v._module.formatLabels(P,v,O);return r.lonLabel=Y.lonLabel,r.latLabel=Y.latLabel,r.color=n(v,P),r.extraText=t(v,P,f[0].t.labels),r.hovertemplate=v.hovertemplate,[r]}}function t(r,l,i){if(r.hovertemplate)return;var f=l.hi||r.hoverinfo,v=f.split("+"),c=v.indexOf("all")!==-1,x=v.indexOf("lon")!==-1,d=v.indexOf("lat")!==-1,M=l.lonlat,g=[];function u(y){return y+"°"}return c||x&&d?g.push("("+u(M[1])+", "+u(M[0])+")"):x?g.push(i.lon+u(M[0])):d&&g.push(i.lat+u(M[1])),(c||v.indexOf("text")!==-1)&&L(l,r,g),g.join("<br>")}k.exports={hoverPoints:m,getExtraText:t}},20467:function(k,F,e){k.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(h,E){if(E){var n=E[0].trace;n._glTrace.update(E)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(k,F,e){var h=e(71828),E=e(15790),n=e(77734).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function w(m,t,r,l){this.type="scattermapbox",this.subplot=m,this.uid=t,this.clusterEnabled=r,this.isHidden=l,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:n+t+"-fill",line:n+t+"-line",circle:n+t+"-circle",symbol:n+t+"-symbol",cluster:n+t+"-cluster",clusterCount:n+t+"-cluster-count"},this.below=null}var p=w.prototype;p.addSource=function(m,t,r){var l={type:"geojson",data:t.geojson};r&&r.enabled&&h.extendFlat(l,{cluster:!0,clusterMaxZoom:r.maxzoom});var i=this.subplot.map.getSource(this.sourceIds[m]);i?i.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[m],l)},p.setSourceData=function(m,t){this.subplot.map.getSource(this.sourceIds[m]).setData(t.geojson)},p.addLayer=function(m,t,r){var l={type:t.type,id:this.layerIds[m],source:this.sourceIds[m],layout:t.layout,paint:t.paint};t.filter&&(l.filter=t.filter);for(var i=this.layerIds[m],f,v=this.subplot.getMapLayers(),c=0;c<v.length;c++)if(v[c].id===i){f=!0;break}f?(this.subplot.setOptions(i,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&this.subplot.setOptions(i,"setPaintProperty",l.paint)):this.subplot.addLayer(l,r)},p.update=function(t){var r=t[0].trace,l=this.subplot,i=l.map,f=E(l.gd,t),v=l.belowLookup["trace-"+this.uid],c=!!(r.cluster&&r.cluster.enabled),x=!!this.clusterEnabled,d=this;function M(A){A||d.addSource("circle",f.circle,r.cluster);for(var a=L.cluster,R=0;R<a.length;R++){var b=a[R],N=f[b];d.addLayer(b,N,v)}}function g(A){for(var a=L.cluster,R=a.length-1;R>=0;R--){var b=a[R];i.removeLayer(d.layerIds[b])}A||i.removeSource(d.sourceIds.circle)}function u(A){for(var a=L.nonCluster,R=0;R<a.length;R++){var b=a[R],N=f[b];A||d.addSource(b,N),d.addLayer(b,N,v)}}function y(A){for(var a=L.nonCluster,R=a.length-1;R>=0;R--){var b=a[R];i.removeLayer(d.layerIds[b]),A||i.removeSource(d.sourceIds[b])}}function C(A){x?g(A):y(A)}function S(A){c?M(A):u(A)}function D(){for(var A=c?L.cluster:L.nonCluster,a=0;a<A.length;a++){var R=A[a],b=f[R];b&&(l.setOptions(d.layerIds[R],"setLayoutProperty",b.layout),b.layout.visibility==="visible"&&(R!=="cluster"&&d.setSourceData(R,b),l.setOptions(d.layerIds[R],"setPaintProperty",b.paint)))}}var T=this.isHidden,P=r.visible!==!0;P?T||C():T?P||S():x!==c?(C(),S()):(this.below!==v&&(C(!0),S(!0)),D()),this.clusterEnabled=c,this.isHidden=P,this.below=v,t[0].trace._glTrace=this},p.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?L.cluster:L.nonCluster,l=r.length-1;l>=0;l--){var i=r[l];t.removeLayer(this.layerIds[i]),t.removeSource(this.sourceIds[i])}},k.exports=function(t,r){var l=r[0].trace,i=l.cluster&&l.cluster.enabled,f=l.visible!==!0,v=new w(t,l.uid,i,f),c=E(t.gd,r),x=v.below=t.belowLookup["trace-"+l.uid],d,M,g;if(i)for(v.addSource("circle",c.circle,l.cluster),d=0;d<L.cluster.length;d++)M=L.cluster[d],g=c[M],v.addLayer(M,g,x);else for(d=0;d<L.nonCluster.length;d++)M=L.nonCluster[d],g=c[M],v.addSource(M,g,l.cluster),v.addLayer(M,g,x);return r[0].trace._glTrace=v,v}},86387:function(k,F,e){var h=e(71828),E=e(34098),n=e(50606).BADNUM;k.exports=function(w,p){var m=w.cd,t=w.xaxis,r=w.yaxis,l=[],i=m[0].trace,f;if(!E.hasMarkers(i))return[];if(p===!1)for(f=0;f<m.length;f++)m[f].selected=0;else for(f=0;f<m.length;f++){var v=m[f],c=v.lonlat;if(c[0]!==n){var x=[h.modHalf(c[0],360),c[1]],d=[t.c2p(x),r.c2p(x)];p.contains(d,null,f,w)?(l.push({pointNumber:f,lon:c[0],lat:c[1]}),v.selected=1):v.selected=0}}return l}},81245:function(k,F,e){var h=e(5386).fF,E=e(5386).si,n=e(1426).extendFlat,L=e(82196),w=e(9012),p=L.line;k.exports={mode:L.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:E({editType:"plot"},{keys:["r","theta","text"]}),hovertext:L.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:n({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:n({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:n({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:n({},w.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:L.hoveron,hovertemplate:h(),selected:L.selected,unselected:L.unselected}},26442:function(k,F,e){var h=e(92770),E=e(50606).BADNUM,n=e(89298),L=e(36922),w=e(75225),p=e(66279),m=e(47761).calcMarkerSize;k.exports=function(r,l){for(var i=r._fullLayout,f=l.subplot,v=i[f].radialaxis,c=i[f].angularaxis,x=v.makeCalcdata(l,"r"),d=c.makeCalcdata(l,"theta"),M=l._length,g=new Array(M),u=0;u<M;u++){var y=x[u],C=d[u],S=g[u]={};h(y)&&h(C)?(S.r=y,S.theta=C):S.r=E}var D=m(l,M);return l._extremes.x=n.findExtremes(v,x,{ppad:D}),L(r,l),w(g,l),p(g,l),g}},22184:function(k,F,e){var h=e(71828),E=e(34098),n=e(49508),L=e(11058),w=e(94039),p=e(82410),m=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function l(f,v,c,x){function d(u,y){return h.coerce(f,v,r,u,y)}var M=i(f,v,x,d);if(!M){v.visible=!1;return}d("thetaunit"),d("mode",M<t?"lines+markers":"lines"),d("text"),d("hovertext"),v.hoveron!=="fills"&&d("hovertemplate"),E.hasLines(v)&&(L(f,v,c,x,d,{backoff:!0}),w(f,v,d),d("connectgaps")),E.hasMarkers(v)&&n(f,v,c,x,d,{gradient:!0}),E.hasText(v)&&(d("texttemplate"),p(f,v,x,d));var g=[];(E.hasMarkers(v)||E.hasText(v))&&(d("cliponaxis"),d("marker.maxdisplayed"),g.push("points")),d("fill"),v.fill!=="none"&&(m(f,v,c,d),E.hasLines(v)||w(f,v,d)),(v.fill==="tonext"||v.fill==="toself")&&g.push("fills"),d("hoveron",g.join("+")||"points"),h.coerceSelectionMarkerOpacity(v,d)}function i(f,v,c,x){var d=x("r"),M=x("theta"),g;if(d)M?g=Math.min(d.length,M.length):(g=d.length,x("theta0"),x("dtheta"));else{if(!M)return 0;g=v.theta.length,x("r0"),x("dr")}return v._length=g,g}k.exports={handleRThetaDefaults:i,supplyDefaults:l}},98608:function(k,F,e){var h=e(71828),E=e(89298);k.exports=function(L,w,p){var m={},t=p[w.subplot]._subplot,r,l;t?(r=t.radialAxis,l=t.angularAxis):(t=p[w.subplot],r=t.radialaxis,l=t.angularaxis);var i=r.c2l(L.r);m.rLabel=E.tickText(r,i,!0).text;var f=l.thetaunit==="degrees"?h.rad2deg(L.theta):L.theta;return m.thetaLabel=E.tickText(l,f,!0).text,m}},59150:function(k,F,e){var h=e(33720);function E(L,w,p,m){var t=h(L,w,p,m);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var l=L.subplot,i=r.cd[r.index],f=r.trace;if(l.isPtInside(i))return r.xLabelVal=void 0,r.yLabelVal=void 0,n(i,f,l,r),r.hovertemplate=f.hovertemplate,t}}function n(L,w,p,m){var t=p.radialAxis,r=p.angularAxis;t._hovertitle="r",r._hovertitle="θ";var l={};l[w.subplot]={_subplot:p};var i=w._module.formatLabels(L,w,l);m.rLabel=i.rLabel,m.thetaLabel=i.thetaLabel;var f=L.hi||w.hoverinfo,v=[];function c(d,M){v.push(d._hovertitle+": "+M)}if(!w.hovertemplate){var x=f.split("+");x.indexOf("all")!==-1&&(x=["r","theta","text"]),x.indexOf("r")!==-1&&c(t,m.rLabel),x.indexOf("theta")!==-1&&c(r,m.thetaLabel),x.indexOf("text")!==-1&&m.text&&(v.push(m.text),delete m.text),m.extraText=v.join("<br>")}}k.exports={hoverPoints:E,makeHoverPointText:n}},91271:function(k,F,e){k.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(k,F,e){var h=e(32663),E=e(50606).BADNUM;k.exports=function(L,w,p){for(var m=w.layers.frontplot.select("g.scatterlayer"),t=w.xaxis,r=w.yaxis,l={xaxis:t,yaxis:r,plot:w.framework,layerClipId:w._hasClipOnAxisFalse?w.clipIds.forTraces:null},i=w.radialAxis,f=w.angularAxis,v=0;v<p.length;v++)for(var c=p[v],x=0;x<c.length;x++){x===0&&(c[0].trace._xA=t,c[0].trace._yA=r);var d=c[x],M=d.r;if(M===E)d.x=d.y=E;else{var g=i.c2g(M),u=f.c2g(d.theta);d.x=g*Math.cos(u),d.y=g*Math.sin(u)}}h(L,l,p,m)}},53286:function(k,F,e){var h=e(81245),E=e(42341),n=e(5386).si;k.exports={mode:h.mode,r:h.r,theta:h.theta,r0:h.r0,dr:h.dr,theta0:h.theta0,dtheta:h.dtheta,thetaunit:h.thetaunit,text:h.text,texttemplate:n({editType:"plot"},{keys:["r","theta","text"]}),hovertext:h.hovertext,hovertemplate:h.hovertemplate,line:E.line,connectgaps:E.connectgaps,marker:E.marker,fill:E.fill,fillcolor:E.fillcolor,textposition:E.textposition,textfont:E.textfont,hoverinfo:h.hoverinfo,selected:h.selected,unselected:h.unselected}},65746:function(k,F,e){k.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(k,F,e){var h=e(36922),E=e(47761).calcMarkerSize,n=e(19635),L=e(89298),w=e(78232).TOO_MANY_POINTS;k.exports=function(m,t){var r=m._fullLayout,l=t.subplot,i=r[l].radialaxis,f=r[l].angularaxis,v=t._r=i.makeCalcdata(t,"r"),c=t._theta=f.makeCalcdata(t,"theta"),x=t._length,d={};x<v.length&&(v=v.slice(0,x)),x<c.length&&(c=c.slice(0,x)),d.r=v,d.theta=c,h(m,t);var M=d.opts=n.style(m,t),g;return x<w?g=E(t,x):M.marker&&(g=2*(M.marker.sizeAvg||Math.max(M.marker.size,3))),t._extremes.x=L.findExtremes(i,v,{ppad:g}),[{x:!1,y:!1,t:d,trace:t}]}},75485:function(k,F,e){var h=e(71828),E=e(34098),n=e(22184).handleRThetaDefaults,L=e(49508),w=e(11058),p=e(82410),m=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);k.exports=function(i,f,v,c){function x(M,g){return h.coerce(i,f,r,M,g)}var d=n(i,f,c,x);if(!d){f.visible=!1;return}x("thetaunit"),x("mode",d<t?"lines+markers":"lines"),x("text"),x("hovertext"),f.hoveron!=="fills"&&x("hovertemplate"),E.hasLines(f)&&(w(i,f,v,c,x),x("connectgaps")),E.hasMarkers(f)&&L(i,f,v,c,x,{noAngleRef:!0,noStandOff:!0}),E.hasText(f)&&(x("texttemplate"),p(i,f,c,x)),x("fill"),f.fill!=="none"&&m(i,f,v,x),h.coerceSelectionMarkerOpacity(f,x)}},46255:function(k,F,e){var h=e(98608);k.exports=function(n,L,w){var p=n.i;return"r"in n||(n.r=L._r[p]),"theta"in n||(n.theta=L._theta[p]),h(n,L,w)}},29347:function(k,F,e){var h=e(20794),E=e(59150).makeHoverPointText;function n(L,w,p,m){var t=L.cd,r=t[0].t,l=r.r,i=r.theta,f=h.hoverPoints(L,w,p,m);if(!(!f||f[0].index===!1)){var v=f[0];if(v.index===void 0)return f;var c=L.subplot,x=v.cd[v.index],d=v.trace;if(x.r=l[v.index],x.theta=i[v.index],!!c.isPtInside(x))return v.xLabelVal=void 0,v.yLabelVal=void 0,E(x,d,c,v),f}}k.exports={hoverPoints:n}},21461:function(k,F,e){var h=e(65746);h.plot=e(49741),k.exports=h},49741:function(k,F,e){var h=e(88294),E=e(92770),n=e(26787),L=e(38967),w=e(19635),p=e(71828),m=e(78232).TOO_MANY_POINTS,t={};k.exports=function(l,i,f){if(f.length){var v=i.radialAxis,c=i.angularAxis,x=L(l,i);return f.forEach(function(d){if(!(!d||!d[0]||!d[0].trace)){var M=d[0],g=M.trace,u=M.t,y=g._length,C=u.r,S=u.theta,D=u.opts,T,P=C.slice(),A=S.slice();for(T=0;T<C.length;T++)i.isPtInside({r:C[T],theta:S[T]})||(P[T]=NaN,A[T]=NaN);var a=new Array(y*2),R=Array(y),b=Array(y);for(T=0;T<y;T++){var N=P[T],O,Y;if(E(N)){var B=v.c2g(N),W=c.c2g(A[T],g.thetaunit);O=B*Math.cos(W),Y=B*Math.sin(W)}else O=Y=NaN;R[T]=a[T*2]=O,b[T]=a[T*2+1]=Y}u.tree=h(a),D.marker&&y>=m&&(D.marker.cluster=u.tree),D.marker&&(D.markerSel.positions=D.markerUnsel.positions=D.marker.positions=a),D.line&&a.length>1&&p.extendFlat(D.line,w.linePositions(l,g,a)),D.text&&(p.extendFlat(D.text,{positions:a},w.textPosition(l,g,D.text,D.marker)),p.extendFlat(D.textSel,{positions:a},w.textPosition(l,g,D.text,D.markerSel)),p.extendFlat(D.textUnsel,{positions:a},w.textPosition(l,g,D.text,D.markerUnsel))),D.fill&&!x.fill2d&&(x.fill2d=!0),D.marker&&!x.scatter2d&&(x.scatter2d=!0),D.line&&!x.line2d&&(x.line2d=!0),D.text&&!x.glText&&(x.glText=!0),x.lineOptions.push(D.line),x.fillOptions.push(D.fill),x.markerOptions.push(D.marker),x.markerSelectedOptions.push(D.markerSel),x.markerUnselectedOptions.push(D.markerUnsel),x.textOptions.push(D.text),x.textSelectedOptions.push(D.textSel),x.textUnselectedOptions.push(D.textUnsel),x.selectBatch.push([]),x.unselectBatch.push([]),u.x=R,u.y=b,u.rawx=R,u.rawy=b,u.r=C,u.theta=S,u.positions=a,u._scene=x,u.index=x.count,x.count++}}),n(l,i,f)}},k.exports.reglPrecompiled=t},48300:function(k,F,e){var h=e(5386).fF,E=e(5386).si,n=e(1426).extendFlat,L=e(82196),w=e(9012),p=L.line;k.exports={mode:L.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:E({editType:"plot"},{keys:["real","imag","text"]}),hovertext:L.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:n({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:n({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:n({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:n({},w.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:L.hoveron,hovertemplate:h(),selected:L.selected,unselected:L.unselected}},30621:function(k,F,e){var h=e(92770),E=e(50606).BADNUM,n=e(36922),L=e(75225),w=e(66279),p=e(47761).calcMarkerSize;k.exports=function(t,r){for(var l=t._fullLayout,i=r.subplot,f=l[i].realaxis,v=l[i].imaginaryaxis,c=f.makeCalcdata(r,"real"),x=v.makeCalcdata(r,"imag"),d=r._length,M=new Array(d),g=0;g<d;g++){var u=c[g],y=x[g],C=M[g]={};h(u)&&h(y)?(C.real=u,C.imag=y):C.real=E}return p(r,d),n(t,r),L(M,r),w(M,r),M}},65269:function(k,F,e){var h=e(71828),E=e(34098),n=e(49508),L=e(11058),w=e(94039),p=e(82410),m=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);k.exports=function(f,v,c,x){function d(u,y){return h.coerce(f,v,r,u,y)}var M=l(f,v,x,d);if(!M){v.visible=!1;return}d("mode",M<t?"lines+markers":"lines"),d("text"),d("hovertext"),v.hoveron!=="fills"&&d("hovertemplate"),E.hasLines(v)&&(L(f,v,c,x,d,{backoff:!0}),w(f,v,d),d("connectgaps")),E.hasMarkers(v)&&n(f,v,c,x,d,{gradient:!0}),E.hasText(v)&&(d("texttemplate"),p(f,v,x,d));var g=[];(E.hasMarkers(v)||E.hasText(v))&&(d("cliponaxis"),d("marker.maxdisplayed"),g.push("points")),d("fill"),v.fill!=="none"&&(m(f,v,c,d),E.hasLines(v)||w(f,v,d)),(v.fill==="tonext"||v.fill==="toself")&&g.push("fills"),d("hoveron",g.join("+")||"points"),h.coerceSelectionMarkerOpacity(v,d)};function l(i,f,v,c){var x=c("real"),d=c("imag"),M;return x&&d&&(M=Math.min(x.length,d.length)),f._length=M,M}},62047:function(k,F,e){var h=e(89298);k.exports=function(n,L,w){var p={},m=w[L.subplot]._subplot;return p.realLabel=h.tickText(m.radialAxis,n.real,!0).text,p.imagLabel=h.tickText(m.angularAxis,n.imag,!0).text,p}},11350:function(k,F,e){var h=e(33720);function E(L,w,p,m){var t=h(L,w,p,m);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var l=L.subplot,i=r.cd[r.index],f=r.trace;if(l.isPtInside(i))return r.xLabelVal=void 0,r.yLabelVal=void 0,n(i,f,l,r),r.hovertemplate=f.hovertemplate,t}}function n(L,w,p,m){var t=p.radialAxis,r=p.angularAxis;t._hovertitle="real",r._hovertitle="imag";var l={};l[w.subplot]={_subplot:p};var i=w._module.formatLabels(L,w,l);m.realLabel=i.realLabel,m.imagLabel=i.imagLabel;var f=L.hi||w.hoverinfo,v=[];function c(d,M){v.push(d._hovertitle+": "+M)}if(!w.hovertemplate){var x=f.split("+");x.indexOf("all")!==-1&&(x=["real","imag","text"]),x.indexOf("real")!==-1&&c(t,m.realLabel),x.indexOf("imag")!==-1&&c(r,m.imagLabel),x.indexOf("text")!==-1&&m.text&&(v.push(m.text),delete m.text),m.extraText=v.join("<br>")}}k.exports={hoverPoints:E,makeHoverPointText:n}},85956:function(k,F,e){k.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(k,F,e){var h=e(32663),E=e(50606).BADNUM,n=e(23893),L=n.smith;k.exports=function(p,m,t){for(var r=m.layers.frontplot.select("g.scatterlayer"),l=m.xaxis,i=m.yaxis,f={xaxis:l,yaxis:i,plot:m.framework,layerClipId:m._hasClipOnAxisFalse?m.clipIds.forTraces:null},v=0;v<t.length;v++)for(var c=t[v],x=0;x<c.length;x++){x===0&&(c[0].trace._xA=l,c[0].trace._yA=i);var d=c[x],M=d.real;if(M===E)d.x=d.y=E;else{var g=L([M,d.imag]);d.x=g[0],d.y=g[1]}}h(p,f,t,r)}},50413:function(k,F,e){var h=e(5386).fF,E=e(5386).si,n=e(82196),L=e(9012),w=e(50693),p=e(79952).P,m=e(1426).extendFlat,t=n.marker,r=n.line,l=t.line;k.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:m({},n.mode,{dflt:"markers"}),text:m({},n.text,{}),texttemplate:E({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:m({},n.hovertext,{}),line:{color:r.color,width:r.width,dash:p,backoff:r.backoff,shape:m({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:n.connectgaps,cliponaxis:n.cliponaxis,fill:m({},n.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:n.fillcolor,marker:m({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:m({width:l.width,editType:"calc"},w("marker.line")),gradient:t.gradient,editType:"calc"},w("marker")),textfont:n.textfont,textposition:n.textposition,selected:n.selected,unselected:n.unselected,hoverinfo:m({},L.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:n.hoveron,hovertemplate:h()}},54337:function(k,F,e){var h=e(92770),E=e(36922),n=e(75225),L=e(66279),w=e(47761).calcMarkerSize,p=["a","b","c"],m={a:["b","c"],b:["a","c"],c:["a","b"]};k.exports=function(r,l){var i=r._fullLayout[l.subplot],f=i.sum,v=l.sum||f,c={a:l.a,b:l.b,c:l.c},x,d,M,g,u,y;for(x=0;x<p.length;x++)if(M=p[x],!c[M]){for(u=c[m[M][0]],y=c[m[M][1]],g=new Array(u.length),d=0;d<u.length;d++)g[d]=v-u[d]-y[d];c[M]=g}var C=l._length,S=new Array(C),D,T,P,A,a,R;for(x=0;x<C;x++)D=c.a[x],T=c.b[x],P=c.c[x],h(D)&&h(T)&&h(P)?(D=+D,T=+T,P=+P,A=f/(D+T+P),A!==1&&(D*=A,T*=A,P*=A),R=D,a=P-T,S[x]={x:a,y:R,a:D,b:T,c:P}):S[x]={x:!1,y:!1};return w(l,C),E(r,l),n(S,l),L(S,l),S}},46008:function(k,F,e){var h=e(71828),E=e(47581),n=e(34098),L=e(49508),w=e(11058),p=e(94039),m=e(82410),t=e(28908),r=e(50413);k.exports=function(i,f,v,c){function x(S,D){return h.coerce(i,f,r,S,D)}var d=x("a"),M=x("b"),g=x("c"),u;if(d?(u=d.length,M?(u=Math.min(u,M.length),g&&(u=Math.min(u,g.length))):g?u=Math.min(u,g.length):u=0):M&&g&&(u=Math.min(M.length,g.length)),!u){f.visible=!1;return}f._length=u,x("sum"),x("text"),x("hovertext"),f.hoveron!=="fills"&&x("hovertemplate");var y=u<E.PTS_LINESONLY?"lines+markers":"lines";x("mode",y),n.hasLines(f)&&(w(i,f,v,c,x,{backoff:!0}),p(i,f,x),x("connectgaps")),n.hasMarkers(f)&&L(i,f,v,c,x,{gradient:!0}),n.hasText(f)&&(x("texttemplate"),m(i,f,c,x));var C=[];(n.hasMarkers(f)||n.hasText(f))&&(x("cliponaxis"),x("marker.maxdisplayed"),C.push("points")),x("fill"),f.fill!=="none"&&(t(i,f,v,x),n.hasLines(f)||p(i,f,x)),(f.fill==="tonext"||f.fill==="toself")&&C.push("fills"),x("hoveron",C.join("+")||"points"),h.coerceSelectionMarkerOpacity(f,x)}},4524:function(k){k.exports=function(e,h,E,n,L){if(h.xa&&(e.xaxis=h.xa),h.ya&&(e.yaxis=h.ya),n[L]){var w=n[L];e.a=w.a,e.b=w.b,e.c=w.c}else e.a=h.a,e.b=h.b,e.c=h.c;return e}},93645:function(k,F,e){var h=e(89298);k.exports=function(n,L,w){var p={},m=w[L.subplot]._subplot;return p.aLabel=h.tickText(m.aaxis,n.a,!0).text,p.bLabel=h.tickText(m.baxis,n.b,!0).text,p.cLabel=h.tickText(m.caxis,n.c,!0).text,p}},47250:function(k,F,e){var h=e(33720);k.exports=function(n,L,w,p){var m=h(n,L,w,p);if(!m||m[0].index===!1)return;var t=m[0];if(t.index===void 0){var r=1-t.y0/n.ya._length,l=n.xa._length,i=l*r/2,f=l-i;return t.x0=Math.max(Math.min(t.x0,f),i),t.x1=Math.max(Math.min(t.x1,f),i),m}var v=t.cd[t.index],c=t.trace,x=t.subplot;t.a=v.a,t.b=v.b,t.c=v.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var d={};d[c.subplot]={_subplot:x};var M=c._module.formatLabels(v,c,d);t.aLabel=M.aLabel,t.bLabel=M.bLabel,t.cLabel=M.cLabel;var g=v.hi||c.hoverinfo,u=[];function y(S,D){u.push(S._hovertitle+": "+D)}if(!c.hovertemplate){var C=g.split("+");C.indexOf("all")!==-1&&(C=["a","b","c"]),C.indexOf("a")!==-1&&y(x.aaxis,t.aLabel),C.indexOf("b")!==-1&&y(x.baxis,t.bLabel),C.indexOf("c")!==-1&&y(x.caxis,t.cLabel)}return t.extraText=u.join("<br>"),t.hovertemplate=c.hovertemplate,m}},52979:function(k,F,e){k.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(k,F,e){var h=e(32663);k.exports=function(n,L,w){var p=L.plotContainer;p.select(".scatterlayer").selectAll("*").remove();for(var m=L.xaxis,t=L.yaxis,r={xaxis:m,yaxis:t,plot:p,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},l=L.layers.frontplot.select("g.scatterlayer"),i=0;i<w.length;i++){var f=w[i];f.length&&(f[0].trace._xA=m,f[0].trace._yA=t)}h(n,r,w,l)}},46880:function(k,F,e){var h=e(82196),E=e(50693),n=e(12663).axisHoverFormat,L=e(5386).fF,w=e(42341),p=e(85555).idRegex,m=e(44467).templatedArray,t=e(1426).extendFlat,r=h.marker,l=r.line,i=t(E("marker.line",{editTypeOverride:"calc"}),{width:t({},l.width,{editType:"calc"}),editType:"calc"}),f=t(E("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:i,editType:"calc"});f.color.editType=f.cmin.editType=f.cmax.editType="style";function v(c){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:p[c],editType:"plot"}}}k.exports={dimensions:m("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},w.text,{}),hovertext:t({},w.hovertext,{}),hovertemplate:L(),xhoverformat:n("x"),yhoverformat:n("y"),marker:f,xaxes:v("x"),yaxes:v("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:w.selected.marker,editType:"calc"},unselected:{marker:w.unselected.marker,editType:"calc"},opacity:w.opacity}},65017:function(k,F,e){var h=e(73972),E=e(83312);k.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},h.register(E)},16947:function(k,F,e){var h=e(46075),E=e(73972),n=e(79749),L=e(27659).a0,w=e(93612),p=e(41675).getFromId,m=e(89298).shouldShowZeroLine,t="splom",r={};function l(d){var M=d._fullLayout,g=E.getModule(t),u=L(d.calcdata,g)[0],y=n(d,["ANGLE_instanced_arrays","OES_element_index_uint"],r);y&&(M._hasOnlyLargeSploms&&v(d),g.plot(d,{},u))}function i(d){var M=d.calcdata,g=d._fullLayout;g._hasOnlyLargeSploms&&v(d);for(var u=0;u<M.length;u++){var y=M[u][0],C=y.trace,S=g._splomScenes[C.uid];C.type==="splom"&&S&&S.matrix&&f(d,C,S)}}function f(d,M,g){for(var u=g.matrixOptions.data.length,y=M._visibleDims,C=g.viewOpts.ranges=new Array(u),S=0;S<y.length;S++){var D=y[S],T=C[S]=new Array(4),P=p(d,M._diag[D][0]);P&&(T[0]=P.r2l(P.range[0]),T[2]=P.r2l(P.range[1]));var A=p(d,M._diag[D][1]);A&&(T[1]=A.r2l(A.range[0]),T[3]=A.r2l(A.range[1]))}g.selectBatch.length||g.unselectBatch.length?g.matrix.update({ranges:C},{ranges:C}):g.matrix.update({ranges:C})}function v(d){var M=d._fullLayout,g=M._glcanvas.data()[0].regl,u=M._splomGrid;u||(u=M._splomGrid=h(g)),u.update(c(d))}function c(d){var M=d._context.plotGlPixelRatio,g=d._fullLayout,u=g._size,y=[0,0,g.width*M,g.height*M],C={},S;function D(j,re,ae,ue,de,ee){ae*=M,ue*=M,de*=M,ee*=M;var X=re[j+"color"],Q=re[j+"width"],$=String(X+Q);$ in C?C[$].data.push(NaN,NaN,ae,ue,de,ee):C[$]={data:[ae,ue,de,ee],join:"rect",thickness:Q*M,color:X,viewport:y,range:y,overlay:!1}}for(S in g._splomSubplots){var T=g._plots[S],P=T.xaxis,A=T.yaxis,a=P._gridVals,R=A._gridVals,b=P._offset,N=P._length,O=A._length,Y=u.b+A.domain[0]*u.h,B=-A._m,W=-B*A.r2l(A.range[0],A.calendar),H,U;if(P.showgrid)for(S=0;S<a.length;S++)H=b+P.l2p(a[S].x),D("grid",P,H,Y,H,Y+O);if(A.showgrid)for(S=0;S<R.length;S++)U=Y+W+B*R[S].x,D("grid",A,b,U,b+N,U);m(d,P,A)&&(H=b+P.l2p(0),D("zeroline",P,H,Y,H,Y+O)),m(d,A,P)&&(U=Y+W+0,D("zeroline",A,b,U,b+N,U))}var G=[];for(S in C)G.push(C[S]);return G}function x(d,M,g,u){var y={},C;if(u._splomScenes){for(C=0;C<d.length;C++){var S=d[C];S.type==="splom"&&(y[S.uid]=1)}for(C=0;C<g.length;C++){var D=g[C];if(!y[D.uid]){var T=u._splomScenes[D.uid];T&&T.destroy&&T.destroy(),u._splomScenes[D.uid]=null,delete u._splomScenes[D.uid]}}}Object.keys(u._splomScenes||{}).length===0&&delete u._splomScenes,u._splomGrid&&!M._hasOnlyLargeSploms&&u._hasOnlyLargeSploms&&(u._splomGrid.destroy(),u._splomGrid=null,delete u._splomGrid),w.clean(d,M,g,u)}k.exports={name:t,attr:w.attr,attrRegex:w.attrRegex,layoutAttributes:w.layoutAttributes,supplyLayoutDefaults:w.supplyLayoutDefaults,drawFramework:w.drawFramework,plot:l,drag:i,updateGrid:v,clean:x,updateFx:w.updateFx,toSVG:w.toSVG,reglPrecompiled:r}},87625:function(k,F,e){var h=e(71828),E=e(41675),n=e(47761).calcMarkerSize,L=e(47761).calcAxisExpansion,w=e(36922),p=e(19635).markerSelection,m=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,l=e(78232).TOO_MANY_POINTS;k.exports=function(f,v){var c=v.dimensions,x=v._length,d={},M=d.cdata=[],g=d.data=[],u=v._visibleDims=[],y,C,S,D,T;function P(N,O){for(var Y=N.makeCalcdata({v:O.values,vcalendar:v.calendar},"v"),B=0;B<Y.length;B++)Y[B]=Y[B]===r?NaN:Y[B];M.push(Y),g.push(N.type==="log"?h.simpleMap(Y,N.c2l):Y)}for(y=0;y<c.length;y++)if(S=c[y],S.visible){if(D=E.getFromId(f,v._diag[y][0]),T=E.getFromId(f,v._diag[y][1]),D&&T&&D.type!==T.type){h.log("Skipping splom dimension "+y+" with conflicting axis types");continue}D?(P(D,S),T&&T.type==="category"&&(T._categories=D._categories.slice())):P(T,S),u.push(y)}w(f,v),h.extendFlat(d,m(f,v));var A=M.length,a=A*x>l,R;for(a?R=d.sizeAvg||Math.max(d.size,3):R=n(v,x),C=0;C<u.length;C++)y=u[C],S=c[y],D=E.getFromId(f,v._diag[y][0])||{},T=E.getFromId(f,v._diag[y][1])||{},L(f,v,D,T,M[C],M[C],R);var b=t(f,v);return b.matrix||(b.matrix=!0),b.matrixOptions=d,b.selectedOptions=p(f,v,v.selected),b.unselectedOptions=p(f,v,v.unselected),[{x:!1,y:!1,t:{},trace:v}]}},25784:function(k,F,e){var h=e(71828),E=e(85501),n=e(46880),L=e(34098),w=e(49508),p=e(94397),m=e(68645).isOpenSymbol;k.exports=function(i,f,v,c){function x(D,T){return h.coerce(i,f,n,D,T)}var d=E(i,f,{name:"dimensions",handleItemDefaults:t}),M=x("diagonal.visible"),g=x("showupperhalf"),u=x("showlowerhalf"),y=p(f,d,"values");if(!y||!M&&!g&&!u){f.visible=!1;return}x("text"),x("hovertext"),x("hovertemplate"),x("xhoverformat"),x("yhoverformat"),w(i,f,v,c,x,{noAngleRef:!0,noStandOff:!0});var C=m(f.marker.symbol),S=L.isBubble(f);x("marker.line.width",C||S?1:0),r(i,f,c,x),h.coerceSelectionMarkerOpacity(f,x)};function t(l,i){function f(c,x){return h.coerce(l,i,n.dimensions,c,x)}f("label");var v=f("values");v&&v.length?f("visible"):i.visible=!1,f("axis.type"),f("axis.matches")}function r(l,i,f,v){var c=i.dimensions,x=c.length,d=i.showupperhalf,M=i.showlowerhalf,g=i.diagonal.visible,u,y,C=new Array(x),S=new Array(x);for(u=0;u<x;u++){var D=u?u+1:"";C[u]="x"+D,S[u]="y"+D}var T=v("xaxes",C),P=v("yaxes",S),A=i._diag=new Array(x);i._xaxes={},i._yaxes={};var a=[],R=[];function b(j,re,ae,ue){if(j){var de=j.charAt(0),ee=f._splomAxes[de];if(i["_"+de+"axes"][j]=1,ue.push(j),!(j in ee)){var X=ee[j]={};ae&&(X.label=ae.label||"",ae.visible&&ae.axis&&(ae.axis.type&&(X.type=ae.axis.type),ae.axis.matches&&(X.matches=re)))}}}var N=!g&&!M,O=!g&&!d;for(i._axesDim={},u=0;u<x;u++){var Y=c[u],B=u===0,W=u===x-1,H=B&&N||W&&O?void 0:T[u],U=B&&O||W&&N?void 0:P[u];b(H,U,Y,a),b(U,H,Y,R),A[u]=[H,U],i._axesDim[H]=u,i._axesDim[U]=u}for(u=0;u<a.length;u++)for(y=0;y<R.length;y++){var G=a[u]+R[y];(u>y&&d||u<y&&M||u===y&&(g||!M||!d))&&(f._splomSubplots[G]=1)}(!M||!g&&d&&M)&&(f._splomGridDflt.xside="bottom",f._splomGridDflt.yside="left")}},28801:function(k,F,e){var h=e(71828),E=e(36922),n=e(19635).markerStyle;k.exports=function(w,p){var m=p.trace,t=w._fullLayout._splomScenes[m.uid];if(t){E(w,m),h.extendFlat(t.matrixOptions,n(w,m));var r=h.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(k,F){F.getDimIndex=function(h,E){for(var n=E._id,L=n.charAt(0),w={x:0,y:1}[L],p=h._visibleDims,m=0;m<p.length;m++){var t=p[m];if(h._diag[t][w]===n)return m}return!1}},8567:function(k,F,e){var h=e(35948),E=e(20794).calcHover;function n(L,w,p){var m=L.cd,t=m[0].trace,r=L.scene,l=r.matrixOptions.cdata,i=L.xa,f=L.ya,v=i.c2p(w),c=f.c2p(p),x=L.distance,d=h.getDimIndex(t,i),M=h.getDimIndex(t,f);if(d===!1||M===!1)return[L];for(var g=l[d],u=l[M],y,C,S=x,D=0;D<g.length;D++){var T=g[D],P=u[D],A=i.c2p(T)-v,a=f.c2p(P)-c,R=Math.sqrt(A*A+a*a);R<S&&(S=C=R,y=D)}return L.index=y,L.distance=S,L.dxy=C,y===void 0?[L]:[E(L,g,u,t)]}k.exports={hoverPoints:n}},6419:function(k,F,e){var h=e(65017);h.basePlotModule=e(16947),k.exports=h},79410:function(k,F,e){var h=e(60487),E=e(71828),n=e(41675),L=e(64505).selectMode;k.exports=function(m,t,r){if(r.length)for(var l=0;l<r.length;l++)w(m,r[l][0])};function w(p,m){var t=p._fullLayout,r=t._size,l=m.trace,i=m.t,f=t._splomScenes[l.uid],v=f.matrixOptions,c=v.cdata,x=t._glcanvas.data()[0].regl,d=t.dragmode,M,g,u,y,C;if(c.length!==0){v.lower=l.showupperhalf,v.upper=l.showlowerhalf,v.diagonal=l.diagonal.visible;var S=l._visibleDims,D=c.length,T=f.viewOpts={};for(T.ranges=new Array(D),T.domains=new Array(D),C=0;C<S.length;C++){u=S[C];var P=T.ranges[C]=new Array(4),A=T.domains[C]=new Array(4);M=n.getFromId(p,l._diag[u][0]),M&&(P[0]=M._rl[0],P[2]=M._rl[1],A[0]=M.domain[0],A[2]=M.domain[1]),g=n.getFromId(p,l._diag[u][1]),g&&(P[1]=g._rl[0],P[3]=g._rl[1],A[1]=g.domain[0],A[3]=g.domain[1])}var a=p._context.plotGlPixelRatio,R=r.l*a,b=r.b*a,N=r.w*a,O=r.h*a;T.viewport=[R,b,N+R,O+b],f.matrix===!0&&(f.matrix=h(x));var Y=t.clickmode.indexOf("select")>-1,B=L(d)||!!l.selectedpoints||Y,W=!0;if(B){var H=l._length;if(l.selectedpoints){f.selectBatch=l.selectedpoints;var U=l.selectedpoints,G={};for(u=0;u<U.length;u++)G[U[u]]=!0;var j=[];for(u=0;u<H;u++)G[u]||j.push(u);f.unselectBatch=j}var re=i.xpx=new Array(D),ae=i.ypx=new Array(D);for(C=0;C<S.length;C++){if(u=S[C],M=n.getFromId(p,l._diag[u][0]),M)for(re[C]=new Array(H),y=0;y<H;y++)re[C][y]=M.c2p(c[C][y]);if(g=n.getFromId(p,l._diag[u][1]),g)for(ae[C]=new Array(H),y=0;y<H;y++)ae[C][y]=g.c2p(c[C][y])}if(f.selectBatch.length||f.unselectBatch.length){var ue=E.extendFlat({},v,f.unselectedOptions,T),de=E.extendFlat({},v,f.selectedOptions,T);f.matrix.update(ue,de),W=!1}}else i.xpx=i.ypx=null;if(W){var ee=E.extendFlat({},v,T);f.matrix.update(ee,null)}}}},10164:function(k,F,e){var h=e(71828);k.exports=function(n,L){var w=n._fullLayout,p=L.uid,m=w._splomScenes;m||(m=w._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},l=m[L.uid];return l||(l=m[p]=h.extendFlat({},t,r),l.draw=function(){l.matrix&&l.matrix.draw&&(l.selectBatch.length||l.unselectBatch.length?l.matrix.draw(l.unselectBatch,l.selectBatch):l.matrix.draw()),l.dirty=!1},l.destroy=function(){l.matrix&&l.matrix.destroy&&l.matrix.destroy(),l.matrixOptions=null,l.selectBatch=null,l.unselectBatch=null,l=null}),l.dirty||h.extendFlat(l,t),l}},8689:function(k,F,e){var h=e(71828),E=h.pushUnique,n=e(34098),L=e(35948);k.exports=function(p,m){var t=p.cd,r=t[0].trace,l=t[0].t,i=p.scene,f=i.matrixOptions.cdata,v=p.xaxis,c=p.yaxis,x=[];if(!i)return x;var d=!n.hasMarkers(r)&&!n.hasText(r);if(r.visible!==!0||d)return x;var M=L.getDimIndex(r,v),g=L.getDimIndex(r,c);if(M===!1||g===!1)return x;var u=l.xpx[M],y=l.ypx[g],C=f[M],S=f[g],D=(p.scene.selectBatch||[]).slice(),T=[];if(m!==!1&&!m.degenerate)for(var P=0;P<C.length;P++)m.contains([u[P],y[P]],null,P,p)?(x.push({pointNumber:P,x:C[P],y:S[P]}),E(D,P)):D.indexOf(P)!==-1?E(D,P):T.push(P);var A=i.matrixOptions;return!D.length&&!T.length?i.matrix.update(A,null):!i.selectBatch.length&&!i.unselectBatch.length&&i.matrix.update(i.unselectedOptions,h.extendFlat({},A,i.selectedOptions,i.viewOpts)),i.selectBatch=D,i.unselectBatch=T,x}},21850:function(k,F,e){var h=e(50693),E=e(12663).axisHoverFormat,n=e(5386).fF,L=e(2418),w=e(9012),p=e(1426).extendFlat,m={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:p({},w.showlegend,{dflt:!1})};p(m,h("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){m[r]=L[r]}),m.hoverinfo=p({},w.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),m.transforms=void 0,k.exports=m},88489:function(k,F,e){var h=e(71828),E=e(78803);function n(m,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=p(t.u,t._len),t._v=p(t.v,t._len),t._w=p(t.w,t._len),t._x=p(t.x,t._len),t._y=p(t.y,t._len),t._z=p(t.z,t._len);var r=L(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var l=0,i,f,v;t.starts&&(i=p(t.starts.x||[]),f=p(t.starts.y||[]),v=p(t.starts.z||[]),l=Math.min(i.length,f.length,v.length)),t._startsX=i||[],t._startsY=f||[],t._startsZ=v||[];var c=0,x=1/0,d;for(d=0;d<t._len;d++){var M=t._u[d],g=t._v[d],u=t._w[d],y=Math.sqrt(M*M+g*g+u*u);c=Math.max(c,y),x=Math.min(x,y)}for(E(m,t,{vals:[x,c],containerStr:"",cLetter:"c"}),d=0;d<l;d++){var C=i[d];r.xMax=Math.max(r.xMax,C),r.xMin=Math.min(r.xMin,C);var S=f[d];r.yMax=Math.max(r.yMax,S),r.yMin=Math.min(r.yMin,S);var D=v[d];r.zMax=Math.max(r.zMax,D),r.zMin=Math.min(r.zMin,D)}t._slen=l,t._normMax=c,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function L(m){var t=m._x,r=m._y,l=m._z,i=m._len,f,v,c,x=-1/0,d=1/0,M=-1/0,g=1/0,u=-1/0,y=1/0,C="",S,D,T,P,A,a,R,b,N;for(i&&(P=t[0],a=r[0],b=l[0]),i>1&&(A=t[i-1],R=r[i-1],N=l[i-1]),f=0;f<i;f++)x=Math.max(x,t[f]),d=Math.min(d,t[f]),M=Math.max(M,r[f]),g=Math.min(g,r[f]),u=Math.max(u,l[f]),y=Math.min(y,l[f]),!S&&t[f]!==P&&(S=!0,C+="x"),!D&&r[f]!==a&&(D=!0,C+="y"),!T&&l[f]!==b&&(T=!0,C+="z");S||(C+="x"),D||(C+="y"),T||(C+="z");var O=w(m._x),Y=w(m._y),B=w(m._z);C=C.replace("x",(P>A?"-":"+")+"x"),C=C.replace("y",(a>R?"-":"+")+"y"),C=C.replace("z",(b>N?"-":"+")+"z");var W=function(){i=0,O=[],Y=[],B=[]};(!i||i<O.length*Y.length*B.length)&&W();var H=function(pe){return pe==="x"?t:pe==="y"?r:l},U=function(pe){return pe==="x"?O:pe==="y"?Y:B},G=function(pe){return pe[i-1]<pe[0]?-1:1},j=H(C[1]),re=H(C[3]),ae=H(C[5]),ue=U(C[1]).length,de=U(C[3]).length,ee=U(C[5]).length,X=!1,Q=function(pe,we,Ee){return ue*(de*pe+we)+Ee},$=G(H(C[1])),ne=G(H(C[3])),fe=G(H(C[5]));for(f=0;f<ee-1;f++){for(v=0;v<de-1;v++){for(c=0;c<ue-1;c++){var te=Q(f,v,c),q=Q(f,v,c+1),he=Q(f,v+1,c),se=Q(f+1,v,c);if((!(j[te]*$<j[q]*$)||!(re[te]*ne<re[he]*ne)||!(ae[te]*fe<ae[se]*fe))&&(X=!0),X)break}if(X)break}if(X)break}return X&&(h.warn("Encountered arbitrary coordinates! Unable to input data grid."),W()),{xMin:d,yMin:g,zMin:y,xMax:x,yMax:M,zMax:u,Xs:O,Ys:Y,Zs:B,len:i,fill:C}}function w(m){return h.distinctVals(m).vals}function p(m,t){if(t===void 0&&(t=m.length),h.isTypedArray(m))return m.subarray(0,t);for(var r=[],l=0;l<t;l++)r[l]=+m[l];return r}k.exports={calc:n,filter:p,processGrid:L}},90154:function(k,F,e){var h=e(9330).gl_streamtube3d,E=h.createTubeMesh,n=e(71828),L=e(81697).parseColorScale,w=e(21081).extractOpts,p=e(90060),m={xaxis:0,yaxis:1,zaxis:2};function t(c,x){this.scene=c,this.uid=x,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(c){var x=this.scene.fullSceneLayout,d=this.scene.dataScale;function M(y,C){var S=x[C],D=d[m[C]];return S.l2c(y)/D}if(c.object===this.mesh){var g=c.data.position,u=c.data.velocity;return c.traceCoordinate=[M(g[0],"xaxis"),M(g[1],"yaxis"),M(g[2],"zaxis"),M(u[0],"xaxis"),M(u[1],"yaxis"),M(u[2],"zaxis"),c.data.intensity*this.data._normMax,c.data.divergence],c.textLabel=this.data.hovertext||this.data.text,!0}};function l(c){var x=c.length,d;return x>2?d=c.slice(1,x-1):x===2?d=[(c[0]+c[1])/2]:d=c,d}function i(c){var x=c.length;return x===1?[.5,.5]:[c[1]-c[0],c[x-1]-c[x-2]]}function f(c,x){var d=c.fullSceneLayout,M=c.dataScale,g=x._len,u={};function y(de,ee){var X=d[ee],Q=M[m[ee]];return n.simpleMap(de,function($){return X.d2l($)*Q})}if(u.vectors=p(y(x._u,"xaxis"),y(x._v,"yaxis"),y(x._w,"zaxis"),g),!g)return{positions:[],cells:[]};var C=y(x._Xs,"xaxis"),S=y(x._Ys,"yaxis"),D=y(x._Zs,"zaxis");u.meshgrid=[C,S,D],u.gridFill=x._gridFill;var T=x._slen;if(T)u.startingPositions=p(y(x._startsX,"xaxis"),y(x._startsY,"yaxis"),y(x._startsZ,"zaxis"));else{for(var P=S[0],A=l(C),a=l(D),R=new Array(A.length*a.length),b=0,N=0;N<A.length;N++)for(var O=0;O<a.length;O++)R[b++]=[A[N],P,a[O]];u.startingPositions=R}u.colormap=L(x),u.tubeSize=x.sizeref,u.maxLength=x.maxdisplayed;var Y=y(x._xbnds,"xaxis"),B=y(x._ybnds,"yaxis"),W=y(x._zbnds,"zaxis"),H=i(C),U=i(S),G=i(D),j=[[Y[0]-H[0],B[0]-U[0],W[0]-G[0]],[Y[1]+H[1],B[1]+U[1],W[1]+G[1]]],re=h(u,j),ae=w(x);re.vertexIntensityBounds=[ae.min/x._normMax,ae.max/x._normMax];var ue=x.lightposition;return re.lightPosition=[ue.x,ue.y,ue.z],re.ambient=x.lighting.ambient,re.diffuse=x.lighting.diffuse,re.specular=x.lighting.specular,re.roughness=x.lighting.roughness,re.fresnel=x.lighting.fresnel,re.opacity=x.opacity,x._pad=re.tubeScale*x.sizeref*2,re}r.update=function(c){this.data=c;var x=f(this.scene,c);this.mesh.update(x)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function v(c,x){var d=c.glplot.gl,M=f(c,x),g=E(d,M),u=new t(c,x.uid);return u.mesh=g,u.data=x,g._trace=u,c.glplot.add(g),u}k.exports=v},22459:function(k,F,e){var h=e(71828),E=e(1586),n=e(21850);k.exports=function(w,p,m,t){function r(d,M){return h.coerce(w,p,n,d,M)}var l=r("u"),i=r("v"),f=r("w"),v=r("x"),c=r("y"),x=r("z");if(!l||!l.length||!i||!i.length||!f||!f.length||!v||!v.length||!c||!c.length||!x||!x.length){p.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),E(w,p,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),p._length=null}},61510:function(k,F,e){k.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(h,E){return h.tubex=h.x,h.tubey=h.y,h.tubez=h.z,h.tubeu=E.traceCoordinate[3],h.tubev=E.traceCoordinate[4],h.tubew=E.traceCoordinate[5],h.norm=E.traceCoordinate[6],h.divergence=E.traceCoordinate[7],delete h.x,delete h.y,delete h.z,h},meta:{}}},57564:function(k,F,e){var h=e(9012),E=e(5386).fF,n=e(5386).si,L=e(50693),w=e(27670).Y,p=e(34e3),m=e(7055),t=e(1426).extendFlat,r=e(79952).u;k.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},p.marker.line.color,{dflt:null}),width:t({},p.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:p.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:n({editType:"plot"},{keys:m.eventDataKeys.concat(["label","value"])}),hovertext:p.hovertext,hoverinfo:t({},h.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:E({},{keys:m.eventDataKeys}),textfont:p.textfont,insidetextorientation:p.insidetextorientation,insidetextfont:p.insidetextfont,outsidetextfont:t({},p.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:p.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:w({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(k,F,e){var h=e(74875);F.name="sunburst",F.plot=function(E,n,L,w){h.plotBasePlot(F.name,E,n,L,w)},F.clean=function(E,n,L,w){h.cleanBasePlot(F.name,E,n,L,w)}},52147:function(k,F,e){var h=e(674),E=e(92770),n=e(71828),L=e(21081).makeColorScaleFuncFromTrace,w=e(32354).makePullColorFn,p=e(32354).generateExtendedColors,m=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},l={},i={};F.calc=function(v,c){var x=v._fullLayout,d=c.ids,M=n.isArrayOrTypedArray(d),g=c.labels,u=c.parents,y=c.values,C=n.isArrayOrTypedArray(y),S=[],D={},T={},P=function($,ne){D[$]?D[$].push(ne):D[$]=[ne],T[ne]=1},A=function($){return $||typeof $=="number"},a=function($){return!C||E(y[$])&&y[$]>=0},R,b,N;M?(R=Math.min(d.length,u.length),b=function($){return A(d[$])&&a($)},N=function($){return String(d[$])}):(R=Math.min(g.length,u.length),b=function($){return A(g[$])&&a($)},N=function($){return String(g[$])}),C&&(R=Math.min(R,y.length));for(var O=0;O<R;O++)if(b(O)){var Y=N(O),B=A(u[O])?String(u[O]):"",W={i:O,id:Y,pid:B,label:A(g[O])?String(g[O]):""};C&&(W.v=+y[O]),S.push(W),P(B,Y)}if(D[""]){if(D[""].length>1){for(var G=n.randstr(),j=0;j<S.length;j++)S[j].pid===""&&(S[j].pid=G);S.unshift({hasMultipleRoots:!0,id:G,pid:"",label:""})}}else{var H=[],U;for(U in D)T[U]||H.push(U);if(H.length===1)U=H[0],S.unshift({hasImpliedRoot:!0,id:U,pid:"",label:U});else return n.warn(["Multiple implied roots, cannot build",c.type,"hierarchy of",c.name+".","These roots include:",H.join(", ")].join(" "))}var re;try{re=h.stratify().id(function($){return $.id}).parentId(function($){return $.pid})(S)}catch($){return n.warn(["Failed to build",c.type,"hierarchy of",c.name+".","Error:",$.message].join(" "))}var ae=h.hierarchy(re),ue=!1;if(C)switch(c.branchvalues){case"remainder":ae.sum(function($){return $.data.v});break;case"total":ae.each(function($){var ne=$.data.data,fe=ne.v;if($.children){var te=$.children.reduce(function(q,he){return q+he.data.data.v},0);if((ne.hasImpliedRoot||ne.hasMultipleRoots)&&(fe=te),fe<te*t)return ue=!0,n.warn(["Total value for node",$.data.data.id,"of",c.name,"is smaller than the sum of its children.",`
parent value =`,fe,`
children sum =`,te].join(" "))}$.value=fe});break}else f(ae,c,{branches:c.count.indexOf("branches")!==-1,leaves:c.count.indexOf("leaves")!==-1});if(!ue){c.sort&&ae.sort(function($,ne){return ne.value-$.value});var de,ee,X=c.marker.colors||[],Q=!!X.length;return c._hasColorscale?(Q||(X=C?c.values:c._values),m(v,c,{vals:X,containerStr:"marker",cLetter:"c"}),ee=L(c.marker)):de=w(x["_"+c.type+"colormap"]),ae.each(function($){var ne=$.data.data;ne.color=c._hasColorscale?ee(X[ne.i]):de(X[ne.i],ne.id)}),S[0].hierarchy=ae,S}},F._runCrossTraceCalc=function(v,c){var x=c._fullLayout,d=c.calcdata,M=x[v+"colorway"],g=x["_"+v+"colormap"];x["extend"+v+"colors"]&&(M=p(M,v==="icicle"?i:v==="treemap"?l:r));var u=0,y;function C(P){var A=P.data.data,a=A.id;A.color===!1&&(g[a]?A.color=g[a]:P.parent?P.parent.parent?A.color=P.parent.data.data.color:(g[a]=A.color=M[u%M.length],u++):A.color=y)}for(var S=0;S<d.length;S++){var D=d[S],T=D[0];T.trace.type===v&&T.hierarchy&&(y=T.trace.root.color,T.hierarchy.each(C))}},F.crossTraceCalc=function(v){return F._runCrossTraceCalc("sunburst",v)};function f(v,c,x){var d=0,M=v.children;if(M){for(var g=M.length,u=0;u<g;u++)d+=f(M[u],c,x);x.branches&&d++}else x.leaves&&d++;return v.value=v.data.data.value=d,c._values||(c._values=[]),c._values[v.data.data.i]=d,d}},7055:function(k){k.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(k,F,e){var h=e(71828),E=e(57564),n=e(27670).c,L=e(90769).handleText,w=e(37434).handleMarkerDefaults,p=e(21081),m=p.hasColorscale,t=p.handleDefaults;k.exports=function(l,i,f,v){function c(C,S){return h.coerce(l,i,E,C,S)}var x=c("labels"),d=c("parents");if(!x||!x.length||!d||!d.length){i.visible=!1;return}var M=c("values");M&&M.length?c("branchvalues"):c("count"),c("level"),c("maxdepth"),w(l,i,v,c);var g=i._hasColorscale=m(l,"marker","colors")||(l.marker||{}).coloraxis;g&&t(l,i,v,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",g?1:.7);var u=c("text");c("texttemplate"),i.texttemplate||c("textinfo",Array.isArray(u)?"text+label":"label"),c("hovertext"),c("hovertemplate");var y="auto";L(l,i,v,c,y,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("insidetextorientation"),c("sort"),c("rotation"),c("root.color"),n(i,v,c),i._length=null}},43467:function(k,F,e){var h=e(91424),E=e(7901);k.exports=function(L,w,p,m,t){var r=w.data.data,l=r.i,i=t||r.color;if(l>=0){w.i=r.i;var f=p.marker;f.pattern?(!f.colors||!f.pattern.shape)&&(f.color=i,w.color=i):(f.color=i,w.color=i),h.pointStyle(L,p,m,w)}else E.fill(L,i)}},83523:function(k,F,e){var h=e(39898),E=e(73972),n=e(23469).appendArrayPointValue,L=e(30211),w=e(71828),p=e(11086),m=e(2791),t=e(53581),r=t.formatPieValue;k.exports=function(f,v,c,x,d){var M=x[0],g=M.trace,u=M.hierarchy,y=g.type==="sunburst",C=g.type==="treemap"||g.type==="icicle";"_hasHoverLabel"in g||(g._hasHoverLabel=!1),"_hasHoverEvent"in g||(g._hasHoverEvent=!1);var S=function(P){var A=c._fullLayout;if(!(c._dragging||A.hovermode===!1)){var a=c._fullData[g.index],R=P.data.data,b=R.i,N=m.isHierarchyRoot(P),O=m.getParent(u,P),Y=m.getValue(P),B=function(q){return w.castOption(a,b,q)},W=B("hovertemplate"),H=L.castHoverinfo(a,A,b),U=A.separators,G;if(W||H&&H!=="none"&&H!=="skip"){var j,re;y&&(j=M.cx+P.pxmid[0]*(1-P.rInscribed),re=M.cy+P.pxmid[1]*(1-P.rInscribed)),C&&(j=P._hoverX,re=P._hoverY);var ae={},ue=[],de=[],ee=function(q){return ue.indexOf(q)!==-1};H&&(ue=H==="all"?a._module.attributes.hoverinfo.flags:H.split("+")),ae.label=R.label,ee("label")&&ae.label&&de.push(ae.label),R.hasOwnProperty("v")&&(ae.value=R.v,ae.valueLabel=r(ae.value,U),ee("value")&&de.push(ae.valueLabel)),ae.currentPath=P.currentPath=m.getPath(P.data),ee("current path")&&!N&&de.push(ae.currentPath);var X,Q=[],$=function(){Q.indexOf(X)===-1&&(de.push(X),Q.push(X))};ae.percentParent=P.percentParent=Y/m.getValue(O),ae.parent=P.parentString=m.getPtLabel(O),ee("percent parent")&&(X=m.formatPercent(ae.percentParent,U)+" of "+ae.parent,$()),ae.percentEntry=P.percentEntry=Y/m.getValue(v),ae.entry=P.entry=m.getPtLabel(v),ee("percent entry")&&!N&&!P.onPathbar&&(X=m.formatPercent(ae.percentEntry,U)+" of "+ae.entry,$()),ae.percentRoot=P.percentRoot=Y/m.getValue(u),ae.root=P.root=m.getPtLabel(u),ee("percent root")&&!N&&(X=m.formatPercent(ae.percentRoot,U)+" of "+ae.root,$()),ae.text=B("hovertext")||B("text"),ee("text")&&(X=ae.text,w.isValidTextValue(X)&&de.push(X)),G=[l(P,a,d.eventDataKeys)];var ne={trace:a,y:re,_x0:P._x0,_x1:P._x1,_y0:P._y0,_y1:P._y1,text:de.join("<br>"),name:W||ee("name")?a.name:void 0,color:B("hoverlabel.bgcolor")||R.color,borderColor:B("hoverlabel.bordercolor"),fontFamily:B("hoverlabel.font.family"),fontSize:B("hoverlabel.font.size"),fontColor:B("hoverlabel.font.color"),nameLength:B("hoverlabel.namelength"),textAlign:B("hoverlabel.align"),hovertemplate:W,hovertemplateLabels:ae,eventData:G};y&&(ne.x0=j-P.rInscribed*P.rpx1,ne.x1=j+P.rInscribed*P.rpx1,ne.idealAlign=P.pxmid[0]<0?"left":"right"),C&&(ne.x=j,ne.idealAlign=j<0?"left":"right");var fe=[];L.loneHover(ne,{container:A._hoverlayer.node(),outerContainer:A._paper.node(),gd:c,inOut_bbox:fe}),G[0].bbox=fe[0],g._hasHoverLabel=!0}if(C){var te=f.select("path.surface");d.styleOne(te,P,a,c,{hovered:!0})}g._hasHoverEvent=!0,c.emit("plotly_hover",{points:G||[l(P,a,d.eventDataKeys)],event:h.event})}},D=function(P){var A=c._fullLayout,a=c._fullData[g.index],R=h.select(this).datum();if(g._hasHoverEvent&&(P.originalEvent=h.event,c.emit("plotly_unhover",{points:[l(R,a,d.eventDataKeys)],event:h.event}),g._hasHoverEvent=!1),g._hasHoverLabel&&(L.loneUnhover(A._hoverlayer.node()),g._hasHoverLabel=!1),C){var b=f.select("path.surface");d.styleOne(b,R,a,c,{hovered:!1})}},T=function(P){var A=c._fullLayout,a=c._fullData[g.index],R=y&&(m.isHierarchyRoot(P)||m.isLeaf(P)),b=m.getPtId(P),N=m.isEntry(P)?m.findEntryWithChild(u,b):m.findEntryWithLevel(u,b),O=m.getPtId(N),Y={points:[l(P,a,d.eventDataKeys)],event:h.event};R||(Y.nextLevel=O);var B=p.triggerHandler(c,"plotly_"+g.type+"click",Y);if(B!==!1&&A.hovermode&&(c._hoverdata=[l(P,a,d.eventDataKeys)],L.click(c,h.event)),!R&&B!==!1&&!c._dragging&&!c._transitioning){E.call("_storeDirectGUIEdit",a,A._tracePreGUI[a.uid],{level:a.level});var W={data:[{level:O}],traces:[g.index]},H={frame:{redraw:!1,duration:d.transitionTime},transition:{duration:d.transitionTime,easing:d.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(A._hoverlayer.node()),E.call("animate",c,W,H)}};f.on("mouseover",S),f.on("mouseout",D),f.on("click",T)};function l(i,f,v){for(var c=i.data.data,x={curveNumber:f.index,pointNumber:c.i,data:f._input,fullData:f},d=0;d<v.length;d++){var M=v[d];M in i&&(x[M]=i[M])}return"parentString"in i&&!m.isHierarchyRoot(i)&&(x.parent=i.parentString),n(x,f,c.i),x}},2791:function(k,F,e){var h=e(71828),E=e(7901),n=e(6964),L=e(53581);F.findEntryWithLevel=function(t,r){var l;return r&&t.eachAfter(function(i){if(F.getPtId(i)===r)return l=i.copy()}),l||t},F.findEntryWithChild=function(t,r){var l;return t.eachAfter(function(i){for(var f=i.children||[],v=0;v<f.length;v++){var c=f[v];if(F.getPtId(c)===r)return l=i.copy()}}),l||t},F.isEntry=function(t){return!t.parent},F.isLeaf=function(t){return!t.children},F.getPtId=function(t){return t.data.data.id},F.getPtLabel=function(t){return t.data.data.label},F.getValue=function(t){return t.value},F.isHierarchyRoot=function(t){return m(t)===""},F.setSliceCursor=function(t,r,l){var i=l.isTransitioning;if(!i){var f=t.datum();i=l.hideOnRoot&&F.isHierarchyRoot(f)||l.hideOnLeaves&&F.isLeaf(f)}n(t,i?null:"pointer")};function w(t,r,l){return{color:F.getOutsideTextFontKey("color",t,r,l),family:F.getOutsideTextFontKey("family",t,r,l),size:F.getOutsideTextFontKey("size",t,r,l)}}function p(t,r,l,i){var f=(i||{}).onPathbar,v=r.data.data,c=v.i,x=h.castOption(t,c,(f?"pathbar.textfont":"insidetextfont")+".color");return!x&&t._input.textfont&&(x=h.castOption(t._input,c,"textfont.color")),{color:x||E.contrast(v.color),family:F.getInsideTextFontKey("family",t,r,l,i),size:F.getInsideTextFontKey("size",t,r,l,i)}}F.getInsideTextFontKey=function(t,r,l,i,f){var v=(f||{}).onPathbar,c=v?"pathbar.textfont":"insidetextfont",x=l.data.data.i;return h.castOption(r,x,c+"."+t)||h.castOption(r,x,"textfont."+t)||i.size},F.getOutsideTextFontKey=function(t,r,l,i){var f=l.data.data.i;return h.castOption(r,f,"outsidetextfont."+t)||h.castOption(r,f,"textfont."+t)||i.size},F.isOutsideText=function(t,r){return!t._hasColorscale&&F.isHierarchyRoot(r)},F.determineTextFont=function(t,r,l,i){return F.isOutsideText(t,r)?w(t,r,l):p(t,r,l,i)},F.hasTransition=function(t){return!!(t&&t.duration>0)},F.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},F.isHeader=function(t,r){return!(F.isLeaf(t)||t.depth===r._maxDepth-1)};function m(t){return t.data.data.pid}F.getParent=function(t,r){return F.findEntryWithLevel(t,m(r))},F.listPath=function(t,r){var l=t.parent;if(!l)return[];var i=r?[l.data[r]]:[l];return F.listPath(l,r).concat(i)},F.getPath=function(t){return F.listPath(t,"label").join("/")+"/"},F.formatValue=L.formatPieValue,F.formatPercent=function(t,r){var l=h.formatPercent(t,0);return l==="0%"&&(l=L.formatPiePercent(t,r)),l}},87619:function(k,F,e){k.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(k){k.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(k,F,e){var h=e(71828),E=e(2654);k.exports=function(L,w){function p(m,t){return h.coerce(L,w,E,m,t)}p("sunburstcolorway",w.colorway),p("extendsunburstcolors")}},24714:function(k,F,e){var h=e(39898),E=e(674),n=e(81684).sX,L=e(91424),w=e(71828),p=e(63893),m=e(72597),t=m.recordMinTextSize,r=m.clearMinTextSize,l=e(14575),i=e(53581).getRotationAngle,f=l.computeTransform,v=l.transformInsideText,c=e(29969).styleOne,x=e(16688).resizeText,d=e(83523),M=e(7055),g=e(2791);F.plot=function(T,P,A,a){var R=T._fullLayout,b=R._sunburstlayer,N,O,Y=!A,B=!R.uniformtext.mode&&g.hasTransition(A);if(r("sunburst",R),N=b.selectAll("g.trace.sunburst").data(P,function(H){return H[0].trace.uid}),N.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),N.order(),B){a&&(O=a());var W=h.transition().duration(A.duration).ease(A.easing).each("end",function(){O&&O()}).each("interrupt",function(){O&&O()});W.each(function(){b.selectAll("g.trace").each(function(H){u(T,H,this,A)})})}else N.each(function(H){u(T,H,this,A)}),R.uniformtext.mode&&x(T,R._sunburstlayer.selectAll(".trace"),"sunburst");Y&&N.exit().remove()};function u(T,P,A,a){var R=T._context.staticPlot,b=T._fullLayout,N=!b.uniformtext.mode&&g.hasTransition(a),O=h.select(A),Y=O.selectAll("g.slice"),B=P[0],W=B.trace,H=B.hierarchy,U=g.findEntryWithLevel(H,W.level),G=g.getMaxDepth(W),j=b._size,re=W.domain,ae=j.w*(re.x[1]-re.x[0]),ue=j.h*(re.y[1]-re.y[0]),de=.5*Math.min(ae,ue),ee=B.cx=j.l+j.w*(re.x[1]+re.x[0])/2,X=B.cy=j.t+j.h*(1-re.y[0])-ue/2;if(!U)return Y.remove();var Q=null,$={};N&&Y.each(function(Ge){$[g.getPtId(Ge)]={rpx0:Ge.rpx0,rpx1:Ge.rpx1,x0:Ge.x0,x1:Ge.x1,transform:Ge.transform},!Q&&g.isEntry(Ge)&&(Q=Ge)});var ne=y(U).descendants(),fe=U.height+1,te=0,q=G;B.hasMultipleRoots&&g.isHierarchyRoot(U)&&(ne=ne.slice(1),fe-=1,te=1,q+=1),ne=ne.filter(function(Ge){return Ge.y1<=q});var he=i(W.rotation);he&&ne.forEach(function(Ge){Ge.x0+=he,Ge.x1+=he});var se=Math.min(fe,G),pe=function(Ge){return(Ge-te)/se*de},we=function(Ge,it){return[Ge*Math.cos(it),-Ge*Math.sin(it)]},Ee=function(Ge){return w.pathAnnulus(Ge.rpx0,Ge.rpx1,Ge.x0,Ge.x1,ee,X)},Me=function(Ge){return ee+S(Ge)[0]*(Ge.transform.rCenter||0)+(Ge.transform.x||0)},Be=function(Ge){return X+S(Ge)[1]*(Ge.transform.rCenter||0)+(Ge.transform.y||0)};Y=Y.data(ne,g.getPtId),Y.enter().append("g").classed("slice",!0),N?Y.exit().transition().each(function(){var Ge=h.select(this),it=Ge.select("path.surface");it.transition().attrTween("d",function($e){var tt=Le($e);return function(vt){return Ee(tt(vt))}});var qe=Ge.select("g.slicetext");qe.attr("opacity",0)}).remove():Y.exit().remove(),Y.order();var Ne=null;if(N&&Q){var Ce=g.getPtId(Q);Y.each(function(Ge){Ne===null&&g.getPtId(Ge)===Ce&&(Ne=Ge.x1)})}var Te=Y;N&&(Te=Te.transition().each("end",function(){var Ge=h.select(this);g.setSliceCursor(Ge,T,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Te.each(function(Ge){var it=h.select(this),qe=w.ensureSingle(it,"path","surface",function(Mt){Mt.style("pointer-events",R?"none":"all")});Ge.rpx0=pe(Ge.y0),Ge.rpx1=pe(Ge.y1),Ge.xmid=(Ge.x0+Ge.x1)/2,Ge.pxmid=we(Ge.rpx1,Ge.xmid),Ge.midangle=-(Ge.xmid-Math.PI/2),Ge.startangle=-(Ge.x0-Math.PI/2),Ge.stopangle=-(Ge.x1-Math.PI/2),Ge.halfangle=.5*Math.min(w.angleDelta(Ge.x0,Ge.x1)||Math.PI,Math.PI),Ge.ring=1-Ge.rpx0/Ge.rpx1,Ge.rInscribed=C(Ge),N?qe.transition().attrTween("d",function(Mt){var Ct=Ve(Mt);return function(Wt){return Ee(Ct(Wt))}}):qe.attr("d",Ee),it.call(d,U,T,P,{eventDataKeys:M.eventDataKeys,transitionTime:M.CLICK_TRANSITION_TIME,transitionEasing:M.CLICK_TRANSITION_EASING}).call(g.setSliceCursor,T,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:T._transitioning}),qe.call(c,Ge,W,T);var $e=w.ensureSingle(it,"g","slicetext"),tt=w.ensureSingle($e,"text","",function(Mt){Mt.attr("data-notex",1)}),vt=w.ensureUniformFontSize(T,g.determineTextFont(W,Ge,b.font));tt.text(F.formatSliceLabel(Ge,U,W,P,b)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,vt).call(p.convertToTspans,T);var dt=L.bBox(tt.node());Ge.transform=v(dt,Ge,B),Ge.transform.targetX=Me(Ge),Ge.transform.targetY=Be(Ge);var gt=function(Mt,Ct){var Wt=Mt.transform;return f(Wt,Ct),Wt.fontSize=vt.size,t(W.type,Wt,b),w.getTextTransform(Wt)};N?tt.transition().attrTween("transform",function(Mt){var Ct=We(Mt);return function(Wt){return gt(Ct(Wt),dt)}}):tt.attr("transform",gt(Ge,dt))});function Le(Ge){var it=g.getPtId(Ge),qe=$[it],$e=$[g.getPtId(U)],tt;if($e){var vt=(Ge.x1>$e.x1?2*Math.PI:0)+he;tt=Ge.rpx1<$e.rpx1?{x0:Ge.x0,x1:Ge.x1,rpx0:0,rpx1:0}:{x0:vt,x1:vt,rpx0:Ge.rpx0,rpx1:Ge.rpx1}}else{var dt,gt=g.getPtId(Ge.parent);Y.each(function(ke){if(g.getPtId(ke)===gt)return dt=ke});var Mt=dt.children,Ct;Mt.forEach(function(ke,Ie){if(g.getPtId(ke)===it)return Ct=Ie});var Wt=Mt.length,Xe=n(dt.x0,dt.x1);tt={rpx0:de,rpx1:de,x0:Xe(Ct/Wt),x1:Xe((Ct+1)/Wt)}}return n(qe,tt)}function Ve(Ge){var it=$[g.getPtId(Ge)],qe,$e={x0:Ge.x0,x1:Ge.x1,rpx0:Ge.rpx0,rpx1:Ge.rpx1};if(it)qe=it;else if(Q)if(Ge.parent)if(Ne){var tt=(Ge.x1>Ne?2*Math.PI:0)+he;qe={x0:tt,x1:tt}}else qe={rpx0:de,rpx1:de},w.extendFlat(qe,Fe(Ge));else qe={rpx0:0,rpx1:0};else qe={x0:he,x1:he};return n(qe,$e)}function We(Ge){var it=$[g.getPtId(Ge)],qe,$e=Ge.transform;if(it)qe=it;else if(qe={rpx1:Ge.rpx1,transform:{textPosAngle:$e.textPosAngle,scale:0,rotate:$e.rotate,rCenter:$e.rCenter,x:$e.x,y:$e.y}},Q)if(Ge.parent)if(Ne){var tt=Ge.x1>Ne?2*Math.PI:0;qe.x0=qe.x1=tt}else w.extendFlat(qe,Fe(Ge));else qe.x0=qe.x1=he;else qe.x0=qe.x1=he;var vt=n(qe.transform.textPosAngle,Ge.transform.textPosAngle),dt=n(qe.rpx1,Ge.rpx1),gt=n(qe.x0,Ge.x0),Mt=n(qe.x1,Ge.x1),Ct=n(qe.transform.scale,$e.scale),Wt=n(qe.transform.rotate,$e.rotate),Xe=$e.rCenter===0?3:qe.transform.rCenter===0?1/3:1,ke=n(qe.transform.rCenter,$e.rCenter),Ie=function(Oe){return ke(Math.pow(Oe,Xe))};return function(Oe){var _e=dt(Oe),Ae=gt(Oe),ce=Mt(Oe),be=Ie(Oe),Re=we(_e,(Ae+ce)/2),Ue=vt(Oe),nt={pxmid:Re,rpx1:_e,transform:{textPosAngle:Ue,rCenter:be,x:$e.x,y:$e.y}};return t(W.type,$e,b),{transform:{targetX:Me(nt),targetY:Be(nt),scale:Ct(Oe),rotate:Wt(Oe),rCenter:be}}}}function Fe(Ge){var it=Ge.parent,qe=$[g.getPtId(it)],$e={};if(qe){var tt=it.children,vt=tt.indexOf(Ge),dt=tt.length,gt=n(qe.x0,qe.x1);$e.x0=gt(vt/dt),$e.x1=gt(vt/dt)}else $e.x0=$e.x1=0;return $e}}function y(T){return E.partition().size([2*Math.PI,T.height+1])(T)}F.formatSliceLabel=function(T,P,A,a,R){var b=A.texttemplate,N=A.textinfo;if(!b&&(!N||N==="none"))return"";var O=R.separators,Y=a[0],B=T.data.data,W=Y.hierarchy,H=g.isHierarchyRoot(T),U=g.getParent(W,T),G=g.getValue(T);if(!b){var j=N.split("+"),re=function(te){return j.indexOf(te)!==-1},ae=[],ue;if(re("label")&&B.label&&ae.push(B.label),B.hasOwnProperty("v")&&re("value")&&ae.push(g.formatValue(B.v,O)),!H){re("current path")&&ae.push(g.getPath(T.data));var de=0;re("percent parent")&&de++,re("percent entry")&&de++,re("percent root")&&de++;var ee=de>1;if(de){var X,Q=function(te){ue=g.formatPercent(X,O),ee&&(ue+=" of "+te),ae.push(ue)};re("percent parent")&&!H&&(X=G/g.getValue(U),Q("parent")),re("percent entry")&&(X=G/g.getValue(P),Q("entry")),re("percent root")&&(X=G/g.getValue(W),Q("root"))}}return re("text")&&(ue=w.castOption(A,B.i,"text"),w.isValidTextValue(ue)&&ae.push(ue)),ae.join("<br>")}var $=w.castOption(A,B.i,"texttemplate");if(!$)return"";var ne={};B.label&&(ne.label=B.label),B.hasOwnProperty("v")&&(ne.value=B.v,ne.valueLabel=g.formatValue(B.v,O)),ne.currentPath=g.getPath(T.data),H||(ne.percentParent=G/g.getValue(U),ne.percentParentLabel=g.formatPercent(ne.percentParent,O),ne.parent=g.getPtLabel(U)),ne.percentEntry=G/g.getValue(P),ne.percentEntryLabel=g.formatPercent(ne.percentEntry,O),ne.entry=g.getPtLabel(P),ne.percentRoot=G/g.getValue(W),ne.percentRootLabel=g.formatPercent(ne.percentRoot,O),ne.root=g.getPtLabel(W),B.hasOwnProperty("color")&&(ne.color=B.color);var fe=w.castOption(A,B.i,"text");return(w.isValidTextValue(fe)||fe==="")&&(ne.text=fe),ne.customdata=w.castOption(A,B.i,"customdata"),w.texttemplateString($,ne,R._d3locale,ne,A._meta||{})};function C(T){return T.rpx0===0&&w.isFullCircle([T.x0,T.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(T.halfangle)),T.ring/2))}function S(T){return D(T.rpx1,T.transform.textPosAngle)}function D(T,P){return[T*Math.sin(P),-T*Math.cos(P)]}},29969:function(k,F,e){var h=e(39898),E=e(7901),n=e(71828),L=e(72597).resizeText,w=e(43467);function p(t){var r=t._fullLayout._sunburstlayer.selectAll(".trace");L(t,r,"sunburst"),r.each(function(l){var i=h.select(this),f=l[0],v=f.trace;i.style("opacity",v.opacity),i.selectAll("path.surface").each(function(c){h.select(this).call(m,c,v,t)})})}function m(t,r,l,i){var f=r.data.data,v=!r.children,c=f.i,x=n.castOption(l,c,"marker.line.color")||E.defaultLine,d=n.castOption(l,c,"marker.line.width")||0;t.call(w,r,l,i).style("stroke-width",d).call(E.stroke,x).style("opacity",v?l.leaf.opacity:null)}k.exports={style:p,styleOne:m}},54532:function(k,F,e){var h=e(7901),E=e(50693),n=e(12663).axisHoverFormat,L=e(5386).fF,w=e(9012),p=e(1426).extendFlat,m=e(30962).overrideAll;function t(i){return{valType:"boolean",dflt:!1}}function r(i){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:h.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:h.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var l=k.exports=m(p({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},E("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:p({},E.zauto,{}),zmin:p({},E.zmin,{}),zmax:p({},E.zmax,{})},hoverinfo:p({},w.hoverinfo),showlegend:p({},w.showlegend,{dflt:!1})}),"calc","nested");l.x.editType=l.y.editType=l.z.editType="calc+clearAxisTypes",l.transforms=void 0},18396:function(k,F,e){var h=e(78803);k.exports=function(n,L){L.surfacecolor?h(n,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):h(n,L,{vals:L.z,containerStr:"",cLetter:"c"})}},43768:function(k,F,e){var h=e(9330).gl_surface3d,E=e(9330).ndarray,n=e(9330).ndarray_linear_interpolate.d2,L=e(824),w=e(43907),p=e(71828).isArrayOrTypedArray,m=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function l(a,R,b){this.scene=a,this.uid=b,this.surface=R,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var i=l.prototype;i.getXat=function(a,R,b,N){var O=p(this.data.x)?p(this.data.x[0])?this.data.x[R][a]:this.data.x[a]:a;return b===void 0?O:N.d2l(O,0,b)},i.getYat=function(a,R,b,N){var O=p(this.data.y)?p(this.data.y[0])?this.data.y[R][a]:this.data.y[R]:R;return b===void 0?O:N.d2l(O,0,b)},i.getZat=function(a,R,b,N){var O=this.data.z[R][a];return O===null&&this.data.connectgaps&&this.data._interpolatedZ&&(O=this.data._interpolatedZ[R][a]),b===void 0?O:N.d2l(O,0,b)},i.handlePick=function(a){if(a.object===this.surface){var R=(a.data.index[0]-1)/this.dataScaleX-1,b=(a.data.index[1]-1)/this.dataScaleY-1,N=Math.max(Math.min(Math.round(R),this.data.z[0].length-1),0),O=Math.max(Math.min(Math.round(b),this.data._ylength-1),0);a.index=[N,O],a.traceCoordinate=[this.getXat(N,O),this.getYat(N,O),this.getZat(N,O)],a.dataCoordinate=[this.getXat(N,O,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(N,O,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(N,O,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var Y=0;Y<3;Y++){var B=a.dataCoordinate[Y];B!=null&&(a.dataCoordinate[Y]*=this.scene.dataScale[Y])}var W=this.data.hovertext||this.data.text;return Array.isArray(W)&&W[O]&&W[O][N]!==void 0?a.textLabel=W[O][N]:W?a.textLabel=W:a.textLabel="",a.data.dataCoordinate=a.dataCoordinate.slice(),this.surface.highlight(a.data),this.scene.glplot.spikes.position=a.dataCoordinate,!0}};function f(a){var R=a[0].rgb,b=a[a.length-1].rgb;return R[0]===b[0]&&R[1]===b[1]&&R[2]===b[2]&&R[3]===b[3]}var v=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function c(a,R){if(a<R)return 0;for(var b=0;Math.floor(a%R)===0;)a/=R,b++;return b}function x(a){for(var R=[],b=0;b<v.length;b++){var N=v[b];R.push(c(a,N))}return R}function d(a){for(var R=x(a),b=a,N=0;N<v.length;N++)if(R[N]>0){b=v[N];break}return b}function M(a,R){if(!(a<1||R<1)){for(var b=x(a),N=x(R),O=1,Y=0;Y<v.length;Y++)O*=Math.pow(v[Y],Math.max(b[Y],N[Y]));return O}}function g(a){if(a.length!==0){for(var R=1,b=0;b<a.length;b++)R=M(R,a[b]);return R}}i.calcXnums=function(a){var R,b=[];for(R=1;R<a;R++){var N=this.getXat(R-1,0),O=this.getXat(R,0);O!==N&&N!==void 0&&N!==null&&O!==void 0&&O!==null?b[R-1]=Math.abs(O-N):b[R-1]=0}var Y=0;for(R=1;R<a;R++)Y+=b[R-1];for(R=1;R<a;R++)b[R-1]===0?b[R-1]=1:b[R-1]=Math.round(Y/b[R-1]);return b},i.calcYnums=function(a){var R,b=[];for(R=1;R<a;R++){var N=this.getYat(0,R-1),O=this.getYat(0,R);O!==N&&N!==void 0&&N!==null&&O!==void 0&&O!==null?b[R-1]=Math.abs(O-N):b[R-1]=0}var Y=0;for(R=1;R<a;R++)Y+=b[R-1];for(R=1;R<a;R++)b[R-1]===0?b[R-1]=1:b[R-1]=Math.round(Y/b[R-1]);return b};var u=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],y=u[9],C=u[13];i.estimateScale=function(a,R){for(var b=R===0?this.calcXnums(a):this.calcYnums(a),N=1+g(b);N<y;)N*=2;for(;N>C;)N--,N/=d(N),N++,N<y&&(N=C);var O=Math.round(N/a);return O>1?O:1};function S(a,R,b){var N=b[8]+b[2]*R[0]+b[5]*R[1];return a[0]=(b[6]+b[0]*R[0]+b[3]*R[1])/N,a[1]=(b[7]+b[1]*R[0]+b[4]*R[1])/N,a}function D(a,R,b){return T(a,R,S,b),a}function T(a,R,b,N){for(var O=[0,0],Y=a.shape[0],B=a.shape[1],W=0;W<Y;W++)for(var H=0;H<B;H++)b(O,[W,H],N),a.set(W,H,n(R,O[0],O[1]));return a}i.refineCoords=function(a){for(var R=this.dataScaleX,b=this.dataScaleY,N=a[0].shape[0],O=a[0].shape[1],Y=Math.floor(a[0].shape[0]*R+1)|0,B=Math.floor(a[0].shape[1]*b+1)|0,W=1+N+1,H=1+O+1,U=E(new Float32Array(W*H),[W,H]),G=[1/R,0,0,0,1/b,0,0,0,1],j=0;j<a.length;++j){this.surface.padField(U,a[j]);var re=E(new Float32Array(Y*B),[Y,B]);D(re,U,G),a[j]=re}};function P(a,R){for(var b=!1,N=0;N<a.length;N++)if(R===a[N]){b=!0;break}b===!1&&a.push(R)}i.setContourLevels=function(){var a=[[],[],[]],R=[!1,!1,!1],b=!1,N,O,Y;for(N=0;N<3;++N)if(this.showContour[N]&&(b=!0,this.contourSize[N]>0&&this.contourStart[N]!==null&&this.contourEnd[N]!==null&&this.contourEnd[N]>this.contourStart[N]))for(R[N]=!0,O=this.contourStart[N];O<this.contourEnd[N];O+=this.contourSize[N])Y=O*this.scene.dataScale[N],P(a[N],Y);if(b){var B=[[],[],[]];for(N=0;N<3;++N)this.showContour[N]&&(B[N]=R[N]?a[N]:this.scene.contourLevels[N]);this.surface.update({levels:B})}},i.update=function(a){var R=this.scene,b=R.fullSceneLayout,N=this.surface,O=m(a),Y=R.dataScale,B=a.z[0].length,W=a._ylength,H=R.contourLevels;this.data=a;var U,G,j,re,ae=[];for(U=0;U<3;U++)for(ae[U]=[],G=0;G<B;G++)ae[U][G]=[];for(G=0;G<B;G++)for(j=0;j<W;j++)ae[0][G][j]=this.getXat(G,j,a.xcalendar,b.xaxis),ae[1][G][j]=this.getYat(G,j,a.ycalendar,b.yaxis),ae[2][G][j]=this.getZat(G,j,a.zcalendar,b.zaxis);if(a.connectgaps)for(a._emptypoints=w(ae[2]),L(ae[2],a._emptypoints),a._interpolatedZ=[],G=0;G<B;G++)for(a._interpolatedZ[G]=[],j=0;j<W;j++)a._interpolatedZ[G][j]=ae[2][G][j];for(U=0;U<3;U++)for(G=0;G<B;G++)for(j=0;j<W;j++)re=ae[U][G][j],re==null?ae[U][G][j]=NaN:re=ae[U][G][j]*=Y[U];for(U=0;U<3;U++)for(G=0;G<B;G++)for(j=0;j<W;j++)re=ae[U][G][j],re!=null&&(this.minValues[U]>re&&(this.minValues[U]=re),this.maxValues[U]<re&&(this.maxValues[U]=re));for(U=0;U<3;U++)this.objectOffset[U]=.5*(this.minValues[U]+this.maxValues[U]);for(U=0;U<3;U++)for(G=0;G<B;G++)for(j=0;j<W;j++)re=ae[U][G][j],re!=null&&(ae[U][G][j]-=this.objectOffset[U]);var ue=[E(new Float32Array(B*W),[B,W]),E(new Float32Array(B*W),[B,W]),E(new Float32Array(B*W),[B,W])];for(U=0;U<3;U++)for(G=0;G<B;G++)for(j=0;j<W;j++)ue[U].set(G,j,ae[U][G][j]);ae=[];var de={colormap:O,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!a.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:a.opacityscale,opacity:a.opacity},ee=r(a);if(de.intensityBounds=[ee.min,ee.max],a.surfacecolor){var X=E(new Float32Array(B*W),[B,W]);for(G=0;G<B;G++)for(j=0;j<W;j++)X.set(G,j,a.surfacecolor[j][G]);ue.push(X)}else de.intensityBounds[0]*=Y[2],de.intensityBounds[1]*=Y[2];(C<ue[0].shape[0]||C<ue[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ue[0].shape[0],0),this.dataScaleY=this.estimateScale(ue[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ue)),a.surfacecolor&&(de.intensity=ue.pop());var Q=[!0,!0,!0],$=["x","y","z"];for(U=0;U<3;++U){var ne=a.contours[$[U]];Q[U]=ne.highlight,de.showContour[U]=ne.show||ne.highlight,de.showContour[U]&&(de.contourProject[U]=[ne.project.x,ne.project.y,ne.project.z],ne.show?(this.showContour[U]=!0,de.levels[U]=H[U],N.highlightColor[U]=de.contourColor[U]=t(ne.color),ne.usecolormap?N.highlightTint[U]=de.contourTint[U]=0:N.highlightTint[U]=de.contourTint[U]=1,de.contourWidth[U]=ne.width,this.contourStart[U]=ne.start,this.contourEnd[U]=ne.end,this.contourSize[U]=ne.size):(this.showContour[U]=!1,this.contourStart[U]=null,this.contourEnd[U]=null,this.contourSize[U]=0),ne.highlight&&(de.dynamicColor[U]=t(ne.highlightcolor),de.dynamicWidth[U]=ne.highlightwidth))}f(O)&&(de.vertexColor=!0),de.objectOffset=this.objectOffset,de.coords=ue,N.update(de),N.visible=a.visible,N.enableDynamic=Q,N.enableHighlight=Q,N.snapToData=!0,"lighting"in a&&(N.ambientLight=a.lighting.ambient,N.diffuseLight=a.lighting.diffuse,N.specularLight=a.lighting.specular,N.roughness=a.lighting.roughness,N.fresnel=a.lighting.fresnel),"lightposition"in a&&(N.lightPosition=[a.lightposition.x,a.lightposition.y,a.lightposition.z])},i.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function A(a,R){var b=a.glplot.gl,N=h({gl:b}),O=new l(a,N,R.uid);return N._trace=O,O.update(R),a.glplot.add(N),O}k.exports=A},91831:function(k,F,e){var h=e(73972),E=e(71828),n=e(1586),L=e(54532),w=.1;function p(i,f){for(var v=[],c=32,x=0;x<c;x++){var d=x/(c-1),M=f+(1-f)*(1-Math.pow(Math.sin(i*d*Math.PI),2));v.push([d,Math.max(0,Math.min(1,M))])}return v}function m(i){var f=0;if(!Array.isArray(i)||i.length<2||!i[0]||!i[i.length-1]||+i[0][0]!=0||+i[i.length-1][0]!=1)return!1;for(var v=0;v<i.length;v++){var c=i[v];if(c.length!==2||+c[0]<f)return!1;f=+c[0]}return!0}function t(i,f,v,c){var x,d;function M(a,R){return E.coerce(i,f,L,a,R)}var g=M("x"),u=M("y"),y=M("z");if(!y||!y.length||g&&g.length<1||u&&u.length<1){f.visible=!1;return}f._xlength=Array.isArray(g)&&E.isArrayOrTypedArray(g[0])?y.length:y[0].length,f._ylength=y.length;var C=h.getComponentMethod("calendars","handleTraceDefaults");C(i,f,["x","y","z"],c),M("text"),M("hovertext"),M("hovertemplate"),M("xhoverformat"),M("yhoverformat"),M("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(a){M(a)});var S=M("surfacecolor"),D=["x","y","z"];for(x=0;x<3;++x){var T="contours."+D[x],P=M(T+".show"),A=M(T+".highlight");if(P||A)for(d=0;d<3;++d)M(T+".project."+D[d]);P&&(M(T+".color"),M(T+".width"),M(T+".usecolormap")),A&&(M(T+".highlightcolor"),M(T+".highlightwidth")),M(T+".start"),M(T+".end"),M(T+".size")}S||(l(i,"zmin","cmin"),l(i,"zmax","cmax"),l(i,"zauto","cauto")),n(i,f,c,M,{prefix:"",cLetter:"c"}),r(i,f,c,M),f._length=null}function r(i,f,v,c){var x=c("opacityscale");x==="max"?f.opacityscale=[[0,w],[1,1]]:x==="min"?f.opacityscale=[[0,1],[1,w]]:x==="extremes"?f.opacityscale=p(1,w):m(x)||(f.opacityscale=void 0)}function l(i,f,v){f in i&&!(v in i)&&(i[v]=i[f])}k.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(k,F,e){k.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(k,F,e){var h=e(50215),E=e(1426).extendFlat,n=e(30962).overrideAll,L=e(41940),w=e(27670).Y,p=e(12663).descriptionOnlyNumbers,m=k.exports=n({domain:w({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:p("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:E({},h.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:p("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:E({},h.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},L({arrayOk:!0}))}},"calc","from-root");m.transforms=void 0},99469:function(k,F,e){var h=e(27659).a0,E=e(36736),n="table";F.name=n,F.plot=function(L){var w=h(L.calcdata,n)[0];w.length&&E(L,w)},F.clean=function(L,w,p,m){var t=m._has&&m._has(n),r=w._has&&w._has(n);t&&!r&&m._paperdiv.selectAll(".table").remove()}},76333:function(k,F,e){var h=e(28984).wrap;k.exports=function(){return h({})}},49850:function(k){k.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(k,F,e){var h=e(49850),E=e(1426).extendFlat,n=e(92770);k.exports=function(v,c){var x=p(c.cells.values),d=function(G){return G.slice(c.header.values.length,G.length)},M=p(c.header.values);M.length&&!M[0].length&&(M[0]=[""],M=p(M));var g=M.concat(d(x).map(function(){return m((M[0]||[""]).length)})),u=c.domain,y=Math.floor(v._fullLayout._size.w*(u.x[1]-u.x[0])),C=Math.floor(v._fullLayout._size.h*(u.y[1]-u.y[0])),S=c.header.values.length?g[0].map(function(){return c.header.height}):[h.emptyHeaderHeight],D=x.length?x[0].map(function(){return c.cells.height}):[],T=S.reduce(w,0),P=C-T,A=P+h.uplift,a=l(D,A),R=l(S,T),b=r(R,[]),N=r(a,b),O={},Y=c._fullInput.columnorder.concat(d(x.map(function(G,j){return j}))),B=g.map(function(G,j){var re=Array.isArray(c.columnwidth)?c.columnwidth[Math.min(j,c.columnwidth.length-1)]:c.columnwidth;return n(re)?Number(re):1}),W=B.reduce(w,0);B=B.map(function(G){return G/W*y});var H=Math.max(L(c.header.line.width),L(c.cells.line.width)),U={key:c.uid+v._context.staticPlot,translateX:u.x[0]*v._fullLayout._size.w,translateY:v._fullLayout._size.h*(1-u.y[1]),size:v._fullLayout._size,width:y,maxLineWidth:H,height:C,columnOrder:Y,groupHeight:C,rowBlocks:N,headerRowBlocks:b,scrollY:0,cells:E({},c.cells,{values:x}),headerCells:E({},c.header,{values:g}),gdColumns:g.map(function(G){return G[0]}),gdColumnsOriginalOrder:g.map(function(G){return G[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:g.map(function(G,j){var re=O[G];O[G]=(re||0)+1;var ae=G+"__"+O[G];return{key:ae,label:G,specIndex:j,xIndex:Y[j],xScale:t,x:void 0,calcdata:void 0,columnWidth:B[j]}})};return U.columns.forEach(function(G){G.calcdata=U,G.x=t(G)}),U};function L(f){if(Array.isArray(f)){for(var v=0,c=0;c<f.length;c++)v=Math.max(v,L(f[c]));return v}return f}function w(f,v){return f+v}function p(f){var v=f.slice(),c=1/0,x=0,d;for(d=0;d<v.length;d++)Array.isArray(v[d])||(v[d]=[v[d]]),c=Math.min(c,v[d].length),x=Math.max(x,v[d].length);if(c!==x)for(d=0;d<v.length;d++){var M=x-v[d].length;M&&(v[d]=v[d].concat(m(M)))}return v}function m(f){for(var v=new Array(f),c=0;c<f;c++)v[c]="";return v}function t(f){return f.calcdata.columns.reduce(function(v,c){return c.xIndex<f.xIndex?v+c.columnWidth:v},0)}function r(f,v){var c=Object.keys(f);return c.map(function(x){return E({},f[x],{auxiliaryBlocks:v})})}function l(f,v){for(var c={},x,d=0,M=0,g=i(),u=0,y=0,C=0;C<f.length;C++)x=f[C],g.rows.push({rowIndex:C,rowHeight:x}),M+=x,(M>=v||C===f.length-1)&&(c[d]=g,g.key=y++,g.firstRowIndex=u,g.lastRowIndex=C,g=i(),d+=M,u=C+1,M=0);return c}function i(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(k,F,e){var h=e(1426).extendFlat;F.splitToPanels=function(n){var L=[0,0],w=h({},n,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:n.calcdata.headerCells.values[n.specIndex],rowBlocks:n.calcdata.headerRowBlocks,calcdata:h({},n.calcdata,{cells:n.calcdata.headerCells})}),p=h({},n,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks}),m=h({},n,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks});return[p,m,w]},F.splitToCells=function(n){var L=E(n);return(n.values||[]).slice(L[0],L[1]).map(function(w,p){var m=typeof w=="string"&&w.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:p+m,key:L[0]+p,column:n,calcdata:n.calcdata,page:n.page,rowBlocks:n.rowBlocks,value:w}})};function E(n){var L=n.rowBlocks[n.page],w=L?L.rows[0].rowIndex:0,p=L?w+L.rows.length:0;return[w,p]}},39754:function(k,F,e){var h=e(71828),E=e(44464),n=e(27670).c;function L(w,p){for(var m=w.columnorder||[],t=w.header.values.length,r=m.slice(0,t),l=r.slice().sort(function(v,c){return v-c}),i=r.map(function(v){return l.indexOf(v)}),f=i.length;f<t;f++)i.push(f);p("columnorder",i)}k.exports=function(p,m,t,r){function l(i,f){return h.coerce(p,m,E,i,f)}n(m,r,l),l("columnwidth"),l("header.values"),l("header.format"),l("header.align"),l("header.prefix"),l("header.suffix"),l("header.height"),l("header.line.width"),l("header.line.color"),l("header.fill.color"),h.coerceFont(l,"header.font",h.extendFlat({},r.font)),L(m,l),l("cells.values"),l("cells.format"),l("cells.align"),l("cells.prefix"),l("cells.suffix"),l("cells.height"),l("cells.line.width"),l("cells.line.color"),l("cells.fill.color"),h.coerceFont(l,"cells.font",h.extendFlat({},r.font)),m._length=null}},96595:function(k,F,e){k.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(k,F,e){var h=e(49850),E=e(39898),n=e(71828),L=n.numberFormat,w=e(28984),p=e(91424),m=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,l=e(71828).cancelTransition,i=e(51018),f=e(56269),v=e(7901);k.exports=function(he,se){var pe=!he._context.staticPlot,we=he._fullLayout._paper.selectAll("."+h.cn.table).data(se.map(function($e){var tt=w.unwrap($e),vt=tt.trace;return i(he,vt)}),w.keyFun);we.exit().remove(),we.enter().append("g").classed(h.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),we.attr("width",function($e){return $e.width+$e.size.l+$e.size.r}).attr("height",function($e){return $e.height+$e.size.t+$e.size.b}).attr("transform",function($e){return r($e.translateX,$e.translateY)});var Ee=we.selectAll("."+h.cn.tableControlView).data(w.repeat,w.keyFun),Me=Ee.enter().append("g").classed(h.cn.tableControlView,!0).style("box-sizing","content-box");if(pe){var Be="onwheel"in document?"wheel":"mousewheel";Me.on("mousemove",function($e){Ee.filter(function(tt){return $e===tt}).call(g,he)}).on(Be,function($e){if(!$e.scrollbarState.wheeling){$e.scrollbarState.wheeling=!0;var tt=$e.scrollY+E.event.deltaY,vt=re(he,Ee,null,tt)($e);vt||(E.event.stopPropagation(),E.event.preventDefault()),$e.scrollbarState.wheeling=!1}}).call(g,he,!0)}Ee.attr("transform",function($e){return r($e.size.l,$e.size.t)});var Ne=Ee.selectAll("."+h.cn.scrollBackground).data(w.repeat,w.keyFun);Ne.enter().append("rect").classed(h.cn.scrollBackground,!0).attr("fill","none"),Ne.attr("width",function($e){return $e.width}).attr("height",function($e){return $e.height}),Ee.each(function($e){p.setClipUrl(E.select(this),x(he,$e),he)});var Ce=Ee.selectAll("."+h.cn.yColumn).data(function($e){return $e.columns},w.keyFun);Ce.enter().append("g").classed(h.cn.yColumn,!0),Ce.exit().remove(),Ce.attr("transform",function($e){return r($e.x,0)}),pe&&Ce.call(E.behavior.drag().origin(function($e){var tt=E.select(this);return B(tt,$e,-h.uplift),t(this),$e.calcdata.columnDragInProgress=!0,g(Ee.filter(function(vt){return $e.calcdata.key===vt.key}),he),$e}).on("drag",function($e){var tt=E.select(this),vt=function(Mt){return($e===Mt?E.event.x:Mt.x)+Mt.columnWidth/2};$e.x=Math.max(-h.overdrag,Math.min($e.calcdata.width+h.overdrag-$e.columnWidth,E.event.x));var dt=M(Ce).filter(function(Mt){return Mt.calcdata.key===$e.calcdata.key}),gt=dt.sort(function(Mt,Ct){return vt(Mt)-vt(Ct)});gt.forEach(function(Mt,Ct){Mt.xIndex=Ct,Mt.x=$e===Mt?Mt.x:Mt.xScale(Mt)}),Ce.filter(function(Mt){return $e!==Mt}).transition().ease(h.transitionEase).duration(h.transitionDuration).attr("transform",function(Mt){return r(Mt.x,0)}),tt.call(l).attr("transform",r($e.x,-h.uplift))}).on("dragend",function($e){var tt=E.select(this),vt=$e.calcdata;$e.x=$e.xScale($e),$e.calcdata.columnDragInProgress=!1,B(tt,$e,0),O(he,vt,vt.columns.map(function(dt){return dt.xIndex}))})),Ce.each(function($e){p.setClipUrl(E.select(this),d(he,$e),he)});var Te=Ce.selectAll("."+h.cn.columnBlock).data(f.splitToPanels,w.keyFun);Te.enter().append("g").classed(h.cn.columnBlock,!0).attr("id",function($e){return $e.key}),Te.style("cursor",function($e){return $e.dragHandle?"ew-resize":$e.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Le=Te.filter(H),Ve=Te.filter(W);pe&&Ve.call(E.behavior.drag().origin(function($e){return E.event.stopPropagation(),$e}).on("drag",re(he,Ee,-1)).on("dragend",function(){})),u(he,Ee,Le,Te),u(he,Ee,Ve,Te);var We=Ee.selectAll("."+h.cn.scrollAreaClip).data(w.repeat,w.keyFun);We.enter().append("clipPath").classed(h.cn.scrollAreaClip,!0).attr("id",function($e){return x(he,$e)});var Fe=We.selectAll("."+h.cn.scrollAreaClipRect).data(w.repeat,w.keyFun);Fe.enter().append("rect").classed(h.cn.scrollAreaClipRect,!0).attr("x",-h.overdrag).attr("y",-h.uplift).attr("fill","none"),Fe.attr("width",function($e){return $e.width+2*h.overdrag}).attr("height",function($e){return $e.height+h.uplift});var Ge=Ce.selectAll("."+h.cn.columnBoundary).data(w.repeat,w.keyFun);Ge.enter().append("g").classed(h.cn.columnBoundary,!0);var it=Ce.selectAll("."+h.cn.columnBoundaryClippath).data(w.repeat,w.keyFun);it.enter().append("clipPath").classed(h.cn.columnBoundaryClippath,!0),it.attr("id",function($e){return d(he,$e)});var qe=it.selectAll("."+h.cn.columnBoundaryRect).data(w.repeat,w.keyFun);qe.enter().append("rect").classed(h.cn.columnBoundaryRect,!0).attr("fill","none"),qe.attr("width",function($e){return $e.columnWidth+2*c($e)}).attr("height",function($e){return $e.calcdata.height+2*c($e)+h.uplift}).attr("x",function($e){return-c($e)}).attr("y",function($e){return-c($e)}),j(null,Ve,Ee)};function c(q){return Math.ceil(q.calcdata.maxLineWidth/2)}function x(q,he){return"clip"+q._fullLayout._uid+"_scrollAreaBottomClip_"+he.key}function d(q,he){return"clip"+q._fullLayout._uid+"_columnBoundaryClippath_"+he.calcdata.key+"_"+he.specIndex}function M(q){return[].concat.apply([],q.map(function(he){return he})).map(function(he){return he.__data__})}function g(q,he,se){function pe(Ce){var Te=Ce.rowBlocks;return Q(Te,Te.length-1)+(Te.length?$(Te[Te.length-1],1/0):1)}var we=q.selectAll("."+h.cn.scrollbarKit).data(w.repeat,w.keyFun);we.enter().append("g").classed(h.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),we.each(function(Ce){var Te=Ce.scrollbarState;Te.totalHeight=pe(Ce),Te.scrollableAreaHeight=Ce.groupHeight-U(Ce),Te.currentlyVisibleHeight=Math.min(Te.totalHeight,Te.scrollableAreaHeight),Te.ratio=Te.currentlyVisibleHeight/Te.totalHeight,Te.barLength=Math.max(Te.ratio*Te.currentlyVisibleHeight,h.goldenRatio*h.scrollbarWidth),Te.barWiggleRoom=Te.currentlyVisibleHeight-Te.barLength,Te.wiggleRoom=Math.max(0,Te.totalHeight-Te.scrollableAreaHeight),Te.topY=Te.barWiggleRoom===0?0:Ce.scrollY/Te.wiggleRoom*Te.barWiggleRoom,Te.bottomY=Te.topY+Te.barLength,Te.dragMultiplier=Te.wiggleRoom/Te.barWiggleRoom}).attr("transform",function(Ce){var Te=Ce.width+h.scrollbarWidth/2+h.scrollbarOffset;return r(Te,U(Ce))});var Ee=we.selectAll("."+h.cn.scrollbar).data(w.repeat,w.keyFun);Ee.enter().append("g").classed(h.cn.scrollbar,!0);var Me=Ee.selectAll("."+h.cn.scrollbarSlider).data(w.repeat,w.keyFun);Me.enter().append("g").classed(h.cn.scrollbarSlider,!0),Me.attr("transform",function(Ce){return r(0,Ce.scrollbarState.topY||0)});var Be=Me.selectAll("."+h.cn.scrollbarGlyph).data(w.repeat,w.keyFun);Be.enter().append("line").classed(h.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",h.scrollbarWidth).attr("stroke-linecap","round").attr("y1",h.scrollbarWidth/2),Be.attr("y2",function(Ce){return Ce.scrollbarState.barLength-h.scrollbarWidth/2}).attr("stroke-opacity",function(Ce){return Ce.columnDragInProgress||!Ce.scrollbarState.barWiggleRoom||se?0:.4}),Be.transition().delay(0).duration(0),Be.transition().delay(h.scrollbarHideDelay).duration(h.scrollbarHideDuration).attr("stroke-opacity",0);var Ne=Ee.selectAll("."+h.cn.scrollbarCaptureZone).data(w.repeat,w.keyFun);Ne.enter().append("line").classed(h.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",h.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ce){var Te=E.event.y,Le=this.getBoundingClientRect(),Ve=Ce.scrollbarState,We=Te-Le.top,Fe=E.scale.linear().domain([0,Ve.scrollableAreaHeight]).range([0,Ve.totalHeight]).clamp(!0);Ve.topY<=We&&We<=Ve.bottomY||re(he,q,null,Fe(We-Ve.barLength/2))(Ce)}).call(E.behavior.drag().origin(function(Ce){return E.event.stopPropagation(),Ce.scrollbarState.scrollbarScrollInProgress=!0,Ce}).on("drag",re(he,q)).on("dragend",function(){})),Ne.attr("y2",function(Ce){return Ce.scrollbarState.scrollableAreaHeight}),he._context.staticPlot&&(Be.remove(),Ne.remove())}function u(q,he,se,pe){var we=y(se),Ee=C(we);P(Ee);var Me=S(Ee);a(Me);var Be=T(Ee),Ne=D(Be);A(Ne),R(Ne,he,pe,q),X(Ee)}function y(q){var he=q.selectAll("."+h.cn.columnCells).data(w.repeat,w.keyFun);return he.enter().append("g").classed(h.cn.columnCells,!0),he.exit().remove(),he}function C(q){var he=q.selectAll("."+h.cn.columnCell).data(f.splitToCells,function(se){return se.keyWithinBlock});return he.enter().append("g").classed(h.cn.columnCell,!0),he.exit().remove(),he}function S(q){var he=q.selectAll("."+h.cn.cellRect).data(w.repeat,function(se){return se.keyWithinBlock});return he.enter().append("rect").classed(h.cn.cellRect,!0),he}function D(q){var he=q.selectAll("."+h.cn.cellText).data(w.repeat,function(se){return se.keyWithinBlock});return he.enter().append("text").classed(h.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){E.event.stopPropagation()}),he}function T(q){var he=q.selectAll("."+h.cn.cellTextHolder).data(w.repeat,function(se){return se.keyWithinBlock});return he.enter().append("g").classed(h.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),he}function P(q){q.each(function(he,se){var pe=he.calcdata.cells.font,we=he.column.specIndex,Ee={size:Y(pe.size,we,se),color:Y(pe.color,we,se),family:Y(pe.family,we,se)};he.rowNumber=he.key,he.align=Y(he.calcdata.cells.align,we,se),he.cellBorderWidth=Y(he.calcdata.cells.line.width,we,se),he.font=Ee})}function A(q){q.each(function(he){p.font(E.select(this),he.font)})}function a(q){q.attr("width",function(he){return he.column.columnWidth}).attr("stroke-width",function(he){return he.cellBorderWidth}).each(function(he){var se=E.select(this);v.stroke(se,Y(he.calcdata.cells.line.color,he.column.specIndex,he.rowNumber)),v.fill(se,Y(he.calcdata.cells.fill.color,he.column.specIndex,he.rowNumber))})}function R(q,he,se,pe){q.text(function(we){var Ee=we.column.specIndex,Me=we.rowNumber,Be=we.value,Ne=typeof Be=="string",Ce=Ne&&Be.match(/<br>/i),Te=!Ne||Ce;we.mayHaveMarkup=Ne&&Be.match(/[<&>]/);var Le=b(Be);we.latex=Le;var Ve=Le?"":Y(we.calcdata.cells.prefix,Ee,Me)||"",We=Le?"":Y(we.calcdata.cells.suffix,Ee,Me)||"",Fe=Le?null:Y(we.calcdata.cells.format,Ee,Me)||null,Ge=Ve+(Fe?L(Fe)(we.value):we.value)+We,it;we.wrappingNeeded=!we.wrapped&&!Te&&!Le&&(it=N(Ge)),we.cellHeightMayIncrease=Ce||Le||we.mayHaveMarkup||(it===void 0?N(Ge):it),we.needsConvertToTspans=we.mayHaveMarkup||we.wrappingNeeded||we.latex;var qe;if(we.wrappingNeeded){var $e=h.wrapSplitCharacter===" "?Ge.replace(/<a href=/ig,"<a_href="):Ge,tt=$e.split(h.wrapSplitCharacter),vt=h.wrapSplitCharacter===" "?tt.map(function(dt){return dt.replace(/<a_href=/ig,"<a href=")}):tt;we.fragments=vt.map(function(dt){return{text:dt,width:null}}),we.fragments.push({fragment:h.wrapSpacer,width:null}),qe=vt.join(h.lineBreaker)+h.lineBreaker+h.wrapSpacer}else delete we.fragments,qe=Ge;return qe}).attr("dy",function(we){return we.needsConvertToTspans?0:"0.75em"}).each(function(we){var Ee=this,Me=E.select(Ee),Be=we.wrappingNeeded?ue:de;we.needsConvertToTspans?m.convertToTspans(Me,pe,Be(se,Ee,he,pe,we)):E.select(Ee.parentNode).attr("transform",function(Ne){return r(ee(Ne),h.cellPad)}).attr("text-anchor",function(Ne){return{left:"start",center:"middle",right:"end"}[Ne.align]})})}function b(q){return typeof q=="string"&&q.match(h.latexCheck)}function N(q){return q.indexOf(h.wrapSplitCharacter)!==-1}function O(q,he,se){var pe=he.gdColumnsOriginalOrder;he.gdColumns.sort(function(we,Ee){return se[pe.indexOf(we)]-se[pe.indexOf(Ee)]}),he.columnorder=se,q.emit("plotly_restyle")}function Y(q,he,se){if(Array.isArray(q)){var pe=q[Math.min(he,q.length-1)];return Array.isArray(pe)?pe[Math.min(se,pe.length-1)]:pe}else return q}function B(q,he,se){q.transition().ease(h.releaseTransitionEase).duration(h.releaseTransitionDuration).attr("transform",r(he.x,se))}function W(q){return q.type==="cells"}function H(q){return q.type==="header"}function U(q){var he=q.rowBlocks.length?q.rowBlocks[0].auxiliaryBlocks:[];return he.reduce(function(se,pe){return se+$(pe,1/0)},0)}function G(q,he,se){for(var pe=[],we=0,Ee=0;Ee<q.length;Ee++){for(var Me=q[Ee],Be=Me.rows,Ne=0,Ce=0;Ce<Be.length;Ce++)Ne+=Be[Ce].rowHeight;Me.allRowsHeight=Ne;var Te=we+Ne,Le=he,Ve=Le+se;Le<Te&&Ve>we&&pe.push(Ee),we+=Ne}return pe}function j(q,he,se){var pe=M(he)[0];if(pe!==void 0){var we=pe.rowBlocks,Ee=pe.calcdata,Me=Q(we,we.length),Be=pe.calcdata.groupHeight-U(pe),Ne=Ee.scrollY=Math.max(0,Math.min(Me-Be,Ee.scrollY)),Ce=G(we,Ne,Be);Ce.length===1&&(Ce[0]===we.length-1?Ce.unshift(Ce[0]-1):Ce.push(Ce[0]+1)),Ce[0]%2&&Ce.reverse(),he.each(function(Te,Le){Te.page=Ce[Le],Te.scrollY=Ne}),he.attr("transform",function(Te){var Le=Q(Te.rowBlocks,Te.page)-Te.scrollY;return r(0,Le)}),q&&(ae(q,se,he,Ce,pe.prevPages,pe,0),ae(q,se,he,Ce,pe.prevPages,pe,1),g(se,q))}}function re(q,he,se,pe){return function(Ee){var Me=Ee.calcdata?Ee.calcdata:Ee,Be=he.filter(function(Le){return Me.key===Le.key}),Ne=se||Me.scrollbarState.dragMultiplier,Ce=Me.scrollY;Me.scrollY=pe===void 0?Me.scrollY+Ne*E.event.dy:pe;var Te=Be.selectAll("."+h.cn.yColumn).selectAll("."+h.cn.columnBlock).filter(W);return j(q,Te,Be),Me.scrollY===Ce}}function ae(q,he,se,pe,we,Ee,Me){var Be=pe[Me]!==we[Me];Be&&(clearTimeout(Ee.currentRepaint[Me]),Ee.currentRepaint[Me]=setTimeout(function(){var Ne=se.filter(function(Ce,Te){return Te===Me&&pe[Te]!==we[Te]});u(q,he,Ne,se),we[Me]=pe[Me]}))}function ue(q,he,se,pe){return function(){var Ee=E.select(he.parentNode);Ee.each(function(Me){var Be=Me.fragments;Ee.selectAll("tspan.line").each(function(Ge,it){Be[it].width=this.getComputedTextLength()});var Ne=Be[Be.length-1].width,Ce=Be.slice(0,-1),Te=[],Le,Ve,We=0,Fe=Me.column.columnWidth-2*h.cellPad;for(Me.value="";Ce.length;)Le=Ce.shift(),Ve=Le.width+Ne,We+Ve>Fe&&(Me.value+=Te.join(h.wrapSpacer)+h.lineBreaker,Te=[],We=0),Te.push(Le.text),We+=Ve;We&&(Me.value+=Te.join(h.wrapSpacer)),Me.wrapped=!0}),Ee.selectAll("tspan.line").remove(),R(Ee.select("."+h.cn.cellText),se,q,pe),E.select(he.parentNode.parentNode).call(X)}}function de(q,he,se,pe,we){return function(){if(!we.settledY){var Me=E.select(he.parentNode),Be=fe(we),Ne=we.key-Be.firstRowIndex,Ce=Be.rows[Ne].rowHeight,Te=we.cellHeightMayIncrease?he.parentNode.getBoundingClientRect().height+2*h.cellPad:Ce,Le=Math.max(Te,Ce),Ve=Le-Be.rows[Ne].rowHeight;Ve&&(Be.rows[Ne].rowHeight=Le,q.selectAll("."+h.cn.columnCell).call(X),j(null,q.filter(W),0),g(se,pe,!0)),Me.attr("transform",function(){var We=this,Fe=We.parentNode,Ge=Fe.getBoundingClientRect(),it=E.select(We.parentNode).select("."+h.cn.cellRect).node().getBoundingClientRect(),qe=We.transform.baseVal.consolidate(),$e=it.top-Ge.top+(qe?qe.matrix.f:h.cellPad);return r(ee(we,E.select(We.parentNode).select("."+h.cn.cellTextHolder).node().getBoundingClientRect().width),$e)}),we.settledY=!0}}}function ee(q,he){switch(q.align){case"left":return h.cellPad;case"right":return q.column.columnWidth-(he||0)-h.cellPad;case"center":return(q.column.columnWidth-(he||0))/2;default:return h.cellPad}}function X(q){q.attr("transform",function(he){var se=he.rowBlocks[0].auxiliaryBlocks.reduce(function(Me,Be){return Me+$(Be,1/0)},0),pe=fe(he),we=$(pe,he.key),Ee=we+se;return r(0,Ee)}).selectAll("."+h.cn.cellRect).attr("height",function(he){return te(fe(he),he.key).rowHeight})}function Q(q,he){for(var se=0,pe=he-1;pe>=0;pe--)se+=ne(q[pe]);return se}function $(q,he){for(var se=0,pe=0;pe<q.rows.length&&q.rows[pe].rowIndex<he;pe++)se+=q.rows[pe].rowHeight;return se}function ne(q){var he=q.allRowsHeight;if(he!==void 0)return he;for(var se=0,pe=0;pe<q.rows.length;pe++)se+=q.rows[pe].rowHeight;return q.allRowsHeight=se,se}function fe(q){return q.rowBlocks[q.page]}function te(q,he){return q.rows[he-q.firstRowIndex]}},45802:function(k,F,e){var h=e(5386).fF,E=e(5386).si,n=e(50693),L=e(27670).Y,w=e(34e3),p=e(57564),m=e(43473),t=e(1426).extendFlat,r=e(79952).u;k.exports={labels:p.labels,parents:p.parents,values:p.values,branchvalues:p.branchvalues,count:p.count,level:p.level,maxdepth:p.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:p.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:p.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},w.textfont,{}),editType:"calc"},text:w.text,textinfo:p.textinfo,texttemplate:E({editType:"plot"},{keys:m.eventDataKeys.concat(["label","value"])}),hovertext:w.hovertext,hoverinfo:p.hoverinfo,hovertemplate:h({},{keys:m.eventDataKeys}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:t({},w.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:w.sort,root:p.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},78018:function(k,F,e){var h=e(74875);F.name="treemap",F.plot=function(E,n,L,w){h.plotBasePlot(F.name,E,n,L,w)},F.clean=function(E,n,L,w){h.cleanBasePlot(F.name,E,n,L,w)}},65039:function(k,F,e){var h=e(52147);F.y=function(E,n){return h.calc(E,n)},F.T=function(E){return h._runCrossTraceCalc("treemap",E)}},43473:function(k){k.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(k,F,e){var h=e(71828),E=e(45802),n=e(7901),L=e(27670).c,w=e(90769).handleText,p=e(97313).TEXTPAD,m=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,l=t.handleDefaults;k.exports=function(f,v,c,x){function d(a,R){return h.coerce(f,v,E,a,R)}var M=d("labels"),g=d("parents");if(!M||!M.length||!g||!g.length){v.visible=!1;return}var u=d("values");u&&u.length?d("branchvalues"):d("count"),d("level"),d("maxdepth");var y=d("tiling.packing");y==="squarify"&&d("tiling.squarifyratio"),d("tiling.flip"),d("tiling.pad");var C=d("text");d("texttemplate"),v.texttemplate||d("textinfo",Array.isArray(C)?"text+label":"label"),d("hovertext"),d("hovertemplate");var S=d("pathbar.visible"),D="auto";w(f,v,x,d,D,{hasPathbar:S,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("textposition");var T=v.textposition.indexOf("bottom")!==-1;m(f,v,x,d);var P=v._hasColorscale=r(f,"marker","colors")||(f.marker||{}).coloraxis;P?l(f,v,x,d,{prefix:"marker.",cLetter:"c"}):d("marker.depthfade",!(v.marker.colors||[]).length);var A=v.textfont.size*2;d("marker.pad.t",T?A/4:A),d("marker.pad.l",A/4),d("marker.pad.r",A/4),d("marker.pad.b",T?A:A/4),d("marker.cornerradius"),v._hovered={marker:{line:{width:2,color:n.contrast(x.paper_bgcolor)}}},S&&(d("pathbar.thickness",v.pathbar.textfont.size+2*p),d("pathbar.side"),d("pathbar.edgeshape")),d("sort"),d("root.color"),L(v,x,d),v._length=null}},80694:function(k,F,e){var h=e(39898),E=e(2791),n=e(72597),L=n.clearMinTextSize,w=e(16688).resizeText,p=e(46650);k.exports=function(t,r,l,i,f){var v=f.type,c=f.drawDescendants,x=t._fullLayout,d=x["_"+v+"layer"],M,g,u=!l;if(L(v,x),M=d.selectAll("g.trace."+v).data(r,function(C){return C[0].trace.uid}),M.enter().append("g").classed("trace",!0).classed(v,!0),M.order(),!x.uniformtext.mode&&E.hasTransition(l)){i&&(g=i());var y=h.transition().duration(l.duration).ease(l.easing).each("end",function(){g&&g()}).each("interrupt",function(){g&&g()});y.each(function(){d.selectAll("g.trace").each(function(C){p(t,C,this,l,c)})})}else M.each(function(C){p(t,C,this,l,c)}),x.uniformtext.mode&&w(t,d.selectAll(".trace"),v);u&&M.exit().remove()}},66209:function(k,F,e){var h=e(39898),E=e(71828),n=e(91424),L=e(63893),w=e(37210),p=e(96362).styleOne,m=e(43473),t=e(2791),r=e(83523),l=!0;k.exports=function(f,v,c,x,d){var M=d.barDifY,g=d.width,u=d.height,y=d.viewX,C=d.viewY,S=d.pathSlice,D=d.toMoveInsideSlice,T=d.strTransform,P=d.hasTransition,A=d.handleSlicesExit,a=d.makeUpdateSliceInterpolator,R=d.makeUpdateTextInterpolator,b={},N=f._context.staticPlot,O=f._fullLayout,Y=v[0],B=Y.trace,W=Y.hierarchy,H=g/B._entryDepth,U=t.listPath(c.data,"id"),G=w(W.copy(),[g,u],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();G=G.filter(function(re){var ae=U.indexOf(re.data.id);return ae===-1?!1:(re.x0=H*ae,re.x1=H*(ae+1),re.y0=M,re.y1=M+u,re.onPathbar=!0,!0)}),G.reverse(),x=x.data(G,t.getPtId),x.enter().append("g").classed("pathbar",!0),A(x,l,b,[g,u],S),x.order();var j=x;P&&(j=j.transition().each("end",function(){var re=h.select(this);t.setSliceCursor(re,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function(re){re._x0=y(re.x0),re._x1=y(re.x1),re._y0=C(re.y0),re._y1=C(re.y1),re._hoverX=y(re.x1-Math.min(g,u)/2),re._hoverY=C(re.y1-u/2);var ae=h.select(this),ue=E.ensureSingle(ae,"path","surface",function(Q){Q.style("pointer-events",N?"none":"all")});P?ue.transition().attrTween("d",function(Q){var $=a(Q,l,b,[g,u]);return function(ne){return S($(ne))}}):ue.attr("d",S),ae.call(r,c,f,v,{styleOne:p,eventDataKeys:m.eventDataKeys,transitionTime:m.CLICK_TRANSITION_TIME,transitionEasing:m.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:f._transitioning}),ue.call(p,re,B,f,{hovered:!1}),re._text=(t.getPtLabel(re)||"").split("<br>").join(" ")||"";var de=E.ensureSingle(ae,"g","slicetext"),ee=E.ensureSingle(de,"text","",function(Q){Q.attr("data-notex",1)}),X=E.ensureUniformFontSize(f,t.determineTextFont(B,re,O.font,{onPathbar:!0}));ee.text(re._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(n.font,X).call(L.convertToTspans,f),re.textBB=n.bBox(ee.node()),re.transform=D(re,{fontSize:X.size,onPathbar:!0}),re.transform.fontSize=X.size,P?ee.transition().attrTween("transform",function(Q){var $=R(Q,l,b,[g,u]);return function(ne){return T($(ne))}}):ee.attr("transform",T(re))})}},52583:function(k,F,e){var h=e(39898),E=e(71828),n=e(91424),L=e(63893),w=e(37210),p=e(96362).styleOne,m=e(43473),t=e(2791),r=e(83523),l=e(24714).formatSliceLabel,i=!1;k.exports=function(v,c,x,d,M){var g=M.width,u=M.height,y=M.viewX,C=M.viewY,S=M.pathSlice,D=M.toMoveInsideSlice,T=M.strTransform,P=M.hasTransition,A=M.handleSlicesExit,a=M.makeUpdateSliceInterpolator,R=M.makeUpdateTextInterpolator,b=M.prevEntry,N={},O=v._context.staticPlot,Y=v._fullLayout,B=c[0],W=B.trace,H=W.textposition.indexOf("left")!==-1,U=W.textposition.indexOf("right")!==-1,G=W.textposition.indexOf("bottom")!==-1,j=!G&&!W.marker.pad.t||G&&!W.marker.pad.b,re=w(x,[g,u],{packing:W.tiling.packing,squarifyratio:W.tiling.squarifyratio,flipX:W.tiling.flip.indexOf("x")>-1,flipY:W.tiling.flip.indexOf("y")>-1,pad:{inner:W.tiling.pad,top:W.marker.pad.t,left:W.marker.pad.l,right:W.marker.pad.r,bottom:W.marker.pad.b}}),ae=re.descendants(),ue=1/0,de=-1/0;ae.forEach(function(ne){var fe=ne.depth;fe>=W._maxDepth?(ne.x0=ne.x1=(ne.x0+ne.x1)/2,ne.y0=ne.y1=(ne.y0+ne.y1)/2):(ue=Math.min(ue,fe),de=Math.max(de,fe))}),d=d.data(ae,t.getPtId),W._maxVisibleLayers=isFinite(de)?de-ue+1:0,d.enter().append("g").classed("slice",!0),A(d,i,N,[g,u],S),d.order();var ee=null;if(P&&b){var X=t.getPtId(b);d.each(function(ne){ee===null&&t.getPtId(ne)===X&&(ee={x0:ne.x0,x1:ne.x1,y0:ne.y0,y1:ne.y1})})}var Q=function(){return ee||{x0:0,x1:g,y0:0,y1:u}},$=d;return P&&($=$.transition().each("end",function(){var ne=h.select(this);t.setSliceCursor(ne,v,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),$.each(function(ne){var fe=t.isHeader(ne,W);ne._x0=y(ne.x0),ne._x1=y(ne.x1),ne._y0=C(ne.y0),ne._y1=C(ne.y1),ne._hoverX=y(ne.x1-W.marker.pad.r),ne._hoverY=C(G?ne.y1-W.marker.pad.b/2:ne.y0+W.marker.pad.t/2);var te=h.select(this),q=E.ensureSingle(te,"path","surface",function(we){we.style("pointer-events",O?"none":"all")});P?q.transition().attrTween("d",function(we){var Ee=a(we,i,Q(),[g,u]);return function(Me){return S(Ee(Me))}}):q.attr("d",S),te.call(r,x,v,c,{styleOne:p,eventDataKeys:m.eventDataKeys,transitionTime:m.CLICK_TRANSITION_TIME,transitionEasing:m.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,v,{isTransitioning:v._transitioning}),q.call(p,ne,W,v,{hovered:!1}),ne.x0===ne.x1||ne.y0===ne.y1?ne._text="":fe?ne._text=j?"":t.getPtLabel(ne)||"":ne._text=l(ne,x,W,c,Y)||"";var he=E.ensureSingle(te,"g","slicetext"),se=E.ensureSingle(he,"text","",function(we){we.attr("data-notex",1)}),pe=E.ensureUniformFontSize(v,t.determineTextFont(W,ne,Y.font));se.text(ne._text||" ").classed("slicetext",!0).attr("text-anchor",U?"end":H||fe?"start":"middle").call(n.font,pe).call(L.convertToTspans,v),ne.textBB=n.bBox(se.node()),ne.transform=D(ne,{fontSize:pe.size,isHeader:fe}),ne.transform.fontSize=pe.size,P?se.transition().attrTween("transform",function(we){var Ee=R(we,i,Q(),[g,u]);return function(Me){return T(Ee(Me))}}):se.attr("transform",T(ne))}),ee}},14102:function(k){k.exports=function F(e,h,E){var n;E.swapXY&&(n=e.x0,e.x0=e.y0,e.y0=n,n=e.x1,e.x1=e.y1,e.y1=n),E.flipX&&(n=e.x0,e.x0=h[0]-e.x1,e.x1=h[0]-n),E.flipY&&(n=e.y0,e.y0=h[1]-e.y1,e.y1=h[1]-n);var L=e.children;if(L)for(var w=0;w<L.length;w++)F(L[w],h,E)}},70954:function(k,F,e){k.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(k){k.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(k,F,e){var h=e(71828),E=e(55479);k.exports=function(L,w){function p(m,t){return h.coerce(L,w,E,m,t)}p("treemapcolorway",w.colorway),p("extendtreemapcolors")}},37210:function(k,F,e){var h=e(674),E=e(14102);k.exports=function(w,p,m){var t=m.flipX,r=m.flipY,l=m.packing==="dice-slice",i=m.pad[r?"bottom":"top"],f=m.pad[t?"right":"left"],v=m.pad[t?"left":"right"],c=m.pad[r?"top":"bottom"],x;l&&(x=f,f=i,i=x,x=v,v=c,c=x);var d=h.treemap().tile(n(m.packing,m.squarifyratio)).paddingInner(m.pad.inner).paddingLeft(f).paddingRight(v).paddingTop(i).paddingBottom(c).size(l?[p[1],p[0]]:p)(w);return(l||t||r)&&E(d,p,{swapXY:l,flipX:t,flipY:r}),d};function n(L,w){switch(L){case"squarify":return h.treemapSquarify.ratio(w);case"binary":return h.treemapBinary;case"dice":return h.treemapDice;case"slice":return h.treemapSlice;default:return h.treemapSliceDice}}},5893:function(k,F,e){var h=e(80694),E=e(52583);k.exports=function(L,w,p,m){return h(L,w,p,m,{type:"treemap",drawDescendants:E})}},46650:function(k,F,e){var h=e(39898),E=e(81684).sX,n=e(2791),L=e(71828),w=e(97313).TEXTPAD,p=e(17295),m=p.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,l=e(43473),i=e(66209);function f(v){return n.isHierarchyRoot(v)?"":n.getPtId(v)}k.exports=function(c,x,d,M,g){var u=c._fullLayout,y=x[0],C=y.trace,S=C.type,D=S==="icicle",T=y.hierarchy,P=n.findEntryWithLevel(T,C.level),A=h.select(d),a=A.selectAll("g.pathbar"),R=A.selectAll("g.slice");if(!P){a.remove(),R.remove();return}var b=n.isHierarchyRoot(P),N=!u.uniformtext.mode&&n.hasTransition(M),O=n.getMaxDepth(C),Y=function(Xe){return Xe.data.depth-P.data.depth<O},B=u._size,W=C.domain,H=B.w*(W.x[1]-W.x[0]),U=B.h*(W.y[1]-W.y[0]),G=H,j=C.pathbar.thickness,re=C.marker.line.width+l.gapWithPathbar,ae=C.pathbar.visible?C.pathbar.side.indexOf("bottom")>-1?U+re:-(j+re):0,ue={x0:G,x1:G,y0:ae,y1:ae+j},de=function(Xe,ke,Ie){var Oe=C.tiling.pad,_e=function(Re){return Re-Oe<=ke.x0},Ae=function(Re){return Re+Oe>=ke.x1},ce=function(Re){return Re-Oe<=ke.y0},be=function(Re){return Re+Oe>=ke.y1};return Xe.x0===ke.x0&&Xe.x1===ke.x1&&Xe.y0===ke.y0&&Xe.y1===ke.y1?{x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1}:{x0:_e(Xe.x0-Oe)?0:Ae(Xe.x0-Oe)?Ie[0]:Xe.x0,x1:_e(Xe.x1+Oe)?0:Ae(Xe.x1+Oe)?Ie[0]:Xe.x1,y0:ce(Xe.y0-Oe)?0:be(Xe.y0-Oe)?Ie[1]:Xe.y0,y1:ce(Xe.y1+Oe)?0:be(Xe.y1+Oe)?Ie[1]:Xe.y1}},ee=null,X={},Q={},$=null,ne=function(Xe,ke){return ke?X[f(Xe)]:Q[f(Xe)]},fe=function(Xe,ke,Ie,Oe){if(ke)return X[f(T)]||ue;var _e=Q[C.level]||Ie;return Y(Xe)?de(Xe,_e,Oe):{}};y.hasMultipleRoots&&b&&O++,C._maxDepth=O,C._backgroundColor=u.paper_bgcolor,C._entryDepth=P.data.depth,C._atRootLevel=b;var te=-H/2+B.l+B.w*(W.x[1]+W.x[0])/2,q=-U/2+B.t+B.h*(1-(W.y[1]+W.y[0])/2),he=function(Xe){return te+Xe},se=function(Xe){return q+Xe},pe=se(0),we=he(0),Ee=function(Xe){return we+Xe},Me=function(Xe){return pe+Xe};function Be(Xe,ke){return Xe+","+ke}var Ne=Ee(0),Ce=function(Xe){Xe.x=Math.max(Ne,Xe.x)},Te=C.pathbar.edgeshape,Le=function(Xe){var ke=Ee(Math.max(Math.min(Xe.x0,Xe.x0),0)),Ie=Ee(Math.min(Math.max(Xe.x1,Xe.x1),G)),Oe=Me(Xe.y0),_e=Me(Xe.y1),Ae=j/2,ce={},be={};ce.x=ke,be.x=Ie,ce.y=be.y=(Oe+_e)/2;var Re={x:ke,y:Oe},Ue={x:Ie,y:Oe},nt={x:Ie,y:_e},ot={x:ke,y:_e};return Te===">"?(Re.x-=Ae,Ue.x-=Ae,nt.x-=Ae,ot.x-=Ae):Te==="/"?(nt.x-=Ae,ot.x-=Ae,ce.x-=Ae/2,be.x-=Ae/2):Te==="\\"?(Re.x-=Ae,Ue.x-=Ae,ce.x-=Ae/2,be.x-=Ae/2):Te==="<"&&(ce.x-=Ae,be.x-=Ae),Ce(Re),Ce(ot),Ce(ce),Ce(Ue),Ce(nt),Ce(be),"M"+Be(Re.x,Re.y)+"L"+Be(Ue.x,Ue.y)+"L"+Be(be.x,be.y)+"L"+Be(nt.x,nt.y)+"L"+Be(ot.x,ot.y)+"L"+Be(ce.x,ce.y)+"Z"},Ve=C[D?"tiling":"marker"].pad,We=function(Xe){return C.textposition.indexOf(Xe)!==-1},Fe=We("top"),Ge=We("left"),it=We("right"),qe=We("bottom"),$e=function(Xe){var ke=he(Xe.x0),Ie=he(Xe.x1),Oe=se(Xe.y0),_e=se(Xe.y1),Ae=Ie-ke,ce=_e-Oe;if(!Ae||!ce)return"";var be=C.marker.cornerradius||0,Re=Math.min(be,Ae/2,ce/2);Re&&Xe.data&&Xe.data.data&&Xe.data.data.label&&(Fe&&(Re=Math.min(Re,Ve.t)),Ge&&(Re=Math.min(Re,Ve.l)),it&&(Re=Math.min(Re,Ve.r)),qe&&(Re=Math.min(Re,Ve.b)));var Ue=function(nt,ot){return Re?"a"+Be(Re,Re)+" 0 0 1 "+Be(nt,ot):""};return"M"+Be(ke,Oe+Re)+Ue(Re,-Re)+"L"+Be(Ie-Re,Oe)+Ue(Re,Re)+"L"+Be(Ie,_e-Re)+Ue(-Re,Re)+"L"+Be(ke+Re,_e)+Ue(-Re,-Re)+"Z"},tt=function(Xe,ke){var Ie=Xe.x0,Oe=Xe.x1,_e=Xe.y0,Ae=Xe.y1,ce=Xe.textBB,be=Fe||ke.isHeader&&!qe,Re=be?"start":qe?"end":"middle",Ue=We("right"),nt=We("left")||ke.onPathbar,ot=nt?-1:Ue?1:0;if(ke.isHeader){if(Ie+=(D?Ve:Ve.l)-w,Oe-=(D?Ve:Ve.r)-w,Ie>=Oe){var wt=(Ie+Oe)/2;Ie=wt,Oe=wt}var _t;qe?(_t=Ae-(D?Ve:Ve.b),_e<_t&&_t<Ae&&(_e=_t)):(_t=_e+(D?Ve:Ve.t),_e<_t&&_t<Ae&&(Ae=_t))}var Ut=m(Ie,Oe,_e,Ae,ce,{isHorizontal:!1,constrained:!0,angle:0,anchor:Re,leftToRight:ot});return Ut.fontSize=ke.fontSize,Ut.targetX=he(Ut.targetX),Ut.targetY=se(Ut.targetY),isNaN(Ut.targetX)||isNaN(Ut.targetY)?{}:(Ie!==Oe&&_e!==Ae&&r(C.type,Ut,u),{scale:Ut.scale,rotate:Ut.rotate,textX:Ut.textX,textY:Ut.textY,anchorX:Ut.anchorX,anchorY:Ut.anchorY,targetX:Ut.targetX,targetY:Ut.targetY})},vt=function(Xe,ke){for(var Ie,Oe=0,_e=Xe;!Ie&&Oe<O;)Oe++,_e=_e.parent,_e?Ie=ne(_e,ke):Oe=O;return Ie||{}},dt=function(Xe,ke,Ie,Oe){var _e=ne(Xe,ke),Ae;if(ke)Ae=ue;else{var ce=ne(P,ke);ce?Ae=de(Xe,ce,Oe):Ae={}}return E(_e,Ae)},gt=function(Xe,ke,Ie,Oe,_e){var Ae=ne(Xe,ke),ce;if(Ae)ce=Ae;else if(ke)ce=ue;else if(ee)if(Xe.parent){var be=$||Ie;be&&!ke?ce=de(Xe,be,Oe):(ce={},L.extendFlat(ce,vt(Xe,ke)))}else ce=L.extendFlat({},Xe),D&&(_e.orientation==="h"?_e.flipX?ce.x0=Xe.x1:ce.x1=0:_e.flipY?ce.y0=Xe.y1:ce.y1=0);else ce={};return E(ce,{x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1})},Mt=function(Xe,ke,Ie,Oe){var _e=ne(Xe,ke),Ae={},ce=fe(Xe,ke,Ie,Oe);L.extendFlat(Ae,{transform:tt({x0:ce.x0,x1:ce.x1,y0:ce.y0,y1:ce.y1,textBB:Xe.textBB,_text:Xe._text},{isHeader:n.isHeader(Xe,C)})}),_e?Ae=_e:Xe.parent&&L.extendFlat(Ae,vt(Xe,ke));var be=Xe.transform;return Xe.x0!==Xe.x1&&Xe.y0!==Xe.y1&&r(C.type,be,u),E(Ae,{transform:{scale:be.scale,rotate:be.rotate,textX:be.textX,textY:be.textY,anchorX:be.anchorX,anchorY:be.anchorY,targetX:be.targetX,targetY:be.targetY}})},Ct=function(Xe,ke,Ie,Oe,_e){var Ae=Oe[0],ce=Oe[1];N?Xe.exit().transition().each(function(){var be=h.select(this),Re=be.select("path.surface");Re.transition().attrTween("d",function(nt){var ot=dt(nt,ke,Ie,[Ae,ce]);return function(wt){return _e(ot(wt))}});var Ue=be.select("g.slicetext");Ue.attr("opacity",0)}).remove():Xe.exit().remove()},Wt=function(Xe){var ke=Xe.transform;return Xe.x0!==Xe.x1&&Xe.y0!==Xe.y1&&r(C.type,ke,u),L.getTextTransform({textX:ke.textX,textY:ke.textY,anchorX:ke.anchorX,anchorY:ke.anchorY,targetX:ke.targetX,targetY:ke.targetY,scale:ke.scale,rotate:ke.rotate})};N&&(a.each(function(Xe){X[f(Xe)]={x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1},Xe.transform&&(X[f(Xe)].transform={textX:Xe.transform.textX,textY:Xe.transform.textY,anchorX:Xe.transform.anchorX,anchorY:Xe.transform.anchorY,targetX:Xe.transform.targetX,targetY:Xe.transform.targetY,scale:Xe.transform.scale,rotate:Xe.transform.rotate})}),R.each(function(Xe){Q[f(Xe)]={x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1},Xe.transform&&(Q[f(Xe)].transform={textX:Xe.transform.textX,textY:Xe.transform.textY,anchorX:Xe.transform.anchorX,anchorY:Xe.transform.anchorY,targetX:Xe.transform.targetX,targetY:Xe.transform.targetY,scale:Xe.transform.scale,rotate:Xe.transform.rotate}),!ee&&n.isEntry(Xe)&&(ee=Xe)})),$=g(c,x,P,R,{width:H,height:U,viewX:he,viewY:se,pathSlice:$e,toMoveInsideSlice:tt,prevEntry:ee,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Mt,handleSlicesExit:Ct,hasTransition:N,strTransform:Wt}),C.pathbar.visible?i(c,x,P,a,{barDifY:ae,width:G,height:j,viewX:Ee,viewY:Me,pathSlice:Le,toMoveInsideSlice:tt,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Mt,handleSlicesExit:Ct,hasTransition:N,strTransform:Wt}):a.remove()}},96362:function(k,F,e){var h=e(39898),E=e(7901),n=e(71828),L=e(2791),w=e(72597).resizeText,p=e(43467);function m(r){var l=r._fullLayout._treemaplayer.selectAll(".trace");w(r,l,"treemap"),l.each(function(i){var f=h.select(this),v=i[0],c=v.trace;f.style("opacity",c.opacity),f.selectAll("path.surface").each(function(x){h.select(this).call(t,x,c,r,{hovered:!1})})})}function t(r,l,i,f,v){var c=(v||{}).hovered,x=l.data.data,d=x.i,M,g,u=x.color,y=L.isHierarchyRoot(l),C=1;if(c)M=i._hovered.marker.line.color,g=i._hovered.marker.line.width;else if(y&&u===i.root.color)C=100,M="rgba(0,0,0,0)",g=0;else if(M=n.castOption(i,d,"marker.line.color")||E.defaultLine,g=n.castOption(i,d,"marker.line.width")||0,!i._hasColorscale&&!l.onPathbar){var S=i.marker.depthfade;if(S){var D=E.combine(E.addOpacity(i._backgroundColor,.75),u),T;if(S===!0){var P=L.getMaxDepth(i);isFinite(P)?L.isLeaf(l)?T=0:T=i._maxVisibleLayers-(l.data.depth-i._entryDepth):T=l.data.height+1}else T=l.data.depth-i._entryDepth,i._atRootLevel||T++;if(T>0)for(var A=0;A<T;A++){var a=.5*A/T;u=E.combine(E.addOpacity(D,a),u)}}}r.call(p,l,i,f,u).style("stroke-width",g).call(E.stroke,M).style("opacity",C)}k.exports={style:m,styleOne:t}},68875:function(k,F,e){var h=e(53522),E=e(1426).extendFlat,n=e(12663).axisHoverFormat;k.exports={y:h.y,x:h.x,x0:h.x0,y0:h.y0,xhoverformat:n("x"),yhoverformat:n("y"),name:E({},h.name,{}),orientation:E({},h.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:h.fillcolor,points:E({},h.boxpoints,{}),jitter:E({},h.jitter,{}),pointpos:E({},h.pointpos,{}),width:E({},h.width,{}),marker:h.marker,text:h.text,hovertext:h.hovertext,hovertemplate:h.hovertemplate,quartilemethod:h.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:h.offsetgroup,alignmentgroup:h.alignmentgroup,selected:h.selected,unselected:h.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(k,F,e){var h=e(71828),E=e(89298),n=e(48518),L=e(60168),w=e(50606).BADNUM;k.exports=function(l,i){var f=n(l,i);if(f[0].t.empty)return f;for(var v=l._fullLayout,c=E.getFromId(l,i[i.orientation==="h"?"xaxis":"yaxis"]),x=1/0,d=-1/0,M=0,g=0,u=0;u<f.length;u++){var y=f[u],C=y.pts.map(L.extractVal),S=y.bandwidth=m(i,y,C),D=y.span=t(i,y,c,S);if(y.min===y.max&&S===0)D=y.span=[y.min,y.max],y.density=[{v:1,t:D[0]}],y.bandwidth=S,M=Math.max(M,1);else{var T=D[1]-D[0],P=Math.ceil(T/(S/3)),A=T/P;if(!isFinite(A)||!isFinite(P))return h.error("Something went wrong with computing the violin span"),f[0].t.empty=!0,f;var a=L.makeKDE(y,i,C);y.density=new Array(P);for(var R=0,b=D[0];b<D[1]+A/2;R++,b+=A){var N=a(b);y.density[R]={v:N,t:b},M=Math.max(M,N)}}g=Math.max(g,C.length),x=Math.min(x,D[0]),d=Math.max(d,D[1])}var O=E.findExtremes(c,[x,d],{padded:!0});if(i._extremes[c._id]=O,i.width)f[0].t.maxKDE=M;else{var Y=v._violinScaleGroupStats,B=i.scalegroup,W=Y[B];W?(W.maxKDE=Math.max(W.maxKDE,M),W.maxCount=Math.max(W.maxCount,g)):Y[B]={maxKDE:M,maxCount:g}}return f[0].t.labels.kde=h._(l,"kde:"),f};function p(r,l,i){var f=Math.min(l,i/1.349);return 1.059*f*Math.pow(r,-.2)}function m(r,l,i){var f=l.max-l.min;if(!f)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,f/1e4);var v=i.length,c=h.stdev(i,v-1,l.mean);return Math.max(p(v,c,l.q3-l.q1),f/100)}function t(r,l,i,f){var v=r.spanmode,c=r.span||[],x=[l.min,l.max],d=[l.min-2*f,l.max+2*f],M;function g(y){var C=c[y],S=i.type==="multicategory"?i.r2c(C):i.d2c(C,0,r[l.valLetter+"calendar"]);return S===w?d[y]:S}v==="soft"?M=d:v==="hard"?M=x:M=[g(0),g(1)];var u={type:"linear",range:M};return E.setConvert(u),u.cleanRange(),M}},86403:function(k,F,e){var h=e(37188).setPositionOffset,E=["v","h"];k.exports=function(L,w){for(var p=L.calcdata,m=w.xaxis,t=w.yaxis,r=0;r<E.length;r++){for(var l=E[r],i=l==="h"?t:m,f=[],v=0;v<p.length;v++){var c=p[v],x=c[0].t,d=c[0].trace;d.visible===!0&&d.type==="violin"&&!x.empty&&d.orientation===l&&d.xaxis===m._id&&d.yaxis===t._id&&f.push(v)}h("violin",L,f,i)}}},15899:function(k,F,e){var h=e(71828),E=e(7901),n=e(36411),L=e(68875);k.exports=function(p,m,t,r){function l(A,a){return h.coerce(p,m,L,A,a)}function i(A,a){return h.coerce2(p,m,L,A,a)}if(n.handleSampleDefaults(p,m,l,r),m.visible!==!1){l("bandwidth"),l("side");var f=l("width");f||(l("scalegroup",m.name),l("scalemode"));var v=l("span"),c;Array.isArray(v)&&(c="manual"),l("spanmode",c);var x=l("line.color",(p.marker||{}).color||t),d=l("line.width"),M=l("fillcolor",E.addOpacity(m.line.color,.5));n.handlePointsDefaults(p,m,l,{prefix:""});var g=i("box.width"),u=i("box.fillcolor",M),y=i("box.line.color",x),C=i("box.line.width",d),S=l("box.visible",Boolean(g||u||y||C));S||(m.box={visible:!1});var D=i("meanline.color",x),T=i("meanline.width",d),P=l("meanline.visible",Boolean(D||T));P||(m.meanline={visible:!1}),l("quartilemethod")}}},60168:function(k,F,e){var h=e(71828),E={gaussian:function(n){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*n*n)}};F.makeKDE=function(n,L,w){var p=w.length,m=E.gaussian,t=n.bandwidth,r=1/(p*t);return function(l){for(var i=0,f=0;f<p;f++)i+=m((l-w[f])/t);return r*i}},F.getPositionOnKdePath=function(n,L,w){var p,m;L.orientation==="h"?(p="y",m="x"):(p="x",m="y");var t=h.findPointOnPath(n.path,w,m,{pathLength:n.pathLength}),r=n.posCenterPx,l=t[p],i=L.side==="both"?2*r-l:r;return[l,i]},F.getKdeValue=function(n,L,w){var p=n.pts.map(F.extractVal),m=F.makeKDE(n,L,p);return m(w)/n.posDensityScale},F.extractVal=function(n){return n.v}},57634:function(k,F,e){var h=e(7901),E=e(71828),n=e(89298),L=e(41868),w=e(60168);k.exports=function(m,t,r,l,i){i||(i={});var f=i.hoverLayer,v=m.cd,c=v[0].trace,x=c.hoveron,d=x.indexOf("violins")!==-1,M=x.indexOf("kde")!==-1,g=[],u,y;if(d||M){var C=L.hoverOnBoxes(m,t,r,l);if(M&&C.length>0){var S=m.xa,D=m.ya,T,P,A,a,R;c.orientation==="h"?(R=t,T="y",A=D,P="x",a=S):(R=r,T="x",A=S,P="y",a=D);var b=v[m.index];if(R>=b.span[0]&&R<=b.span[1]){var N=E.extendFlat({},m),O=a.c2p(R,!0),Y=w.getKdeValue(b,c,R),B=w.getPositionOnKdePath(b,c,O),W=A._offset,H=A._length;N[T+"0"]=B[0],N[T+"1"]=B[1],N[P+"0"]=N[P+"1"]=O,N[P+"Label"]=P+": "+n.hoverLabelText(a,R,c[P+"hoverformat"])+", "+v[0].t.labels.kde+" "+Y.toFixed(3);for(var U=0,G=0;G<C.length;G++)if(C[G].attr==="med"){U=G;break}N.spikeDistance=C[U].spikeDistance;var j=T+"Spike";N[j]=C[U][j],C[U].spikeDistance=void 0,C[U][j]=void 0,N.hovertemplate=!1,g.push(N),y={},y[T+"1"]=E.constrain(W+B[0],W,W+H),y[T+"2"]=E.constrain(W+B[1],W,W+H),y[P+"1"]=y[P+"2"]=a._offset+O}}d&&(g=g.concat(C))}x.indexOf("points")!==-1&&(u=L.hoverOnPoints(m,t,r));var re=f.selectAll(".violinline-"+c.uid).data(y?[0]:[]);return re.enter().append("line").classed("violinline-"+c.uid,!0).attr("stroke-width",1.5),re.exit().remove(),re.attr(y).call(h.stroke,m.color),l==="closest"?u?[u]:g:(u&&g.push(u),g)}},47462:function(k,F,e){k.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(k,F,e){var h=e(40094),E=e(71828).extendFlat;k.exports={violinmode:E({},h.boxmode,{}),violingap:E({},h.boxgap,{}),violingroupgap:E({},h.boxgroupgap,{})}},33598:function(k,F,e){var h=e(71828),E=e(9228),n=e(4199);k.exports=function(w,p,m){function t(r,l){return h.coerce(w,p,E,r,l)}n._supply(w,p,m,t,"violin")}},28443:function(k,F,e){var h=e(39898),E=e(71828),n=e(91424),L=e(86047),w=e(34621),p=e(60168);k.exports=function(t,r,l,i){var f=t._context.staticPlot,v=t._fullLayout,c=r.xaxis,x=r.yaxis;function d(M,g){var u=w(M,{xaxis:c,yaxis:x,trace:g,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return n.smoothopen(u[0],1)}E.makeTraceGroups(i,l,"trace violins").each(function(M){var g=h.select(this),u=M[0],y=u.t,C=u.trace;if(C.visible!==!0||y.empty){g.remove();return}var S=y.bPos,D=y.bdPos,T=r[y.valLetter+"axis"],P=r[y.posLetter+"axis"],A=C.side==="both",a=A||C.side==="positive",R=A||C.side==="negative",b=g.selectAll("path.violin").data(E.identity);b.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","violin"),b.exit().remove(),b.each(function(G){var j=h.select(this),re=G.density,ae=re.length,ue=P.c2l(G.pos+S,!0),de=P.l2p(ue),ee;if(C.width)ee=y.maxKDE/D;else{var X=v._violinScaleGroupStats[C.scalegroup];ee=C.scalemode==="count"?X.maxKDE/D*(X.maxCount/G.pts.length):X.maxKDE/D}var Q,$,ne,fe,te,q,he;if(a){for(q=new Array(ae),fe=0;fe<ae;fe++)he=q[fe]={},he[y.posLetter]=ue+re[fe].v/ee,he[y.valLetter]=T.c2l(re[fe].t,!0);Q=d(q,C)}if(R){for(q=new Array(ae),te=0,fe=ae-1;te<ae;te++,fe--)he=q[te]={},he[y.posLetter]=ue-re[fe].v/ee,he[y.valLetter]=T.c2l(re[fe].t,!0);$=d(q,C)}if(A)ne=Q+"L"+$.substr(1)+"Z";else{var se=[de,T.c2p(re[0].t)],pe=[de,T.c2p(re[ae-1].t)];C.orientation==="h"&&(se.reverse(),pe.reverse()),a?ne="M"+se+"L"+Q.substr(1)+"L"+pe:ne="M"+pe+"L"+$.substr(1)+"L"+se}j.attr("d",ne),G.posCenterPx=de,G.posDensityScale=ee*D,G.path=j.node(),G.pathLength=G.path.getTotalLength()/(A?2:1)});var N=C.box,O=N.width,Y=(N.line||{}).width,B,W;A?(B=D*O,W=0):a?(B=[0,D*O/2],W=Y*{x:1,y:-1}[y.posLetter]):(B=[D*O/2,0],W=Y*{x:-1,y:1}[y.posLetter]),L.plotBoxAndWhiskers(g,{pos:P,val:T},C,{bPos:S,bdPos:B,bPosPxOffset:W}),L.plotBoxMean(g,{pos:P,val:T},C,{bPos:S,bdPos:B,bPosPxOffset:W});var H;!C.box.visible&&C.meanline.visible&&(H=E.identity);var U=g.selectAll("path.meanline").data(H||[]);U.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",f?"none":"non-scaling-stroke"),U.exit().remove(),U.each(function(G){var j=T.c2p(G.mean,!0),re=p.getPositionOnKdePath(G,C,j);h.select(this).attr("d",C.orientation==="h"?"M"+j+","+re[0]+"V"+re[1]:"M"+re[0]+","+j+"H"+re[1])}),L.plotPoints(g,{x:c,y:x},C,y)})}},31847:function(k,F,e){var h=e(39898),E=e(7901),n=e(16296).stylePoints;k.exports=function(w){var p=h.select(w).selectAll("g.trace.violins");p.style("opacity",function(m){return m[0].trace.opacity}),p.each(function(m){var t=m[0].trace,r=h.select(this),l=t.box||{},i=l.line||{},f=t.meanline||{},v=f.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(E.stroke,t.line.color).call(E.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",i.width+"px").call(E.stroke,i.color).call(E.fill,l.fillcolor);var c={"stroke-width":v+"px","stroke-dasharray":2*v+"px,"+v+"px"};r.selectAll("path.mean").style(c).call(E.stroke,f.color),r.selectAll("path.meanline").style(c).call(E.stroke,f.color),n(r,t,w)})}},16336:function(k,F,e){var h=e(50693),E=e(16249),n=e(54532),L=e(9012),w=e(1426).extendFlat,p=e(30962).overrideAll,m=k.exports=p(w({x:E.x,y:E.y,z:E.z,value:E.value,isomin:E.isomin,isomax:E.isomax,surface:E.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:E.slices,caps:E.caps,text:E.text,hovertext:E.hovertext,xhoverformat:E.xhoverformat,yhoverformat:E.yhoverformat,zhoverformat:E.zhoverformat,valuehoverformat:E.valuehoverformat,hovertemplate:E.hovertemplate},h("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:E.colorbar,opacity:E.opacity,opacityscale:n.opacityscale,lightposition:E.lightposition,lighting:E.lighting,flatshading:E.flatshading,contour:E.contour,hoverinfo:w({},L.hoverinfo),showlegend:w({},L.showlegend,{dflt:!1})}),"calc","nested");m.x.editType=m.y.editType=m.z.editType=m.value.editType="calc+clearAxisTypes",m.transforms=void 0},64809:function(k,F,e){var h=e(9330).gl_mesh3d,E=e(81697).parseColorScale,n=e(78614),L=e(21081).extractOpts,w=e(90060),p=e(22674).findNearestOnAxis,m=e(22674).generateIsoMeshes;function t(i,f,v){this.scene=i,this.uid=v,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(i){if(i.object===this.mesh){var f=i.data.index,v=this.data._meshX[f],c=this.data._meshY[f],x=this.data._meshZ[f],d=this.data._Ys.length,M=this.data._Zs.length,g=p(v,this.data._Xs).id,u=p(c,this.data._Ys).id,y=p(x,this.data._Zs).id,C=i.index=y+M*u+M*d*g;i.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var S=this.data.hovertext||this.data.text;return Array.isArray(S)&&S[C]!==void 0?i.textLabel=S[C]:S&&(i.textLabel=S),!0}},r.update=function(i){var f=this.scene,v=f.fullSceneLayout;this.data=m(i);function c(u,y,C,S){return y.map(function(D){return u.d2l(D,0,S)*C})}var x=w(c(v.xaxis,i._meshX,f.dataScale[0],i.xcalendar),c(v.yaxis,i._meshY,f.dataScale[1],i.ycalendar),c(v.zaxis,i._meshZ,f.dataScale[2],i.zcalendar)),d=w(i._meshI,i._meshJ,i._meshK),M={positions:x,cells:d,lightPosition:[i.lightposition.x,i.lightposition.y,i.lightposition.z],ambient:i.lighting.ambient,diffuse:i.lighting.diffuse,specular:i.lighting.specular,roughness:i.lighting.roughness,fresnel:i.lighting.fresnel,vertexNormalsEpsilon:i.lighting.vertexnormalsepsilon,faceNormalsEpsilon:i.lighting.facenormalsepsilon,opacity:i.opacity,opacityscale:i.opacityscale,contourEnable:i.contour.show,contourColor:n(i.contour.color).slice(0,3),contourWidth:i.contour.width,useFacetNormals:i.flatshading},g=L(i);M.vertexIntensity=i._meshIntensity,M.vertexIntensityBounds=[g.min,g.max],M.colormap=E(i),this.mesh.update(M)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(i,f){var v=i.glplot.gl,c=h({gl:v}),x=new t(i,c,f.uid);return c._trace=x,x.update(f),i.glplot.add(c),x}k.exports=l},47651:function(k,F,e){var h=e(71828),E=e(16336),n=e(82738).supplyIsoDefaults,L=e(91831).opacityscaleDefaults;k.exports=function(p,m,t,r){function l(i,f){return h.coerce(p,m,E,i,f)}n(p,m,t,r,l),L(p,m,r,l)}},17659:function(k,F,e){k.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(k,F,e){var h=e(1486),E=e(82196).line,n=e(9012),L=e(12663).axisHoverFormat,w=e(5386).fF,p=e(5386).si,m=e(48334),t=e(1426).extendFlat,r=e(7901);function l(i){return{marker:{color:t({},h.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},h.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},h.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}k.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:h.x,x0:h.x0,dx:h.dx,y:h.y,y0:h.y0,dy:h.dy,xperiod:h.xperiod,yperiod:h.yperiod,xperiod0:h.xperiod0,yperiod0:h.yperiod0,xperiodalignment:h.xperiodalignment,yperiodalignment:h.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:h.hovertext,hovertemplate:w({},{keys:m.eventDataKeys}),hoverinfo:t({},n.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:p({editType:"plot"},{keys:m.eventDataKeys.concat(["label"])}),text:h.text,textposition:h.textposition,insidetextanchor:h.insidetextanchor,textangle:h.textangle,textfont:h.textfont,insidetextfont:h.insidetextfont,outsidetextfont:h.outsidetextfont,constraintext:h.constraintext,cliponaxis:h.cliponaxis,orientation:h.orientation,offset:h.offset,width:h.width,increasing:l(),decreasing:l(),totals:l(),connector:{line:{color:t({},E.color,{dflt:r.defaultLine}),width:t({},E.width,{editType:"plot"}),dash:E.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:h.offsetgroup,alignmentgroup:h.alignmentgroup}},52752:function(k,F,e){var h=e(89298),E=e(42973),n=e(71828).mergeArray,L=e(66279),w=e(50606).BADNUM;function p(t){return t==="a"||t==="absolute"}function m(t){return t==="t"||t==="total"}k.exports=function(r,l){var i=h.getFromId(r,l.xaxis||"x"),f=h.getFromId(r,l.yaxis||"y"),v,c,x,d,M,g;l.orientation==="h"?(v=i.makeCalcdata(l,"x"),x=f.makeCalcdata(l,"y"),d=E(l,f,"y",x),M=!!l.yperiodalignment,g="y"):(v=f.makeCalcdata(l,"y"),x=i.makeCalcdata(l,"x"),d=E(l,i,"x",x),M=!!l.xperiodalignment,g="x"),c=d.vals;for(var u=Math.min(c.length,v.length),y=new Array(u),C=0,S,D=!1,T=0;T<u;T++){var P=v[T]||0,A=!1;(v[T]!==w||m(l.measure[T])||p(l.measure[T]))&&T+1<u&&(v[T+1]!==w||m(l.measure[T+1])||p(l.measure[T+1]))&&(A=!0);var a=y[T]={i:T,p:c[T],s:P,rawS:P,cNext:A};p(l.measure[T])?(C=a.s,a.isSum=!0,a.dir="totals",a.s=C):m(l.measure[T])?(a.isSum=!0,a.dir="totals",a.s=C):(a.isSum=!1,a.dir=a.rawS<0?"decreasing":"increasing",S=a.s,a.s=C+S,C+=S),a.dir==="totals"&&(D=!0),M&&(y[T].orig_p=x[T],y[T][g+"End"]=d.ends[T],y[T][g+"Start"]=d.starts[T]),l.ids&&(a.id=String(l.ids[T])),a.v=(l.base||0)+C}return y.length&&(y[0].hasTotals=D),n(l.text,y,"tx"),n(l.hovertext,y,"htx"),L(y,l),y}},48334:function(k){k.exports={eventDataKeys:["initial","delta","final"]}},70766:function(k,F,e){var h=e(11661).setGroupPositions;k.exports=function(n,L){var w=n._fullLayout,p=n._fullData,m=n.calcdata,t=L.xaxis,r=L.yaxis,l=[],i=[],f=[],v,c;for(c=0;c<p.length;c++){var x=p[c];x.visible===!0&&x.xaxis===t._id&&x.yaxis===r._id&&x.type==="waterfall"&&(v=m[c],x.orientation==="h"?f.push(v):i.push(v),l.push(v))}var d={mode:w.waterfallmode,norm:w.waterfallnorm,gap:w.waterfallgap,groupgap:w.waterfallgroupgap};for(h(n,t,r,i,d),h(n,r,t,f,d),c=0;c<l.length;c++){v=l[c];for(var M=0;M<v.length;M++){var g=v[M];g.isSum===!1&&(g.s0+=M===0?0:v[M-1].s),M+1<v.length&&(v[M].nextP0=v[M+1].p0,v[M].nextS0=v[M+1].s0)}}}},83266:function(k,F,e){var h=e(71828),E=e(26125),n=e(90769).handleText,L=e(67513),w=e(73927),p=e(43037),m=e(7901),t=e(22372),r=t.INCREASING.COLOR,l=t.DECREASING.COLOR,i="#4499FF";function f(x,d,M){x(d+".marker.color",M),x(d+".marker.line.color",m.defaultLine),x(d+".marker.line.width")}function v(x,d,M,g){function u(T,P){return h.coerce(x,d,p,T,P)}var y=L(x,d,g,u);if(!y){d.visible=!1;return}w(x,d,g,u),u("xhoverformat"),u("yhoverformat"),u("measure"),u("orientation",d.x&&!d.y?"h":"v"),u("base"),u("offset"),u("width"),u("text"),u("hovertext"),u("hovertemplate");var C=u("textposition");n(x,d,g,u,C,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),d.textposition!=="none"&&(u("texttemplate"),d.texttemplate||u("textinfo")),f(u,"increasing",r),f(u,"decreasing",l),f(u,"totals",i);var S=u("connector.visible");if(S){u("connector.mode");var D=u("connector.line.width");D&&(u("connector.line.color"),u("connector.line.dash"))}}function c(x,d){var M,g;function u(C){return h.coerce(g._input,g,p,C)}if(d.waterfallmode==="group")for(var y=0;y<x.length;y++)g=x[y],M=g._input,E(M,g,d,u)}k.exports={supplyDefaults:v,crossTraceDefaults:c}},58593:function(k){k.exports=function(e,h){return e.x="xVal"in h?h.xVal:h.x,e.y="yVal"in h?h.yVal:h.y,"initial"in h&&(e.initial=h.initial),"delta"in h&&(e.delta=h.delta),"final"in h&&(e.final=h.final),h.xa&&(e.xaxis=h.xa),h.ya&&(e.yaxis=h.ya),e}},61326:function(k,F,e){var h=e(89298).hoverLabelText,E=e(7901).opacity,n=e(95423).hoverOnBars,L=e(22372),w={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};k.exports=function(t,r,l,i,f){var v=n(t,r,l,i,f);if(!v)return;var c=v.cd,x=c[0].trace,d=x.orientation==="h",M=d?"x":"y",g=d?t.xa:t.ya;function u(b){return h(g,b,x[M+"hoverformat"])}var y=v.index,C=c[y],S=C.isSum?C.b+C.s:C.rawS;v.initial=C.b+C.s-S,v.delta=S,v.final=v.initial+v.delta;var D=u(Math.abs(v.delta));v.deltaLabel=S<0?"("+D+")":D,v.finalLabel=u(v.final),v.initialLabel=u(v.initial);var T=C.hi||x.hoverinfo,P=[];if(T&&T!=="none"&&T!=="skip"){var A=T==="all",a=T.split("+"),R=function(b){return A||a.indexOf(b)!==-1};C.isSum||(R("final")&&(d?!R("x"):!R("y"))&&P.push(v.finalLabel),R("delta")&&(S<0?P.push(v.deltaLabel+" "+w.decreasing):P.push(v.deltaLabel+" "+w.increasing)),R("initial")&&P.push("Initial: "+v.initialLabel))}return P.length&&(v.extraText=P.join("<br>")),v.color=p(x,C),[v]};function p(m,t){var r=m[t.dir].marker,l=r.color,i=r.line.color,f=r.line.width;if(E(l))return l;if(E(i)&&f)return i}},19990:function(k,F,e){k.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(k){k.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(k,F,e){var h=e(71828),E=e(13494);k.exports=function(n,L,w){var p=!1;function m(l,i){return h.coerce(n,L,E,l,i)}for(var t=0;t<w.length;t++){var r=w[t];if(r.visible&&r.type==="waterfall"){p=!0;break}}p&&(m("waterfallmode"),m("waterfallgap",.2),m("waterfallgroupgap"))}},30436:function(k,F,e){var h=e(39898),E=e(71828),n=e(91424),L=e(50606).BADNUM,w=e(17295),p=e(72597).clearMinTextSize;k.exports=function(l,i,f,v){var c=l._fullLayout;p("waterfall",c),w.plot(l,i,f,v,{mode:c.waterfallmode,norm:c.waterfallmode,gap:c.waterfallgap,groupgap:c.waterfallgroupgap}),m(l,i,f,v)};function m(r,l,i,f){var v=l.xaxis,c=l.yaxis;E.makeTraceGroups(f,i,"trace bars").each(function(x){var d=h.select(this),M=x[0].trace,g=E.ensureSingle(d,"g","lines");if(!M.connector||!M.connector.visible){g.remove();return}var u=M.orientation==="h",y=M.connector.mode,C=g.selectAll("g.line").data(E.identity);C.enter().append("g").classed("line",!0),C.exit().remove();var S=C.size();C.each(function(D,T){if(!(T!==S-1&&!D.cNext)){var P=t(D,v,c,u),A=P[0],a=P[1],R="";A[0]!==L&&a[0]!==L&&A[1]!==L&&a[1]!==L&&(y==="spanning"&&!D.isSum&&T>0&&(u?R+="M"+A[0]+","+a[1]+"V"+a[0]:R+="M"+A[1]+","+a[0]+"H"+A[0]),y!=="between"&&(D.isSum||T<S-1)&&(u?R+="M"+A[1]+","+a[0]+"V"+a[1]:R+="M"+A[0]+","+a[1]+"H"+A[1]),A[2]!==L&&a[2]!==L&&(u?R+="M"+A[1]+","+a[1]+"V"+a[2]:R+="M"+A[1]+","+a[1]+"H"+A[2])),R===""&&(R="M0,0Z"),E.ensureSingle(h.select(this),"path").attr("d",R).call(n.setClipUrl,l.layerClipId,r)}})})}function t(r,l,i,f){var v=[],c=[],x=f?l:i,d=f?i:l;return v[0]=x.c2p(r.s0,!0),c[0]=d.c2p(r.p0,!0),v[1]=x.c2p(r.s1,!0),c[1]=d.c2p(r.p1,!0),v[2]=x.c2p(r.nextS0,!0),c[2]=d.c2p(r.nextP0,!0),f?[v,c]:[c,v]}},55750:function(k,F,e){var h=e(39898),E=e(91424),n=e(7901),L=e(37822).DESELECTDIM,w=e(16688),p=e(72597).resizeText,m=w.styleTextPoints;function t(r,l,i){var f=i||h.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");p(r,f,"waterfall"),f.style("opacity",function(v){return v[0].trace.opacity}),f.each(function(v){var c=h.select(this),x=v[0].trace;c.selectAll(".point > path").each(function(d){if(!d.isBlank){var M=x[d.dir].marker;h.select(this).call(n.fill,M.color).call(n.stroke,M.line.color).call(E.dashLine,M.line.dash,M.line.width).style("opacity",x.selectedpoints&&!d.selected?L:1)}}),m(c,x,r),c.selectAll(".lines").each(function(){var d=x.connector.line;E.lineGroupStyle(h.select(this).selectAll("path"),d.width,d.color,d.dash)})})}k.exports={style:t}},82887:function(k,F,e){var h=e(89298),E=e(71828),n=e(86281),L=e(79344).p,w=e(50606).BADNUM;F.moduleType="transform",F.name="aggregate";var p=F.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},m=p.aggregations;F.supplyDefaults=function(v,c){var x={},d;function M(b,N){return E.coerce(v,x,p,b,N)}var g=M("enabled");if(!g)return x;var u=n.findArrayAttributes(c),y={};for(d=0;d<u.length;d++)y[u[d]]=1;var C=M("groups");if(!Array.isArray(C)){if(!y[C])return x.enabled=!1,x;y[C]=0}var S=v.aggregations||[],D=x.aggregations=new Array(S.length),T;function P(b,N){return E.coerce(S[d],T,m,b,N)}for(d=0;d<S.length;d++){T={_index:d};var A=P("target"),a=P("func"),R=P("enabled");R&&A&&(y[A]||a==="count"&&y[A]===void 0)?(a==="stddev"&&P("funcmode"),y[A]=0,D[d]=T):D[d]={enabled:!1,_index:d}}for(d=0;d<u.length;d++)y[u[d]]&&D.push({target:u[d],func:m.func.dflt,enabled:!0,_index:-1});return x},F.calcTransform=function(v,c,x){if(x.enabled){var d=x.groups,M=E.getTargetArray(c,{target:d});if(M){var g,u,y,C,S={},D={},T=[],P=L(c.transforms,x),A=M.length;for(c._length&&(A=Math.min(A,c._length)),g=0;g<A;g++)u=M[g],y=S[u],y===void 0?(S[u]=T.length,C=[g],T.push(C),D[S[u]]=P(g)):(T[y].push(g),D[S[u]]=(D[S[u]]||[]).concat(P(g)));x._indexToPoints=D;var a=x.aggregations;for(g=0;g<a.length;g++)t(v,c,T,a[g]);typeof d=="string"&&t(v,c,T,{target:d,func:"first",enabled:!0}),c._length=T.length}}};function t(v,c,x,d){if(d.enabled){for(var M=d.target,g=E.nestedProperty(c,M),u=g.get(),y=h.getDataConversions(v,c,M,u),C=r(d,y),S=new Array(x.length),D=0;D<x.length;D++)S[D]=C(u,x[D]);g.set(S),d.func==="count"&&E.pushUnique(c._arrayAttrs,M)}}function r(v,c){var x=v.func,d=c.d2c,M=c.c2d;switch(x){case"count":return l;case"first":return i;case"last":return f;case"sum":return function(g,u){for(var y=0,C=0;C<u.length;C++){var S=d(g[u[C]]);S!==w&&(y+=S)}return M(y)};case"avg":return function(g,u){for(var y=0,C=0,S=0;S<u.length;S++){var D=d(g[u[S]]);D!==w&&(y+=D,C++)}return C?M(y/C):w};case"min":return function(g,u){for(var y=1/0,C=0;C<u.length;C++){var S=d(g[u[C]]);S!==w&&(y=Math.min(y,S))}return y===1/0?w:M(y)};case"max":return function(g,u){for(var y=-1/0,C=0;C<u.length;C++){var S=d(g[u[C]]);S!==w&&(y=Math.max(y,S))}return y===-1/0?w:M(y)};case"range":return function(g,u){for(var y=1/0,C=-1/0,S=0;S<u.length;S++){var D=d(g[u[S]]);D!==w&&(y=Math.min(y,D),C=Math.max(C,D))}return C===-1/0||y===1/0?w:M(C-y)};case"change":return function(g,u){var y=d(g[u[0]]),C=d(g[u[u.length-1]]);return y===w||C===w?w:M(C-y)};case"median":return function(g,u){for(var y=[],C=0;C<u.length;C++){var S=d(g[u[C]]);S!==w&&y.push(S)}if(!y.length)return w;y.sort(E.sorterAsc);var D=(y.length-1)/2;return M((y[Math.floor(D)]+y[Math.ceil(D)])/2)};case"mode":return function(g,u){for(var y={},C=0,S=w,D=0;D<u.length;D++){var T=d(g[u[D]]);if(T!==w){var P=y[T]=(y[T]||0)+1;P>C&&(C=P,S=T)}}return C?M(S):w};case"rms":return function(g,u){for(var y=0,C=0,S=0;S<u.length;S++){var D=d(g[u[S]]);D!==w&&(y+=D*D,C++)}return C?M(Math.sqrt(y/C)):w};case"stddev":return function(g,u){var y=0,C=0,S=1,D=w,T;for(T=0;T<u.length&&D===w;T++)D=d(g[u[T]]);if(D===w)return w;for(;T<u.length;T++){var P=d(g[u[T]]);if(P!==w){var A=P-D;y+=A,C+=A*A,S++}}var a=v.funcmode==="sample"?S-1:S;return a?Math.sqrt((C-y*y/S)/a):0}}}function l(v,c){return c.length}function i(v,c){return v[c[0]]}function f(v,c){return v[c[c.length-1]]}},14382:function(k,F,e){var h=e(71828),E=e(73972),n=e(89298),L=e(79344).p,w=e(74808),p=w.COMPARISON_OPS,m=w.INTERVAL_OPS,t=w.SET_OPS;F.moduleType="transform",F.name="filter",F.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(p).concat(m).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},F.supplyDefaults=function(l){var i={};function f(d,M){return h.coerce(l,i,F.attributes,d,M)}var v=f("enabled");if(v){var c=f("target");if(h.isArrayOrTypedArray(c)&&c.length===0)return i.enabled=!1,i;f("preservegaps"),f("operation"),f("value");var x=E.getComponentMethod("calendars","handleDefaults");x(l,i,"valuecalendar",null),x(l,i,"targetcalendar",null)}return i},F.calcTransform=function(l,i,f){if(!f.enabled)return;var v=h.getTargetArray(i,f);if(!v)return;var c=f.target,x=v.length;i._length&&(x=Math.min(x,i._length));var d=f.targetcalendar,M=i._arrayAttrs,g=f.preservegaps;if(typeof c=="string"){var u=h.nestedProperty(i,c+"calendar").get();u&&(d=u)}var y=n.getDataToCoordFunc(l,i,c,v),C=r(f,y,d),S={},D={},T=0;function P(O,Y){for(var B=0;B<M.length;B++){var W=h.nestedProperty(i,M[B]);O(W,Y)}}var A,a;g?(A=function(O){S[O.astr]=h.extendDeep([],O.get()),O.set(new Array(x))},a=function(O,Y){var B=S[O.astr][Y];O.get()[Y]=B}):(A=function(O){S[O.astr]=h.extendDeep([],O.get()),O.set([])},a=function(O,Y){var B=S[O.astr][Y];O.get().push(B)}),P(A);for(var R=L(i.transforms,f),b=0;b<x;b++){var N=C(v[b]);N?(P(a,b),D[T++]=R(b)):g&&T++}f._indexToPoints=D,i._length=T};function r(l,i,f){var v=l.operation,c=l.value,x=Array.isArray(c);function d(y){return y.indexOf(v)!==-1}var M=function(y){return i(y,0,l.valuecalendar)},g=function(y){return i(y,0,f)},u;switch(d(p)?u=M(x?c[0]:c):d(m)?u=x?[M(c[0]),M(c[1])]:[M(c),M(c)]:d(t)&&(u=x?c.map(M):[M(c)]),v){case"=":return function(y){return g(y)===u};case"!=":return function(y){return g(y)!==u};case"<":return function(y){return g(y)<u};case"<=":return function(y){return g(y)<=u};case">":return function(y){return g(y)>u};case">=":return function(y){return g(y)>=u};case"[]":return function(y){var C=g(y);return C>=u[0]&&C<=u[1]};case"()":return function(y){var C=g(y);return C>u[0]&&C<u[1]};case"[)":return function(y){var C=g(y);return C>=u[0]&&C<u[1]};case"(]":return function(y){var C=g(y);return C>u[0]&&C<=u[1]};case"][":return function(y){var C=g(y);return C<=u[0]||C>=u[1]};case")(":return function(y){var C=g(y);return C<u[0]||C>u[1]};case"](":return function(y){var C=g(y);return C<=u[0]||C>u[1]};case")[":return function(y){var C=g(y);return C<u[0]||C>=u[1]};case"{}":return function(y){return u.indexOf(g(y))!==-1};case"}{":return function(y){return u.indexOf(g(y))===-1}}}},43102:function(k,F,e){var h=e(71828),E=e(86281),n=e(74875),L=e(79344).p;F.moduleType="transform",F.name="groupby",F.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},F.supplyDefaults=function(p,m,t){var r,l={};function i(M,g){return h.coerce(p,l,F.attributes,M,g)}var f=i("enabled");if(!f)return l;i("groups"),i("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var v=p.styles,c=l.styles=[];if(v)for(r=0;r<v.length;r++){var x=c[r]={};h.coerce(v[r],c[r],F.attributes.styles,"target");var d=h.coerce(v[r],c[r],F.attributes.styles,"value");h.isPlainObject(d)?x.value=h.extendDeep({},d):d&&delete x.value}return l},F.transform=function(p,m){var t,r,l,i=[];for(r=0;r<p.length;r++)for(t=w(p[r],m),l=0;l<t.length;l++)i.push(t[l]);return i};function w(p,m){var t,r,l,i,f,v,c,x,d,M,g=m.transform,u=m.transformIndex,y=p.transforms[u].groups,C=L(p.transforms,g);if(!h.isArrayOrTypedArray(y)||y.length===0)return[p];var S=h.filterUnique(y),D=new Array(S.length),T=y.length,P=E.findArrayAttributes(p),A=g.styles||[],a={};for(t=0;t<A.length;t++)a[A[t].target]=A[t].value;g.styles&&(M=h.keyedContainer(g,"styles","target","value.name"));var R={},b={};for(t=0;t<S.length;t++){v=S[t],R[v]=t,b[v]=0,c=D[t]=h.extendDeepNoArrays({},p),c._group=v,c.transforms[u]._indexToPoints={};var N=null;for(M&&(N=M.get(v)),N||N===""?c.name=N:c.name=h.templateString(g.nameformat,{trace:p.name,group:v}),x=c.transforms,c.transforms=[],r=0;r<x.length;r++)c.transforms[r]=h.extendDeepNoArrays({},x[r]);for(r=0;r<P.length;r++)h.nestedProperty(c,P[r]).set([])}for(l=0;l<P.length;l++){for(i=P[l],r=0,d=[];r<S.length;r++)d[r]=h.nestedProperty(D[r],i).get();for(f=h.nestedProperty(p,i).get(),r=0;r<T;r++)d[R[y[r]]].push(f[r])}for(r=0;r<T;r++){c=D[R[y[r]]];var O=c.transforms[u]._indexToPoints;O[b[y[r]]]=C(r),b[y[r]]++}for(t=0;t<S.length;t++)v=S[t],c=D[t],n.clearExpandedTraceDefaultColors(c),c=h.extendDeepNoArrays(c,a[v]||{});return D}},79344:function(k,F){F.p=function(e,h){for(var E,n,L=0;L<e.length&&(E=e[L],E!==h);L++)!E._indexToPoints||E.enabled===!1||(n=E._indexToPoints);var w=n?function(p){return n[p]}:function(p){return[p]};return w}},32275:function(k,F,e){var h=e(71828),E=e(89298),n=e(79344).p,L=e(50606).BADNUM;F.moduleType="transform",F.name="sort",F.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},F.supplyDefaults=function(m){var t={};function r(i,f){return h.coerce(m,t,F.attributes,i,f)}var l=r("enabled");return l&&(r("target"),r("order")),t},F.calcTransform=function(m,t,r){if(r.enabled){var l=h.getTargetArray(t,r);if(l){var i=r.target,f=l.length;t._length&&(f=Math.min(f,t._length));var v=t._arrayAttrs,c=E.getDataToCoordFunc(m,t,i,l),x=w(r,l,c,f),d=n(t.transforms,r),M={},g,u;for(g=0;g<v.length;g++){var y=h.nestedProperty(t,v[g]),C=y.get(),S=new Array(f);for(u=0;u<f;u++)S[u]=C[x[u]];y.set(S)}for(u=0;u<f;u++)M[u]=d(x[u]);r._indexToPoints=M,t._length=f}}};function w(m,t,r,l){var i=new Array(l),f=new Array(l),v;for(v=0;v<l;v++)i[v]={v:t[v],i:v};for(i.sort(p(m,r)),v=0;v<l;v++)f[v]=i[v].i;return f}function p(m,t){switch(m.order){case"ascending":return function(r,l){var i=t(r.v),f=t(l.v);return i===L?1:f===L?-1:i-f};case"descending":return function(r,l){var i=t(r.v),f=t(l.v);return i===L?1:f===L?-1:f-i}}}},11506:function(k,F){F.version="2.26.0"},9330:function(k,F,e){var h=e(90386);(function(n,L){k.exports=L()})(self,function(){return function(){var E={7386:function(p,m,t){p.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(p,m,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(Ae,ce){if(!(Ae instanceof ce))throw new TypeError("Cannot call a class as a function")}function l(Ae,ce){for(var be=0;be<ce.length;be++){var Re=ce[be];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Ae,Re.key,Re)}}function i(Ae,ce,be){return ce&&l(Ae.prototype,ce),be&&l(Ae,be),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae}function f(Ae,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");Ae.prototype=Object.create(ce&&ce.prototype,{constructor:{value:Ae,writable:!0,configurable:!0}}),Object.defineProperty(Ae,"prototype",{writable:!1}),ce&&v(Ae,ce)}function v(Ae,ce){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,Ue){return Re.__proto__=Ue,Re},v(Ae,ce)}function c(Ae){var ce=M();return function(){var Re=g(Ae),Ue;if(ce){var nt=g(this).constructor;Ue=Reflect.construct(Re,arguments,nt)}else Ue=Re.apply(this,arguments);return x(this,Ue)}}function x(Ae,ce){if(ce&&(u(ce)==="object"||typeof ce=="function"))return ce;if(ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(Ae)}function d(Ae){if(Ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ae}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(Ae){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(be){return be.__proto__||Object.getPrototypeOf(be)},g(Ae)}function u(Ae){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},u(Ae)}var y=t(3910),C=t(3187),S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;m.lW=A,m.h2=50;var D=2147483647;A.TYPED_ARRAY_SUPPORT=T(),!A.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var Ae=new Uint8Array(1),ce={foo:function(){return 42}};return Object.setPrototypeOf(ce,Uint8Array.prototype),Object.setPrototypeOf(Ae,ce),Ae.foo()===42}catch{return!1}}Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}});function P(Ae){if(Ae>D)throw new RangeError('The value "'+Ae+'" is invalid for option "size"');var ce=new Uint8Array(Ae);return Object.setPrototypeOf(ce,A.prototype),ce}function A(Ae,ce,be){if(typeof Ae=="number"){if(typeof ce=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(Ae)}return a(Ae,ce,be)}A.poolSize=8192;function a(Ae,ce,be){if(typeof Ae=="string")return O(Ae,ce);if(ArrayBuffer.isView(Ae))return B(Ae);if(Ae==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(Ae));if(Xe(Ae,ArrayBuffer)||Ae&&Xe(Ae.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xe(Ae,SharedArrayBuffer)||Ae&&Xe(Ae.buffer,SharedArrayBuffer)))return W(Ae,ce,be);if(typeof Ae=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Re=Ae.valueOf&&Ae.valueOf();if(Re!=null&&Re!==Ae)return A.from(Re,ce,be);var Ue=H(Ae);if(Ue)return Ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ae[Symbol.toPrimitive]=="function")return A.from(Ae[Symbol.toPrimitive]("string"),ce,be);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(Ae))}A.from=function(Ae,ce,be){return a(Ae,ce,be)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array);function R(Ae){if(typeof Ae!="number")throw new TypeError('"size" argument must be of type number');if(Ae<0)throw new RangeError('The value "'+Ae+'" is invalid for option "size"')}function b(Ae,ce,be){return R(Ae),Ae<=0?P(Ae):ce!==void 0?typeof be=="string"?P(Ae).fill(ce,be):P(Ae).fill(ce):P(Ae)}A.alloc=function(Ae,ce,be){return b(Ae,ce,be)};function N(Ae){return R(Ae),P(Ae<0?0:U(Ae)|0)}A.allocUnsafe=function(Ae){return N(Ae)},A.allocUnsafeSlow=function(Ae){return N(Ae)};function O(Ae,ce){if((typeof ce!="string"||ce==="")&&(ce="utf8"),!A.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);var be=G(Ae,ce)|0,Re=P(be),Ue=Re.write(Ae,ce);return Ue!==be&&(Re=Re.slice(0,Ue)),Re}function Y(Ae){for(var ce=Ae.length<0?0:U(Ae.length)|0,be=P(ce),Re=0;Re<ce;Re+=1)be[Re]=Ae[Re]&255;return be}function B(Ae){if(Xe(Ae,Uint8Array)){var ce=new Uint8Array(Ae);return W(ce.buffer,ce.byteOffset,ce.byteLength)}return Y(Ae)}function W(Ae,ce,be){if(ce<0||Ae.byteLength<ce)throw new RangeError('"offset" is outside of buffer bounds');if(Ae.byteLength<ce+(be||0))throw new RangeError('"length" is outside of buffer bounds');var Re;return ce===void 0&&be===void 0?Re=new Uint8Array(Ae):be===void 0?Re=new Uint8Array(Ae,ce):Re=new Uint8Array(Ae,ce,be),Object.setPrototypeOf(Re,A.prototype),Re}function H(Ae){if(A.isBuffer(Ae)){var ce=U(Ae.length)|0,be=P(ce);return be.length===0||Ae.copy(be,0,0,ce),be}if(Ae.length!==void 0)return typeof Ae.length!="number"||ke(Ae.length)?P(0):Y(Ae);if(Ae.type==="Buffer"&&Array.isArray(Ae.data))return Y(Ae.data)}function U(Ae){if(Ae>=D)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D.toString(16)+" bytes");return Ae|0}A.isBuffer=function(ce){return ce!=null&&ce._isBuffer===!0&&ce!==A.prototype},A.compare=function(ce,be){if(Xe(ce,Uint8Array)&&(ce=A.from(ce,ce.offset,ce.byteLength)),Xe(be,Uint8Array)&&(be=A.from(be,be.offset,be.byteLength)),!A.isBuffer(ce)||!A.isBuffer(be))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ce===be)return 0;for(var Re=ce.length,Ue=be.length,nt=0,ot=Math.min(Re,Ue);nt<ot;++nt)if(ce[nt]!==be[nt]){Re=ce[nt],Ue=be[nt];break}return Re<Ue?-1:Ue<Re?1:0},A.isEncoding=function(ce){switch(String(ce).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(ce,be){if(!Array.isArray(ce))throw new TypeError('"list" argument must be an Array of Buffers');if(ce.length===0)return A.alloc(0);var Re;if(be===void 0)for(be=0,Re=0;Re<ce.length;++Re)be+=ce[Re].length;var Ue=A.allocUnsafe(be),nt=0;for(Re=0;Re<ce.length;++Re){var ot=ce[Re];if(Xe(ot,Uint8Array))nt+ot.length>Ue.length?(A.isBuffer(ot)||(ot=A.from(ot)),ot.copy(Ue,nt)):Uint8Array.prototype.set.call(Ue,ot,nt);else if(A.isBuffer(ot))ot.copy(Ue,nt);else throw new TypeError('"list" argument must be an Array of Buffers');nt+=ot.length}return Ue};function G(Ae,ce){if(A.isBuffer(Ae))return Ae.length;if(ArrayBuffer.isView(Ae)||Xe(Ae,ArrayBuffer))return Ae.byteLength;if(typeof Ae!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(Ae));var be=Ae.length,Re=arguments.length>2&&arguments[2]===!0;if(!Re&&be===0)return 0;for(var Ue=!1;;)switch(ce){case"ascii":case"latin1":case"binary":return be;case"utf8":case"utf-8":return dt(Ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be*2;case"hex":return be>>>1;case"base64":return Ct(Ae).length;default:if(Ue)return Re?-1:dt(Ae).length;ce=(""+ce).toLowerCase(),Ue=!0}}A.byteLength=G;function j(Ae,ce,be){var Re=!1;if((ce===void 0||ce<0)&&(ce=0),ce>this.length||((be===void 0||be>this.length)&&(be=this.length),be<=0)||(be>>>=0,ce>>>=0,be<=ce))return"";for(Ae||(Ae="utf8");;)switch(Ae){case"hex":return pe(this,ce,be);case"utf8":case"utf-8":return fe(this,ce,be);case"ascii":return he(this,ce,be);case"latin1":case"binary":return se(this,ce,be);case"base64":return ne(this,ce,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,ce,be);default:if(Re)throw new TypeError("Unknown encoding: "+Ae);Ae=(Ae+"").toLowerCase(),Re=!0}}A.prototype._isBuffer=!0;function re(Ae,ce,be){var Re=Ae[ce];Ae[ce]=Ae[be],Ae[be]=Re}A.prototype.swap16=function(){var ce=this.length;if(ce%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var be=0;be<ce;be+=2)re(this,be,be+1);return this},A.prototype.swap32=function(){var ce=this.length;if(ce%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var be=0;be<ce;be+=4)re(this,be,be+3),re(this,be+1,be+2);return this},A.prototype.swap64=function(){var ce=this.length;if(ce%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var be=0;be<ce;be+=8)re(this,be,be+7),re(this,be+1,be+6),re(this,be+2,be+5),re(this,be+3,be+4);return this},A.prototype.toString=function(){var ce=this.length;return ce===0?"":arguments.length===0?fe(this,0,ce):j.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(ce){if(!A.isBuffer(ce))throw new TypeError("Argument must be a Buffer");return this===ce?!0:A.compare(this,ce)===0},A.prototype.inspect=function(){var ce="",be=m.h2;return ce=this.toString("hex",0,be).replace(/(.{2})/g,"$1 ").trim(),this.length>be&&(ce+=" ... "),"<Buffer "+ce+">"},S&&(A.prototype[S]=A.prototype.inspect),A.prototype.compare=function(ce,be,Re,Ue,nt){if(Xe(ce,Uint8Array)&&(ce=A.from(ce,ce.offset,ce.byteLength)),!A.isBuffer(ce))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(ce));if(be===void 0&&(be=0),Re===void 0&&(Re=ce?ce.length:0),Ue===void 0&&(Ue=0),nt===void 0&&(nt=this.length),be<0||Re>ce.length||Ue<0||nt>this.length)throw new RangeError("out of range index");if(Ue>=nt&&be>=Re)return 0;if(Ue>=nt)return-1;if(be>=Re)return 1;if(be>>>=0,Re>>>=0,Ue>>>=0,nt>>>=0,this===ce)return 0;for(var ot=nt-Ue,wt=Re-be,_t=Math.min(ot,wt),Ut=this.slice(Ue,nt),Vt=ce.slice(be,Re),Lt=0;Lt<_t;++Lt)if(Ut[Lt]!==Vt[Lt]){ot=Ut[Lt],wt=Vt[Lt];break}return ot<wt?-1:wt<ot?1:0};function ae(Ae,ce,be,Re,Ue){if(Ae.length===0)return-1;if(typeof be=="string"?(Re=be,be=0):be>2147483647?be=2147483647:be<-2147483648&&(be=-2147483648),be=+be,ke(be)&&(be=Ue?0:Ae.length-1),be<0&&(be=Ae.length+be),be>=Ae.length){if(Ue)return-1;be=Ae.length-1}else if(be<0)if(Ue)be=0;else return-1;if(typeof ce=="string"&&(ce=A.from(ce,Re)),A.isBuffer(ce))return ce.length===0?-1:ue(Ae,ce,be,Re,Ue);if(typeof ce=="number")return ce=ce&255,typeof Uint8Array.prototype.indexOf=="function"?Ue?Uint8Array.prototype.indexOf.call(Ae,ce,be):Uint8Array.prototype.lastIndexOf.call(Ae,ce,be):ue(Ae,[ce],be,Re,Ue);throw new TypeError("val must be string, number or Buffer")}function ue(Ae,ce,be,Re,Ue){var nt=1,ot=Ae.length,wt=ce.length;if(Re!==void 0&&(Re=String(Re).toLowerCase(),Re==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(Ae.length<2||ce.length<2)return-1;nt=2,ot/=2,wt/=2,be/=2}function _t(ar,Fr){return nt===1?ar[Fr]:ar.readUInt16BE(Fr*nt)}var Ut;if(Ue){var Vt=-1;for(Ut=be;Ut<ot;Ut++)if(_t(Ae,Ut)===_t(ce,Vt===-1?0:Ut-Vt)){if(Vt===-1&&(Vt=Ut),Ut-Vt+1===wt)return Vt*nt}else Vt!==-1&&(Ut-=Ut-Vt),Vt=-1}else for(be+wt>ot&&(be=ot-wt),Ut=be;Ut>=0;Ut--){for(var Lt=!0,Kt=0;Kt<wt;Kt++)if(_t(Ae,Ut+Kt)!==_t(ce,Kt)){Lt=!1;break}if(Lt)return Ut}return-1}A.prototype.includes=function(ce,be,Re){return this.indexOf(ce,be,Re)!==-1},A.prototype.indexOf=function(ce,be,Re){return ae(this,ce,be,Re,!0)},A.prototype.lastIndexOf=function(ce,be,Re){return ae(this,ce,be,Re,!1)};function de(Ae,ce,be,Re){be=Number(be)||0;var Ue=Ae.length-be;Re?(Re=Number(Re),Re>Ue&&(Re=Ue)):Re=Ue;var nt=ce.length;Re>nt/2&&(Re=nt/2);var ot;for(ot=0;ot<Re;++ot){var wt=parseInt(ce.substr(ot*2,2),16);if(ke(wt))return ot;Ae[be+ot]=wt}return ot}function ee(Ae,ce,be,Re){return Wt(dt(ce,Ae.length-be),Ae,be,Re)}function X(Ae,ce,be,Re){return Wt(gt(ce),Ae,be,Re)}function Q(Ae,ce,be,Re){return Wt(Ct(ce),Ae,be,Re)}function $(Ae,ce,be,Re){return Wt(Mt(ce,Ae.length-be),Ae,be,Re)}A.prototype.write=function(ce,be,Re,Ue){if(be===void 0)Ue="utf8",Re=this.length,be=0;else if(Re===void 0&&typeof be=="string")Ue=be,Re=this.length,be=0;else if(isFinite(be))be=be>>>0,isFinite(Re)?(Re=Re>>>0,Ue===void 0&&(Ue="utf8")):(Ue=Re,Re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var nt=this.length-be;if((Re===void 0||Re>nt)&&(Re=nt),ce.length>0&&(Re<0||be<0)||be>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");for(var ot=!1;;)switch(Ue){case"hex":return de(this,ce,be,Re);case"utf8":case"utf-8":return ee(this,ce,be,Re);case"ascii":case"latin1":case"binary":return X(this,ce,be,Re);case"base64":return Q(this,ce,be,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,ce,be,Re);default:if(ot)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),ot=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(Ae,ce,be){return ce===0&&be===Ae.length?y.fromByteArray(Ae):y.fromByteArray(Ae.slice(ce,be))}function fe(Ae,ce,be){be=Math.min(Ae.length,be);for(var Re=[],Ue=ce;Ue<be;){var nt=Ae[Ue],ot=null,wt=nt>239?4:nt>223?3:nt>191?2:1;if(Ue+wt<=be){var _t=void 0,Ut=void 0,Vt=void 0,Lt=void 0;switch(wt){case 1:nt<128&&(ot=nt);break;case 2:_t=Ae[Ue+1],(_t&192)===128&&(Lt=(nt&31)<<6|_t&63,Lt>127&&(ot=Lt));break;case 3:_t=Ae[Ue+1],Ut=Ae[Ue+2],(_t&192)===128&&(Ut&192)===128&&(Lt=(nt&15)<<12|(_t&63)<<6|Ut&63,Lt>2047&&(Lt<55296||Lt>57343)&&(ot=Lt));break;case 4:_t=Ae[Ue+1],Ut=Ae[Ue+2],Vt=Ae[Ue+3],(_t&192)===128&&(Ut&192)===128&&(Vt&192)===128&&(Lt=(nt&15)<<18|(_t&63)<<12|(Ut&63)<<6|Vt&63,Lt>65535&&Lt<1114112&&(ot=Lt))}}ot===null?(ot=65533,wt=1):ot>65535&&(ot-=65536,Re.push(ot>>>10&1023|55296),ot=56320|ot&1023),Re.push(ot),Ue+=wt}return q(Re)}var te=4096;function q(Ae){var ce=Ae.length;if(ce<=te)return String.fromCharCode.apply(String,Ae);for(var be="",Re=0;Re<ce;)be+=String.fromCharCode.apply(String,Ae.slice(Re,Re+=te));return be}function he(Ae,ce,be){var Re="";be=Math.min(Ae.length,be);for(var Ue=ce;Ue<be;++Ue)Re+=String.fromCharCode(Ae[Ue]&127);return Re}function se(Ae,ce,be){var Re="";be=Math.min(Ae.length,be);for(var Ue=ce;Ue<be;++Ue)Re+=String.fromCharCode(Ae[Ue]);return Re}function pe(Ae,ce,be){var Re=Ae.length;(!ce||ce<0)&&(ce=0),(!be||be<0||be>Re)&&(be=Re);for(var Ue="",nt=ce;nt<be;++nt)Ue+=Ie[Ae[nt]];return Ue}function we(Ae,ce,be){for(var Re=Ae.slice(ce,be),Ue="",nt=0;nt<Re.length-1;nt+=2)Ue+=String.fromCharCode(Re[nt]+Re[nt+1]*256);return Ue}A.prototype.slice=function(ce,be){var Re=this.length;ce=~~ce,be=be===void 0?Re:~~be,ce<0?(ce+=Re,ce<0&&(ce=0)):ce>Re&&(ce=Re),be<0?(be+=Re,be<0&&(be=0)):be>Re&&(be=Re),be<ce&&(be=ce);var Ue=this.subarray(ce,be);return Object.setPrototypeOf(Ue,A.prototype),Ue};function Ee(Ae,ce,be){if(Ae%1!==0||Ae<0)throw new RangeError("offset is not uint");if(Ae+ce>be)throw new RangeError("Trying to access beyond buffer length")}A.prototype.readUintLE=A.prototype.readUIntLE=function(ce,be,Re){ce=ce>>>0,be=be>>>0,Re||Ee(ce,be,this.length);for(var Ue=this[ce],nt=1,ot=0;++ot<be&&(nt*=256);)Ue+=this[ce+ot]*nt;return Ue},A.prototype.readUintBE=A.prototype.readUIntBE=function(ce,be,Re){ce=ce>>>0,be=be>>>0,Re||Ee(ce,be,this.length);for(var Ue=this[ce+--be],nt=1;be>0&&(nt*=256);)Ue+=this[ce+--be]*nt;return Ue},A.prototype.readUint8=A.prototype.readUInt8=function(ce,be){return ce=ce>>>0,be||Ee(ce,1,this.length),this[ce]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(ce,be){return ce=ce>>>0,be||Ee(ce,2,this.length),this[ce]|this[ce+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(ce,be){return ce=ce>>>0,be||Ee(ce,2,this.length),this[ce]<<8|this[ce+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(ce,be){return ce=ce>>>0,be||Ee(ce,4,this.length),(this[ce]|this[ce+1]<<8|this[ce+2]<<16)+this[ce+3]*16777216},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(ce,be){return ce=ce>>>0,be||Ee(ce,4,this.length),this[ce]*16777216+(this[ce+1]<<16|this[ce+2]<<8|this[ce+3])},A.prototype.readBigUInt64LE=Oe(function(ce){ce=ce>>>0,qe(ce,"offset");var be=this[ce],Re=this[ce+7];(be===void 0||Re===void 0)&&$e(ce,this.length-8);var Ue=be+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,24),nt=this[++ce]+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+Re*Math.pow(2,24);return BigInt(Ue)+(BigInt(nt)<<BigInt(32))}),A.prototype.readBigUInt64BE=Oe(function(ce){ce=ce>>>0,qe(ce,"offset");var be=this[ce],Re=this[ce+7];(be===void 0||Re===void 0)&&$e(ce,this.length-8);var Ue=be*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+this[++ce],nt=this[++ce]*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+Re;return(BigInt(Ue)<<BigInt(32))+BigInt(nt)}),A.prototype.readIntLE=function(ce,be,Re){ce=ce>>>0,be=be>>>0,Re||Ee(ce,be,this.length);for(var Ue=this[ce],nt=1,ot=0;++ot<be&&(nt*=256);)Ue+=this[ce+ot]*nt;return nt*=128,Ue>=nt&&(Ue-=Math.pow(2,8*be)),Ue},A.prototype.readIntBE=function(ce,be,Re){ce=ce>>>0,be=be>>>0,Re||Ee(ce,be,this.length);for(var Ue=be,nt=1,ot=this[ce+--Ue];Ue>0&&(nt*=256);)ot+=this[ce+--Ue]*nt;return nt*=128,ot>=nt&&(ot-=Math.pow(2,8*be)),ot},A.prototype.readInt8=function(ce,be){return ce=ce>>>0,be||Ee(ce,1,this.length),this[ce]&128?(255-this[ce]+1)*-1:this[ce]},A.prototype.readInt16LE=function(ce,be){ce=ce>>>0,be||Ee(ce,2,this.length);var Re=this[ce]|this[ce+1]<<8;return Re&32768?Re|4294901760:Re},A.prototype.readInt16BE=function(ce,be){ce=ce>>>0,be||Ee(ce,2,this.length);var Re=this[ce+1]|this[ce]<<8;return Re&32768?Re|4294901760:Re},A.prototype.readInt32LE=function(ce,be){return ce=ce>>>0,be||Ee(ce,4,this.length),this[ce]|this[ce+1]<<8|this[ce+2]<<16|this[ce+3]<<24},A.prototype.readInt32BE=function(ce,be){return ce=ce>>>0,be||Ee(ce,4,this.length),this[ce]<<24|this[ce+1]<<16|this[ce+2]<<8|this[ce+3]},A.prototype.readBigInt64LE=Oe(function(ce){ce=ce>>>0,qe(ce,"offset");var be=this[ce],Re=this[ce+7];(be===void 0||Re===void 0)&&$e(ce,this.length-8);var Ue=this[ce+4]+this[ce+5]*Math.pow(2,8)+this[ce+6]*Math.pow(2,16)+(Re<<24);return(BigInt(Ue)<<BigInt(32))+BigInt(be+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,24))}),A.prototype.readBigInt64BE=Oe(function(ce){ce=ce>>>0,qe(ce,"offset");var be=this[ce],Re=this[ce+7];(be===void 0||Re===void 0)&&$e(ce,this.length-8);var Ue=(be<<24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+this[++ce];return(BigInt(Ue)<<BigInt(32))+BigInt(this[++ce]*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+Re)}),A.prototype.readFloatLE=function(ce,be){return ce=ce>>>0,be||Ee(ce,4,this.length),C.read(this,ce,!0,23,4)},A.prototype.readFloatBE=function(ce,be){return ce=ce>>>0,be||Ee(ce,4,this.length),C.read(this,ce,!1,23,4)},A.prototype.readDoubleLE=function(ce,be){return ce=ce>>>0,be||Ee(ce,8,this.length),C.read(this,ce,!0,52,8)},A.prototype.readDoubleBE=function(ce,be){return ce=ce>>>0,be||Ee(ce,8,this.length),C.read(this,ce,!1,52,8)};function Me(Ae,ce,be,Re,Ue,nt){if(!A.isBuffer(Ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(ce>Ue||ce<nt)throw new RangeError('"value" argument is out of bounds');if(be+Re>Ae.length)throw new RangeError("Index out of range")}A.prototype.writeUintLE=A.prototype.writeUIntLE=function(ce,be,Re,Ue){if(ce=+ce,be=be>>>0,Re=Re>>>0,!Ue){var nt=Math.pow(2,8*Re)-1;Me(this,ce,be,Re,nt,0)}var ot=1,wt=0;for(this[be]=ce&255;++wt<Re&&(ot*=256);)this[be+wt]=ce/ot&255;return be+Re},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(ce,be,Re,Ue){if(ce=+ce,be=be>>>0,Re=Re>>>0,!Ue){var nt=Math.pow(2,8*Re)-1;Me(this,ce,be,Re,nt,0)}var ot=Re-1,wt=1;for(this[be+ot]=ce&255;--ot>=0&&(wt*=256);)this[be+ot]=ce/wt&255;return be+Re},A.prototype.writeUint8=A.prototype.writeUInt8=function(ce,be,Re){return ce=+ce,be=be>>>0,Re||Me(this,ce,be,1,255,0),this[be]=ce&255,be+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(ce,be,Re){return ce=+ce,be=be>>>0,Re||Me(this,ce,be,2,65535,0),this[be]=ce&255,this[be+1]=ce>>>8,be+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(ce,be,Re){return ce=+ce,be=be>>>0,Re||Me(this,ce,be,2,65535,0),this[be]=ce>>>8,this[be+1]=ce&255,be+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(ce,be,Re){return ce=+ce,be=be>>>0,Re||Me(this,ce,be,4,4294967295,0),this[be+3]=ce>>>24,this[be+2]=ce>>>16,this[be+1]=ce>>>8,this[be]=ce&255,be+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(ce,be,Re){return ce=+ce,be=be>>>0,Re||Me(this,ce,be,4,4294967295,0),this[be]=ce>>>24,this[be+1]=ce>>>16,this[be+2]=ce>>>8,this[be+3]=ce&255,be+4};function Be(Ae,ce,be,Re,Ue){it(ce,Re,Ue,Ae,be,7);var nt=Number(ce&BigInt(4294967295));Ae[be++]=nt,nt=nt>>8,Ae[be++]=nt,nt=nt>>8,Ae[be++]=nt,nt=nt>>8,Ae[be++]=nt;var ot=Number(ce>>BigInt(32)&BigInt(4294967295));return Ae[be++]=ot,ot=ot>>8,Ae[be++]=ot,ot=ot>>8,Ae[be++]=ot,ot=ot>>8,Ae[be++]=ot,be}function Ne(Ae,ce,be,Re,Ue){it(ce,Re,Ue,Ae,be,7);var nt=Number(ce&BigInt(4294967295));Ae[be+7]=nt,nt=nt>>8,Ae[be+6]=nt,nt=nt>>8,Ae[be+5]=nt,nt=nt>>8,Ae[be+4]=nt;var ot=Number(ce>>BigInt(32)&BigInt(4294967295));return Ae[be+3]=ot,ot=ot>>8,Ae[be+2]=ot,ot=ot>>8,Ae[be+1]=ot,ot=ot>>8,Ae[be]=ot,be+8}A.prototype.writeBigUInt64LE=Oe(function(ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Be(this,ce,be,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Oe(function(ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ne(this,ce,be,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(ce,be,Re,Ue){if(ce=+ce,be=be>>>0,!Ue){var nt=Math.pow(2,8*Re-1);Me(this,ce,be,Re,nt-1,-nt)}var ot=0,wt=1,_t=0;for(this[be]=ce&255;++ot<Re&&(wt*=256);)ce<0&&_t===0&&this[be+ot-1]!==0&&(_t=1),this[be+ot]=(ce/wt>>0)-_t&255;return be+Re},A.prototype.writeIntBE=function(ce,be,Re,Ue){if(ce=+ce,be=be>>>0,!Ue){var nt=Math.pow(2,8*Re-1);Me(this,ce,be,Re,nt-1,-nt)}var ot=Re-1,wt=1,_t=0;for(this[be+ot]=ce&255;--ot>=0&&(wt*=256);)ce<0&&_t===0&&this[be+ot+1]!==0&&(_t=1),this[be+ot]=(ce/wt>>0)-_t&255;return be+Re},A.prototype.writeInt8=function(ce,be,Re){return ce=+ce,be=be>>>0,Re||Me(this,ce,be,1,127,-128),ce<0&&(ce=255+ce+1),this[be]=ce&255,be+1},A.prototype.writeInt16LE=function(ce,be,Re){return ce=+ce,be=be>>>0,Re||Me(this,ce,be,2,32767,-32768),this[be]=ce&255,this[be+1]=ce>>>8,be+2},A.prototype.writeInt16BE=function(ce,be,Re){return ce=+ce,be=be>>>0,Re||Me(this,ce,be,2,32767,-32768),this[be]=ce>>>8,this[be+1]=ce&255,be+2},A.prototype.writeInt32LE=function(ce,be,Re){return ce=+ce,be=be>>>0,Re||Me(this,ce,be,4,2147483647,-2147483648),this[be]=ce&255,this[be+1]=ce>>>8,this[be+2]=ce>>>16,this[be+3]=ce>>>24,be+4},A.prototype.writeInt32BE=function(ce,be,Re){return ce=+ce,be=be>>>0,Re||Me(this,ce,be,4,2147483647,-2147483648),ce<0&&(ce=4294967295+ce+1),this[be]=ce>>>24,this[be+1]=ce>>>16,this[be+2]=ce>>>8,this[be+3]=ce&255,be+4},A.prototype.writeBigInt64LE=Oe(function(ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Be(this,ce,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Oe(function(ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ne(this,ce,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(Ae,ce,be,Re,Ue,nt){if(be+Re>Ae.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("Index out of range")}function Te(Ae,ce,be,Re,Ue){return ce=+ce,be=be>>>0,Ue||Ce(Ae,ce,be,4),C.write(Ae,ce,be,Re,23,4),be+4}A.prototype.writeFloatLE=function(ce,be,Re){return Te(this,ce,be,!0,Re)},A.prototype.writeFloatBE=function(ce,be,Re){return Te(this,ce,be,!1,Re)};function Le(Ae,ce,be,Re,Ue){return ce=+ce,be=be>>>0,Ue||Ce(Ae,ce,be,8),C.write(Ae,ce,be,Re,52,8),be+8}A.prototype.writeDoubleLE=function(ce,be,Re){return Le(this,ce,be,!0,Re)},A.prototype.writeDoubleBE=function(ce,be,Re){return Le(this,ce,be,!1,Re)},A.prototype.copy=function(ce,be,Re,Ue){if(!A.isBuffer(ce))throw new TypeError("argument should be a Buffer");if(Re||(Re=0),!Ue&&Ue!==0&&(Ue=this.length),be>=ce.length&&(be=ce.length),be||(be=0),Ue>0&&Ue<Re&&(Ue=Re),Ue===Re||ce.length===0||this.length===0)return 0;if(be<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("Index out of range");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),ce.length-be<Ue-Re&&(Ue=ce.length-be+Re);var nt=Ue-Re;return this===ce&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(be,Re,Ue):Uint8Array.prototype.set.call(ce,this.subarray(Re,Ue),be),nt},A.prototype.fill=function(ce,be,Re,Ue){if(typeof ce=="string"){if(typeof be=="string"?(Ue=be,be=0,Re=this.length):typeof Re=="string"&&(Ue=Re,Re=this.length),Ue!==void 0&&typeof Ue!="string")throw new TypeError("encoding must be a string");if(typeof Ue=="string"&&!A.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);if(ce.length===1){var nt=ce.charCodeAt(0);(Ue==="utf8"&&nt<128||Ue==="latin1")&&(ce=nt)}}else typeof ce=="number"?ce=ce&255:typeof ce=="boolean"&&(ce=Number(ce));if(be<0||this.length<be||this.length<Re)throw new RangeError("Out of range index");if(Re<=be)return this;be=be>>>0,Re=Re===void 0?this.length:Re>>>0,ce||(ce=0);var ot;if(typeof ce=="number")for(ot=be;ot<Re;++ot)this[ot]=ce;else{var wt=A.isBuffer(ce)?ce:A.from(ce,Ue),_t=wt.length;if(_t===0)throw new TypeError('The value "'+ce+'" is invalid for argument "value"');for(ot=0;ot<Re-be;++ot)this[ot+be]=wt[ot%_t]}return this};var Ve={};function We(Ae,ce,be){Ve[Ae]=function(Re){f(nt,Re);var Ue=c(nt);function nt(){var ot;return r(this,nt),ot=Ue.call(this),Object.defineProperty(d(ot),"message",{value:ce.apply(d(ot),arguments),writable:!0,configurable:!0}),ot.name="".concat(ot.name," [").concat(Ae,"]"),ot.stack,delete ot.name,ot}return i(nt,[{key:"code",get:function(){return Ae},set:function(wt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:wt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Ae,"]: ").concat(this.message)}}]),nt}(be)}We("ERR_BUFFER_OUT_OF_BOUNDS",function(Ae){return Ae?"".concat(Ae," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),We("ERR_INVALID_ARG_TYPE",function(Ae,ce){return'The "'.concat(Ae,'" argument must be of type number. Received type ').concat(u(ce))},TypeError),We("ERR_OUT_OF_RANGE",function(Ae,ce,be){var Re='The value of "'.concat(Ae,'" is out of range.'),Ue=be;return Number.isInteger(be)&&Math.abs(be)>Math.pow(2,32)?Ue=Fe(String(be)):typeof be=="bigint"&&(Ue=String(be),(be>Math.pow(BigInt(2),BigInt(32))||be<-Math.pow(BigInt(2),BigInt(32)))&&(Ue=Fe(Ue)),Ue+="n"),Re+=" It must be ".concat(ce,". Received ").concat(Ue),Re},RangeError);function Fe(Ae){for(var ce="",be=Ae.length,Re=Ae[0]==="-"?1:0;be>=Re+4;be-=3)ce="_".concat(Ae.slice(be-3,be)).concat(ce);return"".concat(Ae.slice(0,be)).concat(ce)}function Ge(Ae,ce,be){qe(ce,"offset"),(Ae[ce]===void 0||Ae[ce+be]===void 0)&&$e(ce,Ae.length-(be+1))}function it(Ae,ce,be,Re,Ue,nt){if(Ae>be||Ae<ce){var ot=typeof ce=="bigint"?"n":"",wt;throw nt>3?ce===0||ce===BigInt(0)?wt=">= 0".concat(ot," and < 2").concat(ot," ** ").concat((nt+1)*8).concat(ot):wt=">= -(2".concat(ot," ** ").concat((nt+1)*8-1).concat(ot,") and < 2 ** ")+"".concat((nt+1)*8-1).concat(ot):wt=">= ".concat(ce).concat(ot," and <= ").concat(be).concat(ot),new Ve.ERR_OUT_OF_RANGE("value",wt,Ae)}Ge(Re,Ue,nt)}function qe(Ae,ce){if(typeof Ae!="number")throw new Ve.ERR_INVALID_ARG_TYPE(ce,"number",Ae)}function $e(Ae,ce,be){throw Math.floor(Ae)!==Ae?(qe(Ae,be),new Ve.ERR_OUT_OF_RANGE(be||"offset","an integer",Ae)):ce<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(be||"offset",">= ".concat(be?1:0," and <= ").concat(ce),Ae)}var tt=/[^+/0-9A-Za-z-_]/g;function vt(Ae){if(Ae=Ae.split("=")[0],Ae=Ae.trim().replace(tt,""),Ae.length<2)return"";for(;Ae.length%4!==0;)Ae=Ae+"=";return Ae}function dt(Ae,ce){ce=ce||1/0;for(var be,Re=Ae.length,Ue=null,nt=[],ot=0;ot<Re;++ot){if(be=Ae.charCodeAt(ot),be>55295&&be<57344){if(!Ue){if(be>56319){(ce-=3)>-1&&nt.push(239,191,189);continue}else if(ot+1===Re){(ce-=3)>-1&&nt.push(239,191,189);continue}Ue=be;continue}if(be<56320){(ce-=3)>-1&&nt.push(239,191,189),Ue=be;continue}be=(Ue-55296<<10|be-56320)+65536}else Ue&&(ce-=3)>-1&&nt.push(239,191,189);if(Ue=null,be<128){if((ce-=1)<0)break;nt.push(be)}else if(be<2048){if((ce-=2)<0)break;nt.push(be>>6|192,be&63|128)}else if(be<65536){if((ce-=3)<0)break;nt.push(be>>12|224,be>>6&63|128,be&63|128)}else if(be<1114112){if((ce-=4)<0)break;nt.push(be>>18|240,be>>12&63|128,be>>6&63|128,be&63|128)}else throw new Error("Invalid code point")}return nt}function gt(Ae){for(var ce=[],be=0;be<Ae.length;++be)ce.push(Ae.charCodeAt(be)&255);return ce}function Mt(Ae,ce){for(var be,Re,Ue,nt=[],ot=0;ot<Ae.length&&!((ce-=2)<0);++ot)be=Ae.charCodeAt(ot),Re=be>>8,Ue=be%256,nt.push(Ue),nt.push(Re);return nt}function Ct(Ae){return y.toByteArray(vt(Ae))}function Wt(Ae,ce,be,Re){var Ue;for(Ue=0;Ue<Re&&!(Ue+be>=ce.length||Ue>=Ae.length);++Ue)ce[Ue+be]=Ae[Ue];return Ue}function Xe(Ae,ce){return Ae instanceof ce||Ae!=null&&Ae.constructor!=null&&Ae.constructor.name!=null&&Ae.constructor.name===ce.name}function ke(Ae){return Ae!==Ae}var Ie=function(){for(var Ae="0123456789abcdef",ce=new Array(256),be=0;be<16;++be)for(var Re=be*16,Ue=0;Ue<16;++Ue)ce[Re+Ue]=Ae[be]+Ae[Ue];return ce}();function Oe(Ae){return typeof BigInt>"u"?_e:Ae}function _e(){throw new Error("BigInt not supported")}},2321:function(p){p.exports=l,p.exports.isMobile=l,p.exports.default=l;var m=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function l(i){i||(i={});var f=i.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var v=m.test(f)&&!t.test(f)||!!i.tablet&&r.test(f);return!v&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(v=!0),v}},3910:function(p,m){m.byteLength=x,m.toByteArray=M,m.fromByteArray=y;for(var t=[],r=[],l=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,v=i.length;f<v;++f)t[f]=i[f],r[i.charCodeAt(f)]=f;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function c(C){var S=C.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var D=C.indexOf("=");D===-1&&(D=S);var T=D===S?0:4-D%4;return[D,T]}function x(C){var S=c(C),D=S[0],T=S[1];return(D+T)*3/4-T}function d(C,S,D){return(S+D)*3/4-D}function M(C){var S,D=c(C),T=D[0],P=D[1],A=new l(d(C,T,P)),a=0,R=P>0?T-4:T,b;for(b=0;b<R;b+=4)S=r[C.charCodeAt(b)]<<18|r[C.charCodeAt(b+1)]<<12|r[C.charCodeAt(b+2)]<<6|r[C.charCodeAt(b+3)],A[a++]=S>>16&255,A[a++]=S>>8&255,A[a++]=S&255;return P===2&&(S=r[C.charCodeAt(b)]<<2|r[C.charCodeAt(b+1)]>>4,A[a++]=S&255),P===1&&(S=r[C.charCodeAt(b)]<<10|r[C.charCodeAt(b+1)]<<4|r[C.charCodeAt(b+2)]>>2,A[a++]=S>>8&255,A[a++]=S&255),A}function g(C){return t[C>>18&63]+t[C>>12&63]+t[C>>6&63]+t[C&63]}function u(C,S,D){for(var T,P=[],A=S;A<D;A+=3)T=(C[A]<<16&16711680)+(C[A+1]<<8&65280)+(C[A+2]&255),P.push(g(T));return P.join("")}function y(C){for(var S,D=C.length,T=D%3,P=[],A=16383,a=0,R=D-T;a<R;a+=A)P.push(u(C,a,a+A>R?R:a+A));return T===1?(S=C[D-1],P.push(t[S>>2]+t[S<<4&63]+"==")):T===2&&(S=(C[D-2]<<8)+C[D-1],P.push(t[S>>10]+t[S>>4&63]+t[S<<2&63]+"=")),P.join("")}},3187:function(p,m){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */m.read=function(t,r,l,i,f){var v,c,x=f*8-i-1,d=(1<<x)-1,M=d>>1,g=-7,u=l?f-1:0,y=l?-1:1,C=t[r+u];for(u+=y,v=C&(1<<-g)-1,C>>=-g,g+=x;g>0;v=v*256+t[r+u],u+=y,g-=8);for(c=v&(1<<-g)-1,v>>=-g,g+=i;g>0;c=c*256+t[r+u],u+=y,g-=8);if(v===0)v=1-M;else{if(v===d)return c?NaN:(C?-1:1)*(1/0);c=c+Math.pow(2,i),v=v-M}return(C?-1:1)*c*Math.pow(2,v-i)},m.write=function(t,r,l,i,f,v){var c,x,d,M=v*8-f-1,g=(1<<M)-1,u=g>>1,y=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=i?0:v-1,S=i?1:-1,D=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(x=isNaN(r)?1:0,c=g):(c=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-c))<1&&(c--,d*=2),c+u>=1?r+=y/d:r+=y*Math.pow(2,1-u),r*d>=2&&(c++,d/=2),c+u>=g?(x=0,c=g):c+u>=1?(x=(r*d-1)*Math.pow(2,f),c=c+u):(x=r*Math.pow(2,u-1)*Math.pow(2,f),c=0));f>=8;t[l+C]=x&255,C+=S,x/=256,f-=8);for(c=c<<f|x,M+=f;M>0;t[l+C]=c&255,C+=S,c/=256,M-=8);t[l+C-S]|=D*128}},1152:function(p,m,t){p.exports=c;var r=t(3440),l=t(7774),i=t(9298);function f(x,d){this._controllerNames=Object.keys(x),this._controllerList=this._controllerNames.map(function(M){return x[M]}),this._mode=d,this._active=x[d],this._active||(this._mode="turntable",this._active=x.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var v=f.prototype;v.flush=function(x){for(var d=this._controllerList,M=0;M<d.length;++M)d[M].flush(x)},v.idle=function(x){for(var d=this._controllerList,M=0;M<d.length;++M)d[M].idle(x)},v.lookAt=function(x,d,M,g){for(var u=this._controllerList,y=0;y<u.length;++y)u[y].lookAt(x,d,M,g)},v.rotate=function(x,d,M,g){for(var u=this._controllerList,y=0;y<u.length;++y)u[y].rotate(x,d,M,g)},v.pan=function(x,d,M,g){for(var u=this._controllerList,y=0;y<u.length;++y)u[y].pan(x,d,M,g)},v.translate=function(x,d,M,g){for(var u=this._controllerList,y=0;y<u.length;++y)u[y].translate(x,d,M,g)},v.setMatrix=function(x,d){for(var M=this._controllerList,g=0;g<M.length;++g)M[g].setMatrix(x,d)},v.setDistanceLimits=function(x,d){for(var M=this._controllerList,g=0;g<M.length;++g)M[g].setDistanceLimits(x,d)},v.setDistance=function(x,d){for(var M=this._controllerList,g=0;g<M.length;++g)M[g].setDistance(x,d)},v.recalcMatrix=function(x){this._active.recalcMatrix(x)},v.getDistance=function(x){return this._active.getDistance(x)},v.getDistanceLimits=function(x){return this._active.getDistanceLimits(x)},v.lastT=function(){return this._active.lastT()},v.setMode=function(x){if(x!==this._mode){var d=this._controllerNames.indexOf(x);if(!(d<0)){var M=this._active,g=this._controllerList[d],u=Math.max(M.lastT(),g.lastT());M.recalcMatrix(u),g.setMatrix(u,M.computedMatrix),this._active=g,this._mode=x,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},v.getMode=function(){return this._mode};function c(x){x=x||{};var d=x.eye||[0,0,1],M=x.center||[0,0,0],g=x.up||[0,1,0],u=x.distanceLimits||[0,1/0],y=x.mode||"turntable",C=r(),S=l(),D=i();return C.setDistanceLimits(u[0],u[1]),C.lookAt(0,d,M,g),S.setDistanceLimits(u[0],u[1]),S.lookAt(0,d,M,g),D.setDistanceLimits(u[0],u[1]),D.lookAt(0,d,M,g),new f({turntable:C,orbit:S,matrix:D},y)}},8126:function(p,m,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,l=t(5827),i=t(2944),f=new r;function v(c){var x=f.get(c),d=x&&(x._triangleBuffer.handle||x._triangleBuffer.buffer);if(!d||!c.isBuffer(d)){var M=l(c,new Float32Array([-1,-1,-1,4,4,-1]));x=i(c,[{buffer:M,type:c.FLOAT,size:2}]),x._triangleBuffer=M,f.set(c,x)}x.bind(),c.drawArrays(c.TRIANGLES,0,3),x.unbind()}p.exports=v},8008:function(p,m,t){var r=t(4930);p.exports=l;function l(i,f,v){f=typeof f=="number"?f:1,v=v||": ";var c=i.split(/\r?\n/),x=String(c.length+f-1).length;return c.map(function(d,M){var g=M+f,u=String(g).length,y=r(g,x-u);return y+v+d}).join(`
`)}},2153:function(p,m,t){p.exports=i;var r=t(417);function l(f,v){for(var c=new Array(v+1),x=0;x<f.length;++x)c[x]=f[x];for(var x=0;x<=f.length;++x){for(var d=f.length;d<=v;++d){for(var M=new Array(v),g=0;g<v;++g)M[g]=Math.pow(d+1-x,g);c[d]=M}var u=r.apply(void 0,c);if(u)return!0}return!1}function i(f){var v=f.length;if(v===0)return[];if(v===1)return[0];for(var c=f[0].length,x=[f[0]],d=[0],M=1;M<v;++M){if(x.push(f[M]),!l(x,c)){x.pop();continue}if(d.push(M),d.length===c+1)return d}return d}},4653:function(p,m,t){p.exports=i;var r=t(4419),l=t(1778);function i(f,v){return r(v).filter(function(c){for(var x=new Array(c.length),d=0;d<c.length;++d)x[d]=v[c[d]];return l(x)*f<1})}},2350:function(p,m,t){p.exports=i;var r=t(4653),l=t(8691);function i(f,v){return l(r(f,v))}},7896:function(p){p.exports=function(t){return atob(t)}},957:function(p,m,t){p.exports=i;var r=t(6606);function l(f){for(var v=0,c=0;c<f.length;++c)v+=f[c];return v}function i(f,v){for(var c=v.length,x=new Array(c+1),d=0;d<c;++d){for(var M=new Array(c+1),g=0;g<=c;++g)M[g]=f[g][d];x[d]=M}x[c]=new Array(c+1);for(var d=0;d<=c;++d)x[c][d]=1;for(var u=new Array(c+1),d=0;d<c;++d)u[d]=v[d];u[c]=1;var y=r(x,u),C=l(y[c+1]);C===0&&(C=1);for(var S=new Array(c+1),d=0;d<=c;++d)S[d]=l(y[d])/C;return S}},1539:function(p,m,t){var r=t(8524);p.exports=l;function l(i,f){return r(i[0].mul(f[1]).add(f[0].mul(i[1])),i[1].mul(f[1]))}},8846:function(p){p.exports=m;function m(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(p,m,t){var r=t(8524);p.exports=l;function l(i,f){return r(i[0].mul(f[1]),i[1].mul(f[0]))}},5125:function(p,m,t){var r=t(234),l=t(3218),i=t(5514),f=t(2813),v=t(8524),c=t(9189);p.exports=x;function x(d,M){if(r(d))return M?c(d,x(M)):[d[0].clone(),d[1].clone()];var g=0,u,y;if(l(d))u=d.clone();else if(typeof d=="string")u=f(d);else{if(d===0)return[i(0),i(1)];if(d===Math.floor(d))u=i(d);else{for(;d!==Math.floor(d);)d=d*Math.pow(2,256),g-=256;u=i(d)}}if(r(M))u.mul(M[1]),y=M[0].clone();else if(l(M))y=M.clone();else if(typeof M=="string")y=f(M);else if(!M)y=i(1);else if(M===Math.floor(M))y=i(M);else{for(;M!==Math.floor(M);)M=M*Math.pow(2,256),g+=256;y=i(M)}return g>0?u=u.ushln(g):g<0&&(y=y.ushln(-g)),v(u,y)}},234:function(p,m,t){var r=t(3218);p.exports=l;function l(i){return Array.isArray(i)&&i.length===2&&r(i[0])&&r(i[1])}},4275:function(p,m,t){var r=t(1928);p.exports=l;function l(i){return i.cmp(new r(0))}},9958:function(p,m,t){var r=t(4275);p.exports=l;function l(i){var f=i.length,v=i.words,c=0;if(f===1)c=v[0];else if(f===2)c=v[0]+v[1]*67108864;else for(var x=0;x<f;x++){var d=v[x];c+=d*Math.pow(67108864,x)}return r(i)*c}},1112:function(p,m,t){var r=t(8362),l=t(2288).countTrailingZeros;p.exports=i;function i(f){var v=l(r.lo(f));if(v<32)return v;var c=l(r.hi(f));return c>20?52:c+32}},3218:function(p,m,t){t(1928),p.exports=r;function r(l){return l&&typeof l=="object"&&Boolean(l.words)}},5514:function(p,m,t){var r=t(1928),l=t(8362);p.exports=i;function i(f){var v=l.exponent(f);return v<52?new r(f):new r(f*Math.pow(2,52-v)).ushln(v-52)}},8524:function(p,m,t){var r=t(5514),l=t(4275);p.exports=i;function i(f,v){var c=l(f),x=l(v);if(c===0)return[r(0),r(1)];if(x===0)return[r(0),r(0)];x<0&&(f=f.neg(),v=v.neg());var d=f.gcd(v);return d.cmpn(1)?[f.div(d),v.div(d)]:[f,v]}},2813:function(p,m,t){var r=t(1928);p.exports=l;function l(i){return new r(i)}},3962:function(p,m,t){var r=t(8524);p.exports=l;function l(i,f){return r(i[0].mul(f[0]),i[1].mul(f[1]))}},4951:function(p,m,t){var r=t(4275);p.exports=l;function l(i){return r(i[0])*r(i[1])}},4354:function(p,m,t){var r=t(8524);p.exports=l;function l(i,f){return r(i[0].mul(f[1]).sub(i[1].mul(f[0])),i[1].mul(f[1]))}},7999:function(p,m,t){var r=t(9958),l=t(1112);p.exports=i;function i(f){var v=f[0],c=f[1];if(v.cmpn(0)===0)return 0;var x=v.abs().divmod(c.abs()),d=x.div,M=r(d),g=x.mod,u=v.negative!==c.negative?-1:1;if(g.cmpn(0)===0)return u*M;if(M){var y=l(M)+4,C=r(g.ushln(y).divRound(c));return u*(M+C*Math.pow(2,-y))}else{var S=c.bitLength()-g.bitLength()+53,C=r(g.ushln(S).divRound(c));return S<1023?u*C*Math.pow(2,-S):(C*=Math.pow(2,-1023),u*C*Math.pow(2,1023-S))}}},5070:function(p){function m(v,c,x,d,M){for(var g=M+1;d<=M;){var u=d+M>>>1,y=v[u],C=x!==void 0?x(y,c):y-c;C>=0?(g=u,M=u-1):d=u+1}return g}function t(v,c,x,d,M){for(var g=M+1;d<=M;){var u=d+M>>>1,y=v[u],C=x!==void 0?x(y,c):y-c;C>0?(g=u,M=u-1):d=u+1}return g}function r(v,c,x,d,M){for(var g=d-1;d<=M;){var u=d+M>>>1,y=v[u],C=x!==void 0?x(y,c):y-c;C<0?(g=u,d=u+1):M=u-1}return g}function l(v,c,x,d,M){for(var g=d-1;d<=M;){var u=d+M>>>1,y=v[u],C=x!==void 0?x(y,c):y-c;C<=0?(g=u,d=u+1):M=u-1}return g}function i(v,c,x,d,M){for(;d<=M;){var g=d+M>>>1,u=v[g],y=x!==void 0?x(u,c):u-c;if(y===0)return g;y<=0?d=g+1:M=g-1}return-1}function f(v,c,x,d,M,g){return typeof x=="function"?g(v,c,x,d===void 0?0:d|0,M===void 0?v.length-1:M|0):g(v,c,void 0,x===void 0?0:x|0,d===void 0?v.length-1:d|0)}p.exports={ge:function(v,c,x,d,M){return f(v,c,x,d,M,m)},gt:function(v,c,x,d,M){return f(v,c,x,d,M,t)},lt:function(v,c,x,d,M){return f(v,c,x,d,M,r)},le:function(v,c,x,d,M){return f(v,c,x,d,M,l)},eq:function(v,c,x,d,M){return f(v,c,x,d,M,i)}}},2288:function(p,m){var t=32;m.INT_BITS=t,m.INT_MAX=2147483647,m.INT_MIN=-1<<t-1,m.sign=function(i){return(i>0)-(i<0)},m.abs=function(i){var f=i>>t-1;return(i^f)-f},m.min=function(i,f){return f^(i^f)&-(i<f)},m.max=function(i,f){return i^(i^f)&-(i<f)},m.isPow2=function(i){return!(i&i-1)&&!!i},m.log2=function(i){var f,v;return f=(i>65535)<<4,i>>>=f,v=(i>255)<<3,i>>>=v,f|=v,v=(i>15)<<2,i>>>=v,f|=v,v=(i>3)<<1,i>>>=v,f|=v,f|i>>1},m.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},m.popCount=function(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),(i+(i>>>4)&252645135)*16843009>>>24};function r(i){var f=32;return i&=-i,i&&f--,i&65535&&(f-=16),i&16711935&&(f-=8),i&252645135&&(f-=4),i&858993459&&(f-=2),i&1431655765&&(f-=1),f}m.countTrailingZeros=r,m.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1},m.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i-(i>>>1)},m.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,i&=15,27030>>>i&1};var l=new Array(256);(function(i){for(var f=0;f<256;++f){var v=f,c=f,x=7;for(v>>>=1;v;v>>>=1)c<<=1,c|=v&1,--x;i[f]=c<<x&255}})(l),m.reverse=function(i){return l[i&255]<<24|l[i>>>8&255]<<16|l[i>>>16&255]<<8|l[i>>>24&255]},m.interleave2=function(i,f){return i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,i|f<<1},m.deinterleave2=function(i,f){return i=i>>>f&1431655765,i=(i|i>>>1)&858993459,i=(i|i>>>2)&252645135,i=(i|i>>>4)&16711935,i=(i|i>>>16)&65535,i<<16>>16},m.interleave3=function(i,f,v){return i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,i|=f<<1,v&=1023,v=(v|v<<16)&4278190335,v=(v|v<<8)&251719695,v=(v|v<<4)&3272356035,v=(v|v<<2)&1227133513,i|v<<2},m.deinterleave3=function(i,f){return i=i>>>f&1227133513,i=(i|i>>>2)&3272356035,i=(i|i>>>4)&251719695,i=(i|i>>>8)&4278190335,i=(i|i>>>16)&1023,i<<22>>22},m.nextCombination=function(i){var f=i|i-1;return f+1|(~f&-~f)-1>>>r(i)+1}},1928:function(p,m,t){p=t.nmd(p),function(r,l){function i(H,U){if(!H)throw new Error(U||"Assertion failed")}function f(H,U){H.super_=U;var G=function(){};G.prototype=U.prototype,H.prototype=new G,H.prototype.constructor=H}function v(H,U,G){if(v.isBN(H))return H;this.negative=0,this.words=null,this.length=0,this.red=null,H!==null&&((U==="le"||U==="be")&&(G=U,U=10),this._init(H||0,U||10,G||"be"))}typeof r=="object"?r.exports=v:l.BN=v,v.BN=v,v.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=t(6601).Buffer}catch{}v.isBN=function(U){return U instanceof v?!0:U!==null&&typeof U=="object"&&U.constructor.wordSize===v.wordSize&&Array.isArray(U.words)},v.max=function(U,G){return U.cmp(G)>0?U:G},v.min=function(U,G){return U.cmp(G)<0?U:G},v.prototype._init=function(U,G,j){if(typeof U=="number")return this._initNumber(U,G,j);if(typeof U=="object")return this._initArray(U,G,j);G==="hex"&&(G=16),i(G===(G|0)&&G>=2&&G<=36),U=U.toString().replace(/\s+/g,"");var re=0;U[0]==="-"&&(re++,this.negative=1),re<U.length&&(G===16?this._parseHex(U,re,j):(this._parseBase(U,G,re),j==="le"&&this._initArray(this.toArray(),G,j)))},v.prototype._initNumber=function(U,G,j){U<0&&(this.negative=1,U=-U),U<67108864?(this.words=[U&67108863],this.length=1):U<4503599627370496?(this.words=[U&67108863,U/67108864&67108863],this.length=2):(i(U<9007199254740992),this.words=[U&67108863,U/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),G,j)},v.prototype._initArray=function(U,G,j){if(i(typeof U.length=="number"),U.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(U.length/3),this.words=new Array(this.length);for(var re=0;re<this.length;re++)this.words[re]=0;var ae,ue,de=0;if(j==="be")for(re=U.length-1,ae=0;re>=0;re-=3)ue=U[re]|U[re-1]<<8|U[re-2]<<16,this.words[ae]|=ue<<de&67108863,this.words[ae+1]=ue>>>26-de&67108863,de+=24,de>=26&&(de-=26,ae++);else if(j==="le")for(re=0,ae=0;re<U.length;re+=3)ue=U[re]|U[re+1]<<8|U[re+2]<<16,this.words[ae]|=ue<<de&67108863,this.words[ae+1]=ue>>>26-de&67108863,de+=24,de>=26&&(de-=26,ae++);return this.strip()};function x(H,U){var G=H.charCodeAt(U);return G>=65&&G<=70?G-55:G>=97&&G<=102?G-87:G-48&15}function d(H,U,G){var j=x(H,G);return G-1>=U&&(j|=x(H,G-1)<<4),j}v.prototype._parseHex=function(U,G,j){this.length=Math.ceil((U.length-G)/6),this.words=new Array(this.length);for(var re=0;re<this.length;re++)this.words[re]=0;var ae=0,ue=0,de;if(j==="be")for(re=U.length-1;re>=G;re-=2)de=d(U,G,re)<<ae,this.words[ue]|=de&67108863,ae>=18?(ae-=18,ue+=1,this.words[ue]|=de>>>26):ae+=8;else{var ee=U.length-G;for(re=ee%2===0?G+1:G;re<U.length;re+=2)de=d(U,G,re)<<ae,this.words[ue]|=de&67108863,ae>=18?(ae-=18,ue+=1,this.words[ue]|=de>>>26):ae+=8}this.strip()};function M(H,U,G,j){for(var re=0,ae=Math.min(H.length,G),ue=U;ue<ae;ue++){var de=H.charCodeAt(ue)-48;re*=j,de>=49?re+=de-49+10:de>=17?re+=de-17+10:re+=de}return re}v.prototype._parseBase=function(U,G,j){this.words=[0],this.length=1;for(var re=0,ae=1;ae<=67108863;ae*=G)re++;re--,ae=ae/G|0;for(var ue=U.length-j,de=ue%re,ee=Math.min(ue,ue-de)+j,X=0,Q=j;Q<ee;Q+=re)X=M(U,Q,Q+re,G),this.imuln(ae),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(de!==0){var $=1;for(X=M(U,Q,U.length,G),Q=0;Q<de;Q++)$*=G;this.imuln($),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this.strip()},v.prototype.copy=function(U){U.words=new Array(this.length);for(var G=0;G<this.length;G++)U.words[G]=this.words[G];U.length=this.length,U.negative=this.negative,U.red=this.red},v.prototype.clone=function(){var U=new v(null);return this.copy(U),U},v.prototype._expand=function(U){for(;this.length<U;)this.words[this.length++]=0;return this},v.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},v.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},v.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];v.prototype.toString=function(U,G){U=U||10,G=G|0||1;var j;if(U===16||U==="hex"){j="";for(var re=0,ae=0,ue=0;ue<this.length;ue++){var de=this.words[ue],ee=((de<<re|ae)&16777215).toString(16);ae=de>>>24-re&16777215,ae!==0||ue!==this.length-1?j=g[6-ee.length]+ee+j:j=ee+j,re+=2,re>=26&&(re-=26,ue--)}for(ae!==0&&(j=ae.toString(16)+j);j.length%G!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(U===(U|0)&&U>=2&&U<=36){var X=u[U],Q=y[U];j="";var $=this.clone();for($.negative=0;!$.isZero();){var ne=$.modn(Q).toString(U);$=$.idivn(Q),$.isZero()?j=ne+j:j=g[X-ne.length]+ne+j}for(this.isZero()&&(j="0"+j);j.length%G!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}i(!1,"Base should be between 2 and 36")},v.prototype.toNumber=function(){var U=this.words[0];return this.length===2?U+=this.words[1]*67108864:this.length===3&&this.words[2]===1?U+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-U:U},v.prototype.toJSON=function(){return this.toString(16)},v.prototype.toBuffer=function(U,G){return i(typeof c<"u"),this.toArrayLike(c,U,G)},v.prototype.toArray=function(U,G){return this.toArrayLike(Array,U,G)},v.prototype.toArrayLike=function(U,G,j){var re=this.byteLength(),ae=j||Math.max(1,re);i(re<=ae,"byte array longer than desired length"),i(ae>0,"Requested array length <= 0"),this.strip();var ue=G==="le",de=new U(ae),ee,X,Q=this.clone();if(ue){for(X=0;!Q.isZero();X++)ee=Q.andln(255),Q.iushrn(8),de[X]=ee;for(;X<ae;X++)de[X]=0}else{for(X=0;X<ae-re;X++)de[X]=0;for(X=0;!Q.isZero();X++)ee=Q.andln(255),Q.iushrn(8),de[ae-X-1]=ee}return de},Math.clz32?v.prototype._countBits=function(U){return 32-Math.clz32(U)}:v.prototype._countBits=function(U){var G=U,j=0;return G>=4096&&(j+=13,G>>>=13),G>=64&&(j+=7,G>>>=7),G>=8&&(j+=4,G>>>=4),G>=2&&(j+=2,G>>>=2),j+G},v.prototype._zeroBits=function(U){if(U===0)return 26;var G=U,j=0;return G&8191||(j+=13,G>>>=13),G&127||(j+=7,G>>>=7),G&15||(j+=4,G>>>=4),G&3||(j+=2,G>>>=2),G&1||j++,j},v.prototype.bitLength=function(){var U=this.words[this.length-1],G=this._countBits(U);return(this.length-1)*26+G};function C(H){for(var U=new Array(H.bitLength()),G=0;G<U.length;G++){var j=G/26|0,re=G%26;U[G]=(H.words[j]&1<<re)>>>re}return U}v.prototype.zeroBits=function(){if(this.isZero())return 0;for(var U=0,G=0;G<this.length;G++){var j=this._zeroBits(this.words[G]);if(U+=j,j!==26)break}return U},v.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},v.prototype.toTwos=function(U){return this.negative!==0?this.abs().inotn(U).iaddn(1):this.clone()},v.prototype.fromTwos=function(U){return this.testn(U-1)?this.notn(U).iaddn(1).ineg():this.clone()},v.prototype.isNeg=function(){return this.negative!==0},v.prototype.neg=function(){return this.clone().ineg()},v.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},v.prototype.iuor=function(U){for(;this.length<U.length;)this.words[this.length++]=0;for(var G=0;G<U.length;G++)this.words[G]=this.words[G]|U.words[G];return this.strip()},v.prototype.ior=function(U){return i((this.negative|U.negative)===0),this.iuor(U)},v.prototype.or=function(U){return this.length>U.length?this.clone().ior(U):U.clone().ior(this)},v.prototype.uor=function(U){return this.length>U.length?this.clone().iuor(U):U.clone().iuor(this)},v.prototype.iuand=function(U){var G;this.length>U.length?G=U:G=this;for(var j=0;j<G.length;j++)this.words[j]=this.words[j]&U.words[j];return this.length=G.length,this.strip()},v.prototype.iand=function(U){return i((this.negative|U.negative)===0),this.iuand(U)},v.prototype.and=function(U){return this.length>U.length?this.clone().iand(U):U.clone().iand(this)},v.prototype.uand=function(U){return this.length>U.length?this.clone().iuand(U):U.clone().iuand(this)},v.prototype.iuxor=function(U){var G,j;this.length>U.length?(G=this,j=U):(G=U,j=this);for(var re=0;re<j.length;re++)this.words[re]=G.words[re]^j.words[re];if(this!==G)for(;re<G.length;re++)this.words[re]=G.words[re];return this.length=G.length,this.strip()},v.prototype.ixor=function(U){return i((this.negative|U.negative)===0),this.iuxor(U)},v.prototype.xor=function(U){return this.length>U.length?this.clone().ixor(U):U.clone().ixor(this)},v.prototype.uxor=function(U){return this.length>U.length?this.clone().iuxor(U):U.clone().iuxor(this)},v.prototype.inotn=function(U){i(typeof U=="number"&&U>=0);var G=Math.ceil(U/26)|0,j=U%26;this._expand(G),j>0&&G--;for(var re=0;re<G;re++)this.words[re]=~this.words[re]&67108863;return j>0&&(this.words[re]=~this.words[re]&67108863>>26-j),this.strip()},v.prototype.notn=function(U){return this.clone().inotn(U)},v.prototype.setn=function(U,G){i(typeof U=="number"&&U>=0);var j=U/26|0,re=U%26;return this._expand(j+1),G?this.words[j]=this.words[j]|1<<re:this.words[j]=this.words[j]&~(1<<re),this.strip()},v.prototype.iadd=function(U){var G;if(this.negative!==0&&U.negative===0)return this.negative=0,G=this.isub(U),this.negative^=1,this._normSign();if(this.negative===0&&U.negative!==0)return U.negative=0,G=this.isub(U),U.negative=1,G._normSign();var j,re;this.length>U.length?(j=this,re=U):(j=U,re=this);for(var ae=0,ue=0;ue<re.length;ue++)G=(j.words[ue]|0)+(re.words[ue]|0)+ae,this.words[ue]=G&67108863,ae=G>>>26;for(;ae!==0&&ue<j.length;ue++)G=(j.words[ue]|0)+ae,this.words[ue]=G&67108863,ae=G>>>26;if(this.length=j.length,ae!==0)this.words[this.length]=ae,this.length++;else if(j!==this)for(;ue<j.length;ue++)this.words[ue]=j.words[ue];return this},v.prototype.add=function(U){var G;return U.negative!==0&&this.negative===0?(U.negative=0,G=this.sub(U),U.negative^=1,G):U.negative===0&&this.negative!==0?(this.negative=0,G=U.sub(this),this.negative=1,G):this.length>U.length?this.clone().iadd(U):U.clone().iadd(this)},v.prototype.isub=function(U){if(U.negative!==0){U.negative=0;var G=this.iadd(U);return U.negative=1,G._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(U),this.negative=1,this._normSign();var j=this.cmp(U);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var re,ae;j>0?(re=this,ae=U):(re=U,ae=this);for(var ue=0,de=0;de<ae.length;de++)G=(re.words[de]|0)-(ae.words[de]|0)+ue,ue=G>>26,this.words[de]=G&67108863;for(;ue!==0&&de<re.length;de++)G=(re.words[de]|0)+ue,ue=G>>26,this.words[de]=G&67108863;if(ue===0&&de<re.length&&re!==this)for(;de<re.length;de++)this.words[de]=re.words[de];return this.length=Math.max(this.length,de),re!==this&&(this.negative=1),this.strip()},v.prototype.sub=function(U){return this.clone().isub(U)};function S(H,U,G){G.negative=U.negative^H.negative;var j=H.length+U.length|0;G.length=j,j=j-1|0;var re=H.words[0]|0,ae=U.words[0]|0,ue=re*ae,de=ue&67108863,ee=ue/67108864|0;G.words[0]=de;for(var X=1;X<j;X++){for(var Q=ee>>>26,$=ee&67108863,ne=Math.min(X,U.length-1),fe=Math.max(0,X-H.length+1);fe<=ne;fe++){var te=X-fe|0;re=H.words[te]|0,ae=U.words[fe]|0,ue=re*ae+$,Q+=ue/67108864|0,$=ue&67108863}G.words[X]=$|0,ee=Q|0}return ee!==0?G.words[X]=ee|0:G.length--,G.strip()}var D=function(U,G,j){var re=U.words,ae=G.words,ue=j.words,de=0,ee,X,Q,$=re[0]|0,ne=$&8191,fe=$>>>13,te=re[1]|0,q=te&8191,he=te>>>13,se=re[2]|0,pe=se&8191,we=se>>>13,Ee=re[3]|0,Me=Ee&8191,Be=Ee>>>13,Ne=re[4]|0,Ce=Ne&8191,Te=Ne>>>13,Le=re[5]|0,Ve=Le&8191,We=Le>>>13,Fe=re[6]|0,Ge=Fe&8191,it=Fe>>>13,qe=re[7]|0,$e=qe&8191,tt=qe>>>13,vt=re[8]|0,dt=vt&8191,gt=vt>>>13,Mt=re[9]|0,Ct=Mt&8191,Wt=Mt>>>13,Xe=ae[0]|0,ke=Xe&8191,Ie=Xe>>>13,Oe=ae[1]|0,_e=Oe&8191,Ae=Oe>>>13,ce=ae[2]|0,be=ce&8191,Re=ce>>>13,Ue=ae[3]|0,nt=Ue&8191,ot=Ue>>>13,wt=ae[4]|0,_t=wt&8191,Ut=wt>>>13,Vt=ae[5]|0,Lt=Vt&8191,Kt=Vt>>>13,ar=ae[6]|0,Fr=ar&8191,yt=ar>>>13,Xt=ae[7]|0,Yt=Xt&8191,br=Xt>>>13,hr=ae[8]|0,ut=hr&8191,lt=hr>>>13,xt=ae[9]|0,Tt=xt&8191,Et=xt>>>13;j.negative=U.negative^G.negative,j.length=19,ee=Math.imul(ne,ke),X=Math.imul(ne,Ie),X=X+Math.imul(fe,ke)|0,Q=Math.imul(fe,Ie);var At=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(At>>>26)|0,At&=67108863,ee=Math.imul(q,ke),X=Math.imul(q,Ie),X=X+Math.imul(he,ke)|0,Q=Math.imul(he,Ie),ee=ee+Math.imul(ne,_e)|0,X=X+Math.imul(ne,Ae)|0,X=X+Math.imul(fe,_e)|0,Q=Q+Math.imul(fe,Ae)|0;var Ft=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,ee=Math.imul(pe,ke),X=Math.imul(pe,Ie),X=X+Math.imul(we,ke)|0,Q=Math.imul(we,Ie),ee=ee+Math.imul(q,_e)|0,X=X+Math.imul(q,Ae)|0,X=X+Math.imul(he,_e)|0,Q=Q+Math.imul(he,Ae)|0,ee=ee+Math.imul(ne,be)|0,X=X+Math.imul(ne,Re)|0,X=X+Math.imul(fe,be)|0,Q=Q+Math.imul(fe,Re)|0;var Ht=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,ee=Math.imul(Me,ke),X=Math.imul(Me,Ie),X=X+Math.imul(Be,ke)|0,Q=Math.imul(Be,Ie),ee=ee+Math.imul(pe,_e)|0,X=X+Math.imul(pe,Ae)|0,X=X+Math.imul(we,_e)|0,Q=Q+Math.imul(we,Ae)|0,ee=ee+Math.imul(q,be)|0,X=X+Math.imul(q,Re)|0,X=X+Math.imul(he,be)|0,Q=Q+Math.imul(he,Re)|0,ee=ee+Math.imul(ne,nt)|0,X=X+Math.imul(ne,ot)|0,X=X+Math.imul(fe,nt)|0,Q=Q+Math.imul(fe,ot)|0;var $t=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+($t>>>26)|0,$t&=67108863,ee=Math.imul(Ce,ke),X=Math.imul(Ce,Ie),X=X+Math.imul(Te,ke)|0,Q=Math.imul(Te,Ie),ee=ee+Math.imul(Me,_e)|0,X=X+Math.imul(Me,Ae)|0,X=X+Math.imul(Be,_e)|0,Q=Q+Math.imul(Be,Ae)|0,ee=ee+Math.imul(pe,be)|0,X=X+Math.imul(pe,Re)|0,X=X+Math.imul(we,be)|0,Q=Q+Math.imul(we,Re)|0,ee=ee+Math.imul(q,nt)|0,X=X+Math.imul(q,ot)|0,X=X+Math.imul(he,nt)|0,Q=Q+Math.imul(he,ot)|0,ee=ee+Math.imul(ne,_t)|0,X=X+Math.imul(ne,Ut)|0,X=X+Math.imul(fe,_t)|0,Q=Q+Math.imul(fe,Ut)|0;var Qt=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,ee=Math.imul(Ve,ke),X=Math.imul(Ve,Ie),X=X+Math.imul(We,ke)|0,Q=Math.imul(We,Ie),ee=ee+Math.imul(Ce,_e)|0,X=X+Math.imul(Ce,Ae)|0,X=X+Math.imul(Te,_e)|0,Q=Q+Math.imul(Te,Ae)|0,ee=ee+Math.imul(Me,be)|0,X=X+Math.imul(Me,Re)|0,X=X+Math.imul(Be,be)|0,Q=Q+Math.imul(Be,Re)|0,ee=ee+Math.imul(pe,nt)|0,X=X+Math.imul(pe,ot)|0,X=X+Math.imul(we,nt)|0,Q=Q+Math.imul(we,ot)|0,ee=ee+Math.imul(q,_t)|0,X=X+Math.imul(q,Ut)|0,X=X+Math.imul(he,_t)|0,Q=Q+Math.imul(he,Ut)|0,ee=ee+Math.imul(ne,Lt)|0,X=X+Math.imul(ne,Kt)|0,X=X+Math.imul(fe,Lt)|0,Q=Q+Math.imul(fe,Kt)|0;var or=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(or>>>26)|0,or&=67108863,ee=Math.imul(Ge,ke),X=Math.imul(Ge,Ie),X=X+Math.imul(it,ke)|0,Q=Math.imul(it,Ie),ee=ee+Math.imul(Ve,_e)|0,X=X+Math.imul(Ve,Ae)|0,X=X+Math.imul(We,_e)|0,Q=Q+Math.imul(We,Ae)|0,ee=ee+Math.imul(Ce,be)|0,X=X+Math.imul(Ce,Re)|0,X=X+Math.imul(Te,be)|0,Q=Q+Math.imul(Te,Re)|0,ee=ee+Math.imul(Me,nt)|0,X=X+Math.imul(Me,ot)|0,X=X+Math.imul(Be,nt)|0,Q=Q+Math.imul(Be,ot)|0,ee=ee+Math.imul(pe,_t)|0,X=X+Math.imul(pe,Ut)|0,X=X+Math.imul(we,_t)|0,Q=Q+Math.imul(we,Ut)|0,ee=ee+Math.imul(q,Lt)|0,X=X+Math.imul(q,Kt)|0,X=X+Math.imul(he,Lt)|0,Q=Q+Math.imul(he,Kt)|0,ee=ee+Math.imul(ne,Fr)|0,X=X+Math.imul(ne,yt)|0,X=X+Math.imul(fe,Fr)|0,Q=Q+Math.imul(fe,yt)|0;var Er=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(Er>>>26)|0,Er&=67108863,ee=Math.imul($e,ke),X=Math.imul($e,Ie),X=X+Math.imul(tt,ke)|0,Q=Math.imul(tt,Ie),ee=ee+Math.imul(Ge,_e)|0,X=X+Math.imul(Ge,Ae)|0,X=X+Math.imul(it,_e)|0,Q=Q+Math.imul(it,Ae)|0,ee=ee+Math.imul(Ve,be)|0,X=X+Math.imul(Ve,Re)|0,X=X+Math.imul(We,be)|0,Q=Q+Math.imul(We,Re)|0,ee=ee+Math.imul(Ce,nt)|0,X=X+Math.imul(Ce,ot)|0,X=X+Math.imul(Te,nt)|0,Q=Q+Math.imul(Te,ot)|0,ee=ee+Math.imul(Me,_t)|0,X=X+Math.imul(Me,Ut)|0,X=X+Math.imul(Be,_t)|0,Q=Q+Math.imul(Be,Ut)|0,ee=ee+Math.imul(pe,Lt)|0,X=X+Math.imul(pe,Kt)|0,X=X+Math.imul(we,Lt)|0,Q=Q+Math.imul(we,Kt)|0,ee=ee+Math.imul(q,Fr)|0,X=X+Math.imul(q,yt)|0,X=X+Math.imul(he,Fr)|0,Q=Q+Math.imul(he,yt)|0,ee=ee+Math.imul(ne,Yt)|0,X=X+Math.imul(ne,br)|0,X=X+Math.imul(fe,Yt)|0,Q=Q+Math.imul(fe,br)|0;var Ze=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,ee=Math.imul(dt,ke),X=Math.imul(dt,Ie),X=X+Math.imul(gt,ke)|0,Q=Math.imul(gt,Ie),ee=ee+Math.imul($e,_e)|0,X=X+Math.imul($e,Ae)|0,X=X+Math.imul(tt,_e)|0,Q=Q+Math.imul(tt,Ae)|0,ee=ee+Math.imul(Ge,be)|0,X=X+Math.imul(Ge,Re)|0,X=X+Math.imul(it,be)|0,Q=Q+Math.imul(it,Re)|0,ee=ee+Math.imul(Ve,nt)|0,X=X+Math.imul(Ve,ot)|0,X=X+Math.imul(We,nt)|0,Q=Q+Math.imul(We,ot)|0,ee=ee+Math.imul(Ce,_t)|0,X=X+Math.imul(Ce,Ut)|0,X=X+Math.imul(Te,_t)|0,Q=Q+Math.imul(Te,Ut)|0,ee=ee+Math.imul(Me,Lt)|0,X=X+Math.imul(Me,Kt)|0,X=X+Math.imul(Be,Lt)|0,Q=Q+Math.imul(Be,Kt)|0,ee=ee+Math.imul(pe,Fr)|0,X=X+Math.imul(pe,yt)|0,X=X+Math.imul(we,Fr)|0,Q=Q+Math.imul(we,yt)|0,ee=ee+Math.imul(q,Yt)|0,X=X+Math.imul(q,br)|0,X=X+Math.imul(he,Yt)|0,Q=Q+Math.imul(he,br)|0,ee=ee+Math.imul(ne,ut)|0,X=X+Math.imul(ne,lt)|0,X=X+Math.imul(fe,ut)|0,Q=Q+Math.imul(fe,lt)|0;var Ye=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,ee=Math.imul(Ct,ke),X=Math.imul(Ct,Ie),X=X+Math.imul(Wt,ke)|0,Q=Math.imul(Wt,Ie),ee=ee+Math.imul(dt,_e)|0,X=X+Math.imul(dt,Ae)|0,X=X+Math.imul(gt,_e)|0,Q=Q+Math.imul(gt,Ae)|0,ee=ee+Math.imul($e,be)|0,X=X+Math.imul($e,Re)|0,X=X+Math.imul(tt,be)|0,Q=Q+Math.imul(tt,Re)|0,ee=ee+Math.imul(Ge,nt)|0,X=X+Math.imul(Ge,ot)|0,X=X+Math.imul(it,nt)|0,Q=Q+Math.imul(it,ot)|0,ee=ee+Math.imul(Ve,_t)|0,X=X+Math.imul(Ve,Ut)|0,X=X+Math.imul(We,_t)|0,Q=Q+Math.imul(We,Ut)|0,ee=ee+Math.imul(Ce,Lt)|0,X=X+Math.imul(Ce,Kt)|0,X=X+Math.imul(Te,Lt)|0,Q=Q+Math.imul(Te,Kt)|0,ee=ee+Math.imul(Me,Fr)|0,X=X+Math.imul(Me,yt)|0,X=X+Math.imul(Be,Fr)|0,Q=Q+Math.imul(Be,yt)|0,ee=ee+Math.imul(pe,Yt)|0,X=X+Math.imul(pe,br)|0,X=X+Math.imul(we,Yt)|0,Q=Q+Math.imul(we,br)|0,ee=ee+Math.imul(q,ut)|0,X=X+Math.imul(q,lt)|0,X=X+Math.imul(he,ut)|0,Q=Q+Math.imul(he,lt)|0,ee=ee+Math.imul(ne,Tt)|0,X=X+Math.imul(ne,Et)|0,X=X+Math.imul(fe,Tt)|0,Q=Q+Math.imul(fe,Et)|0;var Dt=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,ee=Math.imul(Ct,_e),X=Math.imul(Ct,Ae),X=X+Math.imul(Wt,_e)|0,Q=Math.imul(Wt,Ae),ee=ee+Math.imul(dt,be)|0,X=X+Math.imul(dt,Re)|0,X=X+Math.imul(gt,be)|0,Q=Q+Math.imul(gt,Re)|0,ee=ee+Math.imul($e,nt)|0,X=X+Math.imul($e,ot)|0,X=X+Math.imul(tt,nt)|0,Q=Q+Math.imul(tt,ot)|0,ee=ee+Math.imul(Ge,_t)|0,X=X+Math.imul(Ge,Ut)|0,X=X+Math.imul(it,_t)|0,Q=Q+Math.imul(it,Ut)|0,ee=ee+Math.imul(Ve,Lt)|0,X=X+Math.imul(Ve,Kt)|0,X=X+Math.imul(We,Lt)|0,Q=Q+Math.imul(We,Kt)|0,ee=ee+Math.imul(Ce,Fr)|0,X=X+Math.imul(Ce,yt)|0,X=X+Math.imul(Te,Fr)|0,Q=Q+Math.imul(Te,yt)|0,ee=ee+Math.imul(Me,Yt)|0,X=X+Math.imul(Me,br)|0,X=X+Math.imul(Be,Yt)|0,Q=Q+Math.imul(Be,br)|0,ee=ee+Math.imul(pe,ut)|0,X=X+Math.imul(pe,lt)|0,X=X+Math.imul(we,ut)|0,Q=Q+Math.imul(we,lt)|0,ee=ee+Math.imul(q,Tt)|0,X=X+Math.imul(q,Et)|0,X=X+Math.imul(he,Tt)|0,Q=Q+Math.imul(he,Et)|0;var It=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(It>>>26)|0,It&=67108863,ee=Math.imul(Ct,be),X=Math.imul(Ct,Re),X=X+Math.imul(Wt,be)|0,Q=Math.imul(Wt,Re),ee=ee+Math.imul(dt,nt)|0,X=X+Math.imul(dt,ot)|0,X=X+Math.imul(gt,nt)|0,Q=Q+Math.imul(gt,ot)|0,ee=ee+Math.imul($e,_t)|0,X=X+Math.imul($e,Ut)|0,X=X+Math.imul(tt,_t)|0,Q=Q+Math.imul(tt,Ut)|0,ee=ee+Math.imul(Ge,Lt)|0,X=X+Math.imul(Ge,Kt)|0,X=X+Math.imul(it,Lt)|0,Q=Q+Math.imul(it,Kt)|0,ee=ee+Math.imul(Ve,Fr)|0,X=X+Math.imul(Ve,yt)|0,X=X+Math.imul(We,Fr)|0,Q=Q+Math.imul(We,yt)|0,ee=ee+Math.imul(Ce,Yt)|0,X=X+Math.imul(Ce,br)|0,X=X+Math.imul(Te,Yt)|0,Q=Q+Math.imul(Te,br)|0,ee=ee+Math.imul(Me,ut)|0,X=X+Math.imul(Me,lt)|0,X=X+Math.imul(Be,ut)|0,Q=Q+Math.imul(Be,lt)|0,ee=ee+Math.imul(pe,Tt)|0,X=X+Math.imul(pe,Et)|0,X=X+Math.imul(we,Tt)|0,Q=Q+Math.imul(we,Et)|0;var Zt=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,ee=Math.imul(Ct,nt),X=Math.imul(Ct,ot),X=X+Math.imul(Wt,nt)|0,Q=Math.imul(Wt,ot),ee=ee+Math.imul(dt,_t)|0,X=X+Math.imul(dt,Ut)|0,X=X+Math.imul(gt,_t)|0,Q=Q+Math.imul(gt,Ut)|0,ee=ee+Math.imul($e,Lt)|0,X=X+Math.imul($e,Kt)|0,X=X+Math.imul(tt,Lt)|0,Q=Q+Math.imul(tt,Kt)|0,ee=ee+Math.imul(Ge,Fr)|0,X=X+Math.imul(Ge,yt)|0,X=X+Math.imul(it,Fr)|0,Q=Q+Math.imul(it,yt)|0,ee=ee+Math.imul(Ve,Yt)|0,X=X+Math.imul(Ve,br)|0,X=X+Math.imul(We,Yt)|0,Q=Q+Math.imul(We,br)|0,ee=ee+Math.imul(Ce,ut)|0,X=X+Math.imul(Ce,lt)|0,X=X+Math.imul(Te,ut)|0,Q=Q+Math.imul(Te,lt)|0,ee=ee+Math.imul(Me,Tt)|0,X=X+Math.imul(Me,Et)|0,X=X+Math.imul(Be,Tt)|0,Q=Q+Math.imul(Be,Et)|0;var nr=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(nr>>>26)|0,nr&=67108863,ee=Math.imul(Ct,_t),X=Math.imul(Ct,Ut),X=X+Math.imul(Wt,_t)|0,Q=Math.imul(Wt,Ut),ee=ee+Math.imul(dt,Lt)|0,X=X+Math.imul(dt,Kt)|0,X=X+Math.imul(gt,Lt)|0,Q=Q+Math.imul(gt,Kt)|0,ee=ee+Math.imul($e,Fr)|0,X=X+Math.imul($e,yt)|0,X=X+Math.imul(tt,Fr)|0,Q=Q+Math.imul(tt,yt)|0,ee=ee+Math.imul(Ge,Yt)|0,X=X+Math.imul(Ge,br)|0,X=X+Math.imul(it,Yt)|0,Q=Q+Math.imul(it,br)|0,ee=ee+Math.imul(Ve,ut)|0,X=X+Math.imul(Ve,lt)|0,X=X+Math.imul(We,ut)|0,Q=Q+Math.imul(We,lt)|0,ee=ee+Math.imul(Ce,Tt)|0,X=X+Math.imul(Ce,Et)|0,X=X+Math.imul(Te,Tt)|0,Q=Q+Math.imul(Te,Et)|0;var lr=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(lr>>>26)|0,lr&=67108863,ee=Math.imul(Ct,Lt),X=Math.imul(Ct,Kt),X=X+Math.imul(Wt,Lt)|0,Q=Math.imul(Wt,Kt),ee=ee+Math.imul(dt,Fr)|0,X=X+Math.imul(dt,yt)|0,X=X+Math.imul(gt,Fr)|0,Q=Q+Math.imul(gt,yt)|0,ee=ee+Math.imul($e,Yt)|0,X=X+Math.imul($e,br)|0,X=X+Math.imul(tt,Yt)|0,Q=Q+Math.imul(tt,br)|0,ee=ee+Math.imul(Ge,ut)|0,X=X+Math.imul(Ge,lt)|0,X=X+Math.imul(it,ut)|0,Q=Q+Math.imul(it,lt)|0,ee=ee+Math.imul(Ve,Tt)|0,X=X+Math.imul(Ve,Et)|0,X=X+Math.imul(We,Tt)|0,Q=Q+Math.imul(We,Et)|0;var rr=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(rr>>>26)|0,rr&=67108863,ee=Math.imul(Ct,Fr),X=Math.imul(Ct,yt),X=X+Math.imul(Wt,Fr)|0,Q=Math.imul(Wt,yt),ee=ee+Math.imul(dt,Yt)|0,X=X+Math.imul(dt,br)|0,X=X+Math.imul(gt,Yt)|0,Q=Q+Math.imul(gt,br)|0,ee=ee+Math.imul($e,ut)|0,X=X+Math.imul($e,lt)|0,X=X+Math.imul(tt,ut)|0,Q=Q+Math.imul(tt,lt)|0,ee=ee+Math.imul(Ge,Tt)|0,X=X+Math.imul(Ge,Et)|0,X=X+Math.imul(it,Tt)|0,Q=Q+Math.imul(it,Et)|0;var zt=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(zt>>>26)|0,zt&=67108863,ee=Math.imul(Ct,Yt),X=Math.imul(Ct,br),X=X+Math.imul(Wt,Yt)|0,Q=Math.imul(Wt,br),ee=ee+Math.imul(dt,ut)|0,X=X+Math.imul(dt,lt)|0,X=X+Math.imul(gt,ut)|0,Q=Q+Math.imul(gt,lt)|0,ee=ee+Math.imul($e,Tt)|0,X=X+Math.imul($e,Et)|0,X=X+Math.imul(tt,Tt)|0,Q=Q+Math.imul(tt,Et)|0;var fr=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(fr>>>26)|0,fr&=67108863,ee=Math.imul(Ct,ut),X=Math.imul(Ct,lt),X=X+Math.imul(Wt,ut)|0,Q=Math.imul(Wt,lt),ee=ee+Math.imul(dt,Tt)|0,X=X+Math.imul(dt,Et)|0,X=X+Math.imul(gt,Tt)|0,Q=Q+Math.imul(gt,Et)|0;var dr=(de+ee|0)+((X&8191)<<13)|0;de=(Q+(X>>>13)|0)+(dr>>>26)|0,dr&=67108863,ee=Math.imul(Ct,Tt),X=Math.imul(Ct,Et),X=X+Math.imul(Wt,Tt)|0,Q=Math.imul(Wt,Et);var pr=(de+ee|0)+((X&8191)<<13)|0;return de=(Q+(X>>>13)|0)+(pr>>>26)|0,pr&=67108863,ue[0]=At,ue[1]=Ft,ue[2]=Ht,ue[3]=$t,ue[4]=Qt,ue[5]=or,ue[6]=Er,ue[7]=Ze,ue[8]=Ye,ue[9]=Dt,ue[10]=It,ue[11]=Zt,ue[12]=nr,ue[13]=lr,ue[14]=rr,ue[15]=zt,ue[16]=fr,ue[17]=dr,ue[18]=pr,de!==0&&(ue[19]=de,j.length++),j};Math.imul||(D=S);function T(H,U,G){G.negative=U.negative^H.negative,G.length=H.length+U.length;for(var j=0,re=0,ae=0;ae<G.length-1;ae++){var ue=re;re=0;for(var de=j&67108863,ee=Math.min(ae,U.length-1),X=Math.max(0,ae-H.length+1);X<=ee;X++){var Q=ae-X,$=H.words[Q]|0,ne=U.words[X]|0,fe=$*ne,te=fe&67108863;ue=ue+(fe/67108864|0)|0,te=te+de|0,de=te&67108863,ue=ue+(te>>>26)|0,re+=ue>>>26,ue&=67108863}G.words[ae]=de,j=ue,ue=re}return j!==0?G.words[ae]=j:G.length--,G.strip()}function P(H,U,G){var j=new A;return j.mulp(H,U,G)}v.prototype.mulTo=function(U,G){var j,re=this.length+U.length;return this.length===10&&U.length===10?j=D(this,U,G):re<63?j=S(this,U,G):re<1024?j=T(this,U,G):j=P(this,U,G),j};function A(H,U){this.x=H,this.y=U}A.prototype.makeRBT=function(U){for(var G=new Array(U),j=v.prototype._countBits(U)-1,re=0;re<U;re++)G[re]=this.revBin(re,j,U);return G},A.prototype.revBin=function(U,G,j){if(U===0||U===j-1)return U;for(var re=0,ae=0;ae<G;ae++)re|=(U&1)<<G-ae-1,U>>=1;return re},A.prototype.permute=function(U,G,j,re,ae,ue){for(var de=0;de<ue;de++)re[de]=G[U[de]],ae[de]=j[U[de]]},A.prototype.transform=function(U,G,j,re,ae,ue){this.permute(ue,U,G,j,re,ae);for(var de=1;de<ae;de<<=1)for(var ee=de<<1,X=Math.cos(2*Math.PI/ee),Q=Math.sin(2*Math.PI/ee),$=0;$<ae;$+=ee)for(var ne=X,fe=Q,te=0;te<de;te++){var q=j[$+te],he=re[$+te],se=j[$+te+de],pe=re[$+te+de],we=ne*se-fe*pe;pe=ne*pe+fe*se,se=we,j[$+te]=q+se,re[$+te]=he+pe,j[$+te+de]=q-se,re[$+te+de]=he-pe,te!==ee&&(we=X*ne-Q*fe,fe=X*fe+Q*ne,ne=we)}},A.prototype.guessLen13b=function(U,G){var j=Math.max(G,U)|1,re=j&1,ae=0;for(j=j/2|0;j;j=j>>>1)ae++;return 1<<ae+1+re},A.prototype.conjugate=function(U,G,j){if(!(j<=1))for(var re=0;re<j/2;re++){var ae=U[re];U[re]=U[j-re-1],U[j-re-1]=ae,ae=G[re],G[re]=-G[j-re-1],G[j-re-1]=-ae}},A.prototype.normalize13b=function(U,G){for(var j=0,re=0;re<G/2;re++){var ae=Math.round(U[2*re+1]/G)*8192+Math.round(U[2*re]/G)+j;U[re]=ae&67108863,ae<67108864?j=0:j=ae/67108864|0}return U},A.prototype.convert13b=function(U,G,j,re){for(var ae=0,ue=0;ue<G;ue++)ae=ae+(U[ue]|0),j[2*ue]=ae&8191,ae=ae>>>13,j[2*ue+1]=ae&8191,ae=ae>>>13;for(ue=2*G;ue<re;++ue)j[ue]=0;i(ae===0),i((ae&-8192)===0)},A.prototype.stub=function(U){for(var G=new Array(U),j=0;j<U;j++)G[j]=0;return G},A.prototype.mulp=function(U,G,j){var re=2*this.guessLen13b(U.length,G.length),ae=this.makeRBT(re),ue=this.stub(re),de=new Array(re),ee=new Array(re),X=new Array(re),Q=new Array(re),$=new Array(re),ne=new Array(re),fe=j.words;fe.length=re,this.convert13b(U.words,U.length,de,re),this.convert13b(G.words,G.length,Q,re),this.transform(de,ue,ee,X,re,ae),this.transform(Q,ue,$,ne,re,ae);for(var te=0;te<re;te++){var q=ee[te]*$[te]-X[te]*ne[te];X[te]=ee[te]*ne[te]+X[te]*$[te],ee[te]=q}return this.conjugate(ee,X,re),this.transform(ee,X,fe,ue,re,ae),this.conjugate(fe,ue,re),this.normalize13b(fe,re),j.negative=U.negative^G.negative,j.length=U.length+G.length,j.strip()},v.prototype.mul=function(U){var G=new v(null);return G.words=new Array(this.length+U.length),this.mulTo(U,G)},v.prototype.mulf=function(U){var G=new v(null);return G.words=new Array(this.length+U.length),P(this,U,G)},v.prototype.imul=function(U){return this.clone().mulTo(U,this)},v.prototype.imuln=function(U){i(typeof U=="number"),i(U<67108864);for(var G=0,j=0;j<this.length;j++){var re=(this.words[j]|0)*U,ae=(re&67108863)+(G&67108863);G>>=26,G+=re/67108864|0,G+=ae>>>26,this.words[j]=ae&67108863}return G!==0&&(this.words[j]=G,this.length++),this},v.prototype.muln=function(U){return this.clone().imuln(U)},v.prototype.sqr=function(){return this.mul(this)},v.prototype.isqr=function(){return this.imul(this.clone())},v.prototype.pow=function(U){var G=C(U);if(G.length===0)return new v(1);for(var j=this,re=0;re<G.length&&G[re]===0;re++,j=j.sqr());if(++re<G.length)for(var ae=j.sqr();re<G.length;re++,ae=ae.sqr())G[re]!==0&&(j=j.mul(ae));return j},v.prototype.iushln=function(U){i(typeof U=="number"&&U>=0);var G=U%26,j=(U-G)/26,re=67108863>>>26-G<<26-G,ae;if(G!==0){var ue=0;for(ae=0;ae<this.length;ae++){var de=this.words[ae]&re,ee=(this.words[ae]|0)-de<<G;this.words[ae]=ee|ue,ue=de>>>26-G}ue&&(this.words[ae]=ue,this.length++)}if(j!==0){for(ae=this.length-1;ae>=0;ae--)this.words[ae+j]=this.words[ae];for(ae=0;ae<j;ae++)this.words[ae]=0;this.length+=j}return this.strip()},v.prototype.ishln=function(U){return i(this.negative===0),this.iushln(U)},v.prototype.iushrn=function(U,G,j){i(typeof U=="number"&&U>=0);var re;G?re=(G-G%26)/26:re=0;var ae=U%26,ue=Math.min((U-ae)/26,this.length),de=67108863^67108863>>>ae<<ae,ee=j;if(re-=ue,re=Math.max(0,re),ee){for(var X=0;X<ue;X++)ee.words[X]=this.words[X];ee.length=ue}if(ue!==0)if(this.length>ue)for(this.length-=ue,X=0;X<this.length;X++)this.words[X]=this.words[X+ue];else this.words[0]=0,this.length=1;var Q=0;for(X=this.length-1;X>=0&&(Q!==0||X>=re);X--){var $=this.words[X]|0;this.words[X]=Q<<26-ae|$>>>ae,Q=$&de}return ee&&Q!==0&&(ee.words[ee.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},v.prototype.ishrn=function(U,G,j){return i(this.negative===0),this.iushrn(U,G,j)},v.prototype.shln=function(U){return this.clone().ishln(U)},v.prototype.ushln=function(U){return this.clone().iushln(U)},v.prototype.shrn=function(U){return this.clone().ishrn(U)},v.prototype.ushrn=function(U){return this.clone().iushrn(U)},v.prototype.testn=function(U){i(typeof U=="number"&&U>=0);var G=U%26,j=(U-G)/26,re=1<<G;if(this.length<=j)return!1;var ae=this.words[j];return!!(ae&re)},v.prototype.imaskn=function(U){i(typeof U=="number"&&U>=0);var G=U%26,j=(U-G)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(G!==0&&j++,this.length=Math.min(j,this.length),G!==0){var re=67108863^67108863>>>G<<G;this.words[this.length-1]&=re}return this.strip()},v.prototype.maskn=function(U){return this.clone().imaskn(U)},v.prototype.iaddn=function(U){return i(typeof U=="number"),i(U<67108864),U<0?this.isubn(-U):this.negative!==0?this.length===1&&(this.words[0]|0)<U?(this.words[0]=U-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(U),this.negative=1,this):this._iaddn(U)},v.prototype._iaddn=function(U){this.words[0]+=U;for(var G=0;G<this.length&&this.words[G]>=67108864;G++)this.words[G]-=67108864,G===this.length-1?this.words[G+1]=1:this.words[G+1]++;return this.length=Math.max(this.length,G+1),this},v.prototype.isubn=function(U){if(i(typeof U=="number"),i(U<67108864),U<0)return this.iaddn(-U);if(this.negative!==0)return this.negative=0,this.iaddn(U),this.negative=1,this;if(this.words[0]-=U,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var G=0;G<this.length&&this.words[G]<0;G++)this.words[G]+=67108864,this.words[G+1]-=1;return this.strip()},v.prototype.addn=function(U){return this.clone().iaddn(U)},v.prototype.subn=function(U){return this.clone().isubn(U)},v.prototype.iabs=function(){return this.negative=0,this},v.prototype.abs=function(){return this.clone().iabs()},v.prototype._ishlnsubmul=function(U,G,j){var re=U.length+j,ae;this._expand(re);var ue,de=0;for(ae=0;ae<U.length;ae++){ue=(this.words[ae+j]|0)+de;var ee=(U.words[ae]|0)*G;ue-=ee&67108863,de=(ue>>26)-(ee/67108864|0),this.words[ae+j]=ue&67108863}for(;ae<this.length-j;ae++)ue=(this.words[ae+j]|0)+de,de=ue>>26,this.words[ae+j]=ue&67108863;if(de===0)return this.strip();for(i(de===-1),de=0,ae=0;ae<this.length;ae++)ue=-(this.words[ae]|0)+de,de=ue>>26,this.words[ae]=ue&67108863;return this.negative=1,this.strip()},v.prototype._wordDiv=function(U,G){var j=this.length-U.length,re=this.clone(),ae=U,ue=ae.words[ae.length-1]|0,de=this._countBits(ue);j=26-de,j!==0&&(ae=ae.ushln(j),re.iushln(j),ue=ae.words[ae.length-1]|0);var ee=re.length-ae.length,X;if(G!=="mod"){X=new v(null),X.length=ee+1,X.words=new Array(X.length);for(var Q=0;Q<X.length;Q++)X.words[Q]=0}var $=re.clone()._ishlnsubmul(ae,1,ee);$.negative===0&&(re=$,X&&(X.words[ee]=1));for(var ne=ee-1;ne>=0;ne--){var fe=(re.words[ae.length+ne]|0)*67108864+(re.words[ae.length+ne-1]|0);for(fe=Math.min(fe/ue|0,67108863),re._ishlnsubmul(ae,fe,ne);re.negative!==0;)fe--,re.negative=0,re._ishlnsubmul(ae,1,ne),re.isZero()||(re.negative^=1);X&&(X.words[ne]=fe)}return X&&X.strip(),re.strip(),G!=="div"&&j!==0&&re.iushrn(j),{div:X||null,mod:re}},v.prototype.divmod=function(U,G,j){if(i(!U.isZero()),this.isZero())return{div:new v(0),mod:new v(0)};var re,ae,ue;return this.negative!==0&&U.negative===0?(ue=this.neg().divmod(U,G),G!=="mod"&&(re=ue.div.neg()),G!=="div"&&(ae=ue.mod.neg(),j&&ae.negative!==0&&ae.iadd(U)),{div:re,mod:ae}):this.negative===0&&U.negative!==0?(ue=this.divmod(U.neg(),G),G!=="mod"&&(re=ue.div.neg()),{div:re,mod:ue.mod}):this.negative&U.negative?(ue=this.neg().divmod(U.neg(),G),G!=="div"&&(ae=ue.mod.neg(),j&&ae.negative!==0&&ae.isub(U)),{div:ue.div,mod:ae}):U.length>this.length||this.cmp(U)<0?{div:new v(0),mod:this}:U.length===1?G==="div"?{div:this.divn(U.words[0]),mod:null}:G==="mod"?{div:null,mod:new v(this.modn(U.words[0]))}:{div:this.divn(U.words[0]),mod:new v(this.modn(U.words[0]))}:this._wordDiv(U,G)},v.prototype.div=function(U){return this.divmod(U,"div",!1).div},v.prototype.mod=function(U){return this.divmod(U,"mod",!1).mod},v.prototype.umod=function(U){return this.divmod(U,"mod",!0).mod},v.prototype.divRound=function(U){var G=this.divmod(U);if(G.mod.isZero())return G.div;var j=G.div.negative!==0?G.mod.isub(U):G.mod,re=U.ushrn(1),ae=U.andln(1),ue=j.cmp(re);return ue<0||ae===1&&ue===0?G.div:G.div.negative!==0?G.div.isubn(1):G.div.iaddn(1)},v.prototype.modn=function(U){i(U<=67108863);for(var G=(1<<26)%U,j=0,re=this.length-1;re>=0;re--)j=(G*j+(this.words[re]|0))%U;return j},v.prototype.idivn=function(U){i(U<=67108863);for(var G=0,j=this.length-1;j>=0;j--){var re=(this.words[j]|0)+G*67108864;this.words[j]=re/U|0,G=re%U}return this.strip()},v.prototype.divn=function(U){return this.clone().idivn(U)},v.prototype.egcd=function(U){i(U.negative===0),i(!U.isZero());var G=this,j=U.clone();G.negative!==0?G=G.umod(U):G=G.clone();for(var re=new v(1),ae=new v(0),ue=new v(0),de=new v(1),ee=0;G.isEven()&&j.isEven();)G.iushrn(1),j.iushrn(1),++ee;for(var X=j.clone(),Q=G.clone();!G.isZero();){for(var $=0,ne=1;!(G.words[0]&ne)&&$<26;++$,ne<<=1);if($>0)for(G.iushrn($);$-- >0;)(re.isOdd()||ae.isOdd())&&(re.iadd(X),ae.isub(Q)),re.iushrn(1),ae.iushrn(1);for(var fe=0,te=1;!(j.words[0]&te)&&fe<26;++fe,te<<=1);if(fe>0)for(j.iushrn(fe);fe-- >0;)(ue.isOdd()||de.isOdd())&&(ue.iadd(X),de.isub(Q)),ue.iushrn(1),de.iushrn(1);G.cmp(j)>=0?(G.isub(j),re.isub(ue),ae.isub(de)):(j.isub(G),ue.isub(re),de.isub(ae))}return{a:ue,b:de,gcd:j.iushln(ee)}},v.prototype._invmp=function(U){i(U.negative===0),i(!U.isZero());var G=this,j=U.clone();G.negative!==0?G=G.umod(U):G=G.clone();for(var re=new v(1),ae=new v(0),ue=j.clone();G.cmpn(1)>0&&j.cmpn(1)>0;){for(var de=0,ee=1;!(G.words[0]&ee)&&de<26;++de,ee<<=1);if(de>0)for(G.iushrn(de);de-- >0;)re.isOdd()&&re.iadd(ue),re.iushrn(1);for(var X=0,Q=1;!(j.words[0]&Q)&&X<26;++X,Q<<=1);if(X>0)for(j.iushrn(X);X-- >0;)ae.isOdd()&&ae.iadd(ue),ae.iushrn(1);G.cmp(j)>=0?(G.isub(j),re.isub(ae)):(j.isub(G),ae.isub(re))}var $;return G.cmpn(1)===0?$=re:$=ae,$.cmpn(0)<0&&$.iadd(U),$},v.prototype.gcd=function(U){if(this.isZero())return U.abs();if(U.isZero())return this.abs();var G=this.clone(),j=U.clone();G.negative=0,j.negative=0;for(var re=0;G.isEven()&&j.isEven();re++)G.iushrn(1),j.iushrn(1);do{for(;G.isEven();)G.iushrn(1);for(;j.isEven();)j.iushrn(1);var ae=G.cmp(j);if(ae<0){var ue=G;G=j,j=ue}else if(ae===0||j.cmpn(1)===0)break;G.isub(j)}while(!0);return j.iushln(re)},v.prototype.invm=function(U){return this.egcd(U).a.umod(U)},v.prototype.isEven=function(){return(this.words[0]&1)===0},v.prototype.isOdd=function(){return(this.words[0]&1)===1},v.prototype.andln=function(U){return this.words[0]&U},v.prototype.bincn=function(U){i(typeof U=="number");var G=U%26,j=(U-G)/26,re=1<<G;if(this.length<=j)return this._expand(j+1),this.words[j]|=re,this;for(var ae=re,ue=j;ae!==0&&ue<this.length;ue++){var de=this.words[ue]|0;de+=ae,ae=de>>>26,de&=67108863,this.words[ue]=de}return ae!==0&&(this.words[ue]=ae,this.length++),this},v.prototype.isZero=function(){return this.length===1&&this.words[0]===0},v.prototype.cmpn=function(U){var G=U<0;if(this.negative!==0&&!G)return-1;if(this.negative===0&&G)return 1;this.strip();var j;if(this.length>1)j=1;else{G&&(U=-U),i(U<=67108863,"Number is too big");var re=this.words[0]|0;j=re===U?0:re<U?-1:1}return this.negative!==0?-j|0:j},v.prototype.cmp=function(U){if(this.negative!==0&&U.negative===0)return-1;if(this.negative===0&&U.negative!==0)return 1;var G=this.ucmp(U);return this.negative!==0?-G|0:G},v.prototype.ucmp=function(U){if(this.length>U.length)return 1;if(this.length<U.length)return-1;for(var G=0,j=this.length-1;j>=0;j--){var re=this.words[j]|0,ae=U.words[j]|0;if(re!==ae){re<ae?G=-1:re>ae&&(G=1);break}}return G},v.prototype.gtn=function(U){return this.cmpn(U)===1},v.prototype.gt=function(U){return this.cmp(U)===1},v.prototype.gten=function(U){return this.cmpn(U)>=0},v.prototype.gte=function(U){return this.cmp(U)>=0},v.prototype.ltn=function(U){return this.cmpn(U)===-1},v.prototype.lt=function(U){return this.cmp(U)===-1},v.prototype.lten=function(U){return this.cmpn(U)<=0},v.prototype.lte=function(U){return this.cmp(U)<=0},v.prototype.eqn=function(U){return this.cmpn(U)===0},v.prototype.eq=function(U){return this.cmp(U)===0},v.red=function(U){return new B(U)},v.prototype.toRed=function(U){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),U.convertTo(this)._forceRed(U)},v.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},v.prototype._forceRed=function(U){return this.red=U,this},v.prototype.forceRed=function(U){return i(!this.red,"Already a number in reduction context"),this._forceRed(U)},v.prototype.redAdd=function(U){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,U)},v.prototype.redIAdd=function(U){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,U)},v.prototype.redSub=function(U){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,U)},v.prototype.redISub=function(U){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,U)},v.prototype.redShl=function(U){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,U)},v.prototype.redMul=function(U){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,U),this.red.mul(this,U)},v.prototype.redIMul=function(U){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,U),this.red.imul(this,U)},v.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},v.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},v.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},v.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},v.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},v.prototype.redPow=function(U){return i(this.red&&!U.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,U)};var a={k256:null,p224:null,p192:null,p25519:null};function R(H,U){this.name=H,this.p=new v(U,16),this.n=this.p.bitLength(),this.k=new v(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var U=new v(null);return U.words=new Array(Math.ceil(this.n/13)),U},R.prototype.ireduce=function(U){var G=U,j;do this.split(G,this.tmp),G=this.imulK(G),G=G.iadd(this.tmp),j=G.bitLength();while(j>this.n);var re=j<this.n?-1:G.ucmp(this.p);return re===0?(G.words[0]=0,G.length=1):re>0?G.isub(this.p):G.strip!==void 0?G.strip():G._strip(),G},R.prototype.split=function(U,G){U.iushrn(this.n,0,G)},R.prototype.imulK=function(U){return U.imul(this.k)};function b(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(b,R),b.prototype.split=function(U,G){for(var j=4194303,re=Math.min(U.length,9),ae=0;ae<re;ae++)G.words[ae]=U.words[ae];if(G.length=re,U.length<=9){U.words[0]=0,U.length=1;return}var ue=U.words[9];for(G.words[G.length++]=ue&j,ae=10;ae<U.length;ae++){var de=U.words[ae]|0;U.words[ae-10]=(de&j)<<4|ue>>>22,ue=de}ue>>>=22,U.words[ae-10]=ue,ue===0&&U.length>10?U.length-=10:U.length-=9},b.prototype.imulK=function(U){U.words[U.length]=0,U.words[U.length+1]=0,U.length+=2;for(var G=0,j=0;j<U.length;j++){var re=U.words[j]|0;G+=re*977,U.words[j]=G&67108863,G=re*64+(G/67108864|0)}return U.words[U.length-1]===0&&(U.length--,U.words[U.length-1]===0&&U.length--),U};function N(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(N,R);function O(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(O,R);function Y(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(Y,R),Y.prototype.imulK=function(U){for(var G=0,j=0;j<U.length;j++){var re=(U.words[j]|0)*19+G,ae=re&67108863;re>>>=26,U.words[j]=ae,G=re}return G!==0&&(U.words[U.length++]=G),U},v._prime=function(U){if(a[U])return a[U];var G;if(U==="k256")G=new b;else if(U==="p224")G=new N;else if(U==="p192")G=new O;else if(U==="p25519")G=new Y;else throw new Error("Unknown prime "+U);return a[U]=G,G};function B(H){if(typeof H=="string"){var U=v._prime(H);this.m=U.p,this.prime=U}else i(H.gtn(1),"modulus must be greater than 1"),this.m=H,this.prime=null}B.prototype._verify1=function(U){i(U.negative===0,"red works only with positives"),i(U.red,"red works only with red numbers")},B.prototype._verify2=function(U,G){i((U.negative|G.negative)===0,"red works only with positives"),i(U.red&&U.red===G.red,"red works only with red numbers")},B.prototype.imod=function(U){return this.prime?this.prime.ireduce(U)._forceRed(this):U.umod(this.m)._forceRed(this)},B.prototype.neg=function(U){return U.isZero()?U.clone():this.m.sub(U)._forceRed(this)},B.prototype.add=function(U,G){this._verify2(U,G);var j=U.add(G);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},B.prototype.iadd=function(U,G){this._verify2(U,G);var j=U.iadd(G);return j.cmp(this.m)>=0&&j.isub(this.m),j},B.prototype.sub=function(U,G){this._verify2(U,G);var j=U.sub(G);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},B.prototype.isub=function(U,G){this._verify2(U,G);var j=U.isub(G);return j.cmpn(0)<0&&j.iadd(this.m),j},B.prototype.shl=function(U,G){return this._verify1(U),this.imod(U.ushln(G))},B.prototype.imul=function(U,G){return this._verify2(U,G),this.imod(U.imul(G))},B.prototype.mul=function(U,G){return this._verify2(U,G),this.imod(U.mul(G))},B.prototype.isqr=function(U){return this.imul(U,U.clone())},B.prototype.sqr=function(U){return this.mul(U,U)},B.prototype.sqrt=function(U){if(U.isZero())return U.clone();var G=this.m.andln(3);if(i(G%2===1),G===3){var j=this.m.add(new v(1)).iushrn(2);return this.pow(U,j)}for(var re=this.m.subn(1),ae=0;!re.isZero()&&re.andln(1)===0;)ae++,re.iushrn(1);i(!re.isZero());var ue=new v(1).toRed(this),de=ue.redNeg(),ee=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new v(2*X*X).toRed(this);this.pow(X,ee).cmp(de)!==0;)X.redIAdd(de);for(var Q=this.pow(X,re),$=this.pow(U,re.addn(1).iushrn(1)),ne=this.pow(U,re),fe=ae;ne.cmp(ue)!==0;){for(var te=ne,q=0;te.cmp(ue)!==0;q++)te=te.redSqr();i(q<fe);var he=this.pow(Q,new v(1).iushln(fe-q-1));$=$.redMul(he),Q=he.redSqr(),ne=ne.redMul(Q),fe=q}return $},B.prototype.invm=function(U){var G=U._invmp(this.m);return G.negative!==0?(G.negative=0,this.imod(G).redNeg()):this.imod(G)},B.prototype.pow=function(U,G){if(G.isZero())return new v(1).toRed(this);if(G.cmpn(1)===0)return U.clone();var j=4,re=new Array(1<<j);re[0]=new v(1).toRed(this),re[1]=U;for(var ae=2;ae<re.length;ae++)re[ae]=this.mul(re[ae-1],U);var ue=re[0],de=0,ee=0,X=G.bitLength()%26;for(X===0&&(X=26),ae=G.length-1;ae>=0;ae--){for(var Q=G.words[ae],$=X-1;$>=0;$--){var ne=Q>>$&1;if(ue!==re[0]&&(ue=this.sqr(ue)),ne===0&&de===0){ee=0;continue}de<<=1,de|=ne,ee++,!(ee!==j&&(ae!==0||$!==0))&&(ue=this.mul(ue,re[de]),ee=0,de=0)}X=26}return ue},B.prototype.convertTo=function(U){var G=U.umod(this.m);return G===U?G.clone():G},B.prototype.convertFrom=function(U){var G=U.clone();return G.red=null,G},v.mont=function(U){return new W(U)};function W(H){B.call(this,H),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new v(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(W,B),W.prototype.convertTo=function(U){return this.imod(U.ushln(this.shift))},W.prototype.convertFrom=function(U){var G=this.imod(U.mul(this.rinv));return G.red=null,G},W.prototype.imul=function(U,G){if(U.isZero()||G.isZero())return U.words[0]=0,U.length=1,U;var j=U.imul(G),re=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ae=j.isub(re).iushrn(this.shift),ue=ae;return ae.cmp(this.m)>=0?ue=ae.isub(this.m):ae.cmpn(0)<0&&(ue=ae.iadd(this.m)),ue._forceRed(this)},W.prototype.mul=function(U,G){if(U.isZero()||G.isZero())return new v(0)._forceRed(this);var j=U.mul(G),re=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ae=j.isub(re).iushrn(this.shift),ue=ae;return ae.cmp(this.m)>=0?ue=ae.isub(this.m):ae.cmpn(0)<0&&(ue=ae.iadd(this.m)),ue._forceRed(this)},W.prototype.invm=function(U){var G=this.imod(U._invmp(this.m).mul(this.r2));return G._forceRed(this)}}(p,this)},2692:function(p){p.exports=m;function m(t){var r,l,i,f=t.length,v=0;for(r=0;r<f;++r)v+=t[r].length;var c=new Array(v),x=0;for(r=0;r<f;++r){var d=t[r],M=d.length;for(l=0;l<M;++l){var g=c[x++]=new Array(M-1),u=0;for(i=0;i<M;++i)i!==l&&(g[u++]=d[i]);if(l&1){var y=g[1];g[1]=g[0],g[0]=y}}}return c}},2569:function(p,m,t){p.exports=u;var r=t(5306),l=t(1390),i=t(2337);function f(y,C){for(var S=0;S<y;++S)if(!(C[S]<=C[S+y]))return!0;return!1}function v(y,C,S,D){for(var T=0,P=0,A=0,a=y.length;A<a;++A){var R=y[A];if(!f(C,R)){for(var b=0;b<2*C;++b)S[T++]=R[b];D[P++]=A}}return P}function c(y,C,S,D){var T=y.length,P=C.length;if(!(T<=0||P<=0)){var A=y[0].length>>>1;if(!(A<=0)){var a,R=r.mallocDouble(2*A*T),b=r.mallocInt32(T);if(T=v(y,A,R,b),T>0){if(A===1&&D)l.init(T),a=l.sweepComplete(A,S,0,T,R,b,0,T,R,b);else{var N=r.mallocDouble(2*A*P),O=r.mallocInt32(P);P=v(C,A,N,O),P>0&&(l.init(T+P),A===1?a=l.sweepBipartite(A,S,0,T,R,b,0,P,N,O):a=i(A,S,D,T,R,b,P,N,O),r.free(N),r.free(O))}r.free(R),r.free(b)}return a}}}var x;function d(y,C){x.push([y,C])}function M(y){return x=[],c(y,y,d,!0),x}function g(y,C){return x=[],c(y,C,d,!1),x}function u(y,C,S){switch(arguments.length){case 1:return M(y);case 2:return typeof C=="function"?c(y,y,C,!0):g(y,C);case 3:return c(y,C,S,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(p,m){function t(){function i(c,x,d,M,g,u,y,C,S,D,T){for(var P=2*c,A=M,a=P*M;A<g;++A,a+=P){var R=u[x+a],b=u[x+a+c],N=y[A];e:for(var O=C,Y=P*C;O<S;++O,Y+=P){var B=D[x+Y],W=D[x+Y+c],H=T[O];if(!(W<R||b<B)){for(var U=x+1;U<c;++U){var G=u[U+a],j=u[U+c+a],re=D[U+Y],ae=D[U+c+Y];if(j<re||ae<G)continue e}var ue=d(N,H);if(ue!==void 0)return ue}}}}function f(c,x,d,M,g,u,y,C,S,D,T){for(var P=2*c,A=C,a=P*C;A<S;++A,a+=P){var R=D[x+a],b=D[x+a+c],N=T[A];e:for(var O=M,Y=P*M;O<g;++O,Y+=P){var B=u[x+Y],W=u[x+Y+c],H=y[O];if(!(b<B||W<R)){for(var U=x+1;U<c;++U){var G=u[U+Y],j=u[U+c+Y],re=D[U+a],ae=D[U+c+a];if(j<re||ae<G)continue e}var ue=d(H,N);if(ue!==void 0)return ue}}}}function v(c,x,d,M,g,u,y,C,S,D,T){return g-M>S-C?i(c,x,d,M,g,u,y,C,S,D,T):f(c,x,d,M,g,u,y,C,S,D,T)}return v}function r(){function i(d,M,g,u,y,C,S,D,T,P,A){for(var a=2*d,R=u,b=a*u;R<y;++R,b+=a){var N=C[M+b],O=C[M+b+d],Y=S[R];e:for(var B=D,W=a*D;B<T;++B,W+=a){var H=P[M+W],U=A[B];if(!(H<=N||O<H)){for(var G=M+1;G<d;++G){var j=C[G+b],re=C[G+d+b],ae=P[G+W],ue=P[G+d+W];if(re<ae||ue<j)continue e}var de=g(U,Y);if(de!==void 0)return de}}}}function f(d,M,g,u,y,C,S,D,T,P,A){for(var a=2*d,R=u,b=a*u;R<y;++R,b+=a){var N=C[M+b],O=C[M+b+d],Y=S[R];e:for(var B=D,W=a*D;B<T;++B,W+=a){var H=P[M+W],U=A[B];if(!(H<N||O<H)){for(var G=M+1;G<d;++G){var j=C[G+b],re=C[G+d+b],ae=P[G+W],ue=P[G+d+W];if(re<ae||ue<j)continue e}var de=g(Y,U);if(de!==void 0)return de}}}}function v(d,M,g,u,y,C,S,D,T,P,A){for(var a=2*d,R=D,b=a*D;R<T;++R,b+=a){var N=P[M+b],O=A[R];e:for(var Y=u,B=a*u;Y<y;++Y,B+=a){var W=C[M+B],H=C[M+B+d],U=S[Y];if(!(N<=W||H<N)){for(var G=M+1;G<d;++G){var j=C[G+B],re=C[G+d+B],ae=P[G+b],ue=P[G+d+b];if(re<ae||ue<j)continue e}var de=g(O,U);if(de!==void 0)return de}}}}function c(d,M,g,u,y,C,S,D,T,P,A){for(var a=2*d,R=D,b=a*D;R<T;++R,b+=a){var N=P[M+b],O=A[R];e:for(var Y=u,B=a*u;Y<y;++Y,B+=a){var W=C[M+B],H=C[M+B+d],U=S[Y];if(!(N<W||H<N)){for(var G=M+1;G<d;++G){var j=C[G+B],re=C[G+d+B],ae=P[G+b],ue=P[G+d+b];if(re<ae||ue<j)continue e}var de=g(U,O);if(de!==void 0)return de}}}}function x(d,M,g,u,y,C,S,D,T,P,A,a){return C-y>P-T?u?i(d,M,g,y,C,S,D,T,P,A,a):f(d,M,g,y,C,S,D,T,P,A,a):u?v(d,M,g,y,C,S,D,T,P,A,a):c(d,M,g,y,C,S,D,T,P,A,a)}return x}function l(i){return i?t():r()}m.partial=l(!1),m.full=l(!0)},2337:function(p,m,t){p.exports=H;var r=t(5306),l=t(2288),i=t(7333),f=i.partial,v=i.full,c=t(1390),x=t(2464),d=t(122),M=128,g=1<<22,u=1<<22,y=d("!(lo>=p0)&&!(p1>=hi)"),C=d("lo===p0"),S=d("lo<p0"),D=d("hi<=p0"),T=d("lo<=p0&&p0<=hi"),P=d("lo<p0&&p0<=hi"),A=6,a=2,R=1024,b=r.mallocInt32(R),N=r.mallocDouble(R);function O(U,G){var j=8*l.log2(G+1)*(U+1)|0,re=l.nextPow2(A*j);b.length<re&&(r.free(b),b=r.mallocInt32(re));var ae=l.nextPow2(a*j);N.length<ae&&(r.free(N),N=r.mallocDouble(ae))}function Y(U,G,j,re,ae,ue,de,ee,X){var Q=A*U;b[Q]=G,b[Q+1]=j,b[Q+2]=re,b[Q+3]=ae,b[Q+4]=ue,b[Q+5]=de;var $=a*U;N[$]=ee,N[$+1]=X}function B(U,G,j,re,ae,ue,de,ee,X,Q,$){var ne=2*U,fe=X*ne,te=Q[fe+G];e:for(var q=ae,he=ae*ne;q<ue;++q,he+=ne){var se=de[he+G],pe=de[he+G+U];if(!(te<se||pe<te)&&!(re&&te===se)){for(var we=ee[q],Ee=G+1;Ee<U;++Ee){var se=de[he+Ee],pe=de[he+Ee+U],Me=Q[fe+Ee],Be=Q[fe+Ee+U];if(pe<Me||Be<se)continue e}var Ne;if(re?Ne=j($,we):Ne=j(we,$),Ne!==void 0)return Ne}}}function W(U,G,j,re,ae,ue,de,ee,X,Q){var $=2*U,ne=ee*$,fe=X[ne+G];e:for(var te=re,q=re*$;te<ae;++te,q+=$){var he=de[te];if(he!==Q){var se=ue[q+G],pe=ue[q+G+U];if(!(fe<se||pe<fe)){for(var we=G+1;we<U;++we){var se=ue[q+we],pe=ue[q+we+U],Ee=X[ne+we],Me=X[ne+we+U];if(pe<Ee||Me<se)continue e}var Be=j(he,Q);if(Be!==void 0)return Be}}}}function H(U,G,j,re,ae,ue,de,ee,X){O(U,re+de);var Q=0,$=2*U,ne;for(Y(Q++,0,0,re,0,de,j?16:0,-1/0,1/0),j||Y(Q++,0,0,de,0,re,1,-1/0,1/0);Q>0;){Q-=1;var fe=Q*A,te=b[fe],q=b[fe+1],he=b[fe+2],se=b[fe+3],pe=b[fe+4],we=b[fe+5],Ee=Q*a,Me=N[Ee],Be=N[Ee+1],Ne=we&1,Ce=!!(we&16),Te=ae,Le=ue,Ve=ee,We=X;if(Ne&&(Te=ee,Le=X,Ve=ae,We=ue),!(we&2&&(he=S(U,te,q,he,Te,Le,Be),q>=he))&&!(we&4&&(q=D(U,te,q,he,Te,Le,Me),q>=he))){var Fe=he-q,Ge=pe-se;if(Ce){if(U*Fe*(Fe+Ge)<u){if(ne=c.scanComplete(U,te,G,q,he,Te,Le,se,pe,Ve,We),ne!==void 0)return ne;continue}}else if(U*Math.min(Fe,Ge)<M){if(ne=f(U,te,G,Ne,q,he,Te,Le,se,pe,Ve,We),ne!==void 0)return ne;continue}else if(U*Fe*Ge<g){if(ne=c.scanBipartite(U,te,G,Ne,q,he,Te,Le,se,pe,Ve,We),ne!==void 0)return ne;continue}var it=y(U,te,q,he,Te,Le,Me,Be);if(q<it)if(U*(it-q)<M){if(ne=v(U,te+1,G,q,it,Te,Le,se,pe,Ve,We),ne!==void 0)return ne}else if(te===U-2){if(Ne?ne=c.sweepBipartite(U,G,se,pe,Ve,We,q,it,Te,Le):ne=c.sweepBipartite(U,G,q,it,Te,Le,se,pe,Ve,We),ne!==void 0)return ne}else Y(Q++,te+1,q,it,se,pe,Ne,-1/0,1/0),Y(Q++,te+1,se,pe,q,it,Ne^1,-1/0,1/0);if(it<he){var qe=x(U,te,se,pe,Ve,We),$e=Ve[$*qe+te],tt=C(U,te,qe,pe,Ve,We,$e);if(tt<pe&&Y(Q++,te,it,he,tt,pe,(Ne|4)+(Ce?16:0),$e,Be),se<qe&&Y(Q++,te,it,he,se,qe,(Ne|2)+(Ce?16:0),Me,$e),qe+1===tt){if(Ce?ne=W(U,te,G,it,he,Te,Le,qe,Ve,We[qe]):ne=B(U,te,G,Ne,it,he,Te,Le,qe,Ve,We[qe]),ne!==void 0)return ne}else if(qe<tt){var vt;if(Ce){if(vt=T(U,te,it,he,Te,Le,$e),it<vt){var dt=C(U,te,it,vt,Te,Le,$e);if(te===U-2){if(it<dt&&(ne=c.sweepComplete(U,G,it,dt,Te,Le,qe,tt,Ve,We),ne!==void 0)||dt<vt&&(ne=c.sweepBipartite(U,G,dt,vt,Te,Le,qe,tt,Ve,We),ne!==void 0))return ne}else it<dt&&Y(Q++,te+1,it,dt,qe,tt,16,-1/0,1/0),dt<vt&&(Y(Q++,te+1,dt,vt,qe,tt,0,-1/0,1/0),Y(Q++,te+1,qe,tt,dt,vt,1,-1/0,1/0))}}else Ne?vt=P(U,te,it,he,Te,Le,$e):vt=T(U,te,it,he,Te,Le,$e),it<vt&&(te===U-2?Ne?ne=c.sweepBipartite(U,G,qe,tt,Ve,We,it,vt,Te,Le):ne=c.sweepBipartite(U,G,it,vt,Te,Le,qe,tt,Ve,We):(Y(Q++,te+1,it,vt,qe,tt,Ne,-1/0,1/0),Y(Q++,te+1,qe,tt,it,vt,Ne^1,-1/0,1/0)))}}}}}},2464:function(p,m,t){p.exports=v;var r=t(122),l=r("lo<p0"),i=8;function f(c,x,d,M,g,u){for(var y=2*c,C=y*(d+1)+x,S=d+1;S<M;++S,C+=y)for(var D=g[C],T=S,P=y*(S-1);T>d&&g[P+x]>D;--T,P-=y){for(var A=P,a=P+y,R=0;R<y;++R,++A,++a){var b=g[A];g[A]=g[a],g[a]=b}var N=u[T];u[T]=u[T-1],u[T-1]=N}}function v(c,x,d,M,g,u){if(M<=d+1)return d;for(var y=d,C=M,S=M+d>>>1,D=2*c,T=S,P=g[D*S+x];y<C;){if(C-y<i){f(c,x,y,C,g,u),P=g[D*S+x];break}var A=C-y,a=Math.random()*A+y|0,R=g[D*a+x],b=Math.random()*A+y|0,N=g[D*b+x],O=Math.random()*A+y|0,Y=g[D*O+x];R<=N?Y>=N?(T=b,P=N):R>=Y?(T=a,P=R):(T=O,P=Y):N>=Y?(T=b,P=N):Y>=R?(T=a,P=R):(T=O,P=Y);for(var H=D*(C-1),U=D*T,B=0;B<D;++B,++H,++U){var W=g[H];g[H]=g[U],g[U]=W}var G=u[C-1];u[C-1]=u[T],u[T]=G,T=l(c,x,y,C-1,g,u,P);for(var H=D*(C-1),U=D*T,B=0;B<D;++B,++H,++U){var W=g[H];g[H]=g[U],g[U]=W}var G=u[C-1];if(u[C-1]=u[T],u[T]=G,S<T){for(C=T-1;y<C&&g[D*(C-1)+x]===P;)C-=1;C+=1}else if(T<S)for(y=T+1;y<C&&g[D*y+x]===P;)y+=1;else break}return l(c,x,d,S,g,u,g[D*S+x])}},122:function(p){p.exports=t;var m={"lo===p0":r,"lo<p0":l,"lo<=p0":i,"hi<=p0":f,"lo<p0&&p0<=hi":c,"lo<=p0&&p0<=hi":v,"!(lo>=p0)&&!(p1>=hi)":x};function t(d){return m[d]}function r(d,M,g,u,y,C,S){for(var D=2*d,T=D*g,P=T,A=g,a=M,R=d+M,b=g;u>b;++b,T+=D){var N=y[T+a];if(N===S)if(A===b)A+=1,P+=D;else{for(var O=0;D>O;++O){var Y=y[T+O];y[T+O]=y[P],y[P++]=Y}var B=C[b];C[b]=C[A],C[A++]=B}}return A}function l(d,M,g,u,y,C,S){for(var D=2*d,T=D*g,P=T,A=g,a=M,R=d+M,b=g;u>b;++b,T+=D){var N=y[T+a];if(N<S)if(A===b)A+=1,P+=D;else{for(var O=0;D>O;++O){var Y=y[T+O];y[T+O]=y[P],y[P++]=Y}var B=C[b];C[b]=C[A],C[A++]=B}}return A}function i(d,M,g,u,y,C,S){for(var D=2*d,T=D*g,P=T,A=g,a=M,R=d+M,b=g;u>b;++b,T+=D){var N=y[T+R];if(N<=S)if(A===b)A+=1,P+=D;else{for(var O=0;D>O;++O){var Y=y[T+O];y[T+O]=y[P],y[P++]=Y}var B=C[b];C[b]=C[A],C[A++]=B}}return A}function f(d,M,g,u,y,C,S){for(var D=2*d,T=D*g,P=T,A=g,a=M,R=d+M,b=g;u>b;++b,T+=D){var N=y[T+R];if(N<=S)if(A===b)A+=1,P+=D;else{for(var O=0;D>O;++O){var Y=y[T+O];y[T+O]=y[P],y[P++]=Y}var B=C[b];C[b]=C[A],C[A++]=B}}return A}function v(d,M,g,u,y,C,S){for(var D=2*d,T=D*g,P=T,A=g,a=M,R=d+M,b=g;u>b;++b,T+=D){var N=y[T+a],O=y[T+R];if(N<=S&&S<=O)if(A===b)A+=1,P+=D;else{for(var Y=0;D>Y;++Y){var B=y[T+Y];y[T+Y]=y[P],y[P++]=B}var W=C[b];C[b]=C[A],C[A++]=W}}return A}function c(d,M,g,u,y,C,S){for(var D=2*d,T=D*g,P=T,A=g,a=M,R=d+M,b=g;u>b;++b,T+=D){var N=y[T+a],O=y[T+R];if(N<S&&S<=O)if(A===b)A+=1,P+=D;else{for(var Y=0;D>Y;++Y){var B=y[T+Y];y[T+Y]=y[P],y[P++]=B}var W=C[b];C[b]=C[A],C[A++]=W}}return A}function x(d,M,g,u,y,C,S,D){for(var T=2*d,P=T*g,A=P,a=g,R=M,b=d+M,N=g;u>N;++N,P+=T){var O=y[P+R],Y=y[P+b];if(!(O>=S)&&!(D>=Y))if(a===N)a+=1,A+=T;else{for(var B=0;T>B;++B){var W=y[P+B];y[P+B]=y[A],y[A++]=W}var H=C[N];C[N]=C[a],C[a++]=H}}return a}},309:function(p){p.exports=t;var m=32;function t(M,g){g<=4*m?r(0,g-1,M):d(0,g-1,M)}function r(M,g,u){for(var y=2*(M+1),C=M+1;C<=g;++C){for(var S=u[y++],D=u[y++],T=C,P=y-2;T-- >M;){var A=u[P-2],a=u[P-1];if(A<S)break;if(A===S&&a<D)break;u[P]=A,u[P+1]=a,P-=2}u[P]=S,u[P+1]=D}}function l(M,g,u){M*=2,g*=2;var y=u[M],C=u[M+1];u[M]=u[g],u[M+1]=u[g+1],u[g]=y,u[g+1]=C}function i(M,g,u){M*=2,g*=2,u[M]=u[g],u[M+1]=u[g+1]}function f(M,g,u,y){M*=2,g*=2,u*=2;var C=y[M],S=y[M+1];y[M]=y[g],y[M+1]=y[g+1],y[g]=y[u],y[g+1]=y[u+1],y[u]=C,y[u+1]=S}function v(M,g,u,y,C){M*=2,g*=2,C[M]=C[g],C[g]=u,C[M+1]=C[g+1],C[g+1]=y}function c(M,g,u){M*=2,g*=2;var y=u[M],C=u[g];return y<C?!1:y===C?u[M+1]>u[g+1]:!0}function x(M,g,u,y){M*=2;var C=y[M];return C<g?!0:C===g?y[M+1]<u:!1}function d(M,g,u){var y=(g-M+1)/6|0,C=M+y,S=g-y,D=M+g>>1,T=D-y,P=D+y,A=C,a=T,R=D,b=P,N=S,O=M+1,Y=g-1,B=0;c(A,a,u)&&(B=A,A=a,a=B),c(b,N,u)&&(B=b,b=N,N=B),c(A,R,u)&&(B=A,A=R,R=B),c(a,R,u)&&(B=a,a=R,R=B),c(A,b,u)&&(B=A,A=b,b=B),c(R,b,u)&&(B=R,R=b,b=B),c(a,N,u)&&(B=a,a=N,N=B),c(a,R,u)&&(B=a,a=R,R=B),c(b,N,u)&&(B=b,b=N,N=B);for(var W=u[2*a],H=u[2*a+1],U=u[2*b],G=u[2*b+1],j=2*A,re=2*R,ae=2*N,ue=2*C,de=2*D,ee=2*S,X=0;X<2;++X){var Q=u[j+X],$=u[re+X],ne=u[ae+X];u[ue+X]=Q,u[de+X]=$,u[ee+X]=ne}i(T,M,u),i(P,g,u);for(var fe=O;fe<=Y;++fe)if(x(fe,W,H,u))fe!==O&&l(fe,O,u),++O;else if(!x(fe,U,G,u))for(;;)if(x(Y,U,G,u)){x(Y,W,H,u)?(f(fe,O,Y,u),++O,--Y):(l(fe,Y,u),--Y);break}else{if(--Y<fe)break;continue}v(M,O-1,W,H,u),v(g,Y+1,U,G,u),O-2-M<=m?r(M,O-2,u):d(M,O-2,u),g-(Y+2)<=m?r(Y+2,g,u):d(Y+2,g,u),Y-O<=m?r(O,Y,u):d(O,Y,u)}},1390:function(p,m,t){p.exports={init:C,sweepBipartite:T,sweepComplete:P,scanBipartite:A,scanComplete:a};var r=t(5306),l=t(2288),i=t(309),f=1<<28,v=1024,c=r.mallocInt32(v),x=r.mallocInt32(v),d=r.mallocInt32(v),M=r.mallocInt32(v),g=r.mallocInt32(v),u=r.mallocInt32(v),y=r.mallocDouble(v*8);function C(R){var b=l.nextPow2(R);c.length<b&&(r.free(c),c=r.mallocInt32(b)),x.length<b&&(r.free(x),x=r.mallocInt32(b)),d.length<b&&(r.free(d),d=r.mallocInt32(b)),M.length<b&&(r.free(M),M=r.mallocInt32(b)),g.length<b&&(r.free(g),g=r.mallocInt32(b)),u.length<b&&(r.free(u),u=r.mallocInt32(b));var N=8*b;y.length<N&&(r.free(y),y=r.mallocDouble(N))}function S(R,b,N,O){var Y=b[O],B=R[N-1];R[Y]=B,b[B]=Y}function D(R,b,N,O){R[N]=O,b[O]=N}function T(R,b,N,O,Y,B,W,H,U,G){for(var j=0,re=2*R,ae=R-1,ue=re-1,de=N;de<O;++de){var ee=B[de],X=re*de;y[j++]=Y[X+ae],y[j++]=-(ee+1),y[j++]=Y[X+ue],y[j++]=ee}for(var de=W;de<H;++de){var ee=G[de]+f,Q=re*de;y[j++]=U[Q+ae],y[j++]=-ee,y[j++]=U[Q+ue],y[j++]=ee}var $=j>>>1;i(y,$);for(var ne=0,fe=0,de=0;de<$;++de){var te=y[2*de+1]|0;if(te>=f)te=te-f|0,S(d,M,fe--,te);else if(te>=0)S(c,x,ne--,te);else if(te<=-f){te=-te-f|0;for(var q=0;q<ne;++q){var he=b(c[q],te);if(he!==void 0)return he}D(d,M,fe++,te)}else{te=-te-1|0;for(var q=0;q<fe;++q){var he=b(te,d[q]);if(he!==void 0)return he}D(c,x,ne++,te)}}}function P(R,b,N,O,Y,B,W,H,U,G){for(var j=0,re=2*R,ae=R-1,ue=re-1,de=N;de<O;++de){var ee=B[de]+1<<1,X=re*de;y[j++]=Y[X+ae],y[j++]=-ee,y[j++]=Y[X+ue],y[j++]=ee}for(var de=W;de<H;++de){var ee=G[de]+1<<1,Q=re*de;y[j++]=U[Q+ae],y[j++]=-ee|1,y[j++]=U[Q+ue],y[j++]=ee|1}var $=j>>>1;i(y,$);for(var ne=0,fe=0,te=0,de=0;de<$;++de){var q=y[2*de+1]|0,he=q&1;if(de<$-1&&q>>1===y[2*de+3]>>1&&(he=2,de+=1),q<0){for(var se=-(q>>1)-1,pe=0;pe<te;++pe){var we=b(g[pe],se);if(we!==void 0)return we}if(he!==0)for(var pe=0;pe<ne;++pe){var we=b(c[pe],se);if(we!==void 0)return we}if(he!==1)for(var pe=0;pe<fe;++pe){var we=b(d[pe],se);if(we!==void 0)return we}he===0?D(c,x,ne++,se):he===1?D(d,M,fe++,se):he===2&&D(g,u,te++,se)}else{var se=(q>>1)-1;he===0?S(c,x,ne--,se):he===1?S(d,M,fe--,se):he===2&&S(g,u,te--,se)}}}function A(R,b,N,O,Y,B,W,H,U,G,j,re){var ae=0,ue=2*R,de=b,ee=b+R,X=1,Q=1;O?Q=f:X=f;for(var $=Y;$<B;++$){var ne=$+X,fe=ue*$;y[ae++]=W[fe+de],y[ae++]=-ne,y[ae++]=W[fe+ee],y[ae++]=ne}for(var $=U;$<G;++$){var ne=$+Q,te=ue*$;y[ae++]=j[te+de],y[ae++]=-ne}var q=ae>>>1;i(y,q);for(var he=0,$=0;$<q;++$){var se=y[2*$+1]|0;if(se<0){var ne=-se,pe=!1;if(ne>=f?(pe=!O,ne-=f):(pe=!!O,ne-=1),pe)D(c,x,he++,ne);else{var we=re[ne],Ee=ue*ne,Me=j[Ee+b+1],Be=j[Ee+b+1+R];e:for(var Ne=0;Ne<he;++Ne){var Ce=c[Ne],Te=ue*Ce;if(!(Be<W[Te+b+1]||W[Te+b+1+R]<Me)){for(var Le=b+2;Le<R;++Le)if(j[Ee+Le+R]<W[Te+Le]||W[Te+Le+R]<j[Ee+Le])continue e;var Ve=H[Ce],We;if(O?We=N(we,Ve):We=N(Ve,we),We!==void 0)return We}}}}else S(c,x,he--,se-X)}}function a(R,b,N,O,Y,B,W,H,U,G,j){for(var re=0,ae=2*R,ue=b,de=b+R,ee=O;ee<Y;++ee){var X=ee+f,Q=ae*ee;y[re++]=B[Q+ue],y[re++]=-X,y[re++]=B[Q+de],y[re++]=X}for(var ee=H;ee<U;++ee){var X=ee+1,$=ae*ee;y[re++]=G[$+ue],y[re++]=-X}var ne=re>>>1;i(y,ne);for(var fe=0,ee=0;ee<ne;++ee){var te=y[2*ee+1]|0;if(te<0){var X=-te;if(X>=f)c[fe++]=X-f;else{X-=1;var q=j[X],he=ae*X,se=G[he+b+1],pe=G[he+b+1+R];e:for(var we=0;we<fe;++we){var Ee=c[we],Me=W[Ee];if(Me===q)break;var Be=ae*Ee;if(!(pe<B[Be+b+1]||B[Be+b+1+R]<se)){for(var Ne=b+2;Ne<R;++Ne)if(G[he+Ne+R]<B[Be+Ne]||B[Be+Ne+R]<G[he+Ne])continue e;var Ce=N(Me,q);if(Ce!==void 0)return Ce}}}}else{for(var X=te-f,we=fe-1;we>=0;--we)if(c[we]===X){for(var Ne=we+1;Ne<fe;++Ne)c[Ne-1]=c[Ne];break}--fe}}}},7761:function(p,m,t){var r=t(9971),l=t(743),i=t(2161),f=t(7098);p.exports=M;function v(g){return[Math.min(g[0],g[1]),Math.max(g[0],g[1])]}function c(g,u){return g[0]-u[0]||g[1]-u[1]}function x(g){return g.map(v).sort(c)}function d(g,u,y){return u in g?g[u]:y}function M(g,u,y){Array.isArray(u)?(y=y||{},u=u||[]):(y=u||{},u=[]);var C=!!d(y,"delaunay",!0),S=!!d(y,"interior",!0),D=!!d(y,"exterior",!0),T=!!d(y,"infinity",!1);if(!S&&!D||g.length===0)return[];var P=r(g,u);if(C||S!==D||T){for(var A=l(g.length,x(u)),a=0;a<P.length;++a){var R=P[a];A.addTriangle(R[0],R[1],R[2])}return C&&i(g,A),D?S?T?f(A,0,T):A.cells():f(A,1,T):f(A,-1)}else return P}},2161:function(p,m,t){var r=t(2227)[4];t(5070),p.exports=i;function l(f,v,c,x,d,M){var g=v.opposite(x,d);if(!(g<0)){if(d<x){var u=x;x=d,d=u,u=M,M=g,g=u}v.isConstraint(x,d)||r(f[x],f[d],f[M],f[g])<0&&c.push(x,d)}}function i(f,v){for(var c=[],x=f.length,d=v.stars,M=0;M<x;++M)for(var g=d[M],u=1;u<g.length;u+=2){var y=g[u];if(!(y<M)&&!v.isConstraint(M,y)){for(var C=g[u-1],S=-1,D=1;D<g.length;D+=2)if(g[D-1]===y){S=g[D];break}S<0||r(f[M],f[y],f[C],f[S])<0&&c.push(M,y)}}for(;c.length>0;){for(var y=c.pop(),M=c.pop(),C=-1,S=-1,g=d[M],T=1;T<g.length;T+=2){var P=g[T-1],A=g[T];P===y?S=A:A===y&&(C=P)}C<0||S<0||r(f[M],f[y],f[C],f[S])>=0||(v.flip(M,y),l(f,v,c,C,M,S),l(f,v,c,M,S,C),l(f,v,c,S,y,C),l(f,v,c,y,C,S))}}},7098:function(p,m,t){var r=t(5070);p.exports=x;function l(d,M,g,u,y,C,S){this.cells=d,this.neighbor=M,this.flags=u,this.constraint=g,this.active=y,this.next=C,this.boundary=S}var i=l.prototype;function f(d,M){return d[0]-M[0]||d[1]-M[1]||d[2]-M[2]}i.locate=function(){var d=[0,0,0];return function(M,g,u){var y=M,C=g,S=u;return g<u?g<M&&(y=g,C=u,S=M):u<M&&(y=u,C=M,S=g),y<0?-1:(d[0]=y,d[1]=C,d[2]=S,r.eq(this.cells,d,f))}}();function v(d,M){for(var g=d.cells(),u=g.length,y=0;y<u;++y){var C=g[y],S=C[0],D=C[1],T=C[2];D<T?D<S&&(C[0]=D,C[1]=T,C[2]=S):T<S&&(C[0]=T,C[1]=S,C[2]=D)}g.sort(f);for(var P=new Array(u),y=0;y<P.length;++y)P[y]=0;var A=[],a=[],R=new Array(3*u),b=new Array(3*u),N=null;M&&(N=[]);for(var O=new l(g,R,b,P,A,a,N),y=0;y<u;++y)for(var C=g[y],Y=0;Y<3;++Y){var S=C[Y],D=C[(Y+1)%3],B=R[3*y+Y]=O.locate(D,S,d.opposite(D,S)),W=b[3*y+Y]=d.isConstraint(S,D);B<0&&(W?a.push(y):(A.push(y),P[y]=1),M&&N.push([D,S,-1]))}return O}function c(d,M,g){for(var u=0,y=0;y<d.length;++y)M[y]===g&&(d[u++]=d[y]);return d.length=u,d}function x(d,M,g){var u=v(d,g);if(M===0)return g?u.cells.concat(u.boundary):u.cells;for(var y=1,C=u.active,S=u.next,D=u.flags,T=u.cells,P=u.constraint,A=u.neighbor;C.length>0||S.length>0;){for(;C.length>0;){var a=C.pop();if(D[a]!==-y){D[a]=y,T[a];for(var R=0;R<3;++R){var b=A[3*a+R];b>=0&&D[b]===0&&(P[3*a+R]?S.push(b):(C.push(b),D[b]=y))}}}var N=S;S=C,C=N,S.length=0,y=-y}var O=c(T,D,M);return g?O.concat(u.boundary):O}},9971:function(p,m,t){var r=t(5070),l=t(417)[3],i=0,f=1,v=2;p.exports=S;function c(D,T,P,A,a){this.a=D,this.b=T,this.idx=P,this.lowerIds=A,this.upperIds=a}function x(D,T,P,A){this.a=D,this.b=T,this.type=P,this.idx=A}function d(D,T){var P=D.a[0]-T.a[0]||D.a[1]-T.a[1]||D.type-T.type;return P||D.type!==i&&(P=l(D.a,D.b,T.b),P)?P:D.idx-T.idx}function M(D,T){return l(D.a,D.b,T)}function g(D,T,P,A,a){for(var R=r.lt(T,A,M),b=r.gt(T,A,M),N=R;N<b;++N){for(var O=T[N],Y=O.lowerIds,W=Y.length;W>1&&l(P[Y[W-2]],P[Y[W-1]],A)>0;)D.push([Y[W-1],Y[W-2],a]),W-=1;Y.length=W,Y.push(a);for(var B=O.upperIds,W=B.length;W>1&&l(P[B[W-2]],P[B[W-1]],A)<0;)D.push([B[W-2],B[W-1],a]),W-=1;B.length=W,B.push(a)}}function u(D,T){var P;return D.a[0]<T.a[0]?P=l(D.a,D.b,T.a):P=l(T.b,T.a,D.a),P||(T.b[0]<D.b[0]?P=l(D.a,D.b,T.b):P=l(T.b,T.a,D.b),P||D.idx-T.idx)}function y(D,T,P){var A=r.le(D,P,u),a=D[A],R=a.upperIds,b=R[R.length-1];a.upperIds=[b],D.splice(A+1,0,new c(P.a,P.b,P.idx,[b],R))}function C(D,T,P){var A=P.a;P.a=P.b,P.b=A;var a=r.eq(D,P,u),R=D[a],b=D[a-1];b.upperIds=R.upperIds,D.splice(a,1)}function S(D,T){for(var P=D.length,A=T.length,a=[],R=0;R<P;++R)a.push(new x(D[R],null,i,R));for(var R=0;R<A;++R){var b=T[R],N=D[b[0]],O=D[b[1]];N[0]<O[0]?a.push(new x(N,O,v,R),new x(O,N,f,R)):N[0]>O[0]&&a.push(new x(O,N,v,R),new x(N,O,f,R))}a.sort(d);for(var Y=a[0].a[0]-(1+Math.abs(a[0].a[0]))*Math.pow(2,-52),B=[new c([Y,1],[Y,0],-1,[],[])],W=[],R=0,H=a.length;R<H;++R){var U=a[R],G=U.type;G===i?g(W,B,D,U.a,U.idx):G===v?y(B,D,U):C(B,D,U)}return W}},743:function(p,m,t){var r=t(5070);p.exports=v;function l(c,x){this.stars=c,this.edges=x}var i=l.prototype;function f(c,x,d){for(var M=1,g=c.length;M<g;M+=2)if(c[M-1]===x&&c[M]===d){c[M-1]=c[g-2],c[M]=c[g-1],c.length=g-2;return}}i.isConstraint=function(){var c=[0,0];function x(d,M){return d[0]-M[0]||d[1]-M[1]}return function(d,M){return c[0]=Math.min(d,M),c[1]=Math.max(d,M),r.eq(this.edges,c,x)>=0}}(),i.removeTriangle=function(c,x,d){var M=this.stars;f(M[c],x,d),f(M[x],d,c),f(M[d],c,x)},i.addTriangle=function(c,x,d){var M=this.stars;M[c].push(x,d),M[x].push(d,c),M[d].push(c,x)},i.opposite=function(c,x){for(var d=this.stars[x],M=1,g=d.length;M<g;M+=2)if(d[M]===c)return d[M-1];return-1},i.flip=function(c,x){var d=this.opposite(c,x),M=this.opposite(x,c);this.removeTriangle(c,x,d),this.removeTriangle(x,c,M),this.addTriangle(c,M,d),this.addTriangle(x,d,M)},i.edges=function(){for(var c=this.stars,x=[],d=0,M=c.length;d<M;++d)for(var g=c[d],u=0,y=g.length;u<y;u+=2)x.push([g[u],g[u+1]]);return x},i.cells=function(){for(var c=this.stars,x=[],d=0,M=c.length;d<M;++d)for(var g=c[d],u=0,y=g.length;u<y;u+=2){var C=g[u],S=g[u+1];d<Math.min(C,S)&&x.push([d,C,S])}return x};function v(c,x){for(var d=new Array(c),M=0;M<c;++M)d[M]=[];return new l(d,x)}},9887:function(p){p.exports=m;function m(t){for(var r=1,l=1;l<t.length;++l)for(var i=0;i<l;++i)if(t[l]<t[i])r=-r;else if(t[i]===t[l])return 0;return r}},9243:function(p,m,t){var r=t(3094),l=t(6606);function i(c,x){for(var d=0,M=c.length,g=0;g<M;++g)d+=c[g]*x[g];return d}function f(c){var x=c.length;if(x===0)return[];c[0].length;var d=r([c.length+1,c.length+1],1),M=r([c.length+1],1);d[x][x]=0;for(var g=0;g<x;++g){for(var u=0;u<=g;++u)d[u][g]=d[g][u]=2*i(c[g],c[u]);M[g]=i(c[g],c[g])}for(var y=l(d,M),C=0,S=y[x+1],g=0;g<S.length;++g)C+=S[g];for(var D=new Array(x),g=0;g<x;++g){for(var S=y[g],T=0,u=0;u<S.length;++u)T+=S[u];D[g]=T/C}return D}function v(c){if(c.length===0)return[];for(var x=c[0].length,d=r([x]),M=f(c),g=0;g<c.length;++g)for(var u=0;u<x;++u)d[u]+=c[g][u]*M[g];return d}v.barycenetric=f,p.exports=v},1778:function(p,m,t){p.exports=l;var r=t(9243);function l(i){for(var f=r(i),v=0,c=0;c<i.length;++c)for(var x=i[c],d=0;d<f.length;++d)v+=Math.pow(x[d]-f[d],2);return Math.sqrt(v/i.length)}},197:function(p,m,t){p.exports=N;var r=t(1731),l=t(2569),i=t(4434),f=t(5125),v=t(8846),c=t(7999),x=t(2826),d=t(8551),M=t(5528);function g(O){var Y=c(O);return[d(Y,-1/0),d(Y,1/0)]}function u(O,Y){for(var B=new Array(Y.length),W=0;W<Y.length;++W){var H=Y[W],U=O[H[0]],G=O[H[1]];B[W]=[d(Math.min(U[0],G[0]),-1/0),d(Math.min(U[1],G[1]),-1/0),d(Math.max(U[0],G[0]),1/0),d(Math.max(U[1],G[1]),1/0)]}return B}function y(O){for(var Y=new Array(O.length),B=0;B<O.length;++B){var W=O[B];Y[B]=[d(W[0],-1/0),d(W[1],-1/0),d(W[0],1/0),d(W[1],1/0)]}return Y}function C(O,Y,B){var W=[];return l(B,function(H,U){var G=Y[H],j=Y[U];if(!(G[0]===j[0]||G[0]===j[1]||G[1]===j[0]||G[1]===j[1])){var re=O[G[0]],ae=O[G[1]],ue=O[j[0]],de=O[j[1]];i(re,ae,ue,de)&&W.push([H,U])}}),W}function S(O,Y,B,W){var H=[];return l(B,W,function(U,G){var j=Y[U];if(!(j[0]===G||j[1]===G)){var re=O[G],ae=O[j[0]],ue=O[j[1]];i(ae,ue,re,re)&&H.push([U,G])}}),H}function D(O,Y,B,W,H){var U,G,j=O.map(function(Ee){return[f(Ee[0]),f(Ee[1])]});for(U=0;U<B.length;++U){var re=B[U];G=re[0];var ae=re[1],ue=Y[G],de=Y[ae],ee=M(x(O[ue[0]]),x(O[ue[1]]),x(O[de[0]]),x(O[de[1]]));if(ee){var X=O.length;O.push([c(ee[0]),c(ee[1])]),j.push(ee),W.push([G,X],[ae,X])}}for(W.sort(function(Ee,Me){if(Ee[0]!==Me[0])return Ee[0]-Me[0];var Be=j[Ee[1]],Ne=j[Me[1]];return v(Be[0],Ne[0])||v(Be[1],Ne[1])}),U=W.length-1;U>=0;--U){var Q=W[U];G=Q[0];var $=Y[G],ne=$[0],fe=$[1],te=O[ne],q=O[fe];if((te[0]-q[0]||te[1]-q[1])<0){var he=ne;ne=fe,fe=he}$[0]=ne;var se=$[1]=Q[1],pe;for(H&&(pe=$[2]);U>0&&W[U-1][0]===G;){var Q=W[--U],we=Q[1];H?Y.push([se,we,pe]):Y.push([se,we]),se=we}H?Y.push([se,fe,pe]):Y.push([se,fe])}return j}function T(O,Y,B){for(var W=Y.length,H=new r(W),U=[],G=0;G<Y.length;++G){var j=Y[G],re=g(j[0]),ae=g(j[1]);U.push([d(re[0],-1/0),d(ae[0],-1/0),d(re[1],1/0),d(ae[1],1/0)])}l(U,function(Q,$){H.link(Q,$)});for(var ue=!0,de=new Array(W),G=0;G<W;++G){var ee=H.find(G);ee!==G&&(ue=!1,O[ee]=[Math.min(O[G][0],O[ee][0]),Math.min(O[G][1],O[ee][1])])}if(ue)return null;for(var X=0,G=0;G<W;++G){var ee=H.find(G);ee===G?(de[G]=X,O[X++]=O[G]):de[G]=-1}O.length=X;for(var G=0;G<W;++G)de[G]<0&&(de[G]=de[H.find(G)]);return de}function P(O,Y){return O[0]-Y[0]||O[1]-Y[1]}function A(O,Y){var B=O[0]-Y[0]||O[1]-Y[1];return B||(O[2]<Y[2]?-1:O[2]>Y[2]?1:0)}function a(O,Y,B){if(O.length!==0){if(Y)for(var W=0;W<O.length;++W){var H=O[W],U=Y[H[0]],G=Y[H[1]];H[0]=Math.min(U,G),H[1]=Math.max(U,G)}else for(var W=0;W<O.length;++W){var H=O[W],U=H[0],G=H[1];H[0]=Math.min(U,G),H[1]=Math.max(U,G)}B?O.sort(A):O.sort(P);for(var j=1,W=1;W<O.length;++W){var re=O[W-1],ae=O[W];ae[0]===re[0]&&ae[1]===re[1]&&(!B||ae[2]===re[2])||(O[j++]=ae)}O.length=j}}function R(O,Y,B){var W=T(O,[],y(O));return a(Y,W,B),!!W}function b(O,Y,B){var W=u(O,Y),H=C(O,Y,W),U=y(O),G=S(O,Y,W,U),j=D(O,Y,H,G,B),re=T(O,j);return a(Y,re,B),re?!0:H.length>0||G.length>0}function N(O,Y,B){var W;if(B){W=Y;for(var H=new Array(Y.length),U=0;U<Y.length;++U){var G=Y[U];H[U]=[G[0],G[1],B[U]]}Y=H}for(var j=R(O,Y,!!B);b(O,Y,!!B);)j=!0;if(B&&j){W.length=0,B.length=0;for(var U=0;U<Y.length;++U){var G=Y[U];W.push([G[0],G[1]]),B.push(G[2])}}return j}},5528:function(p,m,t){p.exports=M;var r=t(3962),l=t(9189),i=t(4354),f=t(4951),v=t(6695),c=t(7584),x=t(4469);function d(g,u){return i(r(g[0],u[1]),r(g[1],u[0]))}function M(g,u,y,C){var S=v(u,g),D=v(C,y),T=d(S,D);if(f(T)===0)return null;var P=v(g,y),A=d(D,P),a=l(A,T),R=x(S,a),b=c(g,R);return b}},5692:function(p){p.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(p,m,t){var r=t(5692),l=t(3578);p.exports=i;function i(x){var d,M,g,u,y,C,S,D,a,T,P;if(x||(x={}),D=(x.nshades||72)-1,S=x.format||"hex",C=x.colormap,C||(C="jet"),typeof C=="string"){if(C=C.toLowerCase(),!r[C])throw Error(C+" not a supported colorscale");y=r[C]}else if(Array.isArray(C))y=C.slice();else throw Error("unsupported colormap option",C);if(y.length>D+1)throw new Error(C+" map requires nshades to be at least size "+y.length);Array.isArray(x.alpha)?x.alpha.length!==2?T=[1,1]:T=x.alpha.slice():typeof x.alpha=="number"?T=[x.alpha,x.alpha]:T=[1,1],d=y.map(function(N){return Math.round(N.index*D)}),T[0]=Math.min(Math.max(T[0],0),1),T[1]=Math.min(Math.max(T[1],0),1);var A=y.map(function(N,O){var Y=y[O].index,B=y[O].rgb.slice();return B.length===4&&B[3]>=0&&B[3]<=1||(B[3]=T[0]+(T[1]-T[0])*Y),B}),a=[];for(P=0;P<d.length-1;++P){u=d[P+1]-d[P],M=A[P],g=A[P+1];for(var R=0;R<u;R++){var b=R/u;a.push([Math.round(l(M[0],g[0],b)),Math.round(l(M[1],g[1],b)),Math.round(l(M[2],g[2],b)),l(M[3],g[3],b)])}}return a.push(y[y.length-1].rgb.concat(T[1])),S==="hex"?a=a.map(v):S==="rgbaString"?a=a.map(c):S==="float"&&(a=a.map(f)),a}function f(x){return[x[0]/255,x[1]/255,x[2]/255,x[3]]}function v(x){for(var d,M="#",g=0;g<3;++g)d=x[g],d=d.toString(16),M+=("00"+d).substr(d.length);return M}function c(x){return"rgba("+x.join(",")+")"}},9398:function(p,m,t){p.exports=x;var r=t(417),l=t(7538),i=t(87),f=t(2019),v=t(9662);function c(d,M,g){var u=i(d[0],-M[0]),y=i(d[1],-M[1]),C=i(g[0],-M[0]),S=i(g[1],-M[1]),D=v(f(u,C),f(y,S));return D[D.length-1]>=0}function x(d,M,g,u){var y=r(M,g,u);if(y===0){var C=l(r(d,M,g)),S=l(r(d,M,u));if(C===S){if(C===0){var D=c(d,M,g),T=c(d,M,u);return D===T?0:D?1:-1}return 0}else{if(S===0)return C>0||c(d,M,u)?-1:1;if(C===0)return S>0||c(d,M,g)?1:-1}return l(S-C)}var P=r(d,M,g);if(P>0)return y>0&&r(d,M,u)>0?1:-1;if(P<0)return y>0||r(d,M,u)>0?1:-1;var A=r(d,M,u);return A>0||c(d,M,g)?1:-1}},7538:function(p){p.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(p){p.exports=r;var m=Math.min;function t(l,i){return l-i}function r(l,i){var f=l.length,v=l.length-i.length;if(v)return v;switch(f){case 0:return 0;case 1:return l[0]-i[0];case 2:return l[0]+l[1]-i[0]-i[1]||m(l[0],l[1])-m(i[0],i[1]);case 3:var c=l[0]+l[1],x=i[0]+i[1];if(v=c+l[2]-(x+i[2]),v)return v;var d=m(l[0],l[1]),M=m(i[0],i[1]);return m(d,l[2])-m(M,i[2])||m(d+l[2],c)-m(M+i[2],x);case 4:var g=l[0],u=l[1],y=l[2],C=l[3],S=i[0],D=i[1],T=i[2],P=i[3];return g+u+y+C-(S+D+T+P)||m(g,u,y,C)-m(S,D,T,P,S)||m(g+u,g+y,g+C,u+y,u+C,y+C)-m(S+D,S+T,S+P,D+T,D+P,T+P)||m(g+u+y,g+u+C,g+y+C,u+y+C)-m(S+D+T,S+D+P,S+T+P,D+T+P);default:for(var A=l.slice().sort(t),a=i.slice().sort(t),R=0;R<f;++R)if(v=A[R]-a[R],v)return v;return 0}}},1284:function(p,m,t){var r=t(9209),l=t(9887);p.exports=i;function i(f,v){return r(f,v)||l(f)-l(v)}},5537:function(p,m,t){var r=t(8950),l=t(8722),i=t(3332);p.exports=f;function f(v){var c=v.length;if(c===0)return[];if(c===1)return[[0]];var x=v[0].length;return x===0?[]:x===1?r(v):x===2?l(v):i(v,x)}},8950:function(p){p.exports=m;function m(t){for(var r=0,l=0,i=1;i<t.length;++i)t[i][0]<t[r][0]&&(r=i),t[i][0]>t[l][0]&&(l=i);return r<l?[[r],[l]]:r>l?[[l],[r]]:[[r]]}},8722:function(p,m,t){p.exports=l;var r=t(3266);function l(i){var f=r(i),v=f.length;if(v<=2)return[];for(var c=new Array(v),x=f[v-1],d=0;d<v;++d){var M=f[d];c[d]=[x,M],x=M}return c}},3332:function(p,m,t){p.exports=v;var r=t(2183),l=t(2153);function i(c,x){for(var d=c.length,M=new Array(d),g=0;g<x.length;++g)M[g]=c[x[g]];for(var u=x.length,g=0;g<d;++g)x.indexOf(g)<0&&(M[u++]=c[g]);return M}function f(c,x){for(var d=c.length,M=x.length,g=0;g<d;++g)for(var u=c[g],y=0;y<u.length;++y){var C=u[y];if(C<M)u[y]=x[C];else{C=C-M;for(var S=0;S<M;++S)C>=x[S]&&(C+=1);u[y]=C}}return c}function v(c,x){try{return r(c,!0)}catch{var d=l(c);if(d.length<=x)return[];var M=i(c,d),g=r(M,!0);return f(g,d)}}},9680:function(p){function m(r,l,i,f,v,c){var x=6*v*v-6*v,d=3*v*v-4*v+1,M=-6*v*v+6*v,g=3*v*v-2*v;if(r.length){c||(c=new Array(r.length));for(var u=r.length-1;u>=0;--u)c[u]=x*r[u]+d*l[u]+M*i[u]+g*f[u];return c}return x*r+d*l+M*i[u]+g*f}function t(r,l,i,f,v,c){var x=v-1,d=v*v,M=x*x,g=(1+2*v)*M,u=v*M,y=d*(3-2*v),C=d*x;if(r.length){c||(c=new Array(r.length));for(var S=r.length-1;S>=0;--S)c[S]=g*r[S]+u*l[S]+y*i[S]+C*f[S];return c}return g*r+u*l+y*i+C*f}p.exports=t,p.exports.derivative=m},4419:function(p,m,t){var r=t(2183),l=t(1215);p.exports=c;function i(x,d){this.point=x,this.index=d}function f(x,d){for(var M=x.point,g=d.point,u=M.length,y=0;y<u;++y){var C=g[y]-M[y];if(C)return C}return 0}function v(x,d,M){if(x===1)return M?[[-1,0]]:[];var g=d.map(function(D,T){return[D[0],T]});g.sort(function(D,T){return D[0]-T[0]});for(var u=new Array(x-1),y=1;y<x;++y){var C=g[y-1],S=g[y];u[y-1]=[C[1],S[1]]}return M&&u.push([-1,u[0][1]],[u[x-1][1],-1]),u}function c(x,d){var M=x.length;if(M===0)return[];var g=x[0].length;if(g<1)return[];if(g===1)return v(M,x,d);for(var u=new Array(M),y=1,C=0;C<M;++C){for(var S=x[C],D=new Array(g+1),T=0,P=0;P<g;++P){var A=S[P];D[P]=A,T+=A*A}D[g]=T,u[C]=new i(D,C),y=Math.max(T,y)}l(u,f),M=u.length;for(var a=new Array(M+g+1),R=new Array(M+g+1),b=(g+1)*(g+1)*y,N=new Array(g+1),C=0;C<=g;++C)N[C]=0;N[g]=b,a[0]=N.slice(),R[0]=-1;for(var C=0;C<=g;++C){var D=N.slice();D[C]=1,a[C+1]=D,R[C+1]=-1}for(var C=0;C<M;++C){var O=u[C];a[C+g+1]=O.point,R[C+g+1]=O.index}var Y=r(a,!1);if(d?Y=Y.filter(function(B){for(var W=0,H=0;H<=g;++H){var U=R[B[H]];if(U<0&&++W>=2)return!1;B[H]=U}return!0}):Y=Y.filter(function(B){for(var W=0;W<=g;++W){var H=R[B[W]];if(H<0)return!1;B[W]=H}return!0}),g&1)for(var C=0;C<Y.length;++C){var O=Y[C],D=O[0];O[0]=O[1],O[1]=D}return Y}},8362:function(p){var m=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,m=!0,r[1]===1072693248){let y=function(D,T){return r[0]=D,r[1]=T,t[0]},C=function(D){return t[0]=D,r[0]},S=function(D){return t[0]=D,r[1]};var i=y,f=C,v=S;p.exports=function(T){return t[0]=T,[r[0],r[1]]},p.exports.pack=y,p.exports.lo=C,p.exports.hi=S}else if(r[0]===1072693248){let y=function(D,T){return r[1]=D,r[0]=T,t[0]},C=function(D){return t[0]=D,r[1]},S=function(D){return t[0]=D,r[0]};var c=y,x=C,d=S;p.exports=function(T){return t[0]=T,[r[1],r[0]]},p.exports.pack=y,p.exports.lo=C,p.exports.hi=S}else m=!1}if(!m){let y=function(D,T){return l.writeUInt32LE(D,0,!0),l.writeUInt32LE(T,4,!0),l.readDoubleLE(0,!0)},C=function(D){return l.writeDoubleLE(D,0,!0),l.readUInt32LE(0,!0)},S=function(D){return l.writeDoubleLE(D,0,!0),l.readUInt32LE(4,!0)};var M=y,g=C,u=S,l=new Buffer(8);p.exports=function(T){return l.writeDoubleLE(T,0,!0),[l.readUInt32LE(0,!0),l.readUInt32LE(4,!0)]},p.exports.pack=y,p.exports.lo=C,p.exports.hi=S}p.exports.sign=function(y){return p.exports.hi(y)>>>31},p.exports.exponent=function(y){var C=p.exports.hi(y);return(C<<1>>>21)-1023},p.exports.fraction=function(y){var C=p.exports.lo(y),S=p.exports.hi(y),D=S&(1<<20)-1;return S&2146435072&&(D+=1048576),[C,D]},p.exports.denormalized=function(y){var C=p.exports.hi(y);return!(C&2146435072)}},3094:function(p){function m(l,i,f){var v=l[f]|0;if(v<=0)return[];var c=new Array(v),x;if(f===l.length-1)for(x=0;x<v;++x)c[x]=i;else for(x=0;x<v;++x)c[x]=m(l,i,f+1);return c}function t(l,i){var f,v;for(f=new Array(l),v=0;v<l;++v)f[v]=i;return f}function r(l,i){switch(typeof i>"u"&&(i=0),typeof l){case"number":if(l>0)return t(l|0,i);break;case"object":if(typeof l.length=="number")return m(l,i,0);break}return[]}p.exports=r},8348:function(p,m,t){p.exports=l;var r=t(1215);function l(i,f){var v=i.length;if(typeof f!="number"){f=0;for(var c=0;c<v;++c){var x=i[c];f=Math.max(f,x[0],x[1])}f=(f|0)+1}f=f|0;for(var d=new Array(f),c=0;c<f;++c)d[c]=[];for(var c=0;c<v;++c){var x=i[c];d[x[0]].push(x[1]),d[x[1]].push(x[0])}for(var M=0;M<f;++M)r(d[M],function(g,u){return g-u});return d}},5795:function(p){p.exports=m;function m(t,r,l){var i=r||0,f=l||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[i*t[12]+t[8],i*t[13]+t[9],i*t[14]+t[10],i*t[15]+t[11]],[f*t[12]-t[8],f*t[13]-t[9],f*t[14]-t[10],f*t[15]-t[11]]]}},8444:function(p,m,t){p.exports=x;var r=t(9680),l=t(5070);function i(d,M,g){return Math.min(M,Math.max(d,g))}function f(d,M,g){this.dimension=d.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var u=0;u<this.dimension;++u)this.bounds[0][u]=-1/0,this.bounds[1][u]=1/0;this._state=d.slice().reverse(),this._velocity=M.slice().reverse(),this._time=[g],this._scratch=[d.slice(),d.slice(),d.slice(),d.slice(),d.slice()]}var v=f.prototype;v.flush=function(d){var M=l.gt(this._time,d)-1;M<=0||(this._time.splice(0,M),this._state.splice(0,M*this.dimension),this._velocity.splice(0,M*this.dimension))},v.curve=function(d){var M=this._time,g=M.length,u=l.le(M,d),y=this._scratch[0],C=this._state,S=this._velocity,D=this.dimension,T=this.bounds;if(u<0)for(var P=D-1,A=0;A<D;++A,--P)y[A]=C[P];else if(u>=g-1)for(var P=C.length-1,a=d-M[g-1],A=0;A<D;++A,--P)y[A]=C[P]+a*S[P];else{for(var P=D*(u+1)-1,R=M[u],b=M[u+1],N=b-R||1,O=this._scratch[1],Y=this._scratch[2],B=this._scratch[3],W=this._scratch[4],H=!0,A=0;A<D;++A,--P)O[A]=C[P],B[A]=S[P]*N,Y[A]=C[P+D],W[A]=S[P+D]*N,H=H&&O[A]===Y[A]&&B[A]===W[A]&&B[A]===0;if(H)for(var A=0;A<D;++A)y[A]=O[A];else r(O,B,Y,W,(d-R)/N,y)}for(var U=T[0],G=T[1],A=0;A<D;++A)y[A]=i(U[A],G[A],y[A]);return y},v.dcurve=function(d){var M=this._time,g=M.length,u=l.le(M,d),y=this._scratch[0],C=this._state,S=this._velocity,D=this.dimension;if(u>=g-1){var T=C.length-1;d-M[g-1];for(var P=0;P<D;++P,--T)y[P]=S[T]}else{for(var T=D*(u+1)-1,A=M[u],a=M[u+1],R=a-A||1,b=this._scratch[1],N=this._scratch[2],O=this._scratch[3],Y=this._scratch[4],B=!0,P=0;P<D;++P,--T)b[P]=C[T],O[P]=S[T]*R,N[P]=C[T+D],Y[P]=S[T+D]*R,B=B&&b[P]===N[P]&&O[P]===Y[P]&&O[P]===0;if(B)for(var P=0;P<D;++P)y[P]=0;else{r.derivative(b,O,N,Y,(d-A)/R,y);for(var P=0;P<D;++P)y[P]/=R}}return y},v.lastT=function(){var d=this._time;return d[d.length-1]},v.stable=function(){for(var d=this._velocity,M=d.length,g=this.dimension-1;g>=0;--g)if(d[--M])return!1;return!0},v.jump=function(d){var M=this.lastT(),g=this.dimension;if(!(d<M||arguments.length!==g+1)){var u=this._state,y=this._velocity,C=u.length-this.dimension,S=this.bounds,D=S[0],T=S[1];this._time.push(M,d);for(var P=0;P<2;++P)for(var A=0;A<g;++A)u.push(u[C++]),y.push(0);this._time.push(d);for(var A=g;A>0;--A)u.push(i(D[A-1],T[A-1],arguments[A])),y.push(0)}},v.push=function(d){var M=this.lastT(),g=this.dimension;if(!(d<M||arguments.length!==g+1)){var u=this._state,y=this._velocity,C=u.length-this.dimension,S=d-M,D=this.bounds,T=D[0],P=D[1],A=S>1e-6?1/S:0;this._time.push(d);for(var a=g;a>0;--a){var R=i(T[a-1],P[a-1],arguments[a]);u.push(R),y.push((R-u[C++])*A)}}},v.set=function(d){var M=this.dimension;if(!(d<this.lastT()||arguments.length!==M+1)){var g=this._state,u=this._velocity,y=this.bounds,C=y[0],S=y[1];this._time.push(d);for(var D=M;D>0;--D)g.push(i(C[D-1],S[D-1],arguments[D])),u.push(0)}},v.move=function(d){var M=this.lastT(),g=this.dimension;if(!(d<=M||arguments.length!==g+1)){var u=this._state,y=this._velocity,C=u.length-this.dimension,S=this.bounds,D=S[0],T=S[1],P=d-M,A=P>1e-6?1/P:0;this._time.push(d);for(var a=g;a>0;--a){var R=arguments[a];u.push(i(D[a-1],T[a-1],u[C++]+R)),y.push(R*A)}}},v.idle=function(d){var M=this.lastT();if(!(d<M)){var g=this.dimension,u=this._state,y=this._velocity,C=u.length-g,S=this.bounds,D=S[0],T=S[1],P=d-M;this._time.push(d);for(var A=g-1;A>=0;--A)u.push(i(D[A],T[A],u[C]+P*y[C])),y.push(0),C+=1}};function c(d){for(var M=new Array(d),g=0;g<d;++g)M[g]=0;return M}function x(d,M,g){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof d=="number"){var u=c(d);return new f(u,u,0)}else return new f(d,c(d.length),0);case 2:if(typeof M=="number"){var u=c(d.length);return new f(d,u,+M)}else g=0;case 3:if(d.length!==M.length)throw new Error("state and velocity lengths must match");return new f(d,M,g)}}},7080:function(p){p.exports=D;var m=0,t=1;function r(T,P,A,a,R,b){this._color=T,this.key=P,this.value=A,this.left=a,this.right=R,this._count=b}function l(T){return new r(T._color,T.key,T.value,T.left,T.right,T._count)}function i(T,P){return new r(T,P.key,P.value,P.left,P.right,P._count)}function f(T){T._count=1+(T.left?T.left._count:0)+(T.right?T.right._count:0)}function v(T,P){this._compare=T,this.root=P}var c=v.prototype;Object.defineProperty(c,"keys",{get:function(){var T=[];return this.forEach(function(P,A){T.push(P)}),T}}),Object.defineProperty(c,"values",{get:function(){var T=[];return this.forEach(function(P,A){T.push(A)}),T}}),Object.defineProperty(c,"length",{get:function(){return this.root?this.root._count:0}}),c.insert=function(T,P){for(var A=this._compare,a=this.root,R=[],b=[];a;){var N=A(T,a.key);R.push(a),b.push(N),N<=0?a=a.left:a=a.right}R.push(new r(m,T,P,null,null,1));for(var O=R.length-2;O>=0;--O){var a=R[O];b[O]<=0?R[O]=new r(a._color,a.key,a.value,R[O+1],a.right,a._count+1):R[O]=new r(a._color,a.key,a.value,a.left,R[O+1],a._count+1)}for(var O=R.length-1;O>1;--O){var Y=R[O-1],a=R[O];if(Y._color===t||a._color===t)break;var B=R[O-2];if(B.left===Y)if(Y.left===a){var W=B.right;if(W&&W._color===m)Y._color=t,B.right=i(t,W),B._color=m,O-=1;else{if(B._color=m,B.left=Y.right,Y._color=t,Y.right=B,R[O-2]=Y,R[O-1]=a,f(B),f(Y),O>=3){var H=R[O-3];H.left===B?H.left=Y:H.right=Y}break}}else{var W=B.right;if(W&&W._color===m)Y._color=t,B.right=i(t,W),B._color=m,O-=1;else{if(Y.right=a.left,B._color=m,B.left=a.right,a._color=t,a.left=Y,a.right=B,R[O-2]=a,R[O-1]=Y,f(B),f(Y),f(a),O>=3){var H=R[O-3];H.left===B?H.left=a:H.right=a}break}}else if(Y.right===a){var W=B.left;if(W&&W._color===m)Y._color=t,B.left=i(t,W),B._color=m,O-=1;else{if(B._color=m,B.right=Y.left,Y._color=t,Y.left=B,R[O-2]=Y,R[O-1]=a,f(B),f(Y),O>=3){var H=R[O-3];H.right===B?H.right=Y:H.left=Y}break}}else{var W=B.left;if(W&&W._color===m)Y._color=t,B.left=i(t,W),B._color=m,O-=1;else{if(Y.left=a.right,B._color=m,B.right=a.left,a._color=t,a.right=Y,a.left=B,R[O-2]=a,R[O-1]=Y,f(B),f(Y),f(a),O>=3){var H=R[O-3];H.right===B?H.right=a:H.left=a}break}}}return R[0]._color=t,new v(A,R[0])};function x(T,P){if(P.left){var A=x(T,P.left);if(A)return A}var A=T(P.key,P.value);if(A)return A;if(P.right)return x(T,P.right)}function d(T,P,A,a){var R=P(T,a.key);if(R<=0){if(a.left){var b=d(T,P,A,a.left);if(b)return b}var b=A(a.key,a.value);if(b)return b}if(a.right)return d(T,P,A,a.right)}function M(T,P,A,a,R){var b=A(T,R.key),N=A(P,R.key),O;if(b<=0&&(R.left&&(O=M(T,P,A,a,R.left),O)||N>0&&(O=a(R.key,R.value),O)))return O;if(N>0&&R.right)return M(T,P,A,a,R.right)}c.forEach=function(P,A,a){if(this.root)switch(arguments.length){case 1:return x(P,this.root);case 2:return d(A,this._compare,P,this.root);case 3:return this._compare(A,a)>=0?void 0:M(A,a,this._compare,P,this.root)}},Object.defineProperty(c,"begin",{get:function(){for(var T=[],P=this.root;P;)T.push(P),P=P.left;return new g(this,T)}}),Object.defineProperty(c,"end",{get:function(){for(var T=[],P=this.root;P;)T.push(P),P=P.right;return new g(this,T)}}),c.at=function(T){if(T<0)return new g(this,[]);for(var P=this.root,A=[];;){if(A.push(P),P.left){if(T<P.left._count){P=P.left;continue}T-=P.left._count}if(!T)return new g(this,A);if(T-=1,P.right){if(T>=P.right._count)break;P=P.right}else break}return new g(this,[])},c.ge=function(T){for(var P=this._compare,A=this.root,a=[],R=0;A;){var b=P(T,A.key);a.push(A),b<=0&&(R=a.length),b<=0?A=A.left:A=A.right}return a.length=R,new g(this,a)},c.gt=function(T){for(var P=this._compare,A=this.root,a=[],R=0;A;){var b=P(T,A.key);a.push(A),b<0&&(R=a.length),b<0?A=A.left:A=A.right}return a.length=R,new g(this,a)},c.lt=function(T){for(var P=this._compare,A=this.root,a=[],R=0;A;){var b=P(T,A.key);a.push(A),b>0&&(R=a.length),b<=0?A=A.left:A=A.right}return a.length=R,new g(this,a)},c.le=function(T){for(var P=this._compare,A=this.root,a=[],R=0;A;){var b=P(T,A.key);a.push(A),b>=0&&(R=a.length),b<0?A=A.left:A=A.right}return a.length=R,new g(this,a)},c.find=function(T){for(var P=this._compare,A=this.root,a=[];A;){var R=P(T,A.key);if(a.push(A),R===0)return new g(this,a);R<=0?A=A.left:A=A.right}return new g(this,[])},c.remove=function(T){var P=this.find(T);return P?P.remove():this},c.get=function(T){for(var P=this._compare,A=this.root;A;){var a=P(T,A.key);if(a===0)return A.value;a<=0?A=A.left:A=A.right}};function g(T,P){this.tree=T,this._stack=P}var u=g.prototype;Object.defineProperty(u,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(u,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),u.clone=function(){return new g(this.tree,this._stack.slice())};function y(T,P){T.key=P.key,T.value=P.value,T.left=P.left,T.right=P.right,T._color=P._color,T._count=P._count}function C(T){for(var P,A,a,R,b=T.length-1;b>=0;--b){if(P=T[b],b===0){P._color=t;return}if(A=T[b-1],A.left===P){if(a=A.right,a.right&&a.right._color===m){if(a=A.right=l(a),R=a.right=l(a.right),A.right=a.left,a.left=A,a.right=R,a._color=A._color,P._color=t,A._color=t,R._color=t,f(A),f(a),b>1){var N=T[b-2];N.left===A?N.left=a:N.right=a}T[b-1]=a;return}else if(a.left&&a.left._color===m){if(a=A.right=l(a),R=a.left=l(a.left),A.right=R.left,a.left=R.right,R.left=A,R.right=a,R._color=A._color,A._color=t,a._color=t,P._color=t,f(A),f(a),f(R),b>1){var N=T[b-2];N.left===A?N.left=R:N.right=R}T[b-1]=R;return}if(a._color===t)if(A._color===m){A._color=t,A.right=i(m,a);return}else{A.right=i(m,a);continue}else{if(a=l(a),A.right=a.left,a.left=A,a._color=A._color,A._color=m,f(A),f(a),b>1){var N=T[b-2];N.left===A?N.left=a:N.right=a}T[b-1]=a,T[b]=A,b+1<T.length?T[b+1]=P:T.push(P),b=b+2}}else{if(a=A.left,a.left&&a.left._color===m){if(a=A.left=l(a),R=a.left=l(a.left),A.left=a.right,a.right=A,a.left=R,a._color=A._color,P._color=t,A._color=t,R._color=t,f(A),f(a),b>1){var N=T[b-2];N.right===A?N.right=a:N.left=a}T[b-1]=a;return}else if(a.right&&a.right._color===m){if(a=A.left=l(a),R=a.right=l(a.right),A.left=R.right,a.right=R.left,R.right=A,R.left=a,R._color=A._color,A._color=t,a._color=t,P._color=t,f(A),f(a),f(R),b>1){var N=T[b-2];N.right===A?N.right=R:N.left=R}T[b-1]=R;return}if(a._color===t)if(A._color===m){A._color=t,A.left=i(m,a);return}else{A.left=i(m,a);continue}else{if(a=l(a),A.left=a.right,a.right=A,a._color=A._color,A._color=m,f(A),f(a),b>1){var N=T[b-2];N.right===A?N.right=a:N.left=a}T[b-1]=a,T[b]=A,b+1<T.length?T[b+1]=P:T.push(P),b=b+2}}}}u.remove=function(){var T=this._stack;if(T.length===0)return this.tree;var P=new Array(T.length),A=T[T.length-1];P[P.length-1]=new r(A._color,A.key,A.value,A.left,A.right,A._count);for(var a=T.length-2;a>=0;--a){var A=T[a];A.left===T[a+1]?P[a]=new r(A._color,A.key,A.value,P[a+1],A.right,A._count):P[a]=new r(A._color,A.key,A.value,A.left,P[a+1],A._count)}if(A=P[P.length-1],A.left&&A.right){var R=P.length;for(A=A.left;A.right;)P.push(A),A=A.right;var b=P[R-1];P.push(new r(A._color,b.key,b.value,A.left,A.right,A._count)),P[R-1].key=A.key,P[R-1].value=A.value;for(var a=P.length-2;a>=R;--a)A=P[a],P[a]=new r(A._color,A.key,A.value,A.left,P[a+1],A._count);P[R-1].left=P[R]}if(A=P[P.length-1],A._color===m){var N=P[P.length-2];N.left===A?N.left=null:N.right===A&&(N.right=null),P.pop();for(var a=0;a<P.length;++a)P[a]._count--;return new v(this.tree._compare,P[0])}else if(A.left||A.right){A.left?y(A,A.left):A.right&&y(A,A.right),A._color=t;for(var a=0;a<P.length-1;++a)P[a]._count--;return new v(this.tree._compare,P[0])}else{if(P.length===1)return new v(this.tree._compare,null);for(var a=0;a<P.length;++a)P[a]._count--;var O=P[P.length-2];C(P),O.left===A?O.left=null:O.right=null}return new v(this.tree._compare,P[0])},Object.defineProperty(u,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(u,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(u,"index",{get:function(){var T=0,P=this._stack;if(P.length===0){var A=this.tree.root;return A?A._count:0}else P[P.length-1].left&&(T=P[P.length-1].left._count);for(var a=P.length-2;a>=0;--a)P[a+1]===P[a].right&&(++T,P[a].left&&(T+=P[a].left._count));return T},enumerable:!0}),u.next=function(){var T=this._stack;if(T.length!==0){var P=T[T.length-1];if(P.right)for(P=P.right;P;)T.push(P),P=P.left;else for(T.pop();T.length>0&&T[T.length-1].right===P;)P=T[T.length-1],T.pop()}},Object.defineProperty(u,"hasNext",{get:function(){var T=this._stack;if(T.length===0)return!1;if(T[T.length-1].right)return!0;for(var P=T.length-1;P>0;--P)if(T[P-1].left===T[P])return!0;return!1}}),u.update=function(T){var P=this._stack;if(P.length===0)throw new Error("Can't update empty node!");var A=new Array(P.length),a=P[P.length-1];A[A.length-1]=new r(a._color,a.key,T,a.left,a.right,a._count);for(var R=P.length-2;R>=0;--R)a=P[R],a.left===P[R+1]?A[R]=new r(a._color,a.key,a.value,A[R+1],a.right,a._count):A[R]=new r(a._color,a.key,a.value,a.left,A[R+1],a._count);return new v(this.tree._compare,A[0])},u.prev=function(){var T=this._stack;if(T.length!==0){var P=T[T.length-1];if(P.left)for(P=P.left;P;)T.push(P),P=P.right;else for(T.pop();T.length>0&&T[T.length-1].left===P;)P=T[T.length-1],T.pop()}},Object.defineProperty(u,"hasPrev",{get:function(){var T=this._stack;if(T.length===0)return!1;if(T[T.length-1].left)return!0;for(var P=T.length-1;P>0;--P)if(T[P-1].right===T[P])return!0;return!1}});function S(T,P){return T<P?-1:T>P?1:0}function D(T){return new v(T||S,null)}},7453:function(p,m,t){p.exports=a;var r=t(9557),l=t(1681),i=t(1011),f=t(2864),v=t(8468),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function x(R,b){return R[0]=b[0],R[1]=b[1],R[2]=b[2],R}function d(R){this.gl=R,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=i(R)}var M=d.prototype;M.update=function(R){R=R||{};function b(ue,de,ee){if(ee in R){var X=R[ee],Q=this[ee],$;(ue?Array.isArray(X)&&Array.isArray(X[0]):Array.isArray(X))?this[ee]=$=[de(X[0]),de(X[1]),de(X[2])]:this[ee]=$=[de(X),de(X),de(X)];for(var ne=0;ne<3;++ne)if($[ne]!==Q[ne])return!0}return!1}var N=b.bind(this,!1,Number),O=b.bind(this,!1,Boolean),Y=b.bind(this,!1,String),B=b.bind(this,!0,function(ue){if(Array.isArray(ue)){if(ue.length===3)return[+ue[0],+ue[1],+ue[2],1];if(ue.length===4)return[+ue[0],+ue[1],+ue[2],+ue[3]]}return[0,0,0,1]}),W,H=!1,U=!1;if("bounds"in R)for(var G=R.bounds,j=0;j<2;++j)for(var re=0;re<3;++re)G[j][re]!==this.bounds[j][re]&&(U=!0),this.bounds[j][re]=G[j][re];if("ticks"in R){W=R.ticks,H=!0,this.autoTicks=!1;for(var j=0;j<3;++j)this.tickSpacing[j]=0}else N("tickSpacing")&&(this.autoTicks=!0,U=!0);if(this._firstInit&&("ticks"in R||"tickSpacing"in R||(this.autoTicks=!0),U=!0,H=!0,this._firstInit=!1),U&&this.autoTicks&&(W=v.create(this.bounds,this.tickSpacing),H=!0),H){for(var j=0;j<3;++j)W[j].sort(function(de,ee){return de.x-ee.x});v.equal(W,this.ticks)?H=!1:this.ticks=W}O("tickEnable"),Y("tickFont")&&(H=!0),N("tickSize"),N("tickAngle"),N("tickPad"),B("tickColor");var ae=Y("labels");Y("labelFont")&&(ae=!0),O("labelEnable"),N("labelSize"),N("labelPad"),B("labelColor"),O("lineEnable"),O("lineMirror"),N("lineWidth"),B("lineColor"),O("lineTickEnable"),O("lineTickMirror"),N("lineTickLength"),N("lineTickWidth"),B("lineTickColor"),O("gridEnable"),N("gridWidth"),B("gridColor"),O("zeroEnable"),B("zeroLineColor"),N("zeroLineWidth"),O("backgroundEnable"),B("backgroundColor"),this._text?this._text&&(ae||H)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&H&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=l(this.gl,this.bounds,this.ticks))};function g(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var u=[new g,new g,new g];function y(R,b,N,O,Y){for(var B=R.primalOffset,W=R.primalMinor,H=R.mirrorOffset,U=R.mirrorMinor,G=O[b],j=0;j<3;++j)if(b!==j){var re=B,ae=H,ue=W,de=U;G&1<<j&&(re=H,ae=B,ue=U,de=W),re[j]=N[0][j],ae[j]=N[1][j],Y[j]>0?(ue[j]=-1,de[j]=0):(ue[j]=0,de[j]=1)}}var C=[0,0,0],S={model:c,view:c,projection:c,_ortho:!1};M.isOpaque=function(){return!0},M.isTransparent=function(){return!1},M.drawTransparent=function(R){};var D=0,T=[0,0,0],P=[0,0,0],A=[0,0,0];M.draw=function(R){R=R||S;for(var Q=this.gl,b=R.model||c,N=R.view||c,O=R.projection||c,Y=this.bounds,B=R._ortho||!1,W=f(b,N,O,Y,B),H=W.cubeEdges,U=W.axis,G=N[12],j=N[13],re=N[14],ae=N[15],ue=B?2:1,de=ue*this.pixelRatio*(O[3]*G+O[7]*j+O[11]*re+O[15]*ae)/Q.drawingBufferHeight,ee=0;ee<3;++ee)this.lastCubeProps.cubeEdges[ee]=H[ee],this.lastCubeProps.axis[ee]=U[ee];for(var X=u,ee=0;ee<3;++ee)y(u[ee],ee,this.bounds,H,U);for(var Q=this.gl,$=C,ee=0;ee<3;++ee)this.backgroundEnable[ee]?$[ee]=U[ee]:$[ee]=0;this._background.draw(b,N,O,Y,$,this.backgroundColor),this._lines.bind(b,N,O,this);for(var ee=0;ee<3;++ee){var ne=[0,0,0];U[ee]>0?ne[ee]=Y[1][ee]:ne[ee]=Y[0][ee];for(var fe=0;fe<2;++fe){var te=(ee+1+fe)%3,q=(ee+1+(fe^1))%3;this.gridEnable[te]&&this._lines.drawGrid(te,q,this.bounds,ne,this.gridColor[te],this.gridWidth[te]*this.pixelRatio)}for(var fe=0;fe<2;++fe){var te=(ee+1+fe)%3,q=(ee+1+(fe^1))%3;this.zeroEnable[q]&&Math.min(Y[0][q],Y[1][q])<=0&&Math.max(Y[0][q],Y[1][q])>=0&&this._lines.drawZero(te,q,this.bounds,ne,this.zeroLineColor[q],this.zeroLineWidth[q]*this.pixelRatio)}}for(var ee=0;ee<3;++ee){this.lineEnable[ee]&&this._lines.drawAxisLine(ee,this.bounds,X[ee].primalOffset,this.lineColor[ee],this.lineWidth[ee]*this.pixelRatio),this.lineMirror[ee]&&this._lines.drawAxisLine(ee,this.bounds,X[ee].mirrorOffset,this.lineColor[ee],this.lineWidth[ee]*this.pixelRatio);for(var he=x(T,X[ee].primalMinor),se=x(P,X[ee].mirrorMinor),pe=this.lineTickLength,fe=0;fe<3;++fe){var we=de/b[5*fe];he[fe]*=pe[fe]*we,se[fe]*=pe[fe]*we}this.lineTickEnable[ee]&&this._lines.drawAxisTicks(ee,X[ee].primalOffset,he,this.lineTickColor[ee],this.lineTickWidth[ee]*this.pixelRatio),this.lineTickMirror[ee]&&this._lines.drawAxisTicks(ee,X[ee].mirrorOffset,se,this.lineTickColor[ee],this.lineTickWidth[ee]*this.pixelRatio)}this._lines.unbind(),this._text.bind(b,N,O,this.pixelRatio);var Ee,Me=.5,Be,Ne;function Ce(Ge){Ne=[0,0,0],Ne[Ge]=1}function Te(Ge,it,qe){var $e=(Ge+1)%3,tt=(Ge+2)%3,vt=it[$e],dt=it[tt],gt=qe[$e],Mt=qe[tt];if(vt>0&&Mt>0){Ce($e);return}else if(vt>0&&Mt<0){Ce($e);return}else if(vt<0&&Mt>0){Ce($e);return}else if(vt<0&&Mt<0){Ce($e);return}else if(dt>0&&gt>0){Ce(tt);return}else if(dt>0&&gt<0){Ce(tt);return}else if(dt<0&&gt>0){Ce(tt);return}else if(dt<0&&gt<0){Ce(tt);return}}for(var ee=0;ee<3;++ee){for(var Le=X[ee].primalMinor,Ve=X[ee].mirrorMinor,We=x(A,X[ee].primalOffset),fe=0;fe<3;++fe)this.lineTickEnable[ee]&&(We[fe]+=de*Le[fe]*Math.max(this.lineTickLength[fe],0)/b[5*fe]);var Fe=[0,0,0];if(Fe[ee]=1,this.tickEnable[ee]){this.tickAngle[ee]===-3600?(this.tickAngle[ee]=0,this.tickAlign[ee]="auto"):this.tickAlign[ee]=-1,Be=1,Ee=[this.tickAlign[ee],Me,Be],Ee[0]==="auto"?Ee[0]=D:Ee[0]=parseInt(""+Ee[0]),Ne=[0,0,0],Te(ee,Le,Ve);for(var fe=0;fe<3;++fe)We[fe]+=de*Le[fe]*this.tickPad[fe]/b[5*fe];this._text.drawTicks(ee,this.tickSize[ee],this.tickAngle[ee],We,this.tickColor[ee],Fe,Ne,Ee)}if(this.labelEnable[ee]){Be=0,Ne=[0,0,0],this.labels[ee].length>4&&(Ce(ee),Be=1),Ee=[this.labelAlign[ee],Me,Be],Ee[0]==="auto"?Ee[0]=D:Ee[0]=parseInt(""+Ee[0]);for(var fe=0;fe<3;++fe)We[fe]+=de*Le[fe]*this.labelPad[fe]/b[5*fe];We[ee]+=.5*(Y[0][ee]+Y[1][ee]),this._text.drawLabel(ee,this.labelSize[ee],this.labelAngle[ee],We,this.labelColor[ee],[0,0,0],Ne,Ee)}}this._text.unbind()},M.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function a(R,b){var N=new d(R);return N.update(b),N}},1011:function(p,m,t){p.exports=c;var r=t(5827),l=t(2944),i=t(1943).bg;function f(x,d,M,g){this.gl=x,this.buffer=d,this.vao=M,this.shader=g}var v=f.prototype;v.draw=function(x,d,M,g,u,y){for(var C=!1,S=0;S<3;++S)C=C||u[S];if(C){var D=this.gl;D.enable(D.POLYGON_OFFSET_FILL),D.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:x,view:d,projection:M,bounds:g,enable:u,colors:y},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),D.disable(D.POLYGON_OFFSET_FILL)}},v.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(x){for(var d=[],M=[],g=0,u=0;u<3;++u)for(var y=(u+1)%3,C=(u+2)%3,S=[0,0,0],D=[0,0,0],T=-1;T<=1;T+=2){M.push(g,g+2,g+1,g+1,g+2,g+3),S[u]=T,D[u]=T;for(var P=-1;P<=1;P+=2){S[y]=P;for(var A=-1;A<=1;A+=2)S[C]=A,d.push(S[0],S[1],S[2],D[0],D[1],D[2]),g+=1}var a=y;y=C,C=a}var R=r(x,new Float32Array(d)),b=r(x,new Uint16Array(M),x.ELEMENT_ARRAY_BUFFER),N=l(x,[{buffer:R,type:x.FLOAT,size:3,offset:0,stride:24},{buffer:R,type:x.FLOAT,size:3,offset:12,stride:24}],b),O=i(x);return O.attributes.position.location=0,O.attributes.normal.location=1,new f(x,R,N,O)}},2864:function(p,m,t){p.exports=T;var r=t(2288),l=t(104),i=t(4670),f=t(417),v=new Array(16),c=new Array(8),x=new Array(8),d=new Array(3),M=[0,0,0];(function(){for(var P=0;P<8;++P)c[P]=[1,1,1,1],x[P]=[1,1,1]})();function g(P,A,a){for(var R=0;R<4;++R){P[R]=a[12+R];for(var b=0;b<3;++b)P[R]+=A[b]*a[4*b+R]}}var u=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function y(P){for(var A=0;A<u.length;++A)if(P=i.positive(P,u[A]),P.length<3)return 0;for(var a=P[0],R=a[0]/a[3],b=a[1]/a[3],N=0,A=1;A+1<P.length;++A){var O=P[A],Y=P[A+1],B=O[0]/O[3],W=O[1]/O[3],H=Y[0]/Y[3],U=Y[1]/Y[3],G=B-R,j=W-b,re=H-R,ae=U-b;N+=Math.abs(G*ae-j*re)}return N}var C=[1,1,1],S=[0,0,0],D={cubeEdges:C,axis:S};function T(P,A,a,R,b){l(v,A,P),l(v,a,v);for(var N=0,O=0;O<2;++O){d[2]=R[O][2];for(var Y=0;Y<2;++Y){d[1]=R[Y][1];for(var B=0;B<2;++B)d[0]=R[B][0],g(c[N],d,v),N+=1}}for(var W=-1,O=0;O<8;++O){for(var H=c[O][3],U=0;U<3;++U)x[O][U]=c[O][U]/H;b&&(x[O][2]*=-1),H<0&&(W<0||x[O][2]<x[W][2])&&(W=O)}if(W<0){W=0;for(var G=0;G<3;++G){for(var j=(G+2)%3,re=(G+1)%3,ae=-1,ue=-1,de=0;de<2;++de){var ee=de<<G,X=ee+(de<<j)+(1-de<<re),Q=ee+(1-de<<j)+(de<<re);f(x[ee],x[X],x[Q],M)<0||(de?ae=1:ue=1)}if(ae<0||ue<0){ue>ae&&(W|=1<<G);continue}for(var de=0;de<2;++de){var ee=de<<G,X=ee+(de<<j)+(1-de<<re),Q=ee+(1-de<<j)+(de<<re),$=y([c[ee],c[X],c[Q],c[ee+(1<<j)+(1<<re)]]);de?ae=$:ue=$}if(ue>ae){W|=1<<G;continue}}}for(var ne=7^W,fe=-1,O=0;O<8;++O)O===W||O===ne||(fe<0||x[fe][1]>x[O][1])&&(fe=O);for(var te=-1,O=0;O<3;++O){var q=fe^1<<O;if(!(q===W||q===ne)){te<0&&(te=q);var re=x[q];re[0]<x[te][0]&&(te=q)}}for(var he=-1,O=0;O<3;++O){var q=fe^1<<O;if(!(q===W||q===ne||q===te)){he<0&&(he=q);var re=x[q];re[0]>x[he][0]&&(he=q)}}var se=C;se[0]=se[1]=se[2]=0,se[r.log2(te^fe)]=fe&te,se[r.log2(fe^he)]=fe&he;var pe=he^7;pe===W||pe===ne?(pe=te^7,se[r.log2(he^pe)]=pe&he):se[r.log2(te^pe)]=pe&te;for(var we=S,Ee=W,G=0;G<3;++G)Ee&1<<G?we[G]=-1:we[G]=1;return D}},1681:function(p,m,t){p.exports=C;var r=t(5827),l=t(2944),i=t(1943).j,f=[0,0,0],v=[0,0,0],c=[0,0,0],x=[0,0,0],d=[1,1];function M(S){return S[0]=S[1]=S[2]=0,S}function g(S,D){return S[0]=D[0],S[1]=D[1],S[2]=D[2],S}function u(S,D,T,P,A,a,R,b){this.gl=S,this.vertBuffer=D,this.vao=T,this.shader=P,this.tickCount=A,this.tickOffset=a,this.gridCount=R,this.gridOffset=b}var y=u.prototype;y.bind=function(S,D,T){this.shader.bind(),this.shader.uniforms.model=S,this.shader.uniforms.view=D,this.shader.uniforms.projection=T,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=d,this.vao.bind()},y.unbind=function(){this.vao.unbind()},y.drawAxisLine=function(S,D,T,P,A){var a=M(v);this.shader.uniforms.majorAxis=v,a[S]=D[1][S]-D[0][S],this.shader.uniforms.minorAxis=a;var R=g(x,T);R[S]+=D[0][S],this.shader.uniforms.offset=R,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=P;var b=M(c);b[(S+2)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6);var b=M(c);b[(S+1)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6)},y.drawAxisTicks=function(S,D,T,P,A){if(this.tickCount[S]){var a=M(f);a[S]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=D,this.shader.uniforms.minorAxis=T,this.shader.uniforms.color=P,this.shader.uniforms.lineWidth=A;var R=M(c);R[S]=1,this.shader.uniforms.screenAxis=R,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S])}},y.drawGrid=function(S,D,T,P,A,a){if(this.gridCount[S]){var R=M(v);R[D]=T[1][D]-T[0][D],this.shader.uniforms.minorAxis=R;var b=g(x,P);b[D]+=T[0][D],this.shader.uniforms.offset=b;var N=M(f);N[S]=1,this.shader.uniforms.majorAxis=N;var O=M(c);O[S]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,this.gridCount[S],this.gridOffset[S])}},y.drawZero=function(S,D,T,P,A,a){var R=M(v);this.shader.uniforms.majorAxis=R,R[S]=T[1][S]-T[0][S],this.shader.uniforms.minorAxis=R;var b=g(x,P);b[S]+=T[0][S],this.shader.uniforms.offset=b;var N=M(c);N[D]=1,this.shader.uniforms.screenAxis=N,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,6)},y.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function C(S,D,T){var P=[],A=[0,0,0],a=[0,0,0],R=[0,0,0],b=[0,0,0];P.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var N=0;N<3;++N){for(var B=P.length/3|0,O=0;O<T[N].length;++O){var Y=+T[N][O].x;P.push(Y,0,1,Y,1,1,Y,0,-1,Y,0,-1,Y,1,1,Y,1,-1)}var H=P.length/3|0;A[N]=B,a[N]=H-B;for(var B=P.length/3|0,W=0;W<T[N].length;++W){var Y=+T[N][W].x;P.push(Y,0,1,Y,1,1,Y,0,-1,Y,0,-1,Y,1,1,Y,1,-1)}var H=P.length/3|0;R[N]=B,b[N]=H-B}var U=r(S,new Float32Array(P)),G=l(S,[{buffer:U,type:S.FLOAT,size:3,stride:0,offset:0}]),j=i(S);return j.attributes.position.location=0,new u(S,U,G,j,a,A,b,R)}},1943:function(p,m,t){var r=t(6832),l=t(5158),i=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);m.j=function(M){return l(M,i,f,null,[{name:"position",type:"vec3"}])};var v=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),c=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);m.f=function(M){return l(M,v,c,null,[{name:"position",type:"vec3"}])};var x=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),d=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);m.bg=function(M){return l(M,x,d,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(p,m,t){p.exports=y;var r=t(5827),l=t(2944),i=t(875),f=t(1943).f,v=window||h.global||{},c=v.__TEXT_CACHE||{};v.__TEXT_CACHE={};var x=3;function d(C,S,D,T){this.gl=C,this.shader=S,this.buffer=D,this.vao=T,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var M=d.prototype,g=[0,0];M.bind=function(C,S,D,T){this.vao.bind(),this.shader.bind();var P=this.shader.uniforms;P.model=C,P.view=S,P.projection=D,P.pixelScale=T,g[0]=this.gl.drawingBufferWidth,g[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=g},M.unbind=function(){this.vao.unbind()},M.update=function(C,S,D,T,P){var A=[];function a(U,G,j,re,ae,ue){var de=c[j];de||(de=c[j]={});var ee=de[G];ee||(ee=de[G]=u(G,{triangles:!0,font:j,textAlign:"center",textBaseline:"middle",lineSpacing:ae,styletags:ue}));for(var X=(re||12)/12,Q=ee.positions,$=ee.cells,ne=0,fe=$.length;ne<fe;++ne)for(var te=$[ne],q=2;q>=0;--q){var he=Q[te[q]];A.push(X*he[0],-X*he[1],U)}}for(var R=[0,0,0],b=[0,0,0],N=[0,0,0],O=[0,0,0],Y=1.25,B={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},W=0;W<3;++W){N[W]=A.length/x|0,a(.5*(C[0][W]+C[1][W]),S[W],D[W],12,Y,B),O[W]=(A.length/x|0)-N[W],R[W]=A.length/x|0;for(var H=0;H<T[W].length;++H)T[W][H].text&&a(T[W][H].x,T[W][H].text,T[W][H].font||P,T[W][H].fontSize||12,Y,B);b[W]=(A.length/x|0)-R[W]}this.buffer.update(A),this.tickOffset=R,this.tickCount=b,this.labelOffset=N,this.labelCount=O},M.drawTicks=function(C,S,D,T,P,A,a,R){this.tickCount[C]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=P,this.shader.uniforms.angle=D,this.shader.uniforms.scale=S,this.shader.uniforms.offset=T,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=R,this.vao.draw(this.gl.TRIANGLES,this.tickCount[C],this.tickOffset[C]))},M.drawLabel=function(C,S,D,T,P,A,a,R){this.labelCount[C]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=P,this.shader.uniforms.angle=D,this.shader.uniforms.scale=S,this.shader.uniforms.offset=T,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=R,this.vao.draw(this.gl.TRIANGLES,this.labelCount[C],this.labelOffset[C]))},M.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function u(C,S){try{return i(C,S)}catch(D){return console.warn('error vectorizing text:"'+C+'" error:',D),{cells:[],positions:[]}}}function y(C,S,D,T,P,A){var a=r(C),R=l(C,[{buffer:a,size:3}]),b=f(C);b.attributes.position.location=0;var N=new d(C,b,a,R);return N.update(S,D,T,P,A),N}},8468:function(p,m){m.create=r,m.equal=l;function t(i,f){var v=i+"",c=v.indexOf("."),x=0;c>=0&&(x=v.length-c-1);var d=Math.pow(10,x),M=Math.round(i*f*d),g=M+"";if(g.indexOf("e")>=0)return g;var u=M/d,y=M%d;M<0?(u=-Math.ceil(u)|0,y=-y|0):(u=Math.floor(u)|0,y=y|0);var C=""+u;if(M<0&&(C="-"+C),x){for(var S=""+y;S.length<x;)S="0"+S;return C+"."+S}else return C}function r(i,f){for(var v=[],c=0;c<3;++c){var x=[];.5*(i[0][c]+i[1][c]);for(var d=0;d*f[c]<=i[1][c];++d)x.push({x:d*f[c],text:t(f[c],d)});for(var d=-1;d*f[c]>=i[0][c];--d)x.push({x:d*f[c],text:t(f[c],d)});v.push(x)}return v}function l(i,f){for(var v=0;v<3;++v){if(i[v].length!==f[v].length)return!1;for(var c=0;c<i[v].length;++c){var x=i[v][c],d=f[v][c];if(x.x!==d.x||x.text!==d.text||x.font!==d.font||x.fontColor!==d.fontColor||x.fontSize!==d.fontSize||x.dx!==d.dx||x.dy!==d.dy)return!1}}return!0}},2771:function(p,m,t){p.exports=D;var r=t(5795),l=t(4670),i=t(2864),f=t(104),v=t(2142),c=t(6342),x=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),d=new Float32Array(16);function M(T,P,A){this.lo=T,this.hi=P,this.pixelsPerDataUnit=A}var g=[0,0,0,1],u=[0,0,0,1];function y(T,P,A,a,R){for(var b=0;b<3;++b){for(var N=g,O=u,Y=0;Y<3;++Y)O[Y]=N[Y]=A[Y];O[3]=N[3]=1,O[b]+=1,c(O,O,P),O[3]<0&&(T[b]=1/0),N[b]-=1,c(N,N,P),N[3]<0&&(T[b]=1/0);var B=(N[0]/N[3]-O[0]/O[3])*a,W=(N[1]/N[3]-O[1]/O[3])*R;T[b]=.25*Math.sqrt(B*B+W*W)}return T}var C=[new M(1/0,-1/0,1/0),new M(1/0,-1/0,1/0),new M(1/0,-1/0,1/0)],S=[0,0,0];function D(T,P,A,a,W){var b=P.model||x,N=P.view||x,O=P.projection||x,Y=P._ortho||!1,B=T.bounds,W=W||i(b,N,O,B,Y),H=W.axis;f(d,N,b),f(d,O,d);for(var U=C,G=0;G<3;++G)U[G].lo=1/0,U[G].hi=-1/0,U[G].pixelsPerDataUnit=1/0;var j=r(v(d,d));v(d,d);for(var re=0;re<3;++re){var ae=(re+1)%3,ue=(re+2)%3,de=S;e:for(var G=0;G<2;++G){var ee=[];if(H[re]<0!=!!G){de[re]=B[G][re];for(var X=0;X<2;++X){de[ae]=B[X^G][ae];for(var Q=0;Q<2;++Q)de[ue]=B[Q^X^G][ue],ee.push(de.slice())}for(var $=Y?5:4,X=$;X===$;++X){if(ee.length===0)continue e;ee=l.positive(ee,j[X])}for(var X=0;X<ee.length;++X)for(var ue=ee[X],ne=y(S,d,ue,A,a),Q=0;Q<3;++Q)U[Q].lo=Math.min(U[Q].lo,ue[Q]),U[Q].hi=Math.max(U[Q].hi,ue[Q]),Q!==re&&(U[Q].pixelsPerDataUnit=Math.min(U[Q].pixelsPerDataUnit,Math.abs(ne[Q])))}}}return U}},5827:function(p,m,t){var r=t(5306),l=t(7498),i=t(5050),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function v(u,y,C,S,D){this.gl=u,this.type=y,this.handle=C,this.length=S,this.usage=D}var c=v.prototype;c.bind=function(){this.gl.bindBuffer(this.type,this.handle)},c.unbind=function(){this.gl.bindBuffer(this.type,null)},c.dispose=function(){this.gl.deleteBuffer(this.handle)};function x(u,y,C,S,D,T){var P=D.length*D.BYTES_PER_ELEMENT;if(T<0)return u.bufferData(y,D,S),P;if(P+T>C)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return u.bufferSubData(y,T,D),C}function d(u,y){for(var C=r.malloc(u.length,y),S=u.length,D=0;D<S;++D)C[D]=u[D];return C}function M(u,y){for(var C=1,S=y.length-1;S>=0;--S){if(y[S]!==C)return!1;C*=u[S]}return!0}c.update=function(u,y){if(typeof y!="number"&&(y=-1),this.bind(),typeof u=="object"&&typeof u.shape<"u"){var C=u.dtype;if(f.indexOf(C)<0&&(C="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var S=gl.getExtension("OES_element_index_uint");S&&C!=="uint16"?C="uint32":C="uint16"}if(C===u.dtype&&M(u.shape,u.stride))u.offset===0&&u.data.length===u.shape[0]?this.length=x(this.gl,this.type,this.length,this.usage,u.data,y):this.length=x(this.gl,this.type,this.length,this.usage,u.data.subarray(u.offset,u.shape[0]),y);else{var D=r.malloc(u.size,C),T=i(D,u.shape);l.assign(T,u),y<0?this.length=x(this.gl,this.type,this.length,this.usage,D,y):this.length=x(this.gl,this.type,this.length,this.usage,D.subarray(0,u.size),y),r.free(D)}}else if(Array.isArray(u)){var P;this.type===this.gl.ELEMENT_ARRAY_BUFFER?P=d(u,"uint16"):P=d(u,"float32"),y<0?this.length=x(this.gl,this.type,this.length,this.usage,P,y):this.length=x(this.gl,this.type,this.length,this.usage,P.subarray(0,u.length),y),r.free(P)}else if(typeof u=="object"&&typeof u.length=="number")this.length=x(this.gl,this.type,this.length,this.usage,u,y);else if(typeof u=="number"||u===void 0){if(y>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");u=u|0,u<=0&&(u=1),this.gl.bufferData(this.type,u|0,this.usage),this.length=u}else throw new Error("gl-buffer: Invalid data type")};function g(u,y,C,S){if(C=C||u.ARRAY_BUFFER,S=S||u.DYNAMIC_DRAW,C!==u.ARRAY_BUFFER&&C!==u.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(S!==u.DYNAMIC_DRAW&&S!==u.STATIC_DRAW&&S!==u.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var D=u.createBuffer(),T=new v(u,C,D,0,S);return T.update(y),T}p.exports=g},1140:function(p,m,t){var r=t(2858);p.exports=function(i,f){var v=i.positions,c=i.vectors,x={positions:[],vertexIntensity:[],vertexIntensityBounds:i.vertexIntensityBounds,vectors:[],cells:[],coneOffset:i.coneOffset,colormap:i.colormap};if(i.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),x;for(var d=0,M=1/0,g=-1/0,u=1/0,y=-1/0,C=1/0,S=-1/0,D=null,T=null,P=[],A=1/0,a=!1,R=0;R<v.length;R++){var b=v[R];M=Math.min(b[0],M),g=Math.max(b[0],g),u=Math.min(b[1],u),y=Math.max(b[1],y),C=Math.min(b[2],C),S=Math.max(b[2],S);var N=c[R];if(r.length(N)>d&&(d=r.length(N)),R){var O=2*r.distance(D,b)/(r.length(T)+r.length(N));O?(A=Math.min(A,O),a=!1):a=!0}a||(D=b,T=N),P.push(N)}var Y=[M,u,C],B=[g,y,S];f&&(f[0]=Y,f[1]=B),d===0&&(d=1);var W=1/d;isFinite(A)||(A=1),x.vectorScale=A;var H=i.coneSize||.5;i.absoluteConeSize&&(H=i.absoluteConeSize*W),x.coneScale=H;for(var R=0,U=0;R<v.length;R++)for(var b=v[R],G=b[0],j=b[1],re=b[2],ae=P[R],ue=r.length(ae)*W,de=0,ee=8;de<ee;de++){x.positions.push([G,j,re,U++]),x.positions.push([G,j,re,U++]),x.positions.push([G,j,re,U++]),x.positions.push([G,j,re,U++]),x.positions.push([G,j,re,U++]),x.positions.push([G,j,re,U++]),x.vectors.push(ae),x.vectors.push(ae),x.vectors.push(ae),x.vectors.push(ae),x.vectors.push(ae),x.vectors.push(ae),x.vertexIntensity.push(ue,ue,ue),x.vertexIntensity.push(ue,ue,ue);var X=x.positions.length;x.cells.push([X-6,X-5,X-4],[X-3,X-2,X-1])}return x};var l=t(7234);p.exports.createMesh=t(5028),p.exports.createConeMesh=function(i,f){return p.exports.createMesh(i,f,{shaders:l,traceType:"cone"})}},5028:function(p,m,t){var r=t(5158),l=t(5827),i=t(2944),f=t(8931),v=t(104),c=t(7437),x=t(5050),d=t(9156),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(P,A,a,R,b,N,O,Y,B,W,H){this.gl=P,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=A,this.dirty=!0,this.triShader=a,this.pickShader=R,this.trianglePositions=b,this.triangleVectors=N,this.triangleColors=Y,this.triangleUVs=B,this.triangleIds=O,this.triangleVAO=W,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=H,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=M,this._view=M,this._projection=M,this._resolution=[1,1]}var u=g.prototype;u.isOpaque=function(){return this.opacity>=1},u.isTransparent=function(){return this.opacity<1},u.pickSlots=1,u.setPickBase=function(P){this.pickId=P};function y(P){for(var A=d({colormap:P,nshades:256,format:"rgba"}),a=new Uint8Array(256*4),R=0;R<256;++R){for(var b=A[R],N=0;N<3;++N)a[4*R+N]=b[N];a[4*R+3]=b[3]*255}return x(a,[256,256,4],[4,0,1])}function C(P){for(var A=P.length,a=new Array(A),R=0;R<A;++R)a[R]=P[R][2];return a}u.update=function(P){P=P||{};var A=this.gl;this.dirty=!0,"lightPosition"in P&&(this.lightPosition=P.lightPosition),"opacity"in P&&(this.opacity=P.opacity),"ambient"in P&&(this.ambientLight=P.ambient),"diffuse"in P&&(this.diffuseLight=P.diffuse),"specular"in P&&(this.specularLight=P.specular),"roughness"in P&&(this.roughness=P.roughness),"fresnel"in P&&(this.fresnel=P.fresnel),P.tubeScale!==void 0&&(this.tubeScale=P.tubeScale),P.vectorScale!==void 0&&(this.vectorScale=P.vectorScale),P.coneScale!==void 0&&(this.coneScale=P.coneScale),P.coneOffset!==void 0&&(this.coneOffset=P.coneOffset),P.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=A.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=A.LINEAR,this.texture.setPixels(y(P.colormap)),this.texture.generateMipmap());var a=P.cells,R=P.positions,b=P.vectors;if(!R||!a||!b)return;var N=[],O=[],Y=[],B=[],W=[];this.cells=a,this.positions=R,this.vectors=b;var H=P.meshColor||[1,1,1,1],U=P.vertexIntensity,G=1/0,j=-1/0;if(U)if(P.vertexIntensityBounds)G=+P.vertexIntensityBounds[0],j=+P.vertexIntensityBounds[1];else for(var re=0;re<U.length;++re){var ae=U[re];G=Math.min(G,ae),j=Math.max(j,ae)}else for(var re=0;re<R.length;++re){var ae=R[re][2];G=Math.min(G,ae),j=Math.max(j,ae)}U?this.intensity=U:this.intensity=C(R),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var re=0;re<R.length;++re)for(var ue=R[re],de=0;de<3;++de)isNaN(ue[de])||!isFinite(ue[de])||(this.bounds[0][de]=Math.min(this.bounds[0][de],ue[de]),this.bounds[1][de]=Math.max(this.bounds[1][de],ue[de]));var ee=0;e:for(var re=0;re<a.length;++re){var X=a[re];switch(X.length){case 3:for(var de=0;de<3;++de)for(var Q=X[de],ue=R[Q],$=0;$<3;++$)if(isNaN(ue[$])||!isFinite(ue[$]))continue e;for(var de=0;de<3;++de){var Q=X[2-de],ue=R[Q];N.push(ue[0],ue[1],ue[2],ue[3]);var ne=b[Q];O.push(ne[0],ne[1],ne[2],ne[3]||0);var fe=H;fe.length===3?Y.push(fe[0],fe[1],fe[2],1):Y.push(fe[0],fe[1],fe[2],fe[3]);var te;U?te=[(U[Q]-G)/(j-G),0]:te=[(ue[2]-G)/(j-G),0],B.push(te[0],te[1]),W.push(re)}ee+=1;break}}this.triangleCount=ee,this.trianglePositions.update(N),this.triangleVectors.update(O),this.triangleColors.update(Y),this.triangleUVs.update(B),this.triangleIds.update(new Uint32Array(W))},u.drawTransparent=u.draw=function(P){P=P||{};for(var A=this.gl,a=P.model||M,R=P.view||M,b=P.projection||M,N=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],O=0;O<3;++O)N[0][O]=Math.max(N[0][O],this.clipBounds[0][O]),N[1][O]=Math.min(N[1][O],this.clipBounds[1][O]);var Y={model:a,view:R,projection:b,inverseModel:M.slice(),clipBounds:N,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};Y.inverseModel=c(Y.inverseModel,Y.model),A.disable(A.CULL_FACE),this.texture.bind(0);var B=new Array(16);v(B,Y.view,Y.model),v(B,Y.projection,B),c(B,B);for(var O=0;O<3;++O)Y.eyePosition[O]=B[12+O]/B[15];for(var W=B[15],O=0;O<3;++O)W+=this.lightPosition[O]*B[4*O+3];for(var O=0;O<3;++O){for(var H=B[12+O],U=0;U<3;++U)H+=B[4*U+O]*this.lightPosition[U];Y.lightPosition[O]=H/W}if(this.triangleCount>0){var G=this.triShader;G.bind(),G.uniforms=Y,this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},u.drawPick=function(P){P=P||{};for(var A=this.gl,a=P.model||M,R=P.view||M,b=P.projection||M,N=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],O=0;O<3;++O)N[0][O]=Math.max(N[0][O],this.clipBounds[0][O]),N[1][O]=Math.min(N[1][O],this.clipBounds[1][O]);this._model=[].slice.call(a),this._view=[].slice.call(R),this._projection=[].slice.call(b),this._resolution=[A.drawingBufferWidth,A.drawingBufferHeight];var Y={model:a,view:R,projection:b,clipBounds:N,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},B=this.pickShader;B.bind(),B.uniforms=Y,this.triangleCount>0&&(this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},u.pick=function(P){if(!P||P.id!==this.pickId)return null;var A=P.value[0]+256*P.value[1]+65536*P.value[2],a=this.cells[A],R=this.positions[a[1]].slice(0,3),b={position:R,dataCoordinate:R,index:Math.floor(a[1]/48)};return this.traceType==="cone"?b.index=Math.floor(a[1]/48):this.traceType==="streamtube"&&(b.intensity=this.intensity[a[1]],b.velocity=this.vectors[a[1]].slice(0,3),b.divergence=this.vectors[a[1]][3],b.index=A),b},u.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function S(P,A){var a=r(P,A.meshShader.vertex,A.meshShader.fragment,null,A.meshShader.attributes);return a.attributes.position.location=0,a.attributes.color.location=2,a.attributes.uv.location=3,a.attributes.vector.location=4,a}function D(P,A){var a=r(P,A.pickShader.vertex,A.pickShader.fragment,null,A.pickShader.attributes);return a.attributes.position.location=0,a.attributes.id.location=1,a.attributes.vector.location=4,a}function T(P,A,a){var R=a.shaders;arguments.length===1&&(A=P,P=A.gl);var b=S(P,R),N=D(P,R),O=f(P,x(new Uint8Array([255,255,255,255]),[1,1,4]));O.generateMipmap(),O.minFilter=P.LINEAR_MIPMAP_LINEAR,O.magFilter=P.LINEAR;var Y=l(P),B=l(P),W=l(P),H=l(P),U=l(P),G=i(P,[{buffer:Y,type:P.FLOAT,size:4},{buffer:U,type:P.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:W,type:P.FLOAT,size:4},{buffer:H,type:P.FLOAT,size:2},{buffer:B,type:P.FLOAT,size:4}]),j=new g(P,O,b,N,Y,B,U,W,H,G,a.traceType||"cone");return j.update(A),j}p.exports=T},7234:function(p,m,t){var r=t(6832),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),i=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),v=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);m.meshShader={vertex:l,fragment:i,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},m.pickShader={vertex:f,fragment:v,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(p){p.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(p,m,t){var r=t(1950);p.exports=function(i){return r[i]}},3110:function(p,m,t){p.exports=g;var r=t(5827),l=t(2944),i=t(7667),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(u,y,C,S){this.gl=u,this.shader=S,this.buffer=y,this.vao=C,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var c=v.prototype;c.isOpaque=function(){return!this.hasAlpha},c.isTransparent=function(){return this.hasAlpha},c.drawTransparent=c.draw=function(u){var y=this.gl,C=this.shader.uniforms;this.shader.bind();var S=C.view=u.view||f,D=C.projection=u.projection||f;C.model=u.model||f,C.clipBounds=this.clipBounds,C.opacity=this.opacity;var T=S[12],P=S[13],A=S[14],a=S[15],R=u._ortho||!1,b=R?2:1,N=b*this.pixelRatio*(D[3]*T+D[7]*P+D[11]*A+D[15]*a)/y.drawingBufferHeight;this.vao.bind();for(var O=0;O<3;++O)y.lineWidth(this.lineWidth[O]*this.pixelRatio),C.capSize=this.capSize[O]*N,this.lineCount[O]&&y.drawArrays(y.LINES,this.lineOffset[O],this.lineCount[O]);this.vao.unbind()};function x(u,y){for(var C=0;C<3;++C)u[0][C]=Math.min(u[0][C],y[C]),u[1][C]=Math.max(u[1][C],y[C])}var d=function(){for(var u=new Array(3),y=0;y<3;++y){for(var C=[],S=1;S<=2;++S)for(var D=-1;D<=1;D+=2){var T=(S+y)%3,P=[0,0,0];P[T]=D,C.push(P)}u[y]=C}return u}();function M(u,y,C,S){for(var D=d[S],T=0;T<D.length;++T){var P=D[T];u.push(y[0],y[1],y[2],C[0],C[1],C[2],C[3],P[0],P[1],P[2])}return D.length}c.update=function(u){u=u||{},"lineWidth"in u&&(this.lineWidth=u.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in u&&(this.capSize=u.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in u&&(this.opacity=+u.opacity,this.opacity<1&&(this.hasAlpha=!0));var y=u.color||[[0,0,0],[0,0,0],[0,0,0]],C=u.position,S=u.error;if(Array.isArray(y[0])||(y=[y,y,y]),C&&S){var D=[],T=C.length,P=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var A=0;A<3;++A){this.lineOffset[A]=P;e:for(var a=0;a<T;++a){for(var R=C[a],b=0;b<3;++b)if(isNaN(R[b])||!isFinite(R[b]))continue e;var N=S[a],O=y[A];if(Array.isArray(O[0])&&(O=y[a]),O.length===3?O=[O[0],O[1],O[2],1]:O.length===4&&(O=[O[0],O[1],O[2],O[3]],!this.hasAlpha&&O[3]<1&&(this.hasAlpha=!0)),!(isNaN(N[0][A])||isNaN(N[1][A]))){if(N[0][A]<0){var Y=R.slice();Y[A]+=N[0][A],D.push(R[0],R[1],R[2],O[0],O[1],O[2],O[3],0,0,0,Y[0],Y[1],Y[2],O[0],O[1],O[2],O[3],0,0,0),x(this.bounds,Y),P+=2+M(D,Y,O,A)}if(N[1][A]>0){var Y=R.slice();Y[A]+=N[1][A],D.push(R[0],R[1],R[2],O[0],O[1],O[2],O[3],0,0,0,Y[0],Y[1],Y[2],O[0],O[1],O[2],O[3],0,0,0),x(this.bounds,Y),P+=2+M(D,Y,O,A)}}}this.lineCount[A]=P-this.lineOffset[A]}this.buffer.update(D)}},c.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function g(u){var y=u.gl,C=r(y),S=l(y,[{buffer:C,type:y.FLOAT,size:3,offset:0,stride:40},{buffer:C,type:y.FLOAT,size:4,offset:12,stride:40},{buffer:C,type:y.FLOAT,size:3,offset:28,stride:40}]),D=i(y);D.attributes.position.location=0,D.attributes.color.location=1,D.attributes.offset.location=2;var T=new v(y,C,S,D);return T.update(u),T}},7667:function(p,m,t){var r=t(6832),l=t(5158),i=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);p.exports=function(v){return l(v,i,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(p,m,t){var r=t(8931);p.exports=P;var l=null,i,f,v,c;function x(A){var a=A.getParameter(A.FRAMEBUFFER_BINDING),R=A.getParameter(A.RENDERBUFFER_BINDING),b=A.getParameter(A.TEXTURE_BINDING_2D);return[a,R,b]}function d(A,a){A.bindFramebuffer(A.FRAMEBUFFER,a[0]),A.bindRenderbuffer(A.RENDERBUFFER,a[1]),A.bindTexture(A.TEXTURE_2D,a[2])}function M(A,a){var R=A.getParameter(a.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(R+1);for(var b=0;b<=R;++b){for(var N=new Array(R),O=0;O<b;++O)N[O]=A.COLOR_ATTACHMENT0+O;for(var O=b;O<R;++O)N[O]=A.NONE;l[b]=N}}function g(A){switch(A){case i:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case v:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case c:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function u(A,a,R,b,N,O){if(!b)return null;var Y=r(A,a,R,N,b);return Y.magFilter=A.NEAREST,Y.minFilter=A.NEAREST,Y.mipSamples=1,Y.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,O,A.TEXTURE_2D,Y.handle,0),Y}function y(A,a,R,b,N){var O=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,O),A.renderbufferStorage(A.RENDERBUFFER,b,a,R),A.framebufferRenderbuffer(A.FRAMEBUFFER,N,A.RENDERBUFFER,O),O}function C(A){var a=x(A.gl),R=A.gl,b=A.handle=R.createFramebuffer(),N=A._shape[0],O=A._shape[1],Y=A.color.length,B=A._ext,W=A._useStencil,H=A._useDepth,U=A._colorType;R.bindFramebuffer(R.FRAMEBUFFER,b);for(var G=0;G<Y;++G)A.color[G]=u(R,N,O,U,R.RGBA,R.COLOR_ATTACHMENT0+G);Y===0?(A._color_rb=y(R,N,O,R.RGBA4,R.COLOR_ATTACHMENT0),B&&B.drawBuffersWEBGL(l[0])):Y>1&&B.drawBuffersWEBGL(l[Y]);var j=R.getExtension("WEBGL_depth_texture");j?W?A.depth=u(R,N,O,j.UNSIGNED_INT_24_8_WEBGL,R.DEPTH_STENCIL,R.DEPTH_STENCIL_ATTACHMENT):H&&(A.depth=u(R,N,O,R.UNSIGNED_SHORT,R.DEPTH_COMPONENT,R.DEPTH_ATTACHMENT)):H&&W?A._depth_rb=y(R,N,O,R.DEPTH_STENCIL,R.DEPTH_STENCIL_ATTACHMENT):H?A._depth_rb=y(R,N,O,R.DEPTH_COMPONENT16,R.DEPTH_ATTACHMENT):W&&(A._depth_rb=y(R,N,O,R.STENCIL_INDEX,R.STENCIL_ATTACHMENT));var re=R.checkFramebufferStatus(R.FRAMEBUFFER);if(re!==R.FRAMEBUFFER_COMPLETE){A._destroyed=!0,R.bindFramebuffer(R.FRAMEBUFFER,null),R.deleteFramebuffer(A.handle),A.handle=null,A.depth&&(A.depth.dispose(),A.depth=null),A._depth_rb&&(R.deleteRenderbuffer(A._depth_rb),A._depth_rb=null);for(var G=0;G<A.color.length;++G)A.color[G].dispose(),A.color[G]=null;A._color_rb&&(R.deleteRenderbuffer(A._color_rb),A._color_rb=null),d(R,a),g(re)}d(R,a)}function S(A,a,R,b,N,O,Y,B){this.gl=A,this._shape=[a|0,R|0],this._destroyed=!1,this._ext=B,this.color=new Array(N);for(var W=0;W<N;++W)this.color[W]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=b,this._useDepth=O,this._useStencil=Y;var H=this,U=[a|0,R|0];Object.defineProperties(U,{0:{get:function(){return H._shape[0]},set:function(G){return H.width=G}},1:{get:function(){return H._shape[1]},set:function(G){return H.height=G}}}),this._shapeVector=U,C(this)}var D=S.prototype;function T(A,a,R){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(A._shape[0]===a&&A._shape[1]===R)){var b=A.gl,N=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(a<0||a>N||R<0||R>N)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=a,A._shape[1]=R;for(var O=x(b),Y=0;Y<A.color.length;++Y)A.color[Y].shape=A._shape;A._color_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,A._color_rb),b.renderbufferStorage(b.RENDERBUFFER,b.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&b.renderbufferStorage(b.RENDERBUFFER,b.STENCIL_INDEX,A._shape[0],A._shape[1])),b.bindFramebuffer(b.FRAMEBUFFER,A.handle);var B=b.checkFramebufferStatus(b.FRAMEBUFFER);B!==b.FRAMEBUFFER_COMPLETE&&(A.dispose(),d(b,O),g(B)),d(b,O)}}Object.defineProperties(D,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[A|0,A|0]),A.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var a=A[0]|0,R=A[1]|0;return T(this,a,R),[a,R]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return A=A|0,T(this,A,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return A=A|0,T(this,this._shape[0],A),A},enumerable:!1}}),D.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},D.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var a=0;a<this.color.length;++a)this.color[a].dispose(),this.color[a]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function P(A,a,R,b){i||(i=A.FRAMEBUFFER_UNSUPPORTED,f=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,v=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,c=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var N=A.getExtension("WEBGL_draw_buffers");if(!l&&N&&M(A,N),Array.isArray(a)&&(b=R,R=a[1]|0,a=a[0]|0),typeof a!="number")throw new Error("gl-fbo: Missing shape parameter");var O=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(a<0||a>O||R<0||R>O)throw new Error("gl-fbo: Parameters are too large for FBO");b=b||{};var Y=1;if("color"in b){if(Y=Math.max(b.color|0,0),Y<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(Y>1)if(N){if(Y>A.getParameter(N.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+Y+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var B=A.UNSIGNED_BYTE,W=A.getExtension("OES_texture_float");if(b.float&&Y>0){if(!W)throw new Error("gl-fbo: Context does not support floating point textures");B=A.FLOAT}else b.preferFloat&&Y>0&&W&&(B=A.FLOAT);var H=!0;"depth"in b&&(H=!!b.depth);var U=!1;return"stencil"in b&&(U=!!b.stencil),new S(A,a,R,B,Y,H,U,N)}},3530:function(p,m,t){var r=t(8974).sprintf,l=t(6603),i=t(9365),f=t(8008);p.exports=v;function v(c,x,d){var M=i(x)||"of unknown name (see npm glsl-shader-name)",g="unknown type";d!==void 0&&(g=d===l.FRAGMENT_SHADER?"fragment":"vertex");for(var u=r(`Error compiling %s shader %s:
`,g,M),y=r("%s%s",u,c),C=c.split(`
`),S={},D=0;D<C.length;D++){var T=C[D];if(!(T===""||T==="\0")){var P=parseInt(T.split(":")[2]);if(isNaN(P))throw new Error(r("Could not parse error: %s",T));S[P]=T}}for(var A=f(x).split(`
`),D=0;D<A.length;D++)if(!(!S[D+3]&&!S[D+2]&&!S[D+1])){var a=A[D];if(u+=a+`
`,S[D+1]){var R=S[D+1];R=R.substr(R.split(":",3).join(":").length+1).trim(),u+=r(`^^^ %s

`,R)}}return{long:u.trim(),short:y.trim()}}},6386:function(p,m,t){p.exports=g;var r=t(5070),l=t(9560),i=t(5306),f=t(5158),v=t(5827),c=t(1292);function x(u,y,C,S,D,T,P){this.plot=u,this.shader=y,this.pickShader=C,this.positionBuffer=S,this.weightBuffer=D,this.colorBuffer=T,this.idBuffer=P,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var d=x.prototype,M=[0,0,1,0,0,1,1,0,1,1,0,1];d.draw=function(){var u=[1,0,0,0,1,0,0,0,1];return function(){var y=this.plot,C=this.shader,S=this.bounds,D=this.numVertices;if(!(D<=0)){var T=y.gl,P=y.dataBox,A=S[2]-S[0],a=S[3]-S[1],R=P[2]-P[0],b=P[3]-P[1];u[0]=2*A/R,u[4]=2*a/b,u[6]=2*(S[0]-P[0])/R-1,u[7]=2*(S[1]-P[1])/b-1,C.bind();var N=C.uniforms;N.viewTransform=u,N.shape=this.shape;var O=C.attributes;this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(T.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),O.color.pointer(T.UNSIGNED_BYTE,!0),T.drawArrays(T.TRIANGLES,0,D)}}}(),d.drawPick=function(){var u=[1,0,0,0,1,0,0,0,1],y=[0,0,0,0];return function(C){var S=this.plot,D=this.pickShader,T=this.bounds,P=this.numVertices;if(!(P<=0)){var A=S.gl,a=S.dataBox,R=T[2]-T[0],b=T[3]-T[1],N=a[2]-a[0],O=a[3]-a[1];u[0]=2*R/N,u[4]=2*b/O,u[6]=2*(T[0]-a[0])/N-1,u[7]=2*(T[1]-a[1])/O-1;for(var Y=0;Y<4;++Y)y[Y]=C>>Y*8&255;this.pickOffset=C,D.bind();var B=D.uniforms;B.viewTransform=u,B.pickOffset=y,B.shape=this.shape;var W=D.attributes;return this.positionBuffer.bind(),W.position.pointer(),this.weightBuffer.bind(),W.weight.pointer(A.UNSIGNED_BYTE,!1),this.idBuffer.bind(),W.pickId.pointer(A.UNSIGNED_BYTE,!1),A.drawArrays(A.TRIANGLES,0,P),C+this.shape[0]*this.shape[1]}}}(),d.pick=function(u,y,C){var S=this.pickOffset,D=this.shape[0]*this.shape[1];if(C<S||C>=S+D)return null;var T=C-S,P=this.xData,A=this.yData;return{object:this,pointId:T,dataCoord:[P[T%this.shape[0]],A[T/this.shape[0]|0]]}},d.update=function(u){u=u||{};var y=u.shape||[0,0],C=u.x||l(y[0]),S=u.y||l(y[1]),D=u.z||new Float32Array(y[0]*y[1]),T=u.zsmooth!==!1;this.xData=C,this.yData=S;var P=u.colorLevels||[0],A=u.colorValues||[0,0,0,1],a=P.length,R=this.bounds,b,N,O,Y;T?(b=R[0]=C[0],N=R[1]=S[0],O=R[2]=C[C.length-1],Y=R[3]=S[S.length-1]):(b=R[0]=C[0]+(C[1]-C[0])/2,N=R[1]=S[0]+(S[1]-S[0])/2,O=R[2]=C[C.length-1]+(C[C.length-1]-C[C.length-2])/2,Y=R[3]=S[S.length-1]+(S[S.length-1]-S[S.length-2])/2);var B=1/(O-b),W=1/(Y-N),H=y[0],U=y[1];this.shape=[H,U];var G=(T?(H-1)*(U-1):H*U)*(M.length>>>1);this.numVertices=G;for(var j=i.mallocUint8(G*4),re=i.mallocFloat32(G*2),ae=i.mallocUint8(G*2),ue=i.mallocUint32(G),de=0,ee=T?H-1:H,X=T?U-1:U,Q=0;Q<X;++Q){var $,ne;T?($=W*(S[Q]-N),ne=W*(S[Q+1]-N)):($=Q<U-1?W*(S[Q]-(S[Q+1]-S[Q])/2-N):W*(S[Q]-(S[Q]-S[Q-1])/2-N),ne=Q<U-1?W*(S[Q]+(S[Q+1]-S[Q])/2-N):W*(S[Q]+(S[Q]-S[Q-1])/2-N));for(var fe=0;fe<ee;++fe){var te,q;T?(te=B*(C[fe]-b),q=B*(C[fe+1]-b)):(te=fe<H-1?B*(C[fe]-(C[fe+1]-C[fe])/2-b):B*(C[fe]-(C[fe]-C[fe-1])/2-b),q=fe<H-1?B*(C[fe]+(C[fe+1]-C[fe])/2-b):B*(C[fe]+(C[fe]-C[fe-1])/2-b));for(var he=0;he<M.length;he+=2){var se=M[he],pe=M[he+1],we=T?(Q+pe)*H+(fe+se):Q*H+fe,Ee=D[we],Me=r.le(P,Ee),Be,Ne,Ce,Te;if(Me<0)Be=A[0],Ne=A[1],Ce=A[2],Te=A[3];else if(Me===a-1)Be=A[4*a-4],Ne=A[4*a-3],Ce=A[4*a-2],Te=A[4*a-1];else{var Le=(Ee-P[Me])/(P[Me+1]-P[Me]),Ve=1-Le,We=4*Me,Fe=4*(Me+1);Be=Ve*A[We]+Le*A[Fe],Ne=Ve*A[We+1]+Le*A[Fe+1],Ce=Ve*A[We+2]+Le*A[Fe+2],Te=Ve*A[We+3]+Le*A[Fe+3]}j[4*de]=255*Be,j[4*de+1]=255*Ne,j[4*de+2]=255*Ce,j[4*de+3]=255*Te,re[2*de]=te*.5+q*.5,re[2*de+1]=$*.5+ne*.5,ae[2*de]=se,ae[2*de+1]=pe,ue[de]=Q*H+fe,de+=1}}}this.positionBuffer.update(re),this.weightBuffer.update(ae),this.colorBuffer.update(j),this.idBuffer.update(ue),i.free(re),i.free(j),i.free(ae),i.free(ue)},d.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function g(u,y){var C=u.gl,S=f(C,c.vertex,c.fragment),D=f(C,c.pickVertex,c.pickFragment),T=v(C),P=v(C),A=v(C),a=v(C),R=new x(u,S,D,T,P,A,a);return R.update(y),u.addObject(R),R}},1292:function(p,m,t){var r=t(6832);p.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(p,m,t){var r=t(6832),l=t(5158),i=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),v=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),c=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];m.createShader=function(x){return l(x,i,f,null,c)},m.createPickShader=function(x){return l(x,i,v,null,c)}},6086:function(p,m,t){p.exports=A;var r=t(5827),l=t(2944),i=t(8931),f=new Uint8Array(4),v=new Float32Array(f.buffer);function c(a,R,b,N){return f[0]=N,f[1]=b,f[2]=R,f[3]=a,v[0]}var x=t(5070),d=t(5050),M=t(248),g=M.createShader,u=M.createPickShader,y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function C(a,R){for(var b=0,N=0;N<3;++N){var O=a[N]-R[N];b+=O*O}return Math.sqrt(b)}function S(a){for(var R=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)R[0][b]=Math.max(a[0][b],R[0][b]),R[1][b]=Math.min(a[1][b],R[1][b]);return R}function D(a,R,b,N){this.arcLength=a,this.position=R,this.index=b,this.dataCoordinate=N}function T(a,R,b,N,O,Y){this.gl=a,this.shader=R,this.pickShader=b,this.buffer=N,this.vao=O,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=Y,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var P=T.prototype;P.isTransparent=function(){return this.hasAlpha},P.isOpaque=function(){return!this.hasAlpha},P.pickSlots=1,P.setPickBase=function(a){this.pickId=a},P.drawTransparent=P.draw=function(a){if(this.vertexCount){var R=this.gl,b=this.shader,N=this.vao;b.bind(),b.uniforms={model:a.model||y,view:a.view||y,projection:a.projection||y,clipBounds:S(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[R.drawingBufferWidth,R.drawingBufferHeight],pixelRatio:this.pixelRatio},N.bind(),N.draw(R.TRIANGLE_STRIP,this.vertexCount),N.unbind()}},P.drawPick=function(a){if(this.vertexCount){var R=this.gl,b=this.pickShader,N=this.vao;b.bind(),b.uniforms={model:a.model||y,view:a.view||y,projection:a.projection||y,pickId:this.pickId,clipBounds:S(this.clipBounds),screenShape:[R.drawingBufferWidth,R.drawingBufferHeight],pixelRatio:this.pixelRatio},N.bind(),N.draw(R.TRIANGLE_STRIP,this.vertexCount),N.unbind()}},P.update=function(a){var R,b;this.dirty=!0;var N=!!a.connectGaps;"dashScale"in a&&(this.dashScale=a.dashScale),this.hasAlpha=!1,"opacity"in a&&(this.opacity=+a.opacity,this.opacity<1&&(this.hasAlpha=!0));var O=[],Y=[],B=[],W=0,H=0,U=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],G=a.position||a.positions;if(G){var j=a.color||a.colors||[0,0,0,1],re=a.lineWidth||1,ae=!1;e:for(R=1;R<G.length;++R){var ue=G[R-1],de=G[R];for(Y.push(W),B.push(ue.slice()),b=0;b<3;++b){if(isNaN(ue[b])||isNaN(de[b])||!isFinite(ue[b])||!isFinite(de[b])){if(!N&&O.length>0){for(var ee=0;ee<24;++ee)O.push(O[O.length-12]);H+=2,ae=!0}continue e}U[0][b]=Math.min(U[0][b],ue[b],de[b]),U[1][b]=Math.max(U[1][b],ue[b],de[b])}var X,Q;Array.isArray(j[0])?(X=j.length>R-1?j[R-1]:j.length>0?j[j.length-1]:[0,0,0,1],Q=j.length>R?j[R]:j.length>0?j[j.length-1]:[0,0,0,1]):X=Q=j,X.length===3&&(X=[X[0],X[1],X[2],1]),Q.length===3&&(Q=[Q[0],Q[1],Q[2],1]),!this.hasAlpha&&X[3]<1&&(this.hasAlpha=!0);var $;Array.isArray(re)?$=re.length>R-1?re[R-1]:re.length>0?re[re.length-1]:[0,0,0,1]:$=re;var ne=W;if(W+=C(ue,de),ae){for(b=0;b<2;++b)O.push(ue[0],ue[1],ue[2],de[0],de[1],de[2],ne,$,X[0],X[1],X[2],X[3]);H+=2,ae=!1}O.push(ue[0],ue[1],ue[2],de[0],de[1],de[2],ne,$,X[0],X[1],X[2],X[3],ue[0],ue[1],ue[2],de[0],de[1],de[2],ne,-$,X[0],X[1],X[2],X[3],de[0],de[1],de[2],ue[0],ue[1],ue[2],W,-$,Q[0],Q[1],Q[2],Q[3],de[0],de[1],de[2],ue[0],ue[1],ue[2],W,$,Q[0],Q[1],Q[2],Q[3]),H+=4}}if(this.buffer.update(O),Y.push(W),B.push(G[G.length-1].slice()),this.bounds=U,this.vertexCount=H,this.points=B,this.arcLength=Y,"dashes"in a){var fe=a.dashes,te=fe.slice();for(te.unshift(0),R=1;R<te.length;++R)te[R]=te[R-1]+te[R];var q=d(new Array(256*4),[256,1,4]);for(R=0;R<256;++R){for(b=0;b<4;++b)q.set(R,0,b,0);x.le(te,te[te.length-1]*R/255)&1?q.set(R,0,0,0):q.set(R,0,0,255)}this.texture.setPixels(q)}},P.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},P.pick=function(a){if(!a||a.id!==this.pickId)return null;var R=c(a.value[0],a.value[1],a.value[2],0),b=x.le(this.arcLength,R);if(b<0)return null;if(b===this.arcLength.length-1)return new D(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),b);for(var N=this.points[b],O=this.points[Math.min(b+1,this.points.length-1)],Y=(R-this.arcLength[b])/(this.arcLength[b+1]-this.arcLength[b]),B=1-Y,W=[0,0,0],H=0;H<3;++H)W[H]=B*N[H]+Y*O[H];var U=Math.min(Y<.5?b:b+1,this.points.length-1);return new D(R,W,U,this.points[U])};function A(a){var R=a.gl||a.scene&&a.scene.gl,b=g(R);b.attributes.position.location=0,b.attributes.nextPosition.location=1,b.attributes.arcLength.location=2,b.attributes.lineWidth.location=3,b.attributes.color.location=4;var N=u(R);N.attributes.position.location=0,N.attributes.nextPosition.location=1,N.attributes.arcLength.location=2,N.attributes.lineWidth.location=3,N.attributes.color.location=4;for(var O=r(R),Y=l(R,[{buffer:O,size:3,offset:0,stride:48},{buffer:O,size:3,offset:12,stride:48},{buffer:O,size:1,offset:24,stride:48},{buffer:O,size:1,offset:28,stride:48},{buffer:O,size:4,offset:32,stride:48}]),B=d(new Array(256*4),[256,1,4]),W=0;W<1024;++W)B.data[W]=255;var H=i(R,B);H.wrap=R.REPEAT;var U=new T(R,b,N,O,Y,H);return U.update(a),U}},7332:function(p){p.exports=m;function m(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(p){p.exports=m;function m(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(p){p.exports=m;function m(t){var r=t[0],l=t[1],i=t[2],f=t[3],v=t[4],c=t[5],x=t[6],d=t[7],M=t[8],g=t[9],u=t[10],y=t[11],C=t[12],S=t[13],D=t[14],T=t[15],P=r*c-l*v,A=r*x-i*v,a=r*d-f*v,R=l*x-i*c,b=l*d-f*c,N=i*d-f*x,O=M*S-g*C,Y=M*D-u*C,B=M*T-y*C,W=g*D-u*S,H=g*T-y*S,U=u*T-y*D;return P*U-A*H+a*W+R*B-b*Y+N*O}},5950:function(p){p.exports=m;function m(t,r){var l=r[0],i=r[1],f=r[2],v=r[3],c=l+l,x=i+i,d=f+f,M=l*c,g=i*c,u=i*x,y=f*c,C=f*x,S=f*d,D=v*c,T=v*x,P=v*d;return t[0]=1-u-S,t[1]=g+P,t[2]=y-T,t[3]=0,t[4]=g-P,t[5]=1-M-S,t[6]=C+D,t[7]=0,t[8]=y+T,t[9]=C-D,t[10]=1-M-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(p){p.exports=m;function m(t,r,l){var i=r[0],f=r[1],v=r[2],c=r[3],x=i+i,d=f+f,M=v+v,g=i*x,u=i*d,y=i*M,C=f*d,S=f*M,D=v*M,T=c*x,P=c*d,A=c*M;return t[0]=1-(C+D),t[1]=u+A,t[2]=y-P,t[3]=0,t[4]=u-A,t[5]=1-(g+D),t[6]=S+T,t[7]=0,t[8]=y+P,t[9]=S-T,t[10]=1-(g+C),t[11]=0,t[12]=l[0],t[13]=l[1],t[14]=l[2],t[15]=1,t}},9947:function(p){p.exports=m;function m(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(p){p.exports=m;function m(t,r){var l=r[0],i=r[1],f=r[2],v=r[3],c=r[4],x=r[5],d=r[6],M=r[7],g=r[8],u=r[9],y=r[10],C=r[11],S=r[12],D=r[13],T=r[14],P=r[15],A=l*x-i*c,a=l*d-f*c,R=l*M-v*c,b=i*d-f*x,N=i*M-v*x,O=f*M-v*d,Y=g*D-u*S,B=g*T-y*S,W=g*P-C*S,H=u*T-y*D,U=u*P-C*D,G=y*P-C*T,j=A*G-a*U+R*H+b*W-N*B+O*Y;return j?(j=1/j,t[0]=(x*G-d*U+M*H)*j,t[1]=(f*U-i*G-v*H)*j,t[2]=(D*O-T*N+P*b)*j,t[3]=(y*N-u*O-C*b)*j,t[4]=(d*W-c*G-M*B)*j,t[5]=(l*G-f*W+v*B)*j,t[6]=(T*R-S*O-P*a)*j,t[7]=(g*O-y*R+C*a)*j,t[8]=(c*U-x*W+M*Y)*j,t[9]=(i*W-l*U-v*Y)*j,t[10]=(S*N-D*R+P*A)*j,t[11]=(u*R-g*N-C*A)*j,t[12]=(x*B-c*H-d*Y)*j,t[13]=(l*H-i*B+f*Y)*j,t[14]=(D*a-S*b-T*A)*j,t[15]=(g*b-u*a+y*A)*j,t):null}},3012:function(p,m,t){var r=t(9947);p.exports=l;function l(i,f,v,c){var x,d,M,g,u,y,C,S,D,T,P=f[0],A=f[1],a=f[2],R=c[0],b=c[1],N=c[2],O=v[0],Y=v[1],B=v[2];return Math.abs(P-O)<1e-6&&Math.abs(A-Y)<1e-6&&Math.abs(a-B)<1e-6?r(i):(C=P-O,S=A-Y,D=a-B,T=1/Math.sqrt(C*C+S*S+D*D),C*=T,S*=T,D*=T,x=b*D-N*S,d=N*C-R*D,M=R*S-b*C,T=Math.sqrt(x*x+d*d+M*M),T?(T=1/T,x*=T,d*=T,M*=T):(x=0,d=0,M=0),g=S*M-D*d,u=D*x-C*M,y=C*d-S*x,T=Math.sqrt(g*g+u*u+y*y),T?(T=1/T,g*=T,u*=T,y*=T):(g=0,u=0,y=0),i[0]=x,i[1]=g,i[2]=C,i[3]=0,i[4]=d,i[5]=u,i[6]=S,i[7]=0,i[8]=M,i[9]=y,i[10]=D,i[11]=0,i[12]=-(x*P+d*A+M*a),i[13]=-(g*P+u*A+y*a),i[14]=-(C*P+S*A+D*a),i[15]=1,i)}},104:function(p){p.exports=m;function m(t,r,l){var i=r[0],f=r[1],v=r[2],c=r[3],x=r[4],d=r[5],M=r[6],g=r[7],u=r[8],y=r[9],C=r[10],S=r[11],D=r[12],T=r[13],P=r[14],A=r[15],a=l[0],R=l[1],b=l[2],N=l[3];return t[0]=a*i+R*x+b*u+N*D,t[1]=a*f+R*d+b*y+N*T,t[2]=a*v+R*M+b*C+N*P,t[3]=a*c+R*g+b*S+N*A,a=l[4],R=l[5],b=l[6],N=l[7],t[4]=a*i+R*x+b*u+N*D,t[5]=a*f+R*d+b*y+N*T,t[6]=a*v+R*M+b*C+N*P,t[7]=a*c+R*g+b*S+N*A,a=l[8],R=l[9],b=l[10],N=l[11],t[8]=a*i+R*x+b*u+N*D,t[9]=a*f+R*d+b*y+N*T,t[10]=a*v+R*M+b*C+N*P,t[11]=a*c+R*g+b*S+N*A,a=l[12],R=l[13],b=l[14],N=l[15],t[12]=a*i+R*x+b*u+N*D,t[13]=a*f+R*d+b*y+N*T,t[14]=a*v+R*M+b*C+N*P,t[15]=a*c+R*g+b*S+N*A,t}},5268:function(p){p.exports=m;function m(t,r,l,i,f,v,c){var x=1/(r-l),d=1/(i-f),M=1/(v-c);return t[0]=-2*x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*d,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*M,t[11]=0,t[12]=(r+l)*x,t[13]=(f+i)*d,t[14]=(c+v)*M,t[15]=1,t}},1120:function(p){p.exports=m;function m(t,r,l,i,f){var v=1/Math.tan(r/2),c=1/(i-f);return t[0]=v/l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=v,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(f+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*f*i*c,t[15]=0,t}},4422:function(p){p.exports=m;function m(t,r,l,i){var f=i[0],v=i[1],c=i[2],x=Math.sqrt(f*f+v*v+c*c),d,M,g,u,y,C,S,D,T,P,A,a,R,b,N,O,Y,B,W,H,U,G,j,re;return Math.abs(x)<1e-6?null:(x=1/x,f*=x,v*=x,c*=x,d=Math.sin(l),M=Math.cos(l),g=1-M,u=r[0],y=r[1],C=r[2],S=r[3],D=r[4],T=r[5],P=r[6],A=r[7],a=r[8],R=r[9],b=r[10],N=r[11],O=f*f*g+M,Y=v*f*g+c*d,B=c*f*g-v*d,W=f*v*g-c*d,H=v*v*g+M,U=c*v*g+f*d,G=f*c*g+v*d,j=v*c*g-f*d,re=c*c*g+M,t[0]=u*O+D*Y+a*B,t[1]=y*O+T*Y+R*B,t[2]=C*O+P*Y+b*B,t[3]=S*O+A*Y+N*B,t[4]=u*W+D*H+a*U,t[5]=y*W+T*H+R*U,t[6]=C*W+P*H+b*U,t[7]=S*W+A*H+N*U,t[8]=u*G+D*j+a*re,t[9]=y*G+T*j+R*re,t[10]=C*G+P*j+b*re,t[11]=S*G+A*j+N*re,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(p){p.exports=m;function m(t,r,l){var i=Math.sin(l),f=Math.cos(l),v=r[4],c=r[5],x=r[6],d=r[7],M=r[8],g=r[9],u=r[10],y=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=v*f+M*i,t[5]=c*f+g*i,t[6]=x*f+u*i,t[7]=d*f+y*i,t[8]=M*f-v*i,t[9]=g*f-c*i,t[10]=u*f-x*i,t[11]=y*f-d*i,t}},7115:function(p){p.exports=m;function m(t,r,l){var i=Math.sin(l),f=Math.cos(l),v=r[0],c=r[1],x=r[2],d=r[3],M=r[8],g=r[9],u=r[10],y=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=v*f-M*i,t[1]=c*f-g*i,t[2]=x*f-u*i,t[3]=d*f-y*i,t[8]=v*i+M*f,t[9]=c*i+g*f,t[10]=x*i+u*f,t[11]=d*i+y*f,t}},5240:function(p){p.exports=m;function m(t,r,l){var i=Math.sin(l),f=Math.cos(l),v=r[0],c=r[1],x=r[2],d=r[3],M=r[4],g=r[5],u=r[6],y=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=v*f+M*i,t[1]=c*f+g*i,t[2]=x*f+u*i,t[3]=d*f+y*i,t[4]=M*f-v*i,t[5]=g*f-c*i,t[6]=u*f-x*i,t[7]=y*f-d*i,t}},3668:function(p){p.exports=m;function m(t,r,l){var i=l[0],f=l[1],v=l[2];return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=r[3]*i,t[4]=r[4]*f,t[5]=r[5]*f,t[6]=r[6]*f,t[7]=r[7]*f,t[8]=r[8]*v,t[9]=r[9]*v,t[10]=r[10]*v,t[11]=r[11]*v,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(p){p.exports=m;function m(t,r,l){var i=l[0],f=l[1],v=l[2],c,x,d,M,g,u,y,C,S,D,T,P;return r===t?(t[12]=r[0]*i+r[4]*f+r[8]*v+r[12],t[13]=r[1]*i+r[5]*f+r[9]*v+r[13],t[14]=r[2]*i+r[6]*f+r[10]*v+r[14],t[15]=r[3]*i+r[7]*f+r[11]*v+r[15]):(c=r[0],x=r[1],d=r[2],M=r[3],g=r[4],u=r[5],y=r[6],C=r[7],S=r[8],D=r[9],T=r[10],P=r[11],t[0]=c,t[1]=x,t[2]=d,t[3]=M,t[4]=g,t[5]=u,t[6]=y,t[7]=C,t[8]=S,t[9]=D,t[10]=T,t[11]=P,t[12]=c*i+g*f+S*v+r[12],t[13]=x*i+u*f+D*v+r[13],t[14]=d*i+y*f+T*v+r[14],t[15]=M*i+C*f+P*v+r[15]),t}},2142:function(p){p.exports=m;function m(t,r){if(t===r){var l=r[1],i=r[2],f=r[3],v=r[6],c=r[7],x=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=l,t[6]=r[9],t[7]=r[13],t[8]=i,t[9]=v,t[11]=r[14],t[12]=f,t[13]=c,t[14]=x}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(p,m,t){var r=t(957),l=t(7309);p.exports=x;function i(d,M){for(var g=[0,0,0,0],u=0;u<4;++u)for(var y=0;y<4;++y)g[y]+=d[4*u+y]*M[u];return g}function f(d,M,g,u,y){for(var C=i(u,i(g,i(M,[d[0],d[1],d[2],1]))),S=0;S<3;++S)C[S]/=C[3];return[.5*y[0]*(1+C[0]),.5*y[1]*(1-C[1])]}function v(d,M){if(d.length===2){for(var g=0,u=0,y=0;y<2;++y)g+=Math.pow(M[y]-d[0][y],2),u+=Math.pow(M[y]-d[1][y],2);return g=Math.sqrt(g),u=Math.sqrt(u),g+u<1e-6?[1,0]:[u/(g+u),g/(u+g)]}else if(d.length===3){var C=[0,0];return l(d[0],d[1],d[2],M,C),r(d,C)}return[]}function c(d,M){for(var g=[0,0,0],u=0;u<d.length;++u)for(var y=d[u],C=M[u],S=0;S<3;++S)g[S]+=C*y[S];return g}function x(d,M,g,u,y,C){if(d.length===1)return[0,d[0].slice()];for(var S=new Array(d.length),D=0;D<d.length;++D)S[D]=f(d[D],g,u,y,C);for(var T=0,P=1/0,D=0;D<S.length;++D){for(var A=0,a=0;a<2;++a)A+=Math.pow(S[D][a]-M[a],2);A<P&&(P=A,T=D)}for(var R=v(S,M),b=0,D=0;D<3;++D){if(R[D]<-.001||R[D]>1.0001)return null;b+=R[D]}return Math.abs(b-1)>.001?null:[T,c(d,R),R]}},2056:function(p,m,t){var r=t(6832),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),i=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),v=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),x=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),d=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),M=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),g=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),u=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),y=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);m.meshShader={vertex:l,fragment:i,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},m.wireShader={vertex:f,fragment:v,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},m.pointShader={vertex:c,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},m.pickShader={vertex:d,fragment:M,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},m.pointPickShader={vertex:g,fragment:M,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},m.contourShader={vertex:u,fragment:y,attributes:[{name:"position",type:"vec3"}]}},8116:function(p,m,t){var r=1e-6,l=1e-6,i=t(5158),f=t(5827),v=t(2944),c=t(8931),x=t(115),d=t(104),M=t(7437),g=t(5050),u=t(9156),y=t(7212),C=t(5306),S=t(2056),D=t(4340),T=S.meshShader,P=S.wireShader,A=S.pointShader,a=S.pickShader,R=S.pointPickShader,b=S.contourShader,N=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function O(ee,X,Q,$,ne,fe,te,q,he,se,pe,we,Ee,Me,Be,Ne,Ce,Te,Le,Ve,We,Fe,Ge,it,qe,$e,tt){this.gl=ee,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=X,this.dirty=!0,this.triShader=Q,this.lineShader=$,this.pointShader=ne,this.pickShader=fe,this.pointPickShader=te,this.contourShader=q,this.trianglePositions=he,this.triangleColors=pe,this.triangleNormals=Ee,this.triangleUVs=we,this.triangleIds=se,this.triangleVAO=Me,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Be,this.edgeColors=Ce,this.edgeUVs=Te,this.edgeIds=Ne,this.edgeVAO=Le,this.edgeCount=0,this.pointPositions=Ve,this.pointColors=Fe,this.pointUVs=Ge,this.pointSizes=it,this.pointIds=We,this.pointVAO=qe,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=$e,this.contourVAO=tt,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=N,this._view=N,this._projection=N,this._resolution=[1,1]}var Y=O.prototype;Y.isOpaque=function(){return!this.hasAlpha},Y.isTransparent=function(){return this.hasAlpha},Y.pickSlots=1,Y.setPickBase=function(ee){this.pickId=ee};function B(ee,X){if(!X||!X.length)return 1;for(var Q=0;Q<X.length;++Q){if(X.length<2)return 1;if(X[Q][0]===ee)return X[Q][1];if(X[Q][0]>ee&&Q>0){var $=(X[Q][0]-ee)/(X[Q][0]-X[Q-1][0]);return X[Q][1]*(1-$)+$*X[Q-1][1]}}return 1}function W(ee,X){for(var Q=u({colormap:ee,nshades:256,format:"rgba"}),$=new Uint8Array(256*4),ne=0;ne<256;++ne){for(var fe=Q[ne],te=0;te<3;++te)$[4*ne+te]=fe[te];X?$[4*ne+3]=255*B(ne/255,X):$[4*ne+3]=255*fe[3]}return g($,[256,256,4],[4,0,1])}function H(ee){for(var X=ee.length,Q=new Array(X),$=0;$<X;++$)Q[$]=ee[$][2];return Q}Y.highlight=function(ee){if(!ee||!this.contourEnable){this.contourCount=0;return}for(var X=y(this.cells,this.intensity,ee.intensity),Q=X.cells,$=X.vertexIds,ne=X.vertexWeights,fe=Q.length,te=C.mallocFloat32(2*3*fe),q=0,he=0;he<fe;++he)for(var se=Q[he],pe=0;pe<2;++pe){var we=se[0];se.length===2&&(we=se[pe]);for(var Ee=$[we][0],Me=$[we][1],Be=ne[we],Ne=1-Be,Ce=this.positions[Ee],Te=this.positions[Me],Le=0;Le<3;++Le)te[q++]=Be*Ce[Le]+Ne*Te[Le]}this.contourCount=q/3|0,this.contourPositions.update(te.subarray(0,q)),C.free(te)},Y.update=function(ee){ee=ee||{};var X=this.gl;this.dirty=!0,"contourEnable"in ee&&(this.contourEnable=ee.contourEnable),"contourColor"in ee&&(this.contourColor=ee.contourColor),"lineWidth"in ee&&(this.lineWidth=ee.lineWidth),"lightPosition"in ee&&(this.lightPosition=ee.lightPosition),this.hasAlpha=!1,"opacity"in ee&&(this.opacity=ee.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in ee&&(this.opacityscale=ee.opacityscale,this.hasAlpha=!0),"ambient"in ee&&(this.ambientLight=ee.ambient),"diffuse"in ee&&(this.diffuseLight=ee.diffuse),"specular"in ee&&(this.specularLight=ee.specular),"roughness"in ee&&(this.roughness=ee.roughness),"fresnel"in ee&&(this.fresnel=ee.fresnel),ee.texture?(this.texture.dispose(),this.texture=c(X,ee.texture)):ee.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=X.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=X.LINEAR,this.texture.setPixels(W(ee.colormap,this.opacityscale)),this.texture.generateMipmap());var Q=ee.cells,$=ee.positions;if(!$||!Q)return;var ne=[],fe=[],te=[],q=[],he=[],se=[],pe=[],we=[],Ee=[],Me=[],Be=[],Ne=[],Ce=[],Te=[];this.cells=Q,this.positions=$;var Le=ee.vertexNormals,Ve=ee.cellNormals,We=ee.vertexNormalsEpsilon===void 0?r:ee.vertexNormalsEpsilon,Fe=ee.faceNormalsEpsilon===void 0?l:ee.faceNormalsEpsilon;ee.useFacetNormals&&!Ve&&(Ve=x.faceNormals(Q,$,Fe)),!Ve&&!Le&&(Le=x.vertexNormals(Q,$,We));var Ge=ee.vertexColors,it=ee.cellColors,qe=ee.meshColor||[1,1,1,1],$e=ee.vertexUVs,tt=ee.vertexIntensity,vt=ee.cellUVs,dt=ee.cellIntensity,gt=1/0,Mt=-1/0;if(!$e&&!vt)if(tt)if(ee.vertexIntensityBounds)gt=+ee.vertexIntensityBounds[0],Mt=+ee.vertexIntensityBounds[1];else for(var Ct=0;Ct<tt.length;++Ct){var Wt=tt[Ct];gt=Math.min(gt,Wt),Mt=Math.max(Mt,Wt)}else if(dt)if(ee.cellIntensityBounds)gt=+ee.cellIntensityBounds[0],Mt=+ee.cellIntensityBounds[1];else for(var Ct=0;Ct<dt.length;++Ct){var Wt=dt[Ct];gt=Math.min(gt,Wt),Mt=Math.max(Mt,Wt)}else for(var Ct=0;Ct<$.length;++Ct){var Wt=$[Ct][2];gt=Math.min(gt,Wt),Mt=Math.max(Mt,Wt)}tt?this.intensity=tt:dt?this.intensity=dt:this.intensity=H($),this.pickVertex=!(dt||it);var Xe=ee.pointSizes,ke=ee.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Ct=0;Ct<$.length;++Ct)for(var Ie=$[Ct],Oe=0;Oe<3;++Oe)isNaN(Ie[Oe])||!isFinite(Ie[Oe])||(this.bounds[0][Oe]=Math.min(this.bounds[0][Oe],Ie[Oe]),this.bounds[1][Oe]=Math.max(this.bounds[1][Oe],Ie[Oe]));var _e=0,Ae=0,ce=0;e:for(var Ct=0;Ct<Q.length;++Ct){var be=Q[Ct];switch(be.length){case 1:for(var Re=be[0],Ie=$[Re],Oe=0;Oe<3;++Oe)if(isNaN(Ie[Oe])||!isFinite(Ie[Oe]))continue e;Me.push(Ie[0],Ie[1],Ie[2]);var Ue;Ge?Ue=Ge[Re]:it?Ue=it[Ct]:Ue=qe,this.opacityscale&&tt?fe.push(Ue[0],Ue[1],Ue[2],this.opacity*B((tt[Re]-gt)/(Mt-gt),this.opacityscale)):Ue.length===3?Be.push(Ue[0],Ue[1],Ue[2],this.opacity):(Be.push(Ue[0],Ue[1],Ue[2],Ue[3]*this.opacity),Ue[3]<1&&(this.hasAlpha=!0));var nt;$e?nt=$e[Re]:tt?nt=[(tt[Re]-gt)/(Mt-gt),0]:vt?nt=vt[Ct]:dt?nt=[(dt[Ct]-gt)/(Mt-gt),0]:nt=[(Ie[2]-gt)/(Mt-gt),0],Ne.push(nt[0],nt[1]),Xe?Ce.push(Xe[Re]):Ce.push(ke),Te.push(Ct),ce+=1;break;case 2:for(var Oe=0;Oe<2;++Oe)for(var Re=be[Oe],Ie=$[Re],ot=0;ot<3;++ot)if(isNaN(Ie[ot])||!isFinite(Ie[ot]))continue e;for(var Oe=0;Oe<2;++Oe){var Re=be[Oe],Ie=$[Re];se.push(Ie[0],Ie[1],Ie[2]);var Ue;Ge?Ue=Ge[Re]:it?Ue=it[Ct]:Ue=qe,this.opacityscale&&tt?fe.push(Ue[0],Ue[1],Ue[2],this.opacity*B((tt[Re]-gt)/(Mt-gt),this.opacityscale)):Ue.length===3?pe.push(Ue[0],Ue[1],Ue[2],this.opacity):(pe.push(Ue[0],Ue[1],Ue[2],Ue[3]*this.opacity),Ue[3]<1&&(this.hasAlpha=!0));var nt;$e?nt=$e[Re]:tt?nt=[(tt[Re]-gt)/(Mt-gt),0]:vt?nt=vt[Ct]:dt?nt=[(dt[Ct]-gt)/(Mt-gt),0]:nt=[(Ie[2]-gt)/(Mt-gt),0],we.push(nt[0],nt[1]),Ee.push(Ct)}Ae+=1;break;case 3:for(var Oe=0;Oe<3;++Oe)for(var Re=be[Oe],Ie=$[Re],ot=0;ot<3;++ot)if(isNaN(Ie[ot])||!isFinite(Ie[ot]))continue e;for(var Oe=0;Oe<3;++Oe){var Re=be[2-Oe],Ie=$[Re];ne.push(Ie[0],Ie[1],Ie[2]);var Ue;Ge?Ue=Ge[Re]:it?Ue=it[Ct]:Ue=qe,Ue?this.opacityscale&&tt?fe.push(Ue[0],Ue[1],Ue[2],this.opacity*B((tt[Re]-gt)/(Mt-gt),this.opacityscale)):Ue.length===3?fe.push(Ue[0],Ue[1],Ue[2],this.opacity):(fe.push(Ue[0],Ue[1],Ue[2],Ue[3]*this.opacity),Ue[3]<1&&(this.hasAlpha=!0)):fe.push(.5,.5,.5,1);var nt;$e?nt=$e[Re]:tt?nt=[(tt[Re]-gt)/(Mt-gt),0]:vt?nt=vt[Ct]:dt?nt=[(dt[Ct]-gt)/(Mt-gt),0]:nt=[(Ie[2]-gt)/(Mt-gt),0],q.push(nt[0],nt[1]);var wt;Le?wt=Le[Re]:wt=Ve[Ct],te.push(wt[0],wt[1],wt[2]),he.push(Ct)}_e+=1;break}}this.pointCount=ce,this.edgeCount=Ae,this.triangleCount=_e,this.pointPositions.update(Me),this.pointColors.update(Be),this.pointUVs.update(Ne),this.pointSizes.update(Ce),this.pointIds.update(new Uint32Array(Te)),this.edgePositions.update(se),this.edgeColors.update(pe),this.edgeUVs.update(we),this.edgeIds.update(new Uint32Array(Ee)),this.trianglePositions.update(ne),this.triangleColors.update(fe),this.triangleUVs.update(q),this.triangleNormals.update(te),this.triangleIds.update(new Uint32Array(he))},Y.drawTransparent=Y.draw=function(ee){ee=ee||{};for(var X=this.gl,Q=ee.model||N,$=ee.view||N,ne=ee.projection||N,fe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],te=0;te<3;++te)fe[0][te]=Math.max(fe[0][te],this.clipBounds[0][te]),fe[1][te]=Math.min(fe[1][te],this.clipBounds[1][te]);var q={model:Q,view:$,projection:ne,inverseModel:N.slice(),clipBounds:fe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};q.inverseModel=M(q.inverseModel,q.model),X.disable(X.CULL_FACE),this.texture.bind(0);var he=new Array(16);d(he,q.view,q.model),d(he,q.projection,he),M(he,he);for(var te=0;te<3;++te)q.eyePosition[te]=he[12+te]/he[15];for(var se=he[15],te=0;te<3;++te)se+=this.lightPosition[te]*he[4*te+3];for(var te=0;te<3;++te){for(var pe=he[12+te],we=0;we<3;++we)pe+=he[4*we+te]*this.lightPosition[we];q.lightPosition[te]=pe/se}if(this.triangleCount>0){var Ee=this.triShader;Ee.bind(),Ee.uniforms=q,this.triangleVAO.bind(),X.drawArrays(X.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ee=this.lineShader;Ee.bind(),Ee.uniforms=q,this.edgeVAO.bind(),X.lineWidth(this.lineWidth*this.pixelRatio),X.drawArrays(X.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ee=this.pointShader;Ee.bind(),Ee.uniforms=q,this.pointVAO.bind(),X.drawArrays(X.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ee=this.contourShader;Ee.bind(),Ee.uniforms=q,this.contourVAO.bind(),X.drawArrays(X.LINES,0,this.contourCount),this.contourVAO.unbind()}},Y.drawPick=function(ee){ee=ee||{};for(var X=this.gl,Q=ee.model||N,$=ee.view||N,ne=ee.projection||N,fe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],te=0;te<3;++te)fe[0][te]=Math.max(fe[0][te],this.clipBounds[0][te]),fe[1][te]=Math.min(fe[1][te],this.clipBounds[1][te]);this._model=[].slice.call(Q),this._view=[].slice.call($),this._projection=[].slice.call(ne),this._resolution=[X.drawingBufferWidth,X.drawingBufferHeight];var q={model:Q,view:$,projection:ne,clipBounds:fe,pickId:this.pickId/255},he=this.pickShader;if(he.bind(),he.uniforms=q,this.triangleCount>0&&(this.triangleVAO.bind(),X.drawArrays(X.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),X.lineWidth(this.lineWidth*this.pixelRatio),X.drawArrays(X.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var he=this.pointPickShader;he.bind(),he.uniforms=q,this.pointVAO.bind(),X.drawArrays(X.POINTS,0,this.pointCount),this.pointVAO.unbind()}},Y.pick=function(ee){if(!ee||ee.id!==this.pickId)return null;for(var X=ee.value[0]+256*ee.value[1]+65536*ee.value[2],Q=this.cells[X],$=this.positions,ne=new Array(Q.length),fe=0;fe<Q.length;++fe)ne[fe]=$[Q[fe]];var te=ee.coord[0],q=ee.coord[1];if(!this.pickVertex){var he=this.positions[Q[0]],se=this.positions[Q[1]],pe=this.positions[Q[2]],we=[(he[0]+se[0]+pe[0])/3,(he[1]+se[1]+pe[1])/3,(he[2]+se[2]+pe[2])/3];return{_cellCenter:!0,position:[te,q],index:X,cell:Q,cellId:X,intensity:this.intensity[X],dataCoordinate:we}}var Ee=D(ne,[te*this.pixelRatio,this._resolution[1]-q*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ee)return null;for(var Me=Ee[2],Be=0,fe=0;fe<Q.length;++fe)Be+=Me[fe]*this.intensity[Q[fe]];return{position:Ee[1],index:Q[Ee[0]],cell:Q,cellId:X,intensity:Be,dataCoordinate:this.positions[Q[Ee[0]]]}},Y.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function U(ee){var X=i(ee,T.vertex,T.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X.attributes.normal.location=4,X}function G(ee){var X=i(ee,P.vertex,P.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X}function j(ee){var X=i(ee,A.vertex,A.fragment);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X.attributes.pointSize.location=4,X}function re(ee){var X=i(ee,a.vertex,a.fragment);return X.attributes.position.location=0,X.attributes.id.location=1,X}function ae(ee){var X=i(ee,R.vertex,R.fragment);return X.attributes.position.location=0,X.attributes.id.location=1,X.attributes.pointSize.location=4,X}function ue(ee){var X=i(ee,b.vertex,b.fragment);return X.attributes.position.location=0,X}function de(ee,X){arguments.length===1&&(X=ee,ee=X.gl);var Q=ee.getExtension("OES_standard_derivatives")||ee.getExtension("MOZ_OES_standard_derivatives")||ee.getExtension("WEBKIT_OES_standard_derivatives");if(!Q)throw new Error("derivatives not supported");var $=U(ee),ne=G(ee),fe=j(ee),te=re(ee),q=ae(ee),he=ue(ee),se=c(ee,g(new Uint8Array([255,255,255,255]),[1,1,4]));se.generateMipmap(),se.minFilter=ee.LINEAR_MIPMAP_LINEAR,se.magFilter=ee.LINEAR;var pe=f(ee),we=f(ee),Ee=f(ee),Me=f(ee),Be=f(ee),Ne=v(ee,[{buffer:pe,type:ee.FLOAT,size:3},{buffer:Be,type:ee.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:we,type:ee.FLOAT,size:4},{buffer:Ee,type:ee.FLOAT,size:2},{buffer:Me,type:ee.FLOAT,size:3}]),Ce=f(ee),Te=f(ee),Le=f(ee),Ve=f(ee),We=v(ee,[{buffer:Ce,type:ee.FLOAT,size:3},{buffer:Ve,type:ee.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Te,type:ee.FLOAT,size:4},{buffer:Le,type:ee.FLOAT,size:2}]),Fe=f(ee),Ge=f(ee),it=f(ee),qe=f(ee),$e=f(ee),tt=v(ee,[{buffer:Fe,type:ee.FLOAT,size:3},{buffer:$e,type:ee.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ge,type:ee.FLOAT,size:4},{buffer:it,type:ee.FLOAT,size:2},{buffer:qe,type:ee.FLOAT,size:1}]),vt=f(ee),dt=v(ee,[{buffer:vt,type:ee.FLOAT,size:3}]),gt=new O(ee,se,$,ne,fe,te,q,he,pe,Be,we,Ee,Me,Ne,Ce,Ve,Te,Le,We,Fe,$e,Ge,it,qe,tt,vt,dt);return gt.update(X),gt}p.exports=de},4554:function(p,m,t){p.exports=c;var r=t(5827),l=t(5158),i=t(2709);function f(x,d,M){this.plot=x,this.vbo=d,this.shader=M}var v=f.prototype;v.bind=function(){var x=this.shader;this.vbo.bind(),this.shader.bind(),x.attributes.coord.pointer(),x.uniforms.screenBox=this.plot.screenBox},v.drawBox=function(){var x=[0,0],d=[0,0];return function(M,g,u,y,C){var S=this.plot,D=this.shader,T=S.gl;x[0]=M,x[1]=g,d[0]=u,d[1]=y,D.uniforms.lo=x,D.uniforms.hi=d,D.uniforms.color=C,T.drawArrays(T.TRIANGLE_STRIP,0,4)}}(),v.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(x){var d=x.gl,M=r(d,[0,0,0,1,1,0,1,1]),g=l(d,i.boxVert,i.lineFrag);return new f(x,M,g)}},3016:function(p,m,t){p.exports=d;var r=t(5827),l=t(5158),i=t(5070),f=t(2709);function v(M,g,u,y){this.plot=M,this.vbo=g,this.shader=u,this.tickShader=y,this.ticks=[[],[]]}function c(M,g){return M-g}var x=v.prototype;x.draw=function(){var M=[0,0],g=[0,0],u=[0,0];return function(){for(var y=this.plot,C=this.vbo,S=this.shader,D=this.ticks,T=y.gl,P=y._tickBounds,A=y.dataBox,a=y.viewBox,R=y.gridLineWidth,b=y.gridLineColor,N=y.gridLineEnable,O=y.pixelRatio,Y=0;Y<2;++Y){var B=P[Y],W=P[Y+2],H=W-B,U=.5*(A[Y+2]+A[Y]),G=A[Y+2]-A[Y];g[Y]=2*H/G,M[Y]=2*(B-U)/G}S.bind(),C.bind(),S.attributes.dataCoord.pointer(),S.uniforms.dataShift=M,S.uniforms.dataScale=g;for(var j=0,Y=0;Y<2;++Y){u[0]=u[1]=0,u[Y]=1,S.uniforms.dataAxis=u,S.uniforms.lineWidth=R[Y]/(a[Y+2]-a[Y])*O,S.uniforms.color=b[Y];var re=D[Y].length*6;N[Y]&&re&&T.drawArrays(T.TRIANGLES,j,re),j+=re}}}(),x.drawTickMarks=function(){var M=[0,0],g=[0,0],u=[1,0],y=[0,1],C=[0,0],S=[0,0];return function(){for(var D=this.plot,T=this.vbo,P=this.tickShader,A=this.ticks,a=D.gl,R=D._tickBounds,b=D.dataBox,N=D.viewBox,O=D.pixelRatio,Y=D.screenBox,B=Y[2]-Y[0],W=Y[3]-Y[1],H=N[2]-N[0],U=N[3]-N[1],G=0;G<2;++G){var j=R[G],re=R[G+2],ae=re-j,ue=.5*(b[G+2]+b[G]),de=b[G+2]-b[G];g[G]=2*ae/de,M[G]=2*(j-ue)/de}g[0]*=H/B,M[0]*=H/B,g[1]*=U/W,M[1]*=U/W,P.bind(),T.bind(),P.attributes.dataCoord.pointer();var ee=P.uniforms;ee.dataShift=M,ee.dataScale=g;var X=D.tickMarkLength,Q=D.tickMarkWidth,$=D.tickMarkColor,ne=0,fe=A[0].length*6,te=Math.min(i.ge(A[0],(b[0]-R[0])/(R[2]-R[0]),c),A[0].length),q=Math.min(i.gt(A[0],(b[2]-R[0])/(R[2]-R[0]),c),A[0].length),he=ne+6*te,se=6*Math.max(0,q-te),pe=Math.min(i.ge(A[1],(b[1]-R[1])/(R[3]-R[1]),c),A[1].length),we=Math.min(i.gt(A[1],(b[3]-R[1])/(R[3]-R[1]),c),A[1].length),Ee=fe+6*pe,Me=6*Math.max(0,we-pe);C[0]=2*(N[0]-X[1])/B-1,C[1]=(N[3]+N[1])/W-1,S[0]=X[1]*O/B,S[1]=Q[1]*O/W,Me&&(ee.color=$[1],ee.tickScale=S,ee.dataAxis=y,ee.screenOffset=C,a.drawArrays(a.TRIANGLES,Ee,Me)),C[0]=(N[2]+N[0])/B-1,C[1]=2*(N[1]-X[0])/W-1,S[0]=Q[0]*O/B,S[1]=X[0]*O/W,se&&(ee.color=$[0],ee.tickScale=S,ee.dataAxis=u,ee.screenOffset=C,a.drawArrays(a.TRIANGLES,he,se)),C[0]=2*(N[2]+X[3])/B-1,C[1]=(N[3]+N[1])/W-1,S[0]=X[3]*O/B,S[1]=Q[3]*O/W,Me&&(ee.color=$[3],ee.tickScale=S,ee.dataAxis=y,ee.screenOffset=C,a.drawArrays(a.TRIANGLES,Ee,Me)),C[0]=(N[2]+N[0])/B-1,C[1]=2*(N[3]+X[2])/W-1,S[0]=Q[2]*O/B,S[1]=X[2]*O/W,se&&(ee.color=$[2],ee.tickScale=S,ee.dataAxis=u,ee.screenOffset=C,a.drawArrays(a.TRIANGLES,he,se))}}(),x.update=function(){var M=[1,1,-1,-1,1,-1],g=[1,-1,1,1,-1,-1];return function(u){var y=u.ticks,C=u.bounds,S=new Float32Array(6*3*(y[0].length+y[1].length));this.plot.zeroLineEnable;for(var D=0,T=[[],[]],P=0;P<2;++P)for(var A=T[P],a=y[P],R=C[P],b=C[P+2],N=0;N<a.length;++N){var O=(a[N].x-R)/(b-R);A.push(O);for(var Y=0;Y<6;++Y)S[D++]=O,S[D++]=M[Y],S[D++]=g[Y]}this.ticks=T,this.vbo.update(S)}}(),x.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function d(M){var g=M.gl,u=r(g),y=l(g,f.gridVert,f.gridFrag),C=l(g,f.tickVert,f.gridFrag),S=new v(M,u,y,C);return S}},1154:function(p,m,t){p.exports=c;var r=t(5827),l=t(5158),i=t(2709);function f(x,d,M){this.plot=x,this.vbo=d,this.shader=M}var v=f.prototype;v.bind=function(){var x=this.shader;this.vbo.bind(),this.shader.bind(),x.attributes.coord.pointer(),x.uniforms.screenBox=this.plot.screenBox},v.drawLine=function(){var x=[0,0],d=[0,0];return function(M,g,u,y,C,S){var D=this.plot,T=this.shader,P=D.gl;x[0]=M,x[1]=g,d[0]=u,d[1]=y,T.uniforms.start=x,T.uniforms.end=d,T.uniforms.width=C*D.pixelRatio,T.uniforms.color=S,P.drawArrays(P.TRIANGLE_STRIP,0,4)}}(),v.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(x){var d=x.gl,M=r(d,[-1,-1,-1,1,1,-1,1,1]),g=l(d,i.lineVert,i.lineFrag),u=new f(x,M,g);return u}},2709:function(p,m,t){var r=t(6832),l=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);p.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:l,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:l,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:l,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(p,m,t){p.exports=d;var r=t(5827),l=t(5158),i=t(6946),f=t(5070),v=t(2709);function c(M,g,u){this.plot=M,this.vbo=g,this.shader=u,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var x=c.prototype;x.drawTicks=function(){var M=[0,0],g=[0,0],u=[0,0];return function(y){var C=this.plot,S=this.shader,D=this.tickX[y],T=this.tickOffset[y],P=C.gl,A=C.viewBox,a=C.dataBox,R=C.screenBox,b=C.pixelRatio,N=C.tickEnable,O=C.tickPad,Y=C.tickColor,B=C.tickAngle,W=C.labelEnable,H=C.labelPad,U=C.labelColor,G=C.labelAngle,j=this.labelOffset[y],re=this.labelCount[y],ae=f.lt(D,a[y]),ue=f.le(D,a[y+2]);M[0]=M[1]=0,M[y]=1,g[y]=(A[2+y]+A[y])/(R[2+y]-R[y])-1;var de=2/R[2+(y^1)]-R[y^1];g[y^1]=de*A[y^1]-1,N[y]&&(g[y^1]-=de*b*O[y],ae<ue&&T[ue]>T[ae]&&(S.uniforms.dataAxis=M,S.uniforms.screenOffset=g,S.uniforms.color=Y[y],S.uniforms.angle=B[y],P.drawArrays(P.TRIANGLES,T[ae],T[ue]-T[ae]))),W[y]&&re&&(g[y^1]-=de*b*H[y],S.uniforms.dataAxis=u,S.uniforms.screenOffset=g,S.uniforms.color=U[y],S.uniforms.angle=G[y],P.drawArrays(P.TRIANGLES,j,re)),g[y^1]=de*A[2+(y^1)]-1,N[y+2]&&(g[y^1]+=de*b*O[y+2],ae<ue&&T[ue]>T[ae]&&(S.uniforms.dataAxis=M,S.uniforms.screenOffset=g,S.uniforms.color=Y[y+2],S.uniforms.angle=B[y+2],P.drawArrays(P.TRIANGLES,T[ae],T[ue]-T[ae]))),W[y+2]&&re&&(g[y^1]+=de*b*H[y+2],S.uniforms.dataAxis=u,S.uniforms.screenOffset=g,S.uniforms.color=U[y+2],S.uniforms.angle=G[y+2],P.drawArrays(P.TRIANGLES,j,re))}}(),x.drawTitle=function(){var M=[0,0],g=[0,0];return function(){var u=this.plot,y=this.shader,C=u.gl,S=u.screenBox,D=u.titleCenter,T=u.titleAngle,P=u.titleColor,A=u.pixelRatio;if(this.titleCount){for(var a=0;a<2;++a)g[a]=2*(D[a]*A-S[a])/(S[2+a]-S[a])-1;y.bind(),y.uniforms.dataAxis=M,y.uniforms.screenOffset=g,y.uniforms.angle=T,y.uniforms.color=P,C.drawArrays(C.TRIANGLES,this.titleOffset,this.titleCount)}}}(),x.bind=function(){var M=[0,0],g=[0,0],u=[0,0];return function(){var y=this.plot,C=this.shader,S=y._tickBounds,D=y.dataBox,T=y.screenBox,P=y.viewBox;C.bind();for(var A=0;A<2;++A){var a=S[A],R=S[A+2],b=R-a,N=.5*(D[A+2]+D[A]),O=D[A+2]-D[A],Y=P[A],B=P[A+2],W=B-Y,H=T[A],U=T[A+2],G=U-H;g[A]=2*b/O*W/G,M[A]=2*(a-N)/O*W/G}u[1]=2*y.pixelRatio/(T[3]-T[1]),u[0]=u[1]*(T[3]-T[1])/(T[2]-T[0]),C.uniforms.dataScale=g,C.uniforms.dataShift=M,C.uniforms.textScale=u,this.vbo.bind(),C.attributes.textCoordinate.pointer()}}(),x.update=function(M){var g=[],u=M.ticks,y=M.bounds,C,S,D,T,P;for(P=0;P<2;++P){var A=[Math.floor(g.length/3)],a=[-1/0],R=u[P];for(C=0;C<R.length;++C){var b=R[C],N=b.x,O=b.text,Y=b.font||"sans-serif";T=b.fontSize||12;for(var B=1/(y[P+2]-y[P]),W=y[P],H=O.split(`
`),U=0;U<H.length;U++)for(D=i(Y,H[U]).data,S=0;S<D.length;S+=2)g.push(D[S]*T,-D[S+1]*T-U*T*1.2,(N-W)*B);A.push(Math.floor(g.length/3)),a.push(N)}this.tickOffset[P]=A,this.tickX[P]=a}for(P=0;P<2;++P){for(this.labelOffset[P]=Math.floor(g.length/3),D=i(M.labelFont[P],M.labels[P],{textAlign:"center"}).data,T=M.labelSize[P],C=0;C<D.length;C+=2)g.push(D[C]*T,-D[C+1]*T,0);this.labelCount[P]=Math.floor(g.length/3)-this.labelOffset[P]}for(this.titleOffset=Math.floor(g.length/3),D=i(M.titleFont,M.title).data,T=M.titleSize,C=0;C<D.length;C+=2)g.push(D[C]*T,-D[C+1]*T,0);this.titleCount=Math.floor(g.length/3)-this.titleOffset,this.vbo.update(g)},x.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function d(M){var g=M.gl,u=r(g),y=l(g,v.textVert,v.textFrag),C=new c(M,u,y);return C}},2117:function(p,m,t){p.exports=g;var r=t(2611),l=t(3016),i=t(5613),f=t(1154),v=t(4554);function c(u,y){this.gl=u,this.pickBuffer=y,this.screenBox=[0,0,u.drawingBufferWidth,u.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var x=c.prototype;x.setDirty=function(){this.dirty=this.pickDirty=!0},x.setOverlayDirty=function(){this.dirty=!0},x.nextDepthValue=function(){return this._depthCounter++/65536},x.draw=function(){return function(){var u=this.gl,y=this.screenBox,C=this.viewBox,S=this.dataBox,D=this.pixelRatio,T=this.grid,P=this.line,A=this.text,a=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,u.bindFramebuffer(u.FRAMEBUFFER,null),u.enable(u.SCISSOR_TEST),u.disable(u.DEPTH_TEST),u.depthFunc(u.LESS),u.depthMask(!1),u.enable(u.BLEND),u.blendEquation(u.FUNC_ADD,u.FUNC_ADD),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),this.borderColor){u.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]);var R=this.borderColor;u.clearColor(R[0]*R[3],R[1]*R[3],R[2]*R[3],R[3]),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT)}u.scissor(C[0],C[1],C[2]-C[0],C[3]-C[1]),u.viewport(C[0],C[1],C[2]-C[0],C[3]-C[1]);var b=this.backgroundColor;u.clearColor(b[0]*b[3],b[1]*b[3],b[2]*b[3],b[3]),u.clear(u.COLOR_BUFFER_BIT),T.draw();var N=this.zeroLineEnable,O=this.zeroLineColor,Y=this.zeroLineWidth;if(N[0]||N[1]){P.bind();for(var B=0;B<2;++B)if(!(!N[B]||!(S[B]<=0&&S[B+2]>=0))){var W=y[B]-S[B]*(y[B+2]-y[B])/(S[B+2]-S[B]);B===0?P.drawLine(W,y[1],W,y[3],Y[B],O[B]):P.drawLine(y[0],W,y[2],W,Y[B],O[B])}}for(var B=0;B<a.length;++B)a[B].draw();u.viewport(y[0],y[1],y[2]-y[0],y[3]-y[1]),u.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]),this.grid.drawTickMarks(),P.bind();var H=this.borderLineEnable,U=this.borderLineWidth,G=this.borderLineColor;H[1]&&P.drawLine(C[0],C[1]-.5*U[1]*D,C[0],C[3]+.5*U[3]*D,U[1],G[1]),H[0]&&P.drawLine(C[0]-.5*U[0]*D,C[1],C[2]+.5*U[2]*D,C[1],U[0],G[0]),H[3]&&P.drawLine(C[2],C[1]-.5*U[1]*D,C[2],C[3]+.5*U[3]*D,U[3],G[3]),H[2]&&P.drawLine(C[0]-.5*U[0]*D,C[3],C[2]+.5*U[2]*D,C[3],U[2],G[2]),A.bind();for(var B=0;B<2;++B)A.drawTicks(B);this.titleEnable&&A.drawTitle();for(var j=this.overlays,B=0;B<j.length;++B)j[B].draw();u.disable(u.SCISSOR_TEST),u.disable(u.BLEND),u.depthMask(!0)}}}(),x.drawPick=function(){return function(){if(!this.static){var u=this.pickBuffer;this.gl,this._pickTimeout=null,u.begin();for(var y=1,C=this.objects,S=0;S<C.length;++S)y=C[S].drawPick(y);u.end()}}}(),x.pick=function(){return function(u,y){if(!this.static){var C=this.pixelRatio,S=this.pickPixelRatio,D=this.viewBox,T=Math.round((u-D[0]/C)*S)|0,P=Math.round((y-D[1]/C)*S)|0,A=this.pickBuffer.query(T,P,this.pickRadius);if(!A)return null;for(var a=A.id+(A.value[0]<<8)+(A.value[1]<<16)+(A.value[2]<<24),R=this.objects,b=0;b<R.length;++b){var N=R[b].pick(T,P,a);if(N)return N}return null}}}();function d(u){for(var y=u.slice(),C=0;C<y.length;++C)y[C]=y[C].slice();return y}function M(u,y){return u.x-y.x}x.setScreenBox=function(u){var y=this.screenBox,C=this.pixelRatio;y[0]=Math.round(u[0]*C)|0,y[1]=Math.round(u[1]*C)|0,y[2]=Math.round(u[2]*C)|0,y[3]=Math.round(u[3]*C)|0,this.setDirty()},x.setDataBox=function(u){var y=this.dataBox,C=y[0]!==u[0]||y[1]!==u[1]||y[2]!==u[2]||y[3]!==u[3];C&&(y[0]=u[0],y[1]=u[1],y[2]=u[2],y[3]=u[3],this.setDirty())},x.setViewBox=function(u){var y=this.pixelRatio,C=this.viewBox;C[0]=Math.round(u[0]*y)|0,C[1]=Math.round(u[1]*y)|0,C[2]=Math.round(u[2]*y)|0,C[3]=Math.round(u[3]*y)|0;var S=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((u[2]-u[0])*S)|0,Math.round((u[3]-u[1])*S)|0],this.setDirty()},x.update=function(u){u=u||{};var y=this.gl;this.pixelRatio=u.pixelRatio||1;var C=this.pixelRatio;this.pickPixelRatio=Math.max(C,1),this.setScreenBox(u.screenBox||[0,0,y.drawingBufferWidth/C,y.drawingBufferHeight/C]),this.screenBox,this.setViewBox(u.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/C,.125*(this.screenBox[3]-this.screenBox[1])/C,.875*(this.screenBox[2]-this.screenBox[0])/C,.875*(this.screenBox[3]-this.screenBox[1])/C]);var S=this.viewBox,D=(S[2]-S[0])/(S[3]-S[1]);this.setDataBox(u.dataBox||[-10,-10/D,10,10/D]),this.borderColor=u.borderColor!==!1?(u.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(u.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(u.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(u.gridLineWidth||[1,1]).slice(),this.gridLineColor=d(u.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(u.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(u.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=d(u.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(u.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(u.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=d(u.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(u.titleCenter||[.5*(S[0]+S[2])/C,(S[3]+120)/C]).slice(),this.titleEnable=!("titleEnable"in u)||!!u.titleEnable,this.titleAngle=u.titleAngle||0,this.titleColor=(u.titleColor||[0,0,0,1]).slice(),this.labelPad=(u.labelPad||[15,15,15,15]).slice(),this.labelAngle=(u.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(u.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=d(u.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(u.tickPad||[15,15,15,15]).slice(),this.tickAngle=(u.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(u.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=d(u.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(u.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(u.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=d(u.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var T=u.ticks||[[],[]],P=this._tickBounds;P[0]=P[1]=1/0,P[2]=P[3]=-1/0;for(var A=0;A<2;++A){var a=T[A].slice(0);a.length!==0&&(a.sort(M),P[A]=Math.min(P[A],a[0].x),P[A+2]=Math.max(P[A+2],a[a.length-1].x))}this.grid.update({bounds:P,ticks:T}),this.text.update({bounds:P,ticks:T,labels:u.labels||["x","y"],labelSize:u.labelSize||[12,12],labelFont:u.labelFont||["sans-serif","sans-serif"],title:u.title||"",titleSize:u.titleSize||18,titleFont:u.titleFont||"sans-serif"}),this.static=!!u.static,this.setDirty()},x.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var u=this.objects.length-1;u>=0;--u)this.objects[u].dispose();this.objects.length=0;for(var u=this.overlays.length-1;u>=0;--u)this.overlays[u].dispose();this.overlays.length=0,this.gl=null},x.addObject=function(u){this.objects.indexOf(u)<0&&(this.objects.push(u),this.setDirty())},x.removeObject=function(u){for(var y=this.objects,C=0;C<y.length;++C)if(y[C]===u){y.splice(C,1),this.setDirty();break}},x.addOverlay=function(u){this.overlays.indexOf(u)<0&&(this.overlays.push(u),this.setOverlayDirty())},x.removeOverlay=function(u){for(var y=this.overlays,C=0;C<y.length;++C)if(y[C]===u){y.splice(C,1),this.setOverlayDirty();break}};function g(u){var y=u.gl,C=r(y,[y.drawingBufferWidth,y.drawingBufferHeight]),S=new c(y,C);return S.grid=l(S),S.text=i(S),S.line=f(S),S.box=v(S),S.update(u),S}},4296:function(p,m,t){p.exports=x;var r=t(8161),l=t(1152),i=t(6145),f=t(6475),v=t(2565),c=t(5233);function x(d,M){d=d||document.body,M=M||{};var g=[.01,1/0];"distanceLimits"in M&&(g[0]=M.distanceLimits[0],g[1]=M.distanceLimits[1]),"zoomMin"in M&&(g[0]=M.zoomMin),"zoomMax"in M&&(g[1]=M.zoomMax);var u=l({center:M.center||[0,0,0],up:M.up||[0,1,0],eye:M.eye||[0,0,10],mode:M.mode||"orbit",distanceLimits:g}),y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C=0,S=d.clientWidth,D=d.clientHeight,T={keyBindingMode:"rotate",enableWheel:!0,view:u,element:d,delay:M.delay||16,rotateSpeed:M.rotateSpeed||1,zoomSpeed:M.zoomSpeed||1,translateSpeed:M.translateSpeed||1,flipX:!!M.flipX,flipY:!!M.flipY,modes:u.modes,_ortho:M._ortho||M.projection&&M.projection.type==="orthographic"||!1,tick:function(){var P=r(),A=this.delay,a=P-2*A;u.idle(P-A),u.recalcMatrix(a),u.flush(P-(100+A*2));for(var R=!0,b=u.computedMatrix,N=0;N<16;++N)R=R&&y[N]===b[N],y[N]=b[N];var O=d.clientWidth===S&&d.clientHeight===D;return S=d.clientWidth,D=d.clientHeight,R?!O:(C=Math.exp(u.computedRadius[0]),!0)},lookAt:function(P,A,a){u.lookAt(u.lastT(),P,A,a)},rotate:function(P,A,a){u.rotate(u.lastT(),P,A,a)},pan:function(P,A,a){u.pan(u.lastT(),P,A,a)},translate:function(P,A,a){u.translate(u.lastT(),P,A,a)}};return Object.defineProperties(T,{matrix:{get:function(){return u.computedMatrix},set:function(P){return u.setMatrix(u.lastT(),P),u.computedMatrix},enumerable:!0},mode:{get:function(){return u.getMode()},set:function(P){var A=u.computedUp.slice(),a=u.computedEye.slice(),R=u.computedCenter.slice();if(u.setMode(P),P==="turntable"){var b=r();u._active.lookAt(b,a,R,A),u._active.lookAt(b+500,a,R,[0,0,1]),u._active.flush(b)}return u.getMode()},enumerable:!0},center:{get:function(){return u.computedCenter},set:function(P){return u.lookAt(u.lastT(),null,P),u.computedCenter},enumerable:!0},eye:{get:function(){return u.computedEye},set:function(P){return u.lookAt(u.lastT(),P),u.computedEye},enumerable:!0},up:{get:function(){return u.computedUp},set:function(P){return u.lookAt(u.lastT(),null,null,P),u.computedUp},enumerable:!0},distance:{get:function(){return C},set:function(P){return u.setDistance(u.lastT(),P),P},enumerable:!0},distanceLimits:{get:function(){return u.getDistanceLimits(g)},set:function(P){return u.setDistanceLimits(P),P},enumerable:!0}}),d.addEventListener("contextmenu",function(P){return P.preventDefault(),!1}),T._lastX=-1,T._lastY=-1,T._lastMods={shift:!1,control:!1,alt:!1,meta:!1},T.enableMouseListeners=function(){T.mouseListener=i(d,P),d.addEventListener("touchstart",function(A){var a=v(A.changedTouches[0],d);P(0,a[0],a[1],T._lastMods),P(1,a[0],a[1],T._lastMods)},c?{passive:!0}:!1),d.addEventListener("touchmove",function(A){var a=v(A.changedTouches[0],d);P(1,a[0],a[1],T._lastMods),A.preventDefault()},c?{passive:!1}:!1),d.addEventListener("touchend",function(A){P(0,T._lastX,T._lastY,T._lastMods)},c?{passive:!0}:!1);function P(A,a,R,b){var N=T.keyBindingMode;if(N!==!1){var O=N==="rotate",Y=N==="pan",B=N==="zoom",W=!!b.control,H=!!b.alt,U=!!b.shift,G=!!(A&1),j=!!(A&2),re=!!(A&4),ae=1/d.clientHeight,ue=ae*(a-T._lastX),de=ae*(R-T._lastY),ee=T.flipX?1:-1,X=T.flipY?1:-1,Q=Math.PI*T.rotateSpeed,$=r();if(T._lastX!==-1&&T._lastY!==-1&&((O&&G&&!W&&!H&&!U||G&&!W&&!H&&U)&&u.rotate($,ee*Q*ue,-X*Q*de,0),(Y&&G&&!W&&!H&&!U||j||G&&W&&!H&&!U)&&u.pan($,-T.translateSpeed*ue*C,T.translateSpeed*de*C,0),B&&G&&!W&&!H&&!U||re||G&&!W&&H&&!U)){var ne=-T.zoomSpeed*de/window.innerHeight*($-u.lastT())*100;u.pan($,0,0,C*(Math.exp(ne)-1))}return T._lastX=a,T._lastY=R,T._lastMods=b,!0}}T.wheelListener=f(d,function(A,a){if(T.keyBindingMode!==!1&&T.enableWheel){var R=T.flipX?1:-1,b=T.flipY?1:-1,N=r();if(Math.abs(A)>Math.abs(a))u.rotate(N,0,0,-A*R*Math.PI*T.rotateSpeed/window.innerWidth);else if(!T._ortho){var O=-T.zoomSpeed*b*a/window.innerHeight*(N-u.lastT())/20;u.pan(N,0,0,C*(Math.exp(O)-1))}}},!0)},T.enableMouseListeners(),T}},8245:function(p,m,t){var r=t(6832),l=t(5158),i=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);p.exports=function(v){return l(v,i,f,null,[{name:"position",type:"vec2"}])}},1059:function(p,m,t){var r=t(4296),l=t(7453),i=t(2771),f=t(6496),v=t(2611),c=t(4234),x=t(8126),d=t(6145),M=t(1120),g=t(5268),u=t(8245),y=t(2321)({tablet:!0,featureDetect:!0});p.exports={createScene:P,createCamera:r};function C(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function S(a,R){var b=null;try{b=a.getContext("webgl",R),b||(b=a.getContext("experimental-webgl",R))}catch{return null}return b}function D(a){var R=Math.round(Math.log(Math.abs(a))/Math.log(10));if(R<0){var b=Math.round(Math.pow(10,-R));return Math.ceil(a*b)/b}else if(R>0){var b=Math.round(Math.pow(10,R));return Math.ceil(a/b)*b}return Math.ceil(a)}function T(a){return typeof a=="boolean"?a:!0}function P(a){a=a||{},a.camera=a.camera||{};var R=a.canvas;if(!R)if(R=document.createElement("canvas"),a.container){var b=a.container;b.appendChild(R)}else document.body.appendChild(R);var N=a.gl;if(N||(a.glOptions&&(y=!!a.glOptions.preserveDrawingBuffer),N=S(R,a.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:y})),!N)throw new Error("webgl not supported");var O=a.bounds||[[-10,-10,-10],[10,10,10]],Y=new C,B=c(N,N.drawingBufferWidth,N.drawingBufferHeight,{preferFloat:!y}),W=u(N),H=a.cameraObject&&a.cameraObject._ortho===!0||a.camera.projection&&a.camera.projection.type==="orthographic"||!1,U={eye:a.camera.eye||[2,0,0],center:a.camera.center||[0,0,0],up:a.camera.up||[0,1,0],zoomMin:a.camera.zoomMax||.1,zoomMax:a.camera.zoomMin||100,mode:a.camera.mode||"turntable",_ortho:H},G=a.axes||{},j=l(N,G);j.enable=!G.disable;var re=a.spikes||{},ae=f(N,re),ue=[],de=[],ee=[],X=[],Q=!0,te=!0,$=new Array(16),ne=new Array(16),fe={view:null,projection:$,model:ne,_ortho:!1},te=!0,q=[N.drawingBufferWidth,N.drawingBufferHeight],he=a.cameraObject||r(R,U),se={gl:N,contextLost:!1,pixelRatio:a.pixelRatio||1,canvas:R,selection:Y,camera:he,axes:j,axesPixels:null,spikes:ae,bounds:O,objects:ue,shape:q,aspect:a.aspectRatio||[1,1,1],pickRadius:a.pickRadius||10,zNear:a.zNear||.01,zFar:a.zFar||1e3,fovy:a.fovy||Math.PI/4,clearColor:a.clearColor||[0,0,0,0],autoResize:T(a.autoResize),autoBounds:T(a.autoBounds),autoScale:!!a.autoScale,autoCenter:T(a.autoCenter),clipToBounds:T(a.clipToBounds),snapToData:!!a.snapToData,onselect:a.onselect||null,onrender:a.onrender||null,onclick:a.onclick||null,cameraParams:fe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ve){this.aspect[0]=Ve.x,this.aspect[1]=Ve.y,this.aspect[2]=Ve.z,te=!0},setBounds:function(Ve,We){this.bounds[0][Ve]=We.min,this.bounds[1][Ve]=We.max},setClearColor:function(Ve){this.clearColor=Ve},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},pe=[N.drawingBufferWidth/se.pixelRatio|0,N.drawingBufferHeight/se.pixelRatio|0];function we(){if(!se._stopped&&se.autoResize){var Ve=R.parentNode,We=1,Fe=1;Ve&&Ve!==document.body?(We=Ve.clientWidth,Fe=Ve.clientHeight):(We=window.innerWidth,Fe=window.innerHeight);var Ge=Math.ceil(We*se.pixelRatio)|0,it=Math.ceil(Fe*se.pixelRatio)|0;if(Ge!==R.width||it!==R.height){R.width=Ge,R.height=it;var qe=R.style;qe.position=qe.position||"absolute",qe.left="0px",qe.top="0px",qe.width=We+"px",qe.height=Fe+"px",Q=!0}}}se.autoResize&&we(),window.addEventListener("resize",we);function Ee(){for(var Ve=ue.length,We=X.length,Fe=0;Fe<We;++Fe)ee[Fe]=0;e:for(var Fe=0;Fe<Ve;++Fe){var Ge=ue[Fe],it=Ge.pickSlots;if(!it){de[Fe]=-1;continue}for(var qe=0;qe<We;++qe)if(ee[qe]+it<255){de[Fe]=qe,Ge.setPickBase(ee[qe]+1),ee[qe]+=it;continue e}var $e=v(N,q);de[Fe]=We,X.push($e),ee.push(it),Ge.setPickBase(1),We+=1}for(;We>0&&ee[We-1]===0;)ee.pop(),X.pop().dispose()}se.update=function(Ve){se._stopped||(Q=!0,te=!0)},se.add=function(Ve){se._stopped||(Ve.axes=j,ue.push(Ve),de.push(-1),Q=!0,te=!0,Ee())},se.remove=function(Ve){if(!se._stopped){var We=ue.indexOf(Ve);We<0||(ue.splice(We,1),de.pop(),Q=!0,te=!0,Ee())}},se.dispose=function(){if(!se._stopped&&(se._stopped=!0,window.removeEventListener("resize",we),R.removeEventListener("webglcontextlost",Me),se.mouseListener.enabled=!1,!se.contextLost)){j.dispose(),ae.dispose();for(var Ve=0;Ve<ue.length;++Ve)ue[Ve].dispose();B.dispose();for(var Ve=0;Ve<X.length;++Ve)X[Ve].dispose();W.dispose(),N=null,j=null,ae=null,ue=[]}},se._mouseRotating=!1,se._prevButtons=0,se.enableMouseListeners=function(){se.mouseListener=d(R,function(Ve,We,Fe){if(!se._stopped){var Ge=X.length,it=ue.length,qe=Y.object;Y.distance=1/0,Y.mouse[0]=We,Y.mouse[1]=Fe,Y.object=null,Y.screen=null,Y.dataCoordinate=Y.dataPosition=null;var $e=!1;if(Ve&&se._prevButtons)se._mouseRotating=!0;else{se._mouseRotating&&(te=!0),se._mouseRotating=!1;for(var tt=0;tt<Ge;++tt){var vt=X[tt].query(We,pe[1]-Fe-1,se.pickRadius);if(vt){if(vt.distance>Y.distance)continue;for(var dt=0;dt<it;++dt){var gt=ue[dt];if(de[dt]===tt){var Mt=gt.pick(vt);Mt&&(Y.buttons=Ve,Y.screen=vt.coord,Y.distance=vt.distance,Y.object=gt,Y.index=Mt.distance,Y.dataPosition=Mt.position,Y.dataCoordinate=Mt.dataCoordinate,Y.data=Mt,$e=!0)}}}}}qe&&qe!==Y.object&&(qe.highlight&&qe.highlight(null),Q=!0),Y.object&&(Y.object.highlight&&Y.object.highlight(Y.data),Q=!0),$e=$e||Y.object!==qe,$e&&se.onselect&&se.onselect(Y),Ve&1&&!(se._prevButtons&1)&&se.onclick&&se.onclick(Y),se._prevButtons=Ve}})};function Me(){if(se.contextLost)return!0;N.isContextLost()&&(se.contextLost=!0,se.mouseListener.enabled=!1,se.selection.object=null,se.oncontextloss&&se.oncontextloss())}R.addEventListener("webglcontextlost",Me);function Be(){if(!Me()){N.colorMask(!0,!0,!0,!0),N.depthMask(!0),N.disable(N.BLEND),N.enable(N.DEPTH_TEST),N.depthFunc(N.LEQUAL);for(var Ve=ue.length,We=X.length,Fe=0;Fe<We;++Fe){var Ge=X[Fe];Ge.shape=pe,Ge.begin();for(var it=0;it<Ve;++it)if(de[it]===Fe){var qe=ue[it];qe.drawPick&&(qe.pixelRatio=1,qe.drawPick(fe))}Ge.end()}}}var Ne=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ce=[Ne[0].slice(),Ne[1].slice()];function Te(){if(!Me()){we();var Ve=se.camera.tick();fe.view=se.camera.matrix,Q=Q||Ve,te=te||Ve,j.pixelRatio=se.pixelRatio,ae.pixelRatio=se.pixelRatio;var We=ue.length,Fe=Ne[0],Ge=Ne[1];Fe[0]=Fe[1]=Fe[2]=1/0,Ge[0]=Ge[1]=Ge[2]=-1/0;for(var it=0;it<We;++it){var qe=ue[it];qe.pixelRatio=se.pixelRatio,qe.axes=se.axes,Q=Q||!!qe.dirty,te=te||!!qe.dirty;var $e=qe.bounds;if($e)for(var tt=$e[0],vt=$e[1],dt=0;dt<3;++dt)Fe[dt]=Math.min(Fe[dt],tt[dt]),Ge[dt]=Math.max(Ge[dt],vt[dt])}var gt=se.bounds;if(se.autoBounds)for(var dt=0;dt<3;++dt){if(Ge[dt]<Fe[dt])Fe[dt]=-1,Ge[dt]=1;else{Fe[dt]===Ge[dt]&&(Fe[dt]-=1,Ge[dt]+=1);var Mt=.05*(Ge[dt]-Fe[dt]);Fe[dt]=Fe[dt]-Mt,Ge[dt]=Ge[dt]+Mt}gt[0][dt]=Fe[dt],gt[1][dt]=Ge[dt]}for(var Ct=!1,dt=0;dt<3;++dt)Ct=Ct||Ce[0][dt]!==gt[0][dt]||Ce[1][dt]!==gt[1][dt],Ce[0][dt]=gt[0][dt],Ce[1][dt]=gt[1][dt];if(te=te||Ct,Q=Q||Ct,!!Q){if(Ct){for(var Wt=[0,0,0],it=0;it<3;++it)Wt[it]=D((gt[1][it]-gt[0][it])/10);j.autoTicks?j.update({bounds:gt,tickSpacing:Wt}):j.update({bounds:gt})}var Xe=N.drawingBufferWidth,ke=N.drawingBufferHeight;q[0]=Xe,q[1]=ke,pe[0]=Math.max(Xe/se.pixelRatio,1)|0,pe[1]=Math.max(ke/se.pixelRatio,1)|0,A(se,H);for(var it=0;it<We;++it){var qe=ue[it];qe.axesBounds=gt,se.clipToBounds&&(qe.clipBounds=gt)}Y.object&&(se.snapToData?ae.position=Y.dataCoordinate:ae.position=Y.dataPosition,ae.bounds=gt),te&&(te=!1,Be()),se.axesPixels=i(se.axes,fe,Xe,ke),se.onrender&&se.onrender(),N.bindFramebuffer(N.FRAMEBUFFER,null),N.viewport(0,0,Xe,ke),se.clearRGBA(),N.depthMask(!0),N.colorMask(!0,!0,!0,!0),N.enable(N.DEPTH_TEST),N.depthFunc(N.LEQUAL),N.disable(N.BLEND),N.disable(N.CULL_FACE);var Ie=!1;j.enable&&(Ie=Ie||j.isTransparent(),j.draw(fe)),ae.axes=j,Y.object&&ae.draw(fe),N.disable(N.CULL_FACE);for(var it=0;it<We;++it){var qe=ue[it];qe.axes=j,qe.pixelRatio=se.pixelRatio,qe.isOpaque&&qe.isOpaque()&&qe.draw(fe),qe.isTransparent&&qe.isTransparent()&&(Ie=!0)}if(Ie){B.shape=q,B.bind(),N.clear(N.DEPTH_BUFFER_BIT),N.colorMask(!1,!1,!1,!1),N.depthMask(!0),N.depthFunc(N.LESS),j.enable&&j.isTransparent()&&j.drawTransparent(fe);for(var it=0;it<We;++it){var qe=ue[it];qe.isOpaque&&qe.isOpaque()&&qe.draw(fe)}N.enable(N.BLEND),N.blendEquation(N.FUNC_ADD),N.blendFunc(N.ONE,N.ONE_MINUS_SRC_ALPHA),N.colorMask(!0,!0,!0,!0),N.depthMask(!1),N.clearColor(0,0,0,0),N.clear(N.COLOR_BUFFER_BIT),j.isTransparent()&&j.drawTransparent(fe);for(var it=0;it<We;++it){var qe=ue[it];qe.isTransparent&&qe.isTransparent()&&qe.drawTransparent(fe)}N.bindFramebuffer(N.FRAMEBUFFER,null),N.blendFunc(N.ONE,N.ONE_MINUS_SRC_ALPHA),N.disable(N.DEPTH_TEST),W.bind(),B.color[0].bind(0),W.uniforms.accumBuffer=0,x(N),N.disable(N.BLEND)}Q=!1;for(var it=0;it<We;++it)ue[it].dirty=!1}}}function Le(){se._stopped||se.contextLost||(Te(),requestAnimationFrame(Le))}return se.enableMouseListeners(),Le(),se.redraw=function(){se._stopped||(Q=!0,Te())},se}function A(a,R){var b=a.bounds,N=a.cameraParams,O=N.projection,Y=N.model,B=a.gl.drawingBufferWidth,W=a.gl.drawingBufferHeight,H=a.zNear,U=a.zFar,G=a.fovy,j=B/W;R?(g(O,-j,j,-1,1,H,U),N._ortho=!0):(M(O,G,j,H,U),N._ortho=!1);for(var re=0;re<16;++re)Y[re]=0;Y[15]=1;for(var ae=0,re=0;re<3;++re)ae=Math.max(ae,b[1][re]-b[0][re]);for(var re=0;re<3;++re)a.autoScale?Y[5*re]=a.aspect[re]/(b[1][re]-b[0][re]):Y[5*re]=1/ae,a.autoCenter&&(Y[12+re]=-Y[5*re]*.5*(b[0][re]+b[1][re]))}},8023:function(p,m,t){var r=t(6832);m.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),m.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),m.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),m.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(p,m,t){var r=t(5158),l=t(5827),i=t(5306),f=t(8023);p.exports=d;function v(M,g,u,y,C){this.plot=M,this.offsetBuffer=g,this.pickBuffer=u,this.shader=y,this.pickShader=C,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var c=v.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(M){var g;M=M||{};function u(A,a){return A in M?M[A]:a}this.sizeMin=u("sizeMin",.5),this.sizeMax=u("sizeMax",20),this.color=u("color",[1,0,0,1]).slice(),this.areaRatio=u("areaRatio",1),this.borderColor=u("borderColor",[0,0,0,1]).slice(),this.blend=u("blend",!1);var y=M.positions.length>>>1,C=M.positions instanceof Float32Array,S=M.idToIndex instanceof Int32Array&&M.idToIndex.length>=y,D=M.positions,T=C?D:i.mallocFloat32(D.length),P=S?M.idToIndex:i.mallocInt32(y);if(C||T.set(D),!S)for(T.set(D),g=0;g<y;g++)P[g]=g;this.points=D,this.offsetBuffer.update(T),this.pickBuffer.update(P),C||i.free(T),S||i.free(P),this.pointCount=y,this.pickOffset=0};function x(M,g){var u=0,y=M.length>>>1,C;for(C=0;C<y;C++){var S=M[C*2],D=M[C*2+1];S>=g[0]&&S<=g[2]&&D>=g[1]&&D<=g[3]&&u++}return u}c.unifiedDraw=function(){var M=[1,0,0,0,1,0,0,0,1],g=[0,0,0,0];return function(u){var y=u!==void 0,C=y?this.pickShader:this.shader,S=this.plot.gl,D=this.plot.dataBox;if(this.pointCount===0)return u;var T=D[2]-D[0],P=D[3]-D[1],A=x(this.points,D),a=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(A,.33333)));M[0]=2/T,M[4]=2/P,M[6]=-2*D[0]/T-1,M[7]=-2*D[1]/P-1,this.offsetBuffer.bind(),C.bind(),C.attributes.position.pointer(),C.uniforms.matrix=M,C.uniforms.color=this.color,C.uniforms.borderColor=this.borderColor,C.uniforms.pointCloud=a<5,C.uniforms.pointSize=a,C.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),y&&(g[0]=u&255,g[1]=u>>8&255,g[2]=u>>16&255,g[3]=u>>24&255,this.pickBuffer.bind(),C.attributes.pickId.pointer(S.UNSIGNED_BYTE),C.uniforms.pickOffset=g,this.pickOffset=u);var R=S.getParameter(S.BLEND),b=S.getParameter(S.DITHER);return R&&!this.blend&&S.disable(S.BLEND),b&&S.disable(S.DITHER),S.drawArrays(S.POINTS,0,this.pointCount),R&&!this.blend&&S.enable(S.BLEND),b&&S.enable(S.DITHER),u+this.pointCount}}(),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(M,g,u){var y=this.pickOffset,C=this.pointCount;if(u<y||u>=y+C)return null;var S=u-y,D=this.points;return{object:this,pointId:S,dataCoord:[D[2*S],D[2*S+1]]}};function d(M,g){var u=M.gl,y=l(u),C=l(u),S=r(u,f.pointVertex,f.pointFragment),D=r(u,f.pickVertex,f.pickFragment),T=new v(M,y,C,S,D);return T.update(g),M.addObject(T),T}},6093:function(p){p.exports=m;function m(t,r,l,i){var f=r[0],v=r[1],c=r[2],x=r[3],d=l[0],M=l[1],g=l[2],u=l[3],y,C,S,D,T;return C=f*d+v*M+c*g+x*u,C<0&&(C=-C,d=-d,M=-M,g=-g,u=-u),1-C>1e-6?(y=Math.acos(C),S=Math.sin(y),D=Math.sin((1-i)*y)/S,T=Math.sin(i*y)/S):(D=1-i,T=i),t[0]=D*f+T*d,t[1]=D*v+T*M,t[2]=D*c+T*g,t[3]=D*x+T*u,t}},8240:function(p){p.exports=function(m){return!m&&m!==0?"":m.toString()}},4123:function(p,m,t){var r=t(875);p.exports=i;var l={};function i(f,v,c){var x=l[v];if(x||(x=l[v]={}),f in x)return x[f];var d={textAlign:"center",textBaseline:"middle",lineHeight:1,font:v,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};d.triangles=!0;var M=r(f,d);d.triangles=!1;var g=r(f,d),u,y;if(c&&c!==1){for(u=0;u<M.positions.length;++u)for(y=0;y<M.positions[u].length;++y)M.positions[u][y]/=c;for(u=0;u<g.positions.length;++u)for(y=0;y<g.positions[u].length;++y)g.positions[u][y]/=c}var C=[[1/0,1/0],[-1/0,-1/0]],S=g.positions.length;for(u=0;u<S;++u){var D=g.positions[u];for(y=0;y<2;++y)C[0][y]=Math.min(C[0][y],D[y]),C[1][y]=Math.max(C[1][y],D[y])}return x[f]=[M,g,C]}},9282:function(p,m,t){var r=t(5158),l=t(6832),i=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),v=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),c=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),x=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),d=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],M={vertex:i,fragment:c,attributes:d},g={vertex:f,fragment:c,attributes:d},u={vertex:v,fragment:c,attributes:d},y={vertex:i,fragment:x,attributes:d},C={vertex:f,fragment:x,attributes:d},S={vertex:v,fragment:x,attributes:d};function D(T,P){var A=r(T,P),a=A.attributes;return a.position.location=0,a.color.location=1,a.glyph.location=2,a.id.location=3,A}m.createPerspective=function(T){return D(T,M)},m.createOrtho=function(T){return D(T,g)},m.createProject=function(T){return D(T,u)},m.createPickPerspective=function(T){return D(T,y)},m.createPickOrtho=function(T){return D(T,C)},m.createPickProject=function(T){return D(T,S)}},2182:function(p,m,t){var r=t(3596),l=t(5827),i=t(2944),f=t(5306),v=t(104),c=t(9282),x=t(4123),d=t(8240),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];p.exports=de;function g(ee,X){var Q=ee[0],$=ee[1],ne=ee[2],fe=ee[3];return ee[0]=X[0]*Q+X[4]*$+X[8]*ne+X[12]*fe,ee[1]=X[1]*Q+X[5]*$+X[9]*ne+X[13]*fe,ee[2]=X[2]*Q+X[6]*$+X[10]*ne+X[14]*fe,ee[3]=X[3]*Q+X[7]*$+X[11]*ne+X[15]*fe,ee}function u(ee,X,Q,$){return g($,$),g($,$),g($,$)}function y(ee,X){this.index=ee,this.dataCoordinate=this.position=X}function C(ee){return ee===!0||ee>1?1:ee}function S(ee,X,Q,$,ne,fe,te,q,he,se,pe,we){this.gl=ee,this.pixelRatio=1,this.shader=X,this.orthoShader=Q,this.projectShader=$,this.pointBuffer=ne,this.colorBuffer=fe,this.glyphBuffer=te,this.idBuffer=q,this.vao=he,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=se,this.pickOrthoShader=pe,this.pickProjectShader=we,this.points=[],this._selectResult=new y(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var D=S.prototype;D.pickSlots=1,D.setPickBase=function(ee){this.pickId=ee},D.isTransparent=function(){if(this.hasAlpha)return!0;for(var ee=0;ee<3;++ee)if(this.axesProject[ee]&&this.projectHasAlpha)return!0;return!1},D.isOpaque=function(){if(!this.hasAlpha)return!0;for(var ee=0;ee<3;++ee)if(this.axesProject[ee]&&!this.projectHasAlpha)return!0;return!1};var T=[0,0],P=[0,0,0],A=[0,0,0],a=[0,0,0,1],R=[0,0,0,1],b=M.slice(),N=[0,0,0],O=[[0,0,0],[0,0,0]];function Y(ee){return ee[0]=ee[1]=ee[2]=0,ee}function B(ee,X){return ee[0]=X[0],ee[1]=X[1],ee[2]=X[2],ee[3]=1,ee}function W(ee,X,Q,$){return ee[0]=X[0],ee[1]=X[1],ee[2]=X[2],ee[Q]=$,ee}function H(ee){for(var X=O,Q=0;Q<2;++Q)for(var $=0;$<3;++$)X[Q][$]=Math.max(Math.min(ee[Q][$],1e8),-1e8);return X}function U(ee,X,Q,$){var ne=X.axesProject,fe=X.gl,te=ee.uniforms,q=Q.model||M,he=Q.view||M,se=Q.projection||M,pe=X.axesBounds,we=H(X.clipBounds),Ee;X.axes&&X.axes.lastCubeProps?Ee=X.axes.lastCubeProps.axis:Ee=[1,1,1],T[0]=2/fe.drawingBufferWidth,T[1]=2/fe.drawingBufferHeight,ee.bind(),te.view=he,te.projection=se,te.screenSize=T,te.highlightId=X.highlightId,te.highlightScale=X.highlightScale,te.clipBounds=we,te.pickGroup=X.pickId/255,te.pixelRatio=$;for(var Me=0;Me<3;++Me)if(ne[Me]){te.scale=X.projectScale[Me],te.opacity=X.projectOpacity[Me];for(var Be=b,Ne=0;Ne<16;++Ne)Be[Ne]=0;for(var Ne=0;Ne<4;++Ne)Be[5*Ne]=1;Be[5*Me]=0,Ee[Me]<0?Be[12+Me]=pe[0][Me]:Be[12+Me]=pe[1][Me],v(Be,q,Be),te.model=Be;var Ce=(Me+1)%3,Te=(Me+2)%3,Le=Y(P),Ve=Y(A);Le[Ce]=1,Ve[Te]=1;var We=u(se,he,q,B(a,Le)),Fe=u(se,he,q,B(R,Ve));if(Math.abs(We[1])>Math.abs(Fe[1])){var Ge=We;We=Fe,Fe=Ge,Ge=Le,Le=Ve,Ve=Ge;var it=Ce;Ce=Te,Te=it}We[0]<0&&(Le[Ce]=-1),Fe[1]>0&&(Ve[Te]=-1);for(var qe=0,$e=0,Ne=0;Ne<4;++Ne)qe+=Math.pow(q[4*Ce+Ne],2),$e+=Math.pow(q[4*Te+Ne],2);Le[Ce]/=Math.sqrt(qe),Ve[Te]/=Math.sqrt($e),te.axes[0]=Le,te.axes[1]=Ve,te.fragClipBounds[0]=W(N,we[0],Me,-1e8),te.fragClipBounds[1]=W(N,we[1],Me,1e8),X.vao.bind(),X.vao.draw(fe.TRIANGLES,X.vertexCount),X.lineWidth>0&&(fe.lineWidth(X.lineWidth*$),X.vao.draw(fe.LINES,X.lineVertexCount,X.vertexCount)),X.vao.unbind()}}var G=[-1e8,-1e8,-1e8],j=[1e8,1e8,1e8],re=[G,j];function ae(ee,X,Q,$,ne,fe,te){var q=Q.gl;if((fe===Q.projectHasAlpha||te)&&U(X,Q,$,ne),fe===Q.hasAlpha||te){ee.bind();var he=ee.uniforms;he.model=$.model||M,he.view=$.view||M,he.projection=$.projection||M,T[0]=2/q.drawingBufferWidth,T[1]=2/q.drawingBufferHeight,he.screenSize=T,he.highlightId=Q.highlightId,he.highlightScale=Q.highlightScale,he.fragClipBounds=re,he.clipBounds=Q.axes.bounds,he.opacity=Q.opacity,he.pickGroup=Q.pickId/255,he.pixelRatio=ne,Q.vao.bind(),Q.vao.draw(q.TRIANGLES,Q.vertexCount),Q.lineWidth>0&&(q.lineWidth(Q.lineWidth*ne),Q.vao.draw(q.LINES,Q.lineVertexCount,Q.vertexCount)),Q.vao.unbind()}}D.draw=function(ee){var X=this.useOrtho?this.orthoShader:this.shader;ae(X,this.projectShader,this,ee,this.pixelRatio,!1,!1)},D.drawTransparent=function(ee){var X=this.useOrtho?this.orthoShader:this.shader;ae(X,this.projectShader,this,ee,this.pixelRatio,!0,!1)},D.drawPick=function(ee){var X=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ae(X,this.pickProjectShader,this,ee,1,!0,!0)},D.pick=function(ee){if(!ee||ee.id!==this.pickId)return null;var X=ee.value[2]+(ee.value[1]<<8)+(ee.value[0]<<16);if(X>=this.pointCount||X<0)return null;var Q=this.points[X],$=this._selectResult;$.index=X;for(var ne=0;ne<3;++ne)$.position[ne]=$.dataCoordinate[ne]=Q[ne];return $},D.highlight=function(ee){if(!ee)this.highlightId=[1,1,1,1];else{var X=ee.index,Q=X&255,$=X>>8&255,ne=X>>16&255;this.highlightId=[Q/255,$/255,ne/255,0]}};function ue(ee,X,Q,$){var ne;Array.isArray(ee)?X<ee.length?ne=ee[X]:ne=void 0:ne=ee,ne=d(ne);var fe=!0;r(ne)&&(ne="▼",fe=!1);var te=x(ne,Q,$);return{mesh:te[0],lines:te[1],bounds:te[2],visible:fe}}D.update=function(ee){if(ee=ee||{},"perspective"in ee&&(this.useOrtho=!ee.perspective),"orthographic"in ee&&(this.useOrtho=!!ee.orthographic),"lineWidth"in ee&&(this.lineWidth=ee.lineWidth),"project"in ee)if(Array.isArray(ee.project))this.axesProject=ee.project;else{var X=!!ee.project;this.axesProject=[X,X,X]}if("projectScale"in ee)if(Array.isArray(ee.projectScale))this.projectScale=ee.projectScale.slice();else{var Q=+ee.projectScale;this.projectScale=[Q,Q,Q]}if(this.projectHasAlpha=!1,"projectOpacity"in ee){if(Array.isArray(ee.projectOpacity))this.projectOpacity=ee.projectOpacity.slice();else{var Q=+ee.projectOpacity;this.projectOpacity=[Q,Q,Q]}for(var $=0;$<3;++$)this.projectOpacity[$]=C(this.projectOpacity[$]),this.projectOpacity[$]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in ee&&(this.opacity=C(ee.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ne=ee.position,fe=ee.font||"normal",te=ee.alignment||[0,0],q,he;if(te.length===2)q=te[0],he=te[1];else{q=[],he=[];for(var $=0;$<te.length;++$)q[$]=te[$][0],he[$]=te[$][1]}var se=[1/0,1/0,1/0],pe=[-1/0,-1/0,-1/0],we=ee.glyph,Ee=ee.color,Me=ee.size,Be=ee.angle,Ne=ee.lineColor,Ce=-1,Te=0,Le=0,Ve=0;if(ne.length){Ve=ne.length;e:for(var $=0;$<Ve;++$){for(var We=ne[$],Fe=0;Fe<3;++Fe)if(isNaN(We[Fe])||!isFinite(We[Fe]))continue e;var Ge=ue(we,$,fe,this.pixelRatio),it=Ge.mesh,qe=Ge.lines,$e=Ge.bounds;Te+=it.cells.length*3,Le+=qe.edges.length*2}}var tt=Te+Le,vt=f.mallocFloat(3*tt),dt=f.mallocFloat(4*tt),gt=f.mallocFloat(2*tt),Mt=f.mallocUint32(tt);if(tt>0){var Ct=0,Wt=Te,Xe=[0,0,0,1],ke=[0,0,0,1],Ie=Array.isArray(Ee)&&Array.isArray(Ee[0]),Oe=Array.isArray(Ne)&&Array.isArray(Ne[0]);e:for(var $=0;$<Ve;++$){Ce+=1;for(var We=ne[$],Fe=0;Fe<3;++Fe){if(isNaN(We[Fe])||!isFinite(We[Fe]))continue e;pe[Fe]=Math.max(pe[Fe],We[Fe]),se[Fe]=Math.min(se[Fe],We[Fe])}var Ge=ue(we,$,fe,this.pixelRatio),it=Ge.mesh,qe=Ge.lines,$e=Ge.bounds,_e=Ge.visible;if(!_e)Xe=[1,1,1,0];else if(Array.isArray(Ee)){var Ae;if(Ie?$<Ee.length?Ae=Ee[$]:Ae=[0,0,0,0]:Ae=Ee,Ae.length===3){for(var Fe=0;Fe<3;++Fe)Xe[Fe]=Ae[Fe];Xe[3]=1}else if(Ae.length===4){for(var Fe=0;Fe<4;++Fe)Xe[Fe]=Ae[Fe];!this.hasAlpha&&Ae[3]<1&&(this.hasAlpha=!0)}}else Xe[0]=Xe[1]=Xe[2]=0,Xe[3]=1;if(!_e)ke=[1,1,1,0];else if(Array.isArray(Ne)){var Ae;if(Oe?$<Ne.length?Ae=Ne[$]:Ae=[0,0,0,0]:Ae=Ne,Ae.length===3){for(var Fe=0;Fe<3;++Fe)ke[Fe]=Ae[Fe];ke[Fe]=1}else if(Ae.length===4){for(var Fe=0;Fe<4;++Fe)ke[Fe]=Ae[Fe];!this.hasAlpha&&Ae[3]<1&&(this.hasAlpha=!0)}}else ke[0]=ke[1]=ke[2]=0,ke[3]=1;var ce=.5;_e?Array.isArray(Me)?$<Me.length?ce=+Me[$]:ce=12:Me?ce=+Me:this.useOrtho&&(ce=12):ce=0;var be=0;Array.isArray(Be)?$<Be.length?be=+Be[$]:be=0:Be&&(be=+Be);for(var Re=Math.cos(be),Ue=Math.sin(be),We=ne[$],Fe=0;Fe<3;++Fe)pe[Fe]=Math.max(pe[Fe],We[Fe]),se[Fe]=Math.min(se[Fe],We[Fe]);var nt=q,ot=he,nt=0;Array.isArray(q)?$<q.length?nt=q[$]:nt=0:q&&(nt=q);var ot=0;Array.isArray(he)?$<he.length?ot=he[$]:ot=0:he&&(ot=he),nt*=nt>0?1-$e[0][0]:nt<0?1+$e[1][0]:1,ot*=ot>0?1-$e[0][1]:ot<0?1+$e[1][1]:1;for(var wt=[nt,ot],Kt=it.cells||[],ar=it.positions||[],Fe=0;Fe<Kt.length;++Fe)for(var _t=Kt[Fe],Ut=0;Ut<3;++Ut){for(var Vt=0;Vt<3;++Vt)vt[3*Ct+Vt]=We[Vt];for(var Vt=0;Vt<4;++Vt)dt[4*Ct+Vt]=Xe[Vt];Mt[Ct]=Ce;var Lt=ar[_t[Ut]];gt[2*Ct]=ce*(Re*Lt[0]-Ue*Lt[1]+wt[0]),gt[2*Ct+1]=ce*(Ue*Lt[0]+Re*Lt[1]+wt[1]),Ct+=1}for(var Kt=qe.edges,ar=qe.positions,Fe=0;Fe<Kt.length;++Fe)for(var _t=Kt[Fe],Ut=0;Ut<2;++Ut){for(var Vt=0;Vt<3;++Vt)vt[3*Wt+Vt]=We[Vt];for(var Vt=0;Vt<4;++Vt)dt[4*Wt+Vt]=ke[Vt];Mt[Wt]=Ce;var Lt=ar[_t[Ut]];gt[2*Wt]=ce*(Re*Lt[0]-Ue*Lt[1]+wt[0]),gt[2*Wt+1]=ce*(Ue*Lt[0]+Re*Lt[1]+wt[1]),Wt+=1}}}this.bounds=[se,pe],this.points=ne,this.pointCount=ne.length,this.vertexCount=Te,this.lineVertexCount=Le,this.pointBuffer.update(vt),this.colorBuffer.update(dt),this.glyphBuffer.update(gt),this.idBuffer.update(Mt),f.free(vt),f.free(dt),f.free(gt),f.free(Mt)},D.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function de(ee){var X=ee.gl,Q=c.createPerspective(X),$=c.createOrtho(X),ne=c.createProject(X),fe=c.createPickPerspective(X),te=c.createPickOrtho(X),q=c.createPickProject(X),he=l(X),se=l(X),pe=l(X),we=l(X),Ee=i(X,[{buffer:he,size:3,type:X.FLOAT},{buffer:se,size:4,type:X.FLOAT},{buffer:pe,size:2,type:X.FLOAT},{buffer:we,size:4,type:X.UNSIGNED_BYTE,normalized:!0}]),Me=new S(X,Q,$,ne,he,se,pe,we,Ee,fe,te,q);return Me.update(ee),Me}},1884:function(p,m,t){var r=t(6832);m.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),m.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(p,m,t){var r=t(5158),l=t(5827),i=t(1884);p.exports=c;function f(x,d,M){this.plot=x,this.boxBuffer=d,this.boxShader=M,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var v=f.prototype;v.draw=function(){if(this.enabled){var x=this.plot,d=this.selectBox,M=this.borderWidth;this.innerFill;var g=this.innerColor;this.outerFill;var u=this.outerColor,y=this.borderColor,C=x.box,S=x.screenBox,D=x.dataBox,T=x.viewBox,P=x.pixelRatio,A=(d[0]-D[0])*(T[2]-T[0])/(D[2]-D[0])+T[0],a=(d[1]-D[1])*(T[3]-T[1])/(D[3]-D[1])+T[1],R=(d[2]-D[0])*(T[2]-T[0])/(D[2]-D[0])+T[0],b=(d[3]-D[1])*(T[3]-T[1])/(D[3]-D[1])+T[1];if(A=Math.max(A,T[0]),a=Math.max(a,T[1]),R=Math.min(R,T[2]),b=Math.min(b,T[3]),!(R<A||b<a)){C.bind();var N=S[2]-S[0],O=S[3]-S[1];if(this.outerFill&&(C.drawBox(0,0,N,a,u),C.drawBox(0,a,A,b,u),C.drawBox(0,b,N,O,u),C.drawBox(R,a,N,b,u)),this.innerFill&&C.drawBox(A,a,R,b,g),M>0){var Y=M*P;C.drawBox(A-Y,a-Y,R+Y,a+Y,y),C.drawBox(A-Y,b-Y,R+Y,b+Y,y),C.drawBox(A-Y,a-Y,A+Y,b+Y,y),C.drawBox(R-Y,a-Y,R+Y,b+Y,y)}}}},v.update=function(x){x=x||{},this.innerFill=!!x.innerFill,this.outerFill=!!x.outerFill,this.innerColor=(x.innerColor||[0,0,0,.5]).slice(),this.outerColor=(x.outerColor||[0,0,0,.5]).slice(),this.borderColor=(x.borderColor||[0,0,0,1]).slice(),this.borderWidth=x.borderWidth||0,this.selectBox=(x.selectBox||this.selectBox).slice()},v.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function c(x,d){var M=x.gl,g=l(M,[0,0,0,1,1,0,1,1]),u=r(M,i.boxVertex,i.boxFragment),y=new f(x,g,u);return y.update(d),x.addOverlay(y),y}},2611:function(p,m,t){p.exports=M;var r=t(4234),l=t(5306),i=t(5050),f=t(2288).nextPow2,v=function(g,u,y){for(var C=1e8,S=-1,D=-1,T=g.shape[0],P=g.shape[1],A=0;A<T;A++)for(var a=0;a<P;a++){var R=g.get(A,a,0),b=g.get(A,a,1),N=g.get(A,a,2),O=g.get(A,a,3);if(R<255||b<255||N<255||O<255){var Y=u-A,B=y-a,W=Y*Y+B*B;W<C&&(C=W,S=A,D=a)}}return[S,D,C]};function c(g,u,y,C,S){this.coord=[g,u],this.id=y,this.value=C,this.distance=S}function x(g,u,y){this.gl=g,this.fbo=u,this.buffer=y,this._readTimeout=null;var C=this;this._readCallback=function(){C.gl&&(u.bind(),g.readPixels(0,0,u.shape[0],u.shape[1],g.RGBA,g.UNSIGNED_BYTE,C.buffer),C._readTimeout=null)}}var d=x.prototype;Object.defineProperty(d,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(g){if(this.gl){this.fbo.shape=g;var u=this.fbo.shape[0],y=this.fbo.shape[1];if(y*u*4>this.buffer.length){l.free(this.buffer);for(var C=this.buffer=l.mallocUint8(f(y*u*4)),S=0;S<y*u*4;++S)C[S]=255}return g}}}),d.begin=function(){var g=this.gl;this.shape,g&&(this.fbo.bind(),g.clearColor(1,1,1,1),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT))},d.end=function(){var g=this.gl;g&&(g.bindFramebuffer(g.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},d.query=function(g,u,y){if(!this.gl)return null;var C=this.fbo.shape.slice();g=g|0,u=u|0,typeof y!="number"&&(y=1);var S=Math.min(Math.max(g-y,0),C[0])|0,D=Math.min(Math.max(g+y,0),C[0])|0,T=Math.min(Math.max(u-y,0),C[1])|0,P=Math.min(Math.max(u+y,0),C[1])|0;if(D<=S||P<=T)return null;var A=[D-S,P-T],a=i(this.buffer,[A[0],A[1],4],[4,C[0]*4,1],4*(S+C[0]*T)),R=v(a.hi(A[0],A[1],1),y,y),b=R[0],N=R[1];if(b<0||Math.pow(this.radius,2)<R[2])return null;var O=a.get(b,N,0),Y=a.get(b,N,1),B=a.get(b,N,2),W=a.get(b,N,3);return new c(b+S|0,N+T|0,O,[Y,B,W],Math.sqrt(R[2]))},d.dispose=function(){this.gl&&(this.fbo.dispose(),l.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function M(g,u){var y=u[0],C=u[1],S={},D=r(g,y,C,S),T=l.mallocUint8(y*C*4);return new x(g,D,T)}},5158:function(p,m,t){var r=t(9016),l=t(4280),i=t(3984),f=t(1628),v=t(2631),c=t(9068);function x(u){this.gl=u,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var d=x.prototype;d.bind=function(){this.program||this._relink();var u,y=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),C=this.gl.lastAttribCount;if(y>C)for(u=C;u<y;u++)this.gl.enableVertexAttribArray(u);else if(C>y)for(u=y;u<C;u++)this.gl.disableVertexAttribArray(u);this.gl.lastAttribCount=y,this.gl.useProgram(this.program)},d.dispose=function(){for(var u=this.gl.lastAttribCount,y=0;y<u;y++)this.gl.disableVertexAttribArray(y);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function M(u,y){return u.name<y.name?-1:1}d.update=function(u,y,C,S){if(!y||arguments.length===1){var D=u;u=D.vertex,y=D.fragment,C=D.uniforms,S=D.attributes}var T=this,P=T.gl,A=T._vref;T._vref=f.shader(P,P.VERTEX_SHADER,u),A&&A.dispose(),T.vertShader=T._vref.shader;var a=this._fref;if(T._fref=f.shader(P,P.FRAGMENT_SHADER,y),a&&a.dispose(),T.fragShader=T._fref.shader,!C||!S){var R=P.createProgram();if(P.attachShader(R,T.fragShader),P.attachShader(R,T.vertShader),P.linkProgram(R),!P.getProgramParameter(R,P.LINK_STATUS)){var b=P.getProgramInfoLog(R);throw new c(b,"Error linking program:"+b)}C=C||v.uniforms(P,R),S=S||v.attributes(P,R),P.deleteProgram(R)}S=S.slice(),S.sort(M);var N=[],O=[],Y=[],B;for(B=0;B<S.length;++B){var W=S[B];if(W.type.indexOf("mat")>=0){for(var H=W.type.charAt(W.type.length-1)|0,U=new Array(H),G=0;G<H;++G)U[G]=Y.length,O.push(W.name+"["+G+"]"),typeof W.location=="number"?Y.push(W.location+G):Array.isArray(W.location)&&W.location.length===H&&typeof W.location[G]=="number"?Y.push(W.location[G]|0):Y.push(-1);N.push({name:W.name,type:W.type,locations:U})}else N.push({name:W.name,type:W.type,locations:[Y.length]}),O.push(W.name),typeof W.location=="number"?Y.push(W.location|0):Y.push(-1)}var j=0;for(B=0;B<Y.length;++B)if(Y[B]<0){for(;Y.indexOf(j)>=0;)j+=1;Y[B]=j}var re=new Array(C.length);function ae(){T.program=f.program(P,T._vref,T._fref,O,Y);for(var ue=0;ue<C.length;++ue)re[ue]=P.getUniformLocation(T.program,C[ue].name)}ae(),T._relink=ae,T.types={uniforms:i(C),attributes:i(S)},T.attributes=l(P,T,N,Y),Object.defineProperty(T,"uniforms",r(P,T,C,re))};function g(u,y,C,S,D){var T=new x(u);return T.update(y,C,S,D),T}p.exports=g},9068:function(p){function m(t,r,l){this.shortMessage=r||"",this.longMessage=l||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(l?`
`+l:""),this.stack=new Error().stack}m.prototype=new Error,m.prototype.name="GLError",m.prototype.constructor=m,p.exports=m},4280:function(p,m,t){p.exports=x;var r=t(9068);function l(d,M,g,u,y,C){this._gl=d,this._wrapper=M,this._index=g,this._locations=u,this._dimension=y,this._constFunc=C}var i=l.prototype;i.pointer=function(M,g,u,y){var C=this,S=C._gl,D=C._locations[C._index];S.vertexAttribPointer(D,C._dimension,M||S.FLOAT,!!g,u||0,y||0),S.enableVertexAttribArray(D)},i.set=function(d,M,g,u){return this._constFunc(this._locations[this._index],d,M,g,u)},Object.defineProperty(i,"location",{get:function(){return this._locations[this._index]},set:function(d){return d!==this._locations[this._index]&&(this._locations[this._index]=d|0,this._wrapper.program=null),d|0}});var f=[function(d,M,g){return g.length===void 0?d.vertexAttrib1f(M,g):d.vertexAttrib1fv(M,g)},function(d,M,g,u){return g.length===void 0?d.vertexAttrib2f(M,g,u):d.vertexAttrib2fv(M,g)},function(d,M,g,u,y){return g.length===void 0?d.vertexAttrib3f(M,g,u,y):d.vertexAttrib3fv(M,g)},function(d,M,g,u,y,C){return g.length===void 0?d.vertexAttrib4f(M,g,u,y,C):d.vertexAttrib4fv(M,g)}];function v(d,M,g,u,y,C,S){var D=f[y],T=new l(d,M,g,u,y,D);Object.defineProperty(C,S,{set:function(P){return d.disableVertexAttribArray(u[g]),D(d,u[g],P),P},get:function(){return T},enumerable:!0})}function c(d,M,g,u,y,C,S){for(var D=new Array(y),T=new Array(y),P=0;P<y;++P)v(d,M,g[P],u,y,D,P),T[P]=D[P];Object.defineProperty(D,"location",{set:function(R){if(Array.isArray(R))for(var b=0;b<y;++b)T[b].location=R[b];else for(var b=0;b<y;++b)T[b].location=R+b;return R},get:function(){for(var R=new Array(y),b=0;b<y;++b)R[b]=u[g[b]];return R},enumerable:!0}),D.pointer=function(R,b,N,O){R=R||d.FLOAT,b=!!b,N=N||y*y,O=O||0;for(var Y=0;Y<y;++Y){var B=u[g[Y]];d.vertexAttribPointer(B,y,R,b,N,O+Y*y),d.enableVertexAttribArray(B)}};var A=new Array(y),a=d["vertexAttrib"+y+"fv"];Object.defineProperty(C,S,{set:function(R){for(var b=0;b<y;++b){var N=u[g[b]];if(d.disableVertexAttribArray(N),Array.isArray(R[0]))a.call(d,N,R[b]);else{for(var O=0;O<y;++O)A[O]=R[y*b+O];a.call(d,N,A)}}return R},get:function(){return D},enumerable:!0})}function x(d,M,g,u){for(var y={},C=0,S=g.length;C<S;++C){var D=g[C],T=D.name,P=D.type,A=D.locations;switch(P){case"bool":case"int":case"float":v(d,M,A[0],u,1,y,T);break;default:if(P.indexOf("vec")>=0){var a=P.charCodeAt(P.length-1)-48;if(a<2||a>4)throw new r("","Invalid data type for attribute "+T+": "+P);v(d,M,A[0],u,a,y,T)}else if(P.indexOf("mat")>=0){var a=P.charCodeAt(P.length-1)-48;if(a<2||a>4)throw new r("","Invalid data type for attribute "+T+": "+P);c(d,M,A,u,a,y,T)}else throw new r("","Unknown data type for attribute "+T+": "+P);break}}return y}},9016:function(p,m,t){var r=t(3984),l=t(9068);p.exports=v;function i(c){return function(){return c}}function f(c,x){for(var d=new Array(c),M=0;M<c;++M)d[M]=x;return d}function v(c,x,d,M){function g(P){return function(A,a,R){return A.getUniform(a.program,R[P])}}function u(P){return function(a){for(var R=y("",P),b=0;b<R.length;++b){var N=R[b],O=N[0],Y=N[1];if(M[Y]){var B=a;if(typeof O=="string"&&(O.indexOf(".")===0||O.indexOf("[")===0)){var W=O;if(O.indexOf(".")===0&&(W=O.slice(1)),W.indexOf("]")===W.length-1){var H=W.indexOf("["),U=W.slice(0,H),G=W.slice(H+1,W.length-1);B=U?a[U][G]:a[G]}else B=a[W]}var j=d[Y].type,re;switch(j){case"bool":case"int":case"sampler2D":case"samplerCube":c.uniform1i(M[Y],B);break;case"float":c.uniform1f(M[Y],B);break;default:var ae=j.indexOf("vec");if(0<=ae&&ae<=1&&j.length===4+ae){if(re=j.charCodeAt(j.length-1)-48,re<2||re>4)throw new l("","Invalid data type");switch(j.charAt(0)){case"b":case"i":c["uniform"+re+"iv"](M[Y],B);break;case"v":c["uniform"+re+"fv"](M[Y],B);break;default:throw new l("","Unrecognized data type for vector "+name+": "+j)}}else if(j.indexOf("mat")===0&&j.length===4){if(re=j.charCodeAt(j.length-1)-48,re<2||re>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+j);c["uniformMatrix"+re+"fv"](M[Y],!1,B);break}else throw new l("","Unknown uniform data type for "+name+": "+j)}}}}}function y(P,A){if(typeof A!="object")return[[P,A]];var a=[];for(var R in A){var b=A[R],N=P;parseInt(R)+""===R?N+="["+R+"]":N+="."+R,typeof b=="object"?a.push.apply(a,y(N,b)):a.push([N,b])}return a}function C(P){switch(P){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var A=P.indexOf("vec");if(0<=A&&A<=1&&P.length===4+A){var a=P.charCodeAt(P.length-1)-48;if(a<2||a>4)throw new l("","Invalid data type");return P.charAt(0)==="b"?f(a,!1):f(a,0)}else if(P.indexOf("mat")===0&&P.length===4){var a=P.charCodeAt(P.length-1)-48;if(a<2||a>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+P);return f(a*a,0)}else throw new l("","Unknown uniform data type for "+name+": "+P)}}function S(P,A,a){if(typeof a=="object"){var R=D(a);Object.defineProperty(P,A,{get:i(R),set:u(a),enumerable:!0,configurable:!1})}else M[a]?Object.defineProperty(P,A,{get:g(a),set:u(a),enumerable:!0,configurable:!1}):P[A]=C(d[a].type)}function D(P){var A;if(Array.isArray(P)){A=new Array(P.length);for(var a=0;a<P.length;++a)S(A,a,P[a])}else{A={};for(var R in P)S(A,R,P[R])}return A}var T=r(d,!0);return{get:i(D(T)),set:u(T),enumerable:!0,configurable:!0}}},3984:function(p){p.exports=m;function m(t,r){for(var l={},i=0;i<t.length;++i)for(var f=t[i].name,v=f.split("."),c=l,x=0;x<v.length;++x){var d=v[x].split("[");if(d.length>1){d[0]in c||(c[d[0]]=[]),c=c[d[0]];for(var M=1;M<d.length;++M){var g=parseInt(d[M]);M<d.length-1||x<v.length-1?(g in c||(M<d.length-1?c[g]=[]:c[g]={}),c=c[g]):r?c[g]=i:c[g]=t[i].type}}else x<v.length-1?(d[0]in c||(c[d[0]]={}),c=c[d[0]]):r?c[d[0]]=i:c[d[0]]=t[i].type}return l}},2631:function(p,m){m.uniforms=i,m.attributes=f;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function l(v,c){if(!r){var x=Object.keys(t);r={};for(var d=0;d<x.length;++d){var M=x[d];r[v[M]]=t[M]}}return r[c]}function i(v,c){for(var x=v.getProgramParameter(c,v.ACTIVE_UNIFORMS),d=[],M=0;M<x;++M){var g=v.getActiveUniform(c,M);if(g){var u=l(v,g.type);if(g.size>1)for(var y=0;y<g.size;++y)d.push({name:g.name.replace("[0]","["+y+"]"),type:u});else d.push({name:g.name,type:u})}}return d}function f(v,c){for(var x=v.getProgramParameter(c,v.ACTIVE_ATTRIBUTES),d=[],M=0;M<x;++M){var g=v.getActiveAttrib(c,M);g&&d.push({name:g.name,type:l(v,g.type)})}return d}},1628:function(p,m,t){m.shader=y,m.program=C;var r=t(9068),l=t(3530),i=typeof WeakMap>"u"?t(4037):WeakMap,f=new i,v=0;function c(S,D,T,P,A,a,R){this.id=S,this.src=D,this.type=T,this.shader=P,this.count=a,this.programs=[],this.cache=R}c.prototype.dispose=function(){if(--this.count===0){for(var S=this.cache,D=S.gl,T=this.programs,P=0,A=T.length;P<A;++P){var a=S.programs[T[P]];a&&(delete S.programs[P],D.deleteProgram(a))}D.deleteShader(this.shader),delete S.shaders[this.type===D.FRAGMENT_SHADER|0][this.src]}};function x(S){this.gl=S,this.shaders=[{},{}],this.programs={}}var d=x.prototype;function M(S,D,T){var P=S.createShader(D);if(S.shaderSource(P,T),S.compileShader(P),!S.getShaderParameter(P,S.COMPILE_STATUS)){var A=S.getShaderInfoLog(P);try{var a=l(A,T,D)}catch(R){throw console.warn("Failed to format compiler error: "+R),new r(A,`Error compiling shader:
`+A)}throw new r(A,a.short,a.long)}return P}d.getShaderReference=function(S,D){var T=this.gl,P=this.shaders[S===T.FRAGMENT_SHADER|0],A=P[D];if(!A||!T.isShader(A.shader)){var a=M(T,S,D);A=P[D]=new c(v++,D,S,a,[],1,this)}else A.count+=1;return A};function g(S,D,T,P,A){var a=S.createProgram();S.attachShader(a,D),S.attachShader(a,T);for(var R=0;R<P.length;++R)S.bindAttribLocation(a,A[R],P[R]);if(S.linkProgram(a),!S.getProgramParameter(a,S.LINK_STATUS)){var b=S.getProgramInfoLog(a);throw new r(b,"Error linking program: "+b)}return a}d.getProgram=function(S,D,T,P){var A=[S.id,D.id,T.join(":"),P.join(":")].join("@"),a=this.programs[A];return(!a||!this.gl.isProgram(a))&&(this.programs[A]=a=g(this.gl,S.shader,D.shader,T,P),S.programs.push(A),D.programs.push(A)),a};function u(S){var D=f.get(S);return D||(D=new x(S),f.set(S,D)),D}function y(S,D,T){return u(S).getShaderReference(D,T)}function C(S,D,T,P,A){return u(S).getProgram(D,T,P,A)}},3050:function(p){p.exports=r;function m(l){this.plot=l,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=m.prototype;t.update=function(l){l=l||{},this.enable=(l.enable||[!0,!0,!1,!1]).slice(),this.width=(l.width||[1,1,1,1]).slice(),this.color=(l.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(i){return i.slice()}),this.center=(l.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var l=this.enable,i=this.width,f=this.color,v=this.center,c=this.plot,x=c.line,d=c.dataBox,M=c.viewBox;if(x.bind(),d[0]<=v[0]&&v[0]<=d[2]&&d[1]<=v[1]&&v[1]<=d[3]){var g=M[0]+(v[0]-d[0])/(d[2]-d[0])*(M[2]-M[0]),u=M[1]+(v[1]-d[1])/(d[3]-d[1])*(M[3]-M[1]);l[0]&&x.drawLine(g,u,M[0],u,i[0],f[0]),l[1]&&x.drawLine(g,u,g,M[1],i[1],f[1]),l[2]&&x.drawLine(g,u,M[2],u,i[2],f[2]),l[3]&&x.drawLine(g,u,g,M[3],i[3],f[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(l,i){var f=new m(l);return f.update(i),l.addOverlay(f),f}},3540:function(p,m,t){var r=t(6832),l=t(5158),i=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);p.exports=function(v){return l(v,i,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(p,m,t){var r=t(5827),l=t(2944),i=t(3540);p.exports=g;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(u,y,C,S){this.gl=u,this.buffer=y,this.vao=C,this.shader=S,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var c=v.prototype,x=[0,0,0],d=[0,0,0],M=[0,0];c.isTransparent=function(){return!1},c.drawTransparent=function(u){},c.draw=function(u){var y=this.gl,C=this.vao,S=this.shader;C.bind(),S.bind();var D=u.model||f,T=u.view||f,P=u.projection||f,A;this.axes&&(A=this.axes.lastCubeProps.axis);for(var a=x,R=d,b=0;b<3;++b)A&&A[b]<0?(a[b]=this.bounds[0][b],R[b]=this.bounds[1][b]):(a[b]=this.bounds[1][b],R[b]=this.bounds[0][b]);M[0]=y.drawingBufferWidth,M[1]=y.drawingBufferHeight,S.uniforms.model=D,S.uniforms.view=T,S.uniforms.projection=P,S.uniforms.coordinates=[this.position,a,R],S.uniforms.colors=this.colors,S.uniforms.screenShape=M;for(var b=0;b<3;++b)S.uniforms.lineWidth=this.lineWidth[b]*this.pixelRatio,this.enabled[b]&&(C.draw(y.TRIANGLES,6,6*b),this.drawSides[b]&&C.draw(y.TRIANGLES,12,18+12*b));C.unbind()},c.update=function(u){u&&("bounds"in u&&(this.bounds=u.bounds),"position"in u&&(this.position=u.position),"lineWidth"in u&&(this.lineWidth=u.lineWidth),"colors"in u&&(this.colors=u.colors),"enabled"in u&&(this.enabled=u.enabled),"drawSides"in u&&(this.drawSides=u.drawSides))},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function g(u,y){var C=[];function S(a,R,b,N,O,Y){var B=[a,R,b,0,0,0,1];B[N+3]=1,B[N]=O,C.push.apply(C,B),B[6]=-1,C.push.apply(C,B),B[N]=Y,C.push.apply(C,B),C.push.apply(C,B),B[6]=1,C.push.apply(C,B),B[N]=O,C.push.apply(C,B)}S(0,0,0,0,0,1),S(0,0,0,1,0,1),S(0,0,0,2,0,1),S(1,0,0,1,-1,1),S(1,0,0,2,-1,1),S(0,1,0,0,-1,1),S(0,1,0,2,-1,1),S(0,0,1,0,-1,1),S(0,0,1,1,-1,1);var D=r(u,C),T=l(u,[{type:u.FLOAT,buffer:D,size:3,offset:0,stride:28},{type:u.FLOAT,buffer:D,size:3,offset:12,stride:28},{type:u.FLOAT,buffer:D,size:1,offset:24,stride:28}]),P=i(u);P.attributes.position.location=0,P.attributes.color.location=1,P.attributes.weight.location=2;var A=new v(u,D,T,P);return A.update(y),A}},9578:function(p,m,t){var r=t(6832),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),i=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),v=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);m.meshShader={vertex:l,fragment:i,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},m.pickShader={vertex:f,fragment:v,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(p,m,t){var r=t(2858),l=t(4020),i=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(C,S,D,T){for(var P=C.points,A=C.velocities,a=C.divergences,R=[],b=[],N=[],O=[],Y=[],B=[],W=0,H=0,U=l.create(),G=l.create(),j=8,re=0;re<P.length;re++){var ae=P[re],ue=A[re],de=a[re];S===0&&(de=D*.05),H=r.length(ue)/T,U=l.create(),r.copy(U,ue),U[3]=de;for(var ee=0;ee<j;ee++)Y[ee]=[ae[0],ae[1],ae[2],ee];if(O.length>0)for(var ee=0;ee<j;ee++){var X=(ee+1)%j;R.push(O[ee],Y[ee],Y[X],Y[X],O[X],O[ee]),N.push(G,U,U,U,G,G),B.push(W,H,H,H,W,W);var Q=R.length;b.push([Q-6,Q-5,Q-4],[Q-3,Q-2,Q-1])}var $=O;O=Y,Y=$;var ne=G;G=U,U=ne;var fe=W;W=H,H=fe}return{positions:R,cells:b,vectors:N,vertexIntensity:B}},v=function(C,S,D,T){for(var P=0,A=0;A<C.length;A++)for(var a=C[A].velocities,R=0;R<a.length;R++)P=Math.max(P,r.length(a[R]));for(var b=C.map(function(re){return f(re,D,T,P)}),N=[],O=[],Y=[],B=[],A=0;A<b.length;A++){var W=b[A],H=N.length;N=N.concat(W.positions),Y=Y.concat(W.vectors),B=B.concat(W.vertexIntensity);for(var R=0;R<W.cells.length;R++){var U=W.cells[R],G=[];O.push(G);for(var j=0;j<U.length;j++)G.push(U[j]+H)}}return{positions:N,cells:O,vectors:Y,vertexIntensity:B,colormap:S}},c=function(C,S){var D=C.length,T;for(T=0;T<D;T++){var P=C[T];if(P===S)return T;if(P>S)return T-1}return T},x=function(C,S,D){return C<S?S:C>D?D:C},d=function(C,S,D){var T=S.vectors,P=S.meshgrid,A=C[0],a=C[1],R=C[2],b=P[0].length,N=P[1].length,O=P[2].length,Y=c(P[0],A),B=c(P[1],a),W=c(P[2],R),H=Y+1,U=B+1,G=W+1;if(Y=x(Y,0,b-1),H=x(H,0,b-1),B=x(B,0,N-1),U=x(U,0,N-1),W=x(W,0,O-1),G=x(G,0,O-1),Y<0||B<0||W<0||H>b-1||U>N-1||G>O-1)return r.create();var j=P[0][Y],re=P[0][H],ae=P[1][B],ue=P[1][U],de=P[2][W],ee=P[2][G],X=(A-j)/(re-j),Q=(a-ae)/(ue-ae),$=(R-de)/(ee-de);isFinite(X)||(X=.5),isFinite(Q)||(Q=.5),isFinite($)||($=.5);var ne,fe,te,q,he,se;switch(D.reversedX&&(Y=b-1-Y,H=b-1-H),D.reversedY&&(B=N-1-B,U=N-1-U),D.reversedZ&&(W=O-1-W,G=O-1-G),D.filled){case 5:he=W,se=G,te=B*O,q=U*O,ne=Y*O*N,fe=H*O*N;break;case 4:he=W,se=G,ne=Y*O,fe=H*O,te=B*O*b,q=U*O*b;break;case 3:te=B,q=U,he=W*N,se=G*N,ne=Y*N*O,fe=H*N*O;break;case 2:te=B,q=U,ne=Y*N,fe=H*N,he=W*N*b,se=G*N*b;break;case 1:ne=Y,fe=H,he=W*b,se=G*b,te=B*b*O,q=U*b*O;break;default:ne=Y,fe=H,te=B*b,q=U*b,he=W*b*N,se=G*b*N;break}var pe=T[ne+te+he],we=T[ne+te+se],Ee=T[ne+q+he],Me=T[ne+q+se],Be=T[fe+te+he],Ne=T[fe+te+se],Ce=T[fe+q+he],Te=T[fe+q+se],Le=r.create(),Ve=r.create(),We=r.create(),Fe=r.create();r.lerp(Le,pe,Be,X),r.lerp(Ve,we,Ne,X),r.lerp(We,Ee,Ce,X),r.lerp(Fe,Me,Te,X);var Ge=r.create(),it=r.create();r.lerp(Ge,Le,We,Q),r.lerp(it,Ve,Fe,Q);var qe=r.create();return r.lerp(qe,Ge,it,$),qe},M=function(C){var S=1/0;C.sort(function(A,a){return A-a});for(var D=C.length,T=1;T<D;T++){var P=Math.abs(C[T]-C[T-1]);P<S&&(S=P)}return S},g=function(C){for(var S=[],D=[],T=[],P={},A={},a={},R=C.length,b=0;b<R;b++){var N=C[b],O=N[0],Y=N[1],B=N[2];P[O]||(S.push(O),P[O]=!0),A[Y]||(D.push(Y),A[Y]=!0),a[B]||(T.push(B),a[B]=!0)}var W=M(S),H=M(D),U=M(T),G=Math.min(W,H,U);return isFinite(G)?G:1};p.exports=function(C,S){var D=C.startingPositions,T=C.maxLength||1e3,P=C.tubeSize||1,A=C.absoluteTubeSize,a=C.gridFill||"+x+y+z",R={};a.indexOf("-x")!==-1&&(R.reversedX=!0),a.indexOf("-y")!==-1&&(R.reversedY=!0),a.indexOf("-z")!==-1&&(R.reversedZ=!0),R.filled=i.indexOf(a.replace(/-/g,"").replace(/\+/g,""));var b=C.getVelocity||function(Ne){return d(Ne,C,R)},N=C.getDivergence||function(Ne,Ce){var Te=r.create(),Le=1e-4;r.add(Te,Ne,[Le,0,0]);var Ve=b(Te);r.subtract(Ve,Ve,Ce),r.scale(Ve,Ve,1/Le),r.add(Te,Ne,[0,Le,0]);var We=b(Te);r.subtract(We,We,Ce),r.scale(We,We,1/Le),r.add(Te,Ne,[0,0,Le]);var Fe=b(Te);return r.subtract(Fe,Fe,Ce),r.scale(Fe,Fe,1/Le),r.add(Te,Ve,We),r.add(Te,Te,Fe),Te},O=[],Y=S[0][0],B=S[0][1],W=S[0][2],H=S[1][0],U=S[1][1],G=S[1][2],j=function(Ne){var Ce=Ne[0],Te=Ne[1],Le=Ne[2];return!(Ce<Y||Ce>H||Te<B||Te>U||Le<W||Le>G)},re=r.distance(S[0],S[1]),ae=10*re/T,ue=ae*ae,de=1,ee=0,X=D.length;X>1&&(de=g(D));for(var Q=0;Q<X;Q++){var $=r.create();r.copy($,D[Q]);var ne=[$],fe=[],te=b($),q=$;fe.push(te);var he=[],se=N($,te),pe=r.length(se);isFinite(pe)&&pe>ee&&(ee=pe),he.push(pe),O.push({points:ne,velocities:fe,divergences:he});for(var we=0;we<T*100&&ne.length<T&&j($);){we++;var Ee=r.clone(te),Me=r.squaredLength(Ee);if(Me===0)break;if(Me>ue&&r.scale(Ee,Ee,ae/Math.sqrt(Me)),r.add(Ee,Ee,$),te=b(Ee),r.squaredDistance(q,Ee)-ue>-1e-4*ue){ne.push(Ee),q=Ee,fe.push(te);var se=N(Ee,te),pe=r.length(se);isFinite(pe)&&pe>ee&&(ee=pe),he.push(pe)}$=Ee}}var Be=v(O,C.colormap,ee,de);return A?Be.tubeScale=A:(ee===0&&(ee=1),Be.tubeScale=P*.5*de/ee),Be};var u=t(9578),y=t(1140).createMesh;p.exports.createTubeMesh=function(C,S){return y(C,S,{shaders:u,traceType:"streamtube"})}},9054:function(p,m,t){var r=t(5158),l=t(6832),i=l([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),v=l([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),c=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);m.createShader=function(x){var d=r(x,i,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return d.attributes.uv.location=0,d.attributes.f.location=1,d.attributes.normal.location=2,d},m.createPickShader=function(x){var d=r(x,i,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return d.attributes.uv.location=0,d.attributes.f.location=1,d.attributes.normal.location=2,d},m.createContourShader=function(x){var d=r(x,v,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return d.attributes.uv.location=0,d.attributes.f.location=1,d},m.createPickContourShader=function(x){var d=r(x,v,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return d.attributes.uv.location=0,d.attributes.f.location=1,d}},3754:function(p,m,t){p.exports=fe;var r=t(2288),l=t(5827),i=t(2944),f=t(8931),v=t(5306),c=t(9156),x=t(7498),d=t(7382),M=t(5050),g=t(4162),u=t(104),y=t(7437),C=t(5070),S=t(9144),D=t(9054),T=D.createShader,P=D.createContourShader,A=D.createPickShader,a=D.createPickContourShader,R=4*(4+3+3),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],N=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],O=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var te=0;te<3;++te){var q=O[te],he=(te+1)%3,se=(te+2)%3;q[he+0]=1,q[se+3]=1,q[te+6]=1}})();function Y(te,q,he,se,pe){this.position=te,this.index=q,this.uv=he,this.level=se,this.dataCoordinate=pe}var B=256;function W(te,q,he,se,pe,we,Ee,Me,Be,Ne,Ce,Te,Le,Ve,We){this.gl=te,this.shape=q,this.bounds=he,this.objectOffset=We,this.intensityBounds=[],this._shader=se,this._pickShader=pe,this._coordinateBuffer=we,this._vao=Ee,this._colorMap=Me,this._contourShader=Be,this._contourPickShader=Ne,this._contourBuffer=Ce,this._contourVAO=Te,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new Y([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Le,this._dynamicVAO=Ve,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[M(v.mallocFloat(1024),[0,0]),M(v.mallocFloat(1024),[0,0]),M(v.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var H=W.prototype;H.genColormap=function(te,q){var he=!1,se=d([c({colormap:te,nshades:B,format:"rgba"}).map(function(pe,we){var Ee=q?U(we/255,q):pe[3];return Ee<1&&(he=!0),[pe[0],pe[1],pe[2],255*Ee]})]);return x.divseq(se,255),this.hasAlphaScale=he,se},H.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},H.isOpaque=function(){return!this.isTransparent()},H.pickSlots=1,H.setPickBase=function(te){this.pickId=te};function U(te,q){if(!q||!q.length)return 1;for(var he=0;he<q.length;++he){if(q.length<2)return 1;if(q[he][0]===te)return q[he][1];if(q[he][0]>te&&he>0){var se=(q[he][0]-te)/(q[he][0]-q[he-1][0]);return q[he][1]*(1-se)+se*q[he-1][1]}}return 1}var G=[0,0,0],j={showSurface:!1,showContour:!1,projections:[b.slice(),b.slice(),b.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function re(te,q){var he,se,pe,we=q.axes&&q.axes.lastCubeProps.axis||G,Ee=q.showSurface,Me=q.showContour;for(he=0;he<3;++he)for(Ee=Ee||q.surfaceProject[he],se=0;se<3;++se)Me=Me||q.contourProject[he][se];for(he=0;he<3;++he){var Be=j.projections[he];for(se=0;se<16;++se)Be[se]=0;for(se=0;se<4;++se)Be[5*se]=1;Be[5*he]=0,Be[12+he]=q.axesBounds[+(we[he]>0)][he],u(Be,te.model,Be);var Ne=j.clipBounds[he];for(pe=0;pe<2;++pe)for(se=0;se<3;++se)Ne[pe][se]=te.clipBounds[pe][se];Ne[0][he]=-1e8,Ne[1][he]=1e8}return j.showSurface=Ee,j.showContour=Me,j}var ae={model:b,view:b,projection:b,inverseModel:b.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ue=b.slice(),de=[1,0,0,0,1,0,0,0,1];function ee(te,q){te=te||{};var he=this.gl;he.disable(he.CULL_FACE),this._colorMap.bind(0);var se=ae;se.model=te.model||b,se.view=te.view||b,se.projection=te.projection||b,se.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],se.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],se.objectOffset=this.objectOffset,se.contourColor=this.contourColor[0],se.inverseModel=y(se.inverseModel,se.model);for(var pe=0;pe<2;++pe)for(var we=se.clipBounds[pe],Ee=0;Ee<3;++Ee)we[Ee]=Math.min(Math.max(this.clipBounds[pe][Ee],-1e8),1e8);se.kambient=this.ambientLight,se.kdiffuse=this.diffuseLight,se.kspecular=this.specularLight,se.roughness=this.roughness,se.fresnel=this.fresnel,se.opacity=this.opacity,se.height=0,se.permutation=de,se.vertexColor=this.vertexColor;var Me=ue;for(u(Me,se.view,se.model),u(Me,se.projection,Me),y(Me,Me),pe=0;pe<3;++pe)se.eyePosition[pe]=Me[12+pe]/Me[15];var Be=Me[15];for(pe=0;pe<3;++pe)Be+=this.lightPosition[pe]*Me[4*pe+3];for(pe=0;pe<3;++pe){var Ne=Me[12+pe];for(Ee=0;Ee<3;++Ee)Ne+=Me[4*Ee+pe]*this.lightPosition[Ee];se.lightPosition[pe]=Ne/Be}var Ce=re(se,this);if(Ce.showSurface){for(this._shader.bind(),this._shader.uniforms=se,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(he.TRIANGLES,this._vertexCount),pe=0;pe<3;++pe)!this.surfaceProject[pe]||!this.vertexCount||(this._shader.uniforms.model=Ce.projections[pe],this._shader.uniforms.clipBounds=Ce.clipBounds[pe],this._vao.draw(he.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ce.showContour){var Te=this._contourShader;se.kambient=1,se.kdiffuse=0,se.kspecular=0,se.opacity=1,Te.bind(),Te.uniforms=se;var Le=this._contourVAO;for(Le.bind(),pe=0;pe<3;++pe)for(Te.uniforms.permutation=O[pe],he.lineWidth(this.contourWidth[pe]*this.pixelRatio),Ee=0;Ee<this.contourLevels[pe].length;++Ee)Ee===this.highlightLevel[pe]?(Te.uniforms.contourColor=this.highlightColor[pe],Te.uniforms.contourTint=this.highlightTint[pe]):(Ee===0||Ee-1===this.highlightLevel[pe])&&(Te.uniforms.contourColor=this.contourColor[pe],Te.uniforms.contourTint=this.contourTint[pe]),this._contourCounts[pe][Ee]&&(Te.uniforms.height=this.contourLevels[pe][Ee],Le.draw(he.LINES,this._contourCounts[pe][Ee],this._contourOffsets[pe][Ee]));for(pe=0;pe<3;++pe)for(Te.uniforms.model=Ce.projections[pe],Te.uniforms.clipBounds=Ce.clipBounds[pe],Ee=0;Ee<3;++Ee)if(this.contourProject[pe][Ee]){Te.uniforms.permutation=O[Ee],he.lineWidth(this.contourWidth[Ee]*this.pixelRatio);for(var Ve=0;Ve<this.contourLevels[Ee].length;++Ve)Ve===this.highlightLevel[Ee]?(Te.uniforms.contourColor=this.highlightColor[Ee],Te.uniforms.contourTint=this.highlightTint[Ee]):(Ve===0||Ve-1===this.highlightLevel[Ee])&&(Te.uniforms.contourColor=this.contourColor[Ee],Te.uniforms.contourTint=this.contourTint[Ee]),this._contourCounts[Ee][Ve]&&(Te.uniforms.height=this.contourLevels[Ee][Ve],Le.draw(he.LINES,this._contourCounts[Ee][Ve],this._contourOffsets[Ee][Ve]))}for(Le.unbind(),Le=this._dynamicVAO,Le.bind(),pe=0;pe<3;++pe)if(this._dynamicCounts[pe]!==0)for(Te.uniforms.model=se.model,Te.uniforms.clipBounds=se.clipBounds,Te.uniforms.permutation=O[pe],he.lineWidth(this.dynamicWidth[pe]*this.pixelRatio),Te.uniforms.contourColor=this.dynamicColor[pe],Te.uniforms.contourTint=this.dynamicTint[pe],Te.uniforms.height=this.dynamicLevel[pe],Le.draw(he.LINES,this._dynamicCounts[pe],this._dynamicOffsets[pe]),Ee=0;Ee<3;++Ee)this.contourProject[Ee][pe]&&(Te.uniforms.model=Ce.projections[Ee],Te.uniforms.clipBounds=Ce.clipBounds[Ee],Le.draw(he.LINES,this._dynamicCounts[pe],this._dynamicOffsets[pe]));Le.unbind()}}H.draw=function(te){return ee.call(this,te,!1)},H.drawTransparent=function(te){return ee.call(this,te,!0)};var X={model:b,view:b,projection:b,inverseModel:b,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};H.drawPick=function(te){te=te||{};var q=this.gl;q.disable(q.CULL_FACE);var he=X;he.model=te.model||b,he.view=te.view||b,he.projection=te.projection||b,he.shape=this._field[2].shape,he.pickId=this.pickId/255,he.lowerBound=this.bounds[0],he.upperBound=this.bounds[1],he.objectOffset=this.objectOffset,he.permutation=de;for(var se=0;se<2;++se)for(var pe=he.clipBounds[se],we=0;we<3;++we)pe[we]=Math.min(Math.max(this.clipBounds[se][we],-1e8),1e8);var Ee=re(he,this);if(Ee.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=he,this._vao.bind(),this._vao.draw(q.TRIANGLES,this._vertexCount),se=0;se<3;++se)this.surfaceProject[se]&&(this._pickShader.uniforms.model=Ee.projections[se],this._pickShader.uniforms.clipBounds=Ee.clipBounds[se],this._vao.draw(q.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var Me=this._contourPickShader;Me.bind(),Me.uniforms=he;var Be=this._contourVAO;for(Be.bind(),we=0;we<3;++we)for(q.lineWidth(this.contourWidth[we]*this.pixelRatio),Me.uniforms.permutation=O[we],se=0;se<this.contourLevels[we].length;++se)this._contourCounts[we][se]&&(Me.uniforms.height=this.contourLevels[we][se],Be.draw(q.LINES,this._contourCounts[we][se],this._contourOffsets[we][se]));for(se=0;se<3;++se)for(Me.uniforms.model=Ee.projections[se],Me.uniforms.clipBounds=Ee.clipBounds[se],we=0;we<3;++we)if(this.contourProject[se][we]){Me.uniforms.permutation=O[we],q.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Ne=0;Ne<this.contourLevels[we].length;++Ne)this._contourCounts[we][Ne]&&(Me.uniforms.height=this.contourLevels[we][Ne],Be.draw(q.LINES,this._contourCounts[we][Ne],this._contourOffsets[we][Ne]))}Be.unbind()}},H.pick=function(te){if(!te||te.id!==this.pickId)return null;var q=this._field[2].shape,he=this._pickResult,se=q[0]*(te.value[0]+(te.value[2]>>4)/16)/255,pe=Math.floor(se),we=se-pe,Ee=q[1]*(te.value[1]+(te.value[2]&15)/16)/255,Me=Math.floor(Ee),Be=Ee-Me;pe+=1,Me+=1;var Ne=he.position;Ne[0]=Ne[1]=Ne[2]=0;for(var Ce=0;Ce<2;++Ce)for(var Te=Ce?we:1-we,Le=0;Le<2;++Le)for(var Ve=Le?Be:1-Be,We=pe+Ce,Fe=Me+Le,Ge=Te*Ve,it=0;it<3;++it)Ne[it]+=this._field[it].get(We,Fe)*Ge;for(var qe=this._pickResult.level,$e=0;$e<3;++$e)if(qe[$e]=C.le(this.contourLevels[$e],Ne[$e]),qe[$e]<0)this.contourLevels[$e].length>0&&(qe[$e]=0);else if(qe[$e]<this.contourLevels[$e].length-1){var tt=this.contourLevels[$e][qe[$e]],vt=this.contourLevels[$e][qe[$e]+1];Math.abs(tt-Ne[$e])>Math.abs(vt-Ne[$e])&&(qe[$e]+=1)}for(he.index[0]=we<.5?pe:pe+1,he.index[1]=Be<.5?Me:Me+1,he.uv[0]=se/q[0],he.uv[1]=Ee/q[1],it=0;it<3;++it)he.dataCoordinate[it]=this._field[it].get(he.index[0],he.index[1]);return he},H.padField=function(te,q){var he=q.shape.slice(),se=te.shape.slice();x.assign(te.lo(1,1).hi(he[0],he[1]),q),x.assign(te.lo(1).hi(he[0],1),q.hi(he[0],1)),x.assign(te.lo(1,se[1]-1).hi(he[0],1),q.lo(0,he[1]-1).hi(he[0],1)),x.assign(te.lo(0,1).hi(1,he[1]),q.hi(1)),x.assign(te.lo(se[0]-1,1).hi(1,he[1]),q.lo(he[0]-1)),te.set(0,0,q.get(0,0)),te.set(0,se[1]-1,q.get(0,he[1]-1)),te.set(se[0]-1,0,q.get(he[0]-1,0)),te.set(se[0]-1,se[1]-1,q.get(he[0]-1,he[1]-1))};function Q(te,q){return Array.isArray(te)?[q(te[0]),q(te[1]),q(te[2])]:[q(te),q(te),q(te)]}function $(te){return Array.isArray(te)?te.length===3?[te[0],te[1],te[2],1]:[te[0],te[1],te[2],te[3]]:[0,0,0,1]}function ne(te){if(Array.isArray(te)){if(Array.isArray(te))return[$(te[0]),$(te[1]),$(te[2])];var q=$(te);return[q.slice(),q.slice(),q.slice()]}}H.update=function(te){te=te||{},this.objectOffset=te.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in te&&(this.contourWidth=Q(te.contourWidth,Number)),"showContour"in te&&(this.showContour=Q(te.showContour,Boolean)),"showSurface"in te&&(this.showSurface=!!te.showSurface),"contourTint"in te&&(this.contourTint=Q(te.contourTint,Boolean)),"contourColor"in te&&(this.contourColor=ne(te.contourColor)),"contourProject"in te&&(this.contourProject=Q(te.contourProject,function(It){return Q(It,Boolean)})),"surfaceProject"in te&&(this.surfaceProject=te.surfaceProject),"dynamicColor"in te&&(this.dynamicColor=ne(te.dynamicColor)),"dynamicTint"in te&&(this.dynamicTint=Q(te.dynamicTint,Number)),"dynamicWidth"in te&&(this.dynamicWidth=Q(te.dynamicWidth,Number)),"opacity"in te&&(this.opacity=te.opacity),"opacityscale"in te&&(this.opacityscale=te.opacityscale),"colorBounds"in te&&(this.colorBounds=te.colorBounds),"vertexColor"in te&&(this.vertexColor=te.vertexColor?1:0),"colormap"in te&&this._colorMap.setPixels(this.genColormap(te.colormap,this.opacityscale));var q=te.field||te.coords&&te.coords[2]||null,he=!1;if(q||(this._field[2].shape[0]||this._field[2].shape[2]?q=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):q=this._field[2].hi(0,0)),"field"in te||"coords"in te){var se=(q.shape[0]+2)*(q.shape[1]+2);se>this._field[2].data.length&&(v.freeFloat(this._field[2].data),this._field[2].data=v.mallocFloat(r.nextPow2(se))),this._field[2]=M(this._field[2].data,[q.shape[0]+2,q.shape[1]+2]),this.padField(this._field[2],q),this.shape=q.shape.slice();for(var pe=this.shape,we=0;we<2;++we)this._field[2].size>this._field[we].data.length&&(v.freeFloat(this._field[we].data),this._field[we].data=v.mallocFloat(this._field[2].size)),this._field[we]=M(this._field[we].data,[pe[0]+2,pe[1]+2]);if(te.coords){var Ee=te.coords;if(!Array.isArray(Ee)||Ee.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(we=0;we<2;++we){var Me=Ee[we];for(Le=0;Le<2;++Le)if(Me.shape[Le]!==pe[Le])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[we],Me)}}else if(te.ticks){var Be=te.ticks;if(!Array.isArray(Be)||Be.length!==2)throw new Error("gl-surface: invalid ticks");for(we=0;we<2;++we){var Ne=Be[we];if((Array.isArray(Ne)||Ne.length)&&(Ne=M(Ne)),Ne.shape[0]!==pe[we])throw new Error("gl-surface: invalid tick length");var Ce=M(Ne.data,pe);Ce.stride[we]=Ne.stride[0],Ce.stride[we^1]=0,this.padField(this._field[we],Ce)}}else{for(we=0;we<2;++we){var Te=[0,0];Te[we]=1,this._field[we]=M(this._field[we].data,[pe[0]+2,pe[1]+2],Te,0)}this._field[0].set(0,0,0);for(var Le=0;Le<pe[0];++Le)this._field[0].set(Le+1,0,Le);for(this._field[0].set(pe[0]+1,0,pe[0]-1),this._field[1].set(0,0,0),Le=0;Le<pe[1];++Le)this._field[1].set(0,Le+1,Le);this._field[1].set(0,pe[1]+1,pe[1]-1)}var Ve=this._field,We=M(v.mallocFloat(Ve[2].size*3*2),[3,pe[0]+2,pe[1]+2,2]);for(we=0;we<3;++we)S(We.pick(we),Ve[we],"mirror");var Fe=M(v.mallocFloat(Ve[2].size*3),[pe[0]+2,pe[1]+2,3]);for(we=0;we<pe[0]+2;++we)for(Le=0;Le<pe[1]+2;++Le){var Ge=We.get(0,we,Le,0),it=We.get(0,we,Le,1),qe=We.get(1,we,Le,0),$e=We.get(1,we,Le,1),tt=We.get(2,we,Le,0),vt=We.get(2,we,Le,1),dt=qe*vt-$e*tt,gt=tt*it-vt*Ge,Mt=Ge*$e-it*qe,Ct=Math.sqrt(dt*dt+gt*gt+Mt*Mt);Ct<1e-8?(Ct=Math.max(Math.abs(dt),Math.abs(gt),Math.abs(Mt)),Ct<1e-8?(Mt=1,gt=dt=0,Ct=1):Ct=1/Ct):Ct=1/Math.sqrt(Ct),Fe.set(we,Le,0,dt*Ct),Fe.set(we,Le,1,gt*Ct),Fe.set(we,Le,2,Mt*Ct)}v.free(We.data);var Wt=[1/0,1/0,1/0],Xe=[-1/0,-1/0,-1/0],ke=1/0,Ie=-1/0,Oe=(pe[0]-1)*(pe[1]-1)*6,_e=v.mallocFloat(r.nextPow2(10*Oe)),Ae=0,ce=0;for(we=0;we<pe[0]-1;++we){e:for(Le=0;Le<pe[1]-1;++Le){for(var be=0;be<2;++be)for(var Re=0;Re<2;++Re)for(var Ue=0;Ue<3;++Ue){var nt=this._field[Ue].get(1+we+be,1+Le+Re);if(isNaN(nt)||!isFinite(nt))continue e}for(Ue=0;Ue<6;++Ue){var ot=we+N[Ue][0],wt=Le+N[Ue][1],_t=this._field[0].get(ot+1,wt+1),Ut=this._field[1].get(ot+1,wt+1);nt=this._field[2].get(ot+1,wt+1),dt=Fe.get(ot+1,wt+1,0),gt=Fe.get(ot+1,wt+1,1),Mt=Fe.get(ot+1,wt+1,2),te.intensity&&(Vt=te.intensity.get(ot,wt));var Vt=te.intensity?te.intensity.get(ot,wt):nt+this.objectOffset[2];_e[Ae++]=ot,_e[Ae++]=wt,_e[Ae++]=_t,_e[Ae++]=Ut,_e[Ae++]=nt,_e[Ae++]=0,_e[Ae++]=Vt,_e[Ae++]=dt,_e[Ae++]=gt,_e[Ae++]=Mt,Wt[0]=Math.min(Wt[0],_t+this.objectOffset[0]),Wt[1]=Math.min(Wt[1],Ut+this.objectOffset[1]),Wt[2]=Math.min(Wt[2],nt+this.objectOffset[2]),ke=Math.min(ke,Vt),Xe[0]=Math.max(Xe[0],_t+this.objectOffset[0]),Xe[1]=Math.max(Xe[1],Ut+this.objectOffset[1]),Xe[2]=Math.max(Xe[2],nt+this.objectOffset[2]),Ie=Math.max(Ie,Vt),ce+=1}}}for(te.intensityBounds&&(ke=+te.intensityBounds[0],Ie=+te.intensityBounds[1]),we=6;we<Ae;we+=10)_e[we]=(_e[we]-ke)/(Ie-ke);this._vertexCount=ce,this._coordinateBuffer.update(_e.subarray(0,Ae)),v.freeFloat(_e),v.free(Fe.data),this.bounds=[Wt,Xe],this.intensity=te.intensity||this._field[2],(this.intensityBounds[0]!==ke||this.intensityBounds[1]!==Ie)&&(he=!0),this.intensityBounds=[ke,Ie]}if("levels"in te){var Lt=te.levels;for(Array.isArray(Lt[0])?Lt=Lt.slice():Lt=[[],[],Lt],we=0;we<3;++we)Lt[we]=Lt[we].slice(),Lt[we].sort(function(It,Zt){return It-Zt});for(we=0;we<3;++we)for(Le=0;Le<Lt[we].length;++Le)Lt[we][Le]-=this.objectOffset[we];e:for(we=0;we<3;++we){if(Lt[we].length!==this.contourLevels[we].length){he=!0;break}for(Le=0;Le<Lt[we].length;++Le)if(Lt[we][Le]!==this.contourLevels[we][Le]){he=!0;break e}}this.contourLevels=Lt}if(he){Ve=this._field,pe=this.shape;for(var Kt=[],ar=0;ar<3;++ar){var Fr=this.contourLevels[ar],yt=[],Xt=[],Yt=[0,0,0];for(we=0;we<Fr.length;++we){var br=g(this._field[ar],Fr[we]);yt.push(Kt.length/5|0),ce=0;e:for(Le=0;Le<br.cells.length;++Le){var hr=br.cells[Le];for(Ue=0;Ue<2;++Ue){var ut=br.positions[hr[Ue]],lt=ut[0],xt=Math.floor(lt)|0,Tt=lt-xt,Et=ut[1],At=Math.floor(Et)|0,Ft=Et-At,Ht=!1;t:for(var $t=0;$t<3;++$t){Yt[$t]=0;var Qt=(ar+$t+1)%3;for(be=0;be<2;++be){var or=be?Tt:1-Tt;for(ot=Math.min(Math.max(xt+be,0),pe[0])|0,Re=0;Re<2;++Re){var Er=Re?Ft:1-Ft;if(wt=Math.min(Math.max(At+Re,0),pe[1])|0,$t<2?nt=this._field[Qt].get(ot,wt):nt=(this.intensity.get(ot,wt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(nt)||isNaN(nt)){Ht=!0;break t}var Ze=or*Er;Yt[$t]+=Ze*nt}}}if(!Ht)Kt.push(Yt[0],Yt[1],ut[0],ut[1],Yt[2]),ce+=1;else{if(Ue>0){for(var Ye=0;Ye<5;++Ye)Kt.pop();ce-=1}continue e}}}Xt.push(ce)}this._contourOffsets[ar]=yt,this._contourCounts[ar]=Xt}var Dt=v.mallocFloat(Kt.length);for(we=0;we<Kt.length;++we)Dt[we]=Kt[we];this._contourBuffer.update(Dt),v.freeFloat(Dt)}},H.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var te=0;te<3;++te)v.freeFloat(this._field[te].data)},H.highlight=function(te){var q;if(!te){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(q=0;q<3;++q)this.enableHighlight[q]?this.highlightLevel[q]=te.level[q]:this.highlightLevel[q]=-1;var he;for(this.snapToData?he=te.dataCoordinate:he=te.position,q=0;q<3;++q)he[q]-=this.objectOffset[q];if(!((!this.enableDynamic[0]||he[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||he[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||he[2]===this.dynamicLevel[2]))){for(var se=0,pe=this.shape,we=v.mallocFloat(12*pe[0]*pe[1]),Ee=0;Ee<3;++Ee){if(!this.enableDynamic[Ee]){this.dynamicLevel[Ee]=NaN,this._dynamicCounts[Ee]=0;continue}this.dynamicLevel[Ee]=he[Ee];var Me=(Ee+1)%3,Be=(Ee+2)%3,Ne=this._field[Ee],Ce=this._field[Me],Te=this._field[Be],Le=g(Ne,he[Ee]),Ve=Le.cells,We=Le.positions;for(this._dynamicOffsets[Ee]=se,q=0;q<Ve.length;++q)for(var Fe=Ve[q],Ge=0;Ge<2;++Ge){var it=We[Fe[Ge]],qe=+it[0],$e=qe|0,tt=Math.min($e+1,pe[0])|0,vt=qe-$e,dt=1-vt,gt=+it[1],Mt=gt|0,Ct=Math.min(Mt+1,pe[1])|0,Wt=gt-Mt,Xe=1-Wt,ke=dt*Xe,Ie=dt*Wt,Oe=vt*Xe,_e=vt*Wt,Ae=ke*Ce.get($e,Mt)+Ie*Ce.get($e,Ct)+Oe*Ce.get(tt,Mt)+_e*Ce.get(tt,Ct),ce=ke*Te.get($e,Mt)+Ie*Te.get($e,Ct)+Oe*Te.get(tt,Mt)+_e*Te.get(tt,Ct);if(isNaN(Ae)||isNaN(ce)){Ge&&(se-=1);break}we[2*se+0]=Ae,we[2*se+1]=ce,se+=1}this._dynamicCounts[Ee]=se-this._dynamicOffsets[Ee]}this._dynamicBuffer.update(we.subarray(0,2*se)),v.freeFloat(we)}};function fe(te){var q=te.gl,he=T(q),se=A(q),pe=P(q),we=a(q),Ee=l(q),Me=i(q,[{buffer:Ee,size:4,stride:R,offset:0},{buffer:Ee,size:3,stride:R,offset:16},{buffer:Ee,size:3,stride:R,offset:28}]),Be=l(q),Ne=i(q,[{buffer:Be,size:4,stride:20,offset:0},{buffer:Be,size:1,stride:20,offset:16}]),Ce=l(q),Te=i(q,[{buffer:Ce,size:2,type:q.FLOAT}]),Le=f(q,1,B,q.RGBA,q.UNSIGNED_BYTE);Le.minFilter=q.LINEAR,Le.magFilter=q.LINEAR;var Ve=new W(q,[0,0],[[0,0,0],[0,0,0]],he,se,Ee,Me,Le,pe,we,Be,Ne,Ce,Te,[0,0,0]),We={levels:[[],[],[]]};for(var Fe in te)We[Fe]=te[Fe];return We.colormap=We.colormap||"jet",Ve.update(We),Ve}},8931:function(p,m,t){var r=t(5050),l=t(7498),i=t(5306);p.exports=a;var f=null,v=null,c=null;function x(R){f=[R.LINEAR,R.NEAREST_MIPMAP_LINEAR,R.LINEAR_MIPMAP_NEAREST,R.LINEAR_MIPMAP_NEAREST],v=[R.NEAREST,R.LINEAR,R.NEAREST_MIPMAP_NEAREST,R.NEAREST_MIPMAP_LINEAR,R.LINEAR_MIPMAP_NEAREST,R.LINEAR_MIPMAP_LINEAR],c=[R.REPEAT,R.CLAMP_TO_EDGE,R.MIRRORED_REPEAT]}function d(R){return typeof HTMLCanvasElement<"u"&&R instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&R instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&R instanceof HTMLVideoElement||typeof ImageData<"u"&&R instanceof ImageData}var M=function(R,b){l.muls(R,b,255)};function g(R,b,N){var O=R.gl,Y=O.getParameter(O.MAX_TEXTURE_SIZE);if(b<0||b>Y||N<0||N>Y)throw new Error("gl-texture2d: Invalid texture size");return R._shape=[b,N],R.bind(),O.texImage2D(O.TEXTURE_2D,0,R.format,b,N,0,R.format,R.type,null),R._mipLevels=[0],R}function u(R,b,N,O,Y,B){this.gl=R,this.handle=b,this.format=Y,this.type=B,this._shape=[N,O],this._mipLevels=[0],this._magFilter=R.NEAREST,this._minFilter=R.NEAREST,this._wrapS=R.CLAMP_TO_EDGE,this._wrapT=R.CLAMP_TO_EDGE,this._anisoSamples=1;var W=this,H=[this._wrapS,this._wrapT];Object.defineProperties(H,[{get:function(){return W._wrapS},set:function(G){return W.wrapS=G}},{get:function(){return W._wrapT},set:function(G){return W.wrapT=G}}]),this._wrapVector=H;var U=[this._shape[0],this._shape[1]];Object.defineProperties(U,[{get:function(){return W._shape[0]},set:function(G){return W.width=G}},{get:function(){return W._shape[1]},set:function(G){return W.height=G}}]),this._shapeVector=U}var y=u.prototype;Object.defineProperties(y,{minFilter:{get:function(){return this._minFilter},set:function(R){this.bind();var b=this.gl;if(this.type===b.FLOAT&&f.indexOf(R)>=0&&(b.getExtension("OES_texture_float_linear")||(R=b.NEAREST)),v.indexOf(R)<0)throw new Error("gl-texture2d: Unknown filter mode "+R);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,R),this._minFilter=R}},magFilter:{get:function(){return this._magFilter},set:function(R){this.bind();var b=this.gl;if(this.type===b.FLOAT&&f.indexOf(R)>=0&&(b.getExtension("OES_texture_float_linear")||(R=b.NEAREST)),v.indexOf(R)<0)throw new Error("gl-texture2d: Unknown filter mode "+R);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,R),this._magFilter=R}},mipSamples:{get:function(){return this._anisoSamples},set:function(R){var b=this._anisoSamples;if(this._anisoSamples=Math.max(R,1)|0,b!==this._anisoSamples){var N=this.gl.getExtension("EXT_texture_filter_anisotropic");N&&this.gl.texParameterf(this.gl.TEXTURE_2D,N.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(R){if(this.bind(),c.indexOf(R)<0)throw new Error("gl-texture2d: Unknown wrap mode "+R);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,R),this._wrapS=R}},wrapT:{get:function(){return this._wrapT},set:function(R){if(this.bind(),c.indexOf(R)<0)throw new Error("gl-texture2d: Unknown wrap mode "+R);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,R),this._wrapT=R}},wrap:{get:function(){return this._wrapVector},set:function(R){if(Array.isArray(R)||(R=[R,R]),R.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;b<2;++b)if(c.indexOf(R[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+R);this._wrapS=R[0],this._wrapT=R[1];var N=this.gl;return this.bind(),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,this._wrapS),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,this._wrapT),R}},shape:{get:function(){return this._shapeVector},set:function(R){if(!Array.isArray(R))R=[R|0,R|0];else if(R.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return g(this,R[0]|0,R[1]|0),[R[0]|0,R[1]|0]}},width:{get:function(){return this._shape[0]},set:function(R){return R=R|0,g(this,R,this._shape[1]),R}},height:{get:function(){return this._shape[1]},set:function(R){return R=R|0,g(this,this._shape[0],R),R}}}),y.bind=function(R){var b=this.gl;return R!==void 0&&b.activeTexture(b.TEXTURE0+(R|0)),b.bindTexture(b.TEXTURE_2D,this.handle),R!==void 0?R|0:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},y.dispose=function(){this.gl.deleteTexture(this.handle)},y.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var R=Math.min(this._shape[0],this._shape[1]),b=0;R>0;++b,R>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},y.setPixels=function(R,b,N,O){var Y=this.gl;this.bind(),Array.isArray(b)?(O=N,N=b[1]|0,b=b[0]|0):(b=b||0,N=N||0),O=O||0;var B=d(R)?R:R.raw;if(B){var W=this._mipLevels.indexOf(O)<0;W?(Y.texImage2D(Y.TEXTURE_2D,0,this.format,this.format,this.type,B),this._mipLevels.push(O)):Y.texSubImage2D(Y.TEXTURE_2D,O,b,N,this.format,this.type,B)}else if(R.shape&&R.stride&&R.data){if(R.shape.length<2||b+R.shape[1]>this._shape[1]>>>O||N+R.shape[0]>this._shape[0]>>>O||b<0||N<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");S(Y,b,N,O,this.format,this.type,this._mipLevels,R)}else throw new Error("gl-texture2d: Unsupported data type")};function C(R,b){return R.length===3?b[2]===1&&b[1]===R[0]*R[2]&&b[0]===R[2]:b[0]===1&&b[1]===R[0]}function S(R,b,N,O,Y,B,W,H){var U=H.dtype,G=H.shape.slice();if(G.length<2||G.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var j=0,re=0,ae=C(G,H.stride.slice());if(U==="float32"?j=R.FLOAT:U==="float64"?(j=R.FLOAT,ae=!1,U="float32"):U==="uint8"?j=R.UNSIGNED_BYTE:(j=R.UNSIGNED_BYTE,ae=!1,U="uint8"),G.length===2)re=R.LUMINANCE,G=[G[0],G[1],1],H=r(H.data,G,[H.stride[0],H.stride[1],1],H.offset);else if(G.length===3){if(G[2]===1)re=R.ALPHA;else if(G[2]===2)re=R.LUMINANCE_ALPHA;else if(G[2]===3)re=R.RGB;else if(G[2]===4)re=R.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");G[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((re===R.LUMINANCE||re===R.ALPHA)&&(Y===R.LUMINANCE||Y===R.ALPHA)&&(re=Y),re!==Y)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ue=H.size,de=W.indexOf(O)<0;if(de&&W.push(O),j===B&&ae)H.offset===0&&H.data.length===ue?de?R.texImage2D(R.TEXTURE_2D,O,Y,G[0],G[1],0,Y,B,H.data):R.texSubImage2D(R.TEXTURE_2D,O,b,N,G[0],G[1],Y,B,H.data):de?R.texImage2D(R.TEXTURE_2D,O,Y,G[0],G[1],0,Y,B,H.data.subarray(H.offset,H.offset+ue)):R.texSubImage2D(R.TEXTURE_2D,O,b,N,G[0],G[1],Y,B,H.data.subarray(H.offset,H.offset+ue));else{var ee;B===R.FLOAT?ee=i.mallocFloat32(ue):ee=i.mallocUint8(ue);var X=r(ee,G,[G[2],G[2]*G[0],1]);j===R.FLOAT&&B===R.UNSIGNED_BYTE?M(X,H):l.assign(X,H),de?R.texImage2D(R.TEXTURE_2D,O,Y,G[0],G[1],0,Y,B,ee.subarray(0,ue)):R.texSubImage2D(R.TEXTURE_2D,O,b,N,G[0],G[1],Y,B,ee.subarray(0,ue)),B===R.FLOAT?i.freeFloat32(ee):i.freeUint8(ee)}}function D(R){var b=R.createTexture();return R.bindTexture(R.TEXTURE_2D,b),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.NEAREST),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,R.NEAREST),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),b}function T(R,b,N,O,Y){var B=R.getParameter(R.MAX_TEXTURE_SIZE);if(b<0||b>B||N<0||N>B)throw new Error("gl-texture2d: Invalid texture shape");if(Y===R.FLOAT&&!R.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var W=D(R);return R.texImage2D(R.TEXTURE_2D,0,O,b,N,0,O,Y,null),new u(R,W,b,N,O,Y)}function P(R,b,N,O,Y,B){var W=D(R);return R.texImage2D(R.TEXTURE_2D,0,Y,Y,B,b),new u(R,W,N,O,Y,B)}function A(R,b){var N=b.dtype,O=b.shape.slice(),Y=R.getParameter(R.MAX_TEXTURE_SIZE);if(O[0]<0||O[0]>Y||O[1]<0||O[1]>Y)throw new Error("gl-texture2d: Invalid texture size");var B=C(O,b.stride.slice()),W=0;N==="float32"?W=R.FLOAT:N==="float64"?(W=R.FLOAT,B=!1,N="float32"):N==="uint8"?W=R.UNSIGNED_BYTE:(W=R.UNSIGNED_BYTE,B=!1,N="uint8");var H=0;if(O.length===2)H=R.LUMINANCE,O=[O[0],O[1],1],b=r(b.data,O,[b.stride[0],b.stride[1],1],b.offset);else if(O.length===3)if(O[2]===1)H=R.ALPHA;else if(O[2]===2)H=R.LUMINANCE_ALPHA;else if(O[2]===3)H=R.RGB;else if(O[2]===4)H=R.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");W===R.FLOAT&&!R.getExtension("OES_texture_float")&&(W=R.UNSIGNED_BYTE,B=!1);var U,G,j=b.size;if(B)b.offset===0&&b.data.length===j?U=b.data:U=b.data.subarray(b.offset,b.offset+j);else{var re=[O[2],O[2]*O[0],1];G=i.malloc(j,N);var ae=r(G,O,re,0);(N==="float32"||N==="float64")&&W===R.UNSIGNED_BYTE?M(ae,b):l.assign(ae,b),U=G.subarray(0,j)}var ue=D(R);return R.texImage2D(R.TEXTURE_2D,0,H,O[0],O[1],0,H,W,U),B||i.free(G),new u(R,ue,O[0],O[1],H,W)}function a(R){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||x(R),typeof arguments[1]=="number")return T(R,arguments[1],arguments[2],arguments[3]||R.RGBA,arguments[4]||R.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return T(R,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||R.RGBA,arguments[3]||R.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var b=arguments[1],N=d(b)?b:b.raw;if(N)return P(R,N,b.width|0,b.height|0,arguments[2]||R.RGBA,arguments[3]||R.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return A(R,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(p){function m(t,r,l){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var i=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(l){if(l.length>i)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<l.length;++f){var v=l[f];if(v.buffer){var c=v.buffer,x=v.size||4,d=v.type||t.FLOAT,M=!!v.normalized,g=v.stride||0,u=v.offset||0;c.bind(),t.enableVertexAttribArray(f),t.vertexAttribPointer(f,x,d,M,g,u)}else{if(typeof v=="number")t.vertexAttrib1f(f,v);else if(v.length===1)t.vertexAttrib1f(f,v[0]);else if(v.length===2)t.vertexAttrib2f(f,v[0],v[1]);else if(v.length===3)t.vertexAttrib3f(f,v[0],v[1],v[2]);else if(v.length===4)t.vertexAttrib4f(f,v[0],v[1],v[2],v[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(f)}}for(;f<i;++f)t.disableVertexAttribArray(f)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var f=0;f<i;++f)t.disableVertexAttribArray(f)}}p.exports=m},7220:function(p,m,t){var r=t(3056);function l(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}l.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},l.prototype.update=function(f,v,c){this._elements=v,this._attributes=f,this._elementsType=c||this.gl.UNSIGNED_SHORT},l.prototype.dispose=function(){},l.prototype.unbind=function(){},l.prototype.draw=function(f,v,c){c=c||0;var x=this.gl;this._elements?x.drawElements(f,v,this._elementsType,c):x.drawArrays(f,c,v)};function i(f){return new l(f)}p.exports=i},3778:function(p,m,t){var r=t(3056);function l(v,c,x,d,M,g){this.location=v,this.dimension=c,this.a=x,this.b=d,this.c=M,this.d=g}l.prototype.bind=function(v){switch(this.dimension){case 1:v.vertexAttrib1f(this.location,this.a);break;case 2:v.vertexAttrib2f(this.location,this.a,this.b);break;case 3:v.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:v.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function i(v,c,x){this.gl=v,this._ext=c,this.handle=x,this._attribs=[],this._useElements=!1,this._elementsType=v.UNSIGNED_SHORT}i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var v=0;v<this._attribs.length;++v)this._attribs[v].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(v,c,x){if(this.bind(),r(this.gl,c,v),this.unbind(),this._attribs.length=0,v)for(var d=0;d<v.length;++d){var M=v[d];typeof M=="number"?this._attribs.push(new l(d,1,M)):Array.isArray(M)&&this._attribs.push(new l(d,M.length,M[0],M[1],M[2],M[3]))}this._useElements=!!c,this._elementsType=x||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(v,c,x){x=x||0;var d=this.gl;this._useElements?d.drawElements(v,c,this._elementsType,x):d.drawArrays(v,x,c)};function f(v,c){return new i(v,c,c.createVertexArrayOES())}p.exports=f},2944:function(p,m,t){var r=t(3778),l=t(7220);function i(v){this.bindVertexArrayOES=v.bindVertexArray.bind(v),this.createVertexArrayOES=v.createVertexArray.bind(v),this.deleteVertexArrayOES=v.deleteVertexArray.bind(v)}function f(v,c,x,d){var M=v.createVertexArray?new i(v):v.getExtension("OES_vertex_array_object"),g;return M?g=r(v,M):g=l(v),g.update(c,x,d),g}p.exports=f},2598:function(p){p.exports=m;function m(t,r,l){return t[0]=r[0]+l[0],t[1]=r[1]+l[1],t[2]=r[2]+l[2],t}},5879:function(p,m,t){p.exports=f;var r=t(5415),l=t(899),i=t(9305);function f(v,c){var x=r(v[0],v[1],v[2]),d=r(c[0],c[1],c[2]);l(x,x),l(d,d);var M=i(x,d);return M>1?0:Math.acos(M)}},8827:function(p){p.exports=m;function m(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(p){p.exports=m;function m(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(p){p.exports=m;function m(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(p){p.exports=m;function m(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(p){p.exports=m;function m(t,r,l){var i=r[0],f=r[1],v=r[2],c=l[0],x=l[1],d=l[2];return t[0]=f*d-v*x,t[1]=v*c-i*d,t[2]=i*x-f*c,t}},5981:function(p,m,t){p.exports=t(8288)},8288:function(p){p.exports=m;function m(t,r){var l=r[0]-t[0],i=r[1]-t[1],f=r[2]-t[2];return Math.sqrt(l*l+i*i+f*f)}},8629:function(p,m,t){p.exports=t(7979)},7979:function(p){p.exports=m;function m(t,r,l){return t[0]=r[0]/l[0],t[1]=r[1]/l[1],t[2]=r[2]/l[2],t}},9305:function(p){p.exports=m;function m(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(p){p.exports=1e-6},4932:function(p,m,t){p.exports=l;var r=t(154);function l(i,f){var v=i[0],c=i[1],x=i[2],d=f[0],M=f[1],g=f[2];return Math.abs(v-d)<=r*Math.max(1,Math.abs(v),Math.abs(d))&&Math.abs(c-M)<=r*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(x-g)<=r*Math.max(1,Math.abs(x),Math.abs(g))}},5777:function(p){p.exports=m;function m(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(p){p.exports=m;function m(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(p,m,t){p.exports=l;var r=t(8501)();function l(i,f,v,c,x,d){var M,g;for(f||(f=3),v||(v=0),c?g=Math.min(c*f+v,i.length):g=i.length,M=v;M<g;M+=f)r[0]=i[M],r[1]=i[M+1],r[2]=i[M+2],x(r,r,d),i[M]=r[0],i[M+1]=r[1],i[M+2]=r[2];return i}},5415:function(p){p.exports=m;function m(t,r,l){var i=new Float32Array(3);return i[0]=t,i[1]=r,i[2]=l,i}},2858:function(p,m,t){p.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(p){p.exports=m;function m(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(p,m,t){p.exports=t(4693)},4693:function(p){p.exports=m;function m(t){var r=t[0],l=t[1],i=t[2];return Math.sqrt(r*r+l*l+i*i)}},1868:function(p){p.exports=m;function m(t,r,l,i){var f=r[0],v=r[1],c=r[2];return t[0]=f+i*(l[0]-f),t[1]=v+i*(l[1]-v),t[2]=c+i*(l[2]-c),t}},1716:function(p){p.exports=m;function m(t,r,l){return t[0]=Math.max(r[0],l[0]),t[1]=Math.max(r[1],l[1]),t[2]=Math.max(r[2],l[2]),t}},3605:function(p){p.exports=m;function m(t,r,l){return t[0]=Math.min(r[0],l[0]),t[1]=Math.min(r[1],l[1]),t[2]=Math.min(r[2],l[2]),t}},5733:function(p,m,t){p.exports=t(105)},105:function(p){p.exports=m;function m(t,r,l){return t[0]=r[0]*l[0],t[1]=r[1]*l[1],t[2]=r[2]*l[2],t}},435:function(p){p.exports=m;function m(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(p){p.exports=m;function m(t,r){var l=r[0],i=r[1],f=r[2],v=l*l+i*i+f*f;return v>0&&(v=1/Math.sqrt(v),t[0]=r[0]*v,t[1]=r[1]*v,t[2]=r[2]*v),t}},6660:function(p){p.exports=m;function m(t,r){r=r||1;var l=Math.random()*2*Math.PI,i=Math.random()*2-1,f=Math.sqrt(1-i*i)*r;return t[0]=Math.cos(l)*f,t[1]=Math.sin(l)*f,t[2]=i*r,t}},392:function(p){p.exports=m;function m(t,r,l,i){var f=l[1],v=l[2],c=r[1]-f,x=r[2]-v,d=Math.sin(i),M=Math.cos(i);return t[0]=r[0],t[1]=f+c*M-x*d,t[2]=v+c*d+x*M,t}},3222:function(p){p.exports=m;function m(t,r,l,i){var f=l[0],v=l[2],c=r[0]-f,x=r[2]-v,d=Math.sin(i),M=Math.cos(i);return t[0]=f+x*d+c*M,t[1]=r[1],t[2]=v+x*M-c*d,t}},3388:function(p){p.exports=m;function m(t,r,l,i){var f=l[0],v=l[1],c=r[0]-f,x=r[1]-v,d=Math.sin(i),M=Math.cos(i);return t[0]=f+c*M-x*d,t[1]=v+c*d+x*M,t[2]=r[2],t}},1624:function(p){p.exports=m;function m(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(p){p.exports=m;function m(t,r,l){return t[0]=r[0]*l,t[1]=r[1]*l,t[2]=r[2]*l,t}},6722:function(p){p.exports=m;function m(t,r,l,i){return t[0]=r[0]+l[0]*i,t[1]=r[1]+l[1]*i,t[2]=r[2]+l[2]*i,t}},831:function(p){p.exports=m;function m(t,r,l,i){return t[0]=r,t[1]=l,t[2]=i,t}},5294:function(p,m,t){p.exports=t(6403)},3303:function(p,m,t){p.exports=t(4337)},6403:function(p){p.exports=m;function m(t,r){var l=r[0]-t[0],i=r[1]-t[1],f=r[2]-t[2];return l*l+i*i+f*f}},4337:function(p){p.exports=m;function m(t){var r=t[0],l=t[1],i=t[2];return r*r+l*l+i*i}},8921:function(p,m,t){p.exports=t(911)},911:function(p){p.exports=m;function m(t,r,l){return t[0]=r[0]-l[0],t[1]=r[1]-l[1],t[2]=r[2]-l[2],t}},9908:function(p){p.exports=m;function m(t,r,l){var i=r[0],f=r[1],v=r[2];return t[0]=i*l[0]+f*l[3]+v*l[6],t[1]=i*l[1]+f*l[4]+v*l[7],t[2]=i*l[2]+f*l[5]+v*l[8],t}},3255:function(p){p.exports=m;function m(t,r,l){var i=r[0],f=r[1],v=r[2],c=l[3]*i+l[7]*f+l[11]*v+l[15];return c=c||1,t[0]=(l[0]*i+l[4]*f+l[8]*v+l[12])/c,t[1]=(l[1]*i+l[5]*f+l[9]*v+l[13])/c,t[2]=(l[2]*i+l[6]*f+l[10]*v+l[14])/c,t}},6568:function(p){p.exports=m;function m(t,r,l){var i=r[0],f=r[1],v=r[2],c=l[0],x=l[1],d=l[2],M=l[3],g=M*i+x*v-d*f,u=M*f+d*i-c*v,y=M*v+c*f-x*i,C=-c*i-x*f-d*v;return t[0]=g*M+C*-c+u*-d-y*-x,t[1]=u*M+C*-x+y*-c-g*-d,t[2]=y*M+C*-d+g*-x-u*-c,t}},3433:function(p){p.exports=m;function m(t,r,l){return t[0]=r[0]+l[0],t[1]=r[1]+l[1],t[2]=r[2]+l[2],t[3]=r[3]+l[3],t}},1413:function(p){p.exports=m;function m(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(p){p.exports=m;function m(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(p){p.exports=m;function m(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(p){p.exports=m;function m(t,r){var l=r[0]-t[0],i=r[1]-t[1],f=r[2]-t[2],v=r[3]-t[3];return Math.sqrt(l*l+i*i+f*f+v*v)}},205:function(p){p.exports=m;function m(t,r,l){return t[0]=r[0]/l[0],t[1]=r[1]/l[1],t[2]=r[2]/l[2],t[3]=r[3]/l[3],t}},4242:function(p){p.exports=m;function m(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(p){p.exports=m;function m(t,r,l,i){var f=new Float32Array(4);return f[0]=t,f[1]=r,f[2]=l,f[3]=i,f}},4020:function(p,m,t){p.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(p){p.exports=m;function m(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(p){p.exports=m;function m(t){var r=t[0],l=t[1],i=t[2],f=t[3];return Math.sqrt(r*r+l*l+i*i+f*f)}},8746:function(p){p.exports=m;function m(t,r,l,i){var f=r[0],v=r[1],c=r[2],x=r[3];return t[0]=f+i*(l[0]-f),t[1]=v+i*(l[1]-v),t[2]=c+i*(l[2]-c),t[3]=x+i*(l[3]-x),t}},3030:function(p){p.exports=m;function m(t,r,l){return t[0]=Math.max(r[0],l[0]),t[1]=Math.max(r[1],l[1]),t[2]=Math.max(r[2],l[2]),t[3]=Math.max(r[3],l[3]),t}},2170:function(p){p.exports=m;function m(t,r,l){return t[0]=Math.min(r[0],l[0]),t[1]=Math.min(r[1],l[1]),t[2]=Math.min(r[2],l[2]),t[3]=Math.min(r[3],l[3]),t}},746:function(p){p.exports=m;function m(t,r,l){return t[0]=r[0]*l[0],t[1]=r[1]*l[1],t[2]=r[2]*l[2],t[3]=r[3]*l[3],t}},6459:function(p){p.exports=m;function m(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(p){p.exports=m;function m(t,r){var l=r[0],i=r[1],f=r[2],v=r[3],c=l*l+i*i+f*f+v*v;return c>0&&(c=1/Math.sqrt(c),t[0]=l*c,t[1]=i*c,t[2]=f*c,t[3]=v*c),t}},3770:function(p,m,t){var r=t(381),l=t(5510);p.exports=i;function i(f,v){return v=v||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),r(f,f),l(f,f,v),f}},5510:function(p){p.exports=m;function m(t,r,l){return t[0]=r[0]*l,t[1]=r[1]*l,t[2]=r[2]*l,t[3]=r[3]*l,t}},4224:function(p){p.exports=m;function m(t,r,l,i){return t[0]=r[0]+l[0]*i,t[1]=r[1]+l[1]*i,t[2]=r[2]+l[2]*i,t[3]=r[3]+l[3]*i,t}},6453:function(p){p.exports=m;function m(t,r,l,i,f){return t[0]=r,t[1]=l,t[2]=i,t[3]=f,t}},1542:function(p){p.exports=m;function m(t,r){var l=r[0]-t[0],i=r[1]-t[1],f=r[2]-t[2],v=r[3]-t[3];return l*l+i*i+f*f+v*v}},9037:function(p){p.exports=m;function m(t){var r=t[0],l=t[1],i=t[2],f=t[3];return r*r+l*l+i*i+f*f}},2705:function(p){p.exports=m;function m(t,r,l){return t[0]=r[0]-l[0],t[1]=r[1]-l[1],t[2]=r[2]-l[2],t[3]=r[3]-l[3],t}},6342:function(p){p.exports=m;function m(t,r,l){var i=r[0],f=r[1],v=r[2],c=r[3];return t[0]=l[0]*i+l[4]*f+l[8]*v+l[12]*c,t[1]=l[1]*i+l[5]*f+l[9]*v+l[13]*c,t[2]=l[2]*i+l[6]*f+l[10]*v+l[14]*c,t[3]=l[3]*i+l[7]*f+l[11]*v+l[15]*c,t}},5022:function(p){p.exports=m;function m(t,r,l){var i=r[0],f=r[1],v=r[2],c=l[0],x=l[1],d=l[2],M=l[3],g=M*i+x*v-d*f,u=M*f+d*i-c*v,y=M*v+c*f-x*i,C=-c*i-x*f-d*v;return t[0]=g*M+C*-c+u*-d-y*-x,t[1]=u*M+C*-x+y*-c-g*-d,t[2]=y*M+C*-d+g*-x-u*-c,t[3]=r[3],t}},9365:function(p,m,t){var r=t(8096),l=t(7896);p.exports=i;function i(f){for(var v=Array.isArray(f)?f:r(f),c=0;c<v.length;c++){var x=v[c];if(x.type==="preprocessor"){var d=x.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(d&&d[2]){var M=d[1],g=d[2];return(M?l(g):g).trim()}}}}},3193:function(p,m,t){p.exports=b;var r=t(399),l=t(9746),i=t(9525),f=t(9458),v=t(3585),c=999,x=9999,d=0,M=1,g=2,u=3,y=4,C=5,S=6,D=7,T=8,P=9,A=10,a=11,R=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function b(N){var O=0,Y=0,B=c,W,H,U=[],G=[],j=1,re=0,ae=0,ue=!1,de=!1,ee="",X;N=N||{};var Q=i,$=r;N.version==="300 es"&&(Q=v,$=f);for(var ne={},fe={},O=0;O<Q.length;O++)ne[Q[O]]=!0;for(var O=0;O<$.length;O++)fe[$[O]]=!0;return function(We){return G=[],We!==null?q(We):he()};function te(We){We.length&&G.push({type:R[B],data:We,position:ae,line:j,column:re})}function q(We){O=0,We.toString&&(We=We.toString()),ee+=We.replace(/\r\n/g,`
`),X=ee.length;for(var Fe;W=ee[O],O<X;){switch(Fe=O,B){case d:O=Me();break;case M:O=Ee();break;case g:O=we();break;case u:O=Be();break;case y:O=Te();break;case a:O=Ce();break;case C:O=Le();break;case x:O=Ve();break;case P:O=pe();break;case c:O=se();break}if(Fe!==O)switch(ee[Fe]){case`
`:re=0,++j;break;default:++re;break}}return Y+=O,ee=ee.slice(O),G}function he(We){return U.length&&te(U.join("")),B=A,te("(eof)"),G}function se(){return U=U.length?[]:U,H==="/"&&W==="*"?(ae=Y+O-1,B=d,H=W,O+1):H==="/"&&W==="/"?(ae=Y+O-1,B=M,H=W,O+1):W==="#"?(B=g,ae=Y+O,O):/\s/.test(W)?(B=P,ae=Y+O,O):(ue=/\d/.test(W),de=/[^\w_]/.test(W),ae=Y+O,B=ue?y:de?u:x,O)}function pe(){return/[^\s]/g.test(W)?(te(U.join("")),B=c,O):(U.push(W),H=W,O+1)}function we(){return(W==="\r"||W===`
`)&&H!=="\\"?(te(U.join("")),B=c,O):(U.push(W),H=W,O+1)}function Ee(){return we()}function Me(){return W==="/"&&H==="*"?(U.push(W),te(U.join("")),B=c,O+1):(U.push(W),H=W,O+1)}function Be(){if(H==="."&&/\d/.test(W))return B=C,O;if(H==="/"&&W==="*")return B=d,O;if(H==="/"&&W==="/")return B=M,O;if(W==="."&&U.length){for(;Ne(U););return B=C,O}if(W===";"||W===")"||W==="("){if(U.length)for(;Ne(U););return te(W),B=c,O+1}var We=U.length===2&&W!=="=";if(/[\w_\d\s]/.test(W)||We){for(;Ne(U););return B=c,O}return U.push(W),H=W,O+1}function Ne(We){var Fe=0,Ge,it;do{if(Ge=l.indexOf(We.slice(0,We.length+Fe).join("")),it=l[Ge],Ge===-1){if(Fe--+We.length>0)continue;it=We.slice(0,1).join("")}return te(it),ae+=it.length,U=U.slice(it.length),U.length}while(1)}function Ce(){return/[^a-fA-F0-9]/.test(W)?(te(U.join("")),B=c,O):(U.push(W),H=W,O+1)}function Te(){return W==="."||/[eE]/.test(W)?(U.push(W),B=C,H=W,O+1):W==="x"&&U.length===1&&U[0]==="0"?(B=a,U.push(W),H=W,O+1):/[^\d]/.test(W)?(te(U.join("")),B=c,O):(U.push(W),H=W,O+1)}function Le(){return W==="f"&&(U.push(W),H=W,O+=1),/[eE]/.test(W)||(W==="-"||W==="+")&&/[eE]/.test(H)?(U.push(W),H=W,O+1):/[^\d]/.test(W)?(te(U.join("")),B=c,O):(U.push(W),H=W,O+1)}function Ve(){if(/[^\d\w_]/.test(W)){var We=U.join("");return fe[We]?B=T:ne[We]?B=D:B=S,te(U.join("")),B=c,O}return U.push(W),H=W,O+1}}},3585:function(p,m,t){var r=t(9525);r=r.slice().filter(function(l){return!/^(gl\_|texture)/.test(l)}),p.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(p){p.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(p,m,t){var r=t(399);p.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(p){p.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(p){p.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(p,m,t){var r=t(3193);p.exports=l;function l(i,f){var v=r(f),c=[];return c=c.concat(v(i)),c=c.concat(v(null)),c}},6832:function(p){p.exports=function(m){typeof m=="string"&&(m=[m]);for(var t=[].slice.call(arguments,1),r=[],l=0;l<m.length-1;l++)r.push(m[l],t[l]||"");return r.push(m[l]),r.join("")}},5233:function(p,m,t){var r=t(4846);function l(){var i=!1;try{var f=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{i=!1}return i}p.exports=r&&l()},2183:function(p,m,t){p.exports=u;var r=t(417),l=t(8211).H;function i(y,C,S){this.vertices=y,this.adjacent=C,this.boundary=S,this.lastVisited=-1}i.prototype.flip=function(){var y=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=y;var C=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=C};function f(y,C,S){this.vertices=y,this.cell=C,this.index=S}function v(y,C){return l(y.vertices,C.vertices)}function c(y){return function(){var C=this.tuple;return y.apply(this,C)}}function x(y){var C=r[y+1];return C||(C=r),c(C)}var d=[];function M(y,C,S){this.dimension=y,this.vertices=C,this.simplices=S,this.interior=S.filter(function(P){return!P.boundary}),this.tuple=new Array(y+1);for(var D=0;D<=y;++D)this.tuple[D]=this.vertices[D];var T=d[y];T||(T=d[y]=x(y)),this.orient=T}var g=M.prototype;g.handleBoundaryDegeneracy=function(y,C){var S=this.dimension,D=this.vertices.length-1,T=this.tuple,P=this.vertices,A=[y];for(y.lastVisited=-D;A.length>0;){y=A.pop();for(var a=y.adjacent,R=0;R<=S;++R){var b=a[R];if(!(!b.boundary||b.lastVisited<=-D)){for(var N=b.vertices,O=0;O<=S;++O){var Y=N[O];Y<0?T[O]=C:T[O]=P[Y]}var B=this.orient();if(B>0)return b;b.lastVisited=-D,B===0&&A.push(b)}}}return null},g.walk=function(y,C){var S=this.vertices.length-1,D=this.dimension,T=this.vertices,P=this.tuple,A=C?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[A];e:for(;!a.boundary;){for(var R=a.vertices,b=a.adjacent,N=0;N<=D;++N)P[N]=T[R[N]];a.lastVisited=S;for(var N=0;N<=D;++N){var O=b[N];if(!(O.lastVisited>=S)){var Y=P[N];P[N]=y;var B=this.orient();if(P[N]=Y,B<0){a=O;continue e}else O.boundary?O.lastVisited=-S:O.lastVisited=S}}return}return a},g.addPeaks=function(y,C){var S=this.vertices.length-1,D=this.dimension,T=this.vertices,P=this.tuple,A=this.interior,a=this.simplices,R=[C];C.lastVisited=S,C.vertices[C.vertices.indexOf(-1)]=S,C.boundary=!1,A.push(C);for(var b=[];R.length>0;){var C=R.pop(),N=C.vertices,O=C.adjacent,Y=N.indexOf(S);if(!(Y<0)){for(var B=0;B<=D;++B)if(B!==Y){var W=O[B];if(!(!W.boundary||W.lastVisited>=S)){var H=W.vertices;if(W.lastVisited!==-S){for(var U=0,G=0;G<=D;++G)H[G]<0?(U=G,P[G]=y):P[G]=T[H[G]];var j=this.orient();if(j>0){H[U]=S,W.boundary=!1,A.push(W),R.push(W),W.lastVisited=S;continue}else W.lastVisited=-S}var re=W.adjacent,ae=N.slice(),ue=O.slice(),de=new i(ae,ue,!0);a.push(de);var ee=re.indexOf(C);if(!(ee<0)){re[ee]=de,ue[Y]=W,ae[B]=-1,ue[B]=C,O[B]=de,de.flip();for(var G=0;G<=D;++G){var X=ae[G];if(!(X<0||X===S)){for(var Q=new Array(D-1),$=0,ne=0;ne<=D;++ne){var fe=ae[ne];fe<0||ne===G||(Q[$++]=fe)}b.push(new f(Q,de,G))}}}}}}}b.sort(v);for(var B=0;B+1<b.length;B+=2){var te=b[B],q=b[B+1],he=te.index,se=q.index;he<0||se<0||(te.cell.adjacent[te.index]=q.cell,q.cell.adjacent[q.index]=te.cell)}},g.insert=function(y,C){var S=this.vertices;S.push(y);var D=this.walk(y,C);if(D){for(var T=this.dimension,P=this.tuple,A=0;A<=T;++A){var a=D.vertices[A];a<0?P[A]=y:P[A]=S[a]}var R=this.orient(P);R<0||R===0&&(D=this.handleBoundaryDegeneracy(D,y),!D)||this.addPeaks(y,D)}},g.boundary=function(){for(var y=this.dimension,C=[],S=this.simplices,D=S.length,T=0;T<D;++T){var P=S[T];if(P.boundary){for(var A=new Array(y),a=P.vertices,R=0,b=0,N=0;N<=y;++N)a[N]>=0?A[R++]=a[N]:b=N&1;if(b===(y&1)){var O=A[0];A[0]=A[1],A[1]=O}C.push(A)}}return C};function u(y,C){var S=y.length;if(S===0)throw new Error("Must have at least d+1 points");var D=y[0].length;if(S<=D)throw new Error("Must input at least d+1 points");var T=y.slice(0,D+1),P=r.apply(void 0,T);if(P===0)throw new Error("Input not in general position");for(var A=new Array(D+1),a=0;a<=D;++a)A[a]=a;P<0&&(A[0]=1,A[1]=0);for(var R=new i(A,new Array(D+1),!1),b=R.adjacent,N=new Array(D+2),a=0;a<=D;++a){for(var O=A.slice(),Y=0;Y<=D;++Y)Y===a&&(O[Y]=-1);var B=O[0];O[0]=O[1],O[1]=B;var W=new i(O,new Array(D+1),!0);b[a]=W,N[a]=W}N[D+1]=R;for(var a=0;a<=D;++a)for(var O=b[a].vertices,H=b[a].adjacent,Y=0;Y<=D;++Y){var U=O[Y];if(U<0){H[Y]=R;continue}for(var G=0;G<=D;++G)b[G].vertices.indexOf(U)<0&&(H[Y]=b[G])}for(var j=new M(D,T,N),re=!!C,a=D+1;a<S;++a)j.insert(y[a],re);return j.boundary()}},9014:function(p,m,t){var r=t(5070),l=0,i=1,f=2;p.exports=R;function v(b,N,O,Y,B){this.mid=b,this.left=N,this.right=O,this.leftPoints=Y,this.rightPoints=B,this.count=(N?N.count:0)+(O?O.count:0)+Y.length}var c=v.prototype;function x(b,N){b.mid=N.mid,b.left=N.left,b.right=N.right,b.leftPoints=N.leftPoints,b.rightPoints=N.rightPoints,b.count=N.count}function d(b,N){var O=P(N);b.mid=O.mid,b.left=O.left,b.right=O.right,b.leftPoints=O.leftPoints,b.rightPoints=O.rightPoints,b.count=O.count}function M(b,N){var O=b.intervals([]);O.push(N),d(b,O)}function g(b,N){var O=b.intervals([]),Y=O.indexOf(N);return Y<0?l:(O.splice(Y,1),d(b,O),i)}c.intervals=function(b){return b.push.apply(b,this.leftPoints),this.left&&this.left.intervals(b),this.right&&this.right.intervals(b),b},c.insert=function(b){var N=this.count-this.leftPoints.length;if(this.count+=1,b[1]<this.mid)this.left?4*(this.left.count+1)>3*(N+1)?M(this,b):this.left.insert(b):this.left=P([b]);else if(b[0]>this.mid)this.right?4*(this.right.count+1)>3*(N+1)?M(this,b):this.right.insert(b):this.right=P([b]);else{var O=r.ge(this.leftPoints,b,D),Y=r.ge(this.rightPoints,b,T);this.leftPoints.splice(O,0,b),this.rightPoints.splice(Y,0,b)}},c.remove=function(b){var N=this.count-this.leftPoints;if(b[1]<this.mid){if(!this.left)return l;var O=this.right?this.right.count:0;if(4*O>3*(N-1))return g(this,b);var Y=this.left.remove(b);return Y===f?(this.left=null,this.count-=1,i):(Y===i&&(this.count-=1),Y)}else if(b[0]>this.mid){if(!this.right)return l;var B=this.left?this.left.count:0;if(4*B>3*(N-1))return g(this,b);var Y=this.right.remove(b);return Y===f?(this.right=null,this.count-=1,i):(Y===i&&(this.count-=1),Y)}else{if(this.count===1)return this.leftPoints[0]===b?f:l;if(this.leftPoints.length===1&&this.leftPoints[0]===b){if(this.left&&this.right){for(var W=this,H=this.left;H.right;)W=H,H=H.right;if(W===this)H.right=this.right;else{var U=this.left,Y=this.right;W.count-=H.count,W.right=H.left,H.left=U,H.right=Y}x(this,H),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?x(this,this.left):x(this,this.right);return i}for(var U=r.ge(this.leftPoints,b,D);U<this.leftPoints.length&&this.leftPoints[U][0]===b[0];++U)if(this.leftPoints[U]===b){this.count-=1,this.leftPoints.splice(U,1);for(var Y=r.ge(this.rightPoints,b,T);Y<this.rightPoints.length&&this.rightPoints[Y][1]===b[1];++Y)if(this.rightPoints[Y]===b)return this.rightPoints.splice(Y,1),i}return l}};function u(b,N,O){for(var Y=0;Y<b.length&&b[Y][0]<=N;++Y){var B=O(b[Y]);if(B)return B}}function y(b,N,O){for(var Y=b.length-1;Y>=0&&b[Y][1]>=N;--Y){var B=O(b[Y]);if(B)return B}}function C(b,N){for(var O=0;O<b.length;++O){var Y=N(b[O]);if(Y)return Y}}c.queryPoint=function(b,N){if(b<this.mid){if(this.left){var O=this.left.queryPoint(b,N);if(O)return O}return u(this.leftPoints,b,N)}else if(b>this.mid){if(this.right){var O=this.right.queryPoint(b,N);if(O)return O}return y(this.rightPoints,b,N)}else return C(this.leftPoints,N)},c.queryInterval=function(b,N,O){if(b<this.mid&&this.left){var Y=this.left.queryInterval(b,N,O);if(Y)return Y}if(N>this.mid&&this.right){var Y=this.right.queryInterval(b,N,O);if(Y)return Y}return N<this.mid?u(this.leftPoints,N,O):b>this.mid?y(this.rightPoints,b,O):C(this.leftPoints,O)};function S(b,N){return b-N}function D(b,N){var O=b[0]-N[0];return O||b[1]-N[1]}function T(b,N){var O=b[1]-N[1];return O||b[0]-N[0]}function P(b){if(b.length===0)return null;for(var N=[],O=0;O<b.length;++O)N.push(b[O][0],b[O][1]);N.sort(S);for(var Y=N[N.length>>1],B=[],W=[],H=[],O=0;O<b.length;++O){var U=b[O];U[1]<Y?B.push(U):Y<U[0]?W.push(U):H.push(U)}var G=H,j=H.slice();return G.sort(D),j.sort(T),new v(Y,P(B),P(W),G,j)}function A(b){this.root=b}var a=A.prototype;a.insert=function(b){this.root?this.root.insert(b):this.root=new v(b[0],null,null,[b],[b])},a.remove=function(b){if(this.root){var N=this.root.remove(b);return N===f&&(this.root=null),N!==l}return!1},a.queryPoint=function(b,N){if(this.root)return this.root.queryPoint(b,N)},a.queryInterval=function(b,N,O){if(b<=N&&this.root)return this.root.queryInterval(b,N,O)},Object.defineProperty(a,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(a,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function R(b){return!b||b.length===0?new A(null):new A(P(b))}},9560:function(p){function m(t){for(var r=new Array(t),l=0;l<t;++l)r[l]=l;return r}p.exports=m},4846:function(p){p.exports=!0},4780:function(p){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/p.exports=function(r){return r!=null&&(m(r)||t(r)||!!r._isBuffer)};function m(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&m(r.slice(0,0))}},3596:function(p){p.exports=function(m){for(var t=m.length,r,l=0;l<t;l++)if(r=m.charCodeAt(l),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(p){function m(t,r,l){return t*(1-l)+r*l}p.exports=m},7191:function(p,m,t){var r=t(4690),l=t(9823),i=t(7332),f=t(7787),v=t(7437),c=t(2142),x={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},d=l(),M=l(),g=[0,0,0,0],u=[[0,0,0],[0,0,0],[0,0,0]],y=[0,0,0];p.exports=function(P,A,a,R,b,N){if(A||(A=[0,0,0]),a||(a=[0,0,0]),R||(R=[0,0,0]),b||(b=[0,0,0,1]),N||(N=[0,0,0,1]),!r(d,P)||(i(M,d),M[3]=0,M[7]=0,M[11]=0,M[15]=1,Math.abs(f(M)<1e-8)))return!1;var O=d[3],Y=d[7],B=d[11],W=d[12],H=d[13],U=d[14],G=d[15];if(O!==0||Y!==0||B!==0){g[0]=O,g[1]=Y,g[2]=B,g[3]=G;var j=v(M,M);if(!j)return!1;c(M,M),C(b,g,M)}else b[0]=b[1]=b[2]=0,b[3]=1;if(A[0]=W,A[1]=H,A[2]=U,S(u,d),a[0]=x.length(u[0]),x.normalize(u[0],u[0]),R[0]=x.dot(u[0],u[1]),D(u[1],u[1],u[0],1,-R[0]),a[1]=x.length(u[1]),x.normalize(u[1],u[1]),R[0]/=a[1],R[1]=x.dot(u[0],u[2]),D(u[2],u[2],u[0],1,-R[1]),R[2]=x.dot(u[1],u[2]),D(u[2],u[2],u[1],1,-R[2]),a[2]=x.length(u[2]),x.normalize(u[2],u[2]),R[1]/=a[2],R[2]/=a[2],x.cross(y,u[1],u[2]),x.dot(u[0],y)<0)for(var re=0;re<3;re++)a[re]*=-1,u[re][0]*=-1,u[re][1]*=-1,u[re][2]*=-1;return N[0]=.5*Math.sqrt(Math.max(1+u[0][0]-u[1][1]-u[2][2],0)),N[1]=.5*Math.sqrt(Math.max(1-u[0][0]+u[1][1]-u[2][2],0)),N[2]=.5*Math.sqrt(Math.max(1-u[0][0]-u[1][1]+u[2][2],0)),N[3]=.5*Math.sqrt(Math.max(1+u[0][0]+u[1][1]+u[2][2],0)),u[2][1]>u[1][2]&&(N[0]=-N[0]),u[0][2]>u[2][0]&&(N[1]=-N[1]),u[1][0]>u[0][1]&&(N[2]=-N[2]),!0};function C(T,P,A){var a=P[0],R=P[1],b=P[2],N=P[3];return T[0]=A[0]*a+A[4]*R+A[8]*b+A[12]*N,T[1]=A[1]*a+A[5]*R+A[9]*b+A[13]*N,T[2]=A[2]*a+A[6]*R+A[10]*b+A[14]*N,T[3]=A[3]*a+A[7]*R+A[11]*b+A[15]*N,T}function S(T,P){T[0][0]=P[0],T[0][1]=P[1],T[0][2]=P[2],T[1][0]=P[4],T[1][1]=P[5],T[1][2]=P[6],T[2][0]=P[8],T[2][1]=P[9],T[2][2]=P[10]}function D(T,P,A,a,R){T[0]=P[0]*a+A[0]*R,T[1]=P[1]*a+A[1]*R,T[2]=P[2]*a+A[2]*R}},4690:function(p){p.exports=function(t,r){var l=r[15];if(l===0)return!1;for(var i=1/l,f=0;f<16;f++)t[f]=r[f]*i;return!0}},7649:function(p,m,t){var r=t(1868),l=t(1102),i=t(7191),f=t(7787),v=t(1116),c=g(),x=g(),d=g();p.exports=M;function M(C,S,D,T){if(f(S)===0||f(D)===0)return!1;var P=i(S,c.translate,c.scale,c.skew,c.perspective,c.quaternion),A=i(D,x.translate,x.scale,x.skew,x.perspective,x.quaternion);return!P||!A?!1:(r(d.translate,c.translate,x.translate,T),r(d.skew,c.skew,x.skew,T),r(d.scale,c.scale,x.scale,T),r(d.perspective,c.perspective,x.perspective,T),v(d.quaternion,c.quaternion,x.quaternion,T),l(C,d.translate,d.scale,d.skew,d.perspective,d.quaternion),!0)}function g(){return{translate:u(),scale:u(1),skew:u(),perspective:y(),quaternion:y()}}function u(C){return[C||0,C||0,C||0]}function y(){return[0,0,0,1]}},1102:function(p,m,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var l=r.create();p.exports=function(f,v,c,x,d,M){return r.identity(f),r.fromRotationTranslation(f,M,v),f[3]=d[0],f[7]=d[1],f[11]=d[2],f[15]=d[3],r.identity(l),x[2]!==0&&(l[9]=x[2],r.multiply(f,f,l)),x[1]!==0&&(l[9]=0,l[8]=x[1],r.multiply(f,f,l)),x[0]!==0&&(l[8]=0,l[4]=x[0],r.multiply(f,f,l)),r.scale(f,f,c),f}},9298:function(p,m,t){var r=t(5070),l=t(7649),i=t(7437),f=t(6109),v=t(7115),c=t(5240),x=t(3012),d=t(998);t(3668);var M=t(899),g=[0,0,0];p.exports=S;function u(D){this._components=D.slice(),this._time=[0],this.prevMatrix=D.slice(),this.nextMatrix=D.slice(),this.computedMatrix=D.slice(),this.computedInverse=D.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var y=u.prototype;y.recalcMatrix=function(D){var T=this._time,P=r.le(T,D),A=this.computedMatrix;if(!(P<0)){var a=this._components;if(P===T.length-1)for(var R=16*P,b=0;b<16;++b)A[b]=a[R++];else{for(var N=T[P+1]-T[P],R=16*P,O=this.prevMatrix,Y=!0,b=0;b<16;++b)O[b]=a[R++];for(var B=this.nextMatrix,b=0;b<16;++b)B[b]=a[R++],Y=Y&&O[b]===B[b];if(N<1e-6||Y)for(var b=0;b<16;++b)A[b]=O[b];else l(A,O,B,(D-T[P])/N)}var W=this.computedUp;W[0]=A[1],W[1]=A[5],W[2]=A[9],M(W,W);var H=this.computedInverse;i(H,A);var U=this.computedEye,G=H[15];U[0]=H[12]/G,U[1]=H[13]/G,U[2]=H[14]/G;for(var j=this.computedCenter,re=Math.exp(this.computedRadius[0]),b=0;b<3;++b)j[b]=U[b]-A[2+4*b]*re}},y.idle=function(D){if(!(D<this.lastT())){for(var T=this._components,P=T.length-16,A=0;A<16;++A)T.push(T[P++]);this._time.push(D)}},y.flush=function(D){var T=r.gt(this._time,D)-2;T<0||(this._time.splice(0,T),this._components.splice(0,16*T))},y.lastT=function(){return this._time[this._time.length-1]},y.lookAt=function(D,T,P,A){this.recalcMatrix(D),T=T||this.computedEye,P=P||g,A=A||this.computedUp,this.setMatrix(D,x(this.computedMatrix,T,P,A));for(var a=0,R=0;R<3;++R)a+=Math.pow(P[R]-T[R],2);a=Math.log(Math.sqrt(a)),this.computedRadius[0]=a},y.rotate=function(D,T,P,A){this.recalcMatrix(D);var a=this.computedInverse;T&&v(a,a,T),P&&f(a,a,P),A&&c(a,a,A),this.setMatrix(D,i(this.computedMatrix,a))};var C=[0,0,0];y.pan=function(D,T,P,A){C[0]=-(T||0),C[1]=-(P||0),C[2]=-(A||0),this.recalcMatrix(D);var a=this.computedInverse;d(a,a,C),this.setMatrix(D,i(a,a))},y.translate=function(D,T,P,A){C[0]=T||0,C[1]=P||0,C[2]=A||0,this.recalcMatrix(D);var a=this.computedMatrix;d(a,a,C),this.setMatrix(D,a)},y.setMatrix=function(D,T){if(!(D<this.lastT())){this._time.push(D);for(var P=0;P<16;++P)this._components.push(T[P])}},y.setDistance=function(D,T){this.computedRadius[0]=T},y.setDistanceLimits=function(D,T){var P=this._limits;P[0]=D,P[1]=T},y.getDistanceLimits=function(D){var T=this._limits;return D?(D[0]=T[0],D[1]=T[1],D):T};function S(D){D=D||{};var T=D.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new u(T)}},3266:function(p,m,t){p.exports=l;var r=t(417)[3];function l(i){var f=i.length;if(f<3){for(var y=new Array(f),v=0;v<f;++v)y[v]=v;return f===2&&i[0][0]===i[1][0]&&i[0][1]===i[1][1]?[0]:y}for(var c=new Array(f),v=0;v<f;++v)c[v]=v;c.sort(function(T,P){var A=i[T][0]-i[P][0];return A||i[T][1]-i[P][1]});for(var x=[c[0],c[1]],d=[c[0],c[1]],v=2;v<f;++v){for(var M=c[v],g=i[M],u=x.length;u>1&&r(i[x[u-2]],i[x[u-1]],g)<=0;)u-=1,x.pop();for(x.push(M),u=d.length;u>1&&r(i[d[u-2]],i[d[u-1]],g)>=0;)u-=1,d.pop();d.push(M)}for(var y=new Array(d.length+x.length-2),C=0,v=0,S=x.length;v<S;++v)y[C++]=x[v];for(var D=d.length-2;D>0;--D)y[C++]=d[D];return y}},6145:function(p,m,t){p.exports=l;var r=t(4110);function l(i,f){f||(f=i,i=window);var v=0,c=0,x=0,d={shift:!1,alt:!1,control:!1,meta:!1},M=!1;function g(b){var N=!1;return"altKey"in b&&(N=N||b.altKey!==d.alt,d.alt=!!b.altKey),"shiftKey"in b&&(N=N||b.shiftKey!==d.shift,d.shift=!!b.shiftKey),"ctrlKey"in b&&(N=N||b.ctrlKey!==d.control,d.control=!!b.ctrlKey),"metaKey"in b&&(N=N||b.metaKey!==d.meta,d.meta=!!b.metaKey),N}function u(b,N){var O=r.x(N),Y=r.y(N);"buttons"in N&&(b=N.buttons|0),(b!==v||O!==c||Y!==x||g(N))&&(v=b|0,c=O||0,x=Y||0,f&&f(v,c,x,d))}function y(b){u(0,b)}function C(){(v||c||x||d.shift||d.alt||d.meta||d.control)&&(c=x=0,v=0,d.shift=d.alt=d.control=d.meta=!1,f&&f(0,0,0,d))}function S(b){g(b)&&f&&f(v,c,x,d)}function D(b){r.buttons(b)===0?u(0,b):u(v,b)}function T(b){u(v|r.buttons(b),b)}function P(b){u(v&~r.buttons(b),b)}function A(){M||(M=!0,i.addEventListener("mousemove",D),i.addEventListener("mousedown",T),i.addEventListener("mouseup",P),i.addEventListener("mouseleave",y),i.addEventListener("mouseenter",y),i.addEventListener("mouseout",y),i.addEventListener("mouseover",y),i.addEventListener("blur",C),i.addEventListener("keyup",S),i.addEventListener("keydown",S),i.addEventListener("keypress",S),i!==window&&(window.addEventListener("blur",C),window.addEventListener("keyup",S),window.addEventListener("keydown",S),window.addEventListener("keypress",S)))}function a(){M&&(M=!1,i.removeEventListener("mousemove",D),i.removeEventListener("mousedown",T),i.removeEventListener("mouseup",P),i.removeEventListener("mouseleave",y),i.removeEventListener("mouseenter",y),i.removeEventListener("mouseout",y),i.removeEventListener("mouseover",y),i.removeEventListener("blur",C),i.removeEventListener("keyup",S),i.removeEventListener("keydown",S),i.removeEventListener("keypress",S),i!==window&&(window.removeEventListener("blur",C),window.removeEventListener("keyup",S),window.removeEventListener("keydown",S),window.removeEventListener("keypress",S)))}A();var R={element:i};return Object.defineProperties(R,{enabled:{get:function(){return M},set:function(b){b?A():a()},enumerable:!0},buttons:{get:function(){return v},enumerable:!0},x:{get:function(){return c},enumerable:!0},y:{get:function(){return x},enumerable:!0},mods:{get:function(){return d},enumerable:!0}}),R}},2565:function(p){var m={left:0,top:0};p.exports=t;function t(l,i,f){i=i||l.currentTarget||l.srcElement,Array.isArray(f)||(f=[0,0]);var v=l.clientX||0,c=l.clientY||0,x=r(i);return f[0]=v-x.left,f[1]=c-x.top,f}function r(l){return l===window||l===document||l===document.body?m:l.getBoundingClientRect()}},4110:function(p,m){function t(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var v=f.which;if(v===2)return 4;if(v===3)return 2;if(v>0)return 1<<v-1}else if("button"in f){var v=f.button;if(v===1)return 4;if(v===2)return 2;if(v>=0)return 1<<v}}return 0}m.buttons=t;function r(f){return f.target||f.srcElement||window}m.element=r;function l(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var v=r(f),c=v.getBoundingClientRect();return f.clientX-c.left}return 0}m.x=l;function i(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var v=r(f),c=v.getBoundingClientRect();return f.clientY-c.top}return 0}m.y=i},6475:function(p,m,t){var r=t(14);p.exports=l;function l(i,f,v){typeof i=="function"&&(v=!!f,f=i,i=window);var c=r("ex",i),x=function(d){v&&d.preventDefault();var M=d.deltaX||0,g=d.deltaY||0,u=d.deltaZ||0,y=d.deltaMode,C=1;switch(y){case 1:C=c;break;case 2:C=window.innerHeight;break}if(M*=C,g*=C,u*=C,M||g||u)return f(M,g,u,d)};return i.addEventListener("wheel",x),x}},9284:function(p,m,t){var r=t(5306);p.exports=f;var l={"false,0,1":function(c,x,d,M,g){return function(y,C,S,D){var T=y.shape[0]|0,P=y.shape[1]|0,A=y.data,a=y.offset|0,R=y.stride[0]|0,b=y.stride[1]|0,N=a,O,Y=-R|0,B=0,W=-b|0,H=0,U=-R-b|0,G=0,j=R|0,re=b-R*T|0,ae=0,ue=0,de=0,ee=2*T|0,X=M(ee),Q=M(ee),$=0,ne=0,fe=-1,te=-1,q=0,he=-T|0,se=T|0,pe=0,we=-T-1|0,Ee=T-1|0,Me=0,Be=0,Ne=0;for(ae=0;ae<T;++ae)X[$++]=d(A[N],C,S,D),N+=j;if(N+=re,P>0){if(ue=1,X[$++]=d(A[N],C,S,D),N+=j,T>0)for(ae=1,O=A[N],ne=X[$]=d(O,C,S,D),q=X[$+fe],pe=X[$+he],Me=X[$+we],(ne!==q||ne!==pe||ne!==Me)&&(B=A[N+Y],H=A[N+W],G=A[N+U],c(ae,ue,O,B,H,G,ne,q,pe,Me,C,S,D),Be=Q[$]=de++),$+=1,N+=j,ae=2;ae<T;++ae)O=A[N],ne=X[$]=d(O,C,S,D),q=X[$+fe],pe=X[$+he],Me=X[$+we],(ne!==q||ne!==pe||ne!==Me)&&(B=A[N+Y],H=A[N+W],G=A[N+U],c(ae,ue,O,B,H,G,ne,q,pe,Me,C,S,D),Be=Q[$]=de++,Me!==q&&x(Q[$+fe],Be,G,B,Me,q,C,S,D)),$+=1,N+=j;for(N+=re,$=0,Ne=fe,fe=te,te=Ne,Ne=he,he=se,se=Ne,Ne=we,we=Ee,Ee=Ne,ue=2;ue<P;++ue){if(X[$++]=d(A[N],C,S,D),N+=j,T>0)for(ae=1,O=A[N],ne=X[$]=d(O,C,S,D),q=X[$+fe],pe=X[$+he],Me=X[$+we],(ne!==q||ne!==pe||ne!==Me)&&(B=A[N+Y],H=A[N+W],G=A[N+U],c(ae,ue,O,B,H,G,ne,q,pe,Me,C,S,D),Be=Q[$]=de++,Me!==pe&&x(Q[$+he],Be,H,G,pe,Me,C,S,D)),$+=1,N+=j,ae=2;ae<T;++ae)O=A[N],ne=X[$]=d(O,C,S,D),q=X[$+fe],pe=X[$+he],Me=X[$+we],(ne!==q||ne!==pe||ne!==Me)&&(B=A[N+Y],H=A[N+W],G=A[N+U],c(ae,ue,O,B,H,G,ne,q,pe,Me,C,S,D),Be=Q[$]=de++,Me!==pe&&x(Q[$+he],Be,H,G,pe,Me,C,S,D),Me!==q&&x(Q[$+fe],Be,G,B,Me,q,C,S,D)),$+=1,N+=j;ue&1&&($=0),Ne=fe,fe=te,te=Ne,Ne=he,he=se,se=Ne,Ne=we,we=Ee,Ee=Ne,N+=re}}g(Q),g(X)}},"false,1,0":function(c,x,d,M,g){return function(y,C,S,D){var T=y.shape[0]|0,P=y.shape[1]|0,A=y.data,a=y.offset|0,R=y.stride[0]|0,b=y.stride[1]|0,N=a,O,Y=-R|0,B=0,W=-b|0,H=0,U=-R-b|0,G=0,j=b|0,re=R-b*P|0,ae=0,ue=0,de=0,ee=2*P|0,X=M(ee),Q=M(ee),$=0,ne=0,fe=-1,te=-1,q=0,he=-P|0,se=P|0,pe=0,we=-P-1|0,Ee=P-1|0,Me=0,Be=0,Ne=0;for(ue=0;ue<P;++ue)X[$++]=d(A[N],C,S,D),N+=j;if(N+=re,T>0){if(ae=1,X[$++]=d(A[N],C,S,D),N+=j,P>0)for(ue=1,O=A[N],ne=X[$]=d(O,C,S,D),pe=X[$+he],q=X[$+fe],Me=X[$+we],(ne!==pe||ne!==q||ne!==Me)&&(B=A[N+Y],H=A[N+W],G=A[N+U],c(ae,ue,O,B,H,G,ne,pe,q,Me,C,S,D),Be=Q[$]=de++),$+=1,N+=j,ue=2;ue<P;++ue)O=A[N],ne=X[$]=d(O,C,S,D),pe=X[$+he],q=X[$+fe],Me=X[$+we],(ne!==pe||ne!==q||ne!==Me)&&(B=A[N+Y],H=A[N+W],G=A[N+U],c(ae,ue,O,B,H,G,ne,pe,q,Me,C,S,D),Be=Q[$]=de++,Me!==q&&x(Q[$+fe],Be,H,G,q,Me,C,S,D)),$+=1,N+=j;for(N+=re,$=0,Ne=he,he=se,se=Ne,Ne=fe,fe=te,te=Ne,Ne=we,we=Ee,Ee=Ne,ae=2;ae<T;++ae){if(X[$++]=d(A[N],C,S,D),N+=j,P>0)for(ue=1,O=A[N],ne=X[$]=d(O,C,S,D),pe=X[$+he],q=X[$+fe],Me=X[$+we],(ne!==pe||ne!==q||ne!==Me)&&(B=A[N+Y],H=A[N+W],G=A[N+U],c(ae,ue,O,B,H,G,ne,pe,q,Me,C,S,D),Be=Q[$]=de++,Me!==pe&&x(Q[$+he],Be,G,B,Me,pe,C,S,D)),$+=1,N+=j,ue=2;ue<P;++ue)O=A[N],ne=X[$]=d(O,C,S,D),pe=X[$+he],q=X[$+fe],Me=X[$+we],(ne!==pe||ne!==q||ne!==Me)&&(B=A[N+Y],H=A[N+W],G=A[N+U],c(ae,ue,O,B,H,G,ne,pe,q,Me,C,S,D),Be=Q[$]=de++,Me!==q&&x(Q[$+fe],Be,H,G,q,Me,C,S,D),Me!==pe&&x(Q[$+he],Be,G,B,Me,pe,C,S,D)),$+=1,N+=j;ae&1&&($=0),Ne=he,he=se,se=Ne,Ne=fe,fe=te,te=Ne,Ne=we,we=Ee,Ee=Ne,N+=re}}g(Q),g(X)}}};function i(v,c,x,d,M,g){var u=[g,M].join(","),y=l[u];return y(v,c,x,r.mallocUint32,r.freeUint32)}function f(v){function c(C){throw new Error("ndarray-extract-contour: "+C)}typeof v!="object"&&c("Must specify arguments");var x=v.order;Array.isArray(x)||c("Must specify order");var d=v.arrayArguments||1;d<1&&c("Must have at least one array argument");var M=v.scalarArguments||0;M<0&&c("Scalar arg count must be > 0"),typeof v.vertex!="function"&&c("Must specify vertex creation function"),typeof v.cell!="function"&&c("Must specify cell creation function"),typeof v.phase!="function"&&c("Must specify phase function");for(var g=v.getters||[],u=new Array(d),y=0;y<d;++y)g.indexOf(y)>=0?u[y]=!0:u[y]=!1;return i(v.vertex,v.cell,v.phase,M,x,u)}},9144:function(p,m,t){var r=t(3094),l={zero:function(S,D,T,P){var A=S[0],a=T[0];P|=0;var R=0,b=a;for(R=0;R<A;++R)D[P]=0,P+=b},fdTemplate1:function(S,D,T,P,A,a,R){var b=S[0],N=T[0],O=a[0],Y=-1*N,B=N;P|=0,R|=0;var W=0,H=N,U=O;for(W=0;W<b;++W)A[R]=.5*(D[P+Y]-D[P+B]),P+=H,R+=U},fdTemplate2:function(S,D,T,P,A,a,R,b,N,O){var Y=S[0],B=S[1],W=T[0],H=T[1],U=a[0],G=a[1],j=N[0],re=N[1],ae=-1*W,ue=W,de=-1*H,ee=H;P|=0,R|=0,O|=0;var X=0,Q=0,$=H,ne=W-B*H,fe=G,te=U-B*G,q=re,he=j-B*re;for(Q=0;Q<Y;++Q){for(X=0;X<B;++X)A[R]=.5*(D[P+ae]-D[P+ue]),b[O]=.5*(D[P+de]-D[P+ee]),P+=$,R+=fe,O+=q;P+=ne,R+=te,O+=he}}},i={cdiff:function(S){var D={};return function(P,A,a){var R=P.dtype,b=P.order,N=A.dtype,O=A.order,Y=a.dtype,B=a.order,W=[R,b.join(),N,O.join(),Y,B.join()].join(),H=D[W];return H||(D[W]=H=S([R,b,N,O,Y,B])),H(P.shape.slice(0),P.data,P.stride,P.offset|0,A.data,A.stride,A.offset|0,a.data,a.stride,a.offset|0)}},zero:function(S){var D={};return function(P){var A=P.dtype,a=P.order,R=[A,a.join()].join(),b=D[R];return b||(D[R]=b=S([A,a])),b(P.shape.slice(0),P.data,P.stride,P.offset|0)}},fdTemplate1:function(S){var D={};return function(P,A){var a=P.dtype,R=P.order,b=A.dtype,N=A.order,O=[a,R.join(),b,N.join()].join(),Y=D[O];return Y||(D[O]=Y=S([a,R,b,N])),Y(P.shape.slice(0),P.data,P.stride,P.offset|0,A.data,A.stride,A.offset|0)}},fdTemplate2:function(S){var D={};return function(P,A,a){var R=P.dtype,b=P.order,N=A.dtype,O=A.order,Y=a.dtype,B=a.order,W=[R,b.join(),N,O.join(),Y,B.join()].join(),H=D[W];return H||(D[W]=H=S([R,b,N,O,Y,B])),H(P.shape.slice(0),P.data,P.stride,P.offset|0,A.data,A.stride,A.offset|0,a.data,a.stride,a.offset|0)}}};function f(S){var D=i[S.funcName];return D(v.bind(void 0,S))}function v(S){return l[S.funcName]}function c(S){return f({funcName:S.funcName})}var x={},d={},M=c({funcName:"cdiff"}),g=c({funcName:"zero"});function u(S){return S in x?x[S]:x[S]=c({funcName:"fdTemplate"+S})}function y(S,D,T,P){return function(A,a){var R=a.shape.slice();return R[0]>2&&R[1]>2&&P(a.pick(-1,-1).lo(1,1).hi(R[0]-2,R[1]-2),A.pick(-1,-1,0).lo(1,1).hi(R[0]-2,R[1]-2),A.pick(-1,-1,1).lo(1,1).hi(R[0]-2,R[1]-2)),R[1]>2&&(T(a.pick(0,-1).lo(1).hi(R[1]-2),A.pick(0,-1,1).lo(1).hi(R[1]-2)),D(A.pick(0,-1,0).lo(1).hi(R[1]-2))),R[1]>2&&(T(a.pick(R[0]-1,-1).lo(1).hi(R[1]-2),A.pick(R[0]-1,-1,1).lo(1).hi(R[1]-2)),D(A.pick(R[0]-1,-1,0).lo(1).hi(R[1]-2))),R[0]>2&&(T(a.pick(-1,0).lo(1).hi(R[0]-2),A.pick(-1,0,0).lo(1).hi(R[0]-2)),D(A.pick(-1,0,1).lo(1).hi(R[0]-2))),R[0]>2&&(T(a.pick(-1,R[1]-1).lo(1).hi(R[0]-2),A.pick(-1,R[1]-1,0).lo(1).hi(R[0]-2)),D(A.pick(-1,R[1]-1,1).lo(1).hi(R[0]-2))),A.set(0,0,0,0),A.set(0,0,1,0),A.set(R[0]-1,0,0,0),A.set(R[0]-1,0,1,0),A.set(0,R[1]-1,0,0),A.set(0,R[1]-1,1,0),A.set(R[0]-1,R[1]-1,0,0),A.set(R[0]-1,R[1]-1,1,0),A}}function C(S){var D=S.join(),R=d[D];if(R)return R;for(var T=S.length,P=[M,g],A=1;A<=T;++A)P.push(u(A));var a=y,R=a.apply(void 0,P);return d[D]=R,R}p.exports=function(D,T,P){if(Array.isArray(P)||(typeof P=="string"?P=r(T.dimension,P):P=r(T.dimension,"clamp")),T.size===0)return D;if(T.dimension===0)return D.set(0),D;var A=C(P);return A(D,T)}},3581:function(p){function m(f,v){var c=Math.floor(v),x=v-c,d=0<=c&&c<f.shape[0],M=0<=c+1&&c+1<f.shape[0],g=d?+f.get(c):0,u=M?+f.get(c+1):0;return(1-x)*g+x*u}function t(f,v,c){var x=Math.floor(v),d=v-x,M=0<=x&&x<f.shape[0],g=0<=x+1&&x+1<f.shape[0],u=Math.floor(c),y=c-u,C=0<=u&&u<f.shape[1],S=0<=u+1&&u+1<f.shape[1],D=M&&C?f.get(x,u):0,T=M&&S?f.get(x,u+1):0,P=g&&C?f.get(x+1,u):0,A=g&&S?f.get(x+1,u+1):0;return(1-y)*((1-d)*D+d*P)+y*((1-d)*T+d*A)}function r(f,v,c,x){var d=Math.floor(v),M=v-d,g=0<=d&&d<f.shape[0],u=0<=d+1&&d+1<f.shape[0],y=Math.floor(c),C=c-y,S=0<=y&&y<f.shape[1],D=0<=y+1&&y+1<f.shape[1],T=Math.floor(x),P=x-T,A=0<=T&&T<f.shape[2],a=0<=T+1&&T+1<f.shape[2],R=g&&S&&A?f.get(d,y,T):0,b=g&&D&&A?f.get(d,y+1,T):0,N=u&&S&&A?f.get(d+1,y,T):0,O=u&&D&&A?f.get(d+1,y+1,T):0,Y=g&&S&&a?f.get(d,y,T+1):0,B=g&&D&&a?f.get(d,y+1,T+1):0,W=u&&S&&a?f.get(d+1,y,T+1):0,H=u&&D&&a?f.get(d+1,y+1,T+1):0;return(1-P)*((1-C)*((1-M)*R+M*N)+C*((1-M)*b+M*O))+P*((1-C)*((1-M)*Y+M*W)+C*((1-M)*B+M*H))}function l(f){var v=f.shape.length|0,c=new Array(v),x=new Array(v),d=new Array(v),M=new Array(v),g,u;for(g=0;g<v;++g)u=+arguments[g+1],c[g]=Math.floor(u),x[g]=u-c[g],d[g]=0<=c[g]&&c[g]<f.shape[g],M[g]=0<=c[g]+1&&c[g]+1<f.shape[g];var y=0,C,S,D;e:for(g=0;g<1<<v;++g){for(S=1,D=f.offset,C=0;C<v;++C)if(g&1<<C){if(!M[C])continue e;S*=x[C],D+=f.stride[C]*(c[C]+1)}else{if(!d[C])continue e;S*=1-x[C],D+=f.stride[C]*c[C]}y+=S*f.data[D]}return y}function i(f,v,c,x){switch(f.shape.length){case 0:return 0;case 1:return m(f,v);case 2:return t(f,v,c);case 3:return r(f,v,c,x);default:return l.apply(void 0,arguments)}}p.exports=i,p.exports.d1=m,p.exports.d2=t,p.exports.d3=r},7498:function(p,m){var t={"float64,2,1,0":function(){return function(d,M,g,u,y){var C=d[0],S=d[1],D=d[2],T=g[0],P=g[1],A=g[2];u|=0;var a=0,R=0,b=0,N=A,O=P-D*A,Y=T-S*P;for(b=0;b<C;++b){for(R=0;R<S;++R){for(a=0;a<D;++a)M[u]/=y,u+=N;u+=O}u+=Y}}},"uint8,2,0,1,float64,2,1,0":function(){return function(d,M,g,u,y,C,S,D){var T=d[0],P=d[1],A=d[2],a=g[0],R=g[1],b=g[2],N=C[0],O=C[1],Y=C[2];u|=0,S|=0;for(var B=u,W=S,H=d[0]|0;H>0;){H<64?(T=H,H=0):(T=64,H-=64);for(var U=d[1]|0;U>0;){U<64?(P=U,U=0):(P=64,U-=64),u=B+H*a+U*R,S=W+H*N+U*O;var G=0,j=0,re=0,ae=b,ue=a-A*b,de=R-T*a,ee=Y,X=N-A*Y,Q=O-T*N;for(re=0;re<P;++re){for(j=0;j<T;++j){for(G=0;G<A;++G)M[u]=y[S]*D,u+=ae,S+=ee;u+=ue,S+=X}u+=de,S+=Q}}}}},"float32,1,0,float32,1,0":function(){return function(d,M,g,u,y,C,S){var D=d[0],T=d[1],P=g[0],A=g[1],a=C[0],R=C[1];u|=0,S|=0;var b=0,N=0,O=A,Y=P-T*A,B=R,W=a-T*R;for(N=0;N<D;++N){for(b=0;b<T;++b)M[u]=y[S],u+=O,S+=B;u+=Y,S+=W}}},"float32,1,0,float32,0,1":function(){return function(d,M,g,u,y,C,S){var D=d[0],T=d[1],P=g[0],A=g[1],a=C[0],R=C[1];u|=0,S|=0;for(var b=u,N=S,O=d[1]|0;O>0;){O<64?(T=O,O=0):(T=64,O-=64);for(var Y=d[0]|0;Y>0;){Y<64?(D=Y,Y=0):(D=64,Y-=64),u=b+O*A+Y*P,S=N+O*R+Y*a;var B=0,W=0,H=A,U=P-T*A,G=R,j=a-T*R;for(W=0;W<D;++W){for(B=0;B<T;++B)M[u]=y[S],u+=H,S+=G;u+=U,S+=j}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(d,M,g,u,y,C,S){var D=d[0],T=d[1],P=d[2],A=g[0],a=g[1],R=g[2],b=C[0],N=C[1],O=C[2];u|=0,S|=0;for(var Y=u,B=S,W=d[2]|0;W>0;){W<64?(P=W,W=0):(P=64,W-=64);for(var H=d[0]|0;H>0;){H<64?(D=H,H=0):(D=64,H-=64);for(var U=d[1]|0;U>0;){U<64?(T=U,U=0):(T=64,U-=64),u=Y+W*R+H*A+U*a,S=B+W*O+H*b+U*N;var G=0,j=0,re=0,ae=R,ue=A-P*R,de=a-D*A,ee=O,X=b-P*O,Q=N-D*b;for(re=0;re<T;++re){for(j=0;j<D;++j){for(G=0;G<P;++G)M[u]=y[S],u+=ae,S+=ee;u+=ue,S+=X}u+=de,S+=Q}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(d,M,g,u,y,C,S){var D=d[0],T=d[1],P=d[2],A=g[0],a=g[1],R=g[2],b=C[0],N=C[1],O=C[2];u|=0,S|=0;var Y=0,B=0,W=0,H=R,U=A-P*R,G=a-D*A,j=O,re=b-P*O,ae=N-D*b;for(W=0;W<T;++W){for(B=0;B<D;++B){for(Y=0;Y<P;++Y)M[u]=y[S],u+=H,S+=j;u+=U,S+=re}u+=G,S+=ae}}}};function r(x,d){var M=d.join(","),g=t[M];return g()}var l=r,i={mul:function(x){var d={};return function(g,u,y){var C=g.dtype,S=g.order,D=u.dtype,T=u.order,P=y.dtype,A=y.order,a=[C,S.join(),D,T.join(),P,A.join()].join(),R=d[a];return R||(d[a]=R=x([C,S,D,T,P,A])),R(g.shape.slice(0),g.data,g.stride,g.offset|0,u.data,u.stride,u.offset|0,y.data,y.stride,y.offset|0)}},muls:function(x){var d={};return function(g,u,y){var C=g.dtype,S=g.order,D=u.dtype,T=u.order,P=[C,S.join(),D,T.join()].join(),A=d[P];return A||(d[P]=A=x([C,S,D,T])),A(g.shape.slice(0),g.data,g.stride,g.offset|0,u.data,u.stride,u.offset|0,y)}},mulseq:function(x){var d={};return function(g,u){var y=g.dtype,C=g.order,S=[y,C.join()].join(),D=d[S];return D||(d[S]=D=x([y,C])),D(g.shape.slice(0),g.data,g.stride,g.offset|0,u)}},div:function(x){var d={};return function(g,u,y){var C=g.dtype,S=g.order,D=u.dtype,T=u.order,P=y.dtype,A=y.order,a=[C,S.join(),D,T.join(),P,A.join()].join(),R=d[a];return R||(d[a]=R=x([C,S,D,T,P,A])),R(g.shape.slice(0),g.data,g.stride,g.offset|0,u.data,u.stride,u.offset|0,y.data,y.stride,y.offset|0)}},divs:function(x){var d={};return function(g,u,y){var C=g.dtype,S=g.order,D=u.dtype,T=u.order,P=[C,S.join(),D,T.join()].join(),A=d[P];return A||(d[P]=A=x([C,S,D,T])),A(g.shape.slice(0),g.data,g.stride,g.offset|0,u.data,u.stride,u.offset|0,y)}},divseq:function(x){var d={};return function(g,u){var y=g.dtype,C=g.order,S=[y,C.join()].join(),D=d[S];return D||(d[S]=D=x([y,C])),D(g.shape.slice(0),g.data,g.stride,g.offset|0,u)}},assign:function(x){var d={};return function(g,u){var y=g.dtype,C=g.order,S=u.dtype,D=u.order,T=[y,C.join(),S,D.join()].join(),P=d[T];return P||(d[T]=P=x([y,C,S,D])),P(g.shape.slice(0),g.data,g.stride,g.offset|0,u.data,u.stride,u.offset|0)}}};function f(x){var d=i[x.funcName];return d(l.bind(void 0,x))}function v(x){return f({funcName:x.funcName})}var c={mul:"*",div:"/"};(function(){for(var x in c)m[x]=v({funcName:x}),m[x+"s"]=v({funcName:x+"s"}),m[x+"seq"]=v({funcName:x+"seq"})})(),m.assign=v({funcName:"assign"})},7382:function(p,m,t){var r=t(5050),l=t(9262);p.exports=function(f,v){for(var c=[],x=f,d=1;Array.isArray(x);)c.push(x.length),d*=x.length,x=x[0];return c.length===0?r():(v||(v=r(new Float64Array(d),c)),l(v,f),v)}},9262:function(p){function m(){return function(v,c,x,d,M){var g=v[0],u=v[1],y=v[2],C=x[0],S=x[1],D=x[2],T=[0,0,0];d|=0;var P=0,A=0,a=0,R=D,b=S-y*D,N=C-u*S;for(a=0;a<g;++a){for(A=0;A<u;++A){for(P=0;P<y;++P){{var O=M,Y;for(Y=0;Y<T.length-1;++Y)O=O[T[Y]];c[d]=O[T[T.length-1]]}d+=R,++T[2]}d+=b,T[2]-=y,++T[1]}d+=N,T[1]-=u,++T[0]}}}function t(){return m()}var r=t;function l(v){var c={};return function(d,M){var g=d.dtype,u=d.order,y=[g,u.join()].join(),C=c[y];return C||(c[y]=C=v([g,u])),C(d.shape.slice(0),d.data,d.stride,d.offset|0,M)}}function i(v){return l(r.bind(void 0,v))}function f(v){return i({funcName:v.funcName})}p.exports=f({funcName:"convert"})},8139:function(p,m,t){var r=t(5306);function l(M){switch(M){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var i={"uint32,1,0":function(M,g){return function(y,C,S,D,T,P,A,a,R,b,N){var O,Y,B,W=y*T+D,H,U=M(a),G,j,re,ae;for(O=y+1;O<=C;++O){for(Y=O,W+=T,B=W,G=0,j=W,H=0;H<a;++H)U[G++]=S[j],j+=R;e:for(;Y-- >y;){G=0,j=B-T;t:for(H=0;H<a;++H){if(re=S[j],ae=U[G],re<ae)break e;if(re>ae)break t;j+=b,G+=N}for(G=B,j=B-T,H=0;H<a;++H)S[G]=S[j],G+=R,j+=R;B-=T}for(G=B,j=0,H=0;H<a;++H)S[G]=U[j++],G+=R}g(U)}}};function f(M,g){var u=l(g),y=[g,M].join(","),C=i[y];return u?C(u[0],u[1]):C()}var v={"uint32,1,0":function(M,g,u){return function y(C,S,D,T,P,A,a,R,b,N,O){var Y=(S-C+1)/6|0,B=C+Y,W=S-Y,H=C+S>>1,U=H-Y,G=H+Y,j=B,re=U,ae=H,ue=G,de=W,ee=C+1,X=S-1,Q=!0,$,ne,fe,te,q,he,se,pe,we,Ee=0,Me=0,Be=0,Ne,Ce,Te,Le,Ve,We,Fe,Ge,it,qe,$e,tt,vt,dt,gt,Mt,Ct=R,Wt=g(Ct),Xe=g(Ct);Ce=P*j,Te=P*re,Mt=T;e:for(Ne=0;Ne<R;++Ne){if(se=Ce+Mt,pe=Te+Mt,Be=D[se]-D[pe],Be>0){ne=j,j=re,re=ne;break e}if(Be<0)break e;Mt+=N}Ce=P*ue,Te=P*de,Mt=T;e:for(Ne=0;Ne<R;++Ne){if(se=Ce+Mt,pe=Te+Mt,Be=D[se]-D[pe],Be>0){ne=ue,ue=de,de=ne;break e}if(Be<0)break e;Mt+=N}Ce=P*j,Te=P*ae,Mt=T;e:for(Ne=0;Ne<R;++Ne){if(se=Ce+Mt,pe=Te+Mt,Be=D[se]-D[pe],Be>0){ne=j,j=ae,ae=ne;break e}if(Be<0)break e;Mt+=N}Ce=P*re,Te=P*ae,Mt=T;e:for(Ne=0;Ne<R;++Ne){if(se=Ce+Mt,pe=Te+Mt,Be=D[se]-D[pe],Be>0){ne=re,re=ae,ae=ne;break e}if(Be<0)break e;Mt+=N}Ce=P*j,Te=P*ue,Mt=T;e:for(Ne=0;Ne<R;++Ne){if(se=Ce+Mt,pe=Te+Mt,Be=D[se]-D[pe],Be>0){ne=j,j=ue,ue=ne;break e}if(Be<0)break e;Mt+=N}Ce=P*ae,Te=P*ue,Mt=T;e:for(Ne=0;Ne<R;++Ne){if(se=Ce+Mt,pe=Te+Mt,Be=D[se]-D[pe],Be>0){ne=ae,ae=ue,ue=ne;break e}if(Be<0)break e;Mt+=N}Ce=P*re,Te=P*de,Mt=T;e:for(Ne=0;Ne<R;++Ne){if(se=Ce+Mt,pe=Te+Mt,Be=D[se]-D[pe],Be>0){ne=re,re=de,de=ne;break e}if(Be<0)break e;Mt+=N}Ce=P*re,Te=P*ae,Mt=T;e:for(Ne=0;Ne<R;++Ne){if(se=Ce+Mt,pe=Te+Mt,Be=D[se]-D[pe],Be>0){ne=re,re=ae,ae=ne;break e}if(Be<0)break e;Mt+=N}Ce=P*ue,Te=P*de,Mt=T;e:for(Ne=0;Ne<R;++Ne){if(se=Ce+Mt,pe=Te+Mt,Be=D[se]-D[pe],Be>0){ne=ue,ue=de,de=ne;break e}if(Be<0)break e;Mt+=N}for(Ce=P*j,Te=P*re,Le=P*ae,Ve=P*ue,We=P*de,Fe=P*B,Ge=P*H,it=P*W,gt=0,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,we=Le+Mt,qe=Ve+Mt,$e=We+Mt,tt=Fe+Mt,vt=Ge+Mt,dt=it+Mt,Wt[gt]=D[pe],Xe[gt]=D[qe],Q=Q&&Wt[gt]===Xe[gt],fe=D[se],te=D[we],q=D[$e],D[tt]=fe,D[vt]=te,D[dt]=q,++gt,Mt+=b;for(Ce=P*U,Te=P*C,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,D[se]=D[pe],Mt+=b;for(Ce=P*G,Te=P*S,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,D[se]=D[pe],Mt+=b;if(Q)for(he=ee;he<=X;++he){se=T+he*P,gt=0;e:for(Ne=0;Ne<R;++Ne){if(Be=D[se]-Wt[gt],Be!==0)break e;gt+=O,se+=N}if(Be!==0)if(Be<0){if(he!==ee)for(Ce=P*he,Te=P*ee,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,$=D[se],D[se]=D[pe],D[pe]=$,Mt+=b;++ee}else for(;;){se=T+X*P,gt=0;e:for(Ne=0;Ne<R;++Ne){if(Be=D[se]-Wt[gt],Be!==0)break e;gt+=O,se+=N}if(Be>0)X--;else if(Be<0){for(Ce=P*he,Te=P*ee,Le=P*X,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,we=Le+Mt,$=D[se],D[se]=D[pe],D[pe]=D[we],D[we]=$,Mt+=b;++ee,--X;break}else{for(Ce=P*he,Te=P*X,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,$=D[se],D[se]=D[pe],D[pe]=$,Mt+=b;--X;break}}}else for(he=ee;he<=X;++he){se=T+he*P,gt=0;e:for(Ne=0;Ne<R;++Ne){if(Ee=D[se]-Wt[gt],Ee!==0)break e;gt+=O,se+=N}if(Ee<0){if(he!==ee)for(Ce=P*he,Te=P*ee,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,$=D[se],D[se]=D[pe],D[pe]=$,Mt+=b;++ee}else{se=T+he*P,gt=0;e:for(Ne=0;Ne<R;++Ne){if(Me=D[se]-Xe[gt],Me!==0)break e;gt+=O,se+=N}if(Me>0)for(;;){se=T+X*P,gt=0;e:for(Ne=0;Ne<R;++Ne){if(Be=D[se]-Xe[gt],Be!==0)break e;gt+=O,se+=N}if(Be>0){if(--X<he)break;continue}else{se=T+X*P,gt=0;e:for(Ne=0;Ne<R;++Ne){if(Be=D[se]-Wt[gt],Be!==0)break e;gt+=O,se+=N}if(Be<0){for(Ce=P*he,Te=P*ee,Le=P*X,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,we=Le+Mt,$=D[se],D[se]=D[pe],D[pe]=D[we],D[we]=$,Mt+=b;++ee,--X}else{for(Ce=P*he,Te=P*X,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,$=D[se],D[se]=D[pe],D[pe]=$,Mt+=b;--X}break}}}}for(Ce=P*C,Te=P*(ee-1),gt=0,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,D[se]=D[pe],D[pe]=Wt[gt],++gt,Mt+=b;for(Ce=P*S,Te=P*(X+1),gt=0,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,D[se]=D[pe],D[pe]=Xe[gt],++gt,Mt+=b;if(ee-2-C<=32?M(C,ee-2,D,T,P,A,a,R,b,N,O):y(C,ee-2,D,T,P,A,a,R,b,N,O),S-(X+2)<=32?M(X+2,S,D,T,P,A,a,R,b,N,O):y(X+2,S,D,T,P,A,a,R,b,N,O),Q){u(Wt),u(Xe);return}if(ee<B&&X>W){e:for(;;){for(se=T+ee*P,gt=0,Mt=T,Ne=0;Ne<R;++Ne){if(D[se]!==Wt[gt])break e;++gt,se+=b}++ee}e:for(;;){for(se=T+X*P,gt=0,Mt=T,Ne=0;Ne<R;++Ne){if(D[se]!==Xe[gt])break e;++gt,se+=b}--X}for(he=ee;he<=X;++he){se=T+he*P,gt=0;e:for(Ne=0;Ne<R;++Ne){if(Ee=D[se]-Wt[gt],Ee!==0)break e;gt+=O,se+=N}if(Ee===0){if(he!==ee)for(Ce=P*he,Te=P*ee,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,$=D[se],D[se]=D[pe],D[pe]=$,Mt+=b;++ee}else{se=T+he*P,gt=0;e:for(Ne=0;Ne<R;++Ne){if(Me=D[se]-Xe[gt],Me!==0)break e;gt+=O,se+=N}if(Me===0)for(;;){se=T+X*P,gt=0;e:for(Ne=0;Ne<R;++Ne){if(Be=D[se]-Xe[gt],Be!==0)break e;gt+=O,se+=N}if(Be===0){if(--X<he)break;continue}else{se=T+X*P,gt=0;e:for(Ne=0;Ne<R;++Ne){if(Be=D[se]-Wt[gt],Be!==0)break e;gt+=O,se+=N}if(Be<0){for(Ce=P*he,Te=P*ee,Le=P*X,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,we=Le+Mt,$=D[se],D[se]=D[pe],D[pe]=D[we],D[we]=$,Mt+=b;++ee,--X}else{for(Ce=P*he,Te=P*X,Mt=T,Ne=0;Ne<R;++Ne)se=Ce+Mt,pe=Te+Mt,$=D[se],D[se]=D[pe],D[pe]=$,Mt+=b;--X}break}}}}}u(Wt),u(Xe),X-ee<=32?M(ee,X,D,T,P,A,a,R,b,N,O):y(ee,X,D,T,P,A,a,R,b,N,O)}}};function c(M,g,u){var y=l(g),C=[g,M].join(","),S=v[C];return M.length>1&&y?S(u,y[0],y[1]):S(u)}var x={"uint32,1,0":function(M,g){return function(u){var y=u.data,C=u.offset|0,S=u.shape,D=u.stride,T=D[0]|0,P=S[0]|0,A=D[1]|0,a=S[1]|0,R=A,b=A,N=1;P<=32?M(0,P-1,y,C,T,A,P,a,R,b,N):g(0,P-1,y,C,T,A,P,a,R,b,N)}}};function d(M,g){var u=[g,M].join(","),y=x[u],C=f(M,g),S=c(M,g,C);return y(C,S)}p.exports=d},8729:function(p,m,t){var r=t(8139),l={};function i(f){var v=f.order,c=f.dtype,x=[v,c],d=x.join(":"),M=l[d];return M||(l[d]=M=r(v,c)),M(f),f}p.exports=i},5050:function(p,m,t){var r=t(4780),l=typeof Float64Array<"u";function i(g,u){return g[0]-u[0]}function f(){var g=this.stride,u=new Array(g.length),y;for(y=0;y<u.length;++y)u[y]=[Math.abs(g[y]),y];u.sort(i);var C=new Array(u.length);for(y=0;y<C.length;++y)C[y]=u[y][1];return C}var v={T:function(g){function u(C){this.data=C}var y=u.prototype;return y.dtype=g,y.index=function(){return-1},y.size=0,y.dimension=-1,y.shape=y.stride=y.order=[],y.lo=y.hi=y.transpose=y.step=function(){return new u(this.data)},y.get=y.set=function(){},y.pick=function(){return null},function(S){return new u(S)}},0:function(g,u){function y(S,D){this.data=S,this.offset=D}var C=y.prototype;return C.dtype=g,C.index=function(){return this.offset},C.dimension=0,C.size=1,C.shape=C.stride=C.order=[],C.lo=C.hi=C.transpose=C.step=function(){return new y(this.data,this.offset)},C.pick=function(){return u(this.data)},C.valueOf=C.get=function(){return g==="generic"?this.data.get(this.offset):this.data[this.offset]},C.set=function(D){return g==="generic"?this.data.set(this.offset,D):this.data[this.offset]=D},function(D,T,P,A){return new y(D,A)}},1:function(g,u,y){function C(D,T,P,A){this.data=D,this.shape=[T],this.stride=[P],this.offset=A|0}var S=C.prototype;return S.dtype=g,S.dimension=1,Object.defineProperty(S,"size",{get:function(){return this.shape[0]}}),S.order=[0],S.set=function(T,P){return g==="generic"?this.data.set(this.offset+this.stride[0]*T,P):this.data[this.offset+this.stride[0]*T]=P},S.get=function(T){return g==="generic"?this.data.get(this.offset+this.stride[0]*T):this.data[this.offset+this.stride[0]*T]},S.index=function(T){return this.offset+this.stride[0]*T},S.hi=function(T){return new C(this.data,typeof T!="number"||T<0?this.shape[0]:T|0,this.stride[0],this.offset)},S.lo=function(T){var P=this.offset,A=0,a=this.shape[0],R=this.stride[0];return typeof T=="number"&&T>=0&&(A=T|0,P+=R*A,a-=A),new C(this.data,a,R,P)},S.step=function(T){var P=this.shape[0],A=this.stride[0],a=this.offset,R=0,b=Math.ceil;return typeof T=="number"&&(R=T|0,R<0?(a+=A*(P-1),P=b(-P/R)):P=b(P/R),A*=R),new C(this.data,P,A,a)},S.transpose=function(T){T=T===void 0?0:T|0;var P=this.shape,A=this.stride;return new C(this.data,P[T],A[T],this.offset)},S.pick=function(T){var P=[],A=[],a=this.offset;typeof T=="number"&&T>=0?a=a+this.stride[0]*T|0:(P.push(this.shape[0]),A.push(this.stride[0]));var R=u[P.length+1];return R(this.data,P,A,a)},function(T,P,A,a){return new C(T,P[0],A[0],a)}},2:function(g,u,y){function C(D,T,P,A,a,R){this.data=D,this.shape=[T,P],this.stride=[A,a],this.offset=R|0}var S=C.prototype;return S.dtype=g,S.dimension=2,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(S,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),S.set=function(T,P,A){return g==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*P,A):this.data[this.offset+this.stride[0]*T+this.stride[1]*P]=A},S.get=function(T,P){return g==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*P):this.data[this.offset+this.stride[0]*T+this.stride[1]*P]},S.index=function(T,P){return this.offset+this.stride[0]*T+this.stride[1]*P},S.hi=function(T,P){return new C(this.data,typeof T!="number"||T<0?this.shape[0]:T|0,typeof P!="number"||P<0?this.shape[1]:P|0,this.stride[0],this.stride[1],this.offset)},S.lo=function(T,P){var A=this.offset,a=0,R=this.shape[0],b=this.shape[1],N=this.stride[0],O=this.stride[1];return typeof T=="number"&&T>=0&&(a=T|0,A+=N*a,R-=a),typeof P=="number"&&P>=0&&(a=P|0,A+=O*a,b-=a),new C(this.data,R,b,N,O,A)},S.step=function(T,P){var A=this.shape[0],a=this.shape[1],R=this.stride[0],b=this.stride[1],N=this.offset,O=0,Y=Math.ceil;return typeof T=="number"&&(O=T|0,O<0?(N+=R*(A-1),A=Y(-A/O)):A=Y(A/O),R*=O),typeof P=="number"&&(O=P|0,O<0?(N+=b*(a-1),a=Y(-a/O)):a=Y(a/O),b*=O),new C(this.data,A,a,R,b,N)},S.transpose=function(T,P){T=T===void 0?0:T|0,P=P===void 0?1:P|0;var A=this.shape,a=this.stride;return new C(this.data,A[T],A[P],a[T],a[P],this.offset)},S.pick=function(T,P){var A=[],a=[],R=this.offset;typeof T=="number"&&T>=0?R=R+this.stride[0]*T|0:(A.push(this.shape[0]),a.push(this.stride[0])),typeof P=="number"&&P>=0?R=R+this.stride[1]*P|0:(A.push(this.shape[1]),a.push(this.stride[1]));var b=u[A.length+1];return b(this.data,A,a,R)},function(T,P,A,a){return new C(T,P[0],P[1],A[0],A[1],a)}},3:function(g,u,y){function C(D,T,P,A,a,R,b,N){this.data=D,this.shape=[T,P,A],this.stride=[a,R,b],this.offset=N|0}var S=C.prototype;return S.dtype=g,S.dimension=3,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(S,"order",{get:function(){var T=Math.abs(this.stride[0]),P=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return T>P?P>A?[2,1,0]:T>A?[1,2,0]:[1,0,2]:T>A?[2,0,1]:A>P?[0,1,2]:[0,2,1]}}),S.set=function(T,P,A,a){return g==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*P+this.stride[2]*A,a):this.data[this.offset+this.stride[0]*T+this.stride[1]*P+this.stride[2]*A]=a},S.get=function(T,P,A){return g==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*P+this.stride[2]*A):this.data[this.offset+this.stride[0]*T+this.stride[1]*P+this.stride[2]*A]},S.index=function(T,P,A){return this.offset+this.stride[0]*T+this.stride[1]*P+this.stride[2]*A},S.hi=function(T,P,A){return new C(this.data,typeof T!="number"||T<0?this.shape[0]:T|0,typeof P!="number"||P<0?this.shape[1]:P|0,typeof A!="number"||A<0?this.shape[2]:A|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},S.lo=function(T,P,A){var a=this.offset,R=0,b=this.shape[0],N=this.shape[1],O=this.shape[2],Y=this.stride[0],B=this.stride[1],W=this.stride[2];return typeof T=="number"&&T>=0&&(R=T|0,a+=Y*R,b-=R),typeof P=="number"&&P>=0&&(R=P|0,a+=B*R,N-=R),typeof A=="number"&&A>=0&&(R=A|0,a+=W*R,O-=R),new C(this.data,b,N,O,Y,B,W,a)},S.step=function(T,P,A){var a=this.shape[0],R=this.shape[1],b=this.shape[2],N=this.stride[0],O=this.stride[1],Y=this.stride[2],B=this.offset,W=0,H=Math.ceil;return typeof T=="number"&&(W=T|0,W<0?(B+=N*(a-1),a=H(-a/W)):a=H(a/W),N*=W),typeof P=="number"&&(W=P|0,W<0?(B+=O*(R-1),R=H(-R/W)):R=H(R/W),O*=W),typeof A=="number"&&(W=A|0,W<0?(B+=Y*(b-1),b=H(-b/W)):b=H(b/W),Y*=W),new C(this.data,a,R,b,N,O,Y,B)},S.transpose=function(T,P,A){T=T===void 0?0:T|0,P=P===void 0?1:P|0,A=A===void 0?2:A|0;var a=this.shape,R=this.stride;return new C(this.data,a[T],a[P],a[A],R[T],R[P],R[A],this.offset)},S.pick=function(T,P,A){var a=[],R=[],b=this.offset;typeof T=="number"&&T>=0?b=b+this.stride[0]*T|0:(a.push(this.shape[0]),R.push(this.stride[0])),typeof P=="number"&&P>=0?b=b+this.stride[1]*P|0:(a.push(this.shape[1]),R.push(this.stride[1])),typeof A=="number"&&A>=0?b=b+this.stride[2]*A|0:(a.push(this.shape[2]),R.push(this.stride[2]));var N=u[a.length+1];return N(this.data,a,R,b)},function(T,P,A,a){return new C(T,P[0],P[1],P[2],A[0],A[1],A[2],a)}},4:function(g,u,y){function C(D,T,P,A,a,R,b,N,O,Y){this.data=D,this.shape=[T,P,A,a],this.stride=[R,b,N,O],this.offset=Y|0}var S=C.prototype;return S.dtype=g,S.dimension=4,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(S,"order",{get:y}),S.set=function(T,P,A,a,R){return g==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*P+this.stride[2]*A+this.stride[3]*a,R):this.data[this.offset+this.stride[0]*T+this.stride[1]*P+this.stride[2]*A+this.stride[3]*a]=R},S.get=function(T,P,A,a){return g==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*P+this.stride[2]*A+this.stride[3]*a):this.data[this.offset+this.stride[0]*T+this.stride[1]*P+this.stride[2]*A+this.stride[3]*a]},S.index=function(T,P,A,a){return this.offset+this.stride[0]*T+this.stride[1]*P+this.stride[2]*A+this.stride[3]*a},S.hi=function(T,P,A,a){return new C(this.data,typeof T!="number"||T<0?this.shape[0]:T|0,typeof P!="number"||P<0?this.shape[1]:P|0,typeof A!="number"||A<0?this.shape[2]:A|0,typeof a!="number"||a<0?this.shape[3]:a|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},S.lo=function(T,P,A,a){var R=this.offset,b=0,N=this.shape[0],O=this.shape[1],Y=this.shape[2],B=this.shape[3],W=this.stride[0],H=this.stride[1],U=this.stride[2],G=this.stride[3];return typeof T=="number"&&T>=0&&(b=T|0,R+=W*b,N-=b),typeof P=="number"&&P>=0&&(b=P|0,R+=H*b,O-=b),typeof A=="number"&&A>=0&&(b=A|0,R+=U*b,Y-=b),typeof a=="number"&&a>=0&&(b=a|0,R+=G*b,B-=b),new C(this.data,N,O,Y,B,W,H,U,G,R)},S.step=function(T,P,A,a){var R=this.shape[0],b=this.shape[1],N=this.shape[2],O=this.shape[3],Y=this.stride[0],B=this.stride[1],W=this.stride[2],H=this.stride[3],U=this.offset,G=0,j=Math.ceil;return typeof T=="number"&&(G=T|0,G<0?(U+=Y*(R-1),R=j(-R/G)):R=j(R/G),Y*=G),typeof P=="number"&&(G=P|0,G<0?(U+=B*(b-1),b=j(-b/G)):b=j(b/G),B*=G),typeof A=="number"&&(G=A|0,G<0?(U+=W*(N-1),N=j(-N/G)):N=j(N/G),W*=G),typeof a=="number"&&(G=a|0,G<0?(U+=H*(O-1),O=j(-O/G)):O=j(O/G),H*=G),new C(this.data,R,b,N,O,Y,B,W,H,U)},S.transpose=function(T,P,A,a){T=T===void 0?0:T|0,P=P===void 0?1:P|0,A=A===void 0?2:A|0,a=a===void 0?3:a|0;var R=this.shape,b=this.stride;return new C(this.data,R[T],R[P],R[A],R[a],b[T],b[P],b[A],b[a],this.offset)},S.pick=function(T,P,A,a){var R=[],b=[],N=this.offset;typeof T=="number"&&T>=0?N=N+this.stride[0]*T|0:(R.push(this.shape[0]),b.push(this.stride[0])),typeof P=="number"&&P>=0?N=N+this.stride[1]*P|0:(R.push(this.shape[1]),b.push(this.stride[1])),typeof A=="number"&&A>=0?N=N+this.stride[2]*A|0:(R.push(this.shape[2]),b.push(this.stride[2])),typeof a=="number"&&a>=0?N=N+this.stride[3]*a|0:(R.push(this.shape[3]),b.push(this.stride[3]));var O=u[R.length+1];return O(this.data,R,b,N)},function(T,P,A,a){return new C(T,P[0],P[1],P[2],P[3],A[0],A[1],A[2],A[3],a)}},5:function(u,y,C){function S(T,P,A,a,R,b,N,O,Y,B,W,H){this.data=T,this.shape=[P,A,a,R,b],this.stride=[N,O,Y,B,W],this.offset=H|0}var D=S.prototype;return D.dtype=u,D.dimension=5,Object.defineProperty(D,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(D,"order",{get:C}),D.set=function(P,A,a,R,b,N){return u==="generic"?this.data.set(this.offset+this.stride[0]*P+this.stride[1]*A+this.stride[2]*a+this.stride[3]*R+this.stride[4]*b,N):this.data[this.offset+this.stride[0]*P+this.stride[1]*A+this.stride[2]*a+this.stride[3]*R+this.stride[4]*b]=N},D.get=function(P,A,a,R,b){return u==="generic"?this.data.get(this.offset+this.stride[0]*P+this.stride[1]*A+this.stride[2]*a+this.stride[3]*R+this.stride[4]*b):this.data[this.offset+this.stride[0]*P+this.stride[1]*A+this.stride[2]*a+this.stride[3]*R+this.stride[4]*b]},D.index=function(P,A,a,R,b){return this.offset+this.stride[0]*P+this.stride[1]*A+this.stride[2]*a+this.stride[3]*R+this.stride[4]*b},D.hi=function(P,A,a,R,b){return new S(this.data,typeof P!="number"||P<0?this.shape[0]:P|0,typeof A!="number"||A<0?this.shape[1]:A|0,typeof a!="number"||a<0?this.shape[2]:a|0,typeof R!="number"||R<0?this.shape[3]:R|0,typeof b!="number"||b<0?this.shape[4]:b|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},D.lo=function(P,A,a,R,b){var N=this.offset,O=0,Y=this.shape[0],B=this.shape[1],W=this.shape[2],H=this.shape[3],U=this.shape[4],G=this.stride[0],j=this.stride[1],re=this.stride[2],ae=this.stride[3],ue=this.stride[4];return typeof P=="number"&&P>=0&&(O=P|0,N+=G*O,Y-=O),typeof A=="number"&&A>=0&&(O=A|0,N+=j*O,B-=O),typeof a=="number"&&a>=0&&(O=a|0,N+=re*O,W-=O),typeof R=="number"&&R>=0&&(O=R|0,N+=ae*O,H-=O),typeof b=="number"&&b>=0&&(O=b|0,N+=ue*O,U-=O),new S(this.data,Y,B,W,H,U,G,j,re,ae,ue,N)},D.step=function(P,A,a,R,b){var N=this.shape[0],O=this.shape[1],Y=this.shape[2],B=this.shape[3],W=this.shape[4],H=this.stride[0],U=this.stride[1],G=this.stride[2],j=this.stride[3],re=this.stride[4],ae=this.offset,ue=0,de=Math.ceil;return typeof P=="number"&&(ue=P|0,ue<0?(ae+=H*(N-1),N=de(-N/ue)):N=de(N/ue),H*=ue),typeof A=="number"&&(ue=A|0,ue<0?(ae+=U*(O-1),O=de(-O/ue)):O=de(O/ue),U*=ue),typeof a=="number"&&(ue=a|0,ue<0?(ae+=G*(Y-1),Y=de(-Y/ue)):Y=de(Y/ue),G*=ue),typeof R=="number"&&(ue=R|0,ue<0?(ae+=j*(B-1),B=de(-B/ue)):B=de(B/ue),j*=ue),typeof b=="number"&&(ue=b|0,ue<0?(ae+=re*(W-1),W=de(-W/ue)):W=de(W/ue),re*=ue),new S(this.data,N,O,Y,B,W,H,U,G,j,re,ae)},D.transpose=function(P,A,a,R,b){P=P===void 0?0:P|0,A=A===void 0?1:A|0,a=a===void 0?2:a|0,R=R===void 0?3:R|0,b=b===void 0?4:b|0;var N=this.shape,O=this.stride;return new S(this.data,N[P],N[A],N[a],N[R],N[b],O[P],O[A],O[a],O[R],O[b],this.offset)},D.pick=function(P,A,a,R,b){var N=[],O=[],Y=this.offset;typeof P=="number"&&P>=0?Y=Y+this.stride[0]*P|0:(N.push(this.shape[0]),O.push(this.stride[0])),typeof A=="number"&&A>=0?Y=Y+this.stride[1]*A|0:(N.push(this.shape[1]),O.push(this.stride[1])),typeof a=="number"&&a>=0?Y=Y+this.stride[2]*a|0:(N.push(this.shape[2]),O.push(this.stride[2])),typeof R=="number"&&R>=0?Y=Y+this.stride[3]*R|0:(N.push(this.shape[3]),O.push(this.stride[3])),typeof b=="number"&&b>=0?Y=Y+this.stride[4]*b|0:(N.push(this.shape[4]),O.push(this.stride[4]));var B=y[N.length+1];return B(this.data,N,O,Y)},function(P,A,a,R){return new S(P,A[0],A[1],A[2],A[3],A[4],a[0],a[1],a[2],a[3],a[4],R)}}};function c(g,u){var y=u===-1?"T":String(u),C=v[y];return u===-1?C(g):u===0?C(g,d[g][0]):C(g,d[g],f)}function x(g){if(r(g))return"buffer";if(l)switch(Object.prototype.toString.call(g)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(g)?"array":"generic"}var d={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function M(g,u,y,C){if(g===void 0){var a=d.array[0];return a([])}else typeof g=="number"&&(g=[g]);u===void 0&&(u=[g.length]);var S=u.length;if(y===void 0){y=new Array(S);for(var D=S-1,T=1;D>=0;--D)y[D]=T,T*=u[D]}if(C===void 0){C=0;for(var D=0;D<S;++D)y[D]<0&&(C-=(u[D]-1)*y[D])}for(var P=x(g),A=d[P];A.length<=S+1;)A.push(c(P,A.length-1));var a=A[S+1];return a(g,u,y,C)}p.exports=M},8551:function(p,m,t){var r=t(8362),l=Math.pow(2,-1074),i=-1>>>0;p.exports=f;function f(v,c){if(isNaN(v)||isNaN(c))return NaN;if(v===c)return v;if(v===0)return c<0?-l:l;var x=r.hi(v),d=r.lo(v);return c>v==v>0?d===i?(x+=1,d=0):d+=1:d===0?(d=i,x-=1):d-=1,r.pack(d,x)}},115:function(p,m){var t=1e-6,r=1e-6;m.vertexNormals=function(l,i,f){for(var v=i.length,c=new Array(v),x=f===void 0?t:f,d=0;d<v;++d)c[d]=[0,0,0];for(var d=0;d<l.length;++d)for(var M=l[d],g=0,u=M[M.length-1],y=M[0],C=0;C<M.length;++C){g=u,u=y,y=M[(C+1)%M.length];for(var S=i[g],D=i[u],T=i[y],P=new Array(3),A=0,a=new Array(3),R=0,b=0;b<3;++b)P[b]=S[b]-D[b],A+=P[b]*P[b],a[b]=T[b]-D[b],R+=a[b]*a[b];if(A*R>x)for(var N=c[u],O=1/Math.sqrt(A*R),b=0;b<3;++b){var Y=(b+1)%3,B=(b+2)%3;N[b]+=O*(a[Y]*P[B]-a[B]*P[Y])}}for(var d=0;d<v;++d){for(var N=c[d],W=0,b=0;b<3;++b)W+=N[b]*N[b];if(W>x)for(var O=1/Math.sqrt(W),b=0;b<3;++b)N[b]*=O;else for(var b=0;b<3;++b)N[b]=0}return c},m.faceNormals=function(l,i,f){for(var v=l.length,c=new Array(v),x=f===void 0?r:f,d=0;d<v;++d){for(var M=l[d],g=new Array(3),u=0;u<3;++u)g[u]=i[M[u]];for(var y=new Array(3),C=new Array(3),u=0;u<3;++u)y[u]=g[1][u]-g[0][u],C[u]=g[2][u]-g[0][u];for(var S=new Array(3),D=0,u=0;u<3;++u){var T=(u+1)%3,P=(u+2)%3;S[u]=y[T]*C[P]-y[P]*C[T],D+=S[u]*S[u]}D>x?D=1/Math.sqrt(D):D=0;for(var u=0;u<3;++u)S[u]*=D;c[d]=S}return c}},567:function(p){p.exports=m;function m(t,r,l,i,f,v,c,x,d,M){var g=r+v+M;if(u>0){var u=Math.sqrt(g+1);t[0]=.5*(c-d)/u,t[1]=.5*(x-i)/u,t[2]=.5*(l-v)/u,t[3]=.5*u}else{var y=Math.max(r,v,M),u=Math.sqrt(2*y-g+1);r>=y?(t[0]=.5*u,t[1]=.5*(f+l)/u,t[2]=.5*(x+i)/u,t[3]=.5*(c-d)/u):v>=y?(t[0]=.5*(l+f)/u,t[1]=.5*u,t[2]=.5*(d+c)/u,t[3]=.5*(x-i)/u):(t[0]=.5*(i+x)/u,t[1]=.5*(c+d)/u,t[2]=.5*u,t[3]=.5*(l-f)/u)}return t}},7774:function(p,m,t){p.exports=u;var r=t(8444),l=t(3012),i=t(5950),f=t(7437),v=t(567);function c(y,C,S){return Math.sqrt(Math.pow(y,2)+Math.pow(C,2)+Math.pow(S,2))}function x(y,C,S,D){return Math.sqrt(Math.pow(y,2)+Math.pow(C,2)+Math.pow(S,2)+Math.pow(D,2))}function d(y,C){var S=C[0],D=C[1],T=C[2],P=C[3],A=x(S,D,T,P);A>1e-6?(y[0]=S/A,y[1]=D/A,y[2]=T/A,y[3]=P/A):(y[0]=y[1]=y[2]=0,y[3]=1)}function M(y,C,S){this.radius=r([S]),this.center=r(C),this.rotation=r(y),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var g=M.prototype;g.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},g.recalcMatrix=function(y){this.radius.curve(y),this.center.curve(y),this.rotation.curve(y);var C=this.computedRotation;d(C,C);var S=this.computedMatrix;i(S,C);var D=this.computedCenter,T=this.computedEye,P=this.computedUp,A=Math.exp(this.computedRadius[0]);T[0]=D[0]+A*S[2],T[1]=D[1]+A*S[6],T[2]=D[2]+A*S[10],P[0]=S[1],P[1]=S[5],P[2]=S[9];for(var a=0;a<3;++a){for(var R=0,b=0;b<3;++b)R+=S[a+4*b]*T[b];S[12+a]=-R}},g.getMatrix=function(y,C){this.recalcMatrix(y);var S=this.computedMatrix;if(C){for(var D=0;D<16;++D)C[D]=S[D];return C}return S},g.idle=function(y){this.center.idle(y),this.radius.idle(y),this.rotation.idle(y)},g.flush=function(y){this.center.flush(y),this.radius.flush(y),this.rotation.flush(y)},g.pan=function(y,C,S,D){C=C||0,S=S||0,D=D||0,this.recalcMatrix(y);var T=this.computedMatrix,P=T[1],A=T[5],a=T[9],R=c(P,A,a);P/=R,A/=R,a/=R;var b=T[0],N=T[4],O=T[8],Y=b*P+N*A+O*a;b-=P*Y,N-=A*Y,O-=a*Y;var B=c(b,N,O);b/=B,N/=B,O/=B,T[2],T[6],T[10];var W=b*C+P*S,H=N*C+A*S,U=O*C+a*S;this.center.move(y,W,H,U);var G=Math.exp(this.computedRadius[0]);G=Math.max(1e-4,G+D),this.radius.set(y,Math.log(G))},g.rotate=function(y,C,S,D){this.recalcMatrix(y),C=C||0,S=S||0;var T=this.computedMatrix,P=T[0],A=T[4],a=T[8],R=T[1],b=T[5],N=T[9],O=T[2],Y=T[6],B=T[10],W=C*P+S*R,H=C*A+S*b,U=C*a+S*N,G=-(Y*U-B*H),j=-(B*W-O*U),re=-(O*H-Y*W),ae=Math.sqrt(Math.max(0,1-Math.pow(G,2)-Math.pow(j,2)-Math.pow(re,2))),ue=x(G,j,re,ae);ue>1e-6?(G/=ue,j/=ue,re/=ue,ae/=ue):(G=j=re=0,ae=1);var de=this.computedRotation,ee=de[0],X=de[1],Q=de[2],$=de[3],ne=ee*ae+$*G+X*re-Q*j,fe=X*ae+$*j+Q*G-ee*re,te=Q*ae+$*re+ee*j-X*G,q=$*ae-ee*G-X*j-Q*re;if(D){G=O,j=Y,re=B;var he=Math.sin(D)/c(G,j,re);G*=he,j*=he,re*=he,ae=Math.cos(C),ne=ne*ae+q*G+fe*re-te*j,fe=fe*ae+q*j+te*G-ne*re,te=te*ae+q*re+ne*j-fe*G,q=q*ae-ne*G-fe*j-te*re}var se=x(ne,fe,te,q);se>1e-6?(ne/=se,fe/=se,te/=se,q/=se):(ne=fe=te=0,q=1),this.rotation.set(y,ne,fe,te,q)},g.lookAt=function(y,C,S,D){this.recalcMatrix(y),S=S||this.computedCenter,C=C||this.computedEye,D=D||this.computedUp;var T=this.computedMatrix;l(T,C,S,D);var P=this.computedRotation;v(P,T[0],T[1],T[2],T[4],T[5],T[6],T[8],T[9],T[10]),d(P,P),this.rotation.set(y,P[0],P[1],P[2],P[3]);for(var A=0,a=0;a<3;++a)A+=Math.pow(S[a]-C[a],2);this.radius.set(y,.5*Math.log(Math.max(A,1e-6))),this.center.set(y,S[0],S[1],S[2])},g.translate=function(y,C,S,D){this.center.move(y,C||0,S||0,D||0)},g.setMatrix=function(y,C){var S=this.computedRotation;v(S,C[0],C[1],C[2],C[4],C[5],C[6],C[8],C[9],C[10]),d(S,S),this.rotation.set(y,S[0],S[1],S[2],S[3]);var D=this.computedMatrix;f(D,C);var T=D[15];if(Math.abs(T)>1e-6){var P=D[12]/T,A=D[13]/T,a=D[14]/T;this.recalcMatrix(y);var R=Math.exp(this.computedRadius[0]);this.center.set(y,P-D[2]*R,A-D[6]*R,a-D[10]*R),this.radius.idle(y)}else this.center.idle(y),this.radius.idle(y)},g.setDistance=function(y,C){C>0&&this.radius.set(y,Math.log(C))},g.setDistanceLimits=function(y,C){y>0?y=Math.log(y):y=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=C},g.getDistanceLimits=function(y){var C=this.radius.bounds;return y?(y[0]=Math.exp(C[0][0]),y[1]=Math.exp(C[1][0]),y):[Math.exp(C[0][0]),Math.exp(C[1][0])]},g.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},g.fromJSON=function(y){var C=this.lastT(),S=y.center;S&&this.center.set(C,S[0],S[1],S[2]);var D=y.rotation;D&&this.rotation.set(C,D[0],D[1],D[2],D[3]);var T=y.distance;T&&T>0&&this.radius.set(C,Math.log(T)),this.setDistanceLimits(y.zoomMin,y.zoomMax)};function u(y){y=y||{};var C=y.center||[0,0,0],S=y.rotation||[0,0,0,1],D=y.radius||1;C=[].slice.call(C,0,3),S=[].slice.call(S,0,4),d(S,S);var T=new M(S,C,Math.log(D));return T.setDistanceLimits(y.zoomMin,y.zoomMax),("eye"in y||"up"in y)&&T.lookAt(0,y.eye,y.center,y.up),T}},4930:function(p,m,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);p.exports=function(i,f,v){return v=typeof v<"u"?v+"":" ",r(v,f)+i}},4405:function(p){p.exports=function(t,r){r||(r=[0,""]),t=String(t);var l=parseFloat(t,10);return r[0]=l,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(p,m,t){p.exports=l;var r=t(9398);function l(i,f){for(var v=f.length|0,c=i.length,x=[new Array(v),new Array(v)],d=0;d<v;++d)x[0][d]=[],x[1][d]=[];for(var d=0;d<c;++d){var M=i[d];x[0][M[0]].push(M),x[1][M[1]].push(M)}for(var g=[],d=0;d<v;++d)x[0][d].length+x[1][d].length===0&&g.push([d]);function u(A,a){var R=x[a][A[a]];R.splice(R.indexOf(A),1)}function y(A,a,R){for(var b,N,O,Y=0;Y<2;++Y)if(x[Y][a].length>0){b=x[Y][a][0],O=Y;break}N=b[O^1];for(var B=0;B<2;++B)for(var W=x[B][a],H=0;H<W.length;++H){var U=W[H],G=U[B^1],j=r(f[A],f[a],f[N],f[G]);j>0&&(b=U,N=G,O=B)}return R||b&&u(b,O),N}function C(A,a){var R=x[a][A][0],b=[A];u(R,a);for(var N=R[a^1];;){for(;N!==A;)b.push(N),N=y(b[b.length-2],N,!1);if(x[0][A].length+x[1][A].length===0)break;var O=b[b.length-1],Y=A,B=b[1],W=y(O,Y,!0);if(r(f[O],f[Y],f[B],f[W])<0)break;b.push(A),N=y(O,Y)}return b}function S(A,a){return a[1]===a[a.length-1]}for(var d=0;d<v;++d)for(var D=0;D<2;++D){for(var T=[];x[D][d].length>0;){x[0][d].length;var P=C(d,D);S(T,P)?T.push.apply(T,P):(T.length>0&&g.push(T),T=P)}T.length>0&&g.push(T)}return g}},3959:function(p,m,t){p.exports=l;var r=t(8348);function l(i,f){for(var v=r(i,f.length),c=new Array(f.length),x=new Array(f.length),d=[],M=0;M<f.length;++M){var g=v[M].length;x[M]=g,c[M]=!0,g<=1&&d.push(M)}for(;d.length>0;){var u=d.pop();c[u]=!1;for(var y=v[u],M=0;M<y.length;++M){var C=y[M];--x[C]===0&&d.push(C)}}for(var S=new Array(f.length),D=[],M=0;M<f.length;++M)if(c[M]){var u=D.length;S[M]=u,D.push(f[M])}else S[M]=-1;for(var T=[],M=0;M<i.length;++M){var P=i[M];c[P[0]]&&c[P[1]]&&T.push([S[P[0]],S[P[1]]])}return[T,D]}},8040:function(p,m,t){p.exports=g;var r=t(8348),l=t(4166),i=t(211),f=t(9660),v=t(9662),c=t(1215),x=t(3959);function d(u,y){for(var C=new Array(u),S=0;S<u;++S)C[S]=y;return C}function M(u){for(var y=new Array(u),C=0;C<u;++C)y[C]=[];return y}function g(u,y){var q=x(u,y);u=q[0],y=q[1];var C=y.length;u.length;for(var S=r(u,y.length),D=0;D<C;++D)if(S[D].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var T=l(u,y);function P(Be){for(var Ne=Be.length,Ce=[0],Te=0;Te<Ne;++Te){var Le=y[Be[Te]],Ve=y[Be[(Te+1)%Ne]],We=f(-Le[0],Le[1]),Fe=f(-Le[0],Ve[1]),Ge=f(Ve[0],Le[1]),it=f(Ve[0],Ve[1]);Ce=v(Ce,v(v(We,Fe),v(Ge,it)))}return Ce[Ce.length-1]>0}T=T.filter(P);for(var A=T.length,a=new Array(A),R=new Array(A),D=0;D<A;++D){a[D]=D;var b=new Array(A),N=T[D].map(function(Ne){return y[Ne]}),O=i([N]),Y=0;e:for(var B=0;B<A;++B)if(b[B]=0,D!==B){for(var W=T[B],H=W.length,U=0;U<H;++U){var G=O(y[W[U]]);if(G!==0){G<0&&(b[B]=1,Y+=1);continue e}}b[B]=1,Y+=1}R[D]=[Y,D,b]}R.sort(function(Be,Ne){return Ne[0]-Be[0]});for(var D=0;D<A;++D)for(var b=R[D],j=b[1],re=b[2],B=0;B<A;++B)re[B]&&(a[B]=j);for(var ae=M(A),D=0;D<A;++D)ae[D].push(a[D]),ae[a[D]].push(D);for(var ue={},de=d(C,!1),D=0;D<A;++D)for(var W=T[D],H=W.length,B=0;B<H;++B){var ee=W[B],X=W[(B+1)%H],Q=Math.min(ee,X)+":"+Math.max(ee,X);if(Q in ue){var $=ue[Q];ae[$].push(D),ae[D].push($),de[ee]=de[X]=!0}else ue[Q]=D}function ne(Be){for(var Ne=Be.length,Ce=0;Ce<Ne;++Ce)if(!de[Be[Ce]])return!1;return!0}for(var fe=[],te=d(A,-1),D=0;D<A;++D)a[D]===D&&!ne(T[D])?(fe.push(D),te[D]=0):te[D]=-1;for(var q=[];fe.length>0;){var he=fe.pop(),se=ae[he];c(se,function(Be,Ne){return Be-Ne});var pe=se.length,we=te[he],Ee;if(we===0){var W=T[he];Ee=[W]}for(var D=0;D<pe;++D){var Me=se[D];if(!(te[Me]>=0)&&(te[Me]=we^1,fe.push(Me),we===0)){var W=T[Me];ne(W)||(W.reverse(),Ee.push(W))}}we===0&&q.push(Ee)}return q}},211:function(p,m,t){p.exports=y;var r=t(417)[3],l=t(4385),i=t(9014),f=t(5070);function v(){return!0}function c(C){return function(S,D){var T=C[S];return T?!!T.queryPoint(D,v):!1}}function x(C){for(var S={},D=0;D<C.length;++D){var T=C[D],P=T[0][0],A=T[0][1],a=T[1][1],R=[Math.min(A,a),Math.max(A,a)];P in S?S[P].push(R):S[P]=[R]}for(var b={},N=Object.keys(S),D=0;D<N.length;++D){var O=S[N[D]];b[N[D]]=i(O)}return c(b)}function d(C,S){return function(D){var T=f.le(S,D[0]);if(T<0)return 1;var P=C[T];if(!P)if(T>0&&S[T]===D[0])P=C[T-1];else return 1;for(var A=1;P;){var a=P.key,R=r(D,a[0],a[1]);if(a[0][0]<a[1][0])if(R<0)P=P.left;else if(R>0)A=-1,P=P.right;else return 0;else if(R>0)P=P.left;else if(R<0)A=1,P=P.right;else return 0}return A}}function M(C){return 1}function g(C){return function(D){return C(D[0],D[1])?0:1}}function u(C,S){return function(T){return C(T[0],T[1])?0:S(T)}}function y(C){for(var S=C.length,D=[],T=[],P=0;P<S;++P)for(var A=C[P],a=A.length,R=a-1,b=0;b<a;R=b++){var N=A[R],O=A[b];N[0]===O[0]?T.push([N,O]):D.push([N,O])}if(D.length===0)return T.length===0?M:g(x(T));var Y=l(D),B=d(Y.slabs,Y.coordinates);return T.length===0?B:u(x(T),B)}},7309:function(p){var m=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function l(i,f,v,c,x){m.length<c.length&&(m=new Float64Array(c.length),t=new Float64Array(c.length),r=new Float64Array(c.length));for(var d=0;d<c.length;++d)m[d]=i[d]-c[d],t[d]=f[d]-i[d],r[d]=v[d]-i[d];for(var M=0,g=0,u=0,y=0,C=0,S=0,d=0;d<c.length;++d){var D=t[d],T=r[d],P=m[d];M+=D*D,g+=D*T,u+=T*T,y+=P*D,C+=P*T,S+=P*P}var A=Math.abs(M*u-g*g),a=g*C-u*y,R=g*y-M*C,b;if(a+R<=A)if(a<0)R<0&&y<0?(R=0,-y>=M?(a=1,b=M+2*y+S):(a=-y/M,b=y*a+S)):(a=0,C>=0?(R=0,b=S):-C>=u?(R=1,b=u+2*C+S):(R=-C/u,b=C*R+S));else if(R<0)R=0,y>=0?(a=0,b=S):-y>=M?(a=1,b=M+2*y+S):(a=-y/M,b=y*a+S);else{var N=1/A;a*=N,R*=N,b=a*(M*a+g*R+2*y)+R*(g*a+u*R+2*C)+S}else{var O,Y,B,W;a<0?(O=g+y,Y=u+C,Y>O?(B=Y-O,W=M-2*g+u,B>=W?(a=1,R=0,b=M+2*y+S):(a=B/W,R=1-a,b=a*(M*a+g*R+2*y)+R*(g*a+u*R+2*C)+S)):(a=0,Y<=0?(R=1,b=u+2*C+S):C>=0?(R=0,b=S):(R=-C/u,b=C*R+S))):R<0?(O=g+C,Y=M+y,Y>O?(B=Y-O,W=M-2*g+u,B>=W?(R=1,a=0,b=u+2*C+S):(R=B/W,a=1-R,b=a*(M*a+g*R+2*y)+R*(g*a+u*R+2*C)+S)):(R=0,Y<=0?(a=1,b=M+2*y+S):y>=0?(a=0,b=S):(a=-y/M,b=y*a+S))):(B=u+C-g-y,B<=0?(a=0,R=1,b=u+2*C+S):(W=M-2*g+u,B>=W?(a=1,R=0,b=M+2*y+S):(a=B/W,R=1-a,b=a*(M*a+g*R+2*y)+R*(g*a+u*R+2*C)+S)))}for(var H=1-a-R,d=0;d<c.length;++d)x[d]=H*i[d]+a*f[d]+R*v[d];return b<0?0:b}p.exports=l},1116:function(p,m,t){p.exports=t(6093)},7584:function(p,m,t){var r=t(1539);p.exports=l;function l(i,f){for(var v=i.length,c=new Array(v),x=0;x<v;++x)c[x]=r(i[x],f[x]);return c}},2826:function(p,m,t){p.exports=l;var r=t(5125);function l(i){for(var f=new Array(i.length),v=0;v<i.length;++v)f[v]=r(i[v]);return f}},4469:function(p,m,t){var r=t(5125),l=t(3962);p.exports=i;function i(f,v){for(var c=r(v),x=f.length,d=new Array(x),M=0;M<x;++M)d[M]=l(f[M],c);return d}},6695:function(p,m,t){var r=t(4354);p.exports=l;function l(i,f){for(var v=i.length,c=new Array(v),x=0;x<v;++x)c[x]=r(i[x],f[x]);return c}},7037:function(p,m,t){var r=t(9209),l=t(1284),i=t(9887);p.exports=f;function f(v){v.sort(l);for(var c=v.length,x=0,d=0;d<c;++d){var M=v[d],g=i(M);if(g!==0){if(x>0){var u=v[x-1];if(r(M,u)===0&&i(u)!==g){x-=1;continue}}v[x++]=M}}return v.length=x,v}},6184:function(p){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var m="",t;p.exports=r;function r(l,i){if(typeof l!="string")throw new TypeError("expected a string");if(i===1)return l;if(i===2)return l+l;var f=l.length*i;if(t!==l||typeof t>"u")t=l,m="";else if(m.length>=f)return m.substr(0,f);for(;f>m.length&&i>1;)i&1&&(m+=l),i>>=1,l+=l;return m+=l,m=m.substr(0,f),m}},8161:function(p,m,t){p.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(p){p.exports=m;function m(t){for(var r=t.length,l=t[t.length-1],i=r,f=r-2;f>=0;--f){var v=l,c=t[f];l=v+c;var x=l-v,d=c-x;d&&(t[--i]=l,l=d)}for(var M=0,f=i;f<r;++f){var v=t[f],c=l;l=v+c;var x=l-v,d=c-x;d&&(t[M++]=d)}return t[M++]=l,t.length=M,t}},8167:function(p,m,t){var r=t(9660),l=t(9662),i=t(8289),f=t(402),v=6;function c(S,D,T,P){return function(a){return P(S(T(a[0][0],a[1][1]),T(-a[0][1],a[1][0])))}}function x(S,D,T,P){return function(a){return P(S(D(S(T(a[1][1],a[2][2]),T(-a[1][2],a[2][1])),a[0][0]),S(D(S(T(a[1][0],a[2][2]),T(-a[1][2],a[2][0])),-a[0][1]),D(S(T(a[1][0],a[2][1]),T(-a[1][1],a[2][0])),a[0][2]))))}}function d(S,D,T,P){return function(a){return P(S(S(D(S(D(S(T(a[2][2],a[3][3]),T(-a[2][3],a[3][2])),a[1][1]),S(D(S(T(a[2][1],a[3][3]),T(-a[2][3],a[3][1])),-a[1][2]),D(S(T(a[2][1],a[3][2]),T(-a[2][2],a[3][1])),a[1][3]))),a[0][0]),D(S(D(S(T(a[2][2],a[3][3]),T(-a[2][3],a[3][2])),a[1][0]),S(D(S(T(a[2][0],a[3][3]),T(-a[2][3],a[3][0])),-a[1][2]),D(S(T(a[2][0],a[3][2]),T(-a[2][2],a[3][0])),a[1][3]))),-a[0][1])),S(D(S(D(S(T(a[2][1],a[3][3]),T(-a[2][3],a[3][1])),a[1][0]),S(D(S(T(a[2][0],a[3][3]),T(-a[2][3],a[3][0])),-a[1][1]),D(S(T(a[2][0],a[3][1]),T(-a[2][1],a[3][0])),a[1][3]))),a[0][2]),D(S(D(S(T(a[2][1],a[3][2]),T(-a[2][2],a[3][1])),a[1][0]),S(D(S(T(a[2][0],a[3][2]),T(-a[2][2],a[3][0])),-a[1][1]),D(S(T(a[2][0],a[3][1]),T(-a[2][1],a[3][0])),a[1][2]))),-a[0][3]))))}}function M(S,D,T,P){return function(a){return P(S(S(D(S(S(D(S(D(S(T(a[3][3],a[4][4]),T(-a[3][4],a[4][3])),a[2][2]),S(D(S(T(a[3][2],a[4][4]),T(-a[3][4],a[4][2])),-a[2][3]),D(S(T(a[3][2],a[4][3]),T(-a[3][3],a[4][2])),a[2][4]))),a[1][1]),D(S(D(S(T(a[3][3],a[4][4]),T(-a[3][4],a[4][3])),a[2][1]),S(D(S(T(a[3][1],a[4][4]),T(-a[3][4],a[4][1])),-a[2][3]),D(S(T(a[3][1],a[4][3]),T(-a[3][3],a[4][1])),a[2][4]))),-a[1][2])),S(D(S(D(S(T(a[3][2],a[4][4]),T(-a[3][4],a[4][2])),a[2][1]),S(D(S(T(a[3][1],a[4][4]),T(-a[3][4],a[4][1])),-a[2][2]),D(S(T(a[3][1],a[4][2]),T(-a[3][2],a[4][1])),a[2][4]))),a[1][3]),D(S(D(S(T(a[3][2],a[4][3]),T(-a[3][3],a[4][2])),a[2][1]),S(D(S(T(a[3][1],a[4][3]),T(-a[3][3],a[4][1])),-a[2][2]),D(S(T(a[3][1],a[4][2]),T(-a[3][2],a[4][1])),a[2][3]))),-a[1][4]))),a[0][0]),D(S(S(D(S(D(S(T(a[3][3],a[4][4]),T(-a[3][4],a[4][3])),a[2][2]),S(D(S(T(a[3][2],a[4][4]),T(-a[3][4],a[4][2])),-a[2][3]),D(S(T(a[3][2],a[4][3]),T(-a[3][3],a[4][2])),a[2][4]))),a[1][0]),D(S(D(S(T(a[3][3],a[4][4]),T(-a[3][4],a[4][3])),a[2][0]),S(D(S(T(a[3][0],a[4][4]),T(-a[3][4],a[4][0])),-a[2][3]),D(S(T(a[3][0],a[4][3]),T(-a[3][3],a[4][0])),a[2][4]))),-a[1][2])),S(D(S(D(S(T(a[3][2],a[4][4]),T(-a[3][4],a[4][2])),a[2][0]),S(D(S(T(a[3][0],a[4][4]),T(-a[3][4],a[4][0])),-a[2][2]),D(S(T(a[3][0],a[4][2]),T(-a[3][2],a[4][0])),a[2][4]))),a[1][3]),D(S(D(S(T(a[3][2],a[4][3]),T(-a[3][3],a[4][2])),a[2][0]),S(D(S(T(a[3][0],a[4][3]),T(-a[3][3],a[4][0])),-a[2][2]),D(S(T(a[3][0],a[4][2]),T(-a[3][2],a[4][0])),a[2][3]))),-a[1][4]))),-a[0][1])),S(D(S(S(D(S(D(S(T(a[3][3],a[4][4]),T(-a[3][4],a[4][3])),a[2][1]),S(D(S(T(a[3][1],a[4][4]),T(-a[3][4],a[4][1])),-a[2][3]),D(S(T(a[3][1],a[4][3]),T(-a[3][3],a[4][1])),a[2][4]))),a[1][0]),D(S(D(S(T(a[3][3],a[4][4]),T(-a[3][4],a[4][3])),a[2][0]),S(D(S(T(a[3][0],a[4][4]),T(-a[3][4],a[4][0])),-a[2][3]),D(S(T(a[3][0],a[4][3]),T(-a[3][3],a[4][0])),a[2][4]))),-a[1][1])),S(D(S(D(S(T(a[3][1],a[4][4]),T(-a[3][4],a[4][1])),a[2][0]),S(D(S(T(a[3][0],a[4][4]),T(-a[3][4],a[4][0])),-a[2][1]),D(S(T(a[3][0],a[4][1]),T(-a[3][1],a[4][0])),a[2][4]))),a[1][3]),D(S(D(S(T(a[3][1],a[4][3]),T(-a[3][3],a[4][1])),a[2][0]),S(D(S(T(a[3][0],a[4][3]),T(-a[3][3],a[4][0])),-a[2][1]),D(S(T(a[3][0],a[4][1]),T(-a[3][1],a[4][0])),a[2][3]))),-a[1][4]))),a[0][2]),S(D(S(S(D(S(D(S(T(a[3][2],a[4][4]),T(-a[3][4],a[4][2])),a[2][1]),S(D(S(T(a[3][1],a[4][4]),T(-a[3][4],a[4][1])),-a[2][2]),D(S(T(a[3][1],a[4][2]),T(-a[3][2],a[4][1])),a[2][4]))),a[1][0]),D(S(D(S(T(a[3][2],a[4][4]),T(-a[3][4],a[4][2])),a[2][0]),S(D(S(T(a[3][0],a[4][4]),T(-a[3][4],a[4][0])),-a[2][2]),D(S(T(a[3][0],a[4][2]),T(-a[3][2],a[4][0])),a[2][4]))),-a[1][1])),S(D(S(D(S(T(a[3][1],a[4][4]),T(-a[3][4],a[4][1])),a[2][0]),S(D(S(T(a[3][0],a[4][4]),T(-a[3][4],a[4][0])),-a[2][1]),D(S(T(a[3][0],a[4][1]),T(-a[3][1],a[4][0])),a[2][4]))),a[1][2]),D(S(D(S(T(a[3][1],a[4][2]),T(-a[3][2],a[4][1])),a[2][0]),S(D(S(T(a[3][0],a[4][2]),T(-a[3][2],a[4][0])),-a[2][1]),D(S(T(a[3][0],a[4][1]),T(-a[3][1],a[4][0])),a[2][2]))),-a[1][4]))),-a[0][3]),D(S(S(D(S(D(S(T(a[3][2],a[4][3]),T(-a[3][3],a[4][2])),a[2][1]),S(D(S(T(a[3][1],a[4][3]),T(-a[3][3],a[4][1])),-a[2][2]),D(S(T(a[3][1],a[4][2]),T(-a[3][2],a[4][1])),a[2][3]))),a[1][0]),D(S(D(S(T(a[3][2],a[4][3]),T(-a[3][3],a[4][2])),a[2][0]),S(D(S(T(a[3][0],a[4][3]),T(-a[3][3],a[4][0])),-a[2][2]),D(S(T(a[3][0],a[4][2]),T(-a[3][2],a[4][0])),a[2][3]))),-a[1][1])),S(D(S(D(S(T(a[3][1],a[4][3]),T(-a[3][3],a[4][1])),a[2][0]),S(D(S(T(a[3][0],a[4][3]),T(-a[3][3],a[4][0])),-a[2][1]),D(S(T(a[3][0],a[4][1]),T(-a[3][1],a[4][0])),a[2][3]))),a[1][2]),D(S(D(S(T(a[3][1],a[4][2]),T(-a[3][2],a[4][1])),a[2][0]),S(D(S(T(a[3][0],a[4][2]),T(-a[3][2],a[4][0])),-a[2][1]),D(S(T(a[3][0],a[4][1]),T(-a[3][1],a[4][0])),a[2][2]))),-a[1][3]))),a[0][4])))))}}function g(S){var D=S===2?c:S===3?x:S===4?d:S===5?M:void 0;return D(l,i,r,f)}var u=[function(){return[0]},function(D){return[D[0][0]]}];function y(S,D,T,P,A,a,R,b){return function(O){switch(O.length){case 0:return S(O);case 1:return D(O);case 2:return T(O);case 3:return P(O);case 4:return A(O);case 5:return a(O)}var Y=R[O.length];return Y||(Y=R[O.length]=b(O.length)),Y(O)}}function C(){for(;u.length<v;)u.push(g(u.length));p.exports=y.apply(void 0,u.concat([u,g]));for(var S=0;S<u.length;++S)p.exports[S]=u[S]}C()},9130:function(p,m,t){var r=t(9660),l=t(9662);p.exports=i;function i(f,v){for(var c=r(f[0],v[0]),x=1;x<f.length;++x)c=l(c,r(f[x],v[x]));return c}},2227:function(p,m,t){var r=t(9660),l=t(9662),i=t(4078),f=t(8289),v=6;function c(A){var a=A===3?g:A===4?u:A===5?y:C;return a(l,i,r,f)}function x(){return 0}function d(){return 0}function M(){return 0}function g(A,a,R,b){function N(O,Y,B){var W=R(O[0],O[0]),H=b(W,Y[0]),U=b(W,B[0]),G=R(Y[0],Y[0]),j=b(G,O[0]),re=b(G,B[0]),ae=R(B[0],B[0]),ue=b(ae,O[0]),de=b(ae,Y[0]),ee=A(a(de,re),a(j,H)),X=a(ue,U),Q=a(ee,X);return Q[Q.length-1]}return N}function u(A,a,R,b){function N(O,Y,B,W){var H=A(R(O[0],O[0]),R(O[1],O[1])),U=b(H,Y[0]),G=b(H,B[0]),j=b(H,W[0]),re=A(R(Y[0],Y[0]),R(Y[1],Y[1])),ae=b(re,O[0]),ue=b(re,B[0]),de=b(re,W[0]),ee=A(R(B[0],B[0]),R(B[1],B[1])),X=b(ee,O[0]),Q=b(ee,Y[0]),$=b(ee,W[0]),ne=A(R(W[0],W[0]),R(W[1],W[1])),fe=b(ne,O[0]),te=b(ne,Y[0]),q=b(ne,B[0]),he=A(A(b(a(q,$),Y[1]),A(b(a(te,de),-B[1]),b(a(Q,ue),W[1]))),A(b(a(te,de),O[1]),A(b(a(fe,j),-Y[1]),b(a(ae,U),W[1])))),se=A(A(b(a(q,$),O[1]),A(b(a(fe,j),-B[1]),b(a(X,G),W[1]))),A(b(a(Q,ue),O[1]),A(b(a(X,G),-Y[1]),b(a(ae,U),B[1])))),pe=a(he,se);return pe[pe.length-1]}return N}function y(A,a,R,b){function N(O,Y,B,W,H){var U=A(R(O[0],O[0]),A(R(O[1],O[1]),R(O[2],O[2]))),G=b(U,Y[0]),j=b(U,B[0]),re=b(U,W[0]),ae=b(U,H[0]),ue=A(R(Y[0],Y[0]),A(R(Y[1],Y[1]),R(Y[2],Y[2]))),de=b(ue,O[0]),ee=b(ue,B[0]),X=b(ue,W[0]),Q=b(ue,H[0]),$=A(R(B[0],B[0]),A(R(B[1],B[1]),R(B[2],B[2]))),ne=b($,O[0]),fe=b($,Y[0]),te=b($,W[0]),q=b($,H[0]),he=A(R(W[0],W[0]),A(R(W[1],W[1]),R(W[2],W[2]))),se=b(he,O[0]),pe=b(he,Y[0]),we=b(he,B[0]),Ee=b(he,H[0]),Me=A(R(H[0],H[0]),A(R(H[1],H[1]),R(H[2],H[2]))),Be=b(Me,O[0]),Ne=b(Me,Y[0]),Ce=b(Me,B[0]),Te=b(Me,W[0]),Le=A(A(A(b(A(b(a(Te,Ee),B[1]),A(b(a(Ce,q),-W[1]),b(a(we,te),H[1]))),Y[2]),A(b(A(b(a(Te,Ee),Y[1]),A(b(a(Ne,Q),-W[1]),b(a(pe,X),H[1]))),-B[2]),b(A(b(a(Ce,q),Y[1]),A(b(a(Ne,Q),-B[1]),b(a(fe,ee),H[1]))),W[2]))),A(b(A(b(a(we,te),Y[1]),A(b(a(pe,X),-B[1]),b(a(fe,ee),W[1]))),-H[2]),A(b(A(b(a(Te,Ee),Y[1]),A(b(a(Ne,Q),-W[1]),b(a(pe,X),H[1]))),O[2]),b(A(b(a(Te,Ee),O[1]),A(b(a(Be,ae),-W[1]),b(a(se,re),H[1]))),-Y[2])))),A(A(b(A(b(a(Ne,Q),O[1]),A(b(a(Be,ae),-Y[1]),b(a(de,G),H[1]))),W[2]),A(b(A(b(a(pe,X),O[1]),A(b(a(se,re),-Y[1]),b(a(de,G),W[1]))),-H[2]),b(A(b(a(we,te),Y[1]),A(b(a(pe,X),-B[1]),b(a(fe,ee),W[1]))),O[2]))),A(b(A(b(a(we,te),O[1]),A(b(a(se,re),-B[1]),b(a(ne,j),W[1]))),-Y[2]),A(b(A(b(a(pe,X),O[1]),A(b(a(se,re),-Y[1]),b(a(de,G),W[1]))),B[2]),b(A(b(a(fe,ee),O[1]),A(b(a(ne,j),-Y[1]),b(a(de,G),B[1]))),-W[2]))))),Ve=A(A(A(b(A(b(a(Te,Ee),B[1]),A(b(a(Ce,q),-W[1]),b(a(we,te),H[1]))),O[2]),b(A(b(a(Te,Ee),O[1]),A(b(a(Be,ae),-W[1]),b(a(se,re),H[1]))),-B[2])),A(b(A(b(a(Ce,q),O[1]),A(b(a(Be,ae),-B[1]),b(a(ne,j),H[1]))),W[2]),b(A(b(a(we,te),O[1]),A(b(a(se,re),-B[1]),b(a(ne,j),W[1]))),-H[2]))),A(A(b(A(b(a(Ce,q),Y[1]),A(b(a(Ne,Q),-B[1]),b(a(fe,ee),H[1]))),O[2]),b(A(b(a(Ce,q),O[1]),A(b(a(Be,ae),-B[1]),b(a(ne,j),H[1]))),-Y[2])),A(b(A(b(a(Ne,Q),O[1]),A(b(a(Be,ae),-Y[1]),b(a(de,G),H[1]))),B[2]),b(A(b(a(fe,ee),O[1]),A(b(a(ne,j),-Y[1]),b(a(de,G),B[1]))),-H[2])))),We=a(Le,Ve);return We[We.length-1]}return N}function C(A,a,R,b){function N(O,Y,B,W,H,U){var G=A(A(R(O[0],O[0]),R(O[1],O[1])),A(R(O[2],O[2]),R(O[3],O[3]))),j=b(G,Y[0]),re=b(G,B[0]),ae=b(G,W[0]),ue=b(G,H[0]),de=b(G,U[0]),ee=A(A(R(Y[0],Y[0]),R(Y[1],Y[1])),A(R(Y[2],Y[2]),R(Y[3],Y[3]))),X=b(ee,O[0]),Q=b(ee,B[0]),$=b(ee,W[0]),ne=b(ee,H[0]),fe=b(ee,U[0]),te=A(A(R(B[0],B[0]),R(B[1],B[1])),A(R(B[2],B[2]),R(B[3],B[3]))),q=b(te,O[0]),he=b(te,Y[0]),se=b(te,W[0]),pe=b(te,H[0]),we=b(te,U[0]),Ee=A(A(R(W[0],W[0]),R(W[1],W[1])),A(R(W[2],W[2]),R(W[3],W[3]))),Me=b(Ee,O[0]),Be=b(Ee,Y[0]),Ne=b(Ee,B[0]),Ce=b(Ee,H[0]),Te=b(Ee,U[0]),Le=A(A(R(H[0],H[0]),R(H[1],H[1])),A(R(H[2],H[2]),R(H[3],H[3]))),Ve=b(Le,O[0]),We=b(Le,Y[0]),Fe=b(Le,B[0]),Ge=b(Le,W[0]),it=b(Le,U[0]),qe=A(A(R(U[0],U[0]),R(U[1],U[1])),A(R(U[2],U[2]),R(U[3],U[3]))),$e=b(qe,O[0]),tt=b(qe,Y[0]),vt=b(qe,B[0]),dt=b(qe,W[0]),gt=b(qe,H[0]),Mt=A(A(A(b(A(A(b(A(b(a(gt,it),W[1]),A(b(a(dt,Te),-H[1]),b(a(Ge,Ce),U[1]))),B[2]),b(A(b(a(gt,it),B[1]),A(b(a(vt,we),-H[1]),b(a(Fe,pe),U[1]))),-W[2])),A(b(A(b(a(dt,Te),B[1]),A(b(a(vt,we),-W[1]),b(a(Ne,se),U[1]))),H[2]),b(A(b(a(Ge,Ce),B[1]),A(b(a(Fe,pe),-W[1]),b(a(Ne,se),H[1]))),-U[2]))),Y[3]),A(b(A(A(b(A(b(a(gt,it),W[1]),A(b(a(dt,Te),-H[1]),b(a(Ge,Ce),U[1]))),Y[2]),b(A(b(a(gt,it),Y[1]),A(b(a(tt,fe),-H[1]),b(a(We,ne),U[1]))),-W[2])),A(b(A(b(a(dt,Te),Y[1]),A(b(a(tt,fe),-W[1]),b(a(Be,$),U[1]))),H[2]),b(A(b(a(Ge,Ce),Y[1]),A(b(a(We,ne),-W[1]),b(a(Be,$),H[1]))),-U[2]))),-B[3]),b(A(A(b(A(b(a(gt,it),B[1]),A(b(a(vt,we),-H[1]),b(a(Fe,pe),U[1]))),Y[2]),b(A(b(a(gt,it),Y[1]),A(b(a(tt,fe),-H[1]),b(a(We,ne),U[1]))),-B[2])),A(b(A(b(a(vt,we),Y[1]),A(b(a(tt,fe),-B[1]),b(a(he,Q),U[1]))),H[2]),b(A(b(a(Fe,pe),Y[1]),A(b(a(We,ne),-B[1]),b(a(he,Q),H[1]))),-U[2]))),W[3]))),A(A(b(A(A(b(A(b(a(dt,Te),B[1]),A(b(a(vt,we),-W[1]),b(a(Ne,se),U[1]))),Y[2]),b(A(b(a(dt,Te),Y[1]),A(b(a(tt,fe),-W[1]),b(a(Be,$),U[1]))),-B[2])),A(b(A(b(a(vt,we),Y[1]),A(b(a(tt,fe),-B[1]),b(a(he,Q),U[1]))),W[2]),b(A(b(a(Ne,se),Y[1]),A(b(a(Be,$),-B[1]),b(a(he,Q),W[1]))),-U[2]))),-H[3]),b(A(A(b(A(b(a(Ge,Ce),B[1]),A(b(a(Fe,pe),-W[1]),b(a(Ne,se),H[1]))),Y[2]),b(A(b(a(Ge,Ce),Y[1]),A(b(a(We,ne),-W[1]),b(a(Be,$),H[1]))),-B[2])),A(b(A(b(a(Fe,pe),Y[1]),A(b(a(We,ne),-B[1]),b(a(he,Q),H[1]))),W[2]),b(A(b(a(Ne,se),Y[1]),A(b(a(Be,$),-B[1]),b(a(he,Q),W[1]))),-H[2]))),U[3])),A(b(A(A(b(A(b(a(gt,it),W[1]),A(b(a(dt,Te),-H[1]),b(a(Ge,Ce),U[1]))),Y[2]),b(A(b(a(gt,it),Y[1]),A(b(a(tt,fe),-H[1]),b(a(We,ne),U[1]))),-W[2])),A(b(A(b(a(dt,Te),Y[1]),A(b(a(tt,fe),-W[1]),b(a(Be,$),U[1]))),H[2]),b(A(b(a(Ge,Ce),Y[1]),A(b(a(We,ne),-W[1]),b(a(Be,$),H[1]))),-U[2]))),O[3]),b(A(A(b(A(b(a(gt,it),W[1]),A(b(a(dt,Te),-H[1]),b(a(Ge,Ce),U[1]))),O[2]),b(A(b(a(gt,it),O[1]),A(b(a($e,de),-H[1]),b(a(Ve,ue),U[1]))),-W[2])),A(b(A(b(a(dt,Te),O[1]),A(b(a($e,de),-W[1]),b(a(Me,ae),U[1]))),H[2]),b(A(b(a(Ge,Ce),O[1]),A(b(a(Ve,ue),-W[1]),b(a(Me,ae),H[1]))),-U[2]))),-Y[3])))),A(A(A(b(A(A(b(A(b(a(gt,it),Y[1]),A(b(a(tt,fe),-H[1]),b(a(We,ne),U[1]))),O[2]),b(A(b(a(gt,it),O[1]),A(b(a($e,de),-H[1]),b(a(Ve,ue),U[1]))),-Y[2])),A(b(A(b(a(tt,fe),O[1]),A(b(a($e,de),-Y[1]),b(a(X,j),U[1]))),H[2]),b(A(b(a(We,ne),O[1]),A(b(a(Ve,ue),-Y[1]),b(a(X,j),H[1]))),-U[2]))),W[3]),b(A(A(b(A(b(a(dt,Te),Y[1]),A(b(a(tt,fe),-W[1]),b(a(Be,$),U[1]))),O[2]),b(A(b(a(dt,Te),O[1]),A(b(a($e,de),-W[1]),b(a(Me,ae),U[1]))),-Y[2])),A(b(A(b(a(tt,fe),O[1]),A(b(a($e,de),-Y[1]),b(a(X,j),U[1]))),W[2]),b(A(b(a(Be,$),O[1]),A(b(a(Me,ae),-Y[1]),b(a(X,j),W[1]))),-U[2]))),-H[3])),A(b(A(A(b(A(b(a(Ge,Ce),Y[1]),A(b(a(We,ne),-W[1]),b(a(Be,$),H[1]))),O[2]),b(A(b(a(Ge,Ce),O[1]),A(b(a(Ve,ue),-W[1]),b(a(Me,ae),H[1]))),-Y[2])),A(b(A(b(a(We,ne),O[1]),A(b(a(Ve,ue),-Y[1]),b(a(X,j),H[1]))),W[2]),b(A(b(a(Be,$),O[1]),A(b(a(Me,ae),-Y[1]),b(a(X,j),W[1]))),-H[2]))),U[3]),b(A(A(b(A(b(a(dt,Te),B[1]),A(b(a(vt,we),-W[1]),b(a(Ne,se),U[1]))),Y[2]),b(A(b(a(dt,Te),Y[1]),A(b(a(tt,fe),-W[1]),b(a(Be,$),U[1]))),-B[2])),A(b(A(b(a(vt,we),Y[1]),A(b(a(tt,fe),-B[1]),b(a(he,Q),U[1]))),W[2]),b(A(b(a(Ne,se),Y[1]),A(b(a(Be,$),-B[1]),b(a(he,Q),W[1]))),-U[2]))),O[3]))),A(A(b(A(A(b(A(b(a(dt,Te),B[1]),A(b(a(vt,we),-W[1]),b(a(Ne,se),U[1]))),O[2]),b(A(b(a(dt,Te),O[1]),A(b(a($e,de),-W[1]),b(a(Me,ae),U[1]))),-B[2])),A(b(A(b(a(vt,we),O[1]),A(b(a($e,de),-B[1]),b(a(q,re),U[1]))),W[2]),b(A(b(a(Ne,se),O[1]),A(b(a(Me,ae),-B[1]),b(a(q,re),W[1]))),-U[2]))),-Y[3]),b(A(A(b(A(b(a(dt,Te),Y[1]),A(b(a(tt,fe),-W[1]),b(a(Be,$),U[1]))),O[2]),b(A(b(a(dt,Te),O[1]),A(b(a($e,de),-W[1]),b(a(Me,ae),U[1]))),-Y[2])),A(b(A(b(a(tt,fe),O[1]),A(b(a($e,de),-Y[1]),b(a(X,j),U[1]))),W[2]),b(A(b(a(Be,$),O[1]),A(b(a(Me,ae),-Y[1]),b(a(X,j),W[1]))),-U[2]))),B[3])),A(b(A(A(b(A(b(a(vt,we),Y[1]),A(b(a(tt,fe),-B[1]),b(a(he,Q),U[1]))),O[2]),b(A(b(a(vt,we),O[1]),A(b(a($e,de),-B[1]),b(a(q,re),U[1]))),-Y[2])),A(b(A(b(a(tt,fe),O[1]),A(b(a($e,de),-Y[1]),b(a(X,j),U[1]))),B[2]),b(A(b(a(he,Q),O[1]),A(b(a(q,re),-Y[1]),b(a(X,j),B[1]))),-U[2]))),-W[3]),b(A(A(b(A(b(a(Ne,se),Y[1]),A(b(a(Be,$),-B[1]),b(a(he,Q),W[1]))),O[2]),b(A(b(a(Ne,se),O[1]),A(b(a(Me,ae),-B[1]),b(a(q,re),W[1]))),-Y[2])),A(b(A(b(a(Be,$),O[1]),A(b(a(Me,ae),-Y[1]),b(a(X,j),W[1]))),B[2]),b(A(b(a(he,Q),O[1]),A(b(a(q,re),-Y[1]),b(a(X,j),B[1]))),-W[2]))),U[3]))))),Ct=A(A(A(b(A(A(b(A(b(a(gt,it),W[1]),A(b(a(dt,Te),-H[1]),b(a(Ge,Ce),U[1]))),B[2]),b(A(b(a(gt,it),B[1]),A(b(a(vt,we),-H[1]),b(a(Fe,pe),U[1]))),-W[2])),A(b(A(b(a(dt,Te),B[1]),A(b(a(vt,we),-W[1]),b(a(Ne,se),U[1]))),H[2]),b(A(b(a(Ge,Ce),B[1]),A(b(a(Fe,pe),-W[1]),b(a(Ne,se),H[1]))),-U[2]))),O[3]),A(b(A(A(b(A(b(a(gt,it),W[1]),A(b(a(dt,Te),-H[1]),b(a(Ge,Ce),U[1]))),O[2]),b(A(b(a(gt,it),O[1]),A(b(a($e,de),-H[1]),b(a(Ve,ue),U[1]))),-W[2])),A(b(A(b(a(dt,Te),O[1]),A(b(a($e,de),-W[1]),b(a(Me,ae),U[1]))),H[2]),b(A(b(a(Ge,Ce),O[1]),A(b(a(Ve,ue),-W[1]),b(a(Me,ae),H[1]))),-U[2]))),-B[3]),b(A(A(b(A(b(a(gt,it),B[1]),A(b(a(vt,we),-H[1]),b(a(Fe,pe),U[1]))),O[2]),b(A(b(a(gt,it),O[1]),A(b(a($e,de),-H[1]),b(a(Ve,ue),U[1]))),-B[2])),A(b(A(b(a(vt,we),O[1]),A(b(a($e,de),-B[1]),b(a(q,re),U[1]))),H[2]),b(A(b(a(Fe,pe),O[1]),A(b(a(Ve,ue),-B[1]),b(a(q,re),H[1]))),-U[2]))),W[3]))),A(A(b(A(A(b(A(b(a(dt,Te),B[1]),A(b(a(vt,we),-W[1]),b(a(Ne,se),U[1]))),O[2]),b(A(b(a(dt,Te),O[1]),A(b(a($e,de),-W[1]),b(a(Me,ae),U[1]))),-B[2])),A(b(A(b(a(vt,we),O[1]),A(b(a($e,de),-B[1]),b(a(q,re),U[1]))),W[2]),b(A(b(a(Ne,se),O[1]),A(b(a(Me,ae),-B[1]),b(a(q,re),W[1]))),-U[2]))),-H[3]),b(A(A(b(A(b(a(Ge,Ce),B[1]),A(b(a(Fe,pe),-W[1]),b(a(Ne,se),H[1]))),O[2]),b(A(b(a(Ge,Ce),O[1]),A(b(a(Ve,ue),-W[1]),b(a(Me,ae),H[1]))),-B[2])),A(b(A(b(a(Fe,pe),O[1]),A(b(a(Ve,ue),-B[1]),b(a(q,re),H[1]))),W[2]),b(A(b(a(Ne,se),O[1]),A(b(a(Me,ae),-B[1]),b(a(q,re),W[1]))),-H[2]))),U[3])),A(b(A(A(b(A(b(a(gt,it),B[1]),A(b(a(vt,we),-H[1]),b(a(Fe,pe),U[1]))),Y[2]),b(A(b(a(gt,it),Y[1]),A(b(a(tt,fe),-H[1]),b(a(We,ne),U[1]))),-B[2])),A(b(A(b(a(vt,we),Y[1]),A(b(a(tt,fe),-B[1]),b(a(he,Q),U[1]))),H[2]),b(A(b(a(Fe,pe),Y[1]),A(b(a(We,ne),-B[1]),b(a(he,Q),H[1]))),-U[2]))),O[3]),b(A(A(b(A(b(a(gt,it),B[1]),A(b(a(vt,we),-H[1]),b(a(Fe,pe),U[1]))),O[2]),b(A(b(a(gt,it),O[1]),A(b(a($e,de),-H[1]),b(a(Ve,ue),U[1]))),-B[2])),A(b(A(b(a(vt,we),O[1]),A(b(a($e,de),-B[1]),b(a(q,re),U[1]))),H[2]),b(A(b(a(Fe,pe),O[1]),A(b(a(Ve,ue),-B[1]),b(a(q,re),H[1]))),-U[2]))),-Y[3])))),A(A(A(b(A(A(b(A(b(a(gt,it),Y[1]),A(b(a(tt,fe),-H[1]),b(a(We,ne),U[1]))),O[2]),b(A(b(a(gt,it),O[1]),A(b(a($e,de),-H[1]),b(a(Ve,ue),U[1]))),-Y[2])),A(b(A(b(a(tt,fe),O[1]),A(b(a($e,de),-Y[1]),b(a(X,j),U[1]))),H[2]),b(A(b(a(We,ne),O[1]),A(b(a(Ve,ue),-Y[1]),b(a(X,j),H[1]))),-U[2]))),B[3]),b(A(A(b(A(b(a(vt,we),Y[1]),A(b(a(tt,fe),-B[1]),b(a(he,Q),U[1]))),O[2]),b(A(b(a(vt,we),O[1]),A(b(a($e,de),-B[1]),b(a(q,re),U[1]))),-Y[2])),A(b(A(b(a(tt,fe),O[1]),A(b(a($e,de),-Y[1]),b(a(X,j),U[1]))),B[2]),b(A(b(a(he,Q),O[1]),A(b(a(q,re),-Y[1]),b(a(X,j),B[1]))),-U[2]))),-H[3])),A(b(A(A(b(A(b(a(Fe,pe),Y[1]),A(b(a(We,ne),-B[1]),b(a(he,Q),H[1]))),O[2]),b(A(b(a(Fe,pe),O[1]),A(b(a(Ve,ue),-B[1]),b(a(q,re),H[1]))),-Y[2])),A(b(A(b(a(We,ne),O[1]),A(b(a(Ve,ue),-Y[1]),b(a(X,j),H[1]))),B[2]),b(A(b(a(he,Q),O[1]),A(b(a(q,re),-Y[1]),b(a(X,j),B[1]))),-H[2]))),U[3]),b(A(A(b(A(b(a(Ge,Ce),B[1]),A(b(a(Fe,pe),-W[1]),b(a(Ne,se),H[1]))),Y[2]),b(A(b(a(Ge,Ce),Y[1]),A(b(a(We,ne),-W[1]),b(a(Be,$),H[1]))),-B[2])),A(b(A(b(a(Fe,pe),Y[1]),A(b(a(We,ne),-B[1]),b(a(he,Q),H[1]))),W[2]),b(A(b(a(Ne,se),Y[1]),A(b(a(Be,$),-B[1]),b(a(he,Q),W[1]))),-H[2]))),O[3]))),A(A(b(A(A(b(A(b(a(Ge,Ce),B[1]),A(b(a(Fe,pe),-W[1]),b(a(Ne,se),H[1]))),O[2]),b(A(b(a(Ge,Ce),O[1]),A(b(a(Ve,ue),-W[1]),b(a(Me,ae),H[1]))),-B[2])),A(b(A(b(a(Fe,pe),O[1]),A(b(a(Ve,ue),-B[1]),b(a(q,re),H[1]))),W[2]),b(A(b(a(Ne,se),O[1]),A(b(a(Me,ae),-B[1]),b(a(q,re),W[1]))),-H[2]))),-Y[3]),b(A(A(b(A(b(a(Ge,Ce),Y[1]),A(b(a(We,ne),-W[1]),b(a(Be,$),H[1]))),O[2]),b(A(b(a(Ge,Ce),O[1]),A(b(a(Ve,ue),-W[1]),b(a(Me,ae),H[1]))),-Y[2])),A(b(A(b(a(We,ne),O[1]),A(b(a(Ve,ue),-Y[1]),b(a(X,j),H[1]))),W[2]),b(A(b(a(Be,$),O[1]),A(b(a(Me,ae),-Y[1]),b(a(X,j),W[1]))),-H[2]))),B[3])),A(b(A(A(b(A(b(a(Fe,pe),Y[1]),A(b(a(We,ne),-B[1]),b(a(he,Q),H[1]))),O[2]),b(A(b(a(Fe,pe),O[1]),A(b(a(Ve,ue),-B[1]),b(a(q,re),H[1]))),-Y[2])),A(b(A(b(a(We,ne),O[1]),A(b(a(Ve,ue),-Y[1]),b(a(X,j),H[1]))),B[2]),b(A(b(a(he,Q),O[1]),A(b(a(q,re),-Y[1]),b(a(X,j),B[1]))),-H[2]))),-W[3]),b(A(A(b(A(b(a(Ne,se),Y[1]),A(b(a(Be,$),-B[1]),b(a(he,Q),W[1]))),O[2]),b(A(b(a(Ne,se),O[1]),A(b(a(Me,ae),-B[1]),b(a(q,re),W[1]))),-Y[2])),A(b(A(b(a(Be,$),O[1]),A(b(a(Me,ae),-Y[1]),b(a(X,j),W[1]))),B[2]),b(A(b(a(he,Q),O[1]),A(b(a(q,re),-Y[1]),b(a(X,j),B[1]))),-W[2]))),H[3]))))),Wt=a(Mt,Ct);return Wt[Wt.length-1]}return N}var S=[x,d,M];function D(A){var a=S[A.length];return a||(a=S[A.length]=c(A.length)),a.apply(void 0,A)}function T(A,a,R,b,N,O,Y,B){function W(H,U,G,j,re,ae){switch(arguments.length){case 0:case 1:return 0;case 2:return b(H,U);case 3:return N(H,U,G);case 4:return O(H,U,G,j);case 5:return Y(H,U,G,j,re);case 6:return B(H,U,G,j,re,ae)}for(var ue=new Array(arguments.length),de=0;de<arguments.length;++de)ue[de]=arguments[de];return A(ue)}return W}function P(){for(;S.length<=v;)S.push(c(S.length));p.exports=T.apply(void 0,[D].concat(S));for(var A=0;A<=v;++A)p.exports[A]=S[A]}P()},6606:function(p,m,t){var r=t(8167),l=6;function i(S){var D=S===2?c:S===3?x:S===4?d:S===5?M:g;return S<6?D(r[S]):D(r)}function f(){return[[0]]}function v(S,D){return[[D[0]],[S[0][0]]]}function c(S){return function(T,P){return[S([[+P[0],+T[0][1]],[+P[1],+T[1][1]]]),S([[+T[0][0],+P[0]],[+T[1][0],+P[1]]]),S(T)]}}function x(S){return function(T,P){return[S([[+P[0],+T[0][1],+T[0][2]],[+P[1],+T[1][1],+T[1][2]],[+P[2],+T[2][1],+T[2][2]]]),S([[+T[0][0],+P[0],+T[0][2]],[+T[1][0],+P[1],+T[1][2]],[+T[2][0],+P[2],+T[2][2]]]),S([[+T[0][0],+T[0][1],+P[0]],[+T[1][0],+T[1][1],+P[1]],[+T[2][0],+T[2][1],+P[2]]]),S(T)]}}function d(S){return function(T,P){return[S([[+P[0],+T[0][1],+T[0][2],+T[0][3]],[+P[1],+T[1][1],+T[1][2],+T[1][3]],[+P[2],+T[2][1],+T[2][2],+T[2][3]],[+P[3],+T[3][1],+T[3][2],+T[3][3]]]),S([[+T[0][0],+P[0],+T[0][2],+T[0][3]],[+T[1][0],+P[1],+T[1][2],+T[1][3]],[+T[2][0],+P[2],+T[2][2],+T[2][3]],[+T[3][0],+P[3],+T[3][2],+T[3][3]]]),S([[+T[0][0],+T[0][1],+P[0],+T[0][3]],[+T[1][0],+T[1][1],+P[1],+T[1][3]],[+T[2][0],+T[2][1],+P[2],+T[2][3]],[+T[3][0],+T[3][1],+P[3],+T[3][3]]]),S([[+T[0][0],+T[0][1],+T[0][2],+P[0]],[+T[1][0],+T[1][1],+T[1][2],+P[1]],[+T[2][0],+T[2][1],+T[2][2],+P[2]],[+T[3][0],+T[3][1],+T[3][2],+P[3]]]),S(T)]}}function M(S){return function(T,P){return[S([[+P[0],+T[0][1],+T[0][2],+T[0][3],+T[0][4]],[+P[1],+T[1][1],+T[1][2],+T[1][3],+T[1][4]],[+P[2],+T[2][1],+T[2][2],+T[2][3],+T[2][4]],[+P[3],+T[3][1],+T[3][2],+T[3][3],+T[3][4]],[+P[4],+T[4][1],+T[4][2],+T[4][3],+T[4][4]]]),S([[+T[0][0],+P[0],+T[0][2],+T[0][3],+T[0][4]],[+T[1][0],+P[1],+T[1][2],+T[1][3],+T[1][4]],[+T[2][0],+P[2],+T[2][2],+T[2][3],+T[2][4]],[+T[3][0],+P[3],+T[3][2],+T[3][3],+T[3][4]],[+T[4][0],+P[4],+T[4][2],+T[4][3],+T[4][4]]]),S([[+T[0][0],+T[0][1],+P[0],+T[0][3],+T[0][4]],[+T[1][0],+T[1][1],+P[1],+T[1][3],+T[1][4]],[+T[2][0],+T[2][1],+P[2],+T[2][3],+T[2][4]],[+T[3][0],+T[3][1],+P[3],+T[3][3],+T[3][4]],[+T[4][0],+T[4][1],+P[4],+T[4][3],+T[4][4]]]),S([[+T[0][0],+T[0][1],+T[0][2],+P[0],+T[0][4]],[+T[1][0],+T[1][1],+T[1][2],+P[1],+T[1][4]],[+T[2][0],+T[2][1],+T[2][2],+P[2],+T[2][4]],[+T[3][0],+T[3][1],+T[3][2],+P[3],+T[3][4]],[+T[4][0],+T[4][1],+T[4][2],+P[4],+T[4][4]]]),S([[+T[0][0],+T[0][1],+T[0][2],+T[0][3],+P[0]],[+T[1][0],+T[1][1],+T[1][2],+T[1][3],+P[1]],[+T[2][0],+T[2][1],+T[2][2],+T[2][3],+P[2]],[+T[3][0],+T[3][1],+T[3][2],+T[3][3],+P[3]],[+T[4][0],+T[4][1],+T[4][2],+T[4][3],+P[4]]]),S(T)]}}function g(S){return function(T,P){return[S([[+P[0],+T[0][1],+T[0][2],+T[0][3],+T[0][4],+T[0][5]],[+P[1],+T[1][1],+T[1][2],+T[1][3],+T[1][4],+T[1][5]],[+P[2],+T[2][1],+T[2][2],+T[2][3],+T[2][4],+T[2][5]],[+P[3],+T[3][1],+T[3][2],+T[3][3],+T[3][4],+T[3][5]],[+P[4],+T[4][1],+T[4][2],+T[4][3],+T[4][4],+T[4][5]],[+P[5],+T[5][1],+T[5][2],+T[5][3],+T[5][4],+T[5][5]]]),S([[+T[0][0],+P[0],+T[0][2],+T[0][3],+T[0][4],+T[0][5]],[+T[1][0],+P[1],+T[1][2],+T[1][3],+T[1][4],+T[1][5]],[+T[2][0],+P[2],+T[2][2],+T[2][3],+T[2][4],+T[2][5]],[+T[3][0],+P[3],+T[3][2],+T[3][3],+T[3][4],+T[3][5]],[+T[4][0],+P[4],+T[4][2],+T[4][3],+T[4][4],+T[4][5]],[+T[5][0],+P[5],+T[5][2],+T[5][3],+T[5][4],+T[5][5]]]),S([[+T[0][0],+T[0][1],+P[0],+T[0][3],+T[0][4],+T[0][5]],[+T[1][0],+T[1][1],+P[1],+T[1][3],+T[1][4],+T[1][5]],[+T[2][0],+T[2][1],+P[2],+T[2][3],+T[2][4],+T[2][5]],[+T[3][0],+T[3][1],+P[3],+T[3][3],+T[3][4],+T[3][5]],[+T[4][0],+T[4][1],+P[4],+T[4][3],+T[4][4],+T[4][5]],[+T[5][0],+T[5][1],+P[5],+T[5][3],+T[5][4],+T[5][5]]]),S([[+T[0][0],+T[0][1],+T[0][2],+P[0],+T[0][4],+T[0][5]],[+T[1][0],+T[1][1],+T[1][2],+P[1],+T[1][4],+T[1][5]],[+T[2][0],+T[2][1],+T[2][2],+P[2],+T[2][4],+T[2][5]],[+T[3][0],+T[3][1],+T[3][2],+P[3],+T[3][4],+T[3][5]],[+T[4][0],+T[4][1],+T[4][2],+P[4],+T[4][4],+T[4][5]],[+T[5][0],+T[5][1],+T[5][2],+P[5],+T[5][4],+T[5][5]]]),S([[+T[0][0],+T[0][1],+T[0][2],+T[0][3],+P[0],+T[0][5]],[+T[1][0],+T[1][1],+T[1][2],+T[1][3],+P[1],+T[1][5]],[+T[2][0],+T[2][1],+T[2][2],+T[2][3],+P[2],+T[2][5]],[+T[3][0],+T[3][1],+T[3][2],+T[3][3],+P[3],+T[3][5]],[+T[4][0],+T[4][1],+T[4][2],+T[4][3],+P[4],+T[4][5]],[+T[5][0],+T[5][1],+T[5][2],+T[5][3],+P[5],+T[5][5]]]),S([[+T[0][0],+T[0][1],+T[0][2],+T[0][3],+T[0][4],+P[0]],[+T[1][0],+T[1][1],+T[1][2],+T[1][3],+T[1][4],+P[1]],[+T[2][0],+T[2][1],+T[2][2],+T[2][3],+T[2][4],+P[2]],[+T[3][0],+T[3][1],+T[3][2],+T[3][3],+T[3][4],+P[3]],[+T[4][0],+T[4][1],+T[4][2],+T[4][3],+T[4][4],+P[4]],[+T[5][0],+T[5][1],+T[5][2],+T[5][3],+T[5][4],+P[5]]]),S(T)]}}var u=[f,v];function y(S,D,T,P,A,a,R,b){return function(O,Y){switch(O.length){case 0:return S(O,Y);case 1:return D(O,Y);case 2:return T(O,Y);case 3:return P(O,Y);case 4:return A(O,Y);case 5:return a(O,Y)}var B=R[O.length];return B||(B=R[O.length]=b(O.length)),B(O,Y)}}function C(){for(;u.length<l;)u.push(i(u.length));p.exports=y.apply(void 0,u.concat([u,i]));for(var S=0;S<l;++S)p.exports[S]=u[S]}C()},417:function(p,m,t){var r=t(9660),l=t(9662),i=t(8289),f=t(4078),v=5,c=11102230246251565e-32,x=(3+16*c)*c,d=(7+56*c)*c;function M(a,R,b,N){return function(Y,B,W){var H=a(a(R(B[1],W[0]),R(-W[1],B[0])),a(R(Y[1],B[0]),R(-B[1],Y[0]))),U=a(R(Y[1],W[0]),R(-W[1],Y[0])),G=N(H,U);return G[G.length-1]}}function g(a,R,b,N){return function(Y,B,W,H){var U=a(a(b(a(R(W[1],H[0]),R(-H[1],W[0])),B[2]),a(b(a(R(B[1],H[0]),R(-H[1],B[0])),-W[2]),b(a(R(B[1],W[0]),R(-W[1],B[0])),H[2]))),a(b(a(R(B[1],H[0]),R(-H[1],B[0])),Y[2]),a(b(a(R(Y[1],H[0]),R(-H[1],Y[0])),-B[2]),b(a(R(Y[1],B[0]),R(-B[1],Y[0])),H[2])))),G=a(a(b(a(R(W[1],H[0]),R(-H[1],W[0])),Y[2]),a(b(a(R(Y[1],H[0]),R(-H[1],Y[0])),-W[2]),b(a(R(Y[1],W[0]),R(-W[1],Y[0])),H[2]))),a(b(a(R(B[1],W[0]),R(-W[1],B[0])),Y[2]),a(b(a(R(Y[1],W[0]),R(-W[1],Y[0])),-B[2]),b(a(R(Y[1],B[0]),R(-B[1],Y[0])),W[2])))),j=N(U,G);return j[j.length-1]}}function u(a,R,b,N){return function(Y,B,W,H,U){var G=a(a(a(b(a(b(a(R(H[1],U[0]),R(-U[1],H[0])),W[2]),a(b(a(R(W[1],U[0]),R(-U[1],W[0])),-H[2]),b(a(R(W[1],H[0]),R(-H[1],W[0])),U[2]))),B[3]),a(b(a(b(a(R(H[1],U[0]),R(-U[1],H[0])),B[2]),a(b(a(R(B[1],U[0]),R(-U[1],B[0])),-H[2]),b(a(R(B[1],H[0]),R(-H[1],B[0])),U[2]))),-W[3]),b(a(b(a(R(W[1],U[0]),R(-U[1],W[0])),B[2]),a(b(a(R(B[1],U[0]),R(-U[1],B[0])),-W[2]),b(a(R(B[1],W[0]),R(-W[1],B[0])),U[2]))),H[3]))),a(b(a(b(a(R(W[1],H[0]),R(-H[1],W[0])),B[2]),a(b(a(R(B[1],H[0]),R(-H[1],B[0])),-W[2]),b(a(R(B[1],W[0]),R(-W[1],B[0])),H[2]))),-U[3]),a(b(a(b(a(R(H[1],U[0]),R(-U[1],H[0])),B[2]),a(b(a(R(B[1],U[0]),R(-U[1],B[0])),-H[2]),b(a(R(B[1],H[0]),R(-H[1],B[0])),U[2]))),Y[3]),b(a(b(a(R(H[1],U[0]),R(-U[1],H[0])),Y[2]),a(b(a(R(Y[1],U[0]),R(-U[1],Y[0])),-H[2]),b(a(R(Y[1],H[0]),R(-H[1],Y[0])),U[2]))),-B[3])))),a(a(b(a(b(a(R(B[1],U[0]),R(-U[1],B[0])),Y[2]),a(b(a(R(Y[1],U[0]),R(-U[1],Y[0])),-B[2]),b(a(R(Y[1],B[0]),R(-B[1],Y[0])),U[2]))),H[3]),a(b(a(b(a(R(B[1],H[0]),R(-H[1],B[0])),Y[2]),a(b(a(R(Y[1],H[0]),R(-H[1],Y[0])),-B[2]),b(a(R(Y[1],B[0]),R(-B[1],Y[0])),H[2]))),-U[3]),b(a(b(a(R(W[1],H[0]),R(-H[1],W[0])),B[2]),a(b(a(R(B[1],H[0]),R(-H[1],B[0])),-W[2]),b(a(R(B[1],W[0]),R(-W[1],B[0])),H[2]))),Y[3]))),a(b(a(b(a(R(W[1],H[0]),R(-H[1],W[0])),Y[2]),a(b(a(R(Y[1],H[0]),R(-H[1],Y[0])),-W[2]),b(a(R(Y[1],W[0]),R(-W[1],Y[0])),H[2]))),-B[3]),a(b(a(b(a(R(B[1],H[0]),R(-H[1],B[0])),Y[2]),a(b(a(R(Y[1],H[0]),R(-H[1],Y[0])),-B[2]),b(a(R(Y[1],B[0]),R(-B[1],Y[0])),H[2]))),W[3]),b(a(b(a(R(B[1],W[0]),R(-W[1],B[0])),Y[2]),a(b(a(R(Y[1],W[0]),R(-W[1],Y[0])),-B[2]),b(a(R(Y[1],B[0]),R(-B[1],Y[0])),W[2]))),-H[3]))))),j=a(a(a(b(a(b(a(R(H[1],U[0]),R(-U[1],H[0])),W[2]),a(b(a(R(W[1],U[0]),R(-U[1],W[0])),-H[2]),b(a(R(W[1],H[0]),R(-H[1],W[0])),U[2]))),Y[3]),b(a(b(a(R(H[1],U[0]),R(-U[1],H[0])),Y[2]),a(b(a(R(Y[1],U[0]),R(-U[1],Y[0])),-H[2]),b(a(R(Y[1],H[0]),R(-H[1],Y[0])),U[2]))),-W[3])),a(b(a(b(a(R(W[1],U[0]),R(-U[1],W[0])),Y[2]),a(b(a(R(Y[1],U[0]),R(-U[1],Y[0])),-W[2]),b(a(R(Y[1],W[0]),R(-W[1],Y[0])),U[2]))),H[3]),b(a(b(a(R(W[1],H[0]),R(-H[1],W[0])),Y[2]),a(b(a(R(Y[1],H[0]),R(-H[1],Y[0])),-W[2]),b(a(R(Y[1],W[0]),R(-W[1],Y[0])),H[2]))),-U[3]))),a(a(b(a(b(a(R(W[1],U[0]),R(-U[1],W[0])),B[2]),a(b(a(R(B[1],U[0]),R(-U[1],B[0])),-W[2]),b(a(R(B[1],W[0]),R(-W[1],B[0])),U[2]))),Y[3]),b(a(b(a(R(W[1],U[0]),R(-U[1],W[0])),Y[2]),a(b(a(R(Y[1],U[0]),R(-U[1],Y[0])),-W[2]),b(a(R(Y[1],W[0]),R(-W[1],Y[0])),U[2]))),-B[3])),a(b(a(b(a(R(B[1],U[0]),R(-U[1],B[0])),Y[2]),a(b(a(R(Y[1],U[0]),R(-U[1],Y[0])),-B[2]),b(a(R(Y[1],B[0]),R(-B[1],Y[0])),U[2]))),W[3]),b(a(b(a(R(B[1],W[0]),R(-W[1],B[0])),Y[2]),a(b(a(R(Y[1],W[0]),R(-W[1],Y[0])),-B[2]),b(a(R(Y[1],B[0]),R(-B[1],Y[0])),W[2]))),-U[3])))),re=N(G,j);return re[re.length-1]}}function y(a){var R=a===3?M:a===4?g:u;return R(l,r,i,f)}var C=y(3),S=y(4),D=[function(){return 0},function(){return 0},function(R,b){return b[0]-R[0]},function(R,b,N){var O=(R[1]-N[1])*(b[0]-N[0]),Y=(R[0]-N[0])*(b[1]-N[1]),B=O-Y,W;if(O>0){if(Y<=0)return B;W=O+Y}else if(O<0){if(Y>=0)return B;W=-(O+Y)}else return B;var H=x*W;return B>=H||B<=-H?B:C(R,b,N)},function(R,b,N,O){var Y=R[0]-O[0],B=b[0]-O[0],W=N[0]-O[0],H=R[1]-O[1],U=b[1]-O[1],G=N[1]-O[1],j=R[2]-O[2],re=b[2]-O[2],ae=N[2]-O[2],ue=B*G,de=W*U,ee=W*H,X=Y*G,Q=Y*U,$=B*H,ne=j*(ue-de)+re*(ee-X)+ae*(Q-$),fe=(Math.abs(ue)+Math.abs(de))*Math.abs(j)+(Math.abs(ee)+Math.abs(X))*Math.abs(re)+(Math.abs(Q)+Math.abs($))*Math.abs(ae),te=d*fe;return ne>te||-ne>te?ne:S(R,b,N,O)}];function T(a){var R=D[a.length];return R||(R=D[a.length]=y(a.length)),R.apply(void 0,a)}function P(a,R,b,N,O,Y,B){return function(H,U,G,j,re){switch(arguments.length){case 0:case 1:return 0;case 2:return N(H,U);case 3:return O(H,U,G);case 4:return Y(H,U,G,j);case 5:return B(H,U,G,j,re)}for(var ae=new Array(arguments.length),ue=0;ue<arguments.length;++ue)ae[ue]=arguments[ue];return a(ae)}}function A(){for(;D.length<=v;)D.push(y(D.length));p.exports=P.apply(void 0,[T].concat(D));for(var a=0;a<=v;++a)p.exports[a]=D[a]}A()},2019:function(p,m,t){var r=t(9662),l=t(8289);p.exports=i;function i(f,v){if(f.length===1)return l(v,f[0]);if(v.length===1)return l(f,v[0]);if(f.length===0||v.length===0)return[0];var c=[0];if(f.length<v.length)for(var x=0;x<f.length;++x)c=r(c,l(v,f[x]));else for(var x=0;x<v.length;++x)c=r(c,l(f,v[x]));return c}},8289:function(p,m,t){var r=t(9660),l=t(87);p.exports=i;function i(f,v){var c=f.length;if(c===1){var x=r(f[0],v);return x[0]?x:[x[1]]}var d=new Array(2*c),M=[.1,.1],g=[.1,.1],u=0;r(f[0],v,M),M[0]&&(d[u++]=M[0]);for(var y=1;y<c;++y){r(f[y],v,g);var C=M[1];l(C,g[0],M),M[0]&&(d[u++]=M[0]);var S=g[1],D=M[1],T=S+D,P=T-S,A=D-P;M[1]=T,A&&(d[u++]=A)}return M[1]&&(d[u++]=M[1]),u===0&&(d[u++]=0),d.length=u,d}},4434:function(p,m,t){p.exports=i;var r=t(417)[3];function l(f,v,c,x){for(var d=0;d<2;++d){var M=f[d],g=v[d],u=Math.min(M,g),y=Math.max(M,g),C=c[d],S=x[d],D=Math.min(C,S),T=Math.max(C,S);if(T<u||y<D)return!1}return!0}function i(f,v,c,x){var d=r(f,c,x),M=r(v,c,x);if(d>0&&M>0||d<0&&M<0)return!1;var g=r(c,f,v),u=r(x,f,v);return g>0&&u>0||g<0&&u<0?!1:d===0&&M===0&&g===0&&u===0?l(f,v,c,x):!0}},4078:function(p){p.exports=t;function m(r,l){var i=r+l,f=i-r,v=i-f,c=l-f,x=r-v,d=x+c;return d?[d,i]:[i]}function t(r,l){var i=r.length|0,f=l.length|0;if(i===1&&f===1)return m(r[0],-l[0]);var v=i+f,c=new Array(v),x=0,d=0,M=0,g=Math.abs,u=r[d],y=g(u),C=-l[M],S=g(C),D,T;y<S?(T=u,d+=1,d<i&&(u=r[d],y=g(u))):(T=C,M+=1,M<f&&(C=-l[M],S=g(C))),d<i&&y<S||M>=f?(D=u,d+=1,d<i&&(u=r[d],y=g(u))):(D=C,M+=1,M<f&&(C=-l[M],S=g(C)));for(var P=D+T,A=P-D,a=T-A,R=a,b=P,N,O,Y,B,W;d<i&&M<f;)y<S?(D=u,d+=1,d<i&&(u=r[d],y=g(u))):(D=C,M+=1,M<f&&(C=-l[M],S=g(C))),T=R,P=D+T,A=P-D,a=T-A,a&&(c[x++]=a),N=b+P,O=N-b,Y=N-O,B=P-O,W=b-Y,R=W+B,b=N;for(;d<i;)D=u,T=R,P=D+T,A=P-D,a=T-A,a&&(c[x++]=a),N=b+P,O=N-b,Y=N-O,B=P-O,W=b-Y,R=W+B,b=N,d+=1,d<i&&(u=r[d]);for(;M<f;)D=C,T=R,P=D+T,A=P-D,a=T-A,a&&(c[x++]=a),N=b+P,O=N-b,Y=N-O,B=P-O,W=b-Y,R=W+B,b=N,M+=1,M<f&&(C=-l[M]);return R&&(c[x++]=R),b&&(c[x++]=b),x||(c[x++]=0),c.length=x,c}},9662:function(p){p.exports=t;function m(r,l){var i=r+l,f=i-r,v=i-f,c=l-f,x=r-v,d=x+c;return d?[d,i]:[i]}function t(r,l){var i=r.length|0,f=l.length|0;if(i===1&&f===1)return m(r[0],l[0]);var v=i+f,c=new Array(v),x=0,d=0,M=0,g=Math.abs,u=r[d],y=g(u),C=l[M],S=g(C),D,T;y<S?(T=u,d+=1,d<i&&(u=r[d],y=g(u))):(T=C,M+=1,M<f&&(C=l[M],S=g(C))),d<i&&y<S||M>=f?(D=u,d+=1,d<i&&(u=r[d],y=g(u))):(D=C,M+=1,M<f&&(C=l[M],S=g(C)));for(var P=D+T,A=P-D,a=T-A,R=a,b=P,N,O,Y,B,W;d<i&&M<f;)y<S?(D=u,d+=1,d<i&&(u=r[d],y=g(u))):(D=C,M+=1,M<f&&(C=l[M],S=g(C))),T=R,P=D+T,A=P-D,a=T-A,a&&(c[x++]=a),N=b+P,O=N-b,Y=N-O,B=P-O,W=b-Y,R=W+B,b=N;for(;d<i;)D=u,T=R,P=D+T,A=P-D,a=T-A,a&&(c[x++]=a),N=b+P,O=N-b,Y=N-O,B=P-O,W=b-Y,R=W+B,b=N,d+=1,d<i&&(u=r[d]);for(;M<f;)D=C,T=R,P=D+T,A=P-D,a=T-A,a&&(c[x++]=a),N=b+P,O=N-b,Y=N-O,B=P-O,W=b-Y,R=W+B,b=N,M+=1,M<f&&(C=l[M]);return R&&(c[x++]=R),b&&(c[x++]=b),x||(c[x++]=0),c.length=x,c}},8691:function(p,m,t){p.exports=i;var r=t(2692),l=t(7037);function i(f){return l(r(f))}},7212:function(p,m,t){p.exports=u;var r=t(5050),l=t(5306),i=t(8729),f=t(1168);function v(y){for(var C=y.length,S=0,D=0;D<C;++D)S=Math.max(S,y[D].length)|0;return S-1}function c(y,C){for(var S=y.length,D=l.mallocUint8(S),T=0;T<S;++T)D[T]=y[T]<C|0;return D}function x(y,C){for(var S=y.length,D=C*(C+1)/2*S|0,T=l.mallocUint32(D*2),P=0,A=0;A<S;++A)for(var a=y[A],C=a.length,R=0;R<C;++R)for(var b=0;b<R;++b){var N=a[b],O=a[R];T[P++]=Math.min(N,O)|0,T[P++]=Math.max(N,O)|0}var Y=P/2|0;i(r(T,[Y,2]));for(var B=2,A=2;A<P;A+=2)T[A-2]===T[A]&&T[A-1]===T[A+1]||(T[B++]=T[A],T[B++]=T[A+1]);return r(T,[B/2|0,2])}function d(y,C,S,D){for(var T=y.data,P=y.shape[0],A=l.mallocDouble(P),a=0,R=0;R<P;++R){var b=T[2*R],N=T[2*R+1];if(S[b]!==S[N]){var O=C[b],Y=C[N];T[2*a]=b,T[2*a+1]=N,A[a++]=(Y-D)/(Y-O)}}return y.shape[0]=a,r(A,[a])}function M(y,C){var S=l.mallocInt32(C*2),D=y.shape[0],T=y.data;S[0]=0;for(var P=0,A=0;A<D;++A){var a=T[2*A];if(a!==P){for(S[2*P+1]=A;++P<a;)S[2*P]=A,S[2*P+1]=A;S[2*P]=A}}for(S[2*P+1]=D;++P<C;)S[2*P]=S[2*P+1]=D;return S}function g(y){for(var C=y.shape[0]|0,S=y.data,D=new Array(C),T=0;T<C;++T)D[T]=[S[2*T],S[2*T+1]];return D}function u(y,C,S,D){S=S||0,typeof D>"u"&&(D=v(y));var T=y.length;if(T===0||D<1)return{cells:[],vertexIds:[],vertexWeights:[]};var P=c(C,+S),A=x(y,D),a=d(A,C,P,+S),R=M(A,C.length|0),b=f(D)(y,A.data,R,P),N=g(A),O=[].slice.call(a.data,0,a.shape[0]);return l.free(P),l.free(A.data),l.free(a.data),l.free(R),{cells:b,vertexIds:N,vertexWeights:O}}},1168:function(p){p.exports=t;var m=[function(){function l(i,f,v,c){for(var x=i.length,d=[],M=0;M<x;++M){var g=i[M];g.length}return d}return l},function(){function l(f,v,c,x){for(var d=Math.min(c,x)|0,M=Math.max(c,x)|0,g=f[2*d],u=f[2*d+1];g<u;){var y=g+u>>1,C=v[2*y+1];if(C===M)return y;M<C?u=y:g=y+1}return g}function i(f,v,c,x){for(var d=f.length,M=[],g=0;g<d;++g){var u=f[g],y=u.length;if(y===2){var C=(x[u[0]]<<0)+(x[u[1]]<<1);if(C===0||C===3)continue;switch(C){case 0:break;case 1:M.push([l(c,v,u[0],u[1])]);break;case 2:M.push([l(c,v,u[1],u[0])]);break}}}return M}return i},function(){function l(f,v,c,x){for(var d=Math.min(c,x)|0,M=Math.max(c,x)|0,g=f[2*d],u=f[2*d+1];g<u;){var y=g+u>>1,C=v[2*y+1];if(C===M)return y;M<C?u=y:g=y+1}return g}function i(f,v,c,x){for(var d=f.length,M=[],g=0;g<d;++g){var u=f[g],y=u.length;if(y===3){var C=(x[u[0]]<<0)+(x[u[1]]<<1)+(x[u[2]]<<2);if(C===0||C===7)continue;switch(C){case 0:break;case 1:M.push([l(c,v,u[0],u[2]),l(c,v,u[0],u[1])]);break;case 2:M.push([l(c,v,u[1],u[0]),l(c,v,u[1],u[2])]);break;case 3:M.push([l(c,v,u[0],u[2]),l(c,v,u[1],u[2])]);break;case 4:M.push([l(c,v,u[2],u[1]),l(c,v,u[2],u[0])]);break;case 5:M.push([l(c,v,u[2],u[1]),l(c,v,u[0],u[1])]);break;case 6:M.push([l(c,v,u[1],u[0]),l(c,v,u[2],u[0])]);break}}else if(y===2){var C=(x[u[0]]<<0)+(x[u[1]]<<1);if(C===0||C===3)continue;switch(C){case 0:break;case 1:M.push([l(c,v,u[0],u[1])]);break;case 2:M.push([l(c,v,u[1],u[0])]);break}}}return M}return i},function(){function l(f,v,c,x){for(var d=Math.min(c,x)|0,M=Math.max(c,x)|0,g=f[2*d],u=f[2*d+1];g<u;){var y=g+u>>1,C=v[2*y+1];if(C===M)return y;M<C?u=y:g=y+1}return g}function i(f,v,c,x){for(var d=f.length,M=[],g=0;g<d;++g){var u=f[g],y=u.length;if(y===4){var C=(x[u[0]]<<0)+(x[u[1]]<<1)+(x[u[2]]<<2)+(x[u[3]]<<3);if(C===0||C===15)continue;switch(C){case 0:break;case 1:M.push([l(c,v,u[0],u[1]),l(c,v,u[0],u[2]),l(c,v,u[0],u[3])]);break;case 2:M.push([l(c,v,u[1],u[2]),l(c,v,u[1],u[0]),l(c,v,u[1],u[3])]);break;case 3:M.push([l(c,v,u[1],u[2]),l(c,v,u[0],u[2]),l(c,v,u[0],u[3])],[l(c,v,u[1],u[3]),l(c,v,u[1],u[2]),l(c,v,u[0],u[3])]);break;case 4:M.push([l(c,v,u[2],u[0]),l(c,v,u[2],u[1]),l(c,v,u[2],u[3])]);break;case 5:M.push([l(c,v,u[0],u[1]),l(c,v,u[2],u[1]),l(c,v,u[0],u[3])],[l(c,v,u[2],u[1]),l(c,v,u[2],u[3]),l(c,v,u[0],u[3])]);break;case 6:M.push([l(c,v,u[2],u[0]),l(c,v,u[1],u[0]),l(c,v,u[1],u[3])],[l(c,v,u[2],u[3]),l(c,v,u[2],u[0]),l(c,v,u[1],u[3])]);break;case 7:M.push([l(c,v,u[0],u[3]),l(c,v,u[1],u[3]),l(c,v,u[2],u[3])]);break;case 8:M.push([l(c,v,u[3],u[1]),l(c,v,u[3],u[0]),l(c,v,u[3],u[2])]);break;case 9:M.push([l(c,v,u[3],u[1]),l(c,v,u[0],u[1]),l(c,v,u[0],u[2])],[l(c,v,u[3],u[2]),l(c,v,u[3],u[1]),l(c,v,u[0],u[2])]);break;case 10:M.push([l(c,v,u[1],u[0]),l(c,v,u[3],u[0]),l(c,v,u[1],u[2])],[l(c,v,u[3],u[0]),l(c,v,u[3],u[2]),l(c,v,u[1],u[2])]);break;case 11:M.push([l(c,v,u[1],u[2]),l(c,v,u[0],u[2]),l(c,v,u[3],u[2])]);break;case 12:M.push([l(c,v,u[3],u[0]),l(c,v,u[2],u[0]),l(c,v,u[2],u[1])],[l(c,v,u[3],u[1]),l(c,v,u[3],u[0]),l(c,v,u[2],u[1])]);break;case 13:M.push([l(c,v,u[0],u[1]),l(c,v,u[2],u[1]),l(c,v,u[3],u[1])]);break;case 14:M.push([l(c,v,u[2],u[0]),l(c,v,u[1],u[0]),l(c,v,u[3],u[0])]);break}}else if(y===3){var C=(x[u[0]]<<0)+(x[u[1]]<<1)+(x[u[2]]<<2);if(C===0||C===7)continue;switch(C){case 0:break;case 1:M.push([l(c,v,u[0],u[2]),l(c,v,u[0],u[1])]);break;case 2:M.push([l(c,v,u[1],u[0]),l(c,v,u[1],u[2])]);break;case 3:M.push([l(c,v,u[0],u[2]),l(c,v,u[1],u[2])]);break;case 4:M.push([l(c,v,u[2],u[1]),l(c,v,u[2],u[0])]);break;case 5:M.push([l(c,v,u[2],u[1]),l(c,v,u[0],u[1])]);break;case 6:M.push([l(c,v,u[1],u[0]),l(c,v,u[2],u[0])]);break}}else if(y===2){var C=(x[u[0]]<<0)+(x[u[1]]<<1);if(C===0||C===3)continue;switch(C){case 0:break;case 1:M.push([l(c,v,u[0],u[1])]);break;case 2:M.push([l(c,v,u[1],u[0])]);break}}}return M}return i}];function t(r){return m[r]()}},8211:function(p,m,t){t(2288),t(1731);function r(l,i){var f=l.length,v=l.length-i.length,c=Math.min;if(v)return v;switch(f){case 0:return 0;case 1:return l[0]-i[0];case 2:var u=l[0]+l[1]-i[0]-i[1];return u||c(l[0],l[1])-c(i[0],i[1]);case 3:var x=l[0]+l[1],d=i[0]+i[1];if(u=x+l[2]-(d+i[2]),u)return u;var M=c(l[0],l[1]),g=c(i[0],i[1]),u=c(M,l[2])-c(g,i[2]);return u||c(M+l[2],x)-c(g+i[2],d);default:var y=l.slice(0);y.sort();var C=i.slice(0);C.sort();for(var S=0;S<f;++S)if(v=y[S]-C[S],v)return v;return 0}}m.H=r},9392:function(p,m){var t=32;m.INT_BITS=t,m.INT_MAX=2147483647,m.INT_MIN=-1<<t-1,m.sign=function(i){return(i>0)-(i<0)},m.abs=function(i){var f=i>>t-1;return(i^f)-f},m.min=function(i,f){return f^(i^f)&-(i<f)},m.max=function(i,f){return i^(i^f)&-(i<f)},m.isPow2=function(i){return!(i&i-1)&&!!i},m.log2=function(i){var f,v;return f=(i>65535)<<4,i>>>=f,v=(i>255)<<3,i>>>=v,f|=v,v=(i>15)<<2,i>>>=v,f|=v,v=(i>3)<<1,i>>>=v,f|=v,f|i>>1},m.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},m.popCount=function(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),(i+(i>>>4)&252645135)*16843009>>>24};function r(i){var f=32;return i&=-i,i&&f--,i&65535&&(f-=16),i&16711935&&(f-=8),i&252645135&&(f-=4),i&858993459&&(f-=2),i&1431655765&&(f-=1),f}m.countTrailingZeros=r,m.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1},m.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i-(i>>>1)},m.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,i&=15,27030>>>i&1};var l=new Array(256);(function(i){for(var f=0;f<256;++f){var v=f,c=f,x=7;for(v>>>=1;v;v>>>=1)c<<=1,c|=v&1,--x;i[f]=c<<x&255}})(l),m.reverse=function(i){return l[i&255]<<24|l[i>>>8&255]<<16|l[i>>>16&255]<<8|l[i>>>24&255]},m.interleave2=function(i,f){return i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,i|f<<1},m.deinterleave2=function(i,f){return i=i>>>f&1431655765,i=(i|i>>>1)&858993459,i=(i|i>>>2)&252645135,i=(i|i>>>4)&16711935,i=(i|i>>>16)&65535,i<<16>>16},m.interleave3=function(i,f,v){return i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,i|=f<<1,v&=1023,v=(v|v<<16)&4278190335,v=(v|v<<8)&251719695,v=(v|v<<4)&3272356035,v=(v|v<<2)&1227133513,i|v<<2},m.deinterleave3=function(i,f){return i=i>>>f&1227133513,i=(i|i>>>2)&3272356035,i=(i|i>>>4)&251719695,i=(i|i>>>8)&4278190335,i=(i|i>>>16)&1023,i<<22>>22},m.nextCombination=function(i){var f=i|i-1;return f+1|(~f&-~f)-1>>>r(i)+1}},6656:function(p,m,t){var r=t(9392),l=t(9521);function i(a){for(var R=0,b=Math.max,N=0,O=a.length;N<O;++N)R=b(R,a[N].length);return R-1}m.dimension=i;function f(a){for(var R=-1,b=Math.max,N=0,O=a.length;N<O;++N)for(var Y=a[N],B=0,W=Y.length;B<W;++B)R=b(R,Y[B]);return R+1}m.countVertices=f;function v(a){for(var R=new Array(a.length),b=0,N=a.length;b<N;++b)R[b]=a[b].slice(0);return R}m.cloneCells=v;function c(a,R){var b=a.length,N=a.length-R.length,O=Math.min;if(N)return N;switch(b){case 0:return 0;case 1:return a[0]-R[0];case 2:var U=a[0]+a[1]-R[0]-R[1];return U||O(a[0],a[1])-O(R[0],R[1]);case 3:var Y=a[0]+a[1],B=R[0]+R[1];if(U=Y+a[2]-(B+R[2]),U)return U;var W=O(a[0],a[1]),H=O(R[0],R[1]),U=O(W,a[2])-O(H,R[2]);return U||O(W+a[2],Y)-O(H+R[2],B);default:var G=a.slice(0);G.sort();var j=R.slice(0);j.sort();for(var re=0;re<b;++re)if(N=G[re]-j[re],N)return N;return 0}}m.compareCells=c;function x(a,R){return c(a[0],R[0])}function d(a,R){if(R){for(var b=a.length,N=new Array(b),O=0;O<b;++O)N[O]=[a[O],R[O]];N.sort(x);for(var O=0;O<b;++O)a[O]=N[O][0],R[O]=N[O][1];return a}else return a.sort(c),a}m.normalize=d;function M(a){if(a.length===0)return[];for(var R=1,b=a.length,N=1;N<b;++N){var O=a[N];if(c(O,a[N-1])){if(N===R){R++;continue}a[R++]=O}}return a.length=R,a}m.unique=M;function g(a,R){for(var b=0,N=a.length-1,O=-1;b<=N;){var Y=b+N>>1,B=c(a[Y],R);B<=0?(B===0&&(O=Y),b=Y+1):B>0&&(N=Y-1)}return O}m.findCell=g;function u(a,R){for(var b=new Array(a.length),N=0,O=b.length;N<O;++N)b[N]=[];for(var Y=[],N=0,B=R.length;N<B;++N)for(var W=R[N],H=W.length,U=1,G=1<<H;U<G;++U){Y.length=r.popCount(U);for(var j=0,re=0;re<H;++re)U&1<<re&&(Y[j++]=W[re]);var ae=g(a,Y);if(!(ae<0))for(;b[ae++].push(N),!(ae>=a.length||c(a[ae],Y)!==0););}return b}m.incidence=u;function y(a,R){if(!R)return u(M(S(a,0)),a);for(var b=new Array(R),N=0;N<R;++N)b[N]=[];for(var N=0,O=a.length;N<O;++N)for(var Y=a[N],B=0,W=Y.length;B<W;++B)b[Y[B]].push(N);return b}m.dual=y;function C(a){for(var R=[],b=0,N=a.length;b<N;++b)for(var O=a[b],Y=O.length|0,B=1,W=1<<Y;B<W;++B){for(var H=[],U=0;U<Y;++U)B>>>U&1&&H.push(O[U]);R.push(H)}return d(R)}m.explode=C;function S(a,R){if(R<0)return[];for(var b=[],N=(1<<R+1)-1,O=0;O<a.length;++O)for(var Y=a[O],B=N;B<1<<Y.length;B=r.nextCombination(B)){for(var W=new Array(R+1),H=0,U=0;U<Y.length;++U)B&1<<U&&(W[H++]=Y[U]);b.push(W)}return d(b)}m.skeleton=S;function D(a){for(var R=[],b=0,N=a.length;b<N;++b)for(var O=a[b],Y=0,B=O.length;Y<B;++Y){for(var W=new Array(O.length-1),H=0,U=0;H<B;++H)H!==Y&&(W[U++]=O[H]);R.push(W)}return d(R)}m.boundary=D;function T(a,R){for(var b=new l(R),N=0;N<a.length;++N)for(var O=a[N],Y=0;Y<O.length;++Y)for(var B=Y+1;B<O.length;++B)b.link(O[Y],O[B]);for(var W=[],H=b.ranks,N=0;N<H.length;++N)H[N]=-1;for(var N=0;N<a.length;++N){var U=b.find(a[N][0]);H[U]<0?(H[U]=W.length,W.push([a[N].slice(0)])):W[H[U]].push(a[N].slice(0))}return W}function P(a){for(var R=M(d(S(a,0))),b=new l(R.length),N=0;N<a.length;++N)for(var O=a[N],Y=0;Y<O.length;++Y)for(var B=g(R,[O[Y]]),W=Y+1;W<O.length;++W)b.link(B,g(R,[O[W]]));for(var H=[],U=b.ranks,N=0;N<U.length;++N)U[N]=-1;for(var N=0;N<a.length;++N){var G=b.find(g(R,[a[N][0]]));U[G]<0?(U[G]=H.length,H.push([a[N].slice(0)])):H[U[G]].push(a[N].slice(0))}return H}function A(a,R){return R?T(a,R):P(a)}m.connectedComponents=A},9521:function(p){p.exports=m;function m(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}m.prototype.length=function(){return this.roots.length},m.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},m.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var l=r[t];r[t]=r[l],t=l}return t},m.prototype.link=function(t,r){var l=this.find(t),i=this.find(r);if(l!==i){var f=this.ranks,v=this.roots,c=f[l],x=f[i];c<x?v[l]=i:x<c?v[i]=l:(v[i]=l,++f[l])}}},8243:function(p,m,t){p.exports=f;var r=t(417),l=t(6656);function i(v,c,x){var d=Math.abs(r(v,c,x)),M=Math.sqrt(Math.pow(c[0]-x[0],2)+Math.pow(c[1]-x[1],2));return d/M}function f(v,c,x){for(var d=c.length,M=v.length,g=new Array(d),u=new Array(d),y=new Array(d),C=new Array(d),S=0;S<d;++S)g[S]=u[S]=-1,y[S]=1/0,C[S]=!1;for(var S=0;S<M;++S){var D=v[S];if(D.length!==2)throw new Error("Input must be a graph");var T=D[1],P=D[0];u[P]!==-1?u[P]=-2:u[P]=T,g[T]!==-1?g[T]=-2:g[T]=P}function A(ee){if(C[ee])return 1/0;var X=g[ee],Q=u[ee];return X<0||Q<0?1/0:i(c[ee],c[X],c[Q])}function a(ee,X){var Q=H[ee],$=H[X];H[ee]=$,H[X]=Q,U[Q]=X,U[$]=ee}function R(ee){return y[H[ee]]}function b(ee){return ee&1?ee-1>>1:(ee>>1)-1}function N(ee){for(var X=R(ee);;){var Q=X,$=2*ee+1,ne=2*(ee+1),fe=ee;if($<j){var te=R($);te<Q&&(fe=$,Q=te)}if(ne<j){var q=R(ne);q<Q&&(fe=ne)}if(fe===ee)return ee;a(ee,fe),ee=fe}}function O(ee){for(var X=R(ee);ee>0;){var Q=b(ee);if(Q>=0){var $=R(Q);if(X<$){a(ee,Q),ee=Q;continue}}return ee}}function Y(){if(j>0){var ee=H[0];return a(0,j-1),j-=1,N(0),ee}return-1}function B(ee,X){var Q=H[ee];return y[Q]===X?ee:(y[Q]=-1/0,O(ee),Y(),y[Q]=X,j+=1,O(j-1))}function W(ee){if(!C[ee]){C[ee]=!0;var X=g[ee],Q=u[ee];g[Q]>=0&&(g[Q]=X),u[X]>=0&&(u[X]=Q),U[X]>=0&&B(U[X],A(X)),U[Q]>=0&&B(U[Q],A(Q))}}for(var H=[],U=new Array(d),S=0;S<d;++S){var G=y[S]=A(S);G<1/0?(U[S]=H.length,H.push(S)):U[S]=-1}for(var j=H.length,S=j>>1;S>=0;--S)N(S);for(;;){var re=Y();if(re<0||y[re]>x)break;W(re)}for(var ae=[],S=0;S<d;++S)C[S]||(U[S]=ae.length,ae.push(c[S].slice()));ae.length;function ue(ee,X){if(ee[X]<0)return X;var Q=X,$=X;do{var ne=ee[$];if(!C[$]||ne<0||ne===$||($=ne,ne=ee[$],!C[$]||ne<0||ne===$))break;$=ne,Q=ee[Q]}while(Q!==$);for(var fe=X;fe!==$;fe=ee[fe])ee[fe]=$;return $}var de=[];return v.forEach(function(ee){var X=ue(g,ee[0]),Q=ue(u,ee[1]);if(X>=0&&Q>=0&&X!==Q){var $=U[X],ne=U[Q];$!==ne&&de.push([$,ne])}}),l.unique(l.normalize(de)),{positions:ae,edges:de}}},6638:function(p,m,t){p.exports=i;var r=t(417);function l(f,v){var c,x;if(v[0][0]<v[1][0])c=v[0],x=v[1];else if(v[0][0]>v[1][0])c=v[1],x=v[0];else{var d=Math.min(f[0][1],f[1][1]),M=Math.max(f[0][1],f[1][1]),g=Math.min(v[0][1],v[1][1]),u=Math.max(v[0][1],v[1][1]);return M<g?M-g:d>u?d-u:M-u}var y,C;f[0][1]<f[1][1]?(y=f[0],C=f[1]):(y=f[1],C=f[0]);var S=r(x,c,y);return S||(S=r(x,c,C),S)?S:C-x}function i(f,v){var c,x;if(v[0][0]<v[1][0])c=v[0],x=v[1];else if(v[0][0]>v[1][0])c=v[1],x=v[0];else return l(v,f);var d,M;if(f[0][0]<f[1][0])d=f[0],M=f[1];else if(f[0][0]>f[1][0])d=f[1],M=f[0];else return-l(f,v);var g=r(c,x,M),u=r(c,x,d);if(g<0){if(u<=0)return g}else if(g>0){if(u>=0)return g}else if(u)return u;if(g=r(M,d,x),u=r(M,d,c),g<0){if(u<=0)return g}else if(g>0){if(u>=0)return g}else if(u)return u;return x[0]-M[0]}},4385:function(p,m,t){p.exports=u;var r=t(5070),l=t(7080),i=t(417),f=t(6638);function v(y,C,S){this.slabs=y,this.coordinates=C,this.horizontal=S}var c=v.prototype;function x(y,C){return y.y-C}function d(y,C){for(var S=null;y;){var D=y.key,T,P;D[0][0]<D[1][0]?(T=D[0],P=D[1]):(T=D[1],P=D[0]);var A=i(T,P,C);if(A<0)y=y.left;else if(A>0)if(C[0]!==D[1][0])S=y,y=y.right;else{var a=d(y.right,C);if(a)return a;y=y.left}else{if(C[0]!==D[1][0])return y;var a=d(y.right,C);if(a)return a;y=y.left}}return S}c.castUp=function(y){var C=r.le(this.coordinates,y[0]);if(C<0)return-1;this.slabs[C];var S=d(this.slabs[C],y),D=-1;if(S&&(D=S.value),this.coordinates[C]===y[0]){var T=null;if(S&&(T=S.key),C>0){var P=d(this.slabs[C-1],y);P&&(T?f(P.key,T)>0&&(T=P.key,D=P.value):(D=P.value,T=P.key))}var A=this.horizontal[C];if(A.length>0){var a=r.ge(A,y[1],x);if(a<A.length){var R=A[a];if(y[1]===R.y){if(R.closed)return R.index;for(;a<A.length-1&&A[a+1].y===y[1];)if(a=a+1,R=A[a],R.closed)return R.index;if(R.y===y[1]&&!R.start){if(a=a+1,a>=A.length)return D;R=A[a]}}if(R.start)if(T){var b=i(T[0],T[1],[y[0],R.y]);T[0][0]>T[1][0]&&(b=-b),b>0&&(D=R.index)}else D=R.index;else R.y!==y[1]&&(D=R.index)}}}return D};function M(y,C,S,D){this.y=y,this.index=C,this.start=S,this.closed=D}function g(y,C,S,D){this.x=y,this.segment=C,this.create=S,this.index=D}function u(y){for(var C=y.length,S=2*C,D=new Array(S),T=0;T<C;++T){var P=y[T],A=P[0][0]<P[1][0];D[2*T]=new g(P[0][0],P,A,T),D[2*T+1]=new g(P[1][0],P,!A,T)}D.sort(function(W,H){var U=W.x-H.x;return U||(U=W.create-H.create,U)?U:Math.min(W.segment[0][1],W.segment[1][1])-Math.min(H.segment[0][1],H.segment[1][1])});for(var a=l(f),R=[],b=[],N=[],T=0;T<S;){for(var O=D[T].x,Y=[];T<S;){var B=D[T];if(B.x!==O)break;T+=1,B.segment[0][0]===B.x&&B.segment[1][0]===B.x?B.create&&(B.segment[0][1]<B.segment[1][1]?(Y.push(new M(B.segment[0][1],B.index,!0,!0)),Y.push(new M(B.segment[1][1],B.index,!1,!1))):(Y.push(new M(B.segment[1][1],B.index,!0,!1)),Y.push(new M(B.segment[0][1],B.index,!1,!0)))):B.create?a=a.insert(B.segment,B.index):a=a.remove(B.segment)}R.push(a.root),b.push(O),N.push(Y)}return new v(R,b,N)}},4670:function(p,m,t){var r=t(9130),l=t(9662);p.exports=v,p.exports.positive=c,p.exports.negative=x;function i(d,M){var g=l(r(d,M),[M[M.length-1]]);return g[g.length-1]}function f(d,M,g,u){var y=u-M,C=-M/y;C<0?C=0:C>1&&(C=1);for(var S=1-C,D=d.length,T=new Array(D),P=0;P<D;++P)T[P]=C*d[P]+S*g[P];return T}function v(d,M){for(var g=[],u=[],y=i(d[d.length-1],M),C=d[d.length-1],S=d[0],D=0;D<d.length;++D,C=S){S=d[D];var T=i(S,M);if(y<0&&T>0||y>0&&T<0){var P=f(C,T,S,y);g.push(P),u.push(P.slice())}T<0?u.push(S.slice()):T>0?g.push(S.slice()):(g.push(S.slice()),u.push(S.slice())),y=T}return{positive:g,negative:u}}function c(d,M){for(var g=[],u=i(d[d.length-1],M),y=d[d.length-1],C=d[0],S=0;S<d.length;++S,y=C){C=d[S];var D=i(C,M);(u<0&&D>0||u>0&&D<0)&&g.push(f(y,D,C,u)),D>=0&&g.push(C.slice()),u=D}return g}function x(d,M){for(var g=[],u=i(d[d.length-1],M),y=d[d.length-1],C=d[0],S=0;S<d.length;++S,y=C){C=d[S];var D=i(C,M);(u<0&&D>0||u>0&&D<0)&&g.push(f(y,D,C,u)),D<=0&&g.push(C.slice()),u=D}return g}},8974:function(p,m,t){var r;(function(){var l={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(d){return v(x(d),arguments)}function f(d,M){return i.apply(null,[d].concat(M||[]))}function v(d,M){var g=1,u=d.length,y,C="",S,D,T,P,A,a,R,b;for(S=0;S<u;S++)if(typeof d[S]=="string")C+=d[S];else if(typeof d[S]=="object"){if(T=d[S],T.keys)for(y=M[g],D=0;D<T.keys.length;D++){if(y==null)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',T.keys[D],T.keys[D-1]));y=y[T.keys[D]]}else T.param_no?y=M[T.param_no]:y=M[g++];if(l.not_type.test(T.type)&&l.not_primitive.test(T.type)&&y instanceof Function&&(y=y()),l.numeric_arg.test(T.type)&&typeof y!="number"&&isNaN(y))throw new TypeError(i("[sprintf] expecting number but found %T",y));switch(l.number.test(T.type)&&(R=y>=0),T.type){case"b":y=parseInt(y,10).toString(2);break;case"c":y=String.fromCharCode(parseInt(y,10));break;case"d":case"i":y=parseInt(y,10);break;case"j":y=JSON.stringify(y,null,T.width?parseInt(T.width):0);break;case"e":y=T.precision?parseFloat(y).toExponential(T.precision):parseFloat(y).toExponential();break;case"f":y=T.precision?parseFloat(y).toFixed(T.precision):parseFloat(y);break;case"g":y=T.precision?String(Number(y.toPrecision(T.precision))):parseFloat(y);break;case"o":y=(parseInt(y,10)>>>0).toString(8);break;case"s":y=String(y),y=T.precision?y.substring(0,T.precision):y;break;case"t":y=String(!!y),y=T.precision?y.substring(0,T.precision):y;break;case"T":y=Object.prototype.toString.call(y).slice(8,-1).toLowerCase(),y=T.precision?y.substring(0,T.precision):y;break;case"u":y=parseInt(y,10)>>>0;break;case"v":y=y.valueOf(),y=T.precision?y.substring(0,T.precision):y;break;case"x":y=(parseInt(y,10)>>>0).toString(16);break;case"X":y=(parseInt(y,10)>>>0).toString(16).toUpperCase();break}l.json.test(T.type)?C+=y:(l.number.test(T.type)&&(!R||T.sign)?(b=R?"+":"-",y=y.toString().replace(l.sign,"")):b="",A=T.pad_char?T.pad_char==="0"?"0":T.pad_char.charAt(1):" ",a=T.width-(b+y).length,P=T.width&&a>0?A.repeat(a):"",C+=T.align?b+y+P:A==="0"?b+P+y:P+b+y)}return C}var c=Object.create(null);function x(d){if(c[d])return c[d];for(var M=d,g,u=[],y=0;M;){if((g=l.text.exec(M))!==null)u.push(g[0]);else if((g=l.modulo.exec(M))!==null)u.push("%");else if((g=l.placeholder.exec(M))!==null){if(g[2]){y|=1;var C=[],S=g[2],D=[];if((D=l.key.exec(S))!==null)for(C.push(D[1]);(S=S.substring(D[0].length))!=="";)if((D=l.key_access.exec(S))!==null)C.push(D[1]);else if((D=l.index_access.exec(S))!==null)C.push(D[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");g[2]=C}else y|=2;if(y===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");u.push({placeholder:g[0],param_no:g[1],keys:g[2],sign:g[3],pad_char:g[4],align:g[5],width:g[6],precision:g[7],type:g[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");M=M.substring(g[0].length)}return c[d]=u}m.sprintf=i,m.vsprintf=f,typeof window<"u"&&(window.sprintf=i,window.vsprintf=f,r=function(){return{sprintf:i,vsprintf:f}}.call(m,t,m,p),r!==void 0&&(p.exports=r))})()},4162:function(p,m,t){p.exports=x;var r=t(9284),l=t(9584),i={"2d":function(d,M,g){var u=d({order:M,scalarArguments:3,getters:g==="generic"?[0]:void 0,phase:function(C,S,D,T){return C>T|0},vertex:function(C,S,D,T,P,A,a,R,b,N,O,Y,B){var W=(a<<0)+(R<<1)+(b<<2)+(N<<3)|0;if(!(W===0||W===15))switch(W){case 0:O.push([C-.5,S-.5]);break;case 1:O.push([C-.25-.25*(T+D-2*B)/(D-T),S-.25-.25*(P+D-2*B)/(D-P)]);break;case 2:O.push([C-.75-.25*(-T-D+2*B)/(T-D),S-.25-.25*(A+T-2*B)/(T-A)]);break;case 3:O.push([C-.5,S-.5-.5*(P+D+A+T-4*B)/(D-P+T-A)]);break;case 4:O.push([C-.25-.25*(A+P-2*B)/(P-A),S-.75-.25*(-P-D+2*B)/(P-D)]);break;case 5:O.push([C-.5-.5*(T+D+A+P-4*B)/(D-T+P-A),S-.5]);break;case 6:O.push([C-.5-.25*(-T-D+A+P)/(T-D+P-A),S-.5-.25*(-P-D+A+T)/(P-D+T-A)]);break;case 7:O.push([C-.75-.25*(A+P-2*B)/(P-A),S-.75-.25*(A+T-2*B)/(T-A)]);break;case 8:O.push([C-.75-.25*(-A-P+2*B)/(A-P),S-.75-.25*(-A-T+2*B)/(A-T)]);break;case 9:O.push([C-.5-.25*(T+D+-A-P)/(D-T+A-P),S-.5-.25*(P+D+-A-T)/(D-P+A-T)]);break;case 10:O.push([C-.5-.5*(-T-D+-A-P+4*B)/(T-D+A-P),S-.5]);break;case 11:O.push([C-.25-.25*(-A-P+2*B)/(A-P),S-.75-.25*(P+D-2*B)/(D-P)]);break;case 12:O.push([C-.5,S-.5-.5*(-P-D+-A-T+4*B)/(P-D+A-T)]);break;case 13:O.push([C-.75-.25*(T+D-2*B)/(D-T),S-.25-.25*(-A-T+2*B)/(A-T)]);break;case 14:O.push([C-.25-.25*(-T-D+2*B)/(T-D),S-.25-.25*(-P-D+2*B)/(P-D)]);break;case 15:O.push([C-.5,S-.5]);break}},cell:function(C,S,D,T,P,A,a,R,b){P?R.push([C,S]):R.push([S,C])}});return function(y,C){var S=[],D=[];return u(y,S,D,C),{positions:S,cells:D}}}};function f(d,M){var g=d.length+"d",u=i[g];if(u)return u(r,d,M)}function v(d,M){for(var g=l(d,M),u=g.length,y=new Array(u),C=new Array(u),S=0;S<u;++S)y[S]=[g[S]],C[S]=[S];return{positions:y,cells:C}}var c={};function x(d,y){if(d.dimension<=0)return{positions:[],cells:[]};if(d.dimension===1)return v(d,y);var g=d.order.join()+"-"+d.dtype,u=c[g],y=+y||0;return u||(u=c[g]=f(d.order,d.dtype)),u(d,y)}},6946:function(p,m,t){p.exports=v;var r=t(875),l=window||h.global||{},i=l.__TEXT_CACHE||{};l.__TEXT_CACHE={};function f(c){for(var x=c.cells,d=c.positions,M=new Float32Array(x.length*6),g=0,u=0,y=0;y<x.length;++y)for(var C=x[y],S=0;S<3;++S){var D=d[C[S]];M[g++]=D[0],M[g++]=D[1]+1.4,u=Math.max(D[0],u)}return{data:M,shape:u}}function v(c,x,M){var M=M||{},g=i[c];g||(g=i[c]={" ":{data:new Float32Array(0),shape:.2}});var u=g[x];if(!u)if(x.length<=1||!/\d/.test(x))u=g[x]=f(r(x,{triangles:!0,font:c,textAlign:M.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var y=x.split(/(\d|\s)/),C=new Array(y.length),S=0,D=0,T=0;T<y.length;++T)C[T]=v(c,y[T]),S+=C[T].data.length,D+=C[T].shape,T>0&&(D+=.02);for(var P=new Float32Array(S),A=0,a=-.5*D,T=0;T<C.length;++T){for(var R=C[T].data,b=0;b<R.length;b+=2)P[A++]=R[b]+a,P[A++]=R[b+1];a+=C[T].shape+.02}u=g[x]={data:P,shape:D}}return u}},14:function(p,m,t){var r=t(4405);p.exports=v;var l=96;function i(c,x){var d=r(getComputedStyle(c).getPropertyValue(x));return d[0]*v(d[1],c)}function f(c,x){var d=document.createElement("div");d.style["font-size"]="128"+c,x.appendChild(d);var M=i(d,"font-size")/128;return x.removeChild(d),M}function v(c,x){switch(x=x||document.body,c=(c||"px").trim().toLowerCase(),(x===window||x===document)&&(x=document.body),c){case"%":return x.clientHeight/100;case"ch":case"ex":return f(c,x);case"em":return i(x,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return l;case"cm":return l/2.54;case"mm":return l/25.4;case"pt":return l/72;case"pc":return l/6}return 1}},3440:function(p,m,t){p.exports=C;var r=t(8444),l=t(7437),i=t(4422),f=t(903),v=t(899),c=t(9305);function x(S,D,T){return Math.sqrt(Math.pow(S,2)+Math.pow(D,2)+Math.pow(T,2))}function d(S){return Math.min(1,Math.max(-1,S))}function M(S){var D=Math.abs(S[0]),T=Math.abs(S[1]),P=Math.abs(S[2]),A=[0,0,0];D>Math.max(T,P)?A[2]=1:T>Math.max(D,P)?A[0]=1:A[1]=1;for(var a=0,R=0,b=0;b<3;++b)a+=S[b]*S[b],R+=A[b]*S[b];for(var b=0;b<3;++b)A[b]-=R/a*S[b];return v(A,A),A}function g(S,D,T,P,A,a,R,b){this.center=r(T),this.up=r(P),this.right=r(A),this.radius=r([a]),this.angle=r([R,b]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(S,D),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var N=0;N<16;++N)this.computedMatrix[N]=.5;this.recalcMatrix(0)}var u=g.prototype;u.setDistanceLimits=function(S,D){S>0?S=Math.log(S):S=-1/0,D>0?D=Math.log(D):D=1/0,D=Math.max(D,S),this.radius.bounds[0][0]=S,this.radius.bounds[1][0]=D},u.getDistanceLimits=function(S){var D=this.radius.bounds[0];return S?(S[0]=Math.exp(D[0][0]),S[1]=Math.exp(D[1][0]),S):[Math.exp(D[0][0]),Math.exp(D[1][0])]},u.recalcMatrix=function(S){this.center.curve(S),this.up.curve(S),this.right.curve(S),this.radius.curve(S),this.angle.curve(S);for(var D=this.computedUp,T=this.computedRight,P=0,A=0,a=0;a<3;++a)A+=D[a]*T[a],P+=D[a]*D[a];for(var R=Math.sqrt(P),b=0,a=0;a<3;++a)T[a]-=D[a]*A/P,b+=T[a]*T[a],D[a]/=R;for(var N=Math.sqrt(b),a=0;a<3;++a)T[a]/=N;var O=this.computedToward;f(O,D,T),v(O,O);for(var Y=Math.exp(this.computedRadius[0]),B=this.computedAngle[0],W=this.computedAngle[1],H=Math.cos(B),U=Math.sin(B),G=Math.cos(W),j=Math.sin(W),re=this.computedCenter,ae=H*G,ue=U*G,de=j,ee=-H*j,X=-U*j,Q=G,$=this.computedEye,ne=this.computedMatrix,a=0;a<3;++a){var fe=ae*T[a]+ue*O[a]+de*D[a];ne[4*a+1]=ee*T[a]+X*O[a]+Q*D[a],ne[4*a+2]=fe,ne[4*a+3]=0}var te=ne[1],q=ne[5],he=ne[9],se=ne[2],pe=ne[6],we=ne[10],Ee=q*we-he*pe,Me=he*se-te*we,Be=te*pe-q*se,Ne=x(Ee,Me,Be);Ee/=Ne,Me/=Ne,Be/=Ne,ne[0]=Ee,ne[4]=Me,ne[8]=Be;for(var a=0;a<3;++a)$[a]=re[a]+ne[2+4*a]*Y;for(var a=0;a<3;++a){for(var b=0,Ce=0;Ce<3;++Ce)b+=ne[a+4*Ce]*$[Ce];ne[12+a]=-b}ne[15]=1},u.getMatrix=function(S,D){this.recalcMatrix(S);var T=this.computedMatrix;if(D){for(var P=0;P<16;++P)D[P]=T[P];return D}return T};var y=[0,0,0];u.rotate=function(S,D,T,P){if(this.angle.move(S,D,T),P){this.recalcMatrix(S);var A=this.computedMatrix;y[0]=A[2],y[1]=A[6],y[2]=A[10];for(var a=this.computedUp,R=this.computedRight,b=this.computedToward,N=0;N<3;++N)A[4*N]=a[N],A[4*N+1]=R[N],A[4*N+2]=b[N];i(A,A,P,y);for(var N=0;N<3;++N)a[N]=A[4*N],R[N]=A[4*N+1];this.up.set(S,a[0],a[1],a[2]),this.right.set(S,R[0],R[1],R[2])}},u.pan=function(S,D,T,P){D=D||0,T=T||0,P=P||0,this.recalcMatrix(S);var A=this.computedMatrix;Math.exp(this.computedRadius[0]);var a=A[1],R=A[5],b=A[9],N=x(a,R,b);a/=N,R/=N,b/=N;var O=A[0],Y=A[4],B=A[8],W=O*a+Y*R+B*b;O-=a*W,Y-=R*W,B-=b*W;var H=x(O,Y,B);O/=H,Y/=H,B/=H;var U=O*D+a*T,G=Y*D+R*T,j=B*D+b*T;this.center.move(S,U,G,j);var re=Math.exp(this.computedRadius[0]);re=Math.max(1e-4,re+P),this.radius.set(S,Math.log(re))},u.translate=function(S,D,T,P){this.center.move(S,D||0,T||0,P||0)},u.setMatrix=function(S,D,T,P){var A=1;typeof T=="number"&&(A=T|0),(A<0||A>3)&&(A=1);var a=(A+2)%3;D||(this.recalcMatrix(S),D=this.computedMatrix);var R=D[A],b=D[A+4],N=D[A+8];if(P){var Y=Math.abs(R),B=Math.abs(b),W=Math.abs(N),H=Math.max(Y,B,W);Y===H?(R=R<0?-1:1,b=N=0):W===H?(N=N<0?-1:1,R=b=0):(b=b<0?-1:1,R=N=0)}else{var O=x(R,b,N);R/=O,b/=O,N/=O}var U=D[a],G=D[a+4],j=D[a+8],re=U*R+G*b+j*N;U-=R*re,G-=b*re,j-=N*re;var ae=x(U,G,j);U/=ae,G/=ae,j/=ae;var ue=b*j-N*G,de=N*U-R*j,ee=R*G-b*U,X=x(ue,de,ee);ue/=X,de/=X,ee/=X,this.center.jump(S,We,Fe,Ge),this.radius.idle(S),this.up.jump(S,R,b,N),this.right.jump(S,U,G,j);var Q,$;if(A===2){var ne=D[1],fe=D[5],te=D[9],q=ne*U+fe*G+te*j,he=ne*ue+fe*de+te*ee;Ee<0?Q=-Math.PI/2:Q=Math.PI/2,$=Math.atan2(he,q)}else{var se=D[2],pe=D[6],we=D[10],Ee=se*R+pe*b+we*N,Me=se*U+pe*G+we*j,Be=se*ue+pe*de+we*ee;Q=Math.asin(d(Ee)),$=Math.atan2(Be,Me)}this.angle.jump(S,$,Q),this.recalcMatrix(S);var Ne=D[2],Ce=D[6],Te=D[10],Le=this.computedMatrix;l(Le,D);var Ve=Le[15],We=Le[12]/Ve,Fe=Le[13]/Ve,Ge=Le[14]/Ve,it=Math.exp(this.computedRadius[0]);this.center.jump(S,We-Ne*it,Fe-Ce*it,Ge-Te*it)},u.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},u.idle=function(S){this.center.idle(S),this.up.idle(S),this.right.idle(S),this.radius.idle(S),this.angle.idle(S)},u.flush=function(S){this.center.flush(S),this.up.flush(S),this.right.flush(S),this.radius.flush(S),this.angle.flush(S)},u.setDistance=function(S,D){D>0&&this.radius.set(S,Math.log(D))},u.lookAt=function(S,D,T,P){this.recalcMatrix(S),D=D||this.computedEye,T=T||this.computedCenter,P=P||this.computedUp;var A=P[0],a=P[1],R=P[2],b=x(A,a,R);if(!(b<1e-6)){A/=b,a/=b,R/=b;var N=D[0]-T[0],O=D[1]-T[1],Y=D[2]-T[2],B=x(N,O,Y);if(!(B<1e-6)){N/=B,O/=B,Y/=B;var W=this.computedRight,H=W[0],U=W[1],G=W[2],j=A*H+a*U+R*G;H-=j*A,U-=j*a,G-=j*R;var re=x(H,U,G);if(!(re<.01&&(H=a*Y-R*O,U=R*N-A*Y,G=A*O-a*N,re=x(H,U,G),re<1e-6))){H/=re,U/=re,G/=re,this.up.set(S,A,a,R),this.right.set(S,H,U,G),this.center.set(S,T[0],T[1],T[2]),this.radius.set(S,Math.log(B));var ae=a*G-R*U,ue=R*H-A*G,de=A*U-a*H,ee=x(ae,ue,de);ae/=ee,ue/=ee,de/=ee;var X=A*N+a*O+R*Y,Q=H*N+U*O+G*Y,$=ae*N+ue*O+de*Y,ne=Math.asin(d(X)),fe=Math.atan2($,Q),te=this.angle._state,q=te[te.length-1],he=te[te.length-2];q=q%(2*Math.PI);var se=Math.abs(q+2*Math.PI-fe),pe=Math.abs(q-fe),we=Math.abs(q-2*Math.PI-fe);se<pe&&(q+=2*Math.PI),we<pe&&(q-=2*Math.PI),this.angle.jump(this.angle.lastT(),q,he),this.angle.set(S,fe,ne)}}}};function C(S){S=S||{};var D=S.center||[0,0,0],T=S.up||[0,1,0],P=S.right||M(T),A=S.radius||1,a=S.theta||0,R=S.phi||0;if(D=[].slice.call(D,0,3),T=[].slice.call(T,0,3),v(T,T),P=[].slice.call(P,0,3),v(P,P),"eye"in S){var b=S.eye,N=[b[0]-D[0],b[1]-D[1],b[2]-D[2]];f(P,N,T),x(P[0],P[1],P[2])<1e-6?P=M(T):v(P,P),A=x(N[0],N[1],N[2]);var O=c(T,N)/A,Y=c(P,N)/A;R=Math.acos(O),a=Math.acos(Y)}return A=Math.log(A),new g(S.zoomMin,S.zoomMax,D,T,P,A,a,R)}},9660:function(p){p.exports=t;var m=+(Math.pow(2,27)+1);function t(r,l,i){var f=r*l,v=m*r,c=v-r,x=v-c,d=r-x,M=m*l,g=M-l,u=M-g,y=l-u,C=f-x*u,S=C-d*u,D=S-x*y,T=d*y-D;return i?(i[0]=T,i[1]=f,i):[T,f]}},87:function(p){p.exports=m;function m(t,r,l){var i=t+r,f=i-t,v=i-f,c=r-f,x=t-v;return l?(l[0]=x+c,l[1]=i,l):[x+c,i]}},5306:function(p,m,t){var r=t(2288),l=t(3094),i=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:l([32,0]),UINT16:l([32,0]),UINT32:l([32,0]),BIGUINT64:l([32,0]),INT8:l([32,0]),INT16:l([32,0]),INT32:l([32,0]),BIGINT64:l([32,0]),FLOAT:l([32,0]),DOUBLE:l([32,0]),DATA:l([32,0]),UINT8C:l([32,0]),BUFFER:l([32,0])});var f=typeof Uint8ClampedArray<"u",v=typeof BigUint64Array<"u",c=typeof BigInt64Array<"u",x=t.g.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=l([32,0])),x.BIGUINT64||(x.BIGUINT64=l([32,0])),x.BIGINT64||(x.BIGINT64=l([32,0])),x.BUFFER||(x.BUFFER=l([32,0]));var d=x.DATA,M=x.BUFFER;m.free=function(H){if(i.isBuffer(H))M[r.log2(H.length)].push(H);else{if(Object.prototype.toString.call(H)!=="[object ArrayBuffer]"&&(H=H.buffer),!H)return;var U=H.length||H.byteLength,G=r.log2(U)|0;d[G].push(H)}};function g(W){if(W){var H=W.length||W.byteLength,U=r.log2(H);d[U].push(W)}}function u(W){g(W.buffer)}m.freeUint8=m.freeUint16=m.freeUint32=m.freeBigUint64=m.freeInt8=m.freeInt16=m.freeInt32=m.freeBigInt64=m.freeFloat32=m.freeFloat=m.freeFloat64=m.freeDouble=m.freeUint8Clamped=m.freeDataView=u,m.freeArrayBuffer=g,m.freeBuffer=function(H){M[r.log2(H.length)].push(H)},m.malloc=function(H,U){if(U===void 0||U==="arraybuffer")return y(H);switch(U){case"uint8":return C(H);case"uint16":return S(H);case"uint32":return D(H);case"int8":return T(H);case"int16":return P(H);case"int32":return A(H);case"float":case"float32":return a(H);case"double":case"float64":return R(H);case"uint8_clamped":return b(H);case"bigint64":return O(H);case"biguint64":return N(H);case"buffer":return B(H);case"data":case"dataview":return Y(H);default:return null}return null};function y(H){var H=r.nextPow2(H),U=r.log2(H),G=d[U];return G.length>0?G.pop():new ArrayBuffer(H)}m.mallocArrayBuffer=y;function C(W){return new Uint8Array(y(W),0,W)}m.mallocUint8=C;function S(W){return new Uint16Array(y(2*W),0,W)}m.mallocUint16=S;function D(W){return new Uint32Array(y(4*W),0,W)}m.mallocUint32=D;function T(W){return new Int8Array(y(W),0,W)}m.mallocInt8=T;function P(W){return new Int16Array(y(2*W),0,W)}m.mallocInt16=P;function A(W){return new Int32Array(y(4*W),0,W)}m.mallocInt32=A;function a(W){return new Float32Array(y(4*W),0,W)}m.mallocFloat32=m.mallocFloat=a;function R(W){return new Float64Array(y(8*W),0,W)}m.mallocFloat64=m.mallocDouble=R;function b(W){return f?new Uint8ClampedArray(y(W),0,W):C(W)}m.mallocUint8Clamped=b;function N(W){return v?new BigUint64Array(y(8*W),0,W):null}m.mallocBigUint64=N;function O(W){return c?new BigInt64Array(y(8*W),0,W):null}m.mallocBigInt64=O;function Y(W){return new DataView(y(W),0,W)}m.mallocDataView=Y;function B(W){W=r.nextPow2(W);var H=r.log2(W),U=M[H];return U.length>0?U.pop():new i(W)}m.mallocBuffer=B,m.clearCache=function(){for(var H=0;H<32;++H)x.UINT8[H].length=0,x.UINT16[H].length=0,x.UINT32[H].length=0,x.INT8[H].length=0,x.INT16[H].length=0,x.INT32[H].length=0,x.FLOAT[H].length=0,x.DOUBLE[H].length=0,x.BIGUINT64[H].length=0,x.BIGINT64[H].length=0,x.UINT8C[H].length=0,d[H].length=0,M[H].length=0}},1731:function(p){p.exports=m;function m(r){this.roots=new Array(r),this.ranks=new Array(r);for(var l=0;l<r;++l)this.roots[l]=l,this.ranks[l]=0}var t=m.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var l=r,i=this.roots;i[r]!==r;)r=i[r];for(;i[l]!==r;){var f=i[l];i[l]=r,l=f}return r},t.link=function(r,l){var i=this.find(r),f=this.find(l);if(i!==f){var v=this.ranks,c=this.roots,x=v[i],d=v[f];x<d?c[i]=f:d<x?c[f]=i:(c[f]=i,++v[i])}}},1215:function(p){function m(l,i){for(var f=1,v=l.length,c=l[0],x=l[0],d=1;d<v;++d)if(x=c,c=l[d],i(c,x)){if(d===f){f++;continue}l[f++]=c}return l.length=f,l}function t(l){for(var i=1,f=l.length,v=l[0],c=l[0],x=1;x<f;++x,c=v)if(c=v,v=l[x],v!==c){if(x===i){i++;continue}l[i++]=v}return l.length=i,l}function r(l,i,f){return l.length===0?l:i?(f||l.sort(i),m(l,i)):(f||l.sort(),t(l))}p.exports=r},875:function(p,m,t){p.exports=f;var r=t(712),l=null,i=null;typeof document<"u"&&(l=document.createElement("canvas"),l.width=8192,l.height=1024,i=l.getContext("2d"));function f(v,c){return(typeof c!="object"||c===null)&&(c={}),r(v,c.canvas||l,c.context||i,c)}},712:function(p,m,t){p.exports=O,p.exports.processPixels=N;var r=t(4162),l=t(5050),i=t(8243),f=t(197),v=t(7761),c=t(8040),x="b",d="b|",M="i",g="i|",u="sup",y="+",C="+1",S="sub",D="-",T="-1";function P(Y,B,W,H){for(var U="<"+Y+">",G="</"+Y+">",j=U.length,re=G.length,ae=B[0]===y||B[0]===D,ue=0,de=-re;ue>-1&&(ue=W.indexOf(U,ue),!(ue===-1||(de=W.indexOf(G,ue+j),de===-1)||de<=ue));){for(var ee=ue;ee<de+re;++ee)if(ee<ue+j||ee>=de)H[ee]=null,W=W.substr(0,ee)+" "+W.substr(ee+1);else if(H[ee]!==null){var X=H[ee].indexOf(B[0]);X===-1?H[ee]+=B:ae&&(H[ee]=H[ee].substr(0,X+1)+(1+parseInt(H[ee][X+1]))+H[ee].substr(X+2))}var Q=ue+j,$=W.substr(Q,de-Q),ne=$.indexOf(U);ne!==-1?ue=ne:ue=de+re}return H}function A(Y,B,W){for(var H=B.textAlign||"start",U=B.textBaseline||"alphabetic",G=[1<<30,1<<30],j=[0,0],re=Y.length,ae=0;ae<re;++ae)for(var ue=Y[ae],de=0;de<2;++de)G[de]=Math.min(G[de],ue[de])|0,j[de]=Math.max(j[de],ue[de])|0;var ee=0;switch(H){case"center":ee=-.5*(G[0]+j[0]);break;case"right":case"end":ee=-j[0];break;case"left":case"start":ee=-G[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+H+"'")}var X=0;switch(U){case"hanging":case"top":X=-G[1];break;case"middle":X=-.5*(G[1]+j[1]);break;case"alphabetic":case"ideographic":X=-3*W;break;case"bottom":X=-j[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+U+"'")}var Q=1/W;return"lineHeight"in B?Q*=+B.lineHeight:"width"in B?Q=B.width/(j[0]-G[0]):"height"in B&&(Q=B.height/(j[1]-G[1])),Y.map(function($){return[Q*($[0]+ee),Q*($[1]+X)]})}function a(Y,B,W,H,U,G){W=W.replace(/\n/g,""),G.breaklines===!0?W=W.replace(/\<br\>/g,`
`):W=W.replace(/\<br\>/g," ");var j="",re=[];for(q=0;q<W.length;++q)re[q]=j;G.bolds===!0&&(re=P(x,d,W,re)),G.italics===!0&&(re=P(M,g,W,re)),G.superscripts===!0&&(re=P(u,C,W,re)),G.subscripts===!0&&(re=P(S,T,W,re));var ae=[],ue="";for(q=0;q<W.length;++q)re[q]!==null&&(ue+=W[q],ae.push(re[q]));var de=ue.split(`
`),ee=de.length,X=Math.round(U*H),Q=H,$=H*2,ne=0,fe=ee*X+$;Y.height<fe&&(Y.height=fe),B.fillStyle="#000",B.fillRect(0,0,Y.width,Y.height),B.fillStyle="#fff";var te,q,he,se,pe,we=0,Ee="";function Me(){if(Ee!==""){var Ge=B.measureText(Ee).width;B.fillText(Ee,Q+he,$+se),he+=Ge}}function Be(){return""+Math.round(pe)+"px "}function Ne(Ge,it){var qe=""+B.font;if(G.subscripts===!0){var $e=Ge.indexOf(D),tt=it.indexOf(D),vt=$e>-1?parseInt(Ge[1+$e]):0,dt=tt>-1?parseInt(it[1+tt]):0;vt!==dt&&(qe=qe.replace(Be(),"?px "),pe*=Math.pow(.75,dt-vt),qe=qe.replace("?px ",Be())),se+=.25*X*(dt-vt)}if(G.superscripts===!0){var gt=Ge.indexOf(y),Mt=it.indexOf(y),Ct=gt>-1?parseInt(Ge[1+gt]):0,Wt=Mt>-1?parseInt(it[1+Mt]):0;Ct!==Wt&&(qe=qe.replace(Be(),"?px "),pe*=Math.pow(.75,Wt-Ct),qe=qe.replace("?px ",Be())),se-=.25*X*(Wt-Ct)}if(G.bolds===!0){var Xe=Ge.indexOf(d)>-1,ke=it.indexOf(d)>-1;!Xe&&ke&&(Ie?qe=qe.replace("italic ","italic bold "):qe="bold "+qe),Xe&&!ke&&(qe=qe.replace("bold ",""))}if(G.italics===!0){var Ie=Ge.indexOf(g)>-1,Oe=it.indexOf(g)>-1;!Ie&&Oe&&(qe="italic "+qe),Ie&&!Oe&&(qe=qe.replace("italic ",""))}B.font=qe}for(te=0;te<ee;++te){var Ce=de[te]+`
`;for(he=0,se=te*X,pe=H,Ee="",q=0;q<Ce.length;++q){var Te=q+we<ae.length?ae[q+we]:ae[ae.length-1];j===Te?Ee+=Ce[q]:(Me(),Ee=Ce[q],Te!==void 0&&(Ne(j,Te),j=Te))}Me(),we+=Ce.length;var Le=Math.round(he+2*Q)|0;ne<Le&&(ne=Le)}var Ve=ne,We=$+X*ee,Fe=l(B.getImageData(0,0,Ve,We).data,[We,Ve,4]);return Fe.pick(-1,-1,0).transpose(1,0)}function R(Y,B){var W=r(Y,128);return B?i(W.cells,W.positions,.25):{edges:W.cells,positions:W.positions}}function b(Y,B,W,H){var U=R(Y,H),G=A(U.positions,B,W),j=U.edges,re=B.orientation==="ccw";if(f(G,j),B.polygons||B.polygon||B.polyline){for(var ae=c(j,G),ue=new Array(ae.length),de=0;de<ae.length;++de){for(var ee=ae[de],X=new Array(ee.length),Q=0;Q<ee.length;++Q){for(var $=ee[Q],ne=new Array($.length),fe=0;fe<$.length;++fe)ne[fe]=G[$[fe]].slice();re&&ne.reverse(),X[Q]=ne}ue[de]=X}return ue}else return B.triangles||B.triangulate||B.triangle?{cells:v(G,j,{delaunay:!1,exterior:!1,interior:!0}),positions:G}:{edges:j,positions:G}}function N(Y,B,W){try{return b(Y,B,W,!0)}catch{}try{return b(Y,B,W,!1)}catch{}return B.polygons||B.polyline||B.polygon?[]:B.triangles||B.triangulate||B.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function O(Y,B,W,H){var U=64,G=1.25,j={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};H&&(H.size&&H.size>0&&(U=H.size),H.lineSpacing&&H.lineSpacing>0&&(G=H.lineSpacing),H.styletags&&H.styletags.breaklines&&(j.breaklines=!!H.styletags.breaklines),H.styletags&&H.styletags.bolds&&(j.bolds=!!H.styletags.bolds),H.styletags&&H.styletags.italics&&(j.italics=!!H.styletags.italics),H.styletags&&H.styletags.subscripts&&(j.subscripts=!!H.styletags.subscripts),H.styletags&&H.styletags.superscripts&&(j.superscripts=!!H.styletags.superscripts)),W.font=[H.fontStyle,H.fontVariant,H.fontWeight,U+"px",H.font].filter(function(ae){return ae}).join(" "),W.textAlign="start",W.textBaseline="alphabetic",W.direction="ltr";var re=a(B,W,Y,U,G,j);return N(re,H,U)}},5346:function(p){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(R){R.permitHostObjects___&&R.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var l=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new l,f=Object.freeze({});if(i.set(f,1),i.get(f)!==1)r=!0;else{p.exports=WeakMap;return}}}var v=Object.getOwnPropertyNames,c=Object.defineProperty,x=Object.isExtensible,d="weakmap:",M=d+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var g=new ArrayBuffer(25),u=new Uint8Array(g);crypto.getRandomValues(u),M=d+"rand:"+Array.prototype.map.call(u,function(R){return(R%36).toString(36)}).join("")+"___"}function y(R){return!(R.substr(0,d.length)==d&&R.substr(R.length-3)==="___")}if(c(Object,"getOwnPropertyNames",{value:function(b){return v(b).filter(y)}}),"getPropertyNames"in Object){var C=Object.getPropertyNames;c(Object,"getPropertyNames",{value:function(b){return C(b).filter(y)}})}function S(R){if(R!==Object(R))throw new TypeError("Not an object: "+R);var b=R[M];if(b&&b.key===R)return b;if(x(R)){b={key:R};try{return c(R,M,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch{return}}}(function(){var R=Object.freeze;c(Object,"freeze",{value:function(Y){return S(Y),R(Y)}});var b=Object.seal;c(Object,"seal",{value:function(Y){return S(Y),b(Y)}});var N=Object.preventExtensions;c(Object,"preventExtensions",{value:function(Y){return S(Y),N(Y)}})})();function D(R){return R.prototype=null,Object.freeze(R)}var T=!1;function P(){!T&&typeof console<"u"&&(T=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var A=0,a=function(){this instanceof a||P();var R=[],b=[],N=A++;function O(H,U){var G,j=S(H);return j?N in j?j[N]:U:(G=R.indexOf(H),G>=0?b[G]:U)}function Y(H){var U=S(H);return U?N in U:R.indexOf(H)>=0}function B(H,U){var G,j=S(H);return j?j[N]=U:(G=R.indexOf(H),G>=0?b[G]=U:(G=R.length,b[G]=U,R[G]=H)),this}function W(H){var U=S(H),G,j;return U?N in U&&delete U[N]:(G=R.indexOf(H),G<0?!1:(j=R.length-1,R[G]=void 0,b[G]=b[j],R[G]=R[j],R.length=j,b.length=j,!0))}return Object.create(a.prototype,{get___:{value:D(O)},has___:{value:D(Y)},set___:{value:D(B)},delete___:{value:D(W)}})};a.prototype=Object.create(Object.prototype,{get:{value:function(b,N){return this.get___(b,N)},writable:!0,configurable:!0},has:{value:function(b){return this.has___(b)},writable:!0,configurable:!0},set:{value:function(b,N){return this.set___(b,N)},writable:!0,configurable:!0},delete:{value:function(b){return this.delete___(b)},writable:!0,configurable:!0}}),typeof l=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function R(){this instanceof a||P();var b=new l,N=void 0,O=!1;function Y(U,G){return N?b.has(U)?b.get(U):N.get___(U,G):b.get(U,G)}function B(U){return b.has(U)||(N?N.has___(U):!1)}var W;r?W=function(U,G){return b.set(U,G),b.has(U)||(N||(N=new a),N.set(U,G)),this}:W=function(U,G){if(O)try{b.set(U,G)}catch{N||(N=new a),N.set___(U,G)}else b.set(U,G);return this};function H(U){var G=!!b.delete(U);return N&&N.delete___(U)||G}return Object.create(a.prototype,{get___:{value:D(Y)},has___:{value:D(B)},set___:{value:D(W)},delete___:{value:D(H)},permitHostObjects___:{value:D(function(U){if(U===t)O=!0;else throw new Error("bogus call to permitHostObjects___")})}})}R.prototype=a.prototype,p.exports=R,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),p.exports=a)})()},9222:function(p,m,t){var r=t(7178);p.exports=l;function l(){var i={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var v=f.valueOf(i);return v&&v.identity===i?v:r(f,i)}}},7178:function(p){p.exports=m;function m(t,r){var l={identity:r},i=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(f){return f!==r?i.apply(this,arguments):l},writable:!0}),l}},4037:function(p,m,t){var r=t(9222);p.exports=l;function l(){var i=r();return{get:function(f,v){var c=i(f);return c.hasOwnProperty("value")?c.value:v},set:function(f,v){return i(f).value=v,this},has:function(f){return"value"in i(f)},delete:function(f){return delete i(f).value}}}},6183:function(p){function m(){return function(v,c,x,d,M,g){var u=v[0],y=x[0],C=[0],S=y;d|=0;var D=0,T=y;for(D=0;D<u;++D){{var P=c[d]-g,A=c[d+S]-g;P>=0!=A>=0&&M.push(C[0]+.5+.5*(P+A)/(P-A))}d+=T,++C[0]}}}function t(){return m()}var r=t;function l(v){var c={};return function(d,M,g){var u=d.dtype,y=d.order,C=[u,y.join()].join(),S=c[C];return S||(c[C]=S=v([u,y])),S(d.shape.slice(0),d.data,d.stride,d.offset|0,M,g)}}function i(v){return l(r.bind(void 0,v))}function f(v){return i({funcName:v.funcName})}p.exports=f({funcName:"zeroCrossings"})},9584:function(p,m,t){p.exports=l;var r=t(6183);function l(i,f){var v=[];return f=+f||0,r(i.hi(i.shape[0]-1),v,f),v}},6601:function(){}},n={};function L(p){var m=n[p];if(m!==void 0)return m.exports;var t=n[p]={id:p,loaded:!1,exports:{}};return E[p].call(t.exports,t,t.exports,L),t.loaded=!0,t.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(p){return p.paths=[],p.children||(p.children=[]),p}}();var w=L(7386);return w}()})},12856:function(k,F,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function h(Xe,ke){if(!(Xe instanceof ke))throw new TypeError("Cannot call a class as a function")}function E(Xe,ke){for(var Ie=0;Ie<ke.length;Ie++){var Oe=ke[Ie];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(Xe,L(Oe.key),Oe)}}function n(Xe,ke,Ie){return ke&&E(Xe.prototype,ke),Ie&&E(Xe,Ie),Object.defineProperty(Xe,"prototype",{writable:!1}),Xe}function L(Xe){var ke=w(Xe,"string");return v(ke)==="symbol"?ke:String(ke)}function w(Xe,ke){if(v(Xe)!=="object"||Xe===null)return Xe;var Ie=Xe[Symbol.toPrimitive];if(Ie!==void 0){var Oe=Ie.call(Xe,ke||"default");if(v(Oe)!=="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ke==="string"?String:Number)(Xe)}function p(Xe,ke){if(typeof ke!="function"&&ke!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(ke&&ke.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),ke&&m(Xe,ke)}function m(Xe,ke){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Oe,_e){return Oe.__proto__=_e,Oe},m(Xe,ke)}function t(Xe){var ke=i();return function(){var Oe=f(Xe),_e;if(ke){var Ae=f(this).constructor;_e=Reflect.construct(Oe,arguments,Ae)}else _e=Oe.apply(this,arguments);return r(this,_e)}}function r(Xe,ke){if(ke&&(v(ke)==="object"||typeof ke=="function"))return ke;if(ke!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(Xe)}function l(Xe){if(Xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xe}function i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(Xe){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ie){return Ie.__proto__||Object.getPrototypeOf(Ie)},f(Xe)}function v(Xe){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},v(Xe)}var c=e(95341),x=e(95280),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;F.Buffer=y,F.SlowBuffer=O,F.INSPECT_MAX_BYTES=50;var M=2147483647;F.kMaxLength=M,y.TYPED_ARRAY_SUPPORT=g(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function g(){try{var Xe=new Uint8Array(1),ke={foo:function(){return 42}};return Object.setPrototypeOf(ke,Uint8Array.prototype),Object.setPrototypeOf(Xe,ke),Xe.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function u(Xe){if(Xe>M)throw new RangeError('The value "'+Xe+'" is invalid for option "size"');var ke=new Uint8Array(Xe);return Object.setPrototypeOf(ke,y.prototype),ke}function y(Xe,ke,Ie){if(typeof Xe=="number"){if(typeof ke=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(Xe)}return C(Xe,ke,Ie)}y.poolSize=8192;function C(Xe,ke,Ie){if(typeof Xe=="string")return P(Xe,ke);if(ArrayBuffer.isView(Xe))return a(Xe);if(Xe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+v(Xe));if(dt(Xe,ArrayBuffer)||Xe&&dt(Xe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dt(Xe,SharedArrayBuffer)||Xe&&dt(Xe.buffer,SharedArrayBuffer)))return R(Xe,ke,Ie);if(typeof Xe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Oe=Xe.valueOf&&Xe.valueOf();if(Oe!=null&&Oe!==Xe)return y.from(Oe,ke,Ie);var _e=b(Xe);if(_e)return _e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Xe[Symbol.toPrimitive]=="function")return y.from(Xe[Symbol.toPrimitive]("string"),ke,Ie);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+v(Xe))}y.from=function(Xe,ke,Ie){return C(Xe,ke,Ie)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array);function S(Xe){if(typeof Xe!="number")throw new TypeError('"size" argument must be of type number');if(Xe<0)throw new RangeError('The value "'+Xe+'" is invalid for option "size"')}function D(Xe,ke,Ie){return S(Xe),Xe<=0?u(Xe):ke!==void 0?typeof Ie=="string"?u(Xe).fill(ke,Ie):u(Xe).fill(ke):u(Xe)}y.alloc=function(Xe,ke,Ie){return D(Xe,ke,Ie)};function T(Xe){return S(Xe),u(Xe<0?0:N(Xe)|0)}y.allocUnsafe=function(Xe){return T(Xe)},y.allocUnsafeSlow=function(Xe){return T(Xe)};function P(Xe,ke){if((typeof ke!="string"||ke==="")&&(ke="utf8"),!y.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);var Ie=Y(Xe,ke)|0,Oe=u(Ie),_e=Oe.write(Xe,ke);return _e!==Ie&&(Oe=Oe.slice(0,_e)),Oe}function A(Xe){for(var ke=Xe.length<0?0:N(Xe.length)|0,Ie=u(ke),Oe=0;Oe<ke;Oe+=1)Ie[Oe]=Xe[Oe]&255;return Ie}function a(Xe){if(dt(Xe,Uint8Array)){var ke=new Uint8Array(Xe);return R(ke.buffer,ke.byteOffset,ke.byteLength)}return A(Xe)}function R(Xe,ke,Ie){if(ke<0||Xe.byteLength<ke)throw new RangeError('"offset" is outside of buffer bounds');if(Xe.byteLength<ke+(Ie||0))throw new RangeError('"length" is outside of buffer bounds');var Oe;return ke===void 0&&Ie===void 0?Oe=new Uint8Array(Xe):Ie===void 0?Oe=new Uint8Array(Xe,ke):Oe=new Uint8Array(Xe,ke,Ie),Object.setPrototypeOf(Oe,y.prototype),Oe}function b(Xe){if(y.isBuffer(Xe)){var ke=N(Xe.length)|0,Ie=u(ke);return Ie.length===0||Xe.copy(Ie,0,0,ke),Ie}if(Xe.length!==void 0)return typeof Xe.length!="number"||gt(Xe.length)?u(0):A(Xe);if(Xe.type==="Buffer"&&Array.isArray(Xe.data))return A(Xe.data)}function N(Xe){if(Xe>=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");return Xe|0}function O(Xe){return+Xe!=Xe&&(Xe=0),y.alloc(+Xe)}y.isBuffer=function(ke){return ke!=null&&ke._isBuffer===!0&&ke!==y.prototype},y.compare=function(ke,Ie){if(dt(ke,Uint8Array)&&(ke=y.from(ke,ke.offset,ke.byteLength)),dt(Ie,Uint8Array)&&(Ie=y.from(Ie,Ie.offset,Ie.byteLength)),!y.isBuffer(ke)||!y.isBuffer(Ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ke===Ie)return 0;for(var Oe=ke.length,_e=Ie.length,Ae=0,ce=Math.min(Oe,_e);Ae<ce;++Ae)if(ke[Ae]!==Ie[Ae]){Oe=ke[Ae],_e=Ie[Ae];break}return Oe<_e?-1:_e<Oe?1:0},y.isEncoding=function(ke){switch(String(ke).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(ke,Ie){if(!Array.isArray(ke))throw new TypeError('"list" argument must be an Array of Buffers');if(ke.length===0)return y.alloc(0);var Oe;if(Ie===void 0)for(Ie=0,Oe=0;Oe<ke.length;++Oe)Ie+=ke[Oe].length;var _e=y.allocUnsafe(Ie),Ae=0;for(Oe=0;Oe<ke.length;++Oe){var ce=ke[Oe];if(dt(ce,Uint8Array))Ae+ce.length>_e.length?(y.isBuffer(ce)||(ce=y.from(ce)),ce.copy(_e,Ae)):Uint8Array.prototype.set.call(_e,ce,Ae);else if(y.isBuffer(ce))ce.copy(_e,Ae);else throw new TypeError('"list" argument must be an Array of Buffers');Ae+=ce.length}return _e};function Y(Xe,ke){if(y.isBuffer(Xe))return Xe.length;if(ArrayBuffer.isView(Xe)||dt(Xe,ArrayBuffer))return Xe.byteLength;if(typeof Xe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+v(Xe));var Ie=Xe.length,Oe=arguments.length>2&&arguments[2]===!0;if(!Oe&&Ie===0)return 0;for(var _e=!1;;)switch(ke){case"ascii":case"latin1":case"binary":return Ie;case"utf8":case"utf-8":return it(Xe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie*2;case"hex":return Ie>>>1;case"base64":return tt(Xe).length;default:if(_e)return Oe?-1:it(Xe).length;ke=(""+ke).toLowerCase(),_e=!0}}y.byteLength=Y;function B(Xe,ke,Ie){var Oe=!1;if((ke===void 0||ke<0)&&(ke=0),ke>this.length||((Ie===void 0||Ie>this.length)&&(Ie=this.length),Ie<=0)||(Ie>>>=0,ke>>>=0,Ie<=ke))return"";for(Xe||(Xe="utf8");;)switch(Xe){case"hex":return fe(this,ke,Ie);case"utf8":case"utf-8":return ee(this,ke,Ie);case"ascii":return $(this,ke,Ie);case"latin1":case"binary":return ne(this,ke,Ie);case"base64":return de(this,ke,Ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,ke,Ie);default:if(Oe)throw new TypeError("Unknown encoding: "+Xe);Xe=(Xe+"").toLowerCase(),Oe=!0}}y.prototype._isBuffer=!0;function W(Xe,ke,Ie){var Oe=Xe[ke];Xe[ke]=Xe[Ie],Xe[Ie]=Oe}y.prototype.swap16=function(){var ke=this.length;if(ke%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ie=0;Ie<ke;Ie+=2)W(this,Ie,Ie+1);return this},y.prototype.swap32=function(){var ke=this.length;if(ke%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ie=0;Ie<ke;Ie+=4)W(this,Ie,Ie+3),W(this,Ie+1,Ie+2);return this},y.prototype.swap64=function(){var ke=this.length;if(ke%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ie=0;Ie<ke;Ie+=8)W(this,Ie,Ie+7),W(this,Ie+1,Ie+6),W(this,Ie+2,Ie+5),W(this,Ie+3,Ie+4);return this},y.prototype.toString=function(){var ke=this.length;return ke===0?"":arguments.length===0?ee(this,0,ke):B.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(ke){if(!y.isBuffer(ke))throw new TypeError("Argument must be a Buffer");return this===ke?!0:y.compare(this,ke)===0},y.prototype.inspect=function(){var ke="",Ie=F.INSPECT_MAX_BYTES;return ke=this.toString("hex",0,Ie).replace(/(.{2})/g,"$1 ").trim(),this.length>Ie&&(ke+=" ... "),"<Buffer "+ke+">"},d&&(y.prototype[d]=y.prototype.inspect),y.prototype.compare=function(ke,Ie,Oe,_e,Ae){if(dt(ke,Uint8Array)&&(ke=y.from(ke,ke.offset,ke.byteLength)),!y.isBuffer(ke))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+v(ke));if(Ie===void 0&&(Ie=0),Oe===void 0&&(Oe=ke?ke.length:0),_e===void 0&&(_e=0),Ae===void 0&&(Ae=this.length),Ie<0||Oe>ke.length||_e<0||Ae>this.length)throw new RangeError("out of range index");if(_e>=Ae&&Ie>=Oe)return 0;if(_e>=Ae)return-1;if(Ie>=Oe)return 1;if(Ie>>>=0,Oe>>>=0,_e>>>=0,Ae>>>=0,this===ke)return 0;for(var ce=Ae-_e,be=Oe-Ie,Re=Math.min(ce,be),Ue=this.slice(_e,Ae),nt=ke.slice(Ie,Oe),ot=0;ot<Re;++ot)if(Ue[ot]!==nt[ot]){ce=Ue[ot],be=nt[ot];break}return ce<be?-1:be<ce?1:0};function H(Xe,ke,Ie,Oe,_e){if(Xe.length===0)return-1;if(typeof Ie=="string"?(Oe=Ie,Ie=0):Ie>2147483647?Ie=2147483647:Ie<-2147483648&&(Ie=-2147483648),Ie=+Ie,gt(Ie)&&(Ie=_e?0:Xe.length-1),Ie<0&&(Ie=Xe.length+Ie),Ie>=Xe.length){if(_e)return-1;Ie=Xe.length-1}else if(Ie<0)if(_e)Ie=0;else return-1;if(typeof ke=="string"&&(ke=y.from(ke,Oe)),y.isBuffer(ke))return ke.length===0?-1:U(Xe,ke,Ie,Oe,_e);if(typeof ke=="number")return ke=ke&255,typeof Uint8Array.prototype.indexOf=="function"?_e?Uint8Array.prototype.indexOf.call(Xe,ke,Ie):Uint8Array.prototype.lastIndexOf.call(Xe,ke,Ie):U(Xe,[ke],Ie,Oe,_e);throw new TypeError("val must be string, number or Buffer")}function U(Xe,ke,Ie,Oe,_e){var Ae=1,ce=Xe.length,be=ke.length;if(Oe!==void 0&&(Oe=String(Oe).toLowerCase(),Oe==="ucs2"||Oe==="ucs-2"||Oe==="utf16le"||Oe==="utf-16le")){if(Xe.length<2||ke.length<2)return-1;Ae=2,ce/=2,be/=2,Ie/=2}function Re(_t,Ut){return Ae===1?_t[Ut]:_t.readUInt16BE(Ut*Ae)}var Ue;if(_e){var nt=-1;for(Ue=Ie;Ue<ce;Ue++)if(Re(Xe,Ue)===Re(ke,nt===-1?0:Ue-nt)){if(nt===-1&&(nt=Ue),Ue-nt+1===be)return nt*Ae}else nt!==-1&&(Ue-=Ue-nt),nt=-1}else for(Ie+be>ce&&(Ie=ce-be),Ue=Ie;Ue>=0;Ue--){for(var ot=!0,wt=0;wt<be;wt++)if(Re(Xe,Ue+wt)!==Re(ke,wt)){ot=!1;break}if(ot)return Ue}return-1}y.prototype.includes=function(ke,Ie,Oe){return this.indexOf(ke,Ie,Oe)!==-1},y.prototype.indexOf=function(ke,Ie,Oe){return H(this,ke,Ie,Oe,!0)},y.prototype.lastIndexOf=function(ke,Ie,Oe){return H(this,ke,Ie,Oe,!1)};function G(Xe,ke,Ie,Oe){Ie=Number(Ie)||0;var _e=Xe.length-Ie;Oe?(Oe=Number(Oe),Oe>_e&&(Oe=_e)):Oe=_e;var Ae=ke.length;Oe>Ae/2&&(Oe=Ae/2);var ce;for(ce=0;ce<Oe;++ce){var be=parseInt(ke.substr(ce*2,2),16);if(gt(be))return ce;Xe[Ie+ce]=be}return ce}function j(Xe,ke,Ie,Oe){return vt(it(ke,Xe.length-Ie),Xe,Ie,Oe)}function re(Xe,ke,Ie,Oe){return vt(qe(ke),Xe,Ie,Oe)}function ae(Xe,ke,Ie,Oe){return vt(tt(ke),Xe,Ie,Oe)}function ue(Xe,ke,Ie,Oe){return vt($e(ke,Xe.length-Ie),Xe,Ie,Oe)}y.prototype.write=function(ke,Ie,Oe,_e){if(Ie===void 0)_e="utf8",Oe=this.length,Ie=0;else if(Oe===void 0&&typeof Ie=="string")_e=Ie,Oe=this.length,Ie=0;else if(isFinite(Ie))Ie=Ie>>>0,isFinite(Oe)?(Oe=Oe>>>0,_e===void 0&&(_e="utf8")):(_e=Oe,Oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ae=this.length-Ie;if((Oe===void 0||Oe>Ae)&&(Oe=Ae),ke.length>0&&(Oe<0||Ie<0)||Ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");_e||(_e="utf8");for(var ce=!1;;)switch(_e){case"hex":return G(this,ke,Ie,Oe);case"utf8":case"utf-8":return j(this,ke,Ie,Oe);case"ascii":case"latin1":case"binary":return re(this,ke,Ie,Oe);case"base64":return ae(this,ke,Ie,Oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,ke,Ie,Oe);default:if(ce)throw new TypeError("Unknown encoding: "+_e);_e=(""+_e).toLowerCase(),ce=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function de(Xe,ke,Ie){return ke===0&&Ie===Xe.length?c.fromByteArray(Xe):c.fromByteArray(Xe.slice(ke,Ie))}function ee(Xe,ke,Ie){Ie=Math.min(Xe.length,Ie);for(var Oe=[],_e=ke;_e<Ie;){var Ae=Xe[_e],ce=null,be=Ae>239?4:Ae>223?3:Ae>191?2:1;if(_e+be<=Ie){var Re=void 0,Ue=void 0,nt=void 0,ot=void 0;switch(be){case 1:Ae<128&&(ce=Ae);break;case 2:Re=Xe[_e+1],(Re&192)===128&&(ot=(Ae&31)<<6|Re&63,ot>127&&(ce=ot));break;case 3:Re=Xe[_e+1],Ue=Xe[_e+2],(Re&192)===128&&(Ue&192)===128&&(ot=(Ae&15)<<12|(Re&63)<<6|Ue&63,ot>2047&&(ot<55296||ot>57343)&&(ce=ot));break;case 4:Re=Xe[_e+1],Ue=Xe[_e+2],nt=Xe[_e+3],(Re&192)===128&&(Ue&192)===128&&(nt&192)===128&&(ot=(Ae&15)<<18|(Re&63)<<12|(Ue&63)<<6|nt&63,ot>65535&&ot<1114112&&(ce=ot))}}ce===null?(ce=65533,be=1):ce>65535&&(ce-=65536,Oe.push(ce>>>10&1023|55296),ce=56320|ce&1023),Oe.push(ce),_e+=be}return Q(Oe)}var X=4096;function Q(Xe){var ke=Xe.length;if(ke<=X)return String.fromCharCode.apply(String,Xe);for(var Ie="",Oe=0;Oe<ke;)Ie+=String.fromCharCode.apply(String,Xe.slice(Oe,Oe+=X));return Ie}function $(Xe,ke,Ie){var Oe="";Ie=Math.min(Xe.length,Ie);for(var _e=ke;_e<Ie;++_e)Oe+=String.fromCharCode(Xe[_e]&127);return Oe}function ne(Xe,ke,Ie){var Oe="";Ie=Math.min(Xe.length,Ie);for(var _e=ke;_e<Ie;++_e)Oe+=String.fromCharCode(Xe[_e]);return Oe}function fe(Xe,ke,Ie){var Oe=Xe.length;(!ke||ke<0)&&(ke=0),(!Ie||Ie<0||Ie>Oe)&&(Ie=Oe);for(var _e="",Ae=ke;Ae<Ie;++Ae)_e+=Mt[Xe[Ae]];return _e}function te(Xe,ke,Ie){for(var Oe=Xe.slice(ke,Ie),_e="",Ae=0;Ae<Oe.length-1;Ae+=2)_e+=String.fromCharCode(Oe[Ae]+Oe[Ae+1]*256);return _e}y.prototype.slice=function(ke,Ie){var Oe=this.length;ke=~~ke,Ie=Ie===void 0?Oe:~~Ie,ke<0?(ke+=Oe,ke<0&&(ke=0)):ke>Oe&&(ke=Oe),Ie<0?(Ie+=Oe,Ie<0&&(Ie=0)):Ie>Oe&&(Ie=Oe),Ie<ke&&(Ie=ke);var _e=this.subarray(ke,Ie);return Object.setPrototypeOf(_e,y.prototype),_e};function q(Xe,ke,Ie){if(Xe%1!==0||Xe<0)throw new RangeError("offset is not uint");if(Xe+ke>Ie)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(ke,Ie,Oe){ke=ke>>>0,Ie=Ie>>>0,Oe||q(ke,Ie,this.length);for(var _e=this[ke],Ae=1,ce=0;++ce<Ie&&(Ae*=256);)_e+=this[ke+ce]*Ae;return _e},y.prototype.readUintBE=y.prototype.readUIntBE=function(ke,Ie,Oe){ke=ke>>>0,Ie=Ie>>>0,Oe||q(ke,Ie,this.length);for(var _e=this[ke+--Ie],Ae=1;Ie>0&&(Ae*=256);)_e+=this[ke+--Ie]*Ae;return _e},y.prototype.readUint8=y.prototype.readUInt8=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,1,this.length),this[ke]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,2,this.length),this[ke]|this[ke+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,2,this.length),this[ke]<<8|this[ke+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,4,this.length),(this[ke]|this[ke+1]<<8|this[ke+2]<<16)+this[ke+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,4,this.length),this[ke]*16777216+(this[ke+1]<<16|this[ke+2]<<8|this[ke+3])},y.prototype.readBigUInt64LE=Ct(function(ke){ke=ke>>>0,Ve(ke,"offset");var Ie=this[ke],Oe=this[ke+7];(Ie===void 0||Oe===void 0)&&We(ke,this.length-8);var _e=Ie+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,24),Ae=this[++ke]+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+Oe*Math.pow(2,24);return BigInt(_e)+(BigInt(Ae)<<BigInt(32))}),y.prototype.readBigUInt64BE=Ct(function(ke){ke=ke>>>0,Ve(ke,"offset");var Ie=this[ke],Oe=this[ke+7];(Ie===void 0||Oe===void 0)&&We(ke,this.length-8);var _e=Ie*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+this[++ke],Ae=this[++ke]*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+Oe;return(BigInt(_e)<<BigInt(32))+BigInt(Ae)}),y.prototype.readIntLE=function(ke,Ie,Oe){ke=ke>>>0,Ie=Ie>>>0,Oe||q(ke,Ie,this.length);for(var _e=this[ke],Ae=1,ce=0;++ce<Ie&&(Ae*=256);)_e+=this[ke+ce]*Ae;return Ae*=128,_e>=Ae&&(_e-=Math.pow(2,8*Ie)),_e},y.prototype.readIntBE=function(ke,Ie,Oe){ke=ke>>>0,Ie=Ie>>>0,Oe||q(ke,Ie,this.length);for(var _e=Ie,Ae=1,ce=this[ke+--_e];_e>0&&(Ae*=256);)ce+=this[ke+--_e]*Ae;return Ae*=128,ce>=Ae&&(ce-=Math.pow(2,8*Ie)),ce},y.prototype.readInt8=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,1,this.length),this[ke]&128?(255-this[ke]+1)*-1:this[ke]},y.prototype.readInt16LE=function(ke,Ie){ke=ke>>>0,Ie||q(ke,2,this.length);var Oe=this[ke]|this[ke+1]<<8;return Oe&32768?Oe|4294901760:Oe},y.prototype.readInt16BE=function(ke,Ie){ke=ke>>>0,Ie||q(ke,2,this.length);var Oe=this[ke+1]|this[ke]<<8;return Oe&32768?Oe|4294901760:Oe},y.prototype.readInt32LE=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,4,this.length),this[ke]|this[ke+1]<<8|this[ke+2]<<16|this[ke+3]<<24},y.prototype.readInt32BE=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,4,this.length),this[ke]<<24|this[ke+1]<<16|this[ke+2]<<8|this[ke+3]},y.prototype.readBigInt64LE=Ct(function(ke){ke=ke>>>0,Ve(ke,"offset");var Ie=this[ke],Oe=this[ke+7];(Ie===void 0||Oe===void 0)&&We(ke,this.length-8);var _e=this[ke+4]+this[ke+5]*Math.pow(2,8)+this[ke+6]*Math.pow(2,16)+(Oe<<24);return(BigInt(_e)<<BigInt(32))+BigInt(Ie+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,24))}),y.prototype.readBigInt64BE=Ct(function(ke){ke=ke>>>0,Ve(ke,"offset");var Ie=this[ke],Oe=this[ke+7];(Ie===void 0||Oe===void 0)&&We(ke,this.length-8);var _e=(Ie<<24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+this[++ke];return(BigInt(_e)<<BigInt(32))+BigInt(this[++ke]*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+Oe)}),y.prototype.readFloatLE=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,4,this.length),x.read(this,ke,!0,23,4)},y.prototype.readFloatBE=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,4,this.length),x.read(this,ke,!1,23,4)},y.prototype.readDoubleLE=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,8,this.length),x.read(this,ke,!0,52,8)},y.prototype.readDoubleBE=function(ke,Ie){return ke=ke>>>0,Ie||q(ke,8,this.length),x.read(this,ke,!1,52,8)};function he(Xe,ke,Ie,Oe,_e,Ae){if(!y.isBuffer(Xe))throw new TypeError('"buffer" argument must be a Buffer instance');if(ke>_e||ke<Ae)throw new RangeError('"value" argument is out of bounds');if(Ie+Oe>Xe.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(ke,Ie,Oe,_e){if(ke=+ke,Ie=Ie>>>0,Oe=Oe>>>0,!_e){var Ae=Math.pow(2,8*Oe)-1;he(this,ke,Ie,Oe,Ae,0)}var ce=1,be=0;for(this[Ie]=ke&255;++be<Oe&&(ce*=256);)this[Ie+be]=ke/ce&255;return Ie+Oe},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(ke,Ie,Oe,_e){if(ke=+ke,Ie=Ie>>>0,Oe=Oe>>>0,!_e){var Ae=Math.pow(2,8*Oe)-1;he(this,ke,Ie,Oe,Ae,0)}var ce=Oe-1,be=1;for(this[Ie+ce]=ke&255;--ce>=0&&(be*=256);)this[Ie+ce]=ke/be&255;return Ie+Oe},y.prototype.writeUint8=y.prototype.writeUInt8=function(ke,Ie,Oe){return ke=+ke,Ie=Ie>>>0,Oe||he(this,ke,Ie,1,255,0),this[Ie]=ke&255,Ie+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(ke,Ie,Oe){return ke=+ke,Ie=Ie>>>0,Oe||he(this,ke,Ie,2,65535,0),this[Ie]=ke&255,this[Ie+1]=ke>>>8,Ie+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(ke,Ie,Oe){return ke=+ke,Ie=Ie>>>0,Oe||he(this,ke,Ie,2,65535,0),this[Ie]=ke>>>8,this[Ie+1]=ke&255,Ie+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(ke,Ie,Oe){return ke=+ke,Ie=Ie>>>0,Oe||he(this,ke,Ie,4,4294967295,0),this[Ie+3]=ke>>>24,this[Ie+2]=ke>>>16,this[Ie+1]=ke>>>8,this[Ie]=ke&255,Ie+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(ke,Ie,Oe){return ke=+ke,Ie=Ie>>>0,Oe||he(this,ke,Ie,4,4294967295,0),this[Ie]=ke>>>24,this[Ie+1]=ke>>>16,this[Ie+2]=ke>>>8,this[Ie+3]=ke&255,Ie+4};function se(Xe,ke,Ie,Oe,_e){Le(ke,Oe,_e,Xe,Ie,7);var Ae=Number(ke&BigInt(4294967295));Xe[Ie++]=Ae,Ae=Ae>>8,Xe[Ie++]=Ae,Ae=Ae>>8,Xe[Ie++]=Ae,Ae=Ae>>8,Xe[Ie++]=Ae;var ce=Number(ke>>BigInt(32)&BigInt(4294967295));return Xe[Ie++]=ce,ce=ce>>8,Xe[Ie++]=ce,ce=ce>>8,Xe[Ie++]=ce,ce=ce>>8,Xe[Ie++]=ce,Ie}function pe(Xe,ke,Ie,Oe,_e){Le(ke,Oe,_e,Xe,Ie,7);var Ae=Number(ke&BigInt(4294967295));Xe[Ie+7]=Ae,Ae=Ae>>8,Xe[Ie+6]=Ae,Ae=Ae>>8,Xe[Ie+5]=Ae,Ae=Ae>>8,Xe[Ie+4]=Ae;var ce=Number(ke>>BigInt(32)&BigInt(4294967295));return Xe[Ie+3]=ce,ce=ce>>8,Xe[Ie+2]=ce,ce=ce>>8,Xe[Ie+1]=ce,ce=ce>>8,Xe[Ie]=ce,Ie+8}y.prototype.writeBigUInt64LE=Ct(function(ke){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,ke,Ie,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=Ct(function(ke){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return pe(this,ke,Ie,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(ke,Ie,Oe,_e){if(ke=+ke,Ie=Ie>>>0,!_e){var Ae=Math.pow(2,8*Oe-1);he(this,ke,Ie,Oe,Ae-1,-Ae)}var ce=0,be=1,Re=0;for(this[Ie]=ke&255;++ce<Oe&&(be*=256);)ke<0&&Re===0&&this[Ie+ce-1]!==0&&(Re=1),this[Ie+ce]=(ke/be>>0)-Re&255;return Ie+Oe},y.prototype.writeIntBE=function(ke,Ie,Oe,_e){if(ke=+ke,Ie=Ie>>>0,!_e){var Ae=Math.pow(2,8*Oe-1);he(this,ke,Ie,Oe,Ae-1,-Ae)}var ce=Oe-1,be=1,Re=0;for(this[Ie+ce]=ke&255;--ce>=0&&(be*=256);)ke<0&&Re===0&&this[Ie+ce+1]!==0&&(Re=1),this[Ie+ce]=(ke/be>>0)-Re&255;return Ie+Oe},y.prototype.writeInt8=function(ke,Ie,Oe){return ke=+ke,Ie=Ie>>>0,Oe||he(this,ke,Ie,1,127,-128),ke<0&&(ke=255+ke+1),this[Ie]=ke&255,Ie+1},y.prototype.writeInt16LE=function(ke,Ie,Oe){return ke=+ke,Ie=Ie>>>0,Oe||he(this,ke,Ie,2,32767,-32768),this[Ie]=ke&255,this[Ie+1]=ke>>>8,Ie+2},y.prototype.writeInt16BE=function(ke,Ie,Oe){return ke=+ke,Ie=Ie>>>0,Oe||he(this,ke,Ie,2,32767,-32768),this[Ie]=ke>>>8,this[Ie+1]=ke&255,Ie+2},y.prototype.writeInt32LE=function(ke,Ie,Oe){return ke=+ke,Ie=Ie>>>0,Oe||he(this,ke,Ie,4,2147483647,-2147483648),this[Ie]=ke&255,this[Ie+1]=ke>>>8,this[Ie+2]=ke>>>16,this[Ie+3]=ke>>>24,Ie+4},y.prototype.writeInt32BE=function(ke,Ie,Oe){return ke=+ke,Ie=Ie>>>0,Oe||he(this,ke,Ie,4,2147483647,-2147483648),ke<0&&(ke=4294967295+ke+1),this[Ie]=ke>>>24,this[Ie+1]=ke>>>16,this[Ie+2]=ke>>>8,this[Ie+3]=ke&255,Ie+4},y.prototype.writeBigInt64LE=Ct(function(ke){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,ke,Ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=Ct(function(ke){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return pe(this,ke,Ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(Xe,ke,Ie,Oe,_e,Ae){if(Ie+Oe>Xe.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("Index out of range")}function Ee(Xe,ke,Ie,Oe,_e){return ke=+ke,Ie=Ie>>>0,_e||we(Xe,ke,Ie,4),x.write(Xe,ke,Ie,Oe,23,4),Ie+4}y.prototype.writeFloatLE=function(ke,Ie,Oe){return Ee(this,ke,Ie,!0,Oe)},y.prototype.writeFloatBE=function(ke,Ie,Oe){return Ee(this,ke,Ie,!1,Oe)};function Me(Xe,ke,Ie,Oe,_e){return ke=+ke,Ie=Ie>>>0,_e||we(Xe,ke,Ie,8),x.write(Xe,ke,Ie,Oe,52,8),Ie+8}y.prototype.writeDoubleLE=function(ke,Ie,Oe){return Me(this,ke,Ie,!0,Oe)},y.prototype.writeDoubleBE=function(ke,Ie,Oe){return Me(this,ke,Ie,!1,Oe)},y.prototype.copy=function(ke,Ie,Oe,_e){if(!y.isBuffer(ke))throw new TypeError("argument should be a Buffer");if(Oe||(Oe=0),!_e&&_e!==0&&(_e=this.length),Ie>=ke.length&&(Ie=ke.length),Ie||(Ie=0),_e>0&&_e<Oe&&(_e=Oe),_e===Oe||ke.length===0||this.length===0)return 0;if(Ie<0)throw new RangeError("targetStart out of bounds");if(Oe<0||Oe>=this.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("sourceEnd out of bounds");_e>this.length&&(_e=this.length),ke.length-Ie<_e-Oe&&(_e=ke.length-Ie+Oe);var Ae=_e-Oe;return this===ke&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ie,Oe,_e):Uint8Array.prototype.set.call(ke,this.subarray(Oe,_e),Ie),Ae},y.prototype.fill=function(ke,Ie,Oe,_e){if(typeof ke=="string"){if(typeof Ie=="string"?(_e=Ie,Ie=0,Oe=this.length):typeof Oe=="string"&&(_e=Oe,Oe=this.length),_e!==void 0&&typeof _e!="string")throw new TypeError("encoding must be a string");if(typeof _e=="string"&&!y.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);if(ke.length===1){var Ae=ke.charCodeAt(0);(_e==="utf8"&&Ae<128||_e==="latin1")&&(ke=Ae)}}else typeof ke=="number"?ke=ke&255:typeof ke=="boolean"&&(ke=Number(ke));if(Ie<0||this.length<Ie||this.length<Oe)throw new RangeError("Out of range index");if(Oe<=Ie)return this;Ie=Ie>>>0,Oe=Oe===void 0?this.length:Oe>>>0,ke||(ke=0);var ce;if(typeof ke=="number")for(ce=Ie;ce<Oe;++ce)this[ce]=ke;else{var be=y.isBuffer(ke)?ke:y.from(ke,_e),Re=be.length;if(Re===0)throw new TypeError('The value "'+ke+'" is invalid for argument "value"');for(ce=0;ce<Oe-Ie;++ce)this[ce+Ie]=be[ce%Re]}return this};var Be={};function Ne(Xe,ke,Ie){Be[Xe]=function(Oe){p(Ae,Oe);var _e=t(Ae);function Ae(){var ce;return h(this,Ae),ce=_e.call(this),Object.defineProperty(l(ce),"message",{value:ke.apply(l(ce),arguments),writable:!0,configurable:!0}),ce.name="".concat(ce.name," [").concat(Xe,"]"),ce.stack,delete ce.name,ce}return n(Ae,[{key:"code",get:function(){return Xe},set:function(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Xe,"]: ").concat(this.message)}}]),Ae}(Ie)}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(Xe){return Xe?"".concat(Xe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(Xe,ke){return'The "'.concat(Xe,'" argument must be of type number. Received type ').concat(v(ke))},TypeError),Ne("ERR_OUT_OF_RANGE",function(Xe,ke,Ie){var Oe='The value of "'.concat(Xe,'" is out of range.'),_e=Ie;return Number.isInteger(Ie)&&Math.abs(Ie)>Math.pow(2,32)?_e=Ce(String(Ie)):typeof Ie=="bigint"&&(_e=String(Ie),(Ie>Math.pow(BigInt(2),BigInt(32))||Ie<-Math.pow(BigInt(2),BigInt(32)))&&(_e=Ce(_e)),_e+="n"),Oe+=" It must be ".concat(ke,". Received ").concat(_e),Oe},RangeError);function Ce(Xe){for(var ke="",Ie=Xe.length,Oe=Xe[0]==="-"?1:0;Ie>=Oe+4;Ie-=3)ke="_".concat(Xe.slice(Ie-3,Ie)).concat(ke);return"".concat(Xe.slice(0,Ie)).concat(ke)}function Te(Xe,ke,Ie){Ve(ke,"offset"),(Xe[ke]===void 0||Xe[ke+Ie]===void 0)&&We(ke,Xe.length-(Ie+1))}function Le(Xe,ke,Ie,Oe,_e,Ae){if(Xe>Ie||Xe<ke){var ce=typeof ke=="bigint"?"n":"",be;throw Ae>3?ke===0||ke===BigInt(0)?be=">= 0".concat(ce," and < 2").concat(ce," ** ").concat((Ae+1)*8).concat(ce):be=">= -(2".concat(ce," ** ").concat((Ae+1)*8-1).concat(ce,") and < 2 ** ")+"".concat((Ae+1)*8-1).concat(ce):be=">= ".concat(ke).concat(ce," and <= ").concat(Ie).concat(ce),new Be.ERR_OUT_OF_RANGE("value",be,Xe)}Te(Oe,_e,Ae)}function Ve(Xe,ke){if(typeof Xe!="number")throw new Be.ERR_INVALID_ARG_TYPE(ke,"number",Xe)}function We(Xe,ke,Ie){throw Math.floor(Xe)!==Xe?(Ve(Xe,Ie),new Be.ERR_OUT_OF_RANGE(Ie||"offset","an integer",Xe)):ke<0?new Be.ERR_BUFFER_OUT_OF_BOUNDS:new Be.ERR_OUT_OF_RANGE(Ie||"offset",">= ".concat(Ie?1:0," and <= ").concat(ke),Xe)}var Fe=/[^+/0-9A-Za-z-_]/g;function Ge(Xe){if(Xe=Xe.split("=")[0],Xe=Xe.trim().replace(Fe,""),Xe.length<2)return"";for(;Xe.length%4!==0;)Xe=Xe+"=";return Xe}function it(Xe,ke){ke=ke||1/0;for(var Ie,Oe=Xe.length,_e=null,Ae=[],ce=0;ce<Oe;++ce){if(Ie=Xe.charCodeAt(ce),Ie>55295&&Ie<57344){if(!_e){if(Ie>56319){(ke-=3)>-1&&Ae.push(239,191,189);continue}else if(ce+1===Oe){(ke-=3)>-1&&Ae.push(239,191,189);continue}_e=Ie;continue}if(Ie<56320){(ke-=3)>-1&&Ae.push(239,191,189),_e=Ie;continue}Ie=(_e-55296<<10|Ie-56320)+65536}else _e&&(ke-=3)>-1&&Ae.push(239,191,189);if(_e=null,Ie<128){if((ke-=1)<0)break;Ae.push(Ie)}else if(Ie<2048){if((ke-=2)<0)break;Ae.push(Ie>>6|192,Ie&63|128)}else if(Ie<65536){if((ke-=3)<0)break;Ae.push(Ie>>12|224,Ie>>6&63|128,Ie&63|128)}else if(Ie<1114112){if((ke-=4)<0)break;Ae.push(Ie>>18|240,Ie>>12&63|128,Ie>>6&63|128,Ie&63|128)}else throw new Error("Invalid code point")}return Ae}function qe(Xe){for(var ke=[],Ie=0;Ie<Xe.length;++Ie)ke.push(Xe.charCodeAt(Ie)&255);return ke}function $e(Xe,ke){for(var Ie,Oe,_e,Ae=[],ce=0;ce<Xe.length&&!((ke-=2)<0);++ce)Ie=Xe.charCodeAt(ce),Oe=Ie>>8,_e=Ie%256,Ae.push(_e),Ae.push(Oe);return Ae}function tt(Xe){return c.toByteArray(Ge(Xe))}function vt(Xe,ke,Ie,Oe){var _e;for(_e=0;_e<Oe&&!(_e+Ie>=ke.length||_e>=Xe.length);++_e)ke[_e+Ie]=Xe[_e];return _e}function dt(Xe,ke){return Xe instanceof ke||Xe!=null&&Xe.constructor!=null&&Xe.constructor.name!=null&&Xe.constructor.name===ke.name}function gt(Xe){return Xe!==Xe}var Mt=function(){for(var Xe="0123456789abcdef",ke=new Array(256),Ie=0;Ie<16;++Ie)for(var Oe=Ie*16,_e=0;_e<16;++_e)ke[Oe+_e]=Xe[Ie]+Xe[_e];return ke}();function Ct(Xe){return typeof BigInt>"u"?Wt:Xe}function Wt(){throw new Error("BigInt not supported")}},35791:function(k){k.exports=E,k.exports.isMobile=E,k.exports.default=E;var F=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,h=/android|ipad|playbook|silk/i;function E(n){n||(n={});var L=n.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var w=F.test(L)&&!e.test(L)||!!n.tablet&&h.test(L);return!w&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(w=!0),w}},86781:function(k,F,e){e.r(F),e.d(F,{sankeyCenter:function(){return l},sankeyCircular:function(){return R},sankeyJustify:function(){return r},sankeyLeft:function(){return m},sankeyRight:function(){return t}});var h=e(33064),E=e(15140),n=e(45879),L=e(2502),w=e.n(L);function p(Me){return Me.target.depth}function m(Me){return Me.depth}function t(Me,Be){return Be-1-Me.height}function r(Me,Be){return Me.sourceLinks.length?Me.depth:Be-1}function l(Me){return Me.targetLinks.length?Me.depth:Me.sourceLinks.length?(0,h.VV)(Me.sourceLinks,p)-1:0}function i(Me){return function(){return Me}}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me};function v(Me,Be){return x(Me.source,Be.source)||Me.index-Be.index}function c(Me,Be){return x(Me.target,Be.target)||Me.index-Be.index}function x(Me,Be){return Me.partOfCycle===Be.partOfCycle?Me.y0-Be.y0:Me.circularLinkType==="top"||Be.circularLinkType==="bottom"?-1:1}function d(Me){return Me.value}function M(Me){return(Me.y0+Me.y1)/2}function g(Me){return M(Me.source)}function u(Me){return M(Me.target)}function y(Me){return Me.index}function C(Me){return Me.nodes}function S(Me){return Me.links}function D(Me,Be){var Ne=Me.get(Be);if(!Ne)throw new Error("missing: "+Be);return Ne}function T(Me,Be){return Be(Me)}var P=25,A=10,a=.3;function R(){var Me=0,Be=0,Ne=1,Ce=1,Te=24,Le,Ve=y,We=r,Fe=C,Ge=S,it=32,qe=2,$e,tt=null;function vt(){var Ie={nodes:Fe.apply(null,arguments),links:Ge.apply(null,arguments)};dt(Ie),b(Ie,Ve,tt),gt(Ie),Wt(Ie),N(Ie,Ve),Xe(Ie,it,Ve),ke(Ie);for(var Oe=4,_e=0;_e<Oe;_e++)q(Ie,Ce,Ve),he(Ie,Ce,Ve),ne(Ie,Be,Ce,Ve),q(Ie,Ce,Ve),he(Ie,Ce,Ve);return Ee(Ie,Be,Ce),U(Ie,qe,Ce,Ve),Ie}vt.nodeId=function(Ie){return arguments.length?(Ve=typeof Ie=="function"?Ie:i(Ie),vt):Ve},vt.nodeAlign=function(Ie){return arguments.length?(We=typeof Ie=="function"?Ie:i(Ie),vt):We},vt.nodeWidth=function(Ie){return arguments.length?(Te=+Ie,vt):Te},vt.nodePadding=function(Ie){return arguments.length?(Le=+Ie,vt):Le},vt.nodes=function(Ie){return arguments.length?(Fe=typeof Ie=="function"?Ie:i(Ie),vt):Fe},vt.links=function(Ie){return arguments.length?(Ge=typeof Ie=="function"?Ie:i(Ie),vt):Ge},vt.size=function(Ie){return arguments.length?(Me=Be=0,Ne=+Ie[0],Ce=+Ie[1],vt):[Ne-Me,Ce-Be]},vt.extent=function(Ie){return arguments.length?(Me=+Ie[0][0],Ne=+Ie[1][0],Be=+Ie[0][1],Ce=+Ie[1][1],vt):[[Me,Be],[Ne,Ce]]},vt.iterations=function(Ie){return arguments.length?(it=+Ie,vt):it},vt.circularLinkGap=function(Ie){return arguments.length?(qe=+Ie,vt):qe},vt.nodePaddingRatio=function(Ie){return arguments.length?($e=+Ie,vt):$e},vt.sortNodes=function(Ie){return arguments.length?(tt=Ie,vt):tt},vt.update=function(Ie){return N(Ie,Ve),ke(Ie),Ie.links.forEach(function(Oe){Oe.circular&&(Oe.circularLinkType=Oe.y0+Oe.y1<Ce?"top":"bottom",Oe.source.circularLinkType=Oe.circularLinkType,Oe.target.circularLinkType=Oe.circularLinkType)}),q(Ie,Ce,Ve,!1),he(Ie,Ce,Ve),U(Ie,qe,Ce,Ve),Ie};function dt(Ie){Ie.nodes.forEach(function(_e,Ae){_e.index=Ae,_e.sourceLinks=[],_e.targetLinks=[]});var Oe=(0,E.UI)(Ie.nodes,Ve);return Ie.links.forEach(function(_e,Ae){_e.index=Ae;var ce=_e.source,be=_e.target;(typeof ce>"u"?"undefined":f(ce))!=="object"&&(ce=_e.source=D(Oe,ce)),(typeof be>"u"?"undefined":f(be))!=="object"&&(be=_e.target=D(Oe,be)),ce.sourceLinks.push(_e),be.targetLinks.push(_e)}),Ie}function gt(Ie){Ie.nodes.forEach(function(Oe){Oe.partOfCycle=!1,Oe.value=Math.max((0,h.Sm)(Oe.sourceLinks,d),(0,h.Sm)(Oe.targetLinks,d)),Oe.sourceLinks.forEach(function(_e){_e.circular&&(Oe.partOfCycle=!0,Oe.circularLinkType=_e.circularLinkType)}),Oe.targetLinks.forEach(function(_e){_e.circular&&(Oe.partOfCycle=!0,Oe.circularLinkType=_e.circularLinkType)})})}function Mt(Ie){var Oe=0,_e=0,Ae=0,ce=0,be=(0,h.Fp)(Ie.nodes,function(Re){return Re.column});return Ie.links.forEach(function(Re){Re.circular&&(Re.circularLinkType=="top"?Oe=Oe+Re.width:_e=_e+Re.width,Re.target.column==0&&(ce=ce+Re.width),Re.source.column==be&&(Ae=Ae+Re.width))}),Oe=Oe>0?Oe+P+A:Oe,_e=_e>0?_e+P+A:_e,Ae=Ae>0?Ae+P+A:Ae,ce=ce>0?ce+P+A:ce,{top:Oe,bottom:_e,left:ce,right:Ae}}function Ct(Ie,Oe){var _e=(0,h.Fp)(Ie.nodes,function(ot){return ot.column}),Ae=Ne-Me,ce=Ce-Be,be=Ae+Oe.right+Oe.left,Re=ce+Oe.top+Oe.bottom,Ue=Ae/be,nt=ce/Re;return Me=Me*Ue+Oe.left,Ne=Oe.right==0?Ne:Ne*Ue,Be=Be*nt+Oe.top,Ce=Ce*nt,Ie.nodes.forEach(function(ot){ot.x0=Me+ot.column*((Ne-Me-Te)/_e),ot.x1=ot.x0+Te}),nt}function Wt(Ie){var Oe,_e,Ae;for(Oe=Ie.nodes,_e=[],Ae=0;Oe.length;++Ae,Oe=_e,_e=[])Oe.forEach(function(ce){ce.depth=Ae,ce.sourceLinks.forEach(function(be){_e.indexOf(be.target)<0&&!be.circular&&_e.push(be.target)})});for(Oe=Ie.nodes,_e=[],Ae=0;Oe.length;++Ae,Oe=_e,_e=[])Oe.forEach(function(ce){ce.height=Ae,ce.targetLinks.forEach(function(be){_e.indexOf(be.source)<0&&!be.circular&&_e.push(be.source)})});Ie.nodes.forEach(function(ce){ce.column=Math.floor(We.call(null,ce,Ae))})}function Xe(Ie,Oe,_e){var Ae=(0,E.b1)().key(function(ot){return ot.column}).sortKeys(h.j2).entries(Ie.nodes).map(function(ot){return ot.values});Re(_e),nt();for(var ce=1,be=Oe;be>0;--be)Ue(ce*=.99,_e),nt();function Re(ot){if($e){var wt=1/0;Ae.forEach(function(Lt){var Kt=Ce*$e/(Lt.length+1);wt=Kt<wt?Kt:wt}),Le=wt}var _t=(0,h.VV)(Ae,function(Lt){return(Ce-Be-(Lt.length-1)*Le)/(0,h.Sm)(Lt,d)});_t=_t*a,Ie.links.forEach(function(Lt){Lt.width=Lt.value*_t});var Ut=Mt(Ie),Vt=Ct(Ie,Ut);_t=_t*Vt,Ie.links.forEach(function(Lt){Lt.width=Lt.value*_t}),Ae.forEach(function(Lt){var Kt=Lt.length;Lt.forEach(function(ar,Fr){ar.depth==Ae.length-1&&Kt==1||ar.depth==0&&Kt==1?(ar.y0=Ce/2-ar.value*_t,ar.y1=ar.y0+ar.value*_t):ar.partOfCycle?B(ar,ot)==0?(ar.y0=Ce/2+Fr,ar.y1=ar.y0+ar.value*_t):ar.circularLinkType=="top"?(ar.y0=Be+Fr,ar.y1=ar.y0+ar.value*_t):(ar.y0=Ce-ar.value*_t-Fr,ar.y1=ar.y0+ar.value*_t):Ut.top==0||Ut.bottom==0?(ar.y0=(Ce-Be)/Kt*Fr,ar.y1=ar.y0+ar.value*_t):(ar.y0=(Ce-Be)/2-Kt/2+Fr,ar.y1=ar.y0+ar.value*_t)})})}function Ue(ot,wt){var _t=Ae.length;Ae.forEach(function(Ut){var Vt=Ut.length,Lt=Ut[0].depth;Ut.forEach(function(Kt){var ar;if((Kt.sourceLinks.length||Kt.targetLinks.length)&&!(Kt.partOfCycle&&B(Kt,wt)>0))if(Lt==0&&Vt==1)ar=Kt.y1-Kt.y0,Kt.y0=Ce/2-ar/2,Kt.y1=Ce/2+ar/2;else if(Lt==_t-1&&Vt==1)ar=Kt.y1-Kt.y0,Kt.y0=Ce/2-ar/2,Kt.y1=Ce/2+ar/2;else{var Fr=0,yt=(0,h.J6)(Kt.sourceLinks,u),Xt=(0,h.J6)(Kt.targetLinks,g);yt&&Xt?Fr=(yt+Xt)/2:Fr=yt||Xt;var Yt=(Fr-M(Kt))*ot;Kt.y0+=Yt,Kt.y1+=Yt}})})}function nt(){Ae.forEach(function(ot){var wt,_t,Ut=Be,Vt=ot.length,Lt;for(ot.sort(x),Lt=0;Lt<Vt;++Lt)wt=ot[Lt],_t=Ut-wt.y0,_t>0&&(wt.y0+=_t,wt.y1+=_t),Ut=wt.y1+Le;if(_t=Ut-Le-Ce,_t>0)for(Ut=wt.y0-=_t,wt.y1-=_t,Lt=Vt-2;Lt>=0;--Lt)wt=ot[Lt],_t=wt.y1+Le-Ut,_t>0&&(wt.y0-=_t,wt.y1-=_t),Ut=wt.y0})}}function ke(Ie){Ie.nodes.forEach(function(Oe){Oe.sourceLinks.sort(c),Oe.targetLinks.sort(v)}),Ie.nodes.forEach(function(Oe){var _e=Oe.y0,Ae=_e,ce=Oe.y1,be=ce;Oe.sourceLinks.forEach(function(Re){Re.circular?(Re.y0=ce-Re.width/2,ce=ce-Re.width):(Re.y0=_e+Re.width/2,_e+=Re.width)}),Oe.targetLinks.forEach(function(Re){Re.circular?(Re.y1=be-Re.width/2,be=be-Re.width):(Re.y1=Ae+Re.width/2,Ae+=Re.width)})})}return vt}function b(Me,Be,Ne){var Ce=0;if(Ne===null){for(var Te=[],Le=0;Le<Me.links.length;Le++){var Ve=Me.links[Le],We=Ve.source.index,Fe=Ve.target.index;Te[We]||(Te[We]=[]),Te[Fe]||(Te[Fe]=[]),Te[We].indexOf(Fe)===-1&&Te[We].push(Fe)}var Ge=w()(Te);Ge.sort(function(tt,vt){return tt.length-vt.length});var it={};for(Le=0;Le<Ge.length;Le++){var qe=Ge[Le],$e=qe.slice(-2);it[$e[0]]||(it[$e[0]]={}),it[$e[0]][$e[1]]=!0}Me.links.forEach(function(tt){var vt=tt.target.index,dt=tt.source.index;vt===dt||it[dt]&&it[dt][vt]?(tt.circular=!0,tt.circularLinkID=Ce,Ce=Ce+1):tt.circular=!1})}else Me.links.forEach(function(tt){tt.source[Ne]<tt.target[Ne]?tt.circular=!1:(tt.circular=!0,tt.circularLinkID=Ce,Ce=Ce+1)})}function N(Me,Be){var Ne=0,Ce=0;Me.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType||Te.target.circularLinkType?Te.circularLinkType=Te.source.circularLinkType?Te.source.circularLinkType:Te.target.circularLinkType:Te.circularLinkType=Ne<Ce?"top":"bottom",Te.circularLinkType=="top"?Ne=Ne+1:Ce=Ce+1,Me.nodes.forEach(function(Le){(T(Le,Be)==T(Te.source,Be)||T(Le,Be)==T(Te.target,Be))&&(Le.circularLinkType=Te.circularLinkType)}))}),Me.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType==Te.target.circularLinkType&&(Te.circularLinkType=Te.source.circularLinkType),we(Te,Be)&&(Te.circularLinkType=Te.source.circularLinkType))})}function O(Me){var Be=Math.abs(Me.y1-Me.y0),Ne=Math.abs(Me.target.x0-Me.source.x1);return Math.atan(Ne/Be)}function Y(Me,Be){return Me.source.column<Be.target.column?!1:!(Me.target.column>Be.source.column)}function B(Me,Be){var Ne=0;Me.sourceLinks.forEach(function(Te){Ne=Te.circular&&!we(Te,Be)?Ne+1:Ne});var Ce=0;return Me.targetLinks.forEach(function(Te){Ce=Te.circular&&!we(Te,Be)?Ce+1:Ce}),Ne+Ce}function W(Me){var Be=Me.source.sourceLinks,Ne=0;Be.forEach(function(Le){Ne=Le.circular?Ne+1:Ne});var Ce=Me.target.targetLinks,Te=0;return Ce.forEach(function(Le){Te=Le.circular?Te+1:Te}),!(Ne>1||Te>1)}function H(Me,Be,Ne){return Me.sort(j),Me.forEach(function(Ce,Te){var Le=0;if(we(Ce,Ne)&&W(Ce))Ce.circularPathData.verticalBuffer=Le+Ce.width/2;else{var Ve=0;for(Ve;Ve<Te;Ve++)if(Y(Me[Te],Me[Ve])){var We=Me[Ve].circularPathData.verticalBuffer+Me[Ve].width/2+Be;Le=We>Le?We:Le}Ce.circularPathData.verticalBuffer=Le+Ce.width/2}}),Me}function U(Me,Be,Ne,Ce){var Te=5,Le=(0,h.VV)(Me.links,function(Fe){return Fe.source.y0});Me.links.forEach(function(Fe){Fe.circular&&(Fe.circularPathData={})});var Ve=Me.links.filter(function(Fe){return Fe.circularLinkType=="top"});H(Ve,Be,Ce);var We=Me.links.filter(function(Fe){return Fe.circularLinkType=="bottom"});H(We,Be,Ce),Me.links.forEach(function(Fe){if(Fe.circular){if(Fe.circularPathData.arcRadius=Fe.width+A,Fe.circularPathData.leftNodeBuffer=Te,Fe.circularPathData.rightNodeBuffer=Te,Fe.circularPathData.sourceWidth=Fe.source.x1-Fe.source.x0,Fe.circularPathData.sourceX=Fe.source.x0+Fe.circularPathData.sourceWidth,Fe.circularPathData.targetX=Fe.target.x0,Fe.circularPathData.sourceY=Fe.y0,Fe.circularPathData.targetY=Fe.y1,we(Fe,Ce)&&W(Fe))Fe.circularPathData.leftSmallArcRadius=A+Fe.width/2,Fe.circularPathData.leftLargeArcRadius=A+Fe.width/2,Fe.circularPathData.rightSmallArcRadius=A+Fe.width/2,Fe.circularPathData.rightLargeArcRadius=A+Fe.width/2,Fe.circularLinkType=="bottom"?(Fe.circularPathData.verticalFullExtent=Fe.source.y1+P+Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.rightLargeArcRadius):(Fe.circularPathData.verticalFullExtent=Fe.source.y0-P-Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.rightLargeArcRadius);else{var Ge=Fe.source.column,it=Fe.circularLinkType,qe=Me.links.filter(function(vt){return vt.source.column==Ge&&vt.circularLinkType==it});Fe.circularLinkType=="bottom"?qe.sort(ae):qe.sort(re);var $e=0;qe.forEach(function(vt,dt){vt.circularLinkID==Fe.circularLinkID&&(Fe.circularPathData.leftSmallArcRadius=A+Fe.width/2+$e,Fe.circularPathData.leftLargeArcRadius=A+Fe.width/2+dt*Be+$e),$e=$e+vt.width}),Ge=Fe.target.column,qe=Me.links.filter(function(vt){return vt.target.column==Ge&&vt.circularLinkType==it}),Fe.circularLinkType=="bottom"?qe.sort(de):qe.sort(ue),$e=0,qe.forEach(function(vt,dt){vt.circularLinkID==Fe.circularLinkID&&(Fe.circularPathData.rightSmallArcRadius=A+Fe.width/2+$e,Fe.circularPathData.rightLargeArcRadius=A+Fe.width/2+dt*Be+$e),$e=$e+vt.width}),Fe.circularLinkType=="bottom"?(Fe.circularPathData.verticalFullExtent=Math.max(Ne,Fe.source.y1,Fe.target.y1)+P+Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.rightLargeArcRadius):(Fe.circularPathData.verticalFullExtent=Le-P-Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.rightLargeArcRadius)}Fe.circularPathData.leftInnerExtent=Fe.circularPathData.sourceX+Fe.circularPathData.leftNodeBuffer,Fe.circularPathData.rightInnerExtent=Fe.circularPathData.targetX-Fe.circularPathData.rightNodeBuffer,Fe.circularPathData.leftFullExtent=Fe.circularPathData.sourceX+Fe.circularPathData.leftLargeArcRadius+Fe.circularPathData.leftNodeBuffer,Fe.circularPathData.rightFullExtent=Fe.circularPathData.targetX-Fe.circularPathData.rightLargeArcRadius-Fe.circularPathData.rightNodeBuffer}if(Fe.circular)Fe.path=G(Fe);else{var tt=(0,n.h5)().source(function(vt){var dt=vt.source.x0+(vt.source.x1-vt.source.x0),gt=vt.y0;return[dt,gt]}).target(function(vt){var dt=vt.target.x0,gt=vt.y1;return[dt,gt]});Fe.path=tt(Fe)}})}function G(Me){var Be="";return Me.circularLinkType=="top"?Be="M"+Me.circularPathData.sourceX+" "+Me.circularPathData.sourceY+" L"+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.sourceY+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftSmallArcRadius+" 0 0 0 "+Me.circularPathData.leftFullExtent+" "+(Me.circularPathData.sourceY-Me.circularPathData.leftSmallArcRadius)+" L"+Me.circularPathData.leftFullExtent+" "+Me.circularPathData.verticalLeftInnerExtent+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftLargeArcRadius+" 0 0 0 "+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.verticalFullExtent+" L"+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.verticalFullExtent+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightLargeArcRadius+" 0 0 0 "+Me.circularPathData.rightFullExtent+" "+Me.circularPathData.verticalRightInnerExtent+" L"+Me.circularPathData.rightFullExtent+" "+(Me.circularPathData.targetY-Me.circularPathData.rightSmallArcRadius)+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightSmallArcRadius+" 0 0 0 "+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.targetY+" L"+Me.circularPathData.targetX+" "+Me.circularPathData.targetY:Be="M"+Me.circularPathData.sourceX+" "+Me.circularPathData.sourceY+" L"+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.sourceY+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftSmallArcRadius+" 0 0 1 "+Me.circularPathData.leftFullExtent+" "+(Me.circularPathData.sourceY+Me.circularPathData.leftSmallArcRadius)+" L"+Me.circularPathData.leftFullExtent+" "+Me.circularPathData.verticalLeftInnerExtent+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftLargeArcRadius+" 0 0 1 "+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.verticalFullExtent+" L"+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.verticalFullExtent+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightLargeArcRadius+" 0 0 1 "+Me.circularPathData.rightFullExtent+" "+Me.circularPathData.verticalRightInnerExtent+" L"+Me.circularPathData.rightFullExtent+" "+(Me.circularPathData.targetY+Me.circularPathData.rightSmallArcRadius)+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightSmallArcRadius+" 0 0 1 "+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.targetY+" L"+Me.circularPathData.targetX+" "+Me.circularPathData.targetY,Be}function j(Me,Be){return ee(Me)==ee(Be)?Me.circularLinkType=="bottom"?ae(Me,Be):re(Me,Be):ee(Be)-ee(Me)}function re(Me,Be){return Me.y0-Be.y0}function ae(Me,Be){return Be.y0-Me.y0}function ue(Me,Be){return Me.y1-Be.y1}function de(Me,Be){return Be.y1-Me.y1}function ee(Me){return Me.target.column-Me.source.column}function X(Me){return Me.target.x0-Me.source.x1}function Q(Me,Be){var Ne=O(Me),Ce=X(Be)/Math.tan(Ne),Te=pe(Me)=="up"?Me.y1+Ce:Me.y1-Ce;return Te}function $(Me,Be){var Ne=O(Me),Ce=X(Be)/Math.tan(Ne),Te=pe(Me)=="up"?Me.y1-Ce:Me.y1+Ce;return Te}function ne(Me,Be,Ne,Ce){Me.links.forEach(function(Te){if(!Te.circular&&Te.target.column-Te.source.column>1){var Le=Te.source.column+1,Ve=Te.target.column-1,We=1,Fe=Ve-Le+1;for(We=1;Le<=Ve;Le++,We++)Me.nodes.forEach(function(Ge){if(Ge.column==Le){var it=We/(Fe+1),qe=Math.pow(1-it,3),$e=3*it*Math.pow(1-it,2),tt=3*Math.pow(it,2)*(1-it),vt=Math.pow(it,3),dt=qe*Te.y0+$e*Te.y0+tt*Te.y1+vt*Te.y1,gt=dt-Te.width/2,Mt=dt+Te.width/2,Ct;gt>Ge.y0&&gt<Ge.y1?(Ct=Ge.y1-gt+10,Ct=Ge.circularLinkType=="bottom"?Ct:-Ct,Ge=te(Ge,Ct,Be,Ne),Me.nodes.forEach(function(Wt){T(Wt,Ce)==T(Ge,Ce)||Wt.column!=Ge.column||fe(Ge,Wt)&&te(Wt,Ct,Be,Ne)})):Mt>Ge.y0&&Mt<Ge.y1?(Ct=Mt-Ge.y0+10,Ge=te(Ge,Ct,Be,Ne),Me.nodes.forEach(function(Wt){T(Wt,Ce)==T(Ge,Ce)||Wt.column!=Ge.column||Wt.y0<Ge.y1&&Wt.y1>Ge.y1&&te(Wt,Ct,Be,Ne)})):gt<Ge.y0&&Mt>Ge.y1&&(Ct=Mt-Ge.y0+10,Ge=te(Ge,Ct,Be,Ne),Me.nodes.forEach(function(Wt){T(Wt,Ce)==T(Ge,Ce)||Wt.column!=Ge.column||Wt.y0<Ge.y1&&Wt.y1>Ge.y1&&te(Wt,Ct,Be,Ne)}))}})}})}function fe(Me,Be){return Me.y0>Be.y0&&Me.y0<Be.y1||Me.y1>Be.y0&&Me.y1<Be.y1?!0:Me.y0<Be.y0&&Me.y1>Be.y1}function te(Me,Be,Ne,Ce){return Me.y0+Be>=Ne&&Me.y1+Be<=Ce&&(Me.y0=Me.y0+Be,Me.y1=Me.y1+Be,Me.targetLinks.forEach(function(Te){Te.y1=Te.y1+Be}),Me.sourceLinks.forEach(function(Te){Te.y0=Te.y0+Be})),Me}function q(Me,Be,Ne,Ce){Me.nodes.forEach(function(Te){Ce&&Te.y+(Te.y1-Te.y0)>Be&&(Te.y=Te.y-(Te.y+(Te.y1-Te.y0)-Be));var Le=Me.links.filter(function(Fe){return T(Fe.source,Ne)==T(Te,Ne)}),Ve=Le.length;Ve>1&&Le.sort(function(Fe,Ge){if(!Fe.circular&&!Ge.circular){if(Fe.target.column==Ge.target.column)return Fe.y1-Ge.y1;if(se(Fe,Ge)){if(Fe.target.column>Ge.target.column){var it=$(Ge,Fe);return Fe.y1-it}if(Ge.target.column>Fe.target.column){var qe=$(Fe,Ge);return qe-Ge.y1}}else return Fe.y1-Ge.y1}if(Fe.circular&&!Ge.circular)return Fe.circularLinkType=="top"?-1:1;if(Ge.circular&&!Fe.circular)return Ge.circularLinkType=="top"?1:-1;if(Fe.circular&&Ge.circular)return Fe.circularLinkType===Ge.circularLinkType&&Fe.circularLinkType=="top"?Fe.target.column===Ge.target.column?Fe.target.y1-Ge.target.y1:Ge.target.column-Fe.target.column:Fe.circularLinkType===Ge.circularLinkType&&Fe.circularLinkType=="bottom"?Fe.target.column===Ge.target.column?Ge.target.y1-Fe.target.y1:Fe.target.column-Ge.target.column:Fe.circularLinkType=="top"?-1:1});var We=Te.y0;Le.forEach(function(Fe){Fe.y0=We+Fe.width/2,We=We+Fe.width}),Le.forEach(function(Fe,Ge){if(Fe.circularLinkType=="bottom"){var it=Ge+1,qe=0;for(it;it<Ve;it++)qe=qe+Le[it].width;Fe.y0=Te.y1-qe-Fe.width/2}})})}function he(Me,Be,Ne){Me.nodes.forEach(function(Ce){var Te=Me.links.filter(function(We){return T(We.target,Ne)==T(Ce,Ne)}),Le=Te.length;Le>1&&Te.sort(function(We,Fe){if(!We.circular&&!Fe.circular){if(We.source.column==Fe.source.column)return We.y0-Fe.y0;if(se(We,Fe)){if(Fe.source.column<We.source.column){var Ge=Q(Fe,We);return We.y0-Ge}if(We.source.column<Fe.source.column){var it=Q(We,Fe);return it-Fe.y0}}else return We.y0-Fe.y0}if(We.circular&&!Fe.circular)return We.circularLinkType=="top"?-1:1;if(Fe.circular&&!We.circular)return Fe.circularLinkType=="top"?1:-1;if(We.circular&&Fe.circular)return We.circularLinkType===Fe.circularLinkType&&We.circularLinkType=="top"?We.source.column===Fe.source.column?We.source.y1-Fe.source.y1:We.source.column-Fe.source.column:We.circularLinkType===Fe.circularLinkType&&We.circularLinkType=="bottom"?We.source.column===Fe.source.column?We.source.y1-Fe.source.y1:Fe.source.column-We.source.column:We.circularLinkType=="top"?-1:1});var Ve=Ce.y0;Te.forEach(function(We){We.y1=Ve+We.width/2,Ve=Ve+We.width}),Te.forEach(function(We,Fe){if(We.circularLinkType=="bottom"){var Ge=Fe+1,it=0;for(Ge;Ge<Le;Ge++)it=it+Te[Ge].width;We.y1=Ce.y1-it-We.width/2}})})}function se(Me,Be){return pe(Me)==pe(Be)}function pe(Me){return Me.y0-Me.y1>0?"up":"down"}function we(Me,Be){return T(Me.source,Be)==T(Me.target,Be)}function Ee(Me,Be,Ne){var Ce=Me.nodes,Te=Me.links,Le=!1,Ve=!1;if(Te.forEach(function($e){$e.circularLinkType=="top"?Le=!0:$e.circularLinkType=="bottom"&&(Ve=!0)}),Le==!1||Ve==!1){var We=(0,h.VV)(Ce,function($e){return $e.y0}),Fe=(0,h.Fp)(Ce,function($e){return $e.y1}),Ge=Fe-We,it=Ne-Be,qe=it/Ge;Ce.forEach(function($e){var tt=($e.y1-$e.y0)*qe;$e.y0=($e.y0-We)*qe,$e.y1=$e.y0+tt}),Te.forEach(function($e){$e.y0=($e.y0-We)*qe,$e.y1=($e.y1-We)*qe,$e.width=$e.width*qe})}}},30838:function(k,F,e){e.r(F),e.d(F,{sankey:function(){return y},sankeyCenter:function(){return m},sankeyJustify:function(){return p},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return T},sankeyRight:function(){return w}});var h=e(33064),E=e(15140);function n(P){return P.target.depth}function L(P){return P.depth}function w(P,A){return A-1-P.height}function p(P,A){return P.sourceLinks.length?P.depth:A-1}function m(P){return P.targetLinks.length?P.depth:P.sourceLinks.length?(0,h.VV)(P.sourceLinks,n)-1:0}function t(P){return function(){return P}}function r(P,A){return i(P.source,A.source)||P.index-A.index}function l(P,A){return i(P.target,A.target)||P.index-A.index}function i(P,A){return P.y0-A.y0}function f(P){return P.value}function v(P){return(P.y0+P.y1)/2}function c(P){return v(P.source)*P.value}function x(P){return v(P.target)*P.value}function d(P){return P.index}function M(P){return P.nodes}function g(P){return P.links}function u(P,A){var a=P.get(A);if(!a)throw new Error("missing: "+A);return a}function y(){var P=0,A=0,a=1,R=1,b=24,N=8,O=d,Y=p,B=M,W=g,H=32,U=2/3;function G(){var ee={nodes:B.apply(null,arguments),links:W.apply(null,arguments)};return j(ee),re(ee),ae(ee),ue(ee),de(ee),ee}G.update=function(ee){return de(ee),ee},G.nodeId=function(ee){return arguments.length?(O=typeof ee=="function"?ee:t(ee),G):O},G.nodeAlign=function(ee){return arguments.length?(Y=typeof ee=="function"?ee:t(ee),G):Y},G.nodeWidth=function(ee){return arguments.length?(b=+ee,G):b},G.nodePadding=function(ee){return arguments.length?(N=+ee,G):N},G.nodes=function(ee){return arguments.length?(B=typeof ee=="function"?ee:t(ee),G):B},G.links=function(ee){return arguments.length?(W=typeof ee=="function"?ee:t(ee),G):W},G.size=function(ee){return arguments.length?(P=A=0,a=+ee[0],R=+ee[1],G):[a-P,R-A]},G.extent=function(ee){return arguments.length?(P=+ee[0][0],a=+ee[1][0],A=+ee[0][1],R=+ee[1][1],G):[[P,A],[a,R]]},G.iterations=function(ee){return arguments.length?(H=+ee,G):H};function j(ee){ee.nodes.forEach(function(Q,$){Q.index=$,Q.sourceLinks=[],Q.targetLinks=[]});var X=(0,E.UI)(ee.nodes,O);ee.links.forEach(function(Q,$){Q.index=$;var ne=Q.source,fe=Q.target;typeof ne!="object"&&(ne=Q.source=u(X,ne)),typeof fe!="object"&&(fe=Q.target=u(X,fe)),ne.sourceLinks.push(Q),fe.targetLinks.push(Q)})}function re(ee){ee.nodes.forEach(function(X){X.value=Math.max((0,h.Sm)(X.sourceLinks,f),(0,h.Sm)(X.targetLinks,f))})}function ae(ee){var X,Q,$;for(X=ee.nodes,Q=[],$=0;X.length;++$,X=Q,Q=[])X.forEach(function(fe){fe.depth=$,fe.sourceLinks.forEach(function(te){Q.indexOf(te.target)<0&&Q.push(te.target)})});for(X=ee.nodes,Q=[],$=0;X.length;++$,X=Q,Q=[])X.forEach(function(fe){fe.height=$,fe.targetLinks.forEach(function(te){Q.indexOf(te.source)<0&&Q.push(te.source)})});var ne=(a-P-b)/($-1);ee.nodes.forEach(function(fe){fe.x1=(fe.x0=P+Math.max(0,Math.min($-1,Math.floor(Y.call(null,fe,$))))*ne)+b})}function ue(ee){var X=(0,E.b1)().key(function(he){return he.x0}).sortKeys(h.j2).entries(ee.nodes).map(function(he){return he.values});ne(),q();for(var Q=1,$=H;$>0;--$)te(Q*=.99),q(),fe(Q),q();function ne(){var he=(0,h.Fp)(X,function(we){return we.length}),se=U*(R-A)/(he-1);N>se&&(N=se);var pe=(0,h.VV)(X,function(we){return(R-A-(we.length-1)*N)/(0,h.Sm)(we,f)});X.forEach(function(we){we.forEach(function(Ee,Me){Ee.y1=(Ee.y0=Me)+Ee.value*pe})}),ee.links.forEach(function(we){we.width=we.value*pe})}function fe(he){X.forEach(function(se){se.forEach(function(pe){if(pe.targetLinks.length){var we=((0,h.Sm)(pe.targetLinks,c)/(0,h.Sm)(pe.targetLinks,f)-v(pe))*he;pe.y0+=we,pe.y1+=we}})})}function te(he){X.slice().reverse().forEach(function(se){se.forEach(function(pe){if(pe.sourceLinks.length){var we=((0,h.Sm)(pe.sourceLinks,x)/(0,h.Sm)(pe.sourceLinks,f)-v(pe))*he;pe.y0+=we,pe.y1+=we}})})}function q(){X.forEach(function(he){var se,pe,we=A,Ee=he.length,Me;for(he.sort(i),Me=0;Me<Ee;++Me)se=he[Me],pe=we-se.y0,pe>0&&(se.y0+=pe,se.y1+=pe),we=se.y1+N;if(pe=we-N-R,pe>0)for(we=se.y0-=pe,se.y1-=pe,Me=Ee-2;Me>=0;--Me)se=he[Me],pe=se.y1+N-we,pe>0&&(se.y0-=pe,se.y1-=pe),we=se.y0})}}function de(ee){ee.nodes.forEach(function(X){X.sourceLinks.sort(l),X.targetLinks.sort(r)}),ee.nodes.forEach(function(X){var Q=X.y0,$=Q;X.sourceLinks.forEach(function(ne){ne.y0=Q+ne.width/2,Q+=ne.width}),X.targetLinks.forEach(function(ne){ne.y1=$+ne.width/2,$+=ne.width})})}return G}var C=e(45879);function S(P){return[P.source.x1,P.y0]}function D(P){return[P.target.x0,P.y1]}function T(){return(0,C.h5)().source(S).target(D)}},39898:function(k,F,e){var h,E;(function(){var n={version:"3.8.0"},L=[].slice,w=function(ve){return L.call(ve)},p=self.document;function m(ve){return ve&&(ve.ownerDocument||ve.document||ve).documentElement}function t(ve){return ve&&(ve.ownerDocument&&ve.ownerDocument.defaultView||ve.document&&ve||ve.defaultView)}if(p)try{w(p.documentElement.childNodes)[0].nodeType}catch{w=function(Pe){for(var He=Pe.length,Qe=new Array(He);He--;)Qe[He]=Pe[He];return Qe}}if(Date.now||(Date.now=function(){return+new Date}),p)try{p.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,l=r.setAttribute,i=r.setAttributeNS,f=this.CSSStyleDeclaration.prototype,v=f.setProperty;r.setAttribute=function(Pe,He){l.call(this,Pe,He+"")},r.setAttributeNS=function(Pe,He,Qe){i.call(this,Pe,He,Qe+"")},f.setProperty=function(Pe,He,Qe){v.call(this,Pe,He+"",Qe)}}n.ascending=c;function c(ve,Pe){return ve<Pe?-1:ve>Pe?1:ve>=Pe?0:NaN}n.descending=function(ve,Pe){return Pe<ve?-1:Pe>ve?1:Pe>=ve?0:NaN},n.min=function(ve,Pe){var He=-1,Qe=ve.length,et,at;if(arguments.length===1){for(;++He<Qe;)if((at=ve[He])!=null&&at>=at){et=at;break}for(;++He<Qe;)(at=ve[He])!=null&&et>at&&(et=at)}else{for(;++He<Qe;)if((at=Pe.call(ve,ve[He],He))!=null&&at>=at){et=at;break}for(;++He<Qe;)(at=Pe.call(ve,ve[He],He))!=null&&et>at&&(et=at)}return et},n.max=function(ve,Pe){var He=-1,Qe=ve.length,et,at;if(arguments.length===1){for(;++He<Qe;)if((at=ve[He])!=null&&at>=at){et=at;break}for(;++He<Qe;)(at=ve[He])!=null&&at>et&&(et=at)}else{for(;++He<Qe;)if((at=Pe.call(ve,ve[He],He))!=null&&at>=at){et=at;break}for(;++He<Qe;)(at=Pe.call(ve,ve[He],He))!=null&&at>et&&(et=at)}return et},n.extent=function(ve,Pe){var He=-1,Qe=ve.length,et,at,Rt;if(arguments.length===1){for(;++He<Qe;)if((at=ve[He])!=null&&at>=at){et=Rt=at;break}for(;++He<Qe;)(at=ve[He])!=null&&(et>at&&(et=at),Rt<at&&(Rt=at))}else{for(;++He<Qe;)if((at=Pe.call(ve,ve[He],He))!=null&&at>=at){et=Rt=at;break}for(;++He<Qe;)(at=Pe.call(ve,ve[He],He))!=null&&(et>at&&(et=at),Rt<at&&(Rt=at))}return[et,Rt]};function x(ve){return ve===null?NaN:+ve}function d(ve){return!isNaN(ve)}n.sum=function(ve,Pe){var He=0,Qe=ve.length,et,at=-1;if(arguments.length===1)for(;++at<Qe;)d(et=+ve[at])&&(He+=et);else for(;++at<Qe;)d(et=+Pe.call(ve,ve[at],at))&&(He+=et);return He},n.mean=function(ve,Pe){var He=0,Qe=ve.length,et,at=-1,Rt=Qe;if(arguments.length===1)for(;++at<Qe;)d(et=x(ve[at]))?He+=et:--Rt;else for(;++at<Qe;)d(et=x(Pe.call(ve,ve[at],at)))?He+=et:--Rt;if(Rt)return He/Rt},n.quantile=function(ve,Pe){var He=(ve.length-1)*Pe+1,Qe=Math.floor(He),et=+ve[Qe-1],at=He-Qe;return at?et+at*(ve[Qe]-et):et},n.median=function(ve,Pe){var He=[],Qe=ve.length,et,at=-1;if(arguments.length===1)for(;++at<Qe;)d(et=x(ve[at]))&&He.push(et);else for(;++at<Qe;)d(et=x(Pe.call(ve,ve[at],at)))&&He.push(et);if(He.length)return n.quantile(He.sort(c),.5)},n.variance=function(ve,Pe){var He=ve.length,Qe=0,et,at,Rt=0,ct=-1,Nt=0;if(arguments.length===1)for(;++ct<He;)d(et=x(ve[ct]))&&(at=et-Qe,Qe+=at/++Nt,Rt+=at*(et-Qe));else for(;++ct<He;)d(et=x(Pe.call(ve,ve[ct],ct)))&&(at=et-Qe,Qe+=at/++Nt,Rt+=at*(et-Qe));if(Nt>1)return Rt/(Nt-1)},n.deviation=function(){var ve=n.variance.apply(this,arguments);return ve&&Math.sqrt(ve)};function M(ve){return{left:function(Pe,He,Qe,et){for(arguments.length<3&&(Qe=0),arguments.length<4&&(et=Pe.length);Qe<et;){var at=Qe+et>>>1;ve(Pe[at],He)<0?Qe=at+1:et=at}return Qe},right:function(Pe,He,Qe,et){for(arguments.length<3&&(Qe=0),arguments.length<4&&(et=Pe.length);Qe<et;){var at=Qe+et>>>1;ve(Pe[at],He)>0?et=at:Qe=at+1}return Qe}}}var g=M(c);n.bisectLeft=g.left,n.bisect=n.bisectRight=g.right,n.bisector=function(ve){return M(ve.length===1?function(Pe,He){return c(ve(Pe),He)}:ve)},n.shuffle=function(ve,Pe,He){(Qe=arguments.length)<3&&(He=ve.length,Qe<2&&(Pe=0));for(var Qe=He-Pe,et,at;Qe;)at=Math.random()*Qe--|0,et=ve[Qe+Pe],ve[Qe+Pe]=ve[at+Pe],ve[at+Pe]=et;return ve},n.permute=function(ve,Pe){for(var He=Pe.length,Qe=new Array(He);He--;)Qe[He]=ve[Pe[He]];return Qe},n.pairs=function(ve){for(var Pe=0,He=ve.length-1,Qe=ve[0],et=new Array(He<0?0:He);Pe<He;)et[Pe]=[Qe,Qe=ve[++Pe]];return et},n.transpose=function(ve){if(!(at=ve.length))return[];for(var Pe=-1,He=n.min(ve,u),Qe=new Array(He);++Pe<He;)for(var et=-1,at,Rt=Qe[Pe]=new Array(at);++et<at;)Rt[et]=ve[et][Pe];return Qe};function u(ve){return ve.length}n.zip=function(){return n.transpose(arguments)},n.keys=function(ve){var Pe=[];for(var He in ve)Pe.push(He);return Pe},n.values=function(ve){var Pe=[];for(var He in ve)Pe.push(ve[He]);return Pe},n.entries=function(ve){var Pe=[];for(var He in ve)Pe.push({key:He,value:ve[He]});return Pe},n.merge=function(ve){for(var Pe=ve.length,He,Qe=-1,et=0,at,Rt;++Qe<Pe;)et+=ve[Qe].length;for(at=new Array(et);--Pe>=0;)for(Rt=ve[Pe],He=Rt.length;--He>=0;)at[--et]=Rt[He];return at};var y=Math.abs;n.range=function(ve,Pe,He){if(arguments.length<3&&(He=1,arguments.length<2&&(Pe=ve,ve=0)),(Pe-ve)/He===1/0)throw new Error("infinite range");var Qe=[],et=C(y(He)),at=-1,Rt;if(ve*=et,Pe*=et,He*=et,He<0)for(;(Rt=ve+He*++at)>Pe;)Qe.push(Rt/et);else for(;(Rt=ve+He*++at)<Pe;)Qe.push(Rt/et);return Qe};function C(ve){for(var Pe=1;ve*Pe%1;)Pe*=10;return Pe}function S(ve,Pe){for(var He in Pe)Object.defineProperty(ve.prototype,He,{value:Pe[He],enumerable:!1})}n.map=function(ve,Pe){var He=new D;if(ve instanceof D)ve.forEach(function(ct,Nt){He.set(ct,Nt)});else if(Array.isArray(ve)){var Qe=-1,et=ve.length,at;if(arguments.length===1)for(;++Qe<et;)He.set(Qe,ve[Qe]);else for(;++Qe<et;)He.set(Pe.call(ve,at=ve[Qe],Qe),at)}else for(var Rt in ve)He.set(Rt,ve[Rt]);return He};function D(){this._=Object.create(null)}var T="__proto__",P="\0";S(D,{has:R,get:function(ve){return this._[A(ve)]},set:function(ve,Pe){return this._[A(ve)]=Pe},remove:b,keys:N,values:function(){var ve=[];for(var Pe in this._)ve.push(this._[Pe]);return ve},entries:function(){var ve=[];for(var Pe in this._)ve.push({key:a(Pe),value:this._[Pe]});return ve},size:O,empty:Y,forEach:function(ve){for(var Pe in this._)ve.call(this,a(Pe),this._[Pe])}});function A(ve){return(ve+="")===T||ve[0]===P?P+ve:ve}function a(ve){return(ve+="")[0]===P?ve.slice(1):ve}function R(ve){return A(ve)in this._}function b(ve){return(ve=A(ve))in this._&&delete this._[ve]}function N(){var ve=[];for(var Pe in this._)ve.push(a(Pe));return ve}function O(){var ve=0;for(var Pe in this._)++ve;return ve}function Y(){for(var ve in this._)return!1;return!0}n.nest=function(){var ve={},Pe=[],He=[],Qe,et;function at(ct,Nt,er){if(er>=Pe.length)return et?et.call(ve,Nt):Qe?Nt.sort(Qe):Nt;for(var tr=-1,Lr=Nt.length,Sr=Pe[er++],Kr,en,Dr,Ur=new D,Zr;++tr<Lr;)(Zr=Ur.get(Kr=Sr(en=Nt[tr])))?Zr.push(en):Ur.set(Kr,[en]);return ct?(en=ct(),Dr=function(tn,ln){en.set(tn,at(ct,ln,er))}):(en={},Dr=function(tn,ln){en[tn]=at(ct,ln,er)}),Ur.forEach(Dr),en}function Rt(ct,Nt){if(Nt>=Pe.length)return ct;var er=[],tr=He[Nt++];return ct.forEach(function(Lr,Sr){er.push({key:Lr,values:Rt(Sr,Nt)})}),tr?er.sort(function(Lr,Sr){return tr(Lr.key,Sr.key)}):er}return ve.map=function(ct,Nt){return at(Nt,ct,0)},ve.entries=function(ct){return Rt(at(n.map,ct,0),0)},ve.key=function(ct){return Pe.push(ct),ve},ve.sortKeys=function(ct){return He[Pe.length-1]=ct,ve},ve.sortValues=function(ct){return Qe=ct,ve},ve.rollup=function(ct){return et=ct,ve},ve},n.set=function(ve){var Pe=new B;if(ve)for(var He=0,Qe=ve.length;He<Qe;++He)Pe.add(ve[He]);return Pe};function B(){this._=Object.create(null)}S(B,{has:R,add:function(ve){return this._[A(ve+="")]=!0,ve},remove:b,values:N,size:O,empty:Y,forEach:function(ve){for(var Pe in this._)ve.call(this,a(Pe))}}),n.behavior={};function W(ve){return ve}n.rebind=function(ve,Pe){for(var He=1,Qe=arguments.length,et;++He<Qe;)ve[et=arguments[He]]=H(ve,Pe,Pe[et]);return ve};function H(ve,Pe,He){return function(){var Qe=He.apply(Pe,arguments);return Qe===Pe?ve:Qe}}function U(ve,Pe){if(Pe in ve)return Pe;Pe=Pe.charAt(0).toUpperCase()+Pe.slice(1);for(var He=0,Qe=G.length;He<Qe;++He){var et=G[He]+Pe;if(et in ve)return et}}var G=["webkit","ms","moz","Moz","o","O"];function j(){}n.dispatch=function(){for(var ve=new re,Pe=-1,He=arguments.length;++Pe<He;)ve[arguments[Pe]]=ae(ve);return ve};function re(){}re.prototype.on=function(ve,Pe){var He=ve.indexOf("."),Qe="";if(He>=0&&(Qe=ve.slice(He+1),ve=ve.slice(0,He)),ve)return arguments.length<2?this[ve].on(Qe):this[ve].on(Qe,Pe);if(arguments.length===2){if(Pe==null)for(ve in this)this.hasOwnProperty(ve)&&this[ve].on(Qe,null);return this}};function ae(ve){var Pe=[],He=new D;function Qe(){for(var et=Pe,at=-1,Rt=et.length,ct;++at<Rt;)(ct=et[at].on)&&ct.apply(this,arguments);return ve}return Qe.on=function(et,at){var Rt=He.get(et),ct;return arguments.length<2?Rt&&Rt.on:(Rt&&(Rt.on=null,Pe=Pe.slice(0,ct=Pe.indexOf(Rt)).concat(Pe.slice(ct+1)),He.remove(et)),at&&Pe.push(He.set(et,{on:at})),ve)},Qe}n.event=null;function ue(){n.event.preventDefault()}function de(){for(var ve=n.event,Pe;Pe=ve.sourceEvent;)ve=Pe;return ve}function ee(ve){for(var Pe=new re,He=0,Qe=arguments.length;++He<Qe;)Pe[arguments[He]]=ae(Pe);return Pe.of=function(et,at){return function(Rt){try{var ct=Rt.sourceEvent=n.event;Rt.target=ve,n.event=Rt,Pe[Rt.type].apply(et,at)}finally{n.event=ct}}},Pe}n.requote=function(ve){return ve.replace(X,"\\$&")};var X=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Q={}.__proto__?function(ve,Pe){ve.__proto__=Pe}:function(ve,Pe){for(var He in Pe)ve[He]=Pe[He]};function $(ve){return Q(ve,q),ve}var ne=function(ve,Pe){return Pe.querySelector(ve)},fe=function(ve,Pe){return Pe.querySelectorAll(ve)},te=function(ve,Pe){var He=ve.matches||ve[U(ve,"matchesSelector")];return te=function(Qe,et){return He.call(Qe,et)},te(ve,Pe)};typeof Sizzle=="function"&&(ne=function(ve,Pe){return Sizzle(ve,Pe)[0]||null},fe=Sizzle,te=Sizzle.matchesSelector),n.selection=function(){return n.select(p.documentElement)};var q=n.selection.prototype=[];q.select=function(ve){var Pe=[],He,Qe,et,at;ve=he(ve);for(var Rt=-1,ct=this.length;++Rt<ct;){Pe.push(He=[]),He.parentNode=(et=this[Rt]).parentNode;for(var Nt=-1,er=et.length;++Nt<er;)(at=et[Nt])?(He.push(Qe=ve.call(at,at.__data__,Nt,Rt)),Qe&&"__data__"in at&&(Qe.__data__=at.__data__)):He.push(null)}return $(Pe)};function he(ve){return typeof ve=="function"?ve:function(){return ne(ve,this)}}q.selectAll=function(ve){var Pe=[],He,Qe;ve=se(ve);for(var et=-1,at=this.length;++et<at;)for(var Rt=this[et],ct=-1,Nt=Rt.length;++ct<Nt;)(Qe=Rt[ct])&&(Pe.push(He=w(ve.call(Qe,Qe.__data__,ct,et))),He.parentNode=Qe);return $(Pe)};function se(ve){return typeof ve=="function"?ve:function(){return fe(ve,this)}}var pe="http://www.w3.org/1999/xhtml",we={svg:"http://www.w3.org/2000/svg",xhtml:pe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:we,qualify:function(ve){var Pe=ve.indexOf(":"),He=ve;return Pe>=0&&(He=ve.slice(0,Pe))!=="xmlns"&&(ve=ve.slice(Pe+1)),we.hasOwnProperty(He)?{space:we[He],local:ve}:ve}},q.attr=function(ve,Pe){if(arguments.length<2){if(typeof ve=="string"){var He=this.node();return ve=n.ns.qualify(ve),ve.local?He.getAttributeNS(ve.space,ve.local):He.getAttribute(ve)}for(Pe in ve)this.each(Ee(Pe,ve[Pe]));return this}return this.each(Ee(ve,Pe))};function Ee(ve,Pe){ve=n.ns.qualify(ve);function He(){this.removeAttribute(ve)}function Qe(){this.removeAttributeNS(ve.space,ve.local)}function et(){this.setAttribute(ve,Pe)}function at(){this.setAttributeNS(ve.space,ve.local,Pe)}function Rt(){var Nt=Pe.apply(this,arguments);Nt==null?this.removeAttribute(ve):this.setAttribute(ve,Nt)}function ct(){var Nt=Pe.apply(this,arguments);Nt==null?this.removeAttributeNS(ve.space,ve.local):this.setAttributeNS(ve.space,ve.local,Nt)}return Pe==null?ve.local?Qe:He:typeof Pe=="function"?ve.local?ct:Rt:ve.local?at:et}function Me(ve){return ve.trim().replace(/\s+/g," ")}q.classed=function(ve,Pe){if(arguments.length<2){if(typeof ve=="string"){var He=this.node(),Qe=(ve=Ne(ve)).length,et=-1;if(Pe=He.classList){for(;++et<Qe;)if(!Pe.contains(ve[et]))return!1}else for(Pe=He.getAttribute("class");++et<Qe;)if(!Be(ve[et]).test(Pe))return!1;return!0}for(Pe in ve)this.each(Ce(Pe,ve[Pe]));return this}return this.each(Ce(ve,Pe))};function Be(ve){return new RegExp("(?:^|\\s+)"+n.requote(ve)+"(?:\\s+|$)","g")}function Ne(ve){return(ve+"").trim().split(/^|\s+/)}function Ce(ve,Pe){ve=Ne(ve).map(Te);var He=ve.length;function Qe(){for(var at=-1;++at<He;)ve[at](this,Pe)}function et(){for(var at=-1,Rt=Pe.apply(this,arguments);++at<He;)ve[at](this,Rt)}return typeof Pe=="function"?et:Qe}function Te(ve){var Pe=Be(ve);return function(He,Qe){if(et=He.classList)return Qe?et.add(ve):et.remove(ve);var et=He.getAttribute("class")||"";Qe?(Pe.lastIndex=0,Pe.test(et)||He.setAttribute("class",Me(et+" "+ve))):He.setAttribute("class",Me(et.replace(Pe," ")))}}q.style=function(ve,Pe,He){var Qe=arguments.length;if(Qe<3){if(typeof ve!="string"){Qe<2&&(Pe="");for(He in ve)this.each(Le(He,ve[He],Pe));return this}if(Qe<2){var et=this.node();return t(et).getComputedStyle(et,null).getPropertyValue(ve)}He=""}return this.each(Le(ve,Pe,He))};function Le(ve,Pe,He){function Qe(){this.style.removeProperty(ve)}function et(){this.style.setProperty(ve,Pe,He)}function at(){var Rt=Pe.apply(this,arguments);Rt==null?this.style.removeProperty(ve):this.style.setProperty(ve,Rt,He)}return Pe==null?Qe:typeof Pe=="function"?at:et}q.property=function(ve,Pe){if(arguments.length<2){if(typeof ve=="string")return this.node()[ve];for(Pe in ve)this.each(Ve(Pe,ve[Pe]));return this}return this.each(Ve(ve,Pe))};function Ve(ve,Pe){function He(){delete this[ve]}function Qe(){this[ve]=Pe}function et(){var at=Pe.apply(this,arguments);at==null?delete this[ve]:this[ve]=at}return Pe==null?He:typeof Pe=="function"?et:Qe}q.text=function(ve){return arguments.length?this.each(typeof ve=="function"?function(){var Pe=ve.apply(this,arguments);this.textContent=Pe??""}:ve==null?function(){this.textContent=""}:function(){this.textContent=ve}):this.node().textContent},q.html=function(ve){return arguments.length?this.each(typeof ve=="function"?function(){var Pe=ve.apply(this,arguments);this.innerHTML=Pe??""}:ve==null?function(){this.innerHTML=""}:function(){this.innerHTML=ve}):this.node().innerHTML},q.append=function(ve){return ve=We(ve),this.select(function(){return this.appendChild(ve.apply(this,arguments))})};function We(ve){function Pe(){var Qe=this.ownerDocument,et=this.namespaceURI;return et===pe&&Qe.documentElement.namespaceURI===pe?Qe.createElement(ve):Qe.createElementNS(et,ve)}function He(){return this.ownerDocument.createElementNS(ve.space,ve.local)}return typeof ve=="function"?ve:(ve=n.ns.qualify(ve)).local?He:Pe}q.insert=function(ve,Pe){return ve=We(ve),Pe=he(Pe),this.select(function(){return this.insertBefore(ve.apply(this,arguments),Pe.apply(this,arguments)||null)})},q.remove=function(){return this.each(Fe)};function Fe(){var ve=this.parentNode;ve&&ve.removeChild(this)}q.data=function(ve,Pe){var He=-1,Qe=this.length,et,at;if(!arguments.length){for(ve=new Array(Qe=(et=this[0]).length);++He<Qe;)(at=et[He])&&(ve[He]=at.__data__);return ve}function Rt(tr,Lr){var Sr,Kr=tr.length,en=Lr.length,Dr=Math.min(Kr,en),Ur=new Array(en),Zr=new Array(en),tn=new Array(Kr),ln,jr;if(Pe){var On=new D,Vn=new Array(Kr),Kn;for(Sr=-1;++Sr<Kr;)(ln=tr[Sr])&&(On.has(Kn=Pe.call(ln,ln.__data__,Sr))?tn[Sr]=ln:On.set(Kn,ln),Vn[Sr]=Kn);for(Sr=-1;++Sr<en;)(ln=On.get(Kn=Pe.call(Lr,jr=Lr[Sr],Sr)))?ln!==!0&&(Ur[Sr]=ln,ln.__data__=jr):Zr[Sr]=Ge(jr),On.set(Kn,!0);for(Sr=-1;++Sr<Kr;)Sr in Vn&&On.get(Vn[Sr])!==!0&&(tn[Sr]=tr[Sr])}else{for(Sr=-1;++Sr<Dr;)ln=tr[Sr],jr=Lr[Sr],ln?(ln.__data__=jr,Ur[Sr]=ln):Zr[Sr]=Ge(jr);for(;Sr<en;++Sr)Zr[Sr]=Ge(Lr[Sr]);for(;Sr<Kr;++Sr)tn[Sr]=tr[Sr]}Zr.update=Ur,Zr.parentNode=Ur.parentNode=tn.parentNode=tr.parentNode,ct.push(Zr),Nt.push(Ur),er.push(tn)}var ct=tt([]),Nt=$([]),er=$([]);if(typeof ve=="function")for(;++He<Qe;)Rt(et=this[He],ve.call(et,et.parentNode.__data__,He));else for(;++He<Qe;)Rt(et=this[He],ve);return Nt.enter=function(){return ct},Nt.exit=function(){return er},Nt};function Ge(ve){return{__data__:ve}}q.datum=function(ve){return arguments.length?this.property("__data__",ve):this.property("__data__")},q.filter=function(ve){var Pe=[],He,Qe,et;typeof ve!="function"&&(ve=it(ve));for(var at=0,Rt=this.length;at<Rt;at++){Pe.push(He=[]),He.parentNode=(Qe=this[at]).parentNode;for(var ct=0,Nt=Qe.length;ct<Nt;ct++)(et=Qe[ct])&&ve.call(et,et.__data__,ct,at)&&He.push(et)}return $(Pe)};function it(ve){return function(){return te(this,ve)}}q.order=function(){for(var ve=-1,Pe=this.length;++ve<Pe;)for(var He=this[ve],Qe=He.length-1,et=He[Qe],at;--Qe>=0;)(at=He[Qe])&&(et&&et!==at.nextSibling&&et.parentNode.insertBefore(at,et),et=at);return this},q.sort=function(ve){ve=qe.apply(this,arguments);for(var Pe=-1,He=this.length;++Pe<He;)this[Pe].sort(ve);return this.order()};function qe(ve){return arguments.length||(ve=c),function(Pe,He){return Pe&&He?ve(Pe.__data__,He.__data__):!Pe-!He}}q.each=function(ve){return $e(this,function(Pe,He,Qe){ve.call(Pe,Pe.__data__,He,Qe)})};function $e(ve,Pe){for(var He=0,Qe=ve.length;He<Qe;He++)for(var et=ve[He],at=0,Rt=et.length,ct;at<Rt;at++)(ct=et[at])&&Pe(ct,at,He);return ve}q.call=function(ve){var Pe=w(arguments);return ve.apply(Pe[0]=this,Pe),this},q.empty=function(){return!this.node()},q.node=function(){for(var ve=0,Pe=this.length;ve<Pe;ve++)for(var He=this[ve],Qe=0,et=He.length;Qe<et;Qe++){var at=He[Qe];if(at)return at}return null},q.size=function(){var ve=0;return $e(this,function(){++ve}),ve};function tt(ve){return Q(ve,vt),ve}var vt=[];n.selection.enter=tt,n.selection.enter.prototype=vt,vt.append=q.append,vt.empty=q.empty,vt.node=q.node,vt.call=q.call,vt.size=q.size,vt.select=function(ve){for(var Pe=[],He,Qe,et,at,Rt,ct=-1,Nt=this.length;++ct<Nt;){et=(at=this[ct]).update,Pe.push(He=[]),He.parentNode=at.parentNode;for(var er=-1,tr=at.length;++er<tr;)(Rt=at[er])?(He.push(et[er]=Qe=ve.call(at.parentNode,Rt.__data__,er,ct)),Qe.__data__=Rt.__data__):He.push(null)}return $(Pe)},vt.insert=function(ve,Pe){return arguments.length<2&&(Pe=dt(this)),q.insert.call(this,ve,Pe)};function dt(ve){var Pe,He;return function(Qe,et,at){var Rt=ve[at].update,ct=Rt.length,Nt;for(at!=He&&(He=at,Pe=0),et>=Pe&&(Pe=et+1);!(Nt=Rt[Pe])&&++Pe<ct;);return Nt}}n.select=function(ve){var Pe;return typeof ve=="string"?(Pe=[ne(ve,p)],Pe.parentNode=p.documentElement):(Pe=[ve],Pe.parentNode=m(ve)),$([Pe])},n.selectAll=function(ve){var Pe;return typeof ve=="string"?(Pe=w(fe(ve,p)),Pe.parentNode=p.documentElement):(Pe=w(ve),Pe.parentNode=null),$([Pe])},q.on=function(ve,Pe,He){var Qe=arguments.length;if(Qe<3){if(typeof ve!="string"){Qe<2&&(Pe=!1);for(He in ve)this.each(gt(He,ve[He],Pe));return this}if(Qe<2)return(Qe=this.node()["__on"+ve])&&Qe._;He=!1}return this.each(gt(ve,Pe,He))};function gt(ve,Pe,He){var Qe="__on"+ve,et=ve.indexOf("."),at=Ct;et>0&&(ve=ve.slice(0,et));var Rt=Mt.get(ve);Rt&&(ve=Rt,at=Wt);function ct(){var tr=this[Qe];tr&&(this.removeEventListener(ve,tr,tr.$),delete this[Qe])}function Nt(){var tr=at(Pe,w(arguments));ct.call(this),this.addEventListener(ve,this[Qe]=tr,tr.$=He),tr._=Pe}function er(){var tr=new RegExp("^__on([^.]+)"+n.requote(ve)+"$"),Lr;for(var Sr in this)if(Lr=Sr.match(tr)){var Kr=this[Sr];this.removeEventListener(Lr[1],Kr,Kr.$),delete this[Sr]}}return et?Pe?Nt:ct:Pe?j:er}var Mt=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});p&&Mt.forEach(function(ve){"on"+ve in p&&Mt.remove(ve)});function Ct(ve,Pe){return function(He){var Qe=n.event;n.event=He,Pe[0]=this.__data__;try{ve.apply(this,Pe)}finally{n.event=Qe}}}function Wt(ve,Pe){var He=Ct(ve,Pe);return function(Qe){var et=this,at=Qe.relatedTarget;(!at||at!==et&&!(at.compareDocumentPosition(et)&8))&&He.call(et,Qe)}}var Xe,ke=0;function Ie(ve){var Pe=".dragsuppress-"+ ++ke,He="click"+Pe,Qe=n.select(t(ve)).on("touchmove"+Pe,ue).on("dragstart"+Pe,ue).on("selectstart"+Pe,ue);if(Xe==null&&(Xe="onselectstart"in ve?!1:U(ve.style,"userSelect")),Xe){var et=m(ve).style,at=et[Xe];et[Xe]="none"}return function(Rt){if(Qe.on(Pe,null),Xe&&(et[Xe]=at),Rt){var ct=function(){Qe.on(He,null)};Qe.on(He,function(){ue(),ct()},!0),setTimeout(ct,0)}}}n.mouse=function(ve){return _e(ve,de())};var Oe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function _e(ve,Pe){Pe.changedTouches&&(Pe=Pe.changedTouches[0]);var He=ve.ownerSVGElement||ve;if(He.createSVGPoint){var Qe=He.createSVGPoint();if(Oe<0){var et=t(ve);if(et.scrollX||et.scrollY){He=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var at=He[0][0].getScreenCTM();Oe=!(at.f||at.e),He.remove()}}return Oe?(Qe.x=Pe.pageX,Qe.y=Pe.pageY):(Qe.x=Pe.clientX,Qe.y=Pe.clientY),Qe=Qe.matrixTransform(ve.getScreenCTM().inverse()),[Qe.x,Qe.y]}var Rt=ve.getBoundingClientRect();return[Pe.clientX-Rt.left-ve.clientLeft,Pe.clientY-Rt.top-ve.clientTop]}n.touch=function(ve,Pe,He){if(arguments.length<3&&(He=Pe,Pe=de().changedTouches),Pe){for(var Qe=0,et=Pe.length,at;Qe<et;++Qe)if((at=Pe[Qe]).identifier===He)return _e(ve,at)}},n.behavior.drag=function(){var ve=ee(et,"drag","dragstart","dragend"),Pe=null,He=at(j,n.mouse,t,"mousemove","mouseup"),Qe=at(Ae,n.touch,W,"touchmove","touchend");function et(){this.on("mousedown.drag",He).on("touchstart.drag",Qe)}function at(Rt,ct,Nt,er,tr){return function(){var Lr=this,Sr=n.event.target.correspondingElement||n.event.target,Kr=Lr.parentNode,en=ve.of(Lr,arguments),Dr=0,Ur=Rt(),Zr=".drag"+(Ur==null?"":"-"+Ur),tn,ln=n.select(Nt(Sr)).on(er+Zr,Vn).on(tr+Zr,Kn),jr=Ie(Sr),On=ct(Kr,Ur);Pe?(tn=Pe.apply(Lr,arguments),tn=[tn.x-On[0],tn.y-On[1]]):tn=[0,0],en({type:"dragstart"});function Vn(){var ni=ct(Kr,Ur),xi,mi;ni&&(xi=ni[0]-On[0],mi=ni[1]-On[1],Dr|=xi|mi,On=ni,en({type:"drag",x:ni[0]+tn[0],y:ni[1]+tn[1],dx:xi,dy:mi}))}function Kn(){ct(Kr,Ur)&&(ln.on(er+Zr,null).on(tr+Zr,null),jr(Dr),en({type:"dragend"}))}}}return et.origin=function(Rt){return arguments.length?(Pe=Rt,et):Pe},n.rebind(et,ve,"on")};function Ae(){return n.event.changedTouches[0].identifier}n.touches=function(ve,Pe){return arguments.length<2&&(Pe=de().touches),Pe?w(Pe).map(function(He){var Qe=_e(ve,He);return Qe.identifier=He.identifier,Qe}):[]};var ce=1e-6,be=ce*ce,Re=Math.PI,Ue=2*Re,nt=Ue-ce,ot=Re/2,wt=Re/180,_t=180/Re;function Ut(ve,Pe,He){return(Pe[0]-ve[0])*(He[1]-ve[1])-(Pe[1]-ve[1])*(He[0]-ve[0])}function Vt(ve){return ve>1?ot:ve<-1?-ot:Math.asin(ve)}function Lt(ve){return((ve=Math.exp(ve))-1/ve)/2}function Kt(ve){return((ve=Math.exp(ve))+1/ve)/2}function ar(ve){return((ve=Math.exp(2*ve))-1)/(ve+1)}var Fr=Math.SQRT2,yt=2,Xt=4;n.interpolateZoom=function(ve,Pe){var He=ve[0],Qe=ve[1],et=ve[2],at=Pe[0],Rt=Pe[1],ct=Pe[2],Nt=at-He,er=Rt-Qe,tr=Nt*Nt+er*er,Lr,Sr;if(tr<be)Sr=Math.log(ct/et)/Fr,Lr=function(tn){return[He+tn*Nt,Qe+tn*er,et*Math.exp(Fr*tn*Sr)]};else{var Kr=Math.sqrt(tr),en=(ct*ct-et*et+Xt*tr)/(2*et*yt*Kr),Dr=(ct*ct-et*et-Xt*tr)/(2*ct*yt*Kr),Ur=Math.log(Math.sqrt(en*en+1)-en),Zr=Math.log(Math.sqrt(Dr*Dr+1)-Dr);Sr=(Zr-Ur)/Fr,Lr=function(tn){var ln=tn*Sr,jr=Kt(Ur),On=et/(yt*Kr)*(jr*ar(Fr*ln+Ur)-Lt(Ur));return[He+On*Nt,Qe+On*er,et*jr/Kt(Fr*ln+Ur)]}}return Lr.duration=Sr*1e3,Lr},n.behavior.zoom=function(){var ve={x:0,y:0,k:1},Pe,He,Qe,et=[960,500],at=Yt,Rt=250,ct=0,Nt="mousedown.zoom",er="mousemove.zoom",tr="mouseup.zoom",Lr,Sr="touchstart.zoom",Kr,en=ee(ln,"zoomstart","zoom","zoomend"),Dr,Ur,Zr,tn;hr||(hr="onwheel"in p?(br=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in p?(br=function(){return n.event.wheelDelta},"mousewheel"):(br=function(){return-n.event.detail},"MozMousePixelScroll"));function ln(Bn){Bn.on(Nt,Oi).on(hr+".zoom",ra).on("dblclick.zoom",ca).on(Sr,$i)}ln.event=function(Bn){Bn.each(function(){var Bi=en.of(this,arguments),Fi=ve;Pr?n.select(this).transition().each("start.zoom",function(){ve=this.__chart__||{x:0,y:0,k:1},mi(Bi)}).tween("zoom:zoom",function(){var Zi=et[0],La=et[1],Va=He?He[0]:Zi/2,Za=He?He[1]:La/2,Ta=n.interpolateZoom([(Va-ve.x)/ve.k,(Za-ve.y)/ve.k,Zi/ve.k],[(Va-Fi.x)/Fi.k,(Za-Fi.y)/Fi.k,Zi/Fi.k]);return function(va){var gi=Ta(va),Mi=Zi/gi[2];this.__chart__=ve={x:Va-gi[0]*Mi,y:Za-gi[1]*Mi,k:Mi},Ui(Bi)}}).each("interrupt.zoom",function(){Ei(Bi)}).each("end.zoom",function(){Ei(Bi)}):(this.__chart__=ve,mi(Bi),Ui(Bi),Ei(Bi))})},ln.translate=function(Bn){return arguments.length?(ve={x:+Bn[0],y:+Bn[1],k:ve.k},xi(),ln):[ve.x,ve.y]},ln.scale=function(Bn){return arguments.length?(ve={x:ve.x,y:ve.y,k:null},Vn(+Bn),xi(),ln):ve.k},ln.scaleExtent=function(Bn){return arguments.length?(at=Bn==null?Yt:[+Bn[0],+Bn[1]],ln):at},ln.center=function(Bn){return arguments.length?(Qe=Bn&&[+Bn[0],+Bn[1]],ln):Qe},ln.size=function(Bn){return arguments.length?(et=Bn&&[+Bn[0],+Bn[1]],ln):et},ln.duration=function(Bn){return arguments.length?(Rt=+Bn,ln):Rt},ln.x=function(Bn){return arguments.length?(Ur=Bn,Dr=Bn.copy(),ve={x:0,y:0,k:1},ln):Ur},ln.y=function(Bn){return arguments.length?(tn=Bn,Zr=Bn.copy(),ve={x:0,y:0,k:1},ln):tn};function jr(Bn){return[(Bn[0]-ve.x)/ve.k,(Bn[1]-ve.y)/ve.k]}function On(Bn){return[Bn[0]*ve.k+ve.x,Bn[1]*ve.k+ve.y]}function Vn(Bn){ve.k=Math.max(at[0],Math.min(at[1],Bn))}function Kn(Bn,Bi){Bi=On(Bi),ve.x+=Bn[0]-Bi[0],ve.y+=Bn[1]-Bi[1]}function ni(Bn,Bi,Fi,Zi){Bn.__chart__={x:ve.x,y:ve.y,k:ve.k},Vn(Math.pow(2,Zi)),Kn(He=Bi,Fi),Bn=n.select(Bn),Rt>0&&(Bn=Bn.transition().duration(Rt)),Bn.call(ln.event)}function xi(){Ur&&Ur.domain(Dr.range().map(function(Bn){return(Bn-ve.x)/ve.k}).map(Dr.invert)),tn&&tn.domain(Zr.range().map(function(Bn){return(Bn-ve.y)/ve.k}).map(Zr.invert))}function mi(Bn){ct++||Bn({type:"zoomstart"})}function Ui(Bn){xi(),Bn({type:"zoom",scale:ve.k,translate:[ve.x,ve.y]})}function Ei(Bn){--ct||(Bn({type:"zoomend"}),He=null)}function Oi(){var Bn=this,Bi=en.of(Bn,arguments),Fi=0,Zi=n.select(t(Bn)).on(er,Za).on(tr,Ta),La=jr(n.mouse(Bn)),Va=Ie(Bn);Ot.call(Bn),mi(Bi);function Za(){Fi=1,Kn(n.mouse(Bn),La),Ui(Bi)}function Ta(){Zi.on(er,null).on(tr,null),Va(Fi),Ei(Bi)}}function $i(){var Bn=this,Bi=en.of(Bn,arguments),Fi={},Zi=0,La,Va=".zoom-"+n.event.changedTouches[0].identifier,Za="touchmove"+Va,Ta="touchend"+Va,va=[],gi=n.select(Bn),Mi=Ie(Bn);Ya(),mi(Bi),gi.on(Nt,null).on(Sr,Ya);function Aa(){var Co=n.touches(Bn);return La=ve.k,Co.forEach(function(Ra){Ra.identifier in Fi&&(Fi[Ra.identifier]=jr(Ra))}),Co}function Ya(){var Co=n.event.target;n.select(Co).on(Za,Yo).on(Ta,io),va.push(Co);for(var Ra=n.event.changedTouches,es=0,xa=Ra.length;es<xa;++es)Fi[Ra[es].identifier]=null;var Ps=Aa(),ts=Date.now();if(Ps.length===1){if(ts-Kr<500){var Xi=Ps[0];ni(Bn,Xi,Fi[Xi.identifier],Math.floor(Math.log(ve.k)/Math.LN2)+1),ue()}Kr=ts}else if(Ps.length>1){var Xi=Ps[0],Ma=Ps[1],Wc=Xi[0]-Ma[0],rc=Xi[1]-Ma[1];Zi=Wc*Wc+rc*rc}}function Yo(){var Co=n.touches(Bn),Ra,es,xa,Ps;Ot.call(Bn);for(var ts=0,Xi=Co.length;ts<Xi;++ts,Ps=null)if(xa=Co[ts],Ps=Fi[xa.identifier]){if(es)break;Ra=xa,es=Ps}if(Ps){var Ma=(Ma=xa[0]-Ra[0])*Ma+(Ma=xa[1]-Ra[1])*Ma,Wc=Zi&&Math.sqrt(Ma/Zi);Ra=[(Ra[0]+xa[0])/2,(Ra[1]+xa[1])/2],es=[(es[0]+Ps[0])/2,(es[1]+Ps[1])/2],Vn(Wc*La)}Kr=null,Kn(Ra,es),Ui(Bi)}function io(){if(n.event.touches.length){for(var Co=n.event.changedTouches,Ra=0,es=Co.length;Ra<es;++Ra)delete Fi[Co[Ra].identifier];for(var xa in Fi)return void Aa()}n.selectAll(va).on(Va,null),gi.on(Nt,Oi).on(Sr,$i),Mi(),Ei(Bi)}}function ra(){var Bn=en.of(this,arguments);Lr?clearTimeout(Lr):(Ot.call(this),Pe=jr(He=Qe||n.mouse(this)),mi(Bn)),Lr=setTimeout(function(){Lr=null,Ei(Bn)},50),ue(),Vn(Math.pow(2,br()*.002)*ve.k),Kn(He,Pe),Ui(Bn)}function ca(){var Bn=n.mouse(this),Bi=Math.log(ve.k)/Math.LN2;ni(this,Bn,jr(Bn),n.event.shiftKey?Math.ceil(Bi)-1:Math.floor(Bi)+1)}return n.rebind(ln,en,"on")};var Yt=[0,1/0],br,hr;n.color=ut;function ut(){}ut.prototype.toString=function(){return this.rgb()+""},n.hsl=lt;function lt(ve,Pe,He){return this instanceof lt?(this.h=+ve,this.s=+Pe,void(this.l=+He)):arguments.length<2?ve instanceof lt?new lt(ve.h,ve.s,ve.l):pr(""+ve,vr,lt):new lt(ve,Pe,He)}var xt=lt.prototype=new ut;xt.brighter=function(ve){return ve=Math.pow(.7,arguments.length?ve:1),new lt(this.h,this.s,this.l/ve)},xt.darker=function(ve){return ve=Math.pow(.7,arguments.length?ve:1),new lt(this.h,this.s,ve*this.l)},xt.rgb=function(){return Tt(this.h,this.s,this.l)};function Tt(ve,Pe,He){var Qe,et;ve=isNaN(ve)?0:(ve%=360)<0?ve+360:ve,Pe=isNaN(Pe)||Pe<0?0:Pe>1?1:Pe,He=He<0?0:He>1?1:He,et=He<=.5?He*(1+Pe):He+Pe-He*Pe,Qe=2*He-et;function at(ct){return ct>360?ct-=360:ct<0&&(ct+=360),ct<60?Qe+(et-Qe)*ct/60:ct<180?et:ct<240?Qe+(et-Qe)*(240-ct)/60:Qe}function Rt(ct){return Math.round(at(ct)*255)}return new lr(Rt(ve+120),Rt(ve),Rt(ve-120))}n.hcl=Et;function Et(ve,Pe,He){return this instanceof Et?(this.h=+ve,this.c=+Pe,void(this.l=+He)):arguments.length<2?ve instanceof Et?new Et(ve.h,ve.c,ve.l):ve instanceof Ht?Dt(ve.l,ve.a,ve.b):Dt((ve=Vr((ve=n.rgb(ve)).r,ve.g,ve.b)).l,ve.a,ve.b):new Et(ve,Pe,He)}var At=Et.prototype=new ut;At.brighter=function(ve){return new Et(this.h,this.c,Math.min(100,this.l+$t*(arguments.length?ve:1)))},At.darker=function(ve){return new Et(this.h,this.c,Math.max(0,this.l-$t*(arguments.length?ve:1)))},At.rgb=function(){return Ft(this.h,this.c,this.l).rgb()};function Ft(ve,Pe,He){return isNaN(ve)&&(ve=0),isNaN(Pe)&&(Pe=0),new Ht(He,Math.cos(ve*=wt)*Pe,Math.sin(ve)*Pe)}n.lab=Ht;function Ht(ve,Pe,He){return this instanceof Ht?(this.l=+ve,this.a=+Pe,void(this.b=+He)):arguments.length<2?ve instanceof Ht?new Ht(ve.l,ve.a,ve.b):ve instanceof Et?Ft(ve.h,ve.c,ve.l):Vr((ve=lr(ve)).r,ve.g,ve.b):new Ht(ve,Pe,He)}var $t=18,Qt=.95047,or=1,Er=1.08883,Ze=Ht.prototype=new ut;Ze.brighter=function(ve){return new Ht(Math.min(100,this.l+$t*(arguments.length?ve:1)),this.a,this.b)},Ze.darker=function(ve){return new Ht(Math.max(0,this.l-$t*(arguments.length?ve:1)),this.a,this.b)},Ze.rgb=function(){return Ye(this.l,this.a,this.b)};function Ye(ve,Pe,He){var Qe=(ve+16)/116,et=Qe+Pe/500,at=Qe-He/200;return et=It(et)*Qt,Qe=It(Qe)*or,at=It(at)*Er,new lr(nr(3.2404542*et-1.5371385*Qe-.4985314*at),nr(-.969266*et+1.8760108*Qe+.041556*at),nr(.0556434*et-.2040259*Qe+1.0572252*at))}function Dt(ve,Pe,He){return ve>0?new Et(Math.atan2(He,Pe)*_t,Math.sqrt(Pe*Pe+He*He),ve):new Et(NaN,NaN,ve)}function It(ve){return ve>.206893034?ve*ve*ve:(ve-.13793103448275862)/7.787037}function Zt(ve){return ve>.008856?Math.pow(ve,.3333333333333333):7.787037*ve+.13793103448275862}function nr(ve){return Math.round(255*(ve<=.00304?12.92*ve:1.055*Math.pow(ve,.4166666666666667)-.055))}n.rgb=lr;function lr(ve,Pe,He){return this instanceof lr?(this.r=~~ve,this.g=~~Pe,void(this.b=~~He)):arguments.length<2?ve instanceof lr?new lr(ve.r,ve.g,ve.b):pr(""+ve,lr,Tt):new lr(ve,Pe,He)}function rr(ve){return new lr(ve>>16,ve>>8&255,ve&255)}function zt(ve){return rr(ve)+""}var fr=lr.prototype=new ut;fr.brighter=function(ve){ve=Math.pow(.7,arguments.length?ve:1);var Pe=this.r,He=this.g,Qe=this.b,et=30;return!Pe&&!He&&!Qe?new lr(et,et,et):(Pe&&Pe<et&&(Pe=et),He&&He<et&&(He=et),Qe&&Qe<et&&(Qe=et),new lr(Math.min(255,Pe/ve),Math.min(255,He/ve),Math.min(255,Qe/ve)))},fr.darker=function(ve){return ve=Math.pow(.7,arguments.length?ve:1),new lr(ve*this.r,ve*this.g,ve*this.b)},fr.hsl=function(){return vr(this.r,this.g,this.b)},fr.toString=function(){return"#"+dr(this.r)+dr(this.g)+dr(this.b)};function dr(ve){return ve<16?"0"+Math.max(0,ve).toString(16):Math.min(255,ve).toString(16)}function pr(ve,Pe,He){var Qe=0,et=0,at=0,Rt,ct,Nt;if(Rt=/([a-z]+)\((.*)\)/.exec(ve=ve.toLowerCase()),Rt)switch(ct=Rt[2].split(","),Rt[1]){case"hsl":return He(parseFloat(ct[0]),parseFloat(ct[1])/100,parseFloat(ct[2])/100);case"rgb":return Pe(kr(ct[0]),kr(ct[1]),kr(ct[2]))}return(Nt=pn.get(ve))?Pe(Nt.r,Nt.g,Nt.b):(ve!=null&&ve.charAt(0)==="#"&&!isNaN(Nt=parseInt(ve.slice(1),16))&&(ve.length===4?(Qe=(Nt&3840)>>4,Qe=Qe>>4|Qe,et=Nt&240,et=et>>4|et,at=Nt&15,at=at<<4|at):ve.length===7&&(Qe=(Nt&16711680)>>16,et=(Nt&65280)>>8,at=Nt&255)),Pe(Qe,et,at))}function vr(ve,Pe,He){var Qe=Math.min(ve/=255,Pe/=255,He/=255),et=Math.max(ve,Pe,He),at=et-Qe,Rt,ct,Nt=(et+Qe)/2;return at?(ct=Nt<.5?at/(et+Qe):at/(2-et-Qe),ve==et?Rt=(Pe-He)/at+(Pe<He?6:0):Pe==et?Rt=(He-ve)/at+2:Rt=(ve-Pe)/at+4,Rt*=60):(Rt=NaN,ct=Nt>0&&Nt<1?0:Rt),new lt(Rt,ct,Nt)}function Vr(ve,Pe,He){ve=_r(ve),Pe=_r(Pe),He=_r(He);var Qe=Zt((.4124564*ve+.3575761*Pe+.1804375*He)/Qt),et=Zt((.2126729*ve+.7151522*Pe+.072175*He)/or),at=Zt((.0193339*ve+.119192*Pe+.9503041*He)/Er);return Ht(116*et-16,500*(Qe-et),200*(et-at))}function _r(ve){return(ve/=255)<=.04045?ve/12.92:Math.pow((ve+.055)/1.055,2.4)}function kr(ve){var Pe=parseFloat(ve);return ve.charAt(ve.length-1)==="%"?Math.round(Pe*2.55):Pe}var pn=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});pn.forEach(function(ve,Pe){pn.set(ve,rr(Pe))});function Xr(ve){return typeof ve=="function"?ve:function(){return ve}}n.functor=Xr,n.xhr=_n(W);function _n(ve){return function(Pe,He,Qe){return arguments.length===2&&typeof He=="function"&&(Qe=He,He=null),Dn(Pe,He,ve,Qe)}}function Dn(ve,Pe,He,Qe){var et={},at=n.dispatch("beforesend","progress","load","error"),Rt={},ct=new XMLHttpRequest,Nt=null;self.XDomainRequest&&!("withCredentials"in ct)&&/^(http(s)?:)?\/\//.test(ve)&&(ct=new XDomainRequest),"onload"in ct?ct.onload=ct.onerror=er:ct.onreadystatechange=function(){ct.readyState>3&&er()};function er(){var tr=ct.status,Lr;if(!tr&&Ar(ct)||tr>=200&&tr<300||tr===304){try{Lr=He.call(et,ct)}catch(Sr){at.error.call(et,Sr);return}at.load.call(et,Lr)}else at.error.call(et,ct)}return ct.onprogress=function(tr){var Lr=n.event;n.event=tr;try{at.progress.call(et,ct)}finally{n.event=Lr}},et.header=function(tr,Lr){return tr=(tr+"").toLowerCase(),arguments.length<2?Rt[tr]:(Lr==null?delete Rt[tr]:Rt[tr]=Lr+"",et)},et.mimeType=function(tr){return arguments.length?(Pe=tr==null?null:tr+"",et):Pe},et.responseType=function(tr){return arguments.length?(Nt=tr,et):Nt},et.response=function(tr){return He=tr,et},["get","post"].forEach(function(tr){et[tr]=function(){return et.send.apply(et,[tr].concat(w(arguments)))}}),et.send=function(tr,Lr,Sr){if(arguments.length===2&&typeof Lr=="function"&&(Sr=Lr,Lr=null),ct.open(tr,ve,!0),Pe!=null&&!("accept"in Rt)&&(Rt.accept=Pe+",*/*"),ct.setRequestHeader)for(var Kr in Rt)ct.setRequestHeader(Kr,Rt[Kr]);return Pe!=null&&ct.overrideMimeType&&ct.overrideMimeType(Pe),Nt!=null&&(ct.responseType=Nt),Sr!=null&&et.on("error",Sr).on("load",function(en){Sr(null,en)}),at.beforesend.call(et,ct),ct.send(Lr??null),et},et.abort=function(){return ct.abort(),et},n.rebind(et,at,"on"),Qe==null?et:et.get(xr(Qe))}function xr(ve){return ve.length===1?function(Pe,He){ve(Pe==null?He:null)}:ve}function Ar(ve){var Pe=ve.responseType;return Pe&&Pe!=="text"?ve.response:ve.responseText}n.dsv=function(ve,Pe){var He=new RegExp('["'+ve+`
]`),Qe=ve.charCodeAt(0);function et(er,tr,Lr){arguments.length<3&&(Lr=tr,tr=null);var Sr=Dn(er,Pe,tr==null?at:Rt(tr),Lr);return Sr.row=function(Kr){return arguments.length?Sr.response((tr=Kr)==null?at:Rt(Kr)):tr},Sr}function at(er){return et.parse(er.responseText)}function Rt(er){return function(tr){return et.parse(tr.responseText,er)}}et.parse=function(er,tr){var Lr;return et.parseRows(er,function(Sr,Kr){if(Lr)return Lr(Sr,Kr-1);var en=function(Dr){for(var Ur={},Zr=Sr.length,tn=0;tn<Zr;++tn)Ur[Sr[tn]]=Dr[tn];return Ur};Lr=tr?function(Dr,Ur){return tr(en(Dr),Ur)}:en})},et.parseRows=function(er,tr){var Lr={},Sr={},Kr=[],en=er.length,Dr=0,Ur=0,Zr,tn;function ln(){if(Dr>=en)return Sr;if(tn)return tn=!1,Lr;var On=Dr;if(er.charCodeAt(On)===34){for(var Vn=On;Vn++<en;)if(er.charCodeAt(Vn)===34){if(er.charCodeAt(Vn+1)!==34)break;++Vn}Dr=Vn+2;var Kn=er.charCodeAt(Vn+1);return Kn===13?(tn=!0,er.charCodeAt(Vn+2)===10&&++Dr):Kn===10&&(tn=!0),er.slice(On+1,Vn).replace(/""/g,'"')}for(;Dr<en;){var Kn=er.charCodeAt(Dr++),ni=1;if(Kn===10)tn=!0;else if(Kn===13)tn=!0,er.charCodeAt(Dr)===10&&(++Dr,++ni);else if(Kn!==Qe)continue;return er.slice(On,Dr-ni)}return er.slice(On)}for(;(Zr=ln())!==Sr;){for(var jr=[];Zr!==Lr&&Zr!==Sr;)jr.push(Zr),Zr=ln();tr&&(jr=tr(jr,Ur++))==null||Kr.push(jr)}return Kr},et.format=function(er){if(Array.isArray(er[0]))return et.formatRows(er);var tr=new B,Lr=[];return er.forEach(function(Sr){for(var Kr in Sr)tr.has(Kr)||Lr.push(tr.add(Kr))}),[Lr.map(Nt).join(ve)].concat(er.map(function(Sr){return Lr.map(function(Kr){return Nt(Sr[Kr])}).join(ve)})).join(`
`)},et.formatRows=function(er){return er.map(ct).join(`
`)};function ct(er){return er.map(Nt).join(ve)}function Nt(er){return He.test(er)?'"'+er.replace(/\"/g,'""')+'"':er}return et},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var Or,Br,qr,vn,fn=this[U(this,"requestAnimationFrame")]||function(ve){setTimeout(ve,17)};n.timer=function(){Tn.apply(this,arguments)};function Tn(ve,Pe,He){var Qe=arguments.length;Qe<2&&(Pe=0),Qe<3&&(He=Date.now());var et=He+Pe,at={c:ve,t:et,n:null};return Br?Br.n=at:Or=at,Br=at,qr||(vn=clearTimeout(vn),qr=1,fn(Pn)),at}function Pn(){var ve=jn(),Pe=qn()-ve;Pe>24?(isFinite(Pe)&&(clearTimeout(vn),vn=setTimeout(Pn,Pe)),qr=0):(qr=1,fn(Pn))}n.timer.flush=function(){jn(),qn()};function jn(){for(var ve=Date.now(),Pe=Or;Pe;)ve>=Pe.t&&Pe.c(ve-Pe.t)&&(Pe.c=null),Pe=Pe.n;return ve}function qn(){for(var ve,Pe=Or,He=1/0;Pe;)Pe.c?(Pe.t<He&&(He=Pe.t),Pe=(ve=Pe).n):Pe=ve?ve.n=Pe.n:Or=Pe.n;return Br=ve,He}n.round=function(ve,Pe){return Pe?Math.round(ve*(Pe=Math.pow(10,Pe)))/Pe:Math.round(ve)},n.geom={};function si(ve){return ve[0]}function ti(ve){return ve[1]}n.geom.hull=function(ve){var Pe=si,He=ti;if(arguments.length)return Qe(ve);function Qe(et){if(et.length<3)return[];var at=Xr(Pe),Rt=Xr(He),ct,Nt=et.length,er=[],tr=[];for(ct=0;ct<Nt;ct++)er.push([+at.call(this,et[ct],ct),+Rt.call(this,et[ct],ct),ct]);for(er.sort(Mr),ct=0;ct<Nt;ct++)tr.push([er[ct][0],-er[ct][1]]);var Lr=ei(er),Sr=ei(tr),Kr=Sr[0]===Lr[0],en=Sr[Sr.length-1]===Lr[Lr.length-1],Dr=[];for(ct=Lr.length-1;ct>=0;--ct)Dr.push(et[er[Lr[ct]][2]]);for(ct=+Kr;ct<Sr.length-en;++ct)Dr.push(et[er[Sr[ct]][2]]);return Dr}return Qe.x=function(et){return arguments.length?(Pe=et,Qe):Pe},Qe.y=function(et){return arguments.length?(He=et,Qe):He},Qe};function ei(ve){for(var Pe=ve.length,He=[0,1],Qe=2,et=2;et<Pe;et++){for(;Qe>1&&Ut(ve[He[Qe-2]],ve[He[Qe-1]],ve[et])<=0;)--Qe;He[Qe++]=et}return He.slice(0,Qe)}function Mr(ve,Pe){return ve[0]-Pe[0]||ve[1]-Pe[1]}n.geom.polygon=function(ve){return Q(ve,on),ve};var on=n.geom.polygon.prototype=[];on.area=function(){for(var ve=-1,Pe=this.length,He,Qe=this[Pe-1],et=0;++ve<Pe;)He=Qe,Qe=this[ve],et+=He[1]*Qe[0]-He[0]*Qe[1];return et*.5},on.centroid=function(ve){var Pe=-1,He=this.length,Qe=0,et=0,at,Rt=this[He-1],ct;for(arguments.length||(ve=-1/(6*this.area()));++Pe<He;)at=Rt,Rt=this[Pe],ct=at[0]*Rt[1]-Rt[0]*at[1],Qe+=(at[0]+Rt[0])*ct,et+=(at[1]+Rt[1])*ct;return[Qe*ve,et*ve]},on.clip=function(ve){for(var Pe,He=Nn(ve),Qe=-1,et=this.length-Nn(this),at,Rt,ct=this[et-1],Nt,er,tr;++Qe<et;){for(Pe=ve.slice(),ve.length=0,Nt=this[Qe],er=Pe[(Rt=Pe.length-He)-1],at=-1;++at<Rt;)tr=Pe[at],nn(tr,ct,Nt)?(nn(er,ct,Nt)||ve.push(gn(er,tr,ct,Nt)),ve.push(tr)):nn(er,ct,Nt)&&ve.push(gn(er,tr,ct,Nt)),er=tr;He&&ve.push(ve[0]),ct=Nt}return ve};function nn(ve,Pe,He){return(He[0]-Pe[0])*(ve[1]-Pe[1])<(He[1]-Pe[1])*(ve[0]-Pe[0])}function gn(ve,Pe,He,Qe){var et=ve[0],at=He[0],Rt=Pe[0]-et,ct=Qe[0]-at,Nt=ve[1],er=He[1],tr=Pe[1]-Nt,Lr=Qe[1]-er,Sr=(ct*(Nt-er)-Lr*(et-at))/(Lr*Rt-ct*tr);return[et+Sr*Rt,Nt+Sr*tr]}function Nn(ve){var Pe=ve[0],He=ve[ve.length-1];return!(Pe[0]-He[0]||Pe[1]-He[1])}var En,Cn,Hn,ii=[],Pi,ji,jt=[];function wr(){So(this),this.edge=this.site=this.circle=null}function an(ve){var Pe=ii.pop()||new wr;return Pe.site=ve,Pe}function cn(ve){Wn(ve),Hn.remove(ve),ii.push(ve),So(ve)}function hn(ve){var Pe=ve.circle,He=Pe.x,Qe=Pe.cy,et={x:He,y:Qe},at=ve.P,Rt=ve.N,ct=[ve];cn(ve);for(var Nt=at;Nt.circle&&y(He-Nt.circle.x)<ce&&y(Qe-Nt.circle.cy)<ce;)at=Nt.P,ct.unshift(Nt),cn(Nt),Nt=at;ct.unshift(Nt),Wn(Nt);for(var er=Rt;er.circle&&y(He-er.circle.x)<ce&&y(Qe-er.circle.cy)<ce;)Rt=er.N,ct.push(er),cn(er),er=Rt;ct.push(er),Wn(er);var tr=ct.length,Lr;for(Lr=1;Lr<tr;++Lr)er=ct[Lr],Nt=ct[Lr-1],di(er.edge,Nt.site,er.site,et);Nt=ct[0],er=ct[tr-1],er.edge=ai(Nt.site,er.site,null,et),In(Nt),In(er)}function Ln(ve){for(var Pe=ve.x,He=ve.y,Qe,et,at,Rt,ct=Hn._;ct;)if(at=wn(ct,He)-Pe,at>ce)ct=ct.L;else if(Rt=Pe-un(ct,He),Rt>ce){if(!ct.R){Qe=ct;break}ct=ct.R}else{at>-ce?(Qe=ct.P,et=ct):Rt>-ce?(Qe=ct,et=ct.N):Qe=et=ct;break}var Nt=an(ve);if(Hn.insert(Qe,Nt),!(!Qe&&!et)){if(Qe===et){Wn(Qe),et=an(Qe.site),Hn.insert(Nt,et),Nt.edge=et.edge=ai(Qe.site,Nt.site),In(Qe),In(et);return}if(!et){Nt.edge=ai(Qe.site,Nt.site);return}Wn(Qe),Wn(et);var er=Qe.site,tr=er.x,Lr=er.y,Sr=ve.x-tr,Kr=ve.y-Lr,en=et.site,Dr=en.x-tr,Ur=en.y-Lr,Zr=2*(Sr*Ur-Kr*Dr),tn=Sr*Sr+Kr*Kr,ln=Dr*Dr+Ur*Ur,jr={x:(Ur*tn-Kr*ln)/Zr+tr,y:(Sr*ln-Dr*tn)/Zr+Lr};di(et.edge,er,en,jr),Nt.edge=ai(er,ve,null,jr),et.edge=ai(ve,en,null,jr),In(Qe),In(et)}}function wn(ve,Pe){var He=ve.site,Qe=He.x,et=He.y,at=et-Pe;if(!at)return Qe;var Rt=ve.P;if(!Rt)return-1/0;He=Rt.site;var ct=He.x,Nt=He.y,er=Nt-Pe;if(!er)return ct;var tr=ct-Qe,Lr=1/at-1/er,Sr=tr/er;return Lr?(-Sr+Math.sqrt(Sr*Sr-2*Lr*(tr*tr/(-2*er)-Nt+er/2+et-at/2)))/Lr+Qe:(Qe+ct)/2}function un(ve,Pe){var He=ve.N;if(He)return wn(He,Pe);var Qe=ve.site;return Qe.y===Pe?Qe.x:1/0}function Rr(ve){this.site=ve,this.edges=[]}Rr.prototype.prepare=function(){for(var ve=this.edges,Pe=ve.length,He;Pe--;)He=ve[Pe].edge,(!He.b||!He.a)&&ve.splice(Pe,1);return ve.sort(zr),ve.length};function Cr(ve){for(var Pe=ve[0][0],He=ve[1][0],Qe=ve[0][1],et=ve[1][1],at,Rt,ct,Nt,er=Cn,tr=er.length,Lr,Sr,Kr,en,Dr,Ur;tr--;)if(Lr=er[tr],!(!Lr||!Lr.prepare()))for(Kr=Lr.edges,en=Kr.length,Sr=0;Sr<en;)Ur=Kr[Sr].end(),ct=Ur.x,Nt=Ur.y,Dr=Kr[++Sr%en].start(),at=Dr.x,Rt=Dr.y,(y(ct-at)>ce||y(Nt-Rt)>ce)&&(Kr.splice(Sr,0,new to(oi(Lr.site,Ur,y(ct-Pe)<ce&&et-Nt>ce?{x:Pe,y:y(at-Pe)<ce?Rt:et}:y(Nt-et)<ce&&He-ct>ce?{x:y(Rt-et)<ce?at:He,y:et}:y(ct-He)<ce&&Nt-Qe>ce?{x:He,y:y(at-He)<ce?Rt:Qe}:y(Nt-Qe)<ce&&ct-Pe>ce?{x:y(Rt-Qe)<ce?at:Pe,y:Qe}:null),Lr.site,null)),++en)}function zr(ve,Pe){return Pe.angle-ve.angle}function dn(){So(this),this.x=this.y=this.arc=this.site=this.cy=null}function In(ve){var Pe=ve.P,He=ve.N;if(!(!Pe||!He)){var Qe=Pe.site,et=ve.site,at=He.site;if(Qe!==at){var Rt=et.x,ct=et.y,Nt=Qe.x-Rt,er=Qe.y-ct,tr=at.x-Rt,Ur=at.y-ct,Lr=2*(Nt*Ur-er*tr);if(!(Lr>=-be)){var Sr=Nt*Nt+er*er,Kr=tr*tr+Ur*Ur,en=(Ur*Sr-er*Kr)/Lr,Dr=(Nt*Kr-tr*Sr)/Lr,Ur=Dr+ct,Zr=jt.pop()||new dn;Zr.arc=ve,Zr.site=et,Zr.x=en+Rt,Zr.y=Ur+Math.sqrt(en*en+Dr*Dr),Zr.cy=Ur,ve.circle=Zr;for(var tn=null,ln=ji._;ln;)if(Zr.y<ln.y||Zr.y===ln.y&&Zr.x<=ln.x)if(ln.L)ln=ln.L;else{tn=ln.P;break}else if(ln.R)ln=ln.R;else{tn=ln;break}ji.insert(tn,Zr),tn||(Pi=Zr)}}}}function Wn(ve){var Pe=ve.circle;Pe&&(Pe.P||(Pi=Pe.N),ji.remove(Pe),jt.push(Pe),So(Pe),ve.circle=null)}function yn(ve,Pe,He,Qe){return function(et){var at=et.a,Rt=et.b,ct=at.x,Nt=at.y,er=Rt.x,tr=Rt.y,Lr=0,Sr=1,Kr=er-ct,en=tr-Nt,Dr;if(Dr=ve-ct,!(!Kr&&Dr>0)){if(Dr/=Kr,Kr<0){if(Dr<Lr)return;Dr<Sr&&(Sr=Dr)}else if(Kr>0){if(Dr>Sr)return;Dr>Lr&&(Lr=Dr)}if(Dr=He-ct,!(!Kr&&Dr<0)){if(Dr/=Kr,Kr<0){if(Dr>Sr)return;Dr>Lr&&(Lr=Dr)}else if(Kr>0){if(Dr<Lr)return;Dr<Sr&&(Sr=Dr)}if(Dr=Pe-Nt,!(!en&&Dr>0)){if(Dr/=en,en<0){if(Dr<Lr)return;Dr<Sr&&(Sr=Dr)}else if(en>0){if(Dr>Sr)return;Dr>Lr&&(Lr=Dr)}if(Dr=Qe-Nt,!(!en&&Dr<0)){if(Dr/=en,en<0){if(Dr>Sr)return;Dr>Lr&&(Lr=Dr)}else if(en>0){if(Dr<Lr)return;Dr<Sr&&(Sr=Dr)}return Lr>0&&(et.a={x:ct+Lr*Kr,y:Nt+Lr*en}),Sr<1&&(et.b={x:ct+Sr*Kr,y:Nt+Sr*en}),et}}}}}}function zn(ve){for(var Pe=En,He=yn(ve[0][0],ve[0][1],ve[1][0],ve[1][1]),Qe=Pe.length,et;Qe--;)et=Pe[Qe],(!$n(et,ve)||!He(et)||y(et.a.x-et.b.x)<ce&&y(et.a.y-et.b.y)<ce)&&(et.a=et.b=null,Pe.splice(Qe,1))}function $n(ve,Pe){var He=ve.b;if(He)return!0;var Qe=ve.a,et=Pe[0][0],at=Pe[1][0],Rt=Pe[0][1],ct=Pe[1][1],Nt=ve.l,er=ve.r,tr=Nt.x,Lr=Nt.y,Sr=er.x,Kr=er.y,en=(tr+Sr)/2,Dr=(Lr+Kr)/2,Ur,Zr;if(Kr===Lr){if(en<et||en>=at)return;if(tr>Sr){if(!Qe)Qe={x:en,y:Rt};else if(Qe.y>=ct)return;He={x:en,y:ct}}else{if(!Qe)Qe={x:en,y:ct};else if(Qe.y<Rt)return;He={x:en,y:Rt}}}else if(Ur=(tr-Sr)/(Kr-Lr),Zr=Dr-Ur*en,Ur<-1||Ur>1)if(tr>Sr){if(!Qe)Qe={x:(Rt-Zr)/Ur,y:Rt};else if(Qe.y>=ct)return;He={x:(ct-Zr)/Ur,y:ct}}else{if(!Qe)Qe={x:(ct-Zr)/Ur,y:ct};else if(Qe.y<Rt)return;He={x:(Rt-Zr)/Ur,y:Rt}}else if(Lr<Kr){if(!Qe)Qe={x:et,y:Ur*et+Zr};else if(Qe.x>=at)return;He={x:at,y:Ur*at+Zr}}else{if(!Qe)Qe={x:at,y:Ur*at+Zr};else if(Qe.x<et)return;He={x:et,y:Ur*et+Zr}}return ve.a=Qe,ve.b=He,!0}function li(ve,Pe){this.l=ve,this.r=Pe,this.a=this.b=null}function ai(ve,Pe,He,Qe){var et=new li(ve,Pe);return En.push(et),He&&di(et,ve,Pe,He),Qe&&di(et,Pe,ve,Qe),Cn[ve.i].edges.push(new to(et,ve,Pe)),Cn[Pe.i].edges.push(new to(et,Pe,ve)),et}function oi(ve,Pe,He){var Qe=new li(ve,null);return Qe.a=Pe,Qe.b=He,En.push(Qe),Qe}function di(ve,Pe,He,Qe){!ve.a&&!ve.b?(ve.a=Qe,ve.l=Pe,ve.r=He):ve.l===He?ve.b=Qe:ve.a=Qe}function to(ve,Pe,He){var Qe=ve.a,et=ve.b;this.edge=ve,this.site=Pe,this.angle=He?Math.atan2(He.y-Pe.y,He.x-Pe.x):ve.l===Pe?Math.atan2(et.x-Qe.x,Qe.y-et.y):Math.atan2(Qe.x-et.x,et.y-Qe.y)}to.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function bo(){this._=null}function So(ve){ve.U=ve.C=ve.L=ve.R=ve.P=ve.N=null}bo.prototype={insert:function(ve,Pe){var He,Qe,et;if(ve){if(Pe.P=ve,Pe.N=ve.N,ve.N&&(ve.N.P=Pe),ve.N=Pe,ve.R){for(ve=ve.R;ve.L;)ve=ve.L;ve.L=Pe}else ve.R=Pe;He=ve}else this._?(ve=_f(this._),Pe.P=null,Pe.N=ve,ve.P=ve.L=Pe,He=ve):(Pe.P=Pe.N=null,this._=Pe,He=null);for(Pe.L=Pe.R=null,Pe.U=He,Pe.C=!0,ve=Pe;He&&He.C;)Qe=He.U,He===Qe.L?(et=Qe.R,et&&et.C?(He.C=et.C=!1,Qe.C=!0,ve=Qe):(ve===He.R&&(ko(this,He),ve=He,He=ve.U),He.C=!1,Qe.C=!0,Eo(this,Qe))):(et=Qe.L,et&&et.C?(He.C=et.C=!1,Qe.C=!0,ve=Qe):(ve===He.L&&(Eo(this,He),ve=He,He=ve.U),He.C=!1,Qe.C=!0,ko(this,Qe))),He=ve.U;this._.C=!1},remove:function(ve){ve.N&&(ve.N.P=ve.P),ve.P&&(ve.P.N=ve.N),ve.N=ve.P=null;var Pe=ve.U,He,Qe=ve.L,et=ve.R,at,Rt;if(Qe?et?at=_f(et):at=Qe:at=et,Pe?Pe.L===ve?Pe.L=at:Pe.R=at:this._=at,Qe&&et?(Rt=at.C,at.C=ve.C,at.L=Qe,Qe.U=at,at!==et?(Pe=at.U,at.U=ve.U,ve=at.R,Pe.L=ve,at.R=et,et.U=at):(at.U=Pe,Pe=at,ve=at.R)):(Rt=ve.C,ve=at),ve&&(ve.U=Pe),!Rt){if(ve&&ve.C){ve.C=!1;return}do{if(ve===this._)break;if(ve===Pe.L){if(He=Pe.R,He.C&&(He.C=!1,Pe.C=!0,ko(this,Pe),He=Pe.R),He.L&&He.L.C||He.R&&He.R.C){(!He.R||!He.R.C)&&(He.L.C=!1,He.C=!0,Eo(this,He),He=Pe.R),He.C=Pe.C,Pe.C=He.R.C=!1,ko(this,Pe),ve=this._;break}}else if(He=Pe.L,He.C&&(He.C=!1,Pe.C=!0,Eo(this,Pe),He=Pe.L),He.L&&He.L.C||He.R&&He.R.C){(!He.L||!He.L.C)&&(He.R.C=!1,He.C=!0,ko(this,He),He=Pe.L),He.C=Pe.C,Pe.C=He.L.C=!1,Eo(this,Pe),ve=this._;break}He.C=!0,ve=Pe,Pe=Pe.U}while(!ve.C);ve&&(ve.C=!1)}}};function ko(ve,Pe){var He=Pe,Qe=Pe.R,et=He.U;et?et.L===He?et.L=Qe:et.R=Qe:ve._=Qe,Qe.U=et,He.U=Qe,He.R=Qe.L,He.R&&(He.R.U=He),Qe.L=He}function Eo(ve,Pe){var He=Pe,Qe=Pe.L,et=He.U;et?et.L===He?et.L=Qe:et.R=Qe:ve._=Qe,Qe.U=et,He.U=Qe,He.L=Qe.R,He.L&&(He.L.U=He),Qe.R=He}function _f(ve){for(;ve.L;)ve=ve.L;return ve}function ta(ve,Pe){var He=ve.sort(wu).pop(),Qe,et,at;for(En=[],Cn=new Array(ve.length),Hn=new bo,ji=new bo;;)if(at=Pi,He&&(!at||He.y<at.y||He.y===at.y&&He.x<at.x))(He.x!==Qe||He.y!==et)&&(Cn[He.i]=new Rr(He),Ln(He),Qe=He.x,et=He.y),He=ve.pop();else if(at)hn(at.arc);else break;Pe&&(zn(Pe),Cr(Pe));var Rt={cells:Cn,edges:En};return Hn=ji=En=Cn=null,Rt}function wu(ve,Pe){return Pe.y-ve.y||Pe.x-ve.x}n.geom.voronoi=function(ve){var Pe=si,He=ti,Qe=Pe,et=He,at=Xl;if(ve)return Rt(ve);function Rt(Nt){var er=new Array(Nt.length),tr=at[0][0],Lr=at[0][1],Sr=at[1][0],Kr=at[1][1];return ta(ct(Nt),at).cells.forEach(function(en,Dr){var Ur=en.edges,Zr=en.site,tn=er[Dr]=Ur.length?Ur.map(function(ln){var jr=ln.start();return[jr.x,jr.y]}):Zr.x>=tr&&Zr.x<=Sr&&Zr.y>=Lr&&Zr.y<=Kr?[[tr,Kr],[Sr,Kr],[Sr,Lr],[tr,Lr]]:[];tn.point=Nt[Dr]}),er}function ct(Nt){return Nt.map(function(er,tr){return{x:Math.round(Qe(er,tr)/ce)*ce,y:Math.round(et(er,tr)/ce)*ce,i:tr}})}return Rt.links=function(Nt){return ta(ct(Nt)).edges.filter(function(er){return er.l&&er.r}).map(function(er){return{source:Nt[er.l.i],target:Nt[er.r.i]}})},Rt.triangles=function(Nt){var er=[];return ta(ct(Nt)).cells.forEach(function(tr,Lr){for(var Sr=tr.site,Kr=tr.edges.sort(zr),en=-1,Dr=Kr.length,Ur,Zr=Kr[Dr-1].edge,tn=Zr.l===Sr?Zr.r:Zr.l;++en<Dr;)Ur=tn,Zr=Kr[en].edge,tn=Zr.l===Sr?Zr.r:Zr.l,Lr<Ur.i&&Lr<tn.i&&ro(Sr,Ur,tn)<0&&er.push([Nt[Lr],Nt[Ur.i],Nt[tn.i]])}),er},Rt.x=function(Nt){return arguments.length?(Qe=Xr(Pe=Nt),Rt):Pe},Rt.y=function(Nt){return arguments.length?(et=Xr(He=Nt),Rt):He},Rt.clipExtent=function(Nt){return arguments.length?(at=Nt??Xl,Rt):at===Xl?null:at},Rt.size=function(Nt){return arguments.length?Rt.clipExtent(Nt&&[[0,0],Nt]):at===Xl?null:at&&at[1]},Rt};var Xl=[[-1e6,-1e6],[1e6,1e6]];function ro(ve,Pe,He){return(ve.x-He.x)*(Pe.y-ve.y)-(ve.x-Pe.x)*(He.y-ve.y)}n.geom.delaunay=function(ve){return n.geom.voronoi().triangles(ve)},n.geom.quadtree=function(ve,Pe,He,Qe,et){var at=si,Rt=ti,ct;if(ct=arguments.length)return at=Io,Rt=Sc,ct===3&&(et=He,Qe=Pe,He=Pe=0),Nt(ve);function Nt(er){var tr,Lr=Xr(at),Sr=Xr(Rt),Kr,en,Dr,Ur,Zr,tn,ln,jr;if(Pe!=null)Zr=Pe,tn=He,ln=Qe,jr=et;else if(ln=jr=-(Zr=tn=1/0),Kr=[],en=[],Ur=er.length,ct)for(Dr=0;Dr<Ur;++Dr)tr=er[Dr],tr.x<Zr&&(Zr=tr.x),tr.y<tn&&(tn=tr.y),tr.x>ln&&(ln=tr.x),tr.y>jr&&(jr=tr.y),Kr.push(tr.x),en.push(tr.y);else for(Dr=0;Dr<Ur;++Dr){var On=+Lr(tr=er[Dr],Dr),Vn=+Sr(tr,Dr);On<Zr&&(Zr=On),Vn<tn&&(tn=Vn),On>ln&&(ln=On),Vn>jr&&(jr=Vn),Kr.push(On),en.push(Vn)}var Kn=ln-Zr,ni=jr-tn;Kn>ni?jr=tn+Kn:ln=Zr+ni;function xi(Ei,Oi,$i,ra,ca,Bn,Bi,Fi){if(!(isNaN($i)||isNaN(ra)))if(Ei.leaf){var Zi=Ei.x,La=Ei.y;if(Zi!=null)if(y(Zi-$i)+y(La-ra)<.01)mi(Ei,Oi,$i,ra,ca,Bn,Bi,Fi);else{var Va=Ei.point;Ei.x=Ei.y=Ei.point=null,mi(Ei,Va,Zi,La,ca,Bn,Bi,Fi),mi(Ei,Oi,$i,ra,ca,Bn,Bi,Fi)}else Ei.x=$i,Ei.y=ra,Ei.point=Oi}else mi(Ei,Oi,$i,ra,ca,Bn,Bi,Fi)}function mi(Ei,Oi,$i,ra,ca,Bn,Bi,Fi){var Zi=(ca+Bi)*.5,La=(Bn+Fi)*.5,Va=$i>=Zi,Za=ra>=La,Ta=Za<<1|Va;Ei.leaf=!1,Ei=Ei.nodes[Ta]||(Ei.nodes[Ta]=Tu()),Va?ca=Zi:Bi=Zi,Za?Bn=La:Fi=La,xi(Ei,Oi,$i,ra,ca,Bn,Bi,Fi)}var Ui=Tu();if(Ui.add=function(Ei){xi(Ui,Ei,+Lr(Ei,++Dr),+Sr(Ei,Dr),Zr,tn,ln,jr)},Ui.visit=function(Ei){ka(Ei,Ui,Zr,tn,ln,jr)},Ui.find=function(Ei){return Au(Ui,Ei[0],Ei[1],Zr,tn,ln,jr)},Dr=-1,Pe==null){for(;++Dr<Ur;)xi(Ui,er[Dr],Kr[Dr],en[Dr],Zr,tn,ln,jr);--Dr}else er.forEach(Ui.add);return Kr=en=er=tr=null,Ui}return Nt.x=function(er){return arguments.length?(at=er,Nt):at},Nt.y=function(er){return arguments.length?(Rt=er,Nt):Rt},Nt.extent=function(er){return arguments.length?(er==null?Pe=He=Qe=et=null:(Pe=+er[0][0],He=+er[0][1],Qe=+er[1][0],et=+er[1][1]),Nt):Pe==null?null:[[Pe,He],[Qe,et]]},Nt.size=function(er){return arguments.length?(er==null?Pe=He=Qe=et=null:(Pe=He=0,Qe=+er[0],et=+er[1]),Nt):Pe==null?null:[Qe-Pe,et-He]},Nt};function Io(ve){return ve.x}function Sc(ve){return ve.y}function Tu(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ka(ve,Pe,He,Qe,et,at){if(!ve(Pe,He,Qe,et,at)){var Rt=(He+et)*.5,ct=(Qe+at)*.5,Nt=Pe.nodes;Nt[0]&&ka(ve,Nt[0],He,Qe,Rt,ct),Nt[1]&&ka(ve,Nt[1],Rt,Qe,et,ct),Nt[2]&&ka(ve,Nt[2],He,ct,Rt,at),Nt[3]&&ka(ve,Nt[3],Rt,ct,et,at)}}function Au(ve,Pe,He,Qe,et,at,Rt){var ct=1/0,Nt;return function er(tr,Lr,Sr,Kr,en){if(!(Lr>at||Sr>Rt||Kr<Qe||en<et)){if(Dr=tr.point){var Dr,Ur=Pe-tr.x,Zr=He-tr.y,tn=Ur*Ur+Zr*Zr;if(tn<ct){var ln=Math.sqrt(ct=tn);Qe=Pe-ln,et=He-ln,at=Pe+ln,Rt=He+ln,Nt=Dr}}for(var jr=tr.nodes,On=(Lr+Kr)*.5,Vn=(Sr+en)*.5,Kn=Pe>=On,ni=He>=Vn,xi=ni<<1|Kn,mi=xi+4;xi<mi;++xi)if(tr=jr[xi&3])switch(xi&3){case 0:er(tr,Lr,Sr,On,Vn);break;case 1:er(tr,On,Sr,Kr,Vn);break;case 2:er(tr,Lr,Vn,On,en);break;case 3:er(tr,On,Vn,Kr,en);break}}}(ve,Qe,et,at,Rt),Nt}n.interpolateRgb=Vo;function Vo(ve,Pe){ve=n.rgb(ve),Pe=n.rgb(Pe);var He=ve.r,Qe=ve.g,et=ve.b,at=Pe.r-He,Rt=Pe.g-Qe,ct=Pe.b-et;return function(Nt){return"#"+dr(Math.round(He+at*Nt))+dr(Math.round(Qe+Rt*Nt))+dr(Math.round(et+ct*Nt))}}n.interpolateObject=Ja;function Ja(ve,Pe){var He={},Qe={},et;for(et in ve)et in Pe?He[et]=Ns(ve[et],Pe[et]):Qe[et]=ve[et];for(et in Pe)et in ve||(Qe[et]=Pe[et]);return function(at){for(et in He)Qe[et]=He[et](at);return Qe}}n.interpolateNumber=Wo;function Wo(ve,Pe){return ve=+ve,Pe=+Pe,function(He){return ve*(1-He)+Pe*He}}n.interpolateString=wo;function wo(ve,Pe){var He=$o.lastIndex=Ts.lastIndex=0,Qe,et,at,Rt=-1,ct=[],Nt=[];for(ve=ve+"",Pe=Pe+"";(Qe=$o.exec(ve))&&(et=Ts.exec(Pe));)(at=et.index)>He&&(at=Pe.slice(He,at),ct[Rt]?ct[Rt]+=at:ct[++Rt]=at),(Qe=Qe[0])===(et=et[0])?ct[Rt]?ct[Rt]+=et:ct[++Rt]=et:(ct[++Rt]=null,Nt.push({i:Rt,x:Wo(Qe,et)})),He=Ts.lastIndex;return He<Pe.length&&(at=Pe.slice(He),ct[Rt]?ct[Rt]+=at:ct[++Rt]=at),ct.length<2?Nt[0]?(Pe=Nt[0].x,function(er){return Pe(er)+""}):function(){return Pe}:(Pe=Nt.length,function(er){for(var tr=0,Lr;tr<Pe;++tr)ct[(Lr=Nt[tr]).i]=Lr.x(er);return ct.join("")})}var $o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ts=new RegExp($o.source,"g");n.interpolate=Ns;function Ns(ve,Pe){for(var He=n.interpolators.length,Qe;--He>=0&&!(Qe=n.interpolators[He](ve,Pe)););return Qe}n.interpolators=[function(ve,Pe){var He=typeof Pe;return(He==="string"?pn.has(Pe.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Pe)?Vo:wo:Pe instanceof ut?Vo:Array.isArray(Pe)?so:He==="object"&&isNaN(Pe)?Ja:Wo)(ve,Pe)}],n.interpolateArray=so;function so(ve,Pe){var He=[],Qe=[],et=ve.length,at=Pe.length,Rt=Math.min(ve.length,Pe.length),ct;for(ct=0;ct<Rt;++ct)He.push(Ns(ve[ct],Pe[ct]));for(;ct<et;++ct)Qe[ct]=ve[ct];for(;ct<at;++ct)Qe[ct]=Pe[ct];return function(Nt){for(ct=0;ct<Rt;++ct)Qe[ct]=He[ct](Nt);return Qe}}var Ec=function(){return W},As=n.map({linear:Ec,poly:Mu,quad:function(){return If},cubic:function(){return Ff},sin:function(){return Bh},exp:function(){return Nh},circle:function(){return Uh},elastic:zf,back:Hh,bounce:function(){return Vh}}),lo=n.map({in:W,out:Us,"in-out":Ms,"out-in":function(ve){return Ms(Us(ve))}});n.ease=function(ve){var Pe=ve.indexOf("-"),He=Pe>=0?ve.slice(0,Pe):ve,Qe=Pe>=0?ve.slice(Pe+1):"in";return He=As.get(He)||Ec,Qe=lo.get(Qe)||W,kf(Qe(He.apply(null,L.call(arguments,1))))};function kf(ve){return function(Pe){return Pe<=0?0:Pe>=1?1:ve(Pe)}}function Us(ve){return function(Pe){return 1-ve(1-Pe)}}function Ms(ve){return function(Pe){return .5*(Pe<.5?ve(2*Pe):2-ve(2-2*Pe))}}function If(ve){return ve*ve}function Ff(ve){return ve*ve*ve}function Oh(ve){if(ve<=0)return 0;if(ve>=1)return 1;var Pe=ve*ve,He=Pe*ve;return 4*(ve<.5?He:3*(ve-Pe)+He-.75)}function Mu(ve){return function(Pe){return Math.pow(Pe,ve)}}function Bh(ve){return 1-Math.cos(ve*ot)}function Nh(ve){return Math.pow(2,10*(ve-1))}function Uh(ve){return 1-Math.sqrt(1-ve*ve)}function zf(ve,Pe){var He;return arguments.length<2&&(Pe=.45),arguments.length?He=Pe/Ue*Math.asin(1/ve):(ve=1,He=Pe/4),function(Qe){return 1+ve*Math.pow(2,-10*Qe)*Math.sin((Qe-He)*Ue/Pe)}}function Hh(ve){return ve||(ve=1.70158),function(Pe){return Pe*Pe*((ve+1)*Pe-ve)}}function Vh(ve){return ve<.36363636363636365?7.5625*ve*ve:ve<.7272727272727273?7.5625*(ve-=.5454545454545454)*ve+.75:ve<.9090909090909091?7.5625*(ve-=.8181818181818182)*ve+.9375:7.5625*(ve-=.9545454545454546)*ve+.984375}n.interpolateHcl=Cc;function Cc(ve,Pe){ve=n.hcl(ve),Pe=n.hcl(Pe);var He=ve.h,Qe=ve.c,et=ve.l,at=Pe.h-He,Rt=Pe.c-Qe,ct=Pe.l-et;return isNaN(Rt)&&(Rt=0,Qe=isNaN(Qe)?Pe.c:Qe),isNaN(at)?(at=0,He=isNaN(He)?Pe.h:He):at>180?at-=360:at<-180&&(at+=360),function(Nt){return Ft(He+at*Nt,Qe+Rt*Nt,et+ct*Nt)+""}}n.interpolateHsl=Wh;function Wh(ve,Pe){ve=n.hsl(ve),Pe=n.hsl(Pe);var He=ve.h,Qe=ve.s,et=ve.l,at=Pe.h-He,Rt=Pe.s-Qe,ct=Pe.l-et;return isNaN(Rt)&&(Rt=0,Qe=isNaN(Qe)?Pe.s:Qe),isNaN(at)?(at=0,He=isNaN(He)?Pe.h:He):at>180?at-=360:at<-180&&(at+=360),function(Nt){return Tt(He+at*Nt,Qe+Rt*Nt,et+ct*Nt)+""}}n.interpolateLab=Gh;function Gh(ve,Pe){ve=n.lab(ve),Pe=n.lab(Pe);var He=ve.l,Qe=ve.a,et=ve.b,at=Pe.l-He,Rt=Pe.a-Qe,ct=Pe.b-et;return function(Nt){return Ye(He+at*Nt,Qe+Rt*Nt,et+ct*Nt)+""}}n.interpolateRound=Of;function Of(ve,Pe){return Pe-=ve,function(He){return Math.round(ve+Pe*He)}}n.transform=function(ve){var Pe=p.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(He){if(He!=null){Pe.setAttribute("transform",He);var Qe=Pe.transform.baseVal.consolidate()}return new Ml(Qe?Qe.matrix:Yh)})(ve)};function Ml(ve){var Pe=[ve.a,ve.b],He=[ve.c,ve.d],Qe=Kl(Pe),et=Sl(Pe,He),at=Kl(qu(He,Pe,-et))||0;Pe[0]*He[1]<He[0]*Pe[1]&&(Pe[0]*=-1,Pe[1]*=-1,Qe*=-1,et*=-1),this.rotate=(Qe?Math.atan2(Pe[1],Pe[0]):Math.atan2(-He[0],He[1]))*_t,this.translate=[ve.e,ve.f],this.scale=[Qe,at],this.skew=at?Math.atan2(et,at)*_t:0}Ml.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Sl(ve,Pe){return ve[0]*Pe[0]+ve[1]*Pe[1]}function Kl(ve){var Pe=Math.sqrt(Sl(ve,ve));return Pe&&(ve[0]/=Pe,ve[1]/=Pe),Pe}function qu(ve,Pe,He){return ve[0]+=He*Pe[0],ve[1]+=He*Pe[1],ve}var Yh={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=El;function Hs(ve){return ve.length?ve.pop()+",":""}function Lc(ve,Pe,He,Qe){if(ve[0]!==Pe[0]||ve[1]!==Pe[1]){var et=He.push("translate(",null,",",null,")");Qe.push({i:et-4,x:Wo(ve[0],Pe[0])},{i:et-2,x:Wo(ve[1],Pe[1])})}else(Pe[0]||Pe[1])&&He.push("translate("+Pe+")")}function Bf(ve,Pe,He,Qe){ve!==Pe?(ve-Pe>180?Pe+=360:Pe-ve>180&&(ve+=360),Qe.push({i:He.push(Hs(He)+"rotate(",null,")")-2,x:Wo(ve,Pe)})):Pe&&He.push(Hs(He)+"rotate("+Pe+")")}function Zh(ve,Pe,He,Qe){ve!==Pe?Qe.push({i:He.push(Hs(He)+"skewX(",null,")")-2,x:Wo(ve,Pe)}):Pe&&He.push(Hs(He)+"skewX("+Pe+")")}function qo(ve,Pe,He,Qe){if(ve[0]!==Pe[0]||ve[1]!==Pe[1]){var et=He.push(Hs(He)+"scale(",null,",",null,")");Qe.push({i:et-4,x:Wo(ve[0],Pe[0])},{i:et-2,x:Wo(ve[1],Pe[1])})}else(Pe[0]!==1||Pe[1]!==1)&&He.push(Hs(He)+"scale("+Pe+")")}function El(ve,Pe){var He=[],Qe=[];return ve=n.transform(ve),Pe=n.transform(Pe),Lc(ve.translate,Pe.translate,He,Qe),Bf(ve.rotate,Pe.rotate,He,Qe),Zh(ve.skew,Pe.skew,He,Qe),qo(ve.scale,Pe.scale,He,Qe),ve=Pe=null,function(et){for(var at=-1,Rt=Qe.length,ct;++at<Rt;)He[(ct=Qe[at]).i]=ct.x(et);return He.join("")}}function Su(ve,Pe){return Pe=(Pe-=ve=+ve)||1/Pe,function(He){return(He-ve)/Pe}}function Jl(ve,Pe){return Pe=(Pe-=ve=+ve)||1/Pe,function(He){return Math.max(0,Math.min(1,(He-ve)/Pe))}}n.layout={},n.layout.bundle=function(){return function(ve){for(var Pe=[],He=-1,Qe=ve.length;++He<Qe;)Pe.push(Ss(ve[He]));return Pe}};function Ss(ve){for(var Pe=ve.source,He=ve.target,Qe=Nf(Pe,He),et=[Pe];Pe!==Qe;)Pe=Pe.parent,et.push(Pe);for(var at=et.length;He!==Qe;)et.splice(at,0,He),He=He.parent;return et}function Vs(ve){for(var Pe=[],He=ve.parent;He!=null;)Pe.push(ve),ve=He,He=He.parent;return Pe.push(ve),Pe}function Nf(ve,Pe){if(ve===Pe)return ve;for(var He=Vs(ve),Qe=Vs(Pe),et=He.pop(),at=Qe.pop(),Rt=null;et===at;)Rt=et,et=He.pop(),at=Qe.pop();return Rt}n.layout.chord=function(){var ve={},Pe,He,Qe,et,at=0,Rt,ct,Nt;function er(){var Lr={},Sr=[],Kr=n.range(et),en=[],Dr,Ur,Zr,tn,ln;for(Pe=[],He=[],Dr=0,tn=-1;++tn<et;){for(Ur=0,ln=-1;++ln<et;)Ur+=Qe[tn][ln];Sr.push(Ur),en.push(n.range(et)),Dr+=Ur}for(Rt&&Kr.sort(function(Ui,Ei){return Rt(Sr[Ui],Sr[Ei])}),ct&&en.forEach(function(Ui,Ei){Ui.sort(function(Oi,$i){return ct(Qe[Ei][Oi],Qe[Ei][$i])})}),Dr=(Ue-at*et)/Dr,Ur=0,tn=-1;++tn<et;){for(Zr=Ur,ln=-1;++ln<et;){var jr=Kr[tn],On=en[jr][ln],Vn=Qe[jr][On],Kn=Ur,ni=Ur+=Vn*Dr;Lr[jr+"-"+On]={index:jr,subindex:On,startAngle:Kn,endAngle:ni,value:Vn}}He[jr]={index:jr,startAngle:Zr,endAngle:Ur,value:Sr[jr]},Ur+=at}for(tn=-1;++tn<et;)for(ln=tn-1;++ln<et;){var xi=Lr[tn+"-"+ln],mi=Lr[ln+"-"+tn];(xi.value||mi.value)&&Pe.push(xi.value<mi.value?{source:mi,target:xi}:{source:xi,target:mi})}Nt&&tr()}function tr(){Pe.sort(function(Lr,Sr){return Nt((Lr.source.value+Lr.target.value)/2,(Sr.source.value+Sr.target.value)/2)})}return ve.matrix=function(Lr){return arguments.length?(et=(Qe=Lr)&&Qe.length,Pe=He=null,ve):Qe},ve.padding=function(Lr){return arguments.length?(at=Lr,Pe=He=null,ve):at},ve.sortGroups=function(Lr){return arguments.length?(Rt=Lr,Pe=He=null,ve):Rt},ve.sortSubgroups=function(Lr){return arguments.length?(ct=Lr,Pe=null,ve):ct},ve.sortChords=function(Lr){return arguments.length?(Nt=Lr,Pe&&tr(),ve):Nt},ve.chords=function(){return Pe||er(),Pe},ve.groups=function(){return He||er(),He},ve},n.layout.force=function(){var ve={},Pe=n.dispatch("start","tick","end"),He,Qe=[1,1],et,at,Rt=.9,ct=$l,Nt=Pc,er=-30,tr=Rc,Lr=.1,Sr=.64,Kr=[],en=[],Dr,Ur,Zr;function tn(jr){return function(On,Vn,Kn,ni){if(On.point!==jr){var xi=On.cx-jr.x,mi=On.cy-jr.y,Ui=ni-Vn,Ei=xi*xi+mi*mi;if(Ui*Ui/Sr<Ei){if(Ei<tr){var Oi=On.charge/Ei;jr.px-=xi*Oi,jr.py-=mi*Oi}return!0}if(On.point&&Ei&&Ei<tr){var Oi=On.pointCharge/Ei;jr.px-=xi*Oi,jr.py-=mi*Oi}}return!On.charge}}ve.tick=function(){if((at*=.99)<.005)return He=null,Pe.end({type:"end",alpha:at=0}),!0;var jr=Kr.length,On=en.length,Vn,Kn,ni,xi,mi,Ui,Ei,Oi,$i;for(Kn=0;Kn<On;++Kn)ni=en[Kn],xi=ni.source,mi=ni.target,Oi=mi.x-xi.x,$i=mi.y-xi.y,(Ui=Oi*Oi+$i*$i)&&(Ui=at*Ur[Kn]*((Ui=Math.sqrt(Ui))-Dr[Kn])/Ui,Oi*=Ui,$i*=Ui,mi.x-=Oi*(Ei=xi.weight+mi.weight?xi.weight/(xi.weight+mi.weight):.5),mi.y-=$i*Ei,xi.x+=Oi*(Ei=1-Ei),xi.y+=$i*Ei);if((Ei=at*Lr)&&(Oi=Qe[0]/2,$i=Qe[1]/2,Kn=-1,Ei))for(;++Kn<jr;)ni=Kr[Kn],ni.x+=(Oi-ni.x)*Ei,ni.y+=($i-ni.y)*Ei;if(er)for(ef(Vn=n.geom.quadtree(Kr),at,Zr),Kn=-1;++Kn<jr;)(ni=Kr[Kn]).fixed||Vn.visit(tn(ni));for(Kn=-1;++Kn<jr;)ni=Kr[Kn],ni.fixed?(ni.x=ni.px,ni.y=ni.py):(ni.x-=(ni.px-(ni.px=ni.x))*Rt,ni.y-=(ni.py-(ni.py=ni.y))*Rt);Pe.tick({type:"tick",alpha:at})},ve.nodes=function(jr){return arguments.length?(Kr=jr,ve):Kr},ve.links=function(jr){return arguments.length?(en=jr,ve):en},ve.size=function(jr){return arguments.length?(Qe=jr,ve):Qe},ve.linkDistance=function(jr){return arguments.length?(ct=typeof jr=="function"?jr:+jr,ve):ct},ve.distance=ve.linkDistance,ve.linkStrength=function(jr){return arguments.length?(Nt=typeof jr=="function"?jr:+jr,ve):Nt},ve.friction=function(jr){return arguments.length?(Rt=+jr,ve):Rt},ve.charge=function(jr){return arguments.length?(er=typeof jr=="function"?jr:+jr,ve):er},ve.chargeDistance=function(jr){return arguments.length?(tr=jr*jr,ve):Math.sqrt(tr)},ve.gravity=function(jr){return arguments.length?(Lr=+jr,ve):Lr},ve.theta=function(jr){return arguments.length?(Sr=jr*jr,ve):Math.sqrt(Sr)},ve.alpha=function(jr){return arguments.length?(jr=+jr,at?jr>0?at=jr:(He.c=null,He.t=NaN,He=null,Pe.end({type:"end",alpha:at=0})):jr>0&&(Pe.start({type:"start",alpha:at=jr}),He=Tn(ve.tick)),ve):at},ve.start=function(){var jr,On=Kr.length,Vn=en.length,Kn=Qe[0],ni=Qe[1],xi,mi;for(jr=0;jr<On;++jr)(mi=Kr[jr]).index=jr,mi.weight=0;for(jr=0;jr<Vn;++jr)mi=en[jr],typeof mi.source=="number"&&(mi.source=Kr[mi.source]),typeof mi.target=="number"&&(mi.target=Kr[mi.target]),++mi.source.weight,++mi.target.weight;for(jr=0;jr<On;++jr)mi=Kr[jr],isNaN(mi.x)&&(mi.x=Ui("x",Kn)),isNaN(mi.y)&&(mi.y=Ui("y",ni)),isNaN(mi.px)&&(mi.px=mi.x),isNaN(mi.py)&&(mi.py=mi.y);if(Dr=[],typeof ct=="function")for(jr=0;jr<Vn;++jr)Dr[jr]=+ct.call(this,en[jr],jr);else for(jr=0;jr<Vn;++jr)Dr[jr]=ct;if(Ur=[],typeof Nt=="function")for(jr=0;jr<Vn;++jr)Ur[jr]=+Nt.call(this,en[jr],jr);else for(jr=0;jr<Vn;++jr)Ur[jr]=Nt;if(Zr=[],typeof er=="function")for(jr=0;jr<On;++jr)Zr[jr]=+er.call(this,Kr[jr],jr);else for(jr=0;jr<On;++jr)Zr[jr]=er;function Ui(Ei,Oi){if(!xi){for(xi=new Array(On),ca=0;ca<On;++ca)xi[ca]=[];for(ca=0;ca<Vn;++ca){var $i=en[ca];xi[$i.source.index].push($i.target),xi[$i.target.index].push($i.source)}}for(var ra=xi[jr],ca=-1,Bn=ra.length,Bi;++ca<Bn;)if(!isNaN(Bi=ra[ca][Ei]))return Bi;return Math.random()*Oi}return ve.resume()},ve.resume=function(){return ve.alpha(.1)},ve.stop=function(){return ve.alpha(0)},ve.drag=function(){if(et||(et=n.behavior.drag().origin(W).on("dragstart.force",Ql).on("drag.force",ln).on("dragend.force",rl)),!arguments.length)return et;this.on("mouseover.force",Ha).on("mouseout.force",Uf).call(et)};function ln(jr){jr.px=n.event.x,jr.py=n.event.y,ve.resume()}return n.rebind(ve,Pe,"on")};function Ql(ve){ve.fixed|=2}function rl(ve){ve.fixed&=-7}function Ha(ve){ve.fixed|=4,ve.px=ve.x,ve.py=ve.y}function Uf(ve){ve.fixed&=-5}function ef(ve,Pe,He){var Qe=0,et=0;if(ve.charge=0,!ve.leaf)for(var at=ve.nodes,Rt=at.length,ct=-1,Nt;++ct<Rt;)Nt=at[ct],Nt!=null&&(ef(Nt,Pe,He),ve.charge+=Nt.charge,Qe+=Nt.charge*Nt.cx,et+=Nt.charge*Nt.cy);if(ve.point){ve.leaf||(ve.point.x+=Math.random()-.5,ve.point.y+=Math.random()-.5);var er=Pe*He[ve.point.index];ve.charge+=ve.pointCharge=er,Qe+=er*ve.point.x,et+=er*ve.point.y}ve.cx=Qe/ve.charge,ve.cy=et/ve.charge}var $l=20,Pc=1,Rc=1/0;n.layout.hierarchy=function(){var ve=Hf,Pe=tf,He=jh;function Qe(et){var at=[et],Rt=[],ct;for(et.depth=0;(ct=at.pop())!=null;)if(Rt.push(ct),(er=Pe.call(Qe,ct,ct.depth))&&(Nt=er.length)){for(var Nt,er,tr;--Nt>=0;)at.push(tr=er[Nt]),tr.parent=ct,tr.depth=ct.depth+1;He&&(ct.value=0),ct.children=er}else He&&(ct.value=+He.call(Qe,ct,ct.depth)||0),delete ct.children;return no(et,function(Lr){var Sr,Kr;ve&&(Sr=Lr.children)&&Sr.sort(ve),He&&(Kr=Lr.parent)&&(Kr.value+=Lr.value)}),Rt}return Qe.sort=function(et){return arguments.length?(ve=et,Qe):ve},Qe.children=function(et){return arguments.length?(Pe=et,Qe):Pe},Qe.value=function(et){return arguments.length?(He=et,Qe):He},Qe.revalue=function(et){return He&&(eu(et,function(at){at.children&&(at.value=0)}),no(et,function(at){var Rt;at.children||(at.value=+He.call(Qe,at,at.depth)||0),(Rt=at.parent)&&(Rt.value+=at.value)})),et},Qe};function ql(ve,Pe){return n.rebind(ve,Pe,"sort","children","value"),ve.nodes=ve,ve.links=Xh,ve}function eu(ve,Pe){for(var He=[ve];(ve=He.pop())!=null;)if(Pe(ve),(et=ve.children)&&(Qe=et.length))for(var Qe,et;--Qe>=0;)He.push(et[Qe])}function no(ve,Pe){for(var He=[ve],Qe=[];(ve=He.pop())!=null;)if(Qe.push(ve),(Rt=ve.children)&&(at=Rt.length))for(var et=-1,at,Rt;++et<at;)He.push(Rt[et]);for(;(ve=Qe.pop())!=null;)Pe(ve)}function tf(ve){return ve.children}function jh(ve){return ve.value}function Hf(ve,Pe){return Pe.value-ve.value}function Xh(ve){return n.merge(ve.map(function(Pe){return(Pe.children||[]).map(function(He){return{source:Pe,target:He}})}))}n.layout.partition=function(){var ve=n.layout.hierarchy(),Pe=[1,1];function He(at,Rt,ct,Nt){var er=at.children;if(at.x=Rt,at.y=at.depth*Nt,at.dx=ct,at.dy=Nt,er&&(Lr=er.length)){var tr=-1,Lr,Sr,Kr;for(ct=at.value?ct/at.value:0;++tr<Lr;)He(Sr=er[tr],Rt,Kr=Sr.value*ct,Nt),Rt+=Kr}}function Qe(at){var Rt=at.children,ct=0;if(Rt&&(er=Rt.length))for(var Nt=-1,er;++Nt<er;)ct=Math.max(ct,Qe(Rt[Nt]));return 1+ct}function et(at,Rt){var ct=ve.call(this,at,Rt);return He(ct[0],0,Pe[0],Pe[1]/Qe(ct[0])),ct}return et.size=function(at){return arguments.length?(Pe=at,et):Pe},ql(et,ve)},n.layout.pie=function(){var ve=Number,Pe=rf,He=0,Qe=Ue,et=0;function at(Rt){var ct=Rt.length,Nt=Rt.map(function(tn,ln){return+ve.call(at,tn,ln)}),er=+(typeof He=="function"?He.apply(this,arguments):He),tr=(typeof Qe=="function"?Qe.apply(this,arguments):Qe)-er,Lr=Math.min(Math.abs(tr)/ct,+(typeof et=="function"?et.apply(this,arguments):et)),Sr=Lr*(tr<0?-1:1),Kr=n.sum(Nt),en=Kr?(tr-ct*Sr)/Kr:0,Dr=n.range(ct),Ur=[],Zr;return Pe!=null&&Dr.sort(Pe===rf?function(tn,ln){return Nt[ln]-Nt[tn]}:function(tn,ln){return Pe(Rt[tn],Rt[ln])}),Dr.forEach(function(tn){Ur[tn]={data:Rt[tn],value:Zr=Nt[tn],startAngle:er,endAngle:er+=Zr*en+Sr,padAngle:Lr}}),Ur}return at.value=function(Rt){return arguments.length?(ve=Rt,at):ve},at.sort=function(Rt){return arguments.length?(Pe=Rt,at):Pe},at.startAngle=function(Rt){return arguments.length?(He=Rt,at):He},at.endAngle=function(Rt){return arguments.length?(Qe=Rt,at):Qe},at.padAngle=function(Rt){return arguments.length?(et=Rt,at):et},at};var rf={};n.layout.stack=function(){var ve=W,Pe=nf,He=Yf,Qe=Wf,et=Eu,at=Vf;function Rt(ct,Nt){if(!(en=ct.length))return ct;var er=ct.map(function(tn,ln){return ve.call(Rt,tn,ln)}),tr=er.map(function(tn){return tn.map(function(ln,jr){return[et.call(Rt,ln,jr),at.call(Rt,ln,jr)]})}),Lr=Pe.call(Rt,tr,Nt);er=n.permute(er,Lr),tr=n.permute(tr,Lr);var Sr=He.call(Rt,tr,Nt),Kr=er[0].length,en,Dr,Ur,Zr;for(Ur=0;Ur<Kr;++Ur)for(Qe.call(Rt,er[0][Ur],Zr=Sr[Ur],tr[0][Ur][1]),Dr=1;Dr<en;++Dr)Qe.call(Rt,er[Dr][Ur],Zr+=tr[Dr-1][Ur][1],tr[Dr][Ur][1]);return ct}return Rt.values=function(ct){return arguments.length?(ve=ct,Rt):ve},Rt.order=function(ct){return arguments.length?(Pe=typeof ct=="function"?ct:Cu.get(ct)||nf,Rt):Pe},Rt.offset=function(ct){return arguments.length?(He=typeof ct=="function"?ct:Gf.get(ct)||Yf,Rt):He},Rt.x=function(ct){return arguments.length?(et=ct,Rt):et},Rt.y=function(ct){return arguments.length?(at=ct,Rt):at},Rt.out=function(ct){return arguments.length?(Qe=ct,Rt):Qe},Rt};function Eu(ve){return ve.x}function Vf(ve){return ve.y}function Wf(ve,Pe,He){ve.y0=Pe,ve.y=He}var Cu=n.map({"inside-out":function(ve){var Pe=ve.length,He,Qe,et=ve.map(ya),at=ve.map(Dc),Rt=n.range(Pe).sort(function(Lr,Sr){return et[Lr]-et[Sr]}),ct=0,Nt=0,er=[],tr=[];for(He=0;He<Pe;++He)Qe=Rt[He],ct<Nt?(ct+=at[Qe],er.push(Qe)):(Nt+=at[Qe],tr.push(Qe));return tr.reverse().concat(er)},reverse:function(ve){return n.range(ve.length).reverse()},default:nf}),Gf=n.map({silhouette:function(ve){var Pe=ve.length,He=ve[0].length,Qe=[],et=0,at,Rt,ct,Nt=[];for(Rt=0;Rt<He;++Rt){for(at=0,ct=0;at<Pe;at++)ct+=ve[at][Rt][1];ct>et&&(et=ct),Qe.push(ct)}for(Rt=0;Rt<He;++Rt)Nt[Rt]=(et-Qe[Rt])/2;return Nt},wiggle:function(ve){var Pe=ve.length,He=ve[0],Qe=He.length,et,at,Rt,ct,Nt,er,tr,Lr,Sr,Kr=[];for(Kr[0]=Lr=Sr=0,at=1;at<Qe;++at){for(et=0,ct=0;et<Pe;++et)ct+=ve[et][at][1];for(et=0,Nt=0,tr=He[at][0]-He[at-1][0];et<Pe;++et){for(Rt=0,er=(ve[et][at][1]-ve[et][at-1][1])/(2*tr);Rt<et;++Rt)er+=(ve[Rt][at][1]-ve[Rt][at-1][1])/tr;Nt+=er*ve[et][at][1]}Kr[at]=Lr-=ct?Nt/ct*tr:0,Lr<Sr&&(Sr=Lr)}for(at=0;at<Qe;++at)Kr[at]-=Sr;return Kr},expand:function(ve){var Pe=ve.length,He=ve[0].length,Qe=1/Pe,et,at,Rt,ct=[];for(at=0;at<He;++at){for(et=0,Rt=0;et<Pe;et++)Rt+=ve[et][at][1];if(Rt)for(et=0;et<Pe;et++)ve[et][at][1]/=Rt;else for(et=0;et<Pe;et++)ve[et][at][1]=Qe}for(at=0;at<He;++at)ct[at]=0;return ct},zero:Yf});function nf(ve){return n.range(ve.length)}function Yf(ve){for(var Pe=-1,He=ve[0].length,Qe=[];++Pe<He;)Qe[Pe]=0;return Qe}function ya(ve){for(var Pe=1,He=0,Qe=ve[0][1],et,at=ve.length;Pe<at;++Pe)(et=ve[Pe][1])>Qe&&(He=Pe,Qe=et);return He}function Dc(ve){return ve.reduce(ls,0)}function ls(ve,Pe){return ve+Pe[1]}n.layout.histogram=function(){var ve=!0,Pe=Number,He=Zf,Qe=tu;function et(at,Sr){for(var ct=[],Nt=at.map(Pe,this),er=He.call(this,Nt,Sr),tr=Qe.call(this,er,Nt,Sr),Lr,Sr=-1,Kr=Nt.length,en=tr.length-1,Dr=ve?1:1/Kr,Ur;++Sr<en;)Lr=ct[Sr]=[],Lr.dx=tr[Sr+1]-(Lr.x=tr[Sr]),Lr.y=0;if(en>0)for(Sr=-1;++Sr<Kr;)Ur=Nt[Sr],Ur>=er[0]&&Ur<=er[1]&&(Lr=ct[n.bisect(tr,Ur,1,en)-1],Lr.y+=Dr,Lr.push(at[Sr]));return ct}return et.value=function(at){return arguments.length?(Pe=at,et):Pe},et.range=function(at){return arguments.length?(He=Xr(at),et):He},et.bins=function(at){return arguments.length?(Qe=typeof at=="number"?function(Rt){return Cl(Rt,at)}:Xr(at),et):Qe},et.frequency=function(at){return arguments.length?(ve=!!at,et):ve},et};function tu(ve,Pe){return Cl(ve,Math.ceil(Math.log(Pe.length)/Math.LN2+1))}function Cl(ve,Pe){for(var He=-1,Qe=+ve[0],et=(ve[1]-Qe)/Pe,at=[];++He<=Pe;)at[He]=et*He+Qe;return at}function Zf(ve){return[n.min(ve),n.max(ve)]}n.layout.pack=function(){var ve=n.layout.hierarchy().sort(Wa),Pe=0,He=[1,1],Qe;function et(at,Rt){var ct=ve.call(this,at,Rt),Nt=ct[0],er=He[0],tr=He[1],Lr=Qe==null?Math.sqrt:typeof Qe=="function"?Qe:function(){return Qe};if(Nt.x=Nt.y=0,no(Nt,function(Kr){Kr.r=+Lr(Kr.value)}),no(Nt,Gs),Pe){var Sr=Pe*(Qe?1:Math.max(2*Nt.r/er,2*Nt.r/tr))/2;no(Nt,function(Kr){Kr.r+=Sr}),no(Nt,Gs),no(Nt,function(Kr){Kr.r-=Sr})}return al(Nt,er/2,tr/2,Qe?1:1/Math.max(2*Nt.r/er,2*Nt.r/tr)),ct}return et.size=function(at){return arguments.length?(He=at,et):He},et.radius=function(at){return arguments.length?(Qe=at==null||typeof at=="function"?at:+at,et):Qe},et.padding=function(at){return arguments.length?(Pe=+at,et):Pe},ql(et,ve)};function Wa(ve,Pe){return ve.value-Pe.value}function Lu(ve,Pe){var He=ve._pack_next;ve._pack_next=Pe,Pe._pack_prev=ve,Pe._pack_next=He,He._pack_prev=Pe}function Fo(ve,Pe){ve._pack_next=Pe,Pe._pack_prev=ve}function Ws(ve,Pe){var He=Pe.x-ve.x,Qe=Pe.y-ve.y,et=ve.r+Pe.r;return .999*et*et>He*He+Qe*Qe}function Gs(ve){if(!(Pe=ve.children)||!(Sr=Pe.length))return;var Pe,He=1/0,Qe=-1/0,et=1/0,at=-1/0,Rt,ct,Nt,er,tr,Lr,Sr;function Kr(jr){He=Math.min(jr.x-jr.r,He),Qe=Math.max(jr.x+jr.r,Qe),et=Math.min(jr.y-jr.r,et),at=Math.max(jr.y+jr.r,at)}if(Pe.forEach(nl),Rt=Pe[0],Rt.x=-Rt.r,Rt.y=0,Kr(Rt),Sr>1&&(ct=Pe[1],ct.x=ct.r,ct.y=0,Kr(ct),Sr>2))for(Nt=Pe[2],us(Rt,ct,Nt),Kr(Nt),Lu(Rt,Nt),Rt._pack_prev=Nt,Lu(Nt,ct),ct=Rt._pack_next,er=3;er<Sr;er++){us(Rt,ct,Nt=Pe[er]);var en=0,Dr=1,Ur=1;for(tr=ct._pack_next;tr!==ct;tr=tr._pack_next,Dr++)if(Ws(tr,Nt)){en=1;break}if(en==1)for(Lr=Rt._pack_prev;Lr!==tr._pack_prev&&!Ws(Lr,Nt);Lr=Lr._pack_prev,Ur++);en?(Dr<Ur||Dr==Ur&&ct.r<Rt.r?Fo(Rt,ct=tr):Fo(Rt=Lr,ct),er--):(Lu(Rt,Nt),ct=Nt,Kr(Nt))}var Zr=(He+Qe)/2,tn=(et+at)/2,ln=0;for(er=0;er<Sr;er++)Nt=Pe[er],Nt.x-=Zr,Nt.y-=tn,ln=Math.max(ln,Nt.r+Math.sqrt(Nt.x*Nt.x+Nt.y*Nt.y));ve.r=ln,Pe.forEach(il)}function nl(ve){ve._pack_next=ve._pack_prev=ve}function il(ve){delete ve._pack_next,delete ve._pack_prev}function al(ve,Pe,He,Qe){var et=ve.children;if(ve.x=Pe+=Qe*ve.x,ve.y=He+=Qe*ve.y,ve.r*=Qe,et)for(var at=-1,Rt=et.length;++at<Rt;)al(et[at],Pe,He,Qe)}function us(ve,Pe,He){var Qe=ve.r+He.r,et=Pe.x-ve.x,at=Pe.y-ve.y;if(Qe&&(et||at)){var Rt=Pe.r+He.r,ct=et*et+at*at;Rt*=Rt,Qe*=Qe;var Nt=.5+(Qe-Rt)/(2*ct),er=Math.sqrt(Math.max(0,2*Rt*(Qe+ct)-(Qe-=ct)*Qe-Rt*Rt))/(2*ct);He.x=ve.x+Nt*et+er*at,He.y=ve.y+Nt*at-er*et}else He.x=ve.x+Qe,He.y=ve.y}n.layout.tree=function(){var ve=n.layout.hierarchy().sort(null).value(null),Pe=Es,He=[1,1],Qe=null;function et(tr,Lr){var Sr=ve.call(this,tr,Lr),Kr=Sr[0],en=at(Kr);if(no(en,Rt),en.parent.m=-en.z,eu(en,ct),Qe)eu(Kr,er);else{var Dr=Kr,Ur=Kr,Zr=Kr;eu(Kr,function(On){On.x<Dr.x&&(Dr=On),On.x>Ur.x&&(Ur=On),On.depth>Zr.depth&&(Zr=On)});var tn=Pe(Dr,Ur)/2-Dr.x,ln=He[0]/(Ur.x+Pe(Ur,Dr)/2+tn),jr=He[1]/(Zr.depth||1);eu(Kr,function(On){On.x=(On.x+tn)*ln,On.y=On.depth*jr})}return Sr}function at(tr){for(var Lr={A:null,children:[tr]},Sr=[Lr],Kr;(Kr=Sr.pop())!=null;)for(var en=Kr.children,Dr,Ur=0,Zr=en.length;Ur<Zr;++Ur)Sr.push((en[Ur]=Dr={_:en[Ur],parent:Kr,children:(Dr=en[Ur].children)&&Dr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ur}).a=Dr);return Lr.children[0]}function Rt(tr){var Lr=tr.children,Sr=tr.parent.children,Kr=tr.i?Sr[tr.i-1]:null;if(Lr.length){Kh(tr);var en=(Lr[0].z+Lr[Lr.length-1].z)/2;Kr?(tr.z=Kr.z+Pe(tr._,Kr._),tr.m=tr.z-en):tr.z=en}else Kr&&(tr.z=Kr.z+Pe(tr._,Kr._));tr.parent.A=Nt(tr,Kr,tr.parent.A||Sr[0])}function ct(tr){tr._.x=tr.z+tr.parent.m,tr.m+=tr.parent.m}function Nt(tr,Lr,Sr){if(Lr){for(var Kr=tr,en=tr,Dr=Lr,Ur=Kr.parent.children[0],Zr=Kr.m,tn=en.m,ln=Dr.m,jr=Ur.m,On;Dr=Ru(Dr),Kr=Pu(Kr),Dr&&Kr;)Ur=Pu(Ur),en=Ru(en),en.a=tr,On=Dr.z+ln-Kr.z-Zr+Pe(Dr._,Kr._),On>0&&(af(Jh(Dr,tr,Sr),tr,On),Zr+=On,tn+=On),ln+=Dr.m,Zr+=Kr.m,jr+=Ur.m,tn+=en.m;Dr&&!Ru(en)&&(en.t=Dr,en.m+=ln-tn),Kr&&!Pu(Ur)&&(Ur.t=Kr,Ur.m+=Zr-jr,Sr=tr)}return Sr}function er(tr){tr.x*=He[0],tr.y=tr.depth*He[1]}return et.separation=function(tr){return arguments.length?(Pe=tr,et):Pe},et.size=function(tr){return arguments.length?(Qe=(He=tr)==null?er:null,et):Qe?null:He},et.nodeSize=function(tr){return arguments.length?(Qe=(He=tr)==null?null:er,et):Qe?He:null},ql(et,ve)};function Es(ve,Pe){return ve.parent==Pe.parent?1:2}function Pu(ve){var Pe=ve.children;return Pe.length?Pe[0]:ve.t}function Ru(ve){var Pe=ve.children,He;return(He=Pe.length)?Pe[He-1]:ve.t}function af(ve,Pe,He){var Qe=He/(Pe.i-ve.i);Pe.c-=Qe,Pe.s+=He,ve.c+=Qe,Pe.z+=He,Pe.m+=He}function Kh(ve){for(var Pe=0,He=0,Qe=ve.children,et=Qe.length,at;--et>=0;)at=Qe[et],at.z+=Pe,at.m+=Pe,Pe+=at.s+(He+=at.c)}function Jh(ve,Pe,He){return ve.a.parent===Pe.parent?ve.a:He}n.layout.cluster=function(){var ve=n.layout.hierarchy().sort(null).value(null),Pe=Es,He=[1,1],Qe=!1;function et(at,Rt){var ct=ve.call(this,at,Rt),Nt=ct[0],er,tr=0;no(Nt,function(Dr){var Ur=Dr.children;Ur&&Ur.length?(Dr.x=$h(Ur),Dr.y=Qh(Ur)):(Dr.x=er?tr+=Pe(Dr,er):0,Dr.y=0,er=Dr)});var Lr=of(Nt),Sr=_c(Nt),Kr=Lr.x-Pe(Lr,Sr)/2,en=Sr.x+Pe(Sr,Lr)/2;return no(Nt,Qe?function(Dr){Dr.x=(Dr.x-Nt.x)*He[0],Dr.y=(Nt.y-Dr.y)*He[1]}:function(Dr){Dr.x=(Dr.x-Kr)/(en-Kr)*He[0],Dr.y=(1-(Nt.y?Dr.y/Nt.y:1))*He[1]}),ct}return et.separation=function(at){return arguments.length?(Pe=at,et):Pe},et.size=function(at){return arguments.length?(Qe=(He=at)==null,et):Qe?null:He},et.nodeSize=function(at){return arguments.length?(Qe=(He=at)!=null,et):Qe?He:null},ql(et,ve)};function Qh(ve){return 1+n.max(ve,function(Pe){return Pe.y})}function $h(ve){return ve.reduce(function(Pe,He){return Pe+He.x},0)/ve.length}function of(ve){var Pe=ve.children;return Pe&&Pe.length?of(Pe[0]):ve}function _c(ve){var Pe=ve.children,He;return Pe&&(He=Pe.length)?_c(Pe[He-1]):ve}n.layout.treemap=function(){var ve=n.layout.hierarchy(),Pe=Math.round,He=[1,1],Qe=null,et=ru,at=!1,Rt,ct="squarify",Nt=.5*(1+Math.sqrt(5));function er(Dr,Ur){for(var Zr=-1,tn=Dr.length,ln,jr;++Zr<tn;)jr=(ln=Dr[Zr]).value*(Ur<0?0:Ur),ln.area=isNaN(jr)||jr<=0?0:jr}function tr(Dr){var Ur=Dr.children;if(Ur&&Ur.length){var Zr=et(Dr),tn=[],ln=Ur.slice(),jr,On=1/0,Vn,Kn=ct==="slice"?Zr.dx:ct==="dice"?Zr.dy:ct==="slice-dice"?Dr.depth&1?Zr.dy:Zr.dx:Math.min(Zr.dx,Zr.dy),ni;for(er(ln,Zr.dx*Zr.dy/Dr.value),tn.area=0;(ni=ln.length)>0;)tn.push(jr=ln[ni-1]),tn.area+=jr.area,ct!=="squarify"||(Vn=Sr(tn,Kn))<=On?(ln.pop(),On=Vn):(tn.area-=tn.pop().area,Kr(tn,Kn,Zr,!1),Kn=Math.min(Zr.dx,Zr.dy),tn.length=tn.area=0,On=1/0);tn.length&&(Kr(tn,Kn,Zr,!0),tn.length=tn.area=0),Ur.forEach(tr)}}function Lr(Dr){var Ur=Dr.children;if(Ur&&Ur.length){var Zr=et(Dr),tn=Ur.slice(),ln,jr=[];for(er(tn,Zr.dx*Zr.dy/Dr.value),jr.area=0;ln=tn.pop();)jr.push(ln),jr.area+=ln.area,ln.z!=null&&(Kr(jr,ln.z?Zr.dx:Zr.dy,Zr,!tn.length),jr.length=jr.area=0);Ur.forEach(Lr)}}function Sr(Dr,Ur){for(var Zr=Dr.area,tn,ln=0,jr=1/0,On=-1,Vn=Dr.length;++On<Vn;)(tn=Dr[On].area)&&(tn<jr&&(jr=tn),tn>ln&&(ln=tn));return Zr*=Zr,Ur*=Ur,Zr?Math.max(Ur*ln*Nt/Zr,Zr/(Ur*jr*Nt)):1/0}function Kr(Dr,Ur,Zr,tn){var ln=-1,jr=Dr.length,On=Zr.x,Vn=Zr.y,Kn=Ur?Pe(Dr.area/Ur):0,ni;if(Ur==Zr.dx){for((tn||Kn>Zr.dy)&&(Kn=Zr.dy);++ln<jr;)ni=Dr[ln],ni.x=On,ni.y=Vn,ni.dy=Kn,On+=ni.dx=Math.min(Zr.x+Zr.dx-On,Kn?Pe(ni.area/Kn):0);ni.z=!0,ni.dx+=Zr.x+Zr.dx-On,Zr.y+=Kn,Zr.dy-=Kn}else{for((tn||Kn>Zr.dx)&&(Kn=Zr.dx);++ln<jr;)ni=Dr[ln],ni.x=On,ni.y=Vn,ni.dx=Kn,Vn+=ni.dy=Math.min(Zr.y+Zr.dy-Vn,Kn?Pe(ni.area/Kn):0);ni.z=!1,ni.dy+=Zr.y+Zr.dy-Vn,Zr.x+=Kn,Zr.dx-=Kn}}function en(Dr){var Ur=Rt||ve(Dr),Zr=Ur[0];return Zr.x=Zr.y=0,Zr.value?(Zr.dx=He[0],Zr.dy=He[1]):Zr.dx=Zr.dy=0,Rt&&ve.revalue(Zr),er([Zr],Zr.dx*Zr.dy/Zr.value),(Rt?Lr:tr)(Zr),at&&(Rt=Ur),Ur}return en.size=function(Dr){return arguments.length?(He=Dr,en):He},en.padding=function(Dr){if(!arguments.length)return Qe;function Ur(ln){var jr=Dr.call(en,ln,ln.depth);return jr==null?ru(ln):uo(ln,typeof jr=="number"?[jr,jr,jr,jr]:jr)}function Zr(ln){return uo(ln,Dr)}var tn;return et=(Qe=Dr)==null?ru:(tn=typeof Dr)=="function"?Ur:(tn==="number"&&(Dr=[Dr,Dr,Dr,Dr]),Zr),en},en.round=function(Dr){return arguments.length?(Pe=Dr?Math.round:Number,en):Pe!=Number},en.sticky=function(Dr){return arguments.length?(at=Dr,Rt=null,en):at},en.ratio=function(Dr){return arguments.length?(Nt=Dr,en):Nt},en.mode=function(Dr){return arguments.length?(ct=Dr+"",en):ct},ql(en,ve)};function ru(ve){return{x:ve.x,y:ve.y,dx:ve.dx,dy:ve.dy}}function uo(ve,Pe){var He=ve.x+Pe[3],Qe=ve.y+Pe[0],et=ve.dx-Pe[1]-Pe[3],at=ve.dy-Pe[0]-Pe[2];return et<0&&(He+=et/2,et=0),at<0&&(Qe+=at/2,at=0),{x:He,y:Qe,dx:et,dy:at}}n.random={normal:function(ve,Pe){var He=arguments.length;return He<2&&(Pe=1),He<1&&(ve=0),function(){var Qe,et,at;do Qe=Math.random()*2-1,et=Math.random()*2-1,at=Qe*Qe+et*et;while(!at||at>1);return ve+Pe*Qe*Math.sqrt(-2*Math.log(at)/at)}},logNormal:function(){var ve=n.random.normal.apply(n,arguments);return function(){return Math.exp(ve())}},bates:function(ve){var Pe=n.random.irwinHall(ve);return function(){return Pe()/ve}},irwinHall:function(ve){return function(){for(var Pe=0,He=0;He<ve;He++)Pe+=Math.random();return Pe}}},n.scale={};function zo(ve){var Pe=ve[0],He=ve[ve.length-1];return Pe<He?[Pe,He]:[He,Pe]}function Du(ve){return ve.rangeExtent?ve.rangeExtent():zo(ve.range())}function Ll(ve,Pe,He,Qe){var et=He(ve[0],ve[1]),at=Qe(Pe[0],Pe[1]);return function(Rt){return at(et(Rt))}}function _u(ve,Pe){var He=0,Qe=ve.length-1,et=ve[He],at=ve[Qe],Rt;return at<et&&(Rt=He,He=Qe,Qe=Rt,Rt=et,et=at,at=Rt),ve[He]=Pe.floor(et),ve[Qe]=Pe.ceil(at),ve}function sf(ve){return ve?{floor:function(Pe){return Math.floor(Pe/ve)*ve},ceil:function(Pe){return Math.ceil(Pe/ve)*ve}}:qh}var qh={floor:W,ceil:W};function kc(ve,Pe,He,Qe){var et=[],at=[],Rt=0,ct=Math.min(ve.length,Pe.length)-1;for(ve[ct]<ve[0]&&(ve=ve.slice().reverse(),Pe=Pe.slice().reverse());++Rt<=ct;)et.push(He(ve[Rt-1],ve[Rt])),at.push(Qe(Pe[Rt-1],Pe[Rt]));return function(Nt){var er=n.bisect(ve,Nt,1,ct)-1;return at[er](et[er](Nt))}}n.scale.linear=function(){return Ic([0,1],[0,1],Ns,!1)};function Ic(ve,Pe,He,Qe){var et,at;function Rt(){var Nt=Math.min(ve.length,Pe.length)>2?kc:Ll,er=Qe?Jl:Su;return et=Nt(ve,Pe,er,He),at=Nt(Pe,ve,er,Ns),ct}function ct(Nt){return et(Nt)}return ct.invert=function(Nt){return at(Nt)},ct.domain=function(Nt){return arguments.length?(ve=Nt.map(Number),Rt()):ve},ct.range=function(Nt){return arguments.length?(Pe=Nt,Rt()):Pe},ct.rangeRound=function(Nt){return ct.range(Nt).interpolate(Of)},ct.clamp=function(Nt){return arguments.length?(Qe=Nt,Rt()):Qe},ct.interpolate=function(Nt){return arguments.length?(He=Nt,Rt()):He},ct.ticks=function(Nt){return Cs(ve,Nt)},ct.tickFormat=function(Nt,er){return d3_scale_linearTickFormat(ve,Nt,er)},ct.nice=function(Nt){return ol(ve,Nt),Rt()},ct.copy=function(){return Ic(ve,Pe,He,Qe)},Rt()}function jf(ve,Pe){return n.rebind(ve,Pe,"range","rangeRound","interpolate","clamp")}function ol(ve,Pe){return _u(ve,sf(Ga(ve,Pe)[2])),_u(ve,sf(Ga(ve,Pe)[2])),ve}function Ga(ve,Pe){Pe==null&&(Pe=10);var He=zo(ve),Qe=He[1]-He[0],et=Math.pow(10,Math.floor(Math.log(Qe/Pe)/Math.LN10)),at=Pe/Qe*et;return at<=.15?et*=10:at<=.35?et*=5:at<=.75&&(et*=2),He[0]=Math.ceil(He[0]/et)*et,He[1]=Math.floor(He[1]/et)*et+et*.5,He[2]=et,He}function Cs(ve,Pe){return n.range.apply(n,Ga(ve,Pe))}n.scale.log=function(){return Xf(n.scale.linear().domain([0,1]),10,!0,[1,10])};function Xf(ve,Pe,He,Qe){function et(ct){return(He?Math.log(ct<0?0:ct):-Math.log(ct>0?0:-ct))/Math.log(Pe)}function at(ct){return He?Math.pow(Pe,ct):-Math.pow(Pe,-ct)}function Rt(ct){return ve(et(ct))}return Rt.invert=function(ct){return at(ve.invert(ct))},Rt.domain=function(ct){return arguments.length?(He=ct[0]>=0,ve.domain((Qe=ct.map(Number)).map(et)),Rt):Qe},Rt.base=function(ct){return arguments.length?(Pe=+ct,ve.domain(Qe.map(et)),Rt):Pe},Rt.nice=function(){var ct=_u(Qe.map(et),He?Math:Fc);return ve.domain(ct),Qe=ct.map(at),Rt},Rt.ticks=function(){var ct=zo(Qe),Nt=[],er=ct[0],tr=ct[1],Lr=Math.floor(et(er)),Sr=Math.ceil(et(tr)),Kr=Pe%1?2:Pe;if(isFinite(Sr-Lr)){if(He){for(;Lr<Sr;Lr++)for(var en=1;en<Kr;en++)Nt.push(at(Lr)*en);Nt.push(at(Lr))}else for(Nt.push(at(Lr));Lr++<Sr;)for(var en=Kr-1;en>0;en--)Nt.push(at(Lr)*en);for(Lr=0;Nt[Lr]<er;Lr++);for(Sr=Nt.length;Nt[Sr-1]>tr;Sr--);Nt=Nt.slice(Lr,Sr)}return Nt},Rt.copy=function(){return Xf(ve.copy(),Pe,He,Qe)},jf(Rt,ve)}var Fc={floor:function(ve){return-Math.ceil(-ve)},ceil:function(ve){return-Math.floor(-ve)}};n.scale.pow=function(){return Pl(n.scale.linear(),1,[0,1])};function Pl(ve,Pe,He){var Qe=lf(Pe),et=lf(1/Pe);function at(Rt){return ve(Qe(Rt))}return at.invert=function(Rt){return et(ve.invert(Rt))},at.domain=function(Rt){return arguments.length?(ve.domain((He=Rt.map(Number)).map(Qe)),at):He},at.ticks=function(Rt){return Cs(He,Rt)},at.tickFormat=function(Rt,ct){return d3_scale_linearTickFormat(He,Rt,ct)},at.nice=function(Rt){return at.domain(ol(He,Rt))},at.exponent=function(Rt){return arguments.length?(Qe=lf(Pe=Rt),et=lf(1/Pe),ve.domain(He.map(Qe)),at):Pe},at.copy=function(){return Pl(ve.copy(),Pe,He)},jf(at,ve)}function lf(ve){return function(Pe){return Pe<0?-Math.pow(-Pe,ve):Math.pow(Pe,ve)}}n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return fs([],{t:"range",a:[[]]})};function fs(ve,Pe){var He,Qe,et;function at(ct){return Qe[((He.get(ct)||(Pe.t==="range"?He.set(ct,ve.push(ct)):NaN))-1)%Qe.length]}function Rt(ct,Nt){return n.range(ve.length).map(function(er){return ct+Nt*er})}return at.domain=function(ct){if(!arguments.length)return ve;ve=[],He=new D;for(var Nt=-1,er=ct.length,tr;++Nt<er;)He.has(tr=ct[Nt])||He.set(tr,ve.push(tr));return at[Pe.t].apply(at,Pe.a)},at.range=function(ct){return arguments.length?(Qe=ct,et=0,Pe={t:"range",a:arguments},at):Qe},at.rangePoints=function(ct,Nt){arguments.length<2&&(Nt=0);var er=ct[0],tr=ct[1],Lr=ve.length<2?(er=(er+tr)/2,0):(tr-er)/(ve.length-1+Nt);return Qe=Rt(er+Lr*Nt/2,Lr),et=0,Pe={t:"rangePoints",a:arguments},at},at.rangeRoundPoints=function(ct,Nt){arguments.length<2&&(Nt=0);var er=ct[0],tr=ct[1],Lr=ve.length<2?(er=tr=Math.round((er+tr)/2),0):(tr-er)/(ve.length-1+Nt)|0;return Qe=Rt(er+Math.round(Lr*Nt/2+(tr-er-(ve.length-1+Nt)*Lr)/2),Lr),et=0,Pe={t:"rangeRoundPoints",a:arguments},at},at.rangeBands=function(ct,Nt,er){arguments.length<2&&(Nt=0),arguments.length<3&&(er=Nt);var tr=ct[1]<ct[0],Lr=ct[tr-0],Sr=ct[1-tr],Kr=(Sr-Lr)/(ve.length-Nt+2*er);return Qe=Rt(Lr+Kr*er,Kr),tr&&Qe.reverse(),et=Kr*(1-Nt),Pe={t:"rangeBands",a:arguments},at},at.rangeRoundBands=function(ct,Nt,er){arguments.length<2&&(Nt=0),arguments.length<3&&(er=Nt);var tr=ct[1]<ct[0],Lr=ct[tr-0],Sr=ct[1-tr],Kr=Math.floor((Sr-Lr)/(ve.length-Nt+2*er));return Qe=Rt(Lr+Math.round((Sr-Lr-(ve.length-Nt)*Kr)/2),Kr),tr&&Qe.reverse(),et=Math.round(Kr*(1-Nt)),Pe={t:"rangeRoundBands",a:arguments},at},at.rangeBand=function(){return et},at.rangeExtent=function(){return zo(Pe.a[0])},at.copy=function(){return fs(ve,Pe)},at.domain(ve)}n.scale.category10=function(){return n.scale.ordinal().range(uf)},n.scale.category20=function(){return n.scale.ordinal().range(Ys)},n.scale.category20b=function(){return n.scale.ordinal().range(Zs)},n.scale.category20c=function(){return n.scale.ordinal().range(Kf)};var uf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(zt),Ys=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(zt),Zs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(zt),Kf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(zt);n.scale.quantile=function(){return nu([],[])};function nu(ve,Pe){var He;function Qe(){var at=0,Rt=Pe.length;for(He=[];++at<Rt;)He[at-1]=n.quantile(ve,at/Rt);return et}function et(at){if(!isNaN(at=+at))return Pe[n.bisect(He,at)]}return et.domain=function(at){return arguments.length?(ve=at.map(x).filter(d).sort(c),Qe()):ve},et.range=function(at){return arguments.length?(Pe=at,Qe()):Pe},et.quantiles=function(){return He},et.invertExtent=function(at){return at=Pe.indexOf(at),at<0?[NaN,NaN]:[at>0?He[at-1]:ve[0],at<He.length?He[at]:ve[ve.length-1]]},et.copy=function(){return nu(ve,Pe)},Qe()}n.scale.quantize=function(){return fa(0,1,[0,1])};function fa(ve,Pe,He){var Qe,et;function at(ct){return He[Math.max(0,Math.min(et,Math.floor(Qe*(ct-ve))))]}function Rt(){return Qe=He.length/(Pe-ve),et=He.length-1,at}return at.domain=function(ct){return arguments.length?(ve=+ct[0],Pe=+ct[ct.length-1],Rt()):[ve,Pe]},at.range=function(ct){return arguments.length?(He=ct,Rt()):He},at.invertExtent=function(ct){return ct=He.indexOf(ct),ct=ct<0?NaN:ct/Qe+ve,[ct,ct+1/Qe]},at.copy=function(){return fa(ve,Pe,He)},Rt()}n.scale.threshold=function(){return Rl([.5],[0,1])};function Rl(ve,Pe){function He(Qe){if(Qe<=Qe)return Pe[n.bisect(ve,Qe)]}return He.domain=function(Qe){return arguments.length?(ve=Qe,He):ve},He.range=function(Qe){return arguments.length?(Pe=Qe,He):Pe},He.invertExtent=function(Qe){return Qe=Pe.indexOf(Qe),[ve[Qe-1],ve[Qe]]},He.copy=function(){return Rl(ve,Pe)},He}n.scale.identity=function(){return ff([0,1])};function ff(ve){function Pe(He){return+He}return Pe.invert=Pe,Pe.domain=Pe.range=function(He){return arguments.length?(ve=He.map(Pe),Pe):ve},Pe.ticks=function(He){return Cs(ve,He)},Pe.tickFormat=function(He,Qe){return d3_scale_linearTickFormat(ve,He,Qe)},Pe.copy=function(){return ff(ve)},Pe}n.svg={};function cf(){return 0}n.svg.arc=function(){var ve=ev,Pe=Jf,He=cf,Qe=sl,et=iu,at=Qf,Rt=zc;function ct(){var er=Math.max(0,+ve.apply(this,arguments)),tr=Math.max(0,+Pe.apply(this,arguments)),Lr=et.apply(this,arguments)-ot,Sr=at.apply(this,arguments)-ot,Kr=Math.abs(Sr-Lr),en=Lr>Sr?0:1;if(tr<er&&(Dr=tr,tr=er,er=Dr),Kr>=nt)return Nt(tr,en)+(er?Nt(er,1-en):"")+"Z";var Dr,Ur,Zr,tn,ln=0,jr=0,On,Vn,Kn,ni,xi,mi,Ui,Ei,Oi=[];if((tn=(+Rt.apply(this,arguments)||0)/2)&&(Zr=Qe===sl?Math.sqrt(er*er+tr*tr):+Qe.apply(this,arguments),en||(jr*=-1),tr&&(jr=Vt(Zr/tr*Math.sin(tn))),er&&(ln=Vt(Zr/er*Math.sin(tn)))),tr){On=tr*Math.cos(Lr+jr),Vn=tr*Math.sin(Lr+jr),Kn=tr*Math.cos(Sr-jr),ni=tr*Math.sin(Sr-jr);var $i=Math.abs(Sr-Lr-2*jr)<=Re?0:1;if(jr&&js(On,Vn,Kn,ni)===en^$i){var ra=(Lr+Sr)/2;On=tr*Math.cos(ra),Vn=tr*Math.sin(ra),Kn=ni=null}}else On=Vn=0;if(er){xi=er*Math.cos(Sr-ln),mi=er*Math.sin(Sr-ln),Ui=er*Math.cos(Lr+ln),Ei=er*Math.sin(Lr+ln);var ca=Math.abs(Lr-Sr+2*ln)<=Re?0:1;if(ln&&js(xi,mi,Ui,Ei)===1-en^ca){var Bn=(Lr+Sr)/2;xi=er*Math.cos(Bn),mi=er*Math.sin(Bn),Ui=Ei=null}}else xi=mi=0;if(Kr>ce&&(Dr=Math.min(Math.abs(tr-er)/2,+He.apply(this,arguments)))>.001){Ur=er<tr^en?0:1;var Bi=Dr,Fi=Dr;if(Kr<Re){var Zi=Ui==null?[xi,mi]:Kn==null?[On,Vn]:gn([On,Vn],[Ui,Ei],[Kn,ni],[xi,mi]),La=On-Zi[0],Va=Vn-Zi[1],Za=Kn-Zi[0],Ta=ni-Zi[1],va=1/Math.sin(Math.acos((La*Za+Va*Ta)/(Math.sqrt(La*La+Va*Va)*Math.sqrt(Za*Za+Ta*Ta)))/2),gi=Math.sqrt(Zi[0]*Zi[0]+Zi[1]*Zi[1]);Fi=Math.min(Dr,(er-gi)/(va-1)),Bi=Math.min(Dr,(tr-gi)/(va+1))}if(Kn!=null){var Mi=ll(Ui==null?[xi,mi]:[Ui,Ei],[On,Vn],tr,Bi,en),Aa=ll([Kn,ni],[xi,mi],tr,Bi,en);Dr===Bi?Oi.push("M",Mi[0],"A",Bi,",",Bi," 0 0,",Ur," ",Mi[1],"A",tr,",",tr," 0 ",1-en^js(Mi[1][0],Mi[1][1],Aa[1][0],Aa[1][1]),",",en," ",Aa[1],"A",Bi,",",Bi," 0 0,",Ur," ",Aa[0]):Oi.push("M",Mi[0],"A",Bi,",",Bi," 0 1,",Ur," ",Aa[0])}else Oi.push("M",On,",",Vn);if(Ui!=null){var Ya=ll([On,Vn],[Ui,Ei],er,-Fi,en),Yo=ll([xi,mi],Kn==null?[On,Vn]:[Kn,ni],er,-Fi,en);Dr===Fi?Oi.push("L",Yo[0],"A",Fi,",",Fi," 0 0,",Ur," ",Yo[1],"A",er,",",er," 0 ",en^js(Yo[1][0],Yo[1][1],Ya[1][0],Ya[1][1]),",",1-en," ",Ya[1],"A",Fi,",",Fi," 0 0,",Ur," ",Ya[0]):Oi.push("L",Yo[0],"A",Fi,",",Fi," 0 0,",Ur," ",Ya[0])}else Oi.push("L",xi,",",mi)}else Oi.push("M",On,",",Vn),Kn!=null&&Oi.push("A",tr,",",tr," 0 ",$i,",",en," ",Kn,",",ni),Oi.push("L",xi,",",mi),Ui!=null&&Oi.push("A",er,",",er," 0 ",ca,",",1-en," ",Ui,",",Ei);return Oi.push("Z"),Oi.join("")}function Nt(er,tr){return"M0,"+er+"A"+er+","+er+" 0 1,"+tr+" 0,"+-er+"A"+er+","+er+" 0 1,"+tr+" 0,"+er}return ct.innerRadius=function(er){return arguments.length?(ve=Xr(er),ct):ve},ct.outerRadius=function(er){return arguments.length?(Pe=Xr(er),ct):Pe},ct.cornerRadius=function(er){return arguments.length?(He=Xr(er),ct):He},ct.padRadius=function(er){return arguments.length?(Qe=er==sl?sl:Xr(er),ct):Qe},ct.startAngle=function(er){return arguments.length?(et=Xr(er),ct):et},ct.endAngle=function(er){return arguments.length?(at=Xr(er),ct):at},ct.padAngle=function(er){return arguments.length?(Rt=Xr(er),ct):Rt},ct.centroid=function(){var er=(+ve.apply(this,arguments)+ +Pe.apply(this,arguments))/2,tr=(+et.apply(this,arguments)+ +at.apply(this,arguments))/2-ot;return[Math.cos(tr)*er,Math.sin(tr)*er]},ct};var sl="auto";function ev(ve){return ve.innerRadius}function Jf(ve){return ve.outerRadius}function iu(ve){return ve.startAngle}function Qf(ve){return ve.endAngle}function zc(ve){return ve&&ve.padAngle}function js(ve,Pe,He,Qe){return(ve-He)*Pe-(Pe-Qe)*ve>0?0:1}function ll(ve,Pe,He,Qe,et){var at=ve[0]-Pe[0],Rt=ve[1]-Pe[1],ct=(et?Qe:-Qe)/Math.sqrt(at*at+Rt*Rt),Nt=ct*Rt,er=-ct*at,tr=ve[0]+Nt,Lr=ve[1]+er,Sr=Pe[0]+Nt,Kr=Pe[1]+er,en=(tr+Sr)/2,Dr=(Lr+Kr)/2,Ur=Sr-tr,Zr=Kr-Lr,tn=Ur*Ur+Zr*Zr,ln=He-Qe,jr=tr*Kr-Sr*Lr,On=(Zr<0?-1:1)*Math.sqrt(Math.max(0,ln*ln*tn-jr*jr)),Vn=(jr*Zr-Ur*On)/tn,Kn=(-jr*Ur-Zr*On)/tn,ni=(jr*Zr+Ur*On)/tn,xi=(-jr*Ur+Zr*On)/tn,mi=Vn-en,Ui=Kn-Dr,Ei=ni-en,Oi=xi-Dr;return mi*mi+Ui*Ui>Ei*Ei+Oi*Oi&&(Vn=ni,Kn=xi),[[Vn-Nt,Kn-er],[Vn*He/ln,Kn*He/ln]]}function Dl(){return!0}function _l(ve){var Pe=si,He=ti,Qe=Dl,et=Go,at=et.key,Rt=.7;function ct(Nt){var er=[],tr=[],Lr=-1,Sr=Nt.length,Kr,en=Xr(Pe),Dr=Xr(He);function Ur(){er.push("M",et(ve(tr),Rt))}for(;++Lr<Sr;)Qe.call(this,Kr=Nt[Lr],Lr)?tr.push([+en.call(this,Kr,Lr),+Dr.call(this,Kr,Lr)]):tr.length&&(Ur(),tr=[]);return tr.length&&Ur(),er.length?er.join(""):null}return ct.x=function(Nt){return arguments.length?(Pe=Nt,ct):Pe},ct.y=function(Nt){return arguments.length?(He=Nt,ct):He},ct.defined=function(Nt){return arguments.length?(Qe=Nt,ct):Qe},ct.interpolate=function(Nt){return arguments.length?(typeof Nt=="function"?at=et=Nt:at=(et=Oo.get(Nt)||Go).key,ct):at},ct.tension=function(Nt){return arguments.length?(Rt=Nt,ct):Rt},ct}n.svg.line=function(){return _l(W)};var Oo=n.map({linear:Go,"linear-closed":kl,step:Oc,"step-before":au,"step-after":hf,basis:Xs,"basis-open":tv,"basis-closed":qf,bundle:vf,cardinal:$f,"cardinal-open":Bc,"cardinal-closed":cs,monotone:ec});Oo.forEach(function(ve,Pe){Pe.key=ve,Pe.closed=/-closed$/.test(ve)});function Go(ve){return ve.length>1?ve.join("L"):ve+"Z"}function kl(ve){return ve.join("L")+"Z"}function Oc(ve){for(var Pe=0,He=ve.length,Qe=ve[0],et=[Qe[0],",",Qe[1]];++Pe<He;)et.push("H",(Qe[0]+(Qe=ve[Pe])[0])/2,"V",Qe[1]);return He>1&&et.push("H",Qe[0]),et.join("")}function au(ve){for(var Pe=0,He=ve.length,Qe=ve[0],et=[Qe[0],",",Qe[1]];++Pe<He;)et.push("V",(Qe=ve[Pe])[1],"H",Qe[0]);return et.join("")}function hf(ve){for(var Pe=0,He=ve.length,Qe=ve[0],et=[Qe[0],",",Qe[1]];++Pe<He;)et.push("H",(Qe=ve[Pe])[0],"V",Qe[1]);return et.join("")}function Bc(ve,Pe){return ve.length<4?Go(ve):ve[1]+ul(ve.slice(1,-1),ku(ve,Pe))}function cs(ve,Pe){return ve.length<3?kl(ve):ve[0]+ul((ve.push(ve[0]),ve),ku([ve[ve.length-2]].concat(ve,[ve[1]]),Pe))}function $f(ve,Pe){return ve.length<3?Go(ve):ve[0]+ul(ve,ku(ve,Pe))}function ul(ve,Pe){if(Pe.length<1||ve.length!=Pe.length&&ve.length!=Pe.length+2)return Go(ve);var He=ve.length!=Pe.length,Qe="",et=ve[0],at=ve[1],Rt=Pe[0],ct=Rt,Nt=1;if(He&&(Qe+="Q"+(at[0]-Rt[0]*2/3)+","+(at[1]-Rt[1]*2/3)+","+at[0]+","+at[1],et=ve[1],Nt=2),Pe.length>1){ct=Pe[1],at=ve[Nt],Nt++,Qe+="C"+(et[0]+Rt[0])+","+(et[1]+Rt[1])+","+(at[0]-ct[0])+","+(at[1]-ct[1])+","+at[0]+","+at[1];for(var er=2;er<Pe.length;er++,Nt++)at=ve[Nt],ct=Pe[er],Qe+="S"+(at[0]-ct[0])+","+(at[1]-ct[1])+","+at[0]+","+at[1]}if(He){var tr=ve[Nt];Qe+="Q"+(at[0]+ct[0]*2/3)+","+(at[1]+ct[1]*2/3)+","+tr[0]+","+tr[1]}return Qe}function ku(ve,Pe){for(var He=[],Qe=(1-Pe)/2,et,at=ve[0],Rt=ve[1],ct=1,Nt=ve.length;++ct<Nt;)et=at,at=Rt,Rt=ve[ct],He.push([Qe*(Rt[0]-et[0]),Qe*(Rt[1]-et[1])]);return He}function Xs(ve){if(ve.length<3)return Go(ve);var Pe=1,He=ve.length,Qe=ve[0],et=Qe[0],at=Qe[1],Rt=[et,et,et,(Qe=ve[1])[0]],ct=[at,at,at,Qe[1]],Nt=[et,",",at,"L",To(Ls,Rt),",",To(Ls,ct)];for(ve.push(ve[He-1]);++Pe<=He;)Qe=ve[Pe],Rt.shift(),Rt.push(Qe[0]),ct.shift(),ct.push(Qe[1]),Fu(Nt,Rt,ct);return ve.pop(),Nt.push("L",Qe),Nt.join("")}function tv(ve){if(ve.length<4)return Go(ve);for(var Pe=[],He=-1,Qe=ve.length,et,at=[0],Rt=[0];++He<3;)et=ve[He],at.push(et[0]),Rt.push(et[1]);for(Pe.push(To(Ls,at)+","+To(Ls,Rt)),--He;++He<Qe;)et=ve[He],at.shift(),at.push(et[0]),Rt.shift(),Rt.push(et[1]),Fu(Pe,at,Rt);return Pe.join("")}function qf(ve){for(var Pe,He=-1,Qe=ve.length,et=Qe+4,at,Rt=[],ct=[];++He<4;)at=ve[He%Qe],Rt.push(at[0]),ct.push(at[1]);for(Pe=[To(Ls,Rt),",",To(Ls,ct)],--He;++He<et;)at=ve[He%Qe],Rt.shift(),Rt.push(at[0]),ct.shift(),ct.push(at[1]),Fu(Pe,Rt,ct);return Pe.join("")}function vf(ve,Pe){var He=ve.length-1;if(He)for(var Qe=ve[0][0],et=ve[0][1],at=ve[He][0]-Qe,Rt=ve[He][1]-et,ct=-1,Nt,er;++ct<=He;)Nt=ve[ct],er=ct/He,Nt[0]=Pe*Nt[0]+(1-Pe)*(Qe+er*at),Nt[1]=Pe*Nt[1]+(1-Pe)*(et+er*Rt);return Xs(ve)}function To(ve,Pe){return ve[0]*Pe[0]+ve[1]*Pe[1]+ve[2]*Pe[2]+ve[3]*Pe[3]}var Nc=[0,2/3,1/3,0],Iu=[0,1/3,2/3,0],Ls=[0,1/6,2/3,1/6];function Fu(ve,Pe,He){ve.push("C",To(Nc,Pe),",",To(Nc,He),",",To(Iu,Pe),",",To(Iu,He),",",To(Ls,Pe),",",To(Ls,He))}function fl(ve,Pe){return(Pe[1]-ve[1])/(Pe[0]-ve[0])}function df(ve){for(var Pe=0,He=ve.length-1,Qe=[],et=ve[0],at=ve[1],Rt=Qe[0]=fl(et,at);++Pe<He;)Qe[Pe]=(Rt+(Rt=fl(et=at,at=ve[Pe+1])))/2;return Qe[Pe]=Rt,Qe}function Uc(ve){for(var Pe=[],He,Qe,et,at,Rt=df(ve),ct=-1,Nt=ve.length-1;++ct<Nt;)He=fl(ve[ct],ve[ct+1]),y(He)<ce?Rt[ct]=Rt[ct+1]=0:(Qe=Rt[ct]/He,et=Rt[ct+1]/He,at=Qe*Qe+et*et,at>9&&(at=He*3/Math.sqrt(at),Rt[ct]=at*Qe,Rt[ct+1]=at*et));for(ct=-1;++ct<=Nt;)at=(ve[Math.min(Nt,ct+1)][0]-ve[Math.max(0,ct-1)][0])/(6*(1+Rt[ct]*Rt[ct])),Pe.push([at||0,Rt[ct]*at||0]);return Pe}function ec(ve){return ve.length<3?Go(ve):ve[0]+ul(ve,Uc(ve))}n.svg.line.radial=function(){var ve=_l(tc);return ve.radius=ve.x,delete ve.x,ve.angle=ve.y,delete ve.y,ve};function tc(ve){for(var Pe,He=-1,Qe=ve.length,et,at;++He<Qe;)Pe=ve[He],et=Pe[0],at=Pe[1]-ot,Pe[0]=et*Math.cos(at),Pe[1]=et*Math.sin(at);return ve}function Il(ve){var Pe=si,He=si,Qe=0,et=ti,at=Dl,Rt=Go,ct=Rt.key,Nt=Rt,er="L",tr=.7;function Lr(Sr){var Kr=[],en=[],Dr=[],Ur=-1,Zr=Sr.length,tn,ln=Xr(Pe),jr=Xr(Qe),On=Pe===He?function(){return Kn}:Xr(He),Vn=Qe===et?function(){return ni}:Xr(et),Kn,ni;function xi(){Kr.push("M",Rt(ve(Dr),tr),er,Nt(ve(en.reverse()),tr),"Z")}for(;++Ur<Zr;)at.call(this,tn=Sr[Ur],Ur)?(en.push([Kn=+ln.call(this,tn,Ur),ni=+jr.call(this,tn,Ur)]),Dr.push([+On.call(this,tn,Ur),+Vn.call(this,tn,Ur)])):en.length&&(xi(),en=[],Dr=[]);return en.length&&xi(),Kr.length?Kr.join(""):null}return Lr.x=function(Sr){return arguments.length?(Pe=He=Sr,Lr):He},Lr.x0=function(Sr){return arguments.length?(Pe=Sr,Lr):Pe},Lr.x1=function(Sr){return arguments.length?(He=Sr,Lr):He},Lr.y=function(Sr){return arguments.length?(Qe=et=Sr,Lr):et},Lr.y0=function(Sr){return arguments.length?(Qe=Sr,Lr):Qe},Lr.y1=function(Sr){return arguments.length?(et=Sr,Lr):et},Lr.defined=function(Sr){return arguments.length?(at=Sr,Lr):at},Lr.interpolate=function(Sr){return arguments.length?(typeof Sr=="function"?ct=Rt=Sr:ct=(Rt=Oo.get(Sr)||Go).key,Nt=Rt.reverse||Rt,er=Rt.closed?"M":"L",Lr):ct},Lr.tension=function(Sr){return arguments.length?(tr=Sr,Lr):tr},Lr}au.reverse=hf,hf.reverse=au,n.svg.area=function(){return Il(W)},n.svg.area.radial=function(){var ve=Il(tc);return ve.radius=ve.x,delete ve.x,ve.innerRadius=ve.x0,delete ve.x0,ve.outerRadius=ve.x1,delete ve.x1,ve.angle=ve.y,delete ve.y,ve.startAngle=ve.y0,delete ve.y0,ve.endAngle=ve.y1,delete ve.y1,ve};function pf(ve){return ve.source}function zu(ve){return ve.target}n.svg.chord=function(){var ve=pf,Pe=zu,He=Hc,Qe=iu,et=Qf;function at(tr,Lr){var Sr=Rt(this,ve,tr,Lr),Kr=Rt(this,Pe,tr,Lr);return"M"+Sr.p0+Nt(Sr.r,Sr.p1,Sr.a1-Sr.a0)+(ct(Sr,Kr)?er(Sr.r,Sr.p1,Sr.r,Sr.p0):er(Sr.r,Sr.p1,Kr.r,Kr.p0)+Nt(Kr.r,Kr.p1,Kr.a1-Kr.a0)+er(Kr.r,Kr.p1,Sr.r,Sr.p0))+"Z"}function Rt(tr,Lr,Sr,Kr){var en=Lr.call(tr,Sr,Kr),Dr=He.call(tr,en,Kr),Ur=Qe.call(tr,en,Kr)-ot,Zr=et.call(tr,en,Kr)-ot;return{r:Dr,a0:Ur,a1:Zr,p0:[Dr*Math.cos(Ur),Dr*Math.sin(Ur)],p1:[Dr*Math.cos(Zr),Dr*Math.sin(Zr)]}}function ct(tr,Lr){return tr.a0==Lr.a0&&tr.a1==Lr.a1}function Nt(tr,Lr,Sr){return"A"+tr+","+tr+" 0 "+ +(Sr>Re)+",1 "+Lr}function er(tr,Lr,Sr,Kr){return"Q 0,0 "+Kr}return at.radius=function(tr){return arguments.length?(He=Xr(tr),at):He},at.source=function(tr){return arguments.length?(ve=Xr(tr),at):ve},at.target=function(tr){return arguments.length?(Pe=Xr(tr),at):Pe},at.startAngle=function(tr){return arguments.length?(Qe=Xr(tr),at):Qe},at.endAngle=function(tr){return arguments.length?(et=Xr(tr),at):et},at};function Hc(ve){return ve.radius}n.svg.diagonal=function(){var ve=pf,Pe=zu,He=Ou;function Qe(et,at){var Rt=ve.call(this,et,at),ct=Pe.call(this,et,at),Nt=(Rt.y+ct.y)/2,er=[Rt,{x:Rt.x,y:Nt},{x:ct.x,y:Nt},ct];return er=er.map(He),"M"+er[0]+"C"+er[1]+" "+er[2]+" "+er[3]}return Qe.source=function(et){return arguments.length?(ve=Xr(et),Qe):ve},Qe.target=function(et){return arguments.length?(Pe=Xr(et),Qe):Pe},Qe.projection=function(et){return arguments.length?(He=et,Qe):He},Qe};function Ou(ve){return[ve.x,ve.y]}n.svg.diagonal.radial=function(){var ve=n.svg.diagonal(),Pe=Ou,He=ve.projection;return ve.projection=function(Qe){return arguments.length?He(Vc(Pe=Qe)):Pe},ve};function Vc(ve){return function(){var Pe=ve.apply(this,arguments),He=Pe[0],Qe=Pe[1]-ot;return[He*Math.cos(Qe),He*Math.sin(Qe)]}}n.svg.symbol=function(){var ve=rt,Pe=Ke;function He(Qe,et){return(pt.get(ve.call(this,Qe,et))||ht)(Pe.call(this,Qe,et))}return He.type=function(Qe){return arguments.length?(ve=Xr(Qe),He):ve},He.size=function(Qe){return arguments.length?(Pe=Xr(Qe),He):Pe},He};function Ke(){return 64}function rt(){return"circle"}function ht(ve){var Pe=Math.sqrt(ve/Re);return"M0,"+Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+-Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+Pe+"Z"}var pt=n.map({circle:ht,cross:function(ve){var Pe=Math.sqrt(ve/5)/2;return"M"+-3*Pe+","+-Pe+"H"+-Pe+"V"+-3*Pe+"H"+Pe+"V"+-Pe+"H"+3*Pe+"V"+Pe+"H"+Pe+"V"+3*Pe+"H"+-Pe+"V"+Pe+"H"+-3*Pe+"Z"},diamond:function(ve){var Pe=Math.sqrt(ve/(2*Pt)),He=Pe*Pt;return"M0,"+-Pe+"L"+He+",0 0,"+Pe+" "+-He+",0Z"},square:function(ve){var Pe=Math.sqrt(ve)/2;return"M"+-Pe+","+-Pe+"L"+Pe+","+-Pe+" "+Pe+","+Pe+" "+-Pe+","+Pe+"Z"},"triangle-down":function(ve){var Pe=Math.sqrt(ve/kt),He=Pe*kt/2;return"M0,"+He+"L"+Pe+","+-He+" "+-Pe+","+-He+"Z"},"triangle-up":function(ve){var Pe=Math.sqrt(ve/kt),He=Pe*kt/2;return"M0,"+-He+"L"+Pe+","+He+" "+-Pe+","+He+"Z"}});n.svg.symbolTypes=pt.keys();var kt=Math.sqrt(3),Pt=Math.tan(30*wt);q.transition=function(ve){for(var Pe=Pr||++Tr,He=bn(ve),Qe=[],et,at,Rt=Yr||{time:Date.now(),ease:Oh,delay:0,duration:250},ct=-1,Nt=this.length;++ct<Nt;){Qe.push(et=[]);for(var er=this[ct],tr=-1,Lr=er.length;++tr<Lr;)(at=er[tr])&&Rn(at,tr,He,Pe,Rt),et.push(at)}return gr(Qe,He,Pe)},q.interrupt=function(ve){return this.each(ve==null?Ot:cr(bn(ve)))};var Ot=cr(bn());function cr(ve){return function(){var Pe,He,Qe;(Pe=this[ve])&&(Qe=Pe[He=Pe.active])&&(Qe.timer.c=null,Qe.timer.t=NaN,--Pe.count?delete Pe[He]:delete this[ve],Pe.active+=.5,Qe.event&&Qe.event.interrupt.call(this,this.__data__,Qe.index))}}function gr(ve,Pe,He){return Q(ve,ir),ve.namespace=Pe,ve.id=He,ve}var ir=[],Tr=0,Pr,Yr;ir.call=q.call,ir.empty=q.empty,ir.node=q.node,ir.size=q.size,n.transition=function(ve,Pe){return ve&&ve.transition?Pr?ve.transition(Pe):ve:n.selection().transition(ve)},n.transition.prototype=ir,ir.select=function(ve){var Pe=this.id,He=this.namespace,Qe=[],et,at,Rt;ve=he(ve);for(var ct=-1,Nt=this.length;++ct<Nt;){Qe.push(et=[]);for(var er=this[ct],tr=-1,Lr=er.length;++tr<Lr;)(Rt=er[tr])&&(at=ve.call(Rt,Rt.__data__,tr,ct))?("__data__"in Rt&&(at.__data__=Rt.__data__),Rn(at,tr,He,Pe,Rt[He][Pe]),et.push(at)):et.push(null)}return gr(Qe,He,Pe)},ir.selectAll=function(ve){var Pe=this.id,He=this.namespace,Qe=[],et,at,Rt,ct,Nt;ve=se(ve);for(var er=-1,tr=this.length;++er<tr;)for(var Lr=this[er],Sr=-1,Kr=Lr.length;++Sr<Kr;)if(Rt=Lr[Sr]){Nt=Rt[He][Pe],at=ve.call(Rt,Rt.__data__,Sr,er),Qe.push(et=[]);for(var en=-1,Dr=at.length;++en<Dr;)(ct=at[en])&&Rn(ct,en,He,Pe,Nt),et.push(ct)}return gr(Qe,He,Pe)},ir.filter=function(ve){var Pe=[],He,Qe,et;typeof ve!="function"&&(ve=it(ve));for(var at=0,Rt=this.length;at<Rt;at++){Pe.push(He=[]);for(var Qe=this[at],ct=0,Nt=Qe.length;ct<Nt;ct++)(et=Qe[ct])&&ve.call(et,et.__data__,ct,at)&&He.push(et)}return gr(Pe,this.namespace,this.id)},ir.tween=function(ve,Pe){var He=this.id,Qe=this.namespace;return arguments.length<2?this.node()[Qe][He].tween.get(ve):$e(this,Pe==null?function(et){et[Qe][He].tween.remove(ve)}:function(et){et[Qe][He].tween.set(ve,Pe)})};function Jr(ve,Pe,He,Qe){var et=ve.id,at=ve.namespace;return $e(ve,typeof He=="function"?function(Rt,ct,Nt){Rt[at][et].tween.set(Pe,Qe(He.call(Rt,Rt.__data__,ct,Nt)))}:(He=Qe(He),function(Rt){Rt[at][et].tween.set(Pe,He)}))}ir.attr=function(ve,Pe){if(arguments.length<2){for(Pe in ve)this.attr(Pe,ve[Pe]);return this}var He=ve=="transform"?El:Ns,Qe=n.ns.qualify(ve);function et(){this.removeAttribute(Qe)}function at(){this.removeAttributeNS(Qe.space,Qe.local)}function Rt(Nt){return Nt==null?et:(Nt+="",function(){var er=this.getAttribute(Qe),tr;return er!==Nt&&(tr=He(er,Nt),function(Lr){this.setAttribute(Qe,tr(Lr))})})}function ct(Nt){return Nt==null?at:(Nt+="",function(){var er=this.getAttributeNS(Qe.space,Qe.local),tr;return er!==Nt&&(tr=He(er,Nt),function(Lr){this.setAttributeNS(Qe.space,Qe.local,tr(Lr))})})}return Jr(this,"attr."+ve,Pe,Qe.local?ct:Rt)},ir.attrTween=function(ve,Pe){var He=n.ns.qualify(ve);function Qe(at,Rt){var ct=Pe.call(this,at,Rt,this.getAttribute(He));return ct&&function(Nt){this.setAttribute(He,ct(Nt))}}function et(at,Rt){var ct=Pe.call(this,at,Rt,this.getAttributeNS(He.space,He.local));return ct&&function(Nt){this.setAttributeNS(He.space,He.local,ct(Nt))}}return this.tween("attr."+ve,He.local?et:Qe)},ir.style=function(ve,Pe,He){var Qe=arguments.length;if(Qe<3){if(typeof ve!="string"){Qe<2&&(Pe="");for(He in ve)this.style(He,ve[He],Pe);return this}He=""}function et(){this.style.removeProperty(ve)}function at(Rt){return Rt==null?et:(Rt+="",function(){var ct=t(this).getComputedStyle(this,null).getPropertyValue(ve),Nt;return ct!==Rt&&(Nt=Ns(ct,Rt),function(er){this.style.setProperty(ve,Nt(er),He)})})}return Jr(this,"style."+ve,Pe,at)},ir.styleTween=function(ve,Pe,He){arguments.length<3&&(He="");function Qe(et,at){var Rt=Pe.call(this,et,at,t(this).getComputedStyle(this,null).getPropertyValue(ve));return Rt&&function(ct){this.style.setProperty(ve,Rt(ct),He)}}return this.tween("style."+ve,Qe)},ir.text=function(ve){return Jr(this,"text",ve,mn)};function mn(ve){return ve==null&&(ve=""),function(){this.textContent=ve}}ir.remove=function(){var ve=this.namespace;return this.each("end.transition",function(){var Pe;this[ve].count<2&&(Pe=this.parentNode)&&Pe.removeChild(this)})},ir.ease=function(ve){var Pe=this.id,He=this.namespace;return arguments.length<1?this.node()[He][Pe].ease:(typeof ve!="function"&&(ve=n.ease.apply(n,arguments)),$e(this,function(Qe){Qe[He][Pe].ease=ve}))},ir.delay=function(ve){var Pe=this.id,He=this.namespace;return arguments.length<1?this.node()[He][Pe].delay:$e(this,typeof ve=="function"?function(Qe,et,at){Qe[He][Pe].delay=+ve.call(Qe,Qe.__data__,et,at)}:(ve=+ve,function(Qe){Qe[He][Pe].delay=ve}))},ir.duration=function(ve){var Pe=this.id,He=this.namespace;return arguments.length<1?this.node()[He][Pe].duration:$e(this,typeof ve=="function"?function(Qe,et,at){Qe[He][Pe].duration=Math.max(1,ve.call(Qe,Qe.__data__,et,at))}:(ve=Math.max(1,ve),function(Qe){Qe[He][Pe].duration=ve}))},ir.each=function(ve,Pe){var He=this.id,Qe=this.namespace;if(arguments.length<2){var et=Yr,at=Pr;try{Pr=He,$e(this,function(Rt,ct,Nt){Yr=Rt[Qe][He],ve.call(Rt,Rt.__data__,ct,Nt)})}finally{Yr=et,Pr=at}}else $e(this,function(Rt){var ct=Rt[Qe][He];(ct.event||(ct.event=n.dispatch("start","end","interrupt"))).on(ve,Pe)});return this},ir.transition=function(){for(var ve=this.id,Pe=++Tr,He=this.namespace,Qe=[],et,at,Rt,ct,Nt=0,er=this.length;Nt<er;Nt++){Qe.push(et=[]);for(var at=this[Nt],tr=0,Lr=at.length;tr<Lr;tr++)(Rt=at[tr])&&(ct=Rt[He][ve],Rn(Rt,tr,He,Pe,{time:ct.time,ease:ct.ease,delay:ct.delay+ct.duration,duration:ct.duration})),et.push(Rt)}return gr(Qe,He,Pe)};function bn(ve){return ve==null?"__transition__":"__transition_"+ve+"__"}function Rn(ve,Pe,He,Qe,et){var at=ve[He]||(ve[He]={active:0,count:0}),Rt=at[Qe],ct,Nt,er,tr,Lr;function Sr(Dr){var Ur=Rt.delay;if(Nt.t=Ur+ct,Ur<=Dr)return Kr(Dr-Ur);Nt.c=Kr}function Kr(Dr){var Ur=at.active,Zr=at[Ur];Zr&&(Zr.timer.c=null,Zr.timer.t=NaN,--at.count,delete at[Ur],Zr.event&&Zr.event.interrupt.call(ve,ve.__data__,Zr.index));for(var tn in at)if(+tn<Qe){var ln=at[tn];ln.timer.c=null,ln.timer.t=NaN,--at.count,delete at[tn]}Nt.c=en,Tn(function(){return Nt.c&&en(Dr||1)&&(Nt.c=null,Nt.t=NaN),1},0,ct),at.active=Qe,Rt.event&&Rt.event.start.call(ve,ve.__data__,Pe),Lr=[],Rt.tween.forEach(function(jr,On){(On=On.call(ve,ve.__data__,Pe))&&Lr.push(On)}),tr=Rt.ease,er=Rt.duration}function en(Dr){for(var Ur=Dr/er,Zr=tr(Ur),tn=Lr.length;tn>0;)Lr[--tn].call(ve,Zr);if(Ur>=1)return Rt.event&&Rt.event.end.call(ve,ve.__data__,Pe),--at.count?delete at[Qe]:delete ve[He],1}Rt||(ct=et.time,Nt=Tn(Sr,0,ct),Rt=at[Qe]={tween:new D,time:ct,timer:Nt,delay:et.delay,duration:et.duration,ease:et.ease,index:Pe},et=null,++at.count)}n.svg.axis=function(){var ve=n.scale.linear(),Pe=hi,He=6,Qe=6,et=3,at=[10],Rt=null,ct;function Nt(er){er.each(function(){var tr=n.select(this),Lr=this.__chart__||ve,Sr=this.__chart__=ve.copy(),Kr=Rt??(Sr.ticks?Sr.ticks.apply(Sr,at):Sr.domain()),en=ct??(Sr.tickFormat?Sr.tickFormat.apply(Sr,at):W),Dr=tr.selectAll(".tick").data(Kr,Sr),Ur=Dr.enter().insert("g",".domain").attr("class","tick").style("opacity",ce),Zr=n.transition(Dr.exit()).style("opacity",ce).remove(),tn=n.transition(Dr.order()).style("opacity",1),ln=Math.max(He,0)+et,jr,On=Du(Sr),Vn=tr.selectAll(".domain").data([0]),Kn=(Vn.enter().append("path").attr("class","domain"),n.transition(Vn));Ur.append("line"),Ur.append("text");var ni=Ur.select("line"),xi=tn.select("line"),mi=Dr.select("text").text(en),Ui=Ur.select("text"),Ei=tn.select("text"),Oi=Pe==="top"||Pe==="left"?-1:1,$i,ra,ca,Bn;if(Pe==="bottom"||Pe==="top"?(jr=Ri,$i="x",ca="y",ra="x2",Bn="y2",mi.attr("dy",Oi<0?"0em":".71em").style("text-anchor","middle"),Kn.attr("d","M"+On[0]+","+Oi*Qe+"V0H"+On[1]+"V"+Oi*Qe)):(jr=Di,$i="y",ca="x",ra="y2",Bn="x2",mi.attr("dy",".32em").style("text-anchor",Oi<0?"end":"start"),Kn.attr("d","M"+Oi*Qe+","+On[0]+"H0V"+On[1]+"H"+Oi*Qe)),ni.attr(Bn,Oi*He),Ui.attr(ca,Oi*ln),xi.attr(ra,0).attr(Bn,Oi*He),Ei.attr($i,0).attr(ca,Oi*ln),Sr.rangeBand){var Bi=Sr,Fi=Bi.rangeBand()/2;Lr=Sr=function(Zi){return Bi(Zi)+Fi}}else Lr.rangeBand?Lr=Sr:Zr.call(jr,Sr,Lr);Ur.call(jr,Lr,Sr),tn.call(jr,Sr,Sr)})}return Nt.scale=function(er){return arguments.length?(ve=er,Nt):ve},Nt.orient=function(er){return arguments.length?(Pe=er in Ci?er+"":hi,Nt):Pe},Nt.ticks=function(){return arguments.length?(at=w(arguments),Nt):at},Nt.tickValues=function(er){return arguments.length?(Rt=er,Nt):Rt},Nt.tickFormat=function(er){return arguments.length?(ct=er,Nt):ct},Nt.tickSize=function(er){var tr=arguments.length;return tr?(He=+er,Qe=+arguments[tr-1],Nt):He},Nt.innerTickSize=function(er){return arguments.length?(He=+er,Nt):He},Nt.outerTickSize=function(er){return arguments.length?(Qe=+er,Nt):Qe},Nt.tickPadding=function(er){return arguments.length?(et=+er,Nt):et},Nt.tickSubdivide=function(){return arguments.length&&Nt},Nt};var hi="bottom",Ci={top:1,right:1,bottom:1,left:1};function Ri(ve,Pe,He){ve.attr("transform",function(Qe){var et=Pe(Qe);return"translate("+(isFinite(et)?et:He(Qe))+",0)"})}function Di(ve,Pe,He){ve.attr("transform",function(Qe){var et=Pe(Qe);return"translate(0,"+(isFinite(et)?et:He(Qe))+")"})}n.svg.brush=function(){var ve=ee(tr,"brushstart","brush","brushend"),Pe=null,He=null,Qe=[0,0],et=[0,0],at,Rt,ct=!0,Nt=!0,er=oa[0];function tr(Dr){Dr.each(function(){var Ur=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",en).on("touchstart.brush",en),Zr=Ur.selectAll(".background").data([0]);Zr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ur.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var tn=Ur.selectAll(".resize").data(er,W);tn.exit().remove(),tn.enter().append("g").attr("class",function(Vn){return"resize "+Vn}).style("cursor",function(Vn){return ki[Vn]}).append("rect").attr("x",function(Vn){return/[ew]$/.test(Vn)?-3:null}).attr("y",function(Vn){return/^[ns]/.test(Vn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),tn.style("display",tr.empty()?"none":null);var ln=n.transition(Ur),jr=n.transition(Zr),On;Pe&&(On=Du(Pe),jr.attr("x",On[0]).attr("width",On[1]-On[0]),Sr(ln)),He&&(On=Du(He),jr.attr("y",On[0]).attr("height",On[1]-On[0]),Kr(ln)),Lr(ln)})}tr.event=function(Dr){Dr.each(function(){var Ur=ve.of(this,arguments),Zr={x:Qe,y:et,i:at,j:Rt},tn=this.__chart__||Zr;this.__chart__=Zr,Pr?n.select(this).transition().each("start.brush",function(){at=tn.i,Rt=tn.j,Qe=tn.x,et=tn.y,Ur({type:"brushstart"})}).tween("brush:brush",function(){var ln=so(Qe,Zr.x),jr=so(et,Zr.y);return at=Rt=null,function(On){Qe=Zr.x=ln(On),et=Zr.y=jr(On),Ur({type:"brush",mode:"resize"})}}).each("end.brush",function(){at=Zr.i,Rt=Zr.j,Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"})}):(Ur({type:"brushstart"}),Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"}))})};function Lr(Dr){Dr.selectAll(".resize").attr("transform",function(Ur){return"translate("+Qe[+/e$/.test(Ur)]+","+et[+/^s/.test(Ur)]+")"})}function Sr(Dr){Dr.select(".extent").attr("x",Qe[0]),Dr.selectAll(".extent,.n>rect,.s>rect").attr("width",Qe[1]-Qe[0])}function Kr(Dr){Dr.select(".extent").attr("y",et[0]),Dr.selectAll(".extent,.e>rect,.w>rect").attr("height",et[1]-et[0])}function en(){var Dr=this,Ur=n.select(n.event.target),Zr=ve.of(Dr,arguments),tn=n.select(Dr),ln=Ur.datum(),jr=!/^(n|s)$/.test(ln)&&Pe,On=!/^(e|w)$/.test(ln)&&He,Vn=Ur.classed("extent"),Kn=Ie(Dr),ni,xi=n.mouse(Dr),mi,Ui=n.select(t(Dr)).on("keydown.brush",$i).on("keyup.brush",ra);if(n.event.changedTouches?Ui.on("touchmove.brush",ca).on("touchend.brush",Bi):Ui.on("mousemove.brush",ca).on("mouseup.brush",Bi),tn.interrupt().selectAll("*").interrupt(),Vn)xi[0]=Qe[0]-xi[0],xi[1]=et[0]-xi[1];else if(ln){var Ei=+/w$/.test(ln),Oi=+/^n/.test(ln);mi=[Qe[1-Ei]-xi[0],et[1-Oi]-xi[1]],xi[0]=Qe[Ei],xi[1]=et[Oi]}else n.event.altKey&&(ni=xi.slice());tn.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",Ur.style("cursor")),Zr({type:"brushstart"}),ca();function $i(){n.event.keyCode==32&&(Vn||(ni=null,xi[0]-=Qe[1],xi[1]-=et[1],Vn=2),ue())}function ra(){n.event.keyCode==32&&Vn==2&&(xi[0]+=Qe[1],xi[1]+=et[1],Vn=0,ue())}function ca(){var Fi=n.mouse(Dr),Zi=!1;mi&&(Fi[0]+=mi[0],Fi[1]+=mi[1]),Vn||(n.event.altKey?(ni||(ni=[(Qe[0]+Qe[1])/2,(et[0]+et[1])/2]),xi[0]=Qe[+(Fi[0]<ni[0])],xi[1]=et[+(Fi[1]<ni[1])]):ni=null),jr&&Bn(Fi,Pe,0)&&(Sr(tn),Zi=!0),On&&Bn(Fi,He,1)&&(Kr(tn),Zi=!0),Zi&&(Lr(tn),Zr({type:"brush",mode:Vn?"move":"resize"}))}function Bn(Fi,Zi,La){var Va=Du(Zi),Za=Va[0],Ta=Va[1],va=xi[La],gi=La?et:Qe,Mi=gi[1]-gi[0],Aa,Ya;if(Vn&&(Za-=va,Ta-=Mi+va),Aa=(La?Nt:ct)?Math.max(Za,Math.min(Ta,Fi[La])):Fi[La],Vn?Ya=(Aa+=va)+Mi:(ni&&(va=Math.max(Za,Math.min(Ta,2*ni[La]-Aa))),va<Aa?(Ya=Aa,Aa=va):Ya=va),gi[0]!=Aa||gi[1]!=Ya)return La?Rt=null:at=null,gi[0]=Aa,gi[1]=Ya,!0}function Bi(){ca(),tn.style("pointer-events","all").selectAll(".resize").style("display",tr.empty()?"none":null),n.select("body").style("cursor",null),Ui.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Kn(),Zr({type:"brushend"})}}return tr.x=function(Dr){return arguments.length?(Pe=Dr,er=oa[!Pe<<1|!He],tr):Pe},tr.y=function(Dr){return arguments.length?(He=Dr,er=oa[!Pe<<1|!He],tr):He},tr.clamp=function(Dr){return arguments.length?(Pe&&He?(ct=!!Dr[0],Nt=!!Dr[1]):Pe?ct=!!Dr:He&&(Nt=!!Dr),tr):Pe&&He?[ct,Nt]:Pe?ct:He?Nt:null},tr.extent=function(Dr){var Ur,Zr,tn,ln,jr;return arguments.length?(Pe&&(Ur=Dr[0],Zr=Dr[1],He&&(Ur=Ur[0],Zr=Zr[0]),at=[Ur,Zr],Pe.invert&&(Ur=Pe(Ur),Zr=Pe(Zr)),Zr<Ur&&(jr=Ur,Ur=Zr,Zr=jr),(Ur!=Qe[0]||Zr!=Qe[1])&&(Qe=[Ur,Zr])),He&&(tn=Dr[0],ln=Dr[1],Pe&&(tn=tn[1],ln=ln[1]),Rt=[tn,ln],He.invert&&(tn=He(tn),ln=He(ln)),ln<tn&&(jr=tn,tn=ln,ln=jr),(tn!=et[0]||ln!=et[1])&&(et=[tn,ln])),tr):(Pe&&(at?(Ur=at[0],Zr=at[1]):(Ur=Qe[0],Zr=Qe[1],Pe.invert&&(Ur=Pe.invert(Ur),Zr=Pe.invert(Zr)),Zr<Ur&&(jr=Ur,Ur=Zr,Zr=jr))),He&&(Rt?(tn=Rt[0],ln=Rt[1]):(tn=et[0],ln=et[1],He.invert&&(tn=He.invert(tn),ln=He.invert(ln)),ln<tn&&(jr=tn,tn=ln,ln=jr))),Pe&&He?[[Ur,tn],[Zr,ln]]:Pe?[Ur,Zr]:He&&[tn,ln])},tr.clear=function(){return tr.empty()||(Qe=[0,0],et=[0,0],at=Rt=null),tr},tr.empty=function(){return!!Pe&&Qe[0]==Qe[1]||!!He&&et[0]==et[1]},n.rebind(tr,ve,"on")};var ki={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},oa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];n.text=_n(function(ve){return ve.responseText}),n.json=function(ve,Pe){return Dn(ve,"application/json",Ia,Pe)};function Ia(ve){return JSON.parse(ve.responseText)}n.html=function(ve,Pe){return Dn(ve,"text/html",ma,Pe)};function ma(ve){var Pe=p.createRange();return Pe.selectNode(p.body),Pe.createContextualFragment(ve.responseText)}n.xml=_n(function(ve){return ve.responseXML}),h=n,E=typeof h=="function"?h.call(F,e,F,k):h,E!==void 0&&(k.exports=E)}).apply(self)},88294:function(k,F,e){k.exports=e(62849)},62849:function(k,F,e){var h=e(91358),E=e(53435),n=e(18863),L=e(21527),w=e(71299),p=e(46775),m=e(30120),t=e(64941),r=e(90660),l=e(27084),i=1073741824;k.exports=function(c,x){x||(x={}),c=m(c,"float64"),x=w(x,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var d=p(x.maxDepth,255),M=p(x.bounds,L(c,2));M[0]===M[2]&&M[2]++,M[1]===M[3]&&M[3]++;var g=f(c,M),u=c.length>>>1,y;x.dtype||(x.dtype="array"),typeof x.dtype=="string"?y=new(r(x.dtype))(u):x.dtype&&(y=x.dtype,Array.isArray(y)&&(y.length=u));for(var C=0;C<u;++C)y[C]=C;var S=[],D=[],T=[],P=[];Y(0,0,1,y,0,1);for(var A=0,a=0;a<S.length;a++){var R=S[a];if(y.set)y.set(R,A);else for(var b=0,N=R.length;b<N;b++)y[b+A]=R[b];var O=A+S[a].length;P[a]=[A,O],A=O}return y.range=B,y;function Y(U,G,j,re,ae,ue){if(!re.length)return null;var de=S[ae]||(S[ae]=[]),ee=T[ae]||(T[ae]=[]),X=D[ae]||(D[ae]=[]),Q=de.length;if(ae++,ae>d||ue>i){for(var $=0;$<re.length;$++)de.push(re[$]),ee.push(ue),X.push(null,null,null,null);return Q}if(de.push(re[0]),ee.push(ue),re.length<=1)return X.push(null,null,null,null),Q;for(var ne=j*.5,fe=U+ne,te=G+ne,q=[],he=[],se=[],pe=[],we=1,Ee=re.length;we<Ee;we++){var Me=re[we],Be=g[Me*2],Ne=g[Me*2+1];Be<fe?Ne<te?q.push(Me):he.push(Me):Ne<te?se.push(Me):pe.push(Me)}return ue<<=2,X.push(Y(U,G,ne,q,ae,ue),Y(U,te,ne,he,ae,ue+1),Y(fe,G,ne,se,ae,ue+2),Y(fe,te,ne,pe,ae,ue+3)),Q}function B(){for(var U=[],G=arguments.length;G--;)U[G]=arguments[G];var j;if(t(U[U.length-1])){var re=U.pop();!U.length&&(re.x!=null||re.l!=null||re.left!=null)&&(U=[re],j={}),j=w(re,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else j={};U.length||(U=M);var ae=n.apply(void 0,U),ue=[Math.min(ae.x,ae.x+ae.width),Math.min(ae.y,ae.y+ae.height),Math.max(ae.x,ae.x+ae.width),Math.max(ae.y,ae.y+ae.height)],de=ue[0],ee=ue[1],X=ue[2],Q=ue[3],$=f([de,ee,X,Q],M),ne=$[0],fe=$[1],te=$[2],q=$[3],he=p(j.level,S.length);if(j.d!=null){var se;typeof j.d=="number"?se=[j.d,j.d]:j.d.length&&(se=j.d),he=Math.min(Math.max(Math.ceil(-l(Math.abs(se[0])/(M[2]-M[0]))),Math.ceil(-l(Math.abs(se[1])/(M[3]-M[1])))),he)}if(he=Math.min(he,S.length),j.lod)return W(ne,fe,te,q,he);var pe=[];we(0,0,1,0,0,1);function we(Me,Be,Ne,Ce,Te,Le){if(!(Te===null||Le===null)){var Ve=Me+Ne,We=Be+Ne;if(!(ne>Ve||fe>We||te<Me||q<Be)&&!(Ce>=he)&&Te!==Le){var Fe=S[Ce];Le===void 0&&(Le=Fe.length);for(var Ge=Te;Ge<Le;Ge++){var it=Fe[Ge],qe=c[it*2],$e=c[it*2+1];qe>=de&&qe<=X&&$e>=ee&&$e<=Q&&pe.push(it)}var tt=D[Ce],vt=tt[Te*4+0],dt=tt[Te*4+1],gt=tt[Te*4+2],Mt=tt[Te*4+3],Ct=Ee(tt,Te+1),Wt=Ne*.5,Xe=Ce+1;we(Me,Be,Wt,Xe,vt,dt||gt||Mt||Ct),we(Me,Be+Wt,Wt,Xe,dt,gt||Mt||Ct),we(Me+Wt,Be,Wt,Xe,gt,Mt||Ct),we(Me+Wt,Be+Wt,Wt,Xe,Mt,Ct)}}}function Ee(Me,Be){for(var Ne=null,Ce=0;Ne===null;)if(Ne=Me[Be*4+Ce],Ce++,Ce>Me.length)return null;return Ne}return pe}function W(U,G,j,re,ae){for(var ue=[],de=0;de<ae;de++){var ee=T[de],X=P[de][0],Q=H(U,G,de),$=H(j,re,de),ne=h.ge(ee,Q),fe=h.gt(ee,$,ne,ee.length-1);ue[de]=[ne+X,fe+X]}return ue}function H(U,G,j){for(var re=1,ae=.5,ue=.5,de=.5,ee=0;ee<j;ee++)re<<=2,re+=U<ae?G<ue?0:1:G<ue?2:3,de*=.5,ae+=U<ae?-de:de,ue+=G<ue?-de:de;return re}};function f(v,c){for(var x=c[0],d=c[1],M=c[2],g=c[3],u=1/(M-x),y=1/(g-d),C=new Array(v.length),S=0,D=v.length/2;S<D;S++)C[2*S]=E((v[2*S]-x)*u,0,1),C[2*S+1]=E((v[2*S+1]-d)*y,0,1);return C}},30774:function(k,F,e){Object.defineProperty(F,"__esModule",{value:!0});var h=e(60302),E=6378137;function n(t){return h.geomReduce(t,function(r,l){return r+L(l)},0)}F.default=n;function L(t){var r=0,l;switch(t.type){case"Polygon":return w(t.coordinates);case"MultiPolygon":for(l=0;l<t.coordinates.length;l++)r+=w(t.coordinates[l]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function w(t){var r=0;if(t&&t.length>0){r+=Math.abs(p(t[0]));for(var l=1;l<t.length;l++)r-=Math.abs(p(t[l]))}return r}function p(t){var r,l,i,f,v,c,x,d=0,M=t.length;if(M>2){for(x=0;x<M;x++)x===M-2?(f=M-2,v=M-1,c=0):x===M-1?(f=M-1,v=0,c=1):(f=x,v=x+1,c=x+2),r=t[f],l=t[v],i=t[c],d+=(m(i[0])-m(r[0]))*Math.sin(m(l[1]));d=d*E*E/2}return d}function m(t){return t*Math.PI/180}},23132:function(k,F){Object.defineProperty(F,"__esModule",{value:!0}),F.earthRadius=63710088e-1,F.factors={centimeters:F.earthRadius*100,centimetres:F.earthRadius*100,degrees:F.earthRadius/111325,feet:F.earthRadius*3.28084,inches:F.earthRadius*39.37,kilometers:F.earthRadius/1e3,kilometres:F.earthRadius/1e3,meters:F.earthRadius,metres:F.earthRadius,miles:F.earthRadius/1609.344,millimeters:F.earthRadius*1e3,millimetres:F.earthRadius*1e3,nauticalmiles:F.earthRadius/1852,radians:1,yards:F.earthRadius*1.0936},F.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/F.earthRadius,yards:1.0936133},F.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,a,R){R===void 0&&(R={});var b={type:"Feature"};return(R.id===0||R.id)&&(b.id=R.id),R.bbox&&(b.bbox=R.bbox),b.properties=a||{},b.geometry=A,b}F.feature=e;function h(A,a,R){switch(A){case"Point":return E(a).geometry;case"LineString":return p(a).geometry;case"Polygon":return L(a).geometry;case"MultiPoint":return l(a).geometry;case"MultiLineString":return r(a).geometry;case"MultiPolygon":return i(a).geometry;default:throw new Error(A+" is invalid")}}F.geometry=h;function E(A,a,R){if(R===void 0&&(R={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(A[0])||!S(A[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:A};return e(b,a,R)}F.point=E;function n(A,a,R){return R===void 0&&(R={}),t(A.map(function(b){return E(b,a)}),R)}F.points=n;function L(A,a,R){R===void 0&&(R={});for(var b=0,N=A;b<N.length;b++){var O=N[b];if(O.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Y=0;Y<O[O.length-1].length;Y++)if(O[O.length-1][Y]!==O[0][Y])throw new Error("First and last Position are not equivalent.")}var B={type:"Polygon",coordinates:A};return e(B,a,R)}F.polygon=L;function w(A,a,R){return R===void 0&&(R={}),t(A.map(function(b){return L(b,a)}),R)}F.polygons=w;function p(A,a,R){if(R===void 0&&(R={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:A};return e(b,a,R)}F.lineString=p;function m(A,a,R){return R===void 0&&(R={}),t(A.map(function(b){return p(b,a)}),R)}F.lineStrings=m;function t(A,a){a===void 0&&(a={});var R={type:"FeatureCollection"};return a.id&&(R.id=a.id),a.bbox&&(R.bbox=a.bbox),R.features=A,R}F.featureCollection=t;function r(A,a,R){R===void 0&&(R={});var b={type:"MultiLineString",coordinates:A};return e(b,a,R)}F.multiLineString=r;function l(A,a,R){R===void 0&&(R={});var b={type:"MultiPoint",coordinates:A};return e(b,a,R)}F.multiPoint=l;function i(A,a,R){R===void 0&&(R={});var b={type:"MultiPolygon",coordinates:A};return e(b,a,R)}F.multiPolygon=i;function f(A,a,R){R===void 0&&(R={});var b={type:"GeometryCollection",geometries:A};return e(b,a,R)}F.geometryCollection=f;function v(A,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,a||0);return Math.round(A*R)/R}F.round=v;function c(A,a){a===void 0&&(a="kilometers");var R=F.factors[a];if(!R)throw new Error(a+" units is invalid");return A*R}F.radiansToLength=c;function x(A,a){a===void 0&&(a="kilometers");var R=F.factors[a];if(!R)throw new Error(a+" units is invalid");return A/R}F.lengthToRadians=x;function d(A,a){return g(x(A,a))}F.lengthToDegrees=d;function M(A){var a=A%360;return a<0&&(a+=360),a}F.bearingToAzimuth=M;function g(A){var a=A%(2*Math.PI);return a*180/Math.PI}F.radiansToDegrees=g;function u(A){var a=A%360;return a*Math.PI/180}F.degreesToRadians=u;function y(A,a,R){if(a===void 0&&(a="kilometers"),R===void 0&&(R="kilometers"),!(A>=0))throw new Error("length must be a positive number");return c(x(A,a),R)}F.convertLength=y;function C(A,a,R){if(a===void 0&&(a="meters"),R===void 0&&(R="kilometers"),!(A>=0))throw new Error("area must be a positive number");var b=F.areaFactors[a];if(!b)throw new Error("invalid original units");var N=F.areaFactors[R];if(!N)throw new Error("invalid final units");return A/b*N}F.convertArea=C;function S(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}F.isNumber=S;function D(A){return!!A&&A.constructor===Object}F.isObject=D;function T(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(a){if(!S(a))throw new Error("bbox must only contain numbers")})}F.validateBBox=T;function P(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}F.validateId=P},60302:function(k,F,e){Object.defineProperty(F,"__esModule",{value:!0});var h=e(23132);function E(u,y,C){if(u!==null)for(var S,D,T,P,A,a,R,b=0,N=0,O,Y=u.type,B=Y==="FeatureCollection",W=Y==="Feature",H=B?u.features.length:1,U=0;U<H;U++){R=B?u.features[U].geometry:W?u.geometry:u,O=R?R.type==="GeometryCollection":!1,A=O?R.geometries.length:1;for(var G=0;G<A;G++){var j=0,re=0;if(P=O?R.geometries[G]:R,P!==null){a=P.coordinates;var ae=P.type;switch(b=C&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(y(a,N,U,j,re)===!1)return!1;N++,j++;break;case"LineString":case"MultiPoint":for(S=0;S<a.length;S++){if(y(a[S],N,U,j,re)===!1)return!1;N++,ae==="MultiPoint"&&j++}ae==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(S=0;S<a.length;S++){for(D=0;D<a[S].length-b;D++){if(y(a[S][D],N,U,j,re)===!1)return!1;N++}ae==="MultiLineString"&&j++,ae==="Polygon"&&re++}ae==="Polygon"&&j++;break;case"MultiPolygon":for(S=0;S<a.length;S++){for(re=0,D=0;D<a[S].length;D++){for(T=0;T<a[S][D].length-b;T++){if(y(a[S][D][T],N,U,j,re)===!1)return!1;N++}re++}j++}break;case"GeometryCollection":for(S=0;S<P.geometries.length;S++)if(E(P.geometries[S],y,C)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(u,y,C,S){var D=C;return E(u,function(T,P,A,a,R){P===0&&C===void 0?D=T:D=y(D,T,P,A,a,R)},S),D}function L(u,y){var C;switch(u.type){case"FeatureCollection":for(C=0;C<u.features.length&&y(u.features[C].properties,C)!==!1;C++);break;case"Feature":y(u.properties,0);break}}function w(u,y,C){var S=C;return L(u,function(D,T){T===0&&C===void 0?S=D:S=y(S,D,T)}),S}function p(u,y){if(u.type==="Feature")y(u,0);else if(u.type==="FeatureCollection")for(var C=0;C<u.features.length&&y(u.features[C],C)!==!1;C++);}function m(u,y,C){var S=C;return p(u,function(D,T){T===0&&C===void 0?S=D:S=y(S,D,T)}),S}function t(u){var y=[];return E(u,function(C){y.push(C)}),y}function r(u,y){var C,S,D,T,P,A,a,R,b,N,O=0,Y=u.type==="FeatureCollection",B=u.type==="Feature",W=Y?u.features.length:1;for(C=0;C<W;C++){for(A=Y?u.features[C].geometry:B?u.geometry:u,R=Y?u.features[C].properties:B?u.properties:{},b=Y?u.features[C].bbox:B?u.bbox:void 0,N=Y?u.features[C].id:B?u.id:void 0,a=A?A.type==="GeometryCollection":!1,P=a?A.geometries.length:1,D=0;D<P;D++){if(T=a?A.geometries[D]:A,T===null){if(y(null,O,R,b,N)===!1)return!1;continue}switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(y(T,O,R,b,N)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<T.geometries.length;S++)if(y(T.geometries[S],O,R,b,N)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}O++}}function l(u,y,C){var S=C;return r(u,function(D,T,P,A,a){T===0&&C===void 0?S=D:S=y(S,D,T,P,A,a)}),S}function i(u,y){r(u,function(C,S,D,T,P){var A=C===null?null:C.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return y(h.feature(C,D,{bbox:T,id:P}),S,0)===!1?!1:void 0}var a;switch(A){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var R=0;R<C.coordinates.length;R++){var b=C.coordinates[R],N={type:a,coordinates:b};if(y(h.feature(N,D),S,R)===!1)return!1}})}function f(u,y,C){var S=C;return i(u,function(D,T,P){T===0&&P===0&&C===void 0?S=D:S=y(S,D,T,P)}),S}function v(u,y){i(u,function(C,S,D){var T=0;if(C.geometry){var P=C.geometry.type;if(!(P==="Point"||P==="MultiPoint")){var A,a=0,R=0,b=0;if(E(C,function(N,O,Y,B,W){if(A===void 0||S>a||B>R||W>b){A=N,a=S,R=B,b=W,T=0;return}var H=h.lineString([A,N],C.properties);if(y(H,S,D,W,T)===!1)return!1;T++,A=N})===!1)return!1}}})}function c(u,y,C){var S=C,D=!1;return v(u,function(T,P,A,a,R){D===!1&&C===void 0?S=T:S=y(S,T,P,A,a,R),D=!0}),S}function x(u,y){if(!u)throw new Error("geojson is required");i(u,function(C,S,D){if(C.geometry!==null){var T=C.geometry.type,P=C.geometry.coordinates;switch(T){case"LineString":if(y(C,S,D,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<P.length;A++)if(y(h.lineString(P[A],C.properties),S,D,A)===!1)return!1;break}}})}function d(u,y,C){var S=C;return x(u,function(D,T,P,A){T===0&&C===void 0?S=D:S=y(S,D,T,P,A)}),S}function M(u,y){if(y=y||{},!h.isObject(y))throw new Error("options is invalid");var C=y.featureIndex||0,S=y.multiFeatureIndex||0,D=y.geometryIndex||0,T=y.segmentIndex||0,P=y.properties,A;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),P=P||u.features[C].properties,A=u.features[C].geometry;break;case"Feature":P=P||u.properties,A=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=u;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var a=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=a.length+T-1),h.lineString([a[T],a[T+1]],P,y);case"Polygon":return D<0&&(D=a.length+D),T<0&&(T=a[D].length+T-1),h.lineString([a[D][T],a[D][T+1]],P,y);case"MultiLineString":return S<0&&(S=a.length+S),T<0&&(T=a[S].length+T-1),h.lineString([a[S][T],a[S][T+1]],P,y);case"MultiPolygon":return S<0&&(S=a.length+S),D<0&&(D=a[S].length+D),T<0&&(T=a[S][D].length-T-1),h.lineString([a[S][D][T],a[S][D][T+1]],P,y)}throw new Error("geojson is invalid")}function g(u,y){if(y=y||{},!h.isObject(y))throw new Error("options is invalid");var C=y.featureIndex||0,S=y.multiFeatureIndex||0,D=y.geometryIndex||0,T=y.coordIndex||0,P=y.properties,A;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),P=P||u.features[C].properties,A=u.features[C].geometry;break;case"Feature":P=P||u.properties,A=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=u;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var a=A.coordinates;switch(A.type){case"Point":return h.point(a,P,y);case"MultiPoint":return S<0&&(S=a.length+S),h.point(a[S],P,y);case"LineString":return T<0&&(T=a.length+T),h.point(a[T],P,y);case"Polygon":return D<0&&(D=a.length+D),T<0&&(T=a[D].length+T),h.point(a[D][T],P,y);case"MultiLineString":return S<0&&(S=a.length+S),T<0&&(T=a[S].length+T),h.point(a[S][T],P,y);case"MultiPolygon":return S<0&&(S=a.length+S),D<0&&(D=a[S].length+D),T<0&&(T=a[S][D].length-T),h.point(a[S][D][T],P,y)}throw new Error("geojson is invalid")}F.coordEach=E,F.coordReduce=n,F.propEach=L,F.propReduce=w,F.featureEach=p,F.featureReduce=m,F.coordAll=t,F.geomEach=r,F.geomReduce=l,F.flattenEach=i,F.flattenReduce=f,F.segmentEach=v,F.segmentReduce=c,F.lineEach=x,F.lineReduce=d,F.findSegment=M,F.findPoint=g},85268:function(k,F,e){Object.defineProperty(F,"__esModule",{value:!0});var h=e(27138);function E(n){var L=[1/0,1/0,-1/0,-1/0];return h.coordEach(n,function(w){L[0]>w[0]&&(L[0]=w[0]),L[1]>w[1]&&(L[1]=w[1]),L[2]<w[0]&&(L[2]=w[0]),L[3]<w[1]&&(L[3]=w[1])}),L}E.default=E,F.default=E},94228:function(k,F){Object.defineProperty(F,"__esModule",{value:!0}),F.earthRadius=63710088e-1,F.factors={centimeters:F.earthRadius*100,centimetres:F.earthRadius*100,degrees:F.earthRadius/111325,feet:F.earthRadius*3.28084,inches:F.earthRadius*39.37,kilometers:F.earthRadius/1e3,kilometres:F.earthRadius/1e3,meters:F.earthRadius,metres:F.earthRadius,miles:F.earthRadius/1609.344,millimeters:F.earthRadius*1e3,millimetres:F.earthRadius*1e3,nauticalmiles:F.earthRadius/1852,radians:1,yards:F.earthRadius*1.0936},F.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/F.earthRadius,yards:1.0936133},F.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,a,R){R===void 0&&(R={});var b={type:"Feature"};return(R.id===0||R.id)&&(b.id=R.id),R.bbox&&(b.bbox=R.bbox),b.properties=a||{},b.geometry=A,b}F.feature=e;function h(A,a,R){switch(A){case"Point":return E(a).geometry;case"LineString":return p(a).geometry;case"Polygon":return L(a).geometry;case"MultiPoint":return l(a).geometry;case"MultiLineString":return r(a).geometry;case"MultiPolygon":return i(a).geometry;default:throw new Error(A+" is invalid")}}F.geometry=h;function E(A,a,R){if(R===void 0&&(R={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(A[0])||!S(A[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:A};return e(b,a,R)}F.point=E;function n(A,a,R){return R===void 0&&(R={}),t(A.map(function(b){return E(b,a)}),R)}F.points=n;function L(A,a,R){R===void 0&&(R={});for(var b=0,N=A;b<N.length;b++){var O=N[b];if(O.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Y=0;Y<O[O.length-1].length;Y++)if(O[O.length-1][Y]!==O[0][Y])throw new Error("First and last Position are not equivalent.")}var B={type:"Polygon",coordinates:A};return e(B,a,R)}F.polygon=L;function w(A,a,R){return R===void 0&&(R={}),t(A.map(function(b){return L(b,a)}),R)}F.polygons=w;function p(A,a,R){if(R===void 0&&(R={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:A};return e(b,a,R)}F.lineString=p;function m(A,a,R){return R===void 0&&(R={}),t(A.map(function(b){return p(b,a)}),R)}F.lineStrings=m;function t(A,a){a===void 0&&(a={});var R={type:"FeatureCollection"};return a.id&&(R.id=a.id),a.bbox&&(R.bbox=a.bbox),R.features=A,R}F.featureCollection=t;function r(A,a,R){R===void 0&&(R={});var b={type:"MultiLineString",coordinates:A};return e(b,a,R)}F.multiLineString=r;function l(A,a,R){R===void 0&&(R={});var b={type:"MultiPoint",coordinates:A};return e(b,a,R)}F.multiPoint=l;function i(A,a,R){R===void 0&&(R={});var b={type:"MultiPolygon",coordinates:A};return e(b,a,R)}F.multiPolygon=i;function f(A,a,R){R===void 0&&(R={});var b={type:"GeometryCollection",geometries:A};return e(b,a,R)}F.geometryCollection=f;function v(A,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,a||0);return Math.round(A*R)/R}F.round=v;function c(A,a){a===void 0&&(a="kilometers");var R=F.factors[a];if(!R)throw new Error(a+" units is invalid");return A*R}F.radiansToLength=c;function x(A,a){a===void 0&&(a="kilometers");var R=F.factors[a];if(!R)throw new Error(a+" units is invalid");return A/R}F.lengthToRadians=x;function d(A,a){return g(x(A,a))}F.lengthToDegrees=d;function M(A){var a=A%360;return a<0&&(a+=360),a}F.bearingToAzimuth=M;function g(A){var a=A%(2*Math.PI);return a*180/Math.PI}F.radiansToDegrees=g;function u(A){var a=A%360;return a*Math.PI/180}F.degreesToRadians=u;function y(A,a,R){if(a===void 0&&(a="kilometers"),R===void 0&&(R="kilometers"),!(A>=0))throw new Error("length must be a positive number");return c(x(A,a),R)}F.convertLength=y;function C(A,a,R){if(a===void 0&&(a="meters"),R===void 0&&(R="kilometers"),!(A>=0))throw new Error("area must be a positive number");var b=F.areaFactors[a];if(!b)throw new Error("invalid original units");var N=F.areaFactors[R];if(!N)throw new Error("invalid final units");return A/b*N}F.convertArea=C;function S(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}F.isNumber=S;function D(A){return!!A&&A.constructor===Object}F.isObject=D;function T(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(a){if(!S(a))throw new Error("bbox must only contain numbers")})}F.validateBBox=T;function P(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}F.validateId=P},27138:function(k,F,e){Object.defineProperty(F,"__esModule",{value:!0});var h=e(94228);function E(u,y,C){if(u!==null)for(var S,D,T,P,A,a,R,b=0,N=0,O,Y=u.type,B=Y==="FeatureCollection",W=Y==="Feature",H=B?u.features.length:1,U=0;U<H;U++){R=B?u.features[U].geometry:W?u.geometry:u,O=R?R.type==="GeometryCollection":!1,A=O?R.geometries.length:1;for(var G=0;G<A;G++){var j=0,re=0;if(P=O?R.geometries[G]:R,P!==null){a=P.coordinates;var ae=P.type;switch(b=C&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(y(a,N,U,j,re)===!1)return!1;N++,j++;break;case"LineString":case"MultiPoint":for(S=0;S<a.length;S++){if(y(a[S],N,U,j,re)===!1)return!1;N++,ae==="MultiPoint"&&j++}ae==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(S=0;S<a.length;S++){for(D=0;D<a[S].length-b;D++){if(y(a[S][D],N,U,j,re)===!1)return!1;N++}ae==="MultiLineString"&&j++,ae==="Polygon"&&re++}ae==="Polygon"&&j++;break;case"MultiPolygon":for(S=0;S<a.length;S++){for(re=0,D=0;D<a[S].length;D++){for(T=0;T<a[S][D].length-b;T++){if(y(a[S][D][T],N,U,j,re)===!1)return!1;N++}re++}j++}break;case"GeometryCollection":for(S=0;S<P.geometries.length;S++)if(E(P.geometries[S],y,C)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(u,y,C,S){var D=C;return E(u,function(T,P,A,a,R){P===0&&C===void 0?D=T:D=y(D,T,P,A,a,R)},S),D}function L(u,y){var C;switch(u.type){case"FeatureCollection":for(C=0;C<u.features.length&&y(u.features[C].properties,C)!==!1;C++);break;case"Feature":y(u.properties,0);break}}function w(u,y,C){var S=C;return L(u,function(D,T){T===0&&C===void 0?S=D:S=y(S,D,T)}),S}function p(u,y){if(u.type==="Feature")y(u,0);else if(u.type==="FeatureCollection")for(var C=0;C<u.features.length&&y(u.features[C],C)!==!1;C++);}function m(u,y,C){var S=C;return p(u,function(D,T){T===0&&C===void 0?S=D:S=y(S,D,T)}),S}function t(u){var y=[];return E(u,function(C){y.push(C)}),y}function r(u,y){var C,S,D,T,P,A,a,R,b,N,O=0,Y=u.type==="FeatureCollection",B=u.type==="Feature",W=Y?u.features.length:1;for(C=0;C<W;C++){for(A=Y?u.features[C].geometry:B?u.geometry:u,R=Y?u.features[C].properties:B?u.properties:{},b=Y?u.features[C].bbox:B?u.bbox:void 0,N=Y?u.features[C].id:B?u.id:void 0,a=A?A.type==="GeometryCollection":!1,P=a?A.geometries.length:1,D=0;D<P;D++){if(T=a?A.geometries[D]:A,T===null){if(y(null,O,R,b,N)===!1)return!1;continue}switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(y(T,O,R,b,N)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<T.geometries.length;S++)if(y(T.geometries[S],O,R,b,N)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}O++}}function l(u,y,C){var S=C;return r(u,function(D,T,P,A,a){T===0&&C===void 0?S=D:S=y(S,D,T,P,A,a)}),S}function i(u,y){r(u,function(C,S,D,T,P){var A=C===null?null:C.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return y(h.feature(C,D,{bbox:T,id:P}),S,0)===!1?!1:void 0}var a;switch(A){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var R=0;R<C.coordinates.length;R++){var b=C.coordinates[R],N={type:a,coordinates:b};if(y(h.feature(N,D),S,R)===!1)return!1}})}function f(u,y,C){var S=C;return i(u,function(D,T,P){T===0&&P===0&&C===void 0?S=D:S=y(S,D,T,P)}),S}function v(u,y){i(u,function(C,S,D){var T=0;if(C.geometry){var P=C.geometry.type;if(!(P==="Point"||P==="MultiPoint")){var A,a=0,R=0,b=0;if(E(C,function(N,O,Y,B,W){if(A===void 0||S>a||B>R||W>b){A=N,a=S,R=B,b=W,T=0;return}var H=h.lineString([A,N],C.properties);if(y(H,S,D,W,T)===!1)return!1;T++,A=N})===!1)return!1}}})}function c(u,y,C){var S=C,D=!1;return v(u,function(T,P,A,a,R){D===!1&&C===void 0?S=T:S=y(S,T,P,A,a,R),D=!0}),S}function x(u,y){if(!u)throw new Error("geojson is required");i(u,function(C,S,D){if(C.geometry!==null){var T=C.geometry.type,P=C.geometry.coordinates;switch(T){case"LineString":if(y(C,S,D,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<P.length;A++)if(y(h.lineString(P[A],C.properties),S,D,A)===!1)return!1;break}}})}function d(u,y,C){var S=C;return x(u,function(D,T,P,A){T===0&&C===void 0?S=D:S=y(S,D,T,P,A)}),S}function M(u,y){if(y=y||{},!h.isObject(y))throw new Error("options is invalid");var C=y.featureIndex||0,S=y.multiFeatureIndex||0,D=y.geometryIndex||0,T=y.segmentIndex||0,P=y.properties,A;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),P=P||u.features[C].properties,A=u.features[C].geometry;break;case"Feature":P=P||u.properties,A=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=u;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var a=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=a.length+T-1),h.lineString([a[T],a[T+1]],P,y);case"Polygon":return D<0&&(D=a.length+D),T<0&&(T=a[D].length+T-1),h.lineString([a[D][T],a[D][T+1]],P,y);case"MultiLineString":return S<0&&(S=a.length+S),T<0&&(T=a[S].length+T-1),h.lineString([a[S][T],a[S][T+1]],P,y);case"MultiPolygon":return S<0&&(S=a.length+S),D<0&&(D=a[S].length+D),T<0&&(T=a[S][D].length-T-1),h.lineString([a[S][D][T],a[S][D][T+1]],P,y)}throw new Error("geojson is invalid")}function g(u,y){if(y=y||{},!h.isObject(y))throw new Error("options is invalid");var C=y.featureIndex||0,S=y.multiFeatureIndex||0,D=y.geometryIndex||0,T=y.coordIndex||0,P=y.properties,A;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),P=P||u.features[C].properties,A=u.features[C].geometry;break;case"Feature":P=P||u.properties,A=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=u;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var a=A.coordinates;switch(A.type){case"Point":return h.point(a,P,y);case"MultiPoint":return S<0&&(S=a.length+S),h.point(a[S],P,y);case"LineString":return T<0&&(T=a.length+T),h.point(a[T],P,y);case"Polygon":return D<0&&(D=a.length+D),T<0&&(T=a[D].length+T),h.point(a[D][T],P,y);case"MultiLineString":return S<0&&(S=a.length+S),T<0&&(T=a[S].length+T),h.point(a[S][T],P,y);case"MultiPolygon":return S<0&&(S=a.length+S),D<0&&(D=a[S].length+D),T<0&&(T=a[S][D].length-T),h.point(a[S][D][T],P,y)}throw new Error("geojson is invalid")}F.coordEach=E,F.coordReduce=n,F.propEach=L,F.propReduce=w,F.featureEach=p,F.featureReduce=m,F.coordAll=t,F.geomEach=r,F.geomReduce=l,F.flattenEach=i,F.flattenReduce=f,F.segmentEach=v,F.segmentReduce=c,F.lineEach=x,F.lineReduce=d,F.findSegment=M,F.findPoint=g},29261:function(k,F,e){Object.defineProperty(F,"__esModule",{value:!0});var h=e(88553),E=e(64182);function n(L,w){w===void 0&&(w={});var p=0,m=0,t=0;return h.coordEach(L,function(r){p+=r[0],m+=r[1],t++}),E.point([p/t,m/t],w.properties)}F.default=n},64182:function(k,F){Object.defineProperty(F,"__esModule",{value:!0}),F.earthRadius=63710088e-1,F.factors={centimeters:F.earthRadius*100,centimetres:F.earthRadius*100,degrees:F.earthRadius/111325,feet:F.earthRadius*3.28084,inches:F.earthRadius*39.37,kilometers:F.earthRadius/1e3,kilometres:F.earthRadius/1e3,meters:F.earthRadius,metres:F.earthRadius,miles:F.earthRadius/1609.344,millimeters:F.earthRadius*1e3,millimetres:F.earthRadius*1e3,nauticalmiles:F.earthRadius/1852,radians:1,yards:F.earthRadius/1.0936},F.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/F.earthRadius,yards:.91441111923921},F.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(B,W,H){H===void 0&&(H={});var U={type:"Feature"};return(H.id===0||H.id)&&(U.id=H.id),H.bbox&&(U.bbox=H.bbox),U.properties=W||{},U.geometry=B,U}F.feature=e;function h(B,W,H){switch(B){case"Point":return E(W).geometry;case"LineString":return p(W).geometry;case"Polygon":return L(W).geometry;case"MultiPoint":return l(W).geometry;case"MultiLineString":return r(W).geometry;case"MultiPolygon":return i(W).geometry;default:throw new Error(B+" is invalid")}}F.geometry=h;function E(B,W,H){H===void 0&&(H={});var U={type:"Point",coordinates:B};return e(U,W,H)}F.point=E;function n(B,W,H){return H===void 0&&(H={}),t(B.map(function(U){return E(U,W)}),H)}F.points=n;function L(B,W,H){H===void 0&&(H={});for(var U=0,G=B;U<G.length;U++){var j=G[U];if(j.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var re=0;re<j[j.length-1].length;re++)if(j[j.length-1][re]!==j[0][re])throw new Error("First and last Position are not equivalent.")}var ae={type:"Polygon",coordinates:B};return e(ae,W,H)}F.polygon=L;function w(B,W,H){return H===void 0&&(H={}),t(B.map(function(U){return L(U,W)}),H)}F.polygons=w;function p(B,W,H){if(H===void 0&&(H={}),B.length<2)throw new Error("coordinates must be an array of two or more positions");var U={type:"LineString",coordinates:B};return e(U,W,H)}F.lineString=p;function m(B,W,H){return H===void 0&&(H={}),t(B.map(function(U){return p(U,W)}),H)}F.lineStrings=m;function t(B,W){W===void 0&&(W={});var H={type:"FeatureCollection"};return W.id&&(H.id=W.id),W.bbox&&(H.bbox=W.bbox),H.features=B,H}F.featureCollection=t;function r(B,W,H){H===void 0&&(H={});var U={type:"MultiLineString",coordinates:B};return e(U,W,H)}F.multiLineString=r;function l(B,W,H){H===void 0&&(H={});var U={type:"MultiPoint",coordinates:B};return e(U,W,H)}F.multiPoint=l;function i(B,W,H){H===void 0&&(H={});var U={type:"MultiPolygon",coordinates:B};return e(U,W,H)}F.multiPolygon=i;function f(B,W,H){H===void 0&&(H={});var U={type:"GeometryCollection",geometries:B};return e(U,W,H)}F.geometryCollection=f;function v(B,W){if(W===void 0&&(W=0),W&&!(W>=0))throw new Error("precision must be a positive number");var H=Math.pow(10,W||0);return Math.round(B*H)/H}F.round=v;function c(B,W){W===void 0&&(W="kilometers");var H=F.factors[W];if(!H)throw new Error(W+" units is invalid");return B*H}F.radiansToLength=c;function x(B,W){W===void 0&&(W="kilometers");var H=F.factors[W];if(!H)throw new Error(W+" units is invalid");return B/H}F.lengthToRadians=x;function d(B,W){return g(x(B,W))}F.lengthToDegrees=d;function M(B){var W=B%360;return W<0&&(W+=360),W}F.bearingToAzimuth=M;function g(B){var W=B%(2*Math.PI);return W*180/Math.PI}F.radiansToDegrees=g;function u(B){var W=B%360;return W*Math.PI/180}F.degreesToRadians=u;function y(B,W,H){if(W===void 0&&(W="kilometers"),H===void 0&&(H="kilometers"),!(B>=0))throw new Error("length must be a positive number");return c(x(B,W),H)}F.convertLength=y;function C(B,W,H){if(W===void 0&&(W="meters"),H===void 0&&(H="kilometers"),!(B>=0))throw new Error("area must be a positive number");var U=F.areaFactors[W];if(!U)throw new Error("invalid original units");var G=F.areaFactors[H];if(!G)throw new Error("invalid final units");return B/U*G}F.convertArea=C;function S(B){return!isNaN(B)&&B!==null&&!Array.isArray(B)&&!/^\s*$/.test(B)}F.isNumber=S;function D(B){return!!B&&B.constructor===Object}F.isObject=D;function T(B){if(!B)throw new Error("bbox is required");if(!Array.isArray(B))throw new Error("bbox must be an Array");if(B.length!==4&&B.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");B.forEach(function(W){if(!S(W))throw new Error("bbox must only contain numbers")})}F.validateBBox=T;function P(B){if(!B)throw new Error("id is required");if(["string","number"].indexOf(typeof B)===-1)throw new Error("id must be a number or a string")}F.validateId=P;function A(){throw new Error("method has been renamed to `radiansToDegrees`")}F.radians2degrees=A;function a(){throw new Error("method has been renamed to `degreesToRadians`")}F.degrees2radians=a;function R(){throw new Error("method has been renamed to `lengthToDegrees`")}F.distanceToDegrees=R;function b(){throw new Error("method has been renamed to `lengthToRadians`")}F.distanceToRadians=b;function N(){throw new Error("method has been renamed to `radiansToLength`")}F.radiansToDistance=N;function O(){throw new Error("method has been renamed to `bearingToAzimuth`")}F.bearingToAngle=O;function Y(){throw new Error("method has been renamed to `convertLength`")}F.convertDistance=Y},88553:function(k,F,e){Object.defineProperty(F,"__esModule",{value:!0});var h=e(64182);function E(u,y,C){if(u!==null)for(var S,D,T,P,A,a,R,b=0,N=0,O,Y=u.type,B=Y==="FeatureCollection",W=Y==="Feature",H=B?u.features.length:1,U=0;U<H;U++){R=B?u.features[U].geometry:W?u.geometry:u,O=R?R.type==="GeometryCollection":!1,A=O?R.geometries.length:1;for(var G=0;G<A;G++){var j=0,re=0;if(P=O?R.geometries[G]:R,P!==null){a=P.coordinates;var ae=P.type;switch(b=C&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(y(a,N,U,j,re)===!1)return!1;N++,j++;break;case"LineString":case"MultiPoint":for(S=0;S<a.length;S++){if(y(a[S],N,U,j,re)===!1)return!1;N++,ae==="MultiPoint"&&j++}ae==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(S=0;S<a.length;S++){for(D=0;D<a[S].length-b;D++){if(y(a[S][D],N,U,j,re)===!1)return!1;N++}ae==="MultiLineString"&&j++,ae==="Polygon"&&re++}ae==="Polygon"&&j++;break;case"MultiPolygon":for(S=0;S<a.length;S++){for(re=0,D=0;D<a[S].length;D++){for(T=0;T<a[S][D].length-b;T++){if(y(a[S][D][T],N,U,j,re)===!1)return!1;N++}re++}j++}break;case"GeometryCollection":for(S=0;S<P.geometries.length;S++)if(E(P.geometries[S],y,C)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(u,y,C,S){var D=C;return E(u,function(T,P,A,a,R){P===0&&C===void 0?D=T:D=y(D,T,P,A,a,R)},S),D}function L(u,y){var C;switch(u.type){case"FeatureCollection":for(C=0;C<u.features.length&&y(u.features[C].properties,C)!==!1;C++);break;case"Feature":y(u.properties,0);break}}function w(u,y,C){var S=C;return L(u,function(D,T){T===0&&C===void 0?S=D:S=y(S,D,T)}),S}function p(u,y){if(u.type==="Feature")y(u,0);else if(u.type==="FeatureCollection")for(var C=0;C<u.features.length&&y(u.features[C],C)!==!1;C++);}function m(u,y,C){var S=C;return p(u,function(D,T){T===0&&C===void 0?S=D:S=y(S,D,T)}),S}function t(u){var y=[];return E(u,function(C){y.push(C)}),y}function r(u,y){var C,S,D,T,P,A,a,R,b,N,O=0,Y=u.type==="FeatureCollection",B=u.type==="Feature",W=Y?u.features.length:1;for(C=0;C<W;C++){for(A=Y?u.features[C].geometry:B?u.geometry:u,R=Y?u.features[C].properties:B?u.properties:{},b=Y?u.features[C].bbox:B?u.bbox:void 0,N=Y?u.features[C].id:B?u.id:void 0,a=A?A.type==="GeometryCollection":!1,P=a?A.geometries.length:1,D=0;D<P;D++){if(T=a?A.geometries[D]:A,T===null){if(y(null,O,R,b,N)===!1)return!1;continue}switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(y(T,O,R,b,N)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<T.geometries.length;S++)if(y(T.geometries[S],O,R,b,N)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}O++}}function l(u,y,C){var S=C;return r(u,function(D,T,P,A,a){T===0&&C===void 0?S=D:S=y(S,D,T,P,A,a)}),S}function i(u,y){r(u,function(C,S,D,T,P){var A=C===null?null:C.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return y(h.feature(C,D,{bbox:T,id:P}),S,0)===!1?!1:void 0}var a;switch(A){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var R=0;R<C.coordinates.length;R++){var b=C.coordinates[R],N={type:a,coordinates:b};if(y(h.feature(N,D),S,R)===!1)return!1}})}function f(u,y,C){var S=C;return i(u,function(D,T,P){T===0&&P===0&&C===void 0?S=D:S=y(S,D,T,P)}),S}function v(u,y){i(u,function(C,S,D){var T=0;if(C.geometry){var P=C.geometry.type;if(!(P==="Point"||P==="MultiPoint")){var A,a=0,R=0,b=0;if(E(C,function(N,O,Y,B,W){if(A===void 0||S>a||B>R||W>b){A=N,a=S,R=B,b=W,T=0;return}var H=h.lineString([A,N],C.properties);if(y(H,S,D,W,T)===!1)return!1;T++,A=N})===!1)return!1}}})}function c(u,y,C){var S=C,D=!1;return v(u,function(T,P,A,a,R){D===!1&&C===void 0?S=T:S=y(S,T,P,A,a,R),D=!0}),S}function x(u,y){if(!u)throw new Error("geojson is required");i(u,function(C,S,D){if(C.geometry!==null){var T=C.geometry.type,P=C.geometry.coordinates;switch(T){case"LineString":if(y(C,S,D,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<P.length;A++)if(y(h.lineString(P[A],C.properties),S,D,A)===!1)return!1;break}}})}function d(u,y,C){var S=C;return x(u,function(D,T,P,A){T===0&&C===void 0?S=D:S=y(S,D,T,P,A)}),S}function M(u,y){if(y=y||{},!h.isObject(y))throw new Error("options is invalid");var C=y.featureIndex||0,S=y.multiFeatureIndex||0,D=y.geometryIndex||0,T=y.segmentIndex||0,P=y.properties,A;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),P=P||u.features[C].properties,A=u.features[C].geometry;break;case"Feature":P=P||u.properties,A=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=u;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var a=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=a.length+T-1),h.lineString([a[T],a[T+1]],P,y);case"Polygon":return D<0&&(D=a.length+D),T<0&&(T=a[D].length+T-1),h.lineString([a[D][T],a[D][T+1]],P,y);case"MultiLineString":return S<0&&(S=a.length+S),T<0&&(T=a[S].length+T-1),h.lineString([a[S][T],a[S][T+1]],P,y);case"MultiPolygon":return S<0&&(S=a.length+S),D<0&&(D=a[S].length+D),T<0&&(T=a[S][D].length-T-1),h.lineString([a[S][D][T],a[S][D][T+1]],P,y)}throw new Error("geojson is invalid")}function g(u,y){if(y=y||{},!h.isObject(y))throw new Error("options is invalid");var C=y.featureIndex||0,S=y.multiFeatureIndex||0,D=y.geometryIndex||0,T=y.coordIndex||0,P=y.properties,A;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),P=P||u.features[C].properties,A=u.features[C].geometry;break;case"Feature":P=P||u.properties,A=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=u;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var a=A.coordinates;switch(A.type){case"Point":return h.point(a,P,y);case"MultiPoint":return S<0&&(S=a.length+S),h.point(a[S],P,y);case"LineString":return T<0&&(T=a.length+T),h.point(a[T],P,y);case"Polygon":return D<0&&(D=a.length+D),T<0&&(T=a[D].length+T),h.point(a[D][T],P,y);case"MultiLineString":return S<0&&(S=a.length+S),T<0&&(T=a[S].length+T),h.point(a[S][T],P,y);case"MultiPolygon":return S<0&&(S=a.length+S),D<0&&(D=a[S].length+D),T<0&&(T=a[S][D].length-T),h.point(a[S][D][T],P,y)}throw new Error("geojson is invalid")}F.coordEach=E,F.coordReduce=n,F.propEach=L,F.propReduce=w,F.featureEach=p,F.featureReduce=m,F.coordAll=t,F.geomEach=r,F.geomReduce=l,F.flattenEach=i,F.flattenReduce=f,F.segmentEach=v,F.segmentReduce=c,F.lineEach=x,F.lineReduce=d,F.findSegment=M,F.findPoint=g},65185:function(k){k.exports=F;function F(e){var h=0,E=0,n=0,L=0;return e.map(function(w){w=w.slice();var p=w[0],m=p.toUpperCase();if(p!=m)switch(w[0]=m,p){case"a":w[6]+=n,w[7]+=L;break;case"v":w[1]+=L;break;case"h":w[1]+=n;break;default:for(var t=1;t<w.length;)w[t++]+=n,w[t++]+=L}switch(m){case"Z":n=h,L=E;break;case"H":n=w[1];break;case"V":L=w[1];break;case"M":n=h=w[1],L=E=w[2];break;default:n=w[w.length-2],L=w[w.length-1]}return w})}},21527:function(k){k.exports=F;function F(e,h){if(!e||e.length==null)throw Error("Argument should be an array");h==null?h=1:h=Math.floor(h);for(var E=Array(h*2),n=0;n<h;n++){for(var L=-1/0,w=1/0,p=n,m=e.length;p<m;p+=h)e[p]>L&&(L=e[p]),e[p]<w&&(w=e[p]);E[n]=w,E[h+n]=L}return E}},6851:function(k){k.exports=function(F,e,h){if(typeof Array.prototype.findIndex=="function")return F.findIndex(e,h);if(typeof e!="function")throw new TypeError("predicate must be a function");var E=Object(F),n=E.length;if(n===0)return-1;for(var L=0;L<n;L++)if(e.call(h,E[L],L,E))return L;return-1}},54:function(k,F,e){var h=e(21527);k.exports=E;function E(n,L,w){if(!n||n.length==null)throw Error("Argument should be an array");L==null&&(L=1),w==null&&(w=h(n,L));for(var p=0;p<L;p++){var m=w[L+p],t=w[p],r=p,l=n.length;if(m===1/0&&t===-1/0)for(r=p;r<l;r+=L)n[r]=n[r]===m?1:n[r]===t?0:.5;else if(m===1/0)for(r=p;r<l;r+=L)n[r]=n[r]===m?1:0;else if(t===-1/0)for(r=p;r<l;r+=L)n[r]=n[r]===t?0:1;else{var i=m-t;for(r=p;r<l;r+=L)isNaN(n[r])||(n[r]=i===0?.5:(n[r]-t)/i)}}return n}},57471:function(k){k.exports=function(e,h){var E=typeof e=="number",n=typeof h=="number";E&&!n?(h=e,e=0):!E&&!n&&(e=0,h=0),e=e|0,h=h|0;var L=h-e;if(L<0)throw new Error("array length must be positive");for(var w=new Array(L),p=0,m=e;p<L;p++,m++)w[p]=m;return w}},32791:function(k,F,e){var h=e(90386);function E(re){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(ue){return typeof ue}:E=function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},E(re)}function n(re,ae){if(!(re instanceof ae))throw new TypeError("Cannot call a class as a function")}var L=e(79616),w=L.codes,p=w.ERR_AMBIGUOUS_ARGUMENT,m=w.ERR_INVALID_ARG_TYPE,t=w.ERR_INVALID_ARG_VALUE,r=w.ERR_INVALID_RETURN_VALUE,l=w.ERR_MISSING_ARGS,i=e(73894),f=e(43827),v=f.inspect,c=e(43827).types,x=c.isPromise,d=c.isRegExp,M=Object.assign?Object.assign:e(73523).assign,g=Object.is?Object.is:e(64003),u,y;function C(){var re=e(74061);u=re.isDeepEqual,y=re.isDeepStrictEqual}var S=!1,D=k.exports=R,T={};function P(re){throw re.message instanceof Error?re.message:new i(re)}function A(re,ae,ue,de,ee){var X=arguments.length,Q;if(X===0)Q="Failed";else if(X===1)ue=re,re=void 0;else{if(S===!1){S=!0;var $=h.emitWarning?h.emitWarning:console.warn.bind(console);$("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}X===2&&(de="!=")}if(ue instanceof Error)throw ue;var ne={actual:re,expected:ae,operator:de===void 0?"fail":de,stackStartFn:ee||A};ue!==void 0&&(ne.message=ue);var fe=new i(ne);throw Q&&(fe.message=Q,fe.generatedMessage=!0),fe}D.fail=A,D.AssertionError=i;function a(re,ae,ue,de){if(!ue){var ee=!1;if(ae===0)ee=!0,de="No value argument passed to `assert.ok()`";else if(de instanceof Error)throw de;var X=new i({actual:ue,expected:!0,message:de,operator:"==",stackStartFn:re});throw X.generatedMessage=ee,X}}function R(){for(var re=arguments.length,ae=new Array(re),ue=0;ue<re;ue++)ae[ue]=arguments[ue];a.apply(void 0,[R,ae.length].concat(ae))}D.ok=R,D.equal=function re(ae,ue,de){if(arguments.length<2)throw new l("actual","expected");ae!=ue&&P({actual:ae,expected:ue,message:de,operator:"==",stackStartFn:re})},D.notEqual=function re(ae,ue,de){if(arguments.length<2)throw new l("actual","expected");ae==ue&&P({actual:ae,expected:ue,message:de,operator:"!=",stackStartFn:re})},D.deepEqual=function re(ae,ue,de){if(arguments.length<2)throw new l("actual","expected");u===void 0&&C(),u(ae,ue)||P({actual:ae,expected:ue,message:de,operator:"deepEqual",stackStartFn:re})},D.notDeepEqual=function re(ae,ue,de){if(arguments.length<2)throw new l("actual","expected");u===void 0&&C(),u(ae,ue)&&P({actual:ae,expected:ue,message:de,operator:"notDeepEqual",stackStartFn:re})},D.deepStrictEqual=function re(ae,ue,de){if(arguments.length<2)throw new l("actual","expected");u===void 0&&C(),y(ae,ue)||P({actual:ae,expected:ue,message:de,operator:"deepStrictEqual",stackStartFn:re})},D.notDeepStrictEqual=b;function b(re,ae,ue){if(arguments.length<2)throw new l("actual","expected");u===void 0&&C(),y(re,ae)&&P({actual:re,expected:ae,message:ue,operator:"notDeepStrictEqual",stackStartFn:b})}D.strictEqual=function re(ae,ue,de){if(arguments.length<2)throw new l("actual","expected");g(ae,ue)||P({actual:ae,expected:ue,message:de,operator:"strictEqual",stackStartFn:re})},D.notStrictEqual=function re(ae,ue,de){if(arguments.length<2)throw new l("actual","expected");g(ae,ue)&&P({actual:ae,expected:ue,message:de,operator:"notStrictEqual",stackStartFn:re})};var N=function re(ae,ue,de){var ee=this;n(this,re),ue.forEach(function(X){X in ae&&(de!==void 0&&typeof de[X]=="string"&&d(ae[X])&&ae[X].test(de[X])?ee[X]=de[X]:ee[X]=ae[X])})};function O(re,ae,ue,de,ee,X){if(!(ue in re)||!y(re[ue],ae[ue])){if(!de){var Q=new N(re,ee),$=new N(ae,ee,re),ne=new i({actual:Q,expected:$,operator:"deepStrictEqual",stackStartFn:X});throw ne.actual=re,ne.expected=ae,ne.operator=X.name,ne}P({actual:re,expected:ae,message:de,operator:X.name,stackStartFn:X})}}function Y(re,ae,ue,de){if(typeof ae!="function"){if(d(ae))return ae.test(re);if(arguments.length===2)throw new m("expected",["Function","RegExp"],ae);if(E(re)!=="object"||re===null){var ee=new i({actual:re,expected:ae,message:ue,operator:"deepStrictEqual",stackStartFn:de});throw ee.operator=de.name,ee}var X=Object.keys(ae);if(ae instanceof Error)X.push("name","message");else if(X.length===0)throw new t("error",ae,"may not be an empty object");return u===void 0&&C(),X.forEach(function(Q){typeof re[Q]=="string"&&d(ae[Q])&&ae[Q].test(re[Q])||O(re,ae,Q,ue,X,de)}),!0}return ae.prototype!==void 0&&re instanceof ae?!0:Error.isPrototypeOf(ae)?!1:ae.call({},re)===!0}function B(re){if(typeof re!="function")throw new m("fn","Function",re);try{re()}catch(ae){return ae}return T}function W(re){return x(re)||re!==null&&E(re)==="object"&&typeof re.then=="function"&&typeof re.catch=="function"}function H(re){return Promise.resolve().then(function(){var ae;if(typeof re=="function"){if(ae=re(),!W(ae))throw new r("instance of Promise","promiseFn",ae)}else if(W(re))ae=re;else throw new m("promiseFn",["Function","Promise"],re);return Promise.resolve().then(function(){return ae}).then(function(){return T}).catch(function(ue){return ue})})}function U(re,ae,ue,de){if(typeof ue=="string"){if(arguments.length===4)throw new m("error",["Object","Error","Function","RegExp"],ue);if(E(ae)==="object"&&ae!==null){if(ae.message===ue)throw new p("error/message",'The error message "'.concat(ae.message,'" is identical to the message.'))}else if(ae===ue)throw new p("error/message",'The error "'.concat(ae,'" is identical to the message.'));de=ue,ue=void 0}else if(ue!=null&&E(ue)!=="object"&&typeof ue!="function")throw new m("error",["Object","Error","Function","RegExp"],ue);if(ae===T){var ee="";ue&&ue.name&&(ee+=" (".concat(ue.name,")")),ee+=de?": ".concat(de):".";var X=re.name==="rejects"?"rejection":"exception";P({actual:void 0,expected:ue,operator:re.name,message:"Missing expected ".concat(X).concat(ee),stackStartFn:re})}if(ue&&!Y(ae,ue,de,re))throw ae}function G(re,ae,ue,de){if(ae!==T){if(typeof ue=="string"&&(de=ue,ue=void 0),!ue||Y(ae,ue)){var ee=de?": ".concat(de):".",X=re.name==="doesNotReject"?"rejection":"exception";P({actual:ae,expected:ue,operator:re.name,message:"Got unwanted ".concat(X).concat(ee,`
`)+'Actual message: "'.concat(ae&&ae.message,'"'),stackStartFn:re})}throw ae}}D.throws=function re(ae){for(var ue=arguments.length,de=new Array(ue>1?ue-1:0),ee=1;ee<ue;ee++)de[ee-1]=arguments[ee];U.apply(void 0,[re,B(ae)].concat(de))},D.rejects=function re(ae){for(var ue=arguments.length,de=new Array(ue>1?ue-1:0),ee=1;ee<ue;ee++)de[ee-1]=arguments[ee];return H(ae).then(function(X){return U.apply(void 0,[re,X].concat(de))})},D.doesNotThrow=function re(ae){for(var ue=arguments.length,de=new Array(ue>1?ue-1:0),ee=1;ee<ue;ee++)de[ee-1]=arguments[ee];G.apply(void 0,[re,B(ae)].concat(de))},D.doesNotReject=function re(ae){for(var ue=arguments.length,de=new Array(ue>1?ue-1:0),ee=1;ee<ue;ee++)de[ee-1]=arguments[ee];return H(ae).then(function(X){return G.apply(void 0,[re,X].concat(de))})},D.ifError=function re(ae){if(ae!=null){var ue="ifError got unwanted exception: ";E(ae)==="object"&&typeof ae.message=="string"?ae.message.length===0&&ae.constructor?ue+=ae.constructor.name:ue+=ae.message:ue+=v(ae);var de=new i({actual:ae,expected:null,operator:"ifError",message:ue,stackStartFn:re}),ee=ae.stack;if(typeof ee=="string"){var X=ee.split(`
`);X.shift();for(var Q=de.stack.split(`
`),$=0;$<X.length;$++){var ne=Q.indexOf(X[$]);if(ne!==-1){Q=Q.slice(0,ne);break}}de.stack="".concat(Q.join(`
`),`
`).concat(X.join(`
`))}throw de}};function j(){for(var re=arguments.length,ae=new Array(re),ue=0;ue<re;ue++)ae[ue]=arguments[ue];a.apply(void 0,[j,ae.length].concat(ae))}D.strict=M(j,D,{equal:D.strictEqual,deepEqual:D.deepStrictEqual,notEqual:D.notStrictEqual,notDeepEqual:D.notDeepStrictEqual}),D.strict.strict=D.strict},73894:function(k,F,e){var h=e(90386);function E(B){for(var W=1;W<arguments.length;W++){var H=arguments[W]!=null?arguments[W]:{},U=Object.keys(H);typeof Object.getOwnPropertySymbols=="function"&&(U=U.concat(Object.getOwnPropertySymbols(H).filter(function(G){return Object.getOwnPropertyDescriptor(H,G).enumerable}))),U.forEach(function(G){n(B,G,H[G])})}return B}function n(B,W,H){return W in B?Object.defineProperty(B,W,{value:H,enumerable:!0,configurable:!0,writable:!0}):B[W]=H,B}function L(B,W){if(!(B instanceof W))throw new TypeError("Cannot call a class as a function")}function w(B,W){for(var H=0;H<W.length;H++){var U=W[H];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,U.key,U)}}function p(B,W,H){return W&&w(B.prototype,W),H&&w(B,H),B}function m(B,W){return W&&(d(W)==="object"||typeof W=="function")?W:t(B)}function t(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function r(B,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(W&&W.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),W&&c(B,W)}function l(B){var W=typeof Map=="function"?new Map:void 0;return l=function(U){if(U===null||!v(U))return U;if(typeof U!="function")throw new TypeError("Super expression must either be null or a function");if(typeof W<"u"){if(W.has(U))return W.get(U);W.set(U,G)}function G(){return f(U,arguments,x(this).constructor)}return G.prototype=Object.create(U.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),c(G,U)},l(B)}function i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(B,W,H){return i()?f=Reflect.construct:f=function(G,j,re){var ae=[null];ae.push.apply(ae,j);var ue=Function.bind.apply(G,ae),de=new ue;return re&&c(de,re.prototype),de},f.apply(null,arguments)}function v(B){return Function.toString.call(B).indexOf("[native code]")!==-1}function c(B,W){return c=Object.setPrototypeOf||function(U,G){return U.__proto__=G,U},c(B,W)}function x(B){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},x(B)}function d(B){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(H){return typeof H}:d=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},d(B)}var M=e(43827),g=M.inspect,u=e(79616),y=u.codes.ERR_INVALID_ARG_TYPE;function C(B,W,H){return(H===void 0||H>B.length)&&(H=B.length),B.substring(H-W.length,H)===W}function S(B,W){if(W=Math.floor(W),B.length==0||W==0)return"";var H=B.length*W;for(W=Math.floor(Math.log(W)/Math.log(2));W;)B+=B,W--;return B+=B.substring(0,H-B.length),B}var D="",T="",P="",A="",a={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},R=10;function b(B){var W=Object.keys(B),H=Object.create(Object.getPrototypeOf(B));return W.forEach(function(U){H[U]=B[U]}),Object.defineProperty(H,"message",{value:B.message}),H}function N(B){return g(B,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function O(B,W,H){var U="",G="",j=0,re="",ae=!1,ue=N(B),de=ue.split(`
`),ee=N(W).split(`
`),X=0,Q="";if(H==="strictEqual"&&d(B)==="object"&&d(W)==="object"&&B!==null&&W!==null&&(H="strictEqualObject"),de.length===1&&ee.length===1&&de[0]!==ee[0]){var $=de[0].length+ee[0].length;if($<=R){if((d(B)!=="object"||B===null)&&(d(W)!=="object"||W===null)&&(B!==0||W!==0))return"".concat(a[H],`

`)+"".concat(de[0]," !== ").concat(ee[0],`
`)}else if(H!=="strictEqualObject"){var ne=h.stderr&&h.stderr.isTTY?h.stderr.columns:80;if($<ne){for(;de[0][X]===ee[0][X];)X++;X>2&&(Q=`
  `.concat(S(" ",X),"^"),X=0)}}}for(var fe=de[de.length-1],te=ee[ee.length-1];fe===te&&(X++<2?re=`
  `.concat(fe).concat(re):U=fe,de.pop(),ee.pop(),!(de.length===0||ee.length===0));)fe=de[de.length-1],te=ee[ee.length-1];var q=Math.max(de.length,ee.length);if(q===0){var he=ue.split(`
`);if(he.length>30)for(he[26]="".concat(D,"...").concat(A);he.length>27;)he.pop();return"".concat(a.notIdentical,`

`).concat(he.join(`
`),`
`)}X>3&&(re=`
`.concat(D,"...").concat(A).concat(re),ae=!0),U!==""&&(re=`
  `.concat(U).concat(re),U="");var se=0,pe=a[H]+`
`.concat(T,"+ actual").concat(A," ").concat(P,"- expected").concat(A),we=" ".concat(D,"...").concat(A," Lines skipped");for(X=0;X<q;X++){var Ee=X-j;if(de.length<X+1)Ee>1&&X>2&&(Ee>4?(G+=`
`.concat(D,"...").concat(A),ae=!0):Ee>3&&(G+=`
  `.concat(ee[X-2]),se++),G+=`
  `.concat(ee[X-1]),se++),j=X,U+=`
`.concat(P,"-").concat(A," ").concat(ee[X]),se++;else if(ee.length<X+1)Ee>1&&X>2&&(Ee>4?(G+=`
`.concat(D,"...").concat(A),ae=!0):Ee>3&&(G+=`
  `.concat(de[X-2]),se++),G+=`
  `.concat(de[X-1]),se++),j=X,G+=`
`.concat(T,"+").concat(A," ").concat(de[X]),se++;else{var Me=ee[X],Be=de[X],Ne=Be!==Me&&(!C(Be,",")||Be.slice(0,-1)!==Me);Ne&&C(Me,",")&&Me.slice(0,-1)===Be&&(Ne=!1,Be+=","),Ne?(Ee>1&&X>2&&(Ee>4?(G+=`
`.concat(D,"...").concat(A),ae=!0):Ee>3&&(G+=`
  `.concat(de[X-2]),se++),G+=`
  `.concat(de[X-1]),se++),j=X,G+=`
`.concat(T,"+").concat(A," ").concat(Be),U+=`
`.concat(P,"-").concat(A," ").concat(Me),se+=2):(G+=U,U="",(Ee===1||X===0)&&(G+=`
  `.concat(Be),se++))}if(se>20&&X<q-2)return"".concat(pe).concat(we,`
`).concat(G,`
`).concat(D,"...").concat(A).concat(U,`
`)+"".concat(D,"...").concat(A)}return"".concat(pe).concat(ae?we:"",`
`).concat(G).concat(U).concat(re).concat(Q)}var Y=function(B){r(W,B);function W(H){var U;if(L(this,W),d(H)!=="object"||H===null)throw new y("options","Object",H);var G=H.message,j=H.operator,re=H.stackStartFn,ae=H.actual,ue=H.expected,de=Error.stackTraceLimit;if(Error.stackTraceLimit=0,G!=null)U=m(this,x(W).call(this,String(G)));else if(h.stderr&&h.stderr.isTTY&&(h.stderr&&h.stderr.getColorDepth&&h.stderr.getColorDepth()!==1?(D="\x1B[34m",T="\x1B[32m",A="\x1B[39m",P="\x1B[31m"):(D="",T="",A="",P="")),d(ae)==="object"&&ae!==null&&d(ue)==="object"&&ue!==null&&"stack"in ae&&ae instanceof Error&&"stack"in ue&&ue instanceof Error&&(ae=b(ae),ue=b(ue)),j==="deepStrictEqual"||j==="strictEqual")U=m(this,x(W).call(this,O(ae,ue,j)));else if(j==="notDeepStrictEqual"||j==="notStrictEqual"){var ee=a[j],X=N(ae).split(`
`);if(j==="notStrictEqual"&&d(ae)==="object"&&ae!==null&&(ee=a.notStrictEqualObject),X.length>30)for(X[26]="".concat(D,"...").concat(A);X.length>27;)X.pop();X.length===1?U=m(this,x(W).call(this,"".concat(ee," ").concat(X[0]))):U=m(this,x(W).call(this,"".concat(ee,`

`).concat(X.join(`
`),`
`)))}else{var Q=N(ae),$="",ne=a[j];j==="notDeepEqual"||j==="notEqual"?(Q="".concat(a[j],`

`).concat(Q),Q.length>1024&&(Q="".concat(Q.slice(0,1021),"..."))):($="".concat(N(ue)),Q.length>512&&(Q="".concat(Q.slice(0,509),"...")),$.length>512&&($="".concat($.slice(0,509),"...")),j==="deepEqual"||j==="equal"?Q="".concat(ne,`

`).concat(Q,`

should equal

`):$=" ".concat(j," ").concat($)),U=m(this,x(W).call(this,"".concat(Q).concat($)))}return Error.stackTraceLimit=de,U.generatedMessage=!G,Object.defineProperty(t(U),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),U.code="ERR_ASSERTION",U.actual=ae,U.expected=ue,U.operator=j,Error.captureStackTrace&&Error.captureStackTrace(t(U),re),U.stack,U.name="AssertionError",m(U)}return p(W,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:g.custom,value:function(U,G){return g(this,E({},G,{customInspect:!1,depth:0}))}}]),W}(l(Error));k.exports=Y},79616:function(k,F,e){function h(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(g){return typeof g}:h=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},h(d)}function E(d,M){if(!(d instanceof M))throw new TypeError("Cannot call a class as a function")}function n(d,M){return M&&(h(M)==="object"||typeof M=="function")?M:L(d)}function L(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function w(d){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},w(d)}function p(d,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(M&&M.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),M&&m(d,M)}function m(d,M){return m=Object.setPrototypeOf||function(u,y){return u.__proto__=y,u},m(d,M)}var t={},r,l;function i(d,M,g){g||(g=Error);function u(C,S,D){return typeof M=="string"?M:M(C,S,D)}var y=function(C){p(S,C);function S(D,T,P){var A;return E(this,S),A=n(this,w(S).call(this,u(D,T,P))),A.code=d,A}return S}(g);t[d]=y}function f(d,M){if(Array.isArray(d)){var g=d.length;return d=d.map(function(u){return String(u)}),g>2?"one of ".concat(M," ").concat(d.slice(0,g-1).join(", "),", or ")+d[g-1]:g===2?"one of ".concat(M," ").concat(d[0]," or ").concat(d[1]):"of ".concat(M," ").concat(d[0])}else return"of ".concat(M," ").concat(String(d))}function v(d,M,g){return d.substr(!g||g<0?0:+g,M.length)===M}function c(d,M,g){return(g===void 0||g>d.length)&&(g=d.length),d.substring(g-M.length,g)===M}function x(d,M,g){return typeof g!="number"&&(g=0),g+M.length>d.length?!1:d.indexOf(M,g)!==-1}i("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),i("ERR_INVALID_ARG_TYPE",function(d,M,g){r===void 0&&(r=e(32791)),r(typeof d=="string","'name' must be a string");var u;typeof M=="string"&&v(M,"not ")?(u="must not be",M=M.replace(/^not /,"")):u="must be";var y;if(c(d," argument"))y="The ".concat(d," ").concat(u," ").concat(f(M,"type"));else{var C=x(d,".")?"property":"argument";y='The "'.concat(d,'" ').concat(C," ").concat(u," ").concat(f(M,"type"))}return y+=". Received type ".concat(h(g)),y},TypeError),i("ERR_INVALID_ARG_VALUE",function(d,M){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";l===void 0&&(l=e(43827));var u=l.inspect(M);return u.length>128&&(u="".concat(u.slice(0,128),"...")),"The argument '".concat(d,"' ").concat(g,". Received ").concat(u)},TypeError),i("ERR_INVALID_RETURN_VALUE",function(d,M,g){var u;return g&&g.constructor&&g.constructor.name?u="instance of ".concat(g.constructor.name):u="type ".concat(h(g)),"Expected ".concat(d,' to be returned from the "').concat(M,'"')+" function but got ".concat(u,".")},TypeError),i("ERR_MISSING_ARGS",function(){for(var d=arguments.length,M=new Array(d),g=0;g<d;g++)M[g]=arguments[g];r===void 0&&(r=e(32791)),r(M.length>0,"At least one arg needs to be specified");var u="The ",y=M.length;switch(M=M.map(function(C){return'"'.concat(C,'"')}),y){case 1:u+="".concat(M[0]," argument");break;case 2:u+="".concat(M[0]," and ").concat(M[1]," arguments");break;default:u+=M.slice(0,y-1).join(", "),u+=", and ".concat(M[y-1]," arguments");break}return"".concat(u," must be specified")},TypeError),k.exports.codes=t},74061:function(k,F,e){function h(Ce,Te){return L(Ce)||n(Ce,Te)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(Ce,Te){var Le=[],Ve=!0,We=!1,Fe=void 0;try{for(var Ge=Ce[Symbol.iterator](),it;!(Ve=(it=Ge.next()).done)&&(Le.push(it.value),!(Te&&Le.length===Te));Ve=!0);}catch(qe){We=!0,Fe=qe}finally{try{!Ve&&Ge.return!=null&&Ge.return()}finally{if(We)throw Fe}}return Le}function L(Ce){if(Array.isArray(Ce))return Ce}function w(Ce){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(Le){return typeof Le}:w=function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},w(Ce)}var p=/a/g.flags!==void 0,m=function(Te){var Le=[];return Te.forEach(function(Ve){return Le.push(Ve)}),Le},t=function(Te){var Le=[];return Te.forEach(function(Ve,We){return Le.push([We,Ve])}),Le},r=Object.is?Object.is:e(64003),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},i=Number.isNaN?Number.isNaN:e(15567);function f(Ce){return Ce.call.bind(Ce)}var v=f(Object.prototype.hasOwnProperty),c=f(Object.prototype.propertyIsEnumerable),x=f(Object.prototype.toString),d=e(43827).types,M=d.isAnyArrayBuffer,g=d.isArrayBufferView,u=d.isDate,y=d.isMap,C=d.isRegExp,S=d.isSet,D=d.isNativeError,T=d.isBoxedPrimitive,P=d.isNumberObject,A=d.isStringObject,a=d.isBooleanObject,R=d.isBigIntObject,b=d.isSymbolObject,N=d.isFloat32Array,O=d.isFloat64Array;function Y(Ce){if(Ce.length===0||Ce.length>10)return!0;for(var Te=0;Te<Ce.length;Te++){var Le=Ce.charCodeAt(Te);if(Le<48||Le>57)return!0}return Ce.length===10&&Ce>=Math.pow(2,32)}function B(Ce){return Object.keys(Ce).filter(Y).concat(l(Ce).filter(Object.prototype.propertyIsEnumerable.bind(Ce)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function W(Ce,Te){if(Ce===Te)return 0;for(var Le=Ce.length,Ve=Te.length,We=0,Fe=Math.min(Le,Ve);We<Fe;++We)if(Ce[We]!==Te[We]){Le=Ce[We],Ve=Te[We];break}return Le<Ve?-1:Ve<Le?1:0}var H=!0,U=!1,G=0,j=1,re=2,ae=3;function ue(Ce,Te){return p?Ce.source===Te.source&&Ce.flags===Te.flags:RegExp.prototype.toString.call(Ce)===RegExp.prototype.toString.call(Te)}function de(Ce,Te){if(Ce.byteLength!==Te.byteLength)return!1;for(var Le=0;Le<Ce.byteLength;Le++)if(Ce[Le]!==Te[Le])return!1;return!0}function ee(Ce,Te){return Ce.byteLength!==Te.byteLength?!1:W(new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength),new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength))===0}function X(Ce,Te){return Ce.byteLength===Te.byteLength&&W(new Uint8Array(Ce),new Uint8Array(Te))===0}function Q(Ce,Te){return P(Ce)?P(Te)&&r(Number.prototype.valueOf.call(Ce),Number.prototype.valueOf.call(Te)):A(Ce)?A(Te)&&String.prototype.valueOf.call(Ce)===String.prototype.valueOf.call(Te):a(Ce)?a(Te)&&Boolean.prototype.valueOf.call(Ce)===Boolean.prototype.valueOf.call(Te):R(Ce)?R(Te)&&BigInt.prototype.valueOf.call(Ce)===BigInt.prototype.valueOf.call(Te):b(Te)&&Symbol.prototype.valueOf.call(Ce)===Symbol.prototype.valueOf.call(Te)}function $(Ce,Te,Le,Ve){if(Ce===Te)return Ce!==0?!0:Le?r(Ce,Te):!0;if(Le){if(w(Ce)!=="object")return typeof Ce=="number"&&i(Ce)&&i(Te);if(w(Te)!=="object"||Ce===null||Te===null||Object.getPrototypeOf(Ce)!==Object.getPrototypeOf(Te))return!1}else{if(Ce===null||w(Ce)!=="object")return Te===null||w(Te)!=="object"?Ce==Te:!1;if(Te===null||w(Te)!=="object")return!1}var We=x(Ce),Fe=x(Te);if(We!==Fe)return!1;if(Array.isArray(Ce)){if(Ce.length!==Te.length)return!1;var Ge=B(Ce),it=B(Te);return Ge.length!==it.length?!1:fe(Ce,Te,Le,Ve,j,Ge)}if(We==="[object Object]"&&(!y(Ce)&&y(Te)||!S(Ce)&&S(Te)))return!1;if(u(Ce)){if(!u(Te)||Date.prototype.getTime.call(Ce)!==Date.prototype.getTime.call(Te))return!1}else if(C(Ce)){if(!C(Te)||!ue(Ce,Te))return!1}else if(D(Ce)||Ce instanceof Error){if(Ce.message!==Te.message||Ce.name!==Te.name)return!1}else if(g(Ce)){if(!Le&&(N(Ce)||O(Ce))){if(!de(Ce,Te))return!1}else if(!ee(Ce,Te))return!1;var qe=B(Ce),$e=B(Te);return qe.length!==$e.length?!1:fe(Ce,Te,Le,Ve,G,qe)}else{if(S(Ce))return!S(Te)||Ce.size!==Te.size?!1:fe(Ce,Te,Le,Ve,re);if(y(Ce))return!y(Te)||Ce.size!==Te.size?!1:fe(Ce,Te,Le,Ve,ae);if(M(Ce)){if(!X(Ce,Te))return!1}else if(T(Ce)&&!Q(Ce,Te))return!1}return fe(Ce,Te,Le,Ve,G)}function ne(Ce,Te){return Te.filter(function(Le){return c(Ce,Le)})}function fe(Ce,Te,Le,Ve,We,Fe){if(arguments.length===5){Fe=Object.keys(Ce);var Ge=Object.keys(Te);if(Fe.length!==Ge.length)return!1}for(var it=0;it<Fe.length;it++)if(!v(Te,Fe[it]))return!1;if(Le&&arguments.length===5){var qe=l(Ce);if(qe.length!==0){var $e=0;for(it=0;it<qe.length;it++){var tt=qe[it];if(c(Ce,tt)){if(!c(Te,tt))return!1;Fe.push(tt),$e++}else if(c(Te,tt))return!1}var vt=l(Te);if(qe.length!==vt.length&&ne(Te,vt).length!==$e)return!1}else{var dt=l(Te);if(dt.length!==0&&ne(Te,dt).length!==0)return!1}}if(Fe.length===0&&(We===G||We===j&&Ce.length===0||Ce.size===0))return!0;if(Ve===void 0)Ve={val1:new Map,val2:new Map,position:0};else{var gt=Ve.val1.get(Ce);if(gt!==void 0){var Mt=Ve.val2.get(Te);if(Mt!==void 0)return gt===Mt}Ve.position++}Ve.val1.set(Ce,Ve.position),Ve.val2.set(Te,Ve.position);var Ct=Me(Ce,Te,Le,Fe,Ve,We);return Ve.val1.delete(Ce),Ve.val2.delete(Te),Ct}function te(Ce,Te,Le,Ve){for(var We=m(Ce),Fe=0;Fe<We.length;Fe++){var Ge=We[Fe];if($(Te,Ge,Le,Ve))return Ce.delete(Ge),!0}return!1}function q(Ce){switch(w(Ce)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ce=+Ce;case"number":if(i(Ce))return!1}return!0}function he(Ce,Te,Le){var Ve=q(Le);return Ve??(Te.has(Ve)&&!Ce.has(Ve))}function se(Ce,Te,Le,Ve,We){var Fe=q(Le);if(Fe!=null)return Fe;var Ge=Te.get(Fe);return Ge===void 0&&!Te.has(Fe)||!$(Ve,Ge,!1,We)?!1:!Ce.has(Fe)&&$(Ve,Ge,!1,We)}function pe(Ce,Te,Le,Ve){for(var We=null,Fe=m(Ce),Ge=0;Ge<Fe.length;Ge++){var it=Fe[Ge];if(w(it)==="object"&&it!==null)We===null&&(We=new Set),We.add(it);else if(!Te.has(it)){if(Le||!he(Ce,Te,it))return!1;We===null&&(We=new Set),We.add(it)}}if(We!==null){for(var qe=m(Te),$e=0;$e<qe.length;$e++){var tt=qe[$e];if(w(tt)==="object"&&tt!==null){if(!te(We,tt,Le,Ve))return!1}else if(!Le&&!Ce.has(tt)&&!te(We,tt,Le,Ve))return!1}return We.size===0}return!0}function we(Ce,Te,Le,Ve,We,Fe){for(var Ge=m(Ce),it=0;it<Ge.length;it++){var qe=Ge[it];if($(Le,qe,We,Fe)&&$(Ve,Te.get(qe),We,Fe))return Ce.delete(qe),!0}return!1}function Ee(Ce,Te,Le,Ve){for(var We=null,Fe=t(Ce),Ge=0;Ge<Fe.length;Ge++){var it=h(Fe[Ge],2),qe=it[0],$e=it[1];if(w(qe)==="object"&&qe!==null)We===null&&(We=new Set),We.add(qe);else{var tt=Te.get(qe);if(tt===void 0&&!Te.has(qe)||!$($e,tt,Le,Ve)){if(Le||!se(Ce,Te,qe,$e,Ve))return!1;We===null&&(We=new Set),We.add(qe)}}}if(We!==null){for(var vt=t(Te),dt=0;dt<vt.length;dt++){var gt=h(vt[dt],2),qe=gt[0],Mt=gt[1];if(w(qe)==="object"&&qe!==null){if(!we(We,Ce,qe,Mt,Le,Ve))return!1}else if(!Le&&(!Ce.has(qe)||!$(Ce.get(qe),Mt,!1,Ve))&&!we(We,Ce,qe,Mt,!1,Ve))return!1}return We.size===0}return!0}function Me(Ce,Te,Le,Ve,We,Fe){var Ge=0;if(Fe===re){if(!pe(Ce,Te,Le,We))return!1}else if(Fe===ae){if(!Ee(Ce,Te,Le,We))return!1}else if(Fe===j)for(;Ge<Ce.length;Ge++)if(v(Ce,Ge)){if(!v(Te,Ge)||!$(Ce[Ge],Te[Ge],Le,We))return!1}else{if(v(Te,Ge))return!1;for(var it=Object.keys(Ce);Ge<it.length;Ge++){var qe=it[Ge];if(!v(Te,qe)||!$(Ce[qe],Te[qe],Le,We))return!1}return it.length===Object.keys(Te).length}for(Ge=0;Ge<Ve.length;Ge++){var $e=Ve[Ge];if(!$(Ce[$e],Te[$e],Le,We))return!1}return!0}function Be(Ce,Te){return $(Ce,Te,U)}function Ne(Ce,Te){return $(Ce,Te,H)}k.exports={isDeepEqual:Be,isDeepStrictEqual:Ne}},95341:function(k,F){F.byteLength=m,F.toByteArray=r,F.fromByteArray=f;for(var e=[],h=[],E=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,w=n.length;L<w;++L)e[L]=n[L],h[n.charCodeAt(L)]=L;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63;function p(v){var c=v.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=v.indexOf("=");x===-1&&(x=c);var d=x===c?0:4-x%4;return[x,d]}function m(v){var c=p(v),x=c[0],d=c[1];return(x+d)*3/4-d}function t(v,c,x){return(c+x)*3/4-x}function r(v){var c,x=p(v),d=x[0],M=x[1],g=new E(t(v,d,M)),u=0,y=M>0?d-4:d,C;for(C=0;C<y;C+=4)c=h[v.charCodeAt(C)]<<18|h[v.charCodeAt(C+1)]<<12|h[v.charCodeAt(C+2)]<<6|h[v.charCodeAt(C+3)],g[u++]=c>>16&255,g[u++]=c>>8&255,g[u++]=c&255;return M===2&&(c=h[v.charCodeAt(C)]<<2|h[v.charCodeAt(C+1)]>>4,g[u++]=c&255),M===1&&(c=h[v.charCodeAt(C)]<<10|h[v.charCodeAt(C+1)]<<4|h[v.charCodeAt(C+2)]>>2,g[u++]=c>>8&255,g[u++]=c&255),g}function l(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function i(v,c,x){for(var d,M=[],g=c;g<x;g+=3)d=(v[g]<<16&16711680)+(v[g+1]<<8&65280)+(v[g+2]&255),M.push(l(d));return M.join("")}function f(v){for(var c,x=v.length,d=x%3,M=[],g=16383,u=0,y=x-d;u<y;u+=g)M.push(i(v,u,u+g>y?y:u+g));return d===1?(c=v[x-1],M.push(e[c>>2]+e[c<<4&63]+"==")):d===2&&(c=(v[x-2]<<8)+v[x-1],M.push(e[c>>10]+e[c>>4&63]+e[c<<2&63]+"=")),M.join("")}},91358:function(k){function F(w,p,m,t,r){for(var l=r+1;t<=r;){var i=t+r>>>1,f=w[i],v=m!==void 0?m(f,p):f-p;v>=0?(l=i,r=i-1):t=i+1}return l}function e(w,p,m,t,r){for(var l=r+1;t<=r;){var i=t+r>>>1,f=w[i],v=m!==void 0?m(f,p):f-p;v>0?(l=i,r=i-1):t=i+1}return l}function h(w,p,m,t,r){for(var l=t-1;t<=r;){var i=t+r>>>1,f=w[i],v=m!==void 0?m(f,p):f-p;v<0?(l=i,t=i+1):r=i-1}return l}function E(w,p,m,t,r){for(var l=t-1;t<=r;){var i=t+r>>>1,f=w[i],v=m!==void 0?m(f,p):f-p;v<=0?(l=i,t=i+1):r=i-1}return l}function n(w,p,m,t,r){for(;t<=r;){var l=t+r>>>1,i=w[l],f=m!==void 0?m(i,p):i-p;if(f===0)return l;f<=0?t=l+1:r=l-1}return-1}function L(w,p,m,t,r,l){return typeof m=="function"?l(w,p,m,t===void 0?0:t|0,r===void 0?w.length-1:r|0):l(w,p,void 0,m===void 0?0:m|0,t===void 0?w.length-1:t|0)}k.exports={ge:function(w,p,m,t,r){return L(w,p,m,t,r,F)},gt:function(w,p,m,t,r){return L(w,p,m,t,r,e)},lt:function(w,p,m,t,r){return L(w,p,m,t,r,h)},le:function(w,p,m,t,r){return L(w,p,m,t,r,E)},eq:function(w,p,m,t,r){return L(w,p,m,t,r,n)}}},13547:function(k,F){var e=32;F.INT_BITS=e,F.INT_MAX=2147483647,F.INT_MIN=-1<<e-1,F.sign=function(n){return(n>0)-(n<0)},F.abs=function(n){var L=n>>e-1;return(n^L)-L},F.min=function(n,L){return L^(n^L)&-(n<L)},F.max=function(n,L){return n^(n^L)&-(n<L)},F.isPow2=function(n){return!(n&n-1)&&!!n},F.log2=function(n){var L,w;return L=(n>65535)<<4,n>>>=L,w=(n>255)<<3,n>>>=w,L|=w,w=(n>15)<<2,n>>>=w,L|=w,w=(n>3)<<1,n>>>=w,L|=w,L|n>>1},F.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},F.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function h(n){var L=32;return n&=-n,n&&L--,n&65535&&(L-=16),n&16711935&&(L-=8),n&252645135&&(L-=4),n&858993459&&(L-=2),n&1431655765&&(L-=1),L}F.countTrailingZeros=h,F.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},F.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},F.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var E=new Array(256);(function(n){for(var L=0;L<256;++L){var w=L,p=L,m=7;for(w>>>=1;w;w>>>=1)p<<=1,p|=w&1,--m;n[L]=p<<m&255}})(E),F.reverse=function(n){return E[n&255]<<24|E[n>>>8&255]<<16|E[n>>>16&255]<<8|E[n>>>24&255]},F.interleave2=function(n,L){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,n|L<<1},F.deinterleave2=function(n,L){return n=n>>>L&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},F.interleave3=function(n,L,w){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,n|=L<<1,w&=1023,w=(w|w<<16)&4278190335,w=(w|w<<8)&251719695,w=(w|w<<4)&3272356035,w=(w|w<<2)&1227133513,n|w<<2},F.deinterleave3=function(n,L){return n=n>>>L&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},F.nextCombination=function(n){var L=n|n-1;return L+1|(~L&-~L)-1>>>h(n)+1}},44781:function(k,F,e){var h=e(53435);k.exports=n;var E=1e20;function n(p,m){m||(m={});var t=m.cutoff==null?.25:m.cutoff,r=m.radius==null?8:m.radius,l=m.channel||0,i,f,v,c,x,d,M,g,u,y,C;if(ArrayBuffer.isView(p)||Array.isArray(p)){if(!m.width||!m.height)throw Error("For raw data width and height should be provided by options");i=m.width,f=m.height,c=p,m.stride?d=m.stride:d=Math.floor(p.length/i/f)}else window.HTMLCanvasElement&&p instanceof window.HTMLCanvasElement?(g=p,M=g.getContext("2d"),i=g.width,f=g.height,u=M.getImageData(0,0,i,f),c=u.data,d=4):window.CanvasRenderingContext2D&&p instanceof window.CanvasRenderingContext2D?(g=p.canvas,M=p,i=g.width,f=g.height,u=M.getImageData(0,0,i,f),c=u.data,d=4):window.ImageData&&p instanceof window.ImageData&&(u=p,i=p.width,f=p.height,c=u.data,d=4);if(v=Math.max(i,f),window.Uint8ClampedArray&&c instanceof window.Uint8ClampedArray||window.Uint8Array&&c instanceof window.Uint8Array)for(x=c,c=Array(i*f),y=0,C=x.length;y<C;y++)c[y]=x[y*d+l]/255;else if(d!==1)throw Error("Raw data can have only 1 value per pixel");var S=Array(i*f),D=Array(i*f),T=Array(v),P=Array(v),A=Array(v+1),a=Array(v);for(y=0,C=i*f;y<C;y++){var R=c[y];S[y]=R===1?0:R===0?E:Math.pow(Math.max(0,.5-R),2),D[y]=R===1?E:R===0?0:Math.pow(Math.max(0,R-.5),2)}L(S,i,f,T,P,a,A),L(D,i,f,T,P,a,A);var b=window.Float32Array?new Float32Array(i*f):new Array(i*f);for(y=0,C=i*f;y<C;y++)b[y]=h(1-((S[y]-D[y])/r+t),0,1);return b}function L(p,m,t,r,l,i,f){for(var v=0;v<m;v++){for(var c=0;c<t;c++)r[c]=p[c*m+v];for(w(r,l,i,f,t),c=0;c<t;c++)p[c*m+v]=l[c]}for(c=0;c<t;c++){for(v=0;v<m;v++)r[v]=p[c*m+v];for(w(r,l,i,f,m),v=0;v<m;v++)p[c*m+v]=Math.sqrt(l[v])}}function w(p,m,t,r,l){t[0]=0,r[0]=-E,r[1]=+E;for(var i=1,f=0;i<l;i++){for(var v=(p[i]+i*i-(p[t[f]]+t[f]*t[f]))/(2*i-2*t[f]);v<=r[f];)f--,v=(p[i]+i*i-(p[t[f]]+t[f]*t[f]))/(2*i-2*t[f]);f++,t[f]=i,r[f]=v,r[f+1]=+E}for(i=0,f=0;i<l;i++){for(;r[f+1]<i;)f++;m[i]=(i-t[f])*(i-t[f])+p[t[f]]}}},6614:function(k,F,e){var h=e(68318),E=e(68222),n=E(h("String.prototype.indexOf"));k.exports=function(w,p){var m=h(w,!!p);return typeof m=="function"&&n(w,".prototype.")>-1?E(m):m}},68222:function(k,F,e){var h=e(77575),E=e(68318),n=E("%Function.prototype.apply%"),L=E("%Function.prototype.call%"),w=E("%Reflect.apply%",!0)||h.call(L,n),p=E("%Object.getOwnPropertyDescriptor%",!0),m=E("%Object.defineProperty%",!0),t=E("%Math.max%");if(m)try{m({},"a",{value:1})}catch{m=null}k.exports=function(i){var f=w(h,L,arguments);if(p&&m){var v=p(f,"length");v.configurable&&m(f,"length",{value:1+t(0,i.length-(arguments.length-1))})}return f};var r=function(){return w(h,n,arguments)};m?m(k.exports,"apply",{value:r}):k.exports.apply=r},53435:function(k){k.exports=F;function F(e,h,E){return h<E?e<h?h:e>E?E:e:e<E?E:e>h?h:e}},6475:function(k,F,e){var h=e(53435);k.exports=E,k.exports.to=E,k.exports.from=n;function E(L,w){w==null&&(w=!0);var p=L[0],m=L[1],t=L[2],r=L[3];r==null&&(r=w?1:255),w&&(p*=255,m*=255,t*=255,r*=255),p=h(p,0,255)&255,m=h(m,0,255)&255,t=h(t,0,255)&255,r=h(r,0,255)&255;var l=p*16777216+(m<<16)+(t<<8)+r;return l}function n(L,w){L=+L;var p=L>>>24,m=(L&16711680)>>>16,t=(L&65280)>>>8,r=L&255;return w===!1?[p,m,t,r]:[p/255,m/255,t/255,r/255]}},76857:function(k){k.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(k,F,e){var h=e(36652),E=e(53435),n=e(90660);k.exports=function(p,m){(m==="float"||!m)&&(m="array"),m==="uint"&&(m="uint8"),m==="uint_clamped"&&(m="uint8_clamped");var t=n(m),r=new t(4),l=m!=="uint8"&&m!=="uint8_clamped";return(!p.length||typeof p=="string")&&(p=h(p),p[0]/=255,p[1]/=255,p[2]/=255),L(p)?(r[0]=p[0],r[1]=p[1],r[2]=p[2],r[3]=p[3]!=null?p[3]:255,l&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(l?(r[0]=p[0],r[1]=p[1],r[2]=p[2],r[3]=p[3]!=null?p[3]:1):(r[0]=E(Math.floor(p[0]*255),0,255),r[1]=E(Math.floor(p[1]*255),0,255),r[2]=E(Math.floor(p[2]*255),0,255),r[3]=p[3]==null?255:E(Math.floor(p[3]*255),0,255)),r)};function L(w){return!!(w instanceof Uint8Array||w instanceof Uint8ClampedArray||Array.isArray(w)&&(w[0]>1||w[0]===0)&&(w[1]>1||w[1]===0)&&(w[2]>1||w[2]===0)&&(!w[3]||w[3]>1))}},90736:function(k,F,e){var h=e(76857),E=e(10973),n=e(46775);k.exports=w;var L={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function w(p){var m,t=[],r=1,l;if(typeof p=="string")if(h[p])t=h[p].slice(),l="rgb";else if(p==="transparent")r=0,l="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(p)){var i=p.slice(1),f=i.length,v=f<=4;r=1,v?(t=[parseInt(i[0]+i[0],16),parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16)],f===4&&(r=parseInt(i[3]+i[3],16)/255)):(t=[parseInt(i[0]+i[1],16),parseInt(i[2]+i[3],16),parseInt(i[4]+i[5],16)],f===8&&(r=parseInt(i[6]+i[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),l="rgb"}else if(m=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(p)){var c=m[1],x=c==="rgb",i=c.replace(/a$/,"");l=i;var f=i==="cmyk"?4:i==="gray"?1:3;t=m[2].trim().split(/\s*,\s*/).map(function(u,y){if(/%$/.test(u))return y===f?parseFloat(u)/100:i==="rgb"?parseFloat(u)*255/100:parseFloat(u);if(i[y]==="h"){if(/deg$/.test(u))return parseFloat(u);if(L[u]!==void 0)return L[u]}return parseFloat(u)}),c===i&&t.push(1),r=x||t[f]===void 0?1:t[f],t=t.slice(0,f)}else p.length>10&&/[0-9](?:\s|\/)/.test(p)&&(t=p.match(/([0-9]+)/g).map(function(M){return parseFloat(M)}),l=p.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(p))l="rgb",t=[p>>>16,(p&65280)>>>8,p&255];else if(E(p)){var d=n(p.r,p.red,p.R,null);d!==null?(l="rgb",t=[d,n(p.g,p.green,p.G),n(p.b,p.blue,p.B)]):(l="hsl",t=[n(p.h,p.hue,p.H),n(p.s,p.saturation,p.S),n(p.l,p.lightness,p.L,p.b,p.brightness)]),r=n(p.a,p.alpha,p.opacity,1),p.opacity!=null&&(r/=100)}else(Array.isArray(p)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(p))&&(t=[p[0],p[1],p[2]],l="rgb",r=p.length===4?p[3]:1);return{space:l,values:t,alpha:r}}},36652:function(k,F,e){var h=e(90736),E=e(80009),n=e(53435);k.exports=function(w){var p,m=h(w);return m.space?(p=Array(3),p[0]=n(m.values[0],0,255),p[1]=n(m.values[1],0,255),p[2]=n(m.values[2],0,255),m.space[0]==="h"&&(p=E.rgb(p)),p.push(n(m.alpha,0,1)),p):[]}},80009:function(k,F,e){var h=e(6866);k.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(E){var n=E[0]/360,L=E[1]/100,w=E[2]/100,p,m,t,r,l;if(L===0)return l=w*255,[l,l,l];w<.5?m=w*(1+L):m=w+L-w*L,p=2*w-m,r=[0,0,0];for(var i=0;i<3;i++)t=n+.3333333333333333*-(i-1),t<0?t++:t>1&&t--,6*t<1?l=p+(m-p)*6*t:2*t<1?l=m:3*t<2?l=p+(m-p)*(.6666666666666666-t)*6:l=p,r[i]=l*255;return r}},h.hsl=function(E){var n=E[0]/255,L=E[1]/255,w=E[2]/255,p=Math.min(n,L,w),m=Math.max(n,L,w),t=m-p,r,l,i;return m===p?r=0:n===m?r=(L-w)/t:L===m?r=2+(w-n)/t:w===m&&(r=4+(n-L)/t),r=Math.min(r*60,360),r<0&&(r+=360),i=(p+m)/2,m===p?l=0:i<=.5?l=t/(m+p):l=t/(2-m-p),[r,l*100,i*100]}},6866:function(k){k.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(k){k.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(k,F,e){k.exports={parse:e(41004),stringify:e(53313)}},63625:function(k,F,e){var h=e(40402);k.exports={isSize:function(n){return/^[\d\.]/.test(n)||n.indexOf("/")!==-1||h.indexOf(n)!==-1}}},41004:function(k,F,e){var h=e(90448),E=e(38732),n=e(41901),L=e(15659),w=e(96209),p=e(83794),m=e(99011),t=e(63625).isSize;k.exports=l;var r=l.cache={};function l(f){if(typeof f!="string")throw new Error("Font argument must be a string.");if(r[f])return r[f];if(f==="")throw new Error("Cannot parse an empty string.");if(n.indexOf(f)!==-1)return r[f]={system:f};for(var v={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},c=m(f,/\s+/),x;x=c.shift();){if(E.indexOf(x)!==-1)return["style","variant","weight","stretch"].forEach(function(M){v[M]=x}),r[f]=v;if(w.indexOf(x)!==-1){v.style=x;continue}if(x==="normal"||x==="small-caps"){v.variant=x;continue}if(p.indexOf(x)!==-1){v.stretch=x;continue}if(L.indexOf(x)!==-1){v.weight=x;continue}if(t(x)){var d=m(x,"/");if(v.size=d[0],d[1]!=null?v.lineHeight=i(d[1]):c[0]==="/"&&(c.shift(),v.lineHeight=i(c.shift())),!c.length)throw new Error("Missing required font-family.");return v.family=m(c.join(" "),/\s*,\s*/).map(h),r[f]=v}throw new Error("Unknown or unsupported font token: "+x)}throw new Error("Missing required font-size.")}function i(f){var v=parseFloat(f);return v.toString()===f?v:f}},53313:function(k,F,e){var h=e(71299),E=e(63625).isSize,n=f(e(38732)),L=f(e(41901)),w=f(e(15659)),p=f(e(96209)),m=f(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},l={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};k.exports=function(c){if(c=h(c,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),c.system)return c.system&&i(c.system,L),c.system;if(i(c.style,p),i(c.variant,t),i(c.weight,w),i(c.stretch,m),c.size==null&&(c.size=l.size),typeof c.size=="number"&&(c.size+="px"),!E)throw Error("Bad size value `"+c.size+"`");c.family||(c.family=l.family),Array.isArray(c.family)&&(c.family.length||(c.family=[l.family]),c.family=c.family.map(function(d){return r[d]?d:'"'+d+'"'}).join(", "));var x=[];return x.push(c.style),c.variant!==c.style&&x.push(c.variant),c.weight!==c.variant&&c.weight!==c.style&&x.push(c.weight),c.stretch!==c.weight&&c.stretch!==c.variant&&c.stretch!==c.style&&x.push(c.stretch),x.push(c.size+(c.lineHeight==null||c.lineHeight==="normal"||c.lineHeight+""=="1"?"":"/"+c.lineHeight)),x.push(c.family),x.filter(Boolean).join(" ")};function i(v,c){if(v&&!c[v]&&!n[v])throw Error("Unknown keyword `"+v+"`");return v}function f(v){for(var c={},x=0;x<v.length;x++)c[v[x]]=1;return c}},55174:function(k,F,e){var h=e(24582),E=e(10424),n=e(82527),L=e(19012),w=e(21780),p=e(16906),m=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,l;l=function(i,f,v){var c=E(f)&&n(f.value),x;return x=L(f),delete x.writable,delete x.value,x.get=function(){return!v.overwriteDefinition&&r.call(this,i)?c:(f.value=m.call(c,v.resolveContext?v.resolveContext(this):this),t(this,i,f),this[i])},x},k.exports=function(i){var f=w(arguments[1]);return h(f.resolveContext)&&n(f.resolveContext),p(i,function(v,c){return l(c,v,f)})}},62072:function(k,F,e){var h=e(24582),E=e(84985),n=e(95879),L=e(21780),w=e(66741),p=k.exports=function(m,t){var r,l,i,f,v;return arguments.length<2||typeof m!="string"?(f=t,t=m,m=null):f=arguments[2],h(m)?(r=w.call(m,"c"),l=w.call(m,"e"),i=w.call(m,"w")):(r=i=!0,l=!1),v={value:t,configurable:r,enumerable:l,writable:i},f?n(L(f),v):v};p.gs=function(m,t,r){var l,i,f,v;return typeof m!="string"?(f=r,r=t,t=m,m=null):f=arguments[3],h(t)?E(t)?h(r)?E(r)||(f=r,r=void 0):r=void 0:(f=t,t=r=void 0):t=void 0,h(m)?(l=w.call(m,"c"),i=w.call(m,"e")):(l=!0,i=!1),v={get:t,set:r,configurable:l,enumerable:i},f?n(L(f),v):v}},33064:function(k,F,e){e.d(F,{j2:function(){return h},Fp:function(){return L},J6:function(){return p},TS:function(){return m},VV:function(){return t},w6:function(){return r},Sm:function(){return l}});function h(i,f){return i<f?-1:i>f?1:i>=f?0:NaN}function E(i){return i.length===1&&(i=n(i)),{left:function(f,v,c,x){for(c==null&&(c=0),x==null&&(x=f.length);c<x;){var d=c+x>>>1;i(f[d],v)<0?c=d+1:x=d}return c},right:function(f,v,c,x){for(c==null&&(c=0),x==null&&(x=f.length);c<x;){var d=c+x>>>1;i(f[d],v)>0?x=d:c=d+1}return c}}}function n(i){return function(f,v){return h(i(f),v)}}E(h);function L(i,f){var v=i.length,c=-1,x,d;if(f==null){for(;++c<v;)if((x=i[c])!=null&&x>=x)for(d=x;++c<v;)(x=i[c])!=null&&x>d&&(d=x)}else for(;++c<v;)if((x=f(i[c],c,i))!=null&&x>=x)for(d=x;++c<v;)(x=f(i[c],c,i))!=null&&x>d&&(d=x);return d}function w(i){return i===null?NaN:+i}function p(i,f){var v=i.length,c=v,x=-1,d,M=0;if(f==null)for(;++x<v;)isNaN(d=w(i[x]))?--c:M+=d;else for(;++x<v;)isNaN(d=w(f(i[x],x,i)))?--c:M+=d;if(c)return M/c}function m(i){for(var f=i.length,v,c=-1,x=0,d,M;++c<f;)x+=i[c].length;for(d=new Array(x);--f>=0;)for(M=i[f],v=M.length;--v>=0;)d[--x]=M[v];return d}function t(i,f){var v=i.length,c=-1,x,d;if(f==null){for(;++c<v;)if((x=i[c])!=null&&x>=x)for(d=x;++c<v;)(x=i[c])!=null&&d>x&&(d=x)}else for(;++c<v;)if((x=f(i[c],c,i))!=null&&x>=x)for(d=x;++c<v;)(x=f(i[c],c,i))!=null&&d>x&&(d=x);return d}function r(i,f,v){i=+i,f=+f,v=(x=arguments.length)<2?(f=i,i=0,1):x<3?1:+v;for(var c=-1,x=Math.max(0,Math.ceil((f-i)/v))|0,d=new Array(x);++c<x;)d[c]=i+c*v;return d}function l(i,f){var v=i.length,c=-1,x,d=0;if(f==null)for(;++c<v;)(x=+i[c])&&(d+=x);else for(;++c<v;)(x=+f(i[c],c,i))&&(d+=x);return d}},15140:function(k,F,e){e.d(F,{UI:function(){return L},b1:function(){return w}});var h="$";function E(){}E.prototype=n.prototype={constructor:E,has:function(f){return h+f in this},get:function(f){return this[h+f]},set:function(f,v){return this[h+f]=v,this},remove:function(f){var v=h+f;return v in this&&delete this[v]},clear:function(){for(var f in this)f[0]===h&&delete this[f]},keys:function(){var f=[];for(var v in this)v[0]===h&&f.push(v.slice(1));return f},values:function(){var f=[];for(var v in this)v[0]===h&&f.push(this[v]);return f},entries:function(){var f=[];for(var v in this)v[0]===h&&f.push({key:v.slice(1),value:this[v]});return f},size:function(){var f=0;for(var v in this)v[0]===h&&++f;return f},empty:function(){for(var f in this)if(f[0]===h)return!1;return!0},each:function(f){for(var v in this)v[0]===h&&f(this[v],v.slice(1),this)}};function n(f,v){var c=new E;if(f instanceof E)f.each(function(u,y){c.set(y,u)});else if(Array.isArray(f)){var x=-1,d=f.length,M;if(v==null)for(;++x<d;)c.set(x,f[x]);else for(;++x<d;)c.set(v(M=f[x],x,f),M)}else if(f)for(var g in f)c.set(g,f[g]);return c}var L=n;function w(){var f=[],v=[],c,x,d;function M(u,y,C,S){if(y>=f.length)return c!=null&&u.sort(c),x!=null?x(u):u;for(var D=-1,T=u.length,P=f[y++],A,a,R=L(),b,N=C();++D<T;)(b=R.get(A=P(a=u[D])+""))?b.push(a):R.set(A,[a]);return R.each(function(O,Y){S(N,Y,M(O,y,C,S))}),N}function g(u,y){if(++y>f.length)return u;var C,S=v[y-1];return x!=null&&y>=f.length?C=u.entries():(C=[],u.each(function(D,T){C.push({key:T,values:g(D,y)})})),S!=null?C.sort(function(D,T){return S(D.key,T.key)}):C}return d={object:function(u){return M(u,0,p,m)},map:function(u){return M(u,0,t,r)},entries:function(u){return g(M(u,0,t,r),0)},key:function(u){return f.push(u),d},sortKeys:function(u){return v[f.length-1]=u,d},sortValues:function(u){return c=u,d},rollup:function(u){return x=u,d}}}function p(){return{}}function m(f,v,c){f[v]=c}function t(){return L()}function r(f,v,c){f.set(v,c)}function l(){}var i=L.prototype;l.prototype={constructor:l,has:i.has,add:function(f){return f+="",this[h+f]=f,this},remove:i.remove,clear:i.clear,values:i.keys,size:i.size,empty:i.empty,each:i.each}},49887:function(k,F,e){e.r(F),e.d(F,{forceCenter:function(){return h},forceCollide:function(){return R},forceLink:function(){return Y},forceManyBody:function(){return Ge},forceRadial:function(){return it},forceSimulation:function(){return Fe},forceX:function(){return qe},forceY:function(){return $e}});function h(tt,vt){var dt;tt==null&&(tt=0),vt==null&&(vt=0);function gt(){var Mt,Ct=dt.length,Wt,Xe=0,ke=0;for(Mt=0;Mt<Ct;++Mt)Wt=dt[Mt],Xe+=Wt.x,ke+=Wt.y;for(Xe=Xe/Ct-tt,ke=ke/Ct-vt,Mt=0;Mt<Ct;++Mt)Wt=dt[Mt],Wt.x-=Xe,Wt.y-=ke}return gt.initialize=function(Mt){dt=Mt},gt.x=function(Mt){return arguments.length?(tt=+Mt,gt):tt},gt.y=function(Mt){return arguments.length?(vt=+Mt,gt):vt},gt}function E(tt){return function(){return tt}}function n(){return(Math.random()-.5)*1e-6}function L(tt){var vt=+this._x.call(null,tt),dt=+this._y.call(null,tt);return w(this.cover(vt,dt),vt,dt,tt)}function w(tt,vt,dt,gt){if(isNaN(vt)||isNaN(dt))return tt;var Mt,Ct=tt._root,Wt={data:gt},Xe=tt._x0,ke=tt._y0,Ie=tt._x1,Oe=tt._y1,_e,Ae,ce,be,Re,Ue,nt,ot;if(!Ct)return tt._root=Wt,tt;for(;Ct.length;)if((Re=vt>=(_e=(Xe+Ie)/2))?Xe=_e:Ie=_e,(Ue=dt>=(Ae=(ke+Oe)/2))?ke=Ae:Oe=Ae,Mt=Ct,!(Ct=Ct[nt=Ue<<1|Re]))return Mt[nt]=Wt,tt;if(ce=+tt._x.call(null,Ct.data),be=+tt._y.call(null,Ct.data),vt===ce&&dt===be)return Wt.next=Ct,Mt?Mt[nt]=Wt:tt._root=Wt,tt;do Mt=Mt?Mt[nt]=new Array(4):tt._root=new Array(4),(Re=vt>=(_e=(Xe+Ie)/2))?Xe=_e:Ie=_e,(Ue=dt>=(Ae=(ke+Oe)/2))?ke=Ae:Oe=Ae;while((nt=Ue<<1|Re)===(ot=(be>=Ae)<<1|ce>=_e));return Mt[ot]=Ct,Mt[nt]=Wt,tt}function p(tt){var vt,dt,gt=tt.length,Mt,Ct,Wt=new Array(gt),Xe=new Array(gt),ke=1/0,Ie=1/0,Oe=-1/0,_e=-1/0;for(dt=0;dt<gt;++dt)isNaN(Mt=+this._x.call(null,vt=tt[dt]))||isNaN(Ct=+this._y.call(null,vt))||(Wt[dt]=Mt,Xe[dt]=Ct,Mt<ke&&(ke=Mt),Mt>Oe&&(Oe=Mt),Ct<Ie&&(Ie=Ct),Ct>_e&&(_e=Ct));if(ke>Oe||Ie>_e)return this;for(this.cover(ke,Ie).cover(Oe,_e),dt=0;dt<gt;++dt)w(this,Wt[dt],Xe[dt],tt[dt]);return this}function m(tt,vt){if(isNaN(tt=+tt)||isNaN(vt=+vt))return this;var dt=this._x0,gt=this._y0,Mt=this._x1,Ct=this._y1;if(isNaN(dt))Mt=(dt=Math.floor(tt))+1,Ct=(gt=Math.floor(vt))+1;else{for(var Wt=Mt-dt,Xe=this._root,ke,Ie;dt>tt||tt>=Mt||gt>vt||vt>=Ct;)switch(Ie=(vt<gt)<<1|tt<dt,ke=new Array(4),ke[Ie]=Xe,Xe=ke,Wt*=2,Ie){case 0:Mt=dt+Wt,Ct=gt+Wt;break;case 1:dt=Mt-Wt,Ct=gt+Wt;break;case 2:Mt=dt+Wt,gt=Ct-Wt;break;case 3:dt=Mt-Wt,gt=Ct-Wt;break}this._root&&this._root.length&&(this._root=Xe)}return this._x0=dt,this._y0=gt,this._x1=Mt,this._y1=Ct,this}function t(){var tt=[];return this.visit(function(vt){if(!vt.length)do tt.push(vt.data);while(vt=vt.next)}),tt}function r(tt){return arguments.length?this.cover(+tt[0][0],+tt[0][1]).cover(+tt[1][0],+tt[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function l(tt,vt,dt,gt,Mt){this.node=tt,this.x0=vt,this.y0=dt,this.x1=gt,this.y1=Mt}function i(tt,vt,dt){var gt,Mt=this._x0,Ct=this._y0,Wt,Xe,ke,Ie,Oe=this._x1,_e=this._y1,Ae=[],ce=this._root,be,Re;for(ce&&Ae.push(new l(ce,Mt,Ct,Oe,_e)),dt==null?dt=1/0:(Mt=tt-dt,Ct=vt-dt,Oe=tt+dt,_e=vt+dt,dt*=dt);be=Ae.pop();)if(!(!(ce=be.node)||(Wt=be.x0)>Oe||(Xe=be.y0)>_e||(ke=be.x1)<Mt||(Ie=be.y1)<Ct))if(ce.length){var Ue=(Wt+ke)/2,nt=(Xe+Ie)/2;Ae.push(new l(ce[3],Ue,nt,ke,Ie),new l(ce[2],Wt,nt,Ue,Ie),new l(ce[1],Ue,Xe,ke,nt),new l(ce[0],Wt,Xe,Ue,nt)),(Re=(vt>=nt)<<1|tt>=Ue)&&(be=Ae[Ae.length-1],Ae[Ae.length-1]=Ae[Ae.length-1-Re],Ae[Ae.length-1-Re]=be)}else{var ot=tt-+this._x.call(null,ce.data),wt=vt-+this._y.call(null,ce.data),_t=ot*ot+wt*wt;if(_t<dt){var Ut=Math.sqrt(dt=_t);Mt=tt-Ut,Ct=vt-Ut,Oe=tt+Ut,_e=vt+Ut,gt=ce.data}}return gt}function f(tt){if(isNaN(Oe=+this._x.call(null,tt))||isNaN(_e=+this._y.call(null,tt)))return this;var vt,dt=this._root,gt,Mt,Ct,Wt=this._x0,Xe=this._y0,ke=this._x1,Ie=this._y1,Oe,_e,Ae,ce,be,Re,Ue,nt;if(!dt)return this;if(dt.length)for(;;){if((be=Oe>=(Ae=(Wt+ke)/2))?Wt=Ae:ke=Ae,(Re=_e>=(ce=(Xe+Ie)/2))?Xe=ce:Ie=ce,vt=dt,!(dt=dt[Ue=Re<<1|be]))return this;if(!dt.length)break;(vt[Ue+1&3]||vt[Ue+2&3]||vt[Ue+3&3])&&(gt=vt,nt=Ue)}for(;dt.data!==tt;)if(Mt=dt,!(dt=dt.next))return this;return(Ct=dt.next)&&delete dt.next,Mt?(Ct?Mt.next=Ct:delete Mt.next,this):vt?(Ct?vt[Ue]=Ct:delete vt[Ue],(dt=vt[0]||vt[1]||vt[2]||vt[3])&&dt===(vt[3]||vt[2]||vt[1]||vt[0])&&!dt.length&&(gt?gt[nt]=dt:this._root=dt),this):(this._root=Ct,this)}function v(tt){for(var vt=0,dt=tt.length;vt<dt;++vt)this.remove(tt[vt]);return this}function c(){return this._root}function x(){var tt=0;return this.visit(function(vt){if(!vt.length)do++tt;while(vt=vt.next)}),tt}function d(tt){var vt=[],dt,gt=this._root,Mt,Ct,Wt,Xe,ke;for(gt&&vt.push(new l(gt,this._x0,this._y0,this._x1,this._y1));dt=vt.pop();)if(!tt(gt=dt.node,Ct=dt.x0,Wt=dt.y0,Xe=dt.x1,ke=dt.y1)&&gt.length){var Ie=(Ct+Xe)/2,Oe=(Wt+ke)/2;(Mt=gt[3])&&vt.push(new l(Mt,Ie,Oe,Xe,ke)),(Mt=gt[2])&&vt.push(new l(Mt,Ct,Oe,Ie,ke)),(Mt=gt[1])&&vt.push(new l(Mt,Ie,Wt,Xe,Oe)),(Mt=gt[0])&&vt.push(new l(Mt,Ct,Wt,Ie,Oe))}return this}function M(tt){var vt=[],dt=[],gt;for(this._root&&vt.push(new l(this._root,this._x0,this._y0,this._x1,this._y1));gt=vt.pop();){var Mt=gt.node;if(Mt.length){var Ct,Wt=gt.x0,Xe=gt.y0,ke=gt.x1,Ie=gt.y1,Oe=(Wt+ke)/2,_e=(Xe+Ie)/2;(Ct=Mt[0])&&vt.push(new l(Ct,Wt,Xe,Oe,_e)),(Ct=Mt[1])&&vt.push(new l(Ct,Oe,Xe,ke,_e)),(Ct=Mt[2])&&vt.push(new l(Ct,Wt,_e,Oe,Ie)),(Ct=Mt[3])&&vt.push(new l(Ct,Oe,_e,ke,Ie))}dt.push(gt)}for(;gt=dt.pop();)tt(gt.node,gt.x0,gt.y0,gt.x1,gt.y1);return this}function g(tt){return tt[0]}function u(tt){return arguments.length?(this._x=tt,this):this._x}function y(tt){return tt[1]}function C(tt){return arguments.length?(this._y=tt,this):this._y}function S(tt,vt,dt){var gt=new D(vt??g,dt??y,NaN,NaN,NaN,NaN);return tt==null?gt:gt.addAll(tt)}function D(tt,vt,dt,gt,Mt,Ct){this._x=tt,this._y=vt,this._x0=dt,this._y0=gt,this._x1=Mt,this._y1=Ct,this._root=void 0}function T(tt){for(var vt={data:tt.data},dt=vt;tt=tt.next;)dt=dt.next={data:tt.data};return vt}var P=S.prototype=D.prototype;P.copy=function(){var tt=new D(this._x,this._y,this._x0,this._y0,this._x1,this._y1),vt=this._root,dt,gt;if(!vt)return tt;if(!vt.length)return tt._root=T(vt),tt;for(dt=[{source:vt,target:tt._root=new Array(4)}];vt=dt.pop();)for(var Mt=0;Mt<4;++Mt)(gt=vt.source[Mt])&&(gt.length?dt.push({source:gt,target:vt.target[Mt]=new Array(4)}):vt.target[Mt]=T(gt));return tt},P.add=L,P.addAll=p,P.cover=m,P.data=t,P.extent=r,P.find=i,P.remove=f,P.removeAll=v,P.root=c,P.size=x,P.visit=d,P.visitAfter=M,P.x=u,P.y=C;function A(tt){return tt.x+tt.vx}function a(tt){return tt.y+tt.vy}function R(tt){var vt,dt,gt=1,Mt=1;typeof tt!="function"&&(tt=E(tt==null?1:+tt));function Ct(){for(var ke,Ie=vt.length,Oe,_e,Ae,ce,be,Re,Ue=0;Ue<Mt;++Ue)for(Oe=S(vt,A,a).visitAfter(Wt),ke=0;ke<Ie;++ke)_e=vt[ke],be=dt[_e.index],Re=be*be,Ae=_e.x+_e.vx,ce=_e.y+_e.vy,Oe.visit(nt);function nt(ot,wt,_t,Ut,Vt){var Lt=ot.data,Kt=ot.r,ar=be+Kt;if(Lt){if(Lt.index>_e.index){var Fr=Ae-Lt.x-Lt.vx,yt=ce-Lt.y-Lt.vy,Xt=Fr*Fr+yt*yt;Xt<ar*ar&&(Fr===0&&(Fr=n(),Xt+=Fr*Fr),yt===0&&(yt=n(),Xt+=yt*yt),Xt=(ar-(Xt=Math.sqrt(Xt)))/Xt*gt,_e.vx+=(Fr*=Xt)*(ar=(Kt*=Kt)/(Re+Kt)),_e.vy+=(yt*=Xt)*ar,Lt.vx-=Fr*(ar=1-ar),Lt.vy-=yt*ar)}return}return wt>Ae+ar||Ut<Ae-ar||_t>ce+ar||Vt<ce-ar}}function Wt(ke){if(ke.data)return ke.r=dt[ke.data.index];for(var Ie=ke.r=0;Ie<4;++Ie)ke[Ie]&&ke[Ie].r>ke.r&&(ke.r=ke[Ie].r)}function Xe(){if(vt){var ke,Ie=vt.length,Oe;for(dt=new Array(Ie),ke=0;ke<Ie;++ke)Oe=vt[ke],dt[Oe.index]=+tt(Oe,ke,vt)}}return Ct.initialize=function(ke){vt=ke,Xe()},Ct.iterations=function(ke){return arguments.length?(Mt=+ke,Ct):Mt},Ct.strength=function(ke){return arguments.length?(gt=+ke,Ct):gt},Ct.radius=function(ke){return arguments.length?(tt=typeof ke=="function"?ke:E(+ke),Xe(),Ct):tt},Ct}var b=e(15140);function N(tt){return tt.index}function O(tt,vt){var dt=tt.get(vt);if(!dt)throw new Error("missing: "+vt);return dt}function Y(tt){var vt=N,dt=Oe,gt,Mt=E(30),Ct,Wt,Xe,ke,Ie=1;tt==null&&(tt=[]);function Oe(Re){return 1/Math.min(Xe[Re.source.index],Xe[Re.target.index])}function _e(Re){for(var Ue=0,nt=tt.length;Ue<Ie;++Ue)for(var ot=0,wt,_t,Ut,Vt,Lt,Kt,ar;ot<nt;++ot)wt=tt[ot],_t=wt.source,Ut=wt.target,Vt=Ut.x+Ut.vx-_t.x-_t.vx||n(),Lt=Ut.y+Ut.vy-_t.y-_t.vy||n(),Kt=Math.sqrt(Vt*Vt+Lt*Lt),Kt=(Kt-Ct[ot])/Kt*Re*gt[ot],Vt*=Kt,Lt*=Kt,Ut.vx-=Vt*(ar=ke[ot]),Ut.vy-=Lt*ar,_t.vx+=Vt*(ar=1-ar),_t.vy+=Lt*ar}function Ae(){if(Wt){var Re,Ue=Wt.length,nt=tt.length,ot=(0,b.UI)(Wt,vt),wt;for(Re=0,Xe=new Array(Ue);Re<nt;++Re)wt=tt[Re],wt.index=Re,typeof wt.source!="object"&&(wt.source=O(ot,wt.source)),typeof wt.target!="object"&&(wt.target=O(ot,wt.target)),Xe[wt.source.index]=(Xe[wt.source.index]||0)+1,Xe[wt.target.index]=(Xe[wt.target.index]||0)+1;for(Re=0,ke=new Array(nt);Re<nt;++Re)wt=tt[Re],ke[Re]=Xe[wt.source.index]/(Xe[wt.source.index]+Xe[wt.target.index]);gt=new Array(nt),ce(),Ct=new Array(nt),be()}}function ce(){if(Wt)for(var Re=0,Ue=tt.length;Re<Ue;++Re)gt[Re]=+dt(tt[Re],Re,tt)}function be(){if(Wt)for(var Re=0,Ue=tt.length;Re<Ue;++Re)Ct[Re]=+Mt(tt[Re],Re,tt)}return _e.initialize=function(Re){Wt=Re,Ae()},_e.links=function(Re){return arguments.length?(tt=Re,Ae(),_e):tt},_e.id=function(Re){return arguments.length?(vt=Re,_e):vt},_e.iterations=function(Re){return arguments.length?(Ie=+Re,_e):Ie},_e.strength=function(Re){return arguments.length?(dt=typeof Re=="function"?Re:E(+Re),ce(),_e):dt},_e.distance=function(Re){return arguments.length?(Mt=typeof Re=="function"?Re:E(+Re),be(),_e):Mt},_e}var B={value:function(){}};function W(){for(var tt=0,vt=arguments.length,dt={},gt;tt<vt;++tt){if(!(gt=arguments[tt]+"")||gt in dt||/[\s.]/.test(gt))throw new Error("illegal type: "+gt);dt[gt]=[]}return new H(dt)}function H(tt){this._=tt}function U(tt,vt){return tt.trim().split(/^|\s+/).map(function(dt){var gt="",Mt=dt.indexOf(".");if(Mt>=0&&(gt=dt.slice(Mt+1),dt=dt.slice(0,Mt)),dt&&!vt.hasOwnProperty(dt))throw new Error("unknown type: "+dt);return{type:dt,name:gt}})}H.prototype=W.prototype={constructor:H,on:function(tt,vt){var dt=this._,gt=U(tt+"",dt),Mt,Ct=-1,Wt=gt.length;if(arguments.length<2){for(;++Ct<Wt;)if((Mt=(tt=gt[Ct]).type)&&(Mt=G(dt[Mt],tt.name)))return Mt;return}if(vt!=null&&typeof vt!="function")throw new Error("invalid callback: "+vt);for(;++Ct<Wt;)if(Mt=(tt=gt[Ct]).type)dt[Mt]=j(dt[Mt],tt.name,vt);else if(vt==null)for(Mt in dt)dt[Mt]=j(dt[Mt],tt.name,null);return this},copy:function(){var tt={},vt=this._;for(var dt in vt)tt[dt]=vt[dt].slice();return new H(tt)},call:function(tt,vt){if((Mt=arguments.length-2)>0)for(var dt=new Array(Mt),gt=0,Mt,Ct;gt<Mt;++gt)dt[gt]=arguments[gt+2];if(!this._.hasOwnProperty(tt))throw new Error("unknown type: "+tt);for(Ct=this._[tt],gt=0,Mt=Ct.length;gt<Mt;++gt)Ct[gt].value.apply(vt,dt)},apply:function(tt,vt,dt){if(!this._.hasOwnProperty(tt))throw new Error("unknown type: "+tt);for(var gt=this._[tt],Mt=0,Ct=gt.length;Mt<Ct;++Mt)gt[Mt].value.apply(vt,dt)}};function G(tt,vt){for(var dt=0,gt=tt.length,Mt;dt<gt;++dt)if((Mt=tt[dt]).name===vt)return Mt.value}function j(tt,vt,dt){for(var gt=0,Mt=tt.length;gt<Mt;++gt)if(tt[gt].name===vt){tt[gt]=B,tt=tt.slice(0,gt).concat(tt.slice(gt+1));break}return dt!=null&&tt.push({name:vt,value:dt}),tt}var re=W,ae=0,ue=0,de=0,ee=1e3,X,Q,$=0,ne=0,fe=0,te=typeof performance=="object"&&performance.now?performance:Date,q=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(tt){setTimeout(tt,17)};function he(){return ne||(q(se),ne=te.now()+fe)}function se(){ne=0}function pe(){this._call=this._time=this._next=null}pe.prototype=we.prototype={constructor:pe,restart:function(tt,vt,dt){if(typeof tt!="function")throw new TypeError("callback is not a function");dt=(dt==null?he():+dt)+(vt==null?0:+vt),!this._next&&Q!==this&&(Q?Q._next=this:X=this,Q=this),this._call=tt,this._time=dt,Ce()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ce())}};function we(tt,vt,dt){var gt=new pe;return gt.restart(tt,vt,dt),gt}function Ee(){he(),++ae;for(var tt=X,vt;tt;)(vt=ne-tt._time)>=0&&tt._call.call(null,vt),tt=tt._next;--ae}function Me(){ne=($=te.now())+fe,ae=ue=0;try{Ee()}finally{ae=0,Ne(),ne=0}}function Be(){var tt=te.now(),vt=tt-$;vt>ee&&(fe-=vt,$=tt)}function Ne(){for(var tt,vt=X,dt,gt=1/0;vt;)vt._call?(gt>vt._time&&(gt=vt._time),tt=vt,vt=vt._next):(dt=vt._next,vt._next=null,vt=tt?tt._next=dt:X=dt);Q=tt,Ce(gt)}function Ce(tt){if(!ae){ue&&(ue=clearTimeout(ue));var vt=tt-ne;vt>24?(tt<1/0&&(ue=setTimeout(Me,tt-te.now()-fe)),de&&(de=clearInterval(de))):(de||($=te.now(),de=setInterval(Be,ee)),ae=1,q(Me))}}function Te(tt){return tt.x}function Le(tt){return tt.y}var Ve=10,We=Math.PI*(3-Math.sqrt(5));function Fe(tt){var vt,dt=1,gt=.001,Mt=1-Math.pow(gt,1/300),Ct=0,Wt=.6,Xe=(0,b.UI)(),ke=we(Oe),Ie=re("tick","end");tt==null&&(tt=[]);function Oe(){_e(),Ie.call("tick",vt),dt<gt&&(ke.stop(),Ie.call("end",vt))}function _e(be){var Re,Ue=tt.length,nt;be===void 0&&(be=1);for(var ot=0;ot<be;++ot)for(dt+=(Ct-dt)*Mt,Xe.each(function(wt){wt(dt)}),Re=0;Re<Ue;++Re)nt=tt[Re],nt.fx==null?nt.x+=nt.vx*=Wt:(nt.x=nt.fx,nt.vx=0),nt.fy==null?nt.y+=nt.vy*=Wt:(nt.y=nt.fy,nt.vy=0);return vt}function Ae(){for(var be=0,Re=tt.length,Ue;be<Re;++be){if(Ue=tt[be],Ue.index=be,Ue.fx!=null&&(Ue.x=Ue.fx),Ue.fy!=null&&(Ue.y=Ue.fy),isNaN(Ue.x)||isNaN(Ue.y)){var nt=Ve*Math.sqrt(be),ot=be*We;Ue.x=nt*Math.cos(ot),Ue.y=nt*Math.sin(ot)}(isNaN(Ue.vx)||isNaN(Ue.vy))&&(Ue.vx=Ue.vy=0)}}function ce(be){return be.initialize&&be.initialize(tt),be}return Ae(),vt={tick:_e,restart:function(){return ke.restart(Oe),vt},stop:function(){return ke.stop(),vt},nodes:function(be){return arguments.length?(tt=be,Ae(),Xe.each(ce),vt):tt},alpha:function(be){return arguments.length?(dt=+be,vt):dt},alphaMin:function(be){return arguments.length?(gt=+be,vt):gt},alphaDecay:function(be){return arguments.length?(Mt=+be,vt):+Mt},alphaTarget:function(be){return arguments.length?(Ct=+be,vt):Ct},velocityDecay:function(be){return arguments.length?(Wt=1-be,vt):1-Wt},force:function(be,Re){return arguments.length>1?(Re==null?Xe.remove(be):Xe.set(be,ce(Re)),vt):Xe.get(be)},find:function(be,Re,Ue){var nt=0,ot=tt.length,wt,_t,Ut,Vt,Lt;for(Ue==null?Ue=1/0:Ue*=Ue,nt=0;nt<ot;++nt)Vt=tt[nt],wt=be-Vt.x,_t=Re-Vt.y,Ut=wt*wt+_t*_t,Ut<Ue&&(Lt=Vt,Ue=Ut);return Lt},on:function(be,Re){return arguments.length>1?(Ie.on(be,Re),vt):Ie.on(be)}}}function Ge(){var tt,vt,dt,gt=E(-30),Mt,Ct=1,Wt=1/0,Xe=.81;function ke(Ae){var ce,be=tt.length,Re=S(tt,Te,Le).visitAfter(Oe);for(dt=Ae,ce=0;ce<be;++ce)vt=tt[ce],Re.visit(_e)}function Ie(){if(tt){var Ae,ce=tt.length,be;for(Mt=new Array(ce),Ae=0;Ae<ce;++Ae)be=tt[Ae],Mt[be.index]=+gt(be,Ae,tt)}}function Oe(Ae){var ce=0,be,Re,Ue=0,nt,ot,wt;if(Ae.length){for(nt=ot=wt=0;wt<4;++wt)(be=Ae[wt])&&(Re=Math.abs(be.value))&&(ce+=be.value,Ue+=Re,nt+=Re*be.x,ot+=Re*be.y);Ae.x=nt/Ue,Ae.y=ot/Ue}else{be=Ae,be.x=be.data.x,be.y=be.data.y;do ce+=Mt[be.data.index];while(be=be.next)}Ae.value=ce}function _e(Ae,ce,be,Re){if(!Ae.value)return!0;var Ue=Ae.x-vt.x,nt=Ae.y-vt.y,ot=Re-ce,wt=Ue*Ue+nt*nt;if(ot*ot/Xe<wt)return wt<Wt&&(Ue===0&&(Ue=n(),wt+=Ue*Ue),nt===0&&(nt=n(),wt+=nt*nt),wt<Ct&&(wt=Math.sqrt(Ct*wt)),vt.vx+=Ue*Ae.value*dt/wt,vt.vy+=nt*Ae.value*dt/wt),!0;if(Ae.length||wt>=Wt)return;(Ae.data!==vt||Ae.next)&&(Ue===0&&(Ue=n(),wt+=Ue*Ue),nt===0&&(nt=n(),wt+=nt*nt),wt<Ct&&(wt=Math.sqrt(Ct*wt)));do Ae.data!==vt&&(ot=Mt[Ae.data.index]*dt/wt,vt.vx+=Ue*ot,vt.vy+=nt*ot);while(Ae=Ae.next)}return ke.initialize=function(Ae){tt=Ae,Ie()},ke.strength=function(Ae){return arguments.length?(gt=typeof Ae=="function"?Ae:E(+Ae),Ie(),ke):gt},ke.distanceMin=function(Ae){return arguments.length?(Ct=Ae*Ae,ke):Math.sqrt(Ct)},ke.distanceMax=function(Ae){return arguments.length?(Wt=Ae*Ae,ke):Math.sqrt(Wt)},ke.theta=function(Ae){return arguments.length?(Xe=Ae*Ae,ke):Math.sqrt(Xe)},ke}function it(tt,vt,dt){var gt,Mt=E(.1),Ct,Wt;typeof tt!="function"&&(tt=E(+tt)),vt==null&&(vt=0),dt==null&&(dt=0);function Xe(Ie){for(var Oe=0,_e=gt.length;Oe<_e;++Oe){var Ae=gt[Oe],ce=Ae.x-vt||1e-6,be=Ae.y-dt||1e-6,Re=Math.sqrt(ce*ce+be*be),Ue=(Wt[Oe]-Re)*Ct[Oe]*Ie/Re;Ae.vx+=ce*Ue,Ae.vy+=be*Ue}}function ke(){if(gt){var Ie,Oe=gt.length;for(Ct=new Array(Oe),Wt=new Array(Oe),Ie=0;Ie<Oe;++Ie)Wt[Ie]=+tt(gt[Ie],Ie,gt),Ct[Ie]=isNaN(Wt[Ie])?0:+Mt(gt[Ie],Ie,gt)}}return Xe.initialize=function(Ie){gt=Ie,ke()},Xe.strength=function(Ie){return arguments.length?(Mt=typeof Ie=="function"?Ie:E(+Ie),ke(),Xe):Mt},Xe.radius=function(Ie){return arguments.length?(tt=typeof Ie=="function"?Ie:E(+Ie),ke(),Xe):tt},Xe.x=function(Ie){return arguments.length?(vt=+Ie,Xe):vt},Xe.y=function(Ie){return arguments.length?(dt=+Ie,Xe):dt},Xe}function qe(tt){var vt=E(.1),dt,gt,Mt;typeof tt!="function"&&(tt=E(tt==null?0:+tt));function Ct(Xe){for(var ke=0,Ie=dt.length,Oe;ke<Ie;++ke)Oe=dt[ke],Oe.vx+=(Mt[ke]-Oe.x)*gt[ke]*Xe}function Wt(){if(dt){var Xe,ke=dt.length;for(gt=new Array(ke),Mt=new Array(ke),Xe=0;Xe<ke;++Xe)gt[Xe]=isNaN(Mt[Xe]=+tt(dt[Xe],Xe,dt))?0:+vt(dt[Xe],Xe,dt)}}return Ct.initialize=function(Xe){dt=Xe,Wt()},Ct.strength=function(Xe){return arguments.length?(vt=typeof Xe=="function"?Xe:E(+Xe),Wt(),Ct):vt},Ct.x=function(Xe){return arguments.length?(tt=typeof Xe=="function"?Xe:E(+Xe),Wt(),Ct):tt},Ct}function $e(tt){var vt=E(.1),dt,gt,Mt;typeof tt!="function"&&(tt=E(tt==null?0:+tt));function Ct(Xe){for(var ke=0,Ie=dt.length,Oe;ke<Ie;++ke)Oe=dt[ke],Oe.vy+=(Mt[ke]-Oe.y)*gt[ke]*Xe}function Wt(){if(dt){var Xe,ke=dt.length;for(gt=new Array(ke),Mt=new Array(ke),Xe=0;Xe<ke;++Xe)gt[Xe]=isNaN(Mt[Xe]=+tt(dt[Xe],Xe,dt))?0:+vt(dt[Xe],Xe,dt)}}return Ct.initialize=function(Xe){dt=Xe,Wt()},Ct.strength=function(Xe){return arguments.length?(vt=typeof Xe=="function"?Xe:E(+Xe),Wt(),Ct):vt},Ct.y=function(Xe){return arguments.length?(tt=typeof Xe=="function"?Xe:E(+Xe),Wt(),Ct):tt},Ct}},60721:function(k,F,e){e.d(F,{WU:function(){return u},FF:function(){return M}});function h(C){return Math.abs(C=Math.round(C))>=1e21?C.toLocaleString("en").replace(/,/g,""):C.toString(10)}function E(C,S){if((D=(C=S?C.toExponential(S-1):C.toExponential()).indexOf("e"))<0)return null;var D,T=C.slice(0,D);return[T.length>1?T[0]+T.slice(2):T,+C.slice(D+1)]}function n(C){return C=E(Math.abs(C)),C?C[1]:NaN}function L(C,S){return function(D,T){for(var P=D.length,A=[],a=0,R=C[0],b=0;P>0&&R>0&&(b+R+1>T&&(R=Math.max(1,T-b)),A.push(D.substring(P-=R,P+R)),!((b+=R+1)>T));)R=C[a=(a+1)%C.length];return A.reverse().join(S)}}function w(C){return function(S){return S.replace(/[0-9]/g,function(D){return C[+D]})}}var p=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function m(C){if(!(S=p.exec(C)))throw new Error("invalid format: "+C);var S;return new t({fill:S[1],align:S[2],sign:S[3],symbol:S[4],zero:S[5],width:S[6],comma:S[7],precision:S[8]&&S[8].slice(1),trim:S[9],type:S[10]})}m.prototype=t.prototype;function t(C){this.fill=C.fill===void 0?" ":C.fill+"",this.align=C.align===void 0?">":C.align+"",this.sign=C.sign===void 0?"-":C.sign+"",this.symbol=C.symbol===void 0?"":C.symbol+"",this.zero=!!C.zero,this.width=C.width===void 0?void 0:+C.width,this.comma=!!C.comma,this.precision=C.precision===void 0?void 0:+C.precision,this.trim=!!C.trim,this.type=C.type===void 0?"":C.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(C){e:for(var S=C.length,D=1,T=-1,P;D<S;++D)switch(C[D]){case".":T=P=D;break;case"0":T===0&&(T=D),P=D;break;default:if(!+C[D])break e;T>0&&(T=0);break}return T>0?C.slice(0,T)+C.slice(P+1):C}var l;function i(C,S){var D=E(C,S);if(!D)return C+"";var T=D[0],P=D[1],A=P-(l=Math.max(-8,Math.min(8,Math.floor(P/3)))*3)+1,a=T.length;return A===a?T:A>a?T+new Array(A-a+1).join("0"):A>0?T.slice(0,A)+"."+T.slice(A):"0."+new Array(1-A).join("0")+E(C,Math.max(0,S+A-1))[0]}function f(C,S){var D=E(C,S);if(!D)return C+"";var T=D[0],P=D[1];return P<0?"0."+new Array(-P).join("0")+T:T.length>P+1?T.slice(0,P+1)+"."+T.slice(P+1):T+new Array(P-T.length+2).join("0")}var v={"%":function(C,S){return(C*100).toFixed(S)},b:function(C){return Math.round(C).toString(2)},c:function(C){return C+""},d:h,e:function(C,S){return C.toExponential(S)},f:function(C,S){return C.toFixed(S)},g:function(C,S){return C.toPrecision(S)},o:function(C){return Math.round(C).toString(8)},p:function(C,S){return f(C*100,S)},r:f,s:i,X:function(C){return Math.round(C).toString(16).toUpperCase()},x:function(C){return Math.round(C).toString(16)}};function c(C){return C}var x=Array.prototype.map,d=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function M(C){var S=C.grouping===void 0||C.thousands===void 0?c:L(x.call(C.grouping,Number),C.thousands+""),D=C.currency===void 0?"":C.currency[0]+"",T=C.currency===void 0?"":C.currency[1]+"",P=C.decimal===void 0?".":C.decimal+"",A=C.numerals===void 0?c:w(x.call(C.numerals,String)),a=C.percent===void 0?"%":C.percent+"",R=C.minus===void 0?"-":C.minus+"",b=C.nan===void 0?"NaN":C.nan+"";function N(Y){Y=m(Y);var B=Y.fill,W=Y.align,H=Y.sign,U=Y.symbol,G=Y.zero,j=Y.width,re=Y.comma,ae=Y.precision,ue=Y.trim,de=Y.type;de==="n"?(re=!0,de="g"):v[de]||(ae===void 0&&(ae=12),ue=!0,de="g"),(G||B==="0"&&W==="=")&&(G=!0,B="0",W="=");var ee=U==="$"?D:U==="#"&&/[boxX]/.test(de)?"0"+de.toLowerCase():"",X=U==="$"?T:/[%p]/.test(de)?a:"",Q=v[de],$=/[defgprs%]/.test(de);ae=ae===void 0?6:/[gprs]/.test(de)?Math.max(1,Math.min(21,ae)):Math.max(0,Math.min(20,ae));function ne(fe){var te=ee,q=X,he,se,pe;if(de==="c")q=Q(fe)+q,fe="";else{fe=+fe;var we=fe<0||1/fe<0;if(fe=isNaN(fe)?b:Q(Math.abs(fe),ae),ue&&(fe=r(fe)),we&&+fe==0&&H!=="+"&&(we=!1),te=(we?H==="("?H:R:H==="-"||H==="("?"":H)+te,q=(de==="s"?d[8+l/3]:"")+q+(we&&H==="("?")":""),$){for(he=-1,se=fe.length;++he<se;)if(pe=fe.charCodeAt(he),48>pe||pe>57){q=(pe===46?P+fe.slice(he+1):fe.slice(he))+q,fe=fe.slice(0,he);break}}}re&&!G&&(fe=S(fe,1/0));var Ee=te.length+fe.length+q.length,Me=Ee<j?new Array(j-Ee+1).join(B):"";switch(re&&G&&(fe=S(Me+fe,Me.length?j-q.length:1/0),Me=""),W){case"<":fe=te+fe+q+Me;break;case"=":fe=te+Me+fe+q;break;case"^":fe=Me.slice(0,Ee=Me.length>>1)+te+fe+q+Me.slice(Ee);break;default:fe=Me+te+fe+q;break}return A(fe)}return ne.toString=function(){return Y+""},ne}function O(Y,B){var W=N((Y=m(Y),Y.type="f",Y)),H=Math.max(-8,Math.min(8,Math.floor(n(B)/3)))*3,U=Math.pow(10,-H),G=d[8+H/3];return function(j){return W(U*j)+G}}return{format:N,formatPrefix:O}}var g,u;y({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function y(C){return g=M(C),u=g.format,g.formatPrefix,g}},65704:function(k,F,e){e.r(F),e.d(F,{geoAiry:function(){return G},geoAiryRaw:function(){return U},geoAitoff:function(){return re},geoAitoffRaw:function(){return j},geoArmadillo:function(){return ue},geoArmadilloRaw:function(){return ae},geoAugust:function(){return ee},geoAugustRaw:function(){return de},geoBaker:function(){return ne},geoBakerRaw:function(){return $},geoBerghaus:function(){return q},geoBerghausRaw:function(){return te},geoBertin1953:function(){return Ne},geoBertin1953Raw:function(){return Be},geoBoggs:function(){return it},geoBoggsRaw:function(){return Ge},geoBonne:function(){return dt},geoBonneRaw:function(){return vt},geoBottomley:function(){return Mt},geoBottomleyRaw:function(){return gt},geoBromley:function(){return Wt},geoBromleyRaw:function(){return Ct},geoChamberlin:function(){return Re},geoChamberlinAfrica:function(){return be},geoChamberlinRaw:function(){return Ae},geoCollignon:function(){return nt},geoCollignonRaw:function(){return Ue},geoCraig:function(){return wt},geoCraigRaw:function(){return ot},geoCraster:function(){return Vt},geoCrasterRaw:function(){return Ut},geoCylindricalEqualArea:function(){return Kt},geoCylindricalEqualAreaRaw:function(){return Lt},geoCylindricalStereographic:function(){return Fr},geoCylindricalStereographicRaw:function(){return ar},geoEckert1:function(){return Xt},geoEckert1Raw:function(){return yt},geoEckert2:function(){return br},geoEckert2Raw:function(){return Yt},geoEckert3:function(){return ut},geoEckert3Raw:function(){return hr},geoEckert4:function(){return xt},geoEckert4Raw:function(){return lt},geoEckert5:function(){return Et},geoEckert5Raw:function(){return Tt},geoEckert6:function(){return Ft},geoEckert6Raw:function(){return At},geoEisenlohr:function(){return Qt},geoEisenlohrRaw:function(){return $t},geoFahey:function(){return Ze},geoFaheyRaw:function(){return Er},geoFoucaut:function(){return Dt},geoFoucautRaw:function(){return Ye},geoFoucautSinusoidal:function(){return Zt},geoFoucautSinusoidalRaw:function(){return It},geoGilbert:function(){return fr},geoGingery:function(){return Vr},geoGingeryRaw:function(){return dr},geoGinzburg4:function(){return pn},geoGinzburg4Raw:function(){return kr},geoGinzburg5:function(){return _n},geoGinzburg5Raw:function(){return Xr},geoGinzburg6:function(){return xr},geoGinzburg6Raw:function(){return Dn},geoGinzburg8:function(){return Or},geoGinzburg8Raw:function(){return Ar},geoGinzburg9:function(){return qr},geoGinzburg9Raw:function(){return Br},geoGringorten:function(){return jn},geoGringortenQuincuncial:function(){return qh},geoGringortenRaw:function(){return fn},geoGuyou:function(){return gn},geoGuyouRaw:function(){return Mr},geoHammer:function(){return we},geoHammerRaw:function(){return se},geoHammerRetroazimuthal:function(){return Hn},geoHammerRetroazimuthalRaw:function(){return En},geoHealpix:function(){return un},geoHealpixRaw:function(){return an},geoHill:function(){return Cr},geoHillRaw:function(){return Rr},geoHomolosine:function(){return zn},geoHomolosineRaw:function(){return yn},geoHufnagel:function(){return li},geoHufnagelRaw:function(){return $n},geoHyperelliptical:function(){return to},geoHyperellipticalRaw:function(){return di},geoInterrupt:function(){return Eo},geoInterruptedBoggs:function(){return ta},geoInterruptedHomolosine:function(){return Xl},geoInterruptedMollweide:function(){return Io},geoInterruptedMollweideHemispheres:function(){return Tu},geoInterruptedQuarticAuthalic:function(){return Nf},geoInterruptedSinuMollweide:function(){return Au},geoInterruptedSinusoidal:function(){return Ja},geoKavrayskiy7:function(){return wo},geoKavrayskiy7Raw:function(){return Wo},geoLagrange:function(){return Ts},geoLagrangeRaw:function(){return $o},geoLarrivee:function(){return Ec},geoLarriveeRaw:function(){return so},geoLaskowski:function(){return lo},geoLaskowskiRaw:function(){return As},geoLittrow:function(){return Us},geoLittrowRaw:function(){return kf},geoLoximuthal:function(){return If},geoLoximuthalRaw:function(){return Ms},geoMiller:function(){return Oh},geoMillerRaw:function(){return Ff},geoModifiedStereographic:function(){return Ml},geoModifiedStereographicAlaska:function(){return Vh},geoModifiedStereographicGs48:function(){return Cc},geoModifiedStereographicGs50:function(){return Wh},geoModifiedStereographicLee:function(){return Of},geoModifiedStereographicMiller:function(){return Gh},geoModifiedStereographicRaw:function(){return Mu},geoMollweide:function(){return Ve},geoMollweideRaw:function(){return Le},geoMtFlatPolarParabolic:function(){return Yh},geoMtFlatPolarParabolicRaw:function(){return qu},geoMtFlatPolarQuartic:function(){return Lc},geoMtFlatPolarQuarticRaw:function(){return Hs},geoMtFlatPolarSinusoidal:function(){return Zh},geoMtFlatPolarSinusoidalRaw:function(){return Bf},geoNaturalEarth:function(){return qo.Z},geoNaturalEarth2:function(){return Su},geoNaturalEarth2Raw:function(){return El},geoNaturalEarthRaw:function(){return qo.K},geoNellHammer:function(){return Ss},geoNellHammerRaw:function(){return Jl},geoNicolosi:function(){return rl},geoNicolosiRaw:function(){return Ql},geoPatterson:function(){return jh},geoPattersonRaw:function(){return tf},geoPeirceQuincuncial:function(){return kc},geoPierceQuincuncial:function(){return kc},geoPolyconic:function(){return Xh},geoPolyconicRaw:function(){return Hf},geoPolyhedral:function(){return ya},geoPolyhedralButterfly:function(){return Ws},geoPolyhedralCollignon:function(){return il},geoPolyhedralWaterman:function(){return al},geoProject:function(){return Qh},geoQuantize:function(){return Ic},geoQuincuncial:function(){return sf},geoRectangularPolyconic:function(){return ol},geoRectangularPolyconicRaw:function(){return jf},geoRobinson:function(){return Xf},geoRobinsonRaw:function(){return Cs},geoSatellite:function(){return lf},geoSatelliteRaw:function(){return Pl},geoSinuMollweide:function(){return Wn},geoSinuMollweideRaw:function(){return In},geoSinusoidal:function(){return tt},geoSinusoidalRaw:function(){return $e},geoStitch:function(){return _l},geoTimes:function(){return Go},geoTimesRaw:function(){return Oo},geoTwoPointAzimuthal:function(){return hf},geoTwoPointAzimuthalRaw:function(){return Oc},geoTwoPointAzimuthalUsa:function(){return au},geoTwoPointEquidistant:function(){return $f},geoTwoPointEquidistantRaw:function(){return Bc},geoTwoPointEquidistantUsa:function(){return cs},geoVanDerGrinten:function(){return ku},geoVanDerGrinten2:function(){return tv},geoVanDerGrinten2Raw:function(){return Xs},geoVanDerGrinten3:function(){return vf},geoVanDerGrinten3Raw:function(){return qf},geoVanDerGrinten4:function(){return Nc},geoVanDerGrinten4Raw:function(){return To},geoVanDerGrintenRaw:function(){return ul},geoWagner:function(){return Fu},geoWagner4:function(){return tc},geoWagner4Raw:function(){return ec},geoWagner6:function(){return pf},geoWagner6Raw:function(){return Il},geoWagner7:function(){return fl},geoWagnerRaw:function(){return Ls},geoWiechel:function(){return Hc},geoWiechelRaw:function(){return zu},geoWinkel3:function(){return Vc},geoWinkel3Raw:function(){return Ou}});var h=e(15002),E=Math.abs,n=Math.atan,L=Math.atan2,w=Math.cos,p=Math.exp,m=Math.floor,t=Math.log,r=Math.max,l=Math.min,i=Math.pow,f=Math.round,v=Math.sign||function(Ke){return Ke>0?1:Ke<0?-1:0},c=Math.sin,x=Math.tan,d=1e-6,M=1e-12,g=Math.PI,u=g/2,y=g/4,C=Math.SQRT1_2,S=N(2),D=N(g),T=g*2,P=180/g,A=g/180;function a(Ke){return Ke?Ke/Math.sin(Ke):1}function R(Ke){return Ke>1?u:Ke<-1?-u:Math.asin(Ke)}function b(Ke){return Ke>1?0:Ke<-1?g:Math.acos(Ke)}function N(Ke){return Ke>0?Math.sqrt(Ke):0}function O(Ke){return Ke=p(2*Ke),(Ke-1)/(Ke+1)}function Y(Ke){return(p(Ke)-p(-Ke))/2}function B(Ke){return(p(Ke)+p(-Ke))/2}function W(Ke){return t(Ke+N(Ke*Ke+1))}function H(Ke){return t(Ke+N(Ke*Ke-1))}function U(Ke){var rt=x(Ke/2),ht=2*t(w(Ke/2))/(rt*rt);function pt(kt,Pt){var Ot=w(kt),cr=w(Pt),gr=c(Pt),ir=cr*Ot,Tr=-((1-ir?t((1+ir)/2)/(1-ir):-.5)+ht/(1+ir));return[Tr*cr*c(kt),Tr*gr]}return pt.invert=function(kt,Pt){var Ot=N(kt*kt+Pt*Pt),cr=-Ke/2,gr=50,ir;if(!Ot)return[0,0];do{var Tr=cr/2,Pr=w(Tr),Yr=c(Tr),Jr=Yr/Pr,mn=-t(E(Pr));cr-=ir=(2/Jr*mn-ht*Jr-Ot)/(-mn/(Yr*Yr)+1-ht/(2*Pr*Pr))*(Pr<0?.7:1)}while(E(ir)>d&&--gr>0);var bn=c(cr);return[L(kt*bn,Ot*w(cr)),R(Pt*bn/Ot)]},pt}function G(){var Ke=u,rt=(0,h.r)(U),ht=rt(Ke);return ht.radius=function(pt){return arguments.length?rt(Ke=pt*A):Ke*P},ht.scale(179.976).clipAngle(147)}function j(Ke,rt){var ht=w(rt),pt=a(b(ht*w(Ke/=2)));return[2*ht*c(Ke)*pt,c(rt)*pt]}j.invert=function(Ke,rt){if(!(Ke*Ke+4*rt*rt>g*g+d)){var ht=Ke,pt=rt,kt=25;do{var Pt=c(ht),Ot=c(ht/2),cr=w(ht/2),gr=c(pt),ir=w(pt),Tr=c(2*pt),Pr=gr*gr,Yr=ir*ir,Jr=Ot*Ot,mn=1-Yr*cr*cr,bn=mn?b(ir*cr)*N(Rn=1/mn):Rn=0,Rn,hi=2*bn*ir*Ot-Ke,Ci=bn*gr-rt,Ri=Rn*(Yr*Jr+bn*ir*cr*Pr),Di=Rn*(.5*Pt*Tr-bn*2*gr*Ot),ki=Rn*.25*(Tr*Ot-bn*gr*Yr*Pt),oa=Rn*(Pr*cr+bn*Jr*ir),Ia=Di*ki-oa*Ri;if(!Ia)break;var ma=(Ci*Di-hi*oa)/Ia,ve=(hi*ki-Ci*Ri)/Ia;ht-=ma,pt-=ve}while((E(ma)>d||E(ve)>d)&&--kt>0);return[ht,pt]}};function re(){return(0,h.Z)(j).scale(152.63)}function ae(Ke){var rt=c(Ke),ht=w(Ke),pt=Ke>=0?1:-1,kt=x(pt*Ke),Pt=(1+rt-ht)/2;function Ot(cr,gr){var ir=w(gr),Tr=w(cr/=2);return[(1+ir)*c(cr),(pt*gr>-L(Tr,kt)-.001?0:-pt*10)+Pt+c(gr)*ht-(1+ir)*rt*Tr]}return Ot.invert=function(cr,gr){var ir=0,Tr=0,Pr=50;do{var Yr=w(ir),Jr=c(ir),mn=w(Tr),bn=c(Tr),Rn=1+mn,hi=Rn*Jr-cr,Ci=Pt+bn*ht-Rn*rt*Yr-gr,Ri=Rn*Yr/2,Di=-Jr*bn,ki=rt*Rn*Jr/2,oa=ht*mn+rt*Yr*bn,Ia=Di*ki-oa*Ri,ma=(Ci*Di-hi*oa)/Ia/2,ve=(hi*ki-Ci*Ri)/Ia;E(ve)>2&&(ve/=2),ir-=ma,Tr-=ve}while((E(ma)>d||E(ve)>d)&&--Pr>0);return pt*Tr>-L(w(ir),kt)-.001?[ir*2,Tr]:null},Ot}function ue(){var Ke=20*A,rt=Ke>=0?1:-1,ht=x(rt*Ke),pt=(0,h.r)(ae),kt=pt(Ke),Pt=kt.stream;return kt.parallel=function(Ot){return arguments.length?(ht=x((rt=(Ke=Ot*A)>=0?1:-1)*Ke),pt(Ke)):Ke*P},kt.stream=function(Ot){var cr=kt.rotate(),gr=Pt(Ot),ir=(kt.rotate([0,0]),Pt(Ot)),Tr=kt.precision();return kt.rotate(cr),gr.sphere=function(){ir.polygonStart(),ir.lineStart();for(var Pr=rt*-180;rt*Pr<180;Pr+=rt*90)ir.point(Pr,rt*90);if(Ke)for(;rt*(Pr-=3*rt*Tr)>=-180;)ir.point(Pr,rt*-L(w(Pr*A/2),ht)*P);ir.lineEnd(),ir.polygonEnd()},gr},kt.scale(218.695).center([0,28.0974])}function de(Ke,rt){var ht=x(rt/2),pt=N(1-ht*ht),kt=1+pt*w(Ke/=2),Pt=c(Ke)*pt/kt,Ot=ht/kt,cr=Pt*Pt,gr=Ot*Ot;return[1.3333333333333333*Pt*(3+cr-3*gr),1.3333333333333333*Ot*(3+3*cr-gr)]}de.invert=function(Ke,rt){if(Ke*=.375,rt*=.375,!Ke&&E(rt)>1)return null;var ht=Ke*Ke,pt=rt*rt,kt=1+ht+pt,Pt=N((kt-N(kt*kt-4*rt*rt))/2),Ot=R(Pt)/3,cr=Pt?H(E(rt/Pt))/3:W(E(Ke))/3,gr=w(Ot),ir=B(cr),Tr=ir*ir-gr*gr;return[v(Ke)*2*L(Y(cr)*gr,.25-Tr),v(rt)*2*L(ir*c(Ot),.25+Tr)]};function ee(){return(0,h.Z)(de).scale(66.1603)}var X=N(8),Q=t(1+S);function $(Ke,rt){var ht=E(rt);return ht<y?[Ke,t(x(y+rt/2))]:[Ke*w(ht)*(2*S-1/c(ht)),v(rt)*(2*S*(ht-y)-t(x(ht/2)))]}$.invert=function(Ke,rt){if((Pt=E(rt))<Q)return[Ke,2*n(p(rt))-u];var ht=y,pt=25,kt,Pt;do{var Ot=w(ht/2),cr=x(ht/2);ht-=kt=(X*(ht-y)-t(cr)-Pt)/(X-Ot*Ot/(2*cr))}while(E(kt)>M&&--pt>0);return[Ke/(w(ht)*(X-1/c(ht))),v(rt)*ht]};function ne(){return(0,h.Z)($).scale(112.314)}var fe=e(17889);function te(Ke){var rt=2*g/Ke;function ht(pt,kt){var Pt=(0,fe.N)(pt,kt);if(E(pt)>u){var Ot=L(Pt[1],Pt[0]),cr=N(Pt[0]*Pt[0]+Pt[1]*Pt[1]),gr=rt*f((Ot-u)/rt)+u,ir=L(c(Ot-=gr),2-w(Ot));Ot=gr+R(g/cr*c(ir))-ir,Pt[0]=cr*w(Ot),Pt[1]=cr*c(Ot)}return Pt}return ht.invert=function(pt,kt){var Pt=N(pt*pt+kt*kt);if(Pt>u){var Ot=L(kt,pt),cr=rt*f((Ot-u)/rt)+u,gr=Ot>cr?-1:1,ir=Pt*w(cr-Ot),Tr=1/x(gr*b((ir-g)/N(g*(g-2*ir)+Pt*Pt)));Ot=cr+2*n((Tr+gr*N(Tr*Tr-3))/3),pt=Pt*w(Ot),kt=Pt*c(Ot)}return fe.N.invert(pt,kt)},ht}function q(){var Ke=5,rt=(0,h.r)(te),ht=rt(Ke),pt=ht.stream,kt=.01,Pt=-w(kt*A),Ot=c(kt*A);return ht.lobes=function(cr){return arguments.length?rt(Ke=+cr):Ke},ht.stream=function(cr){var gr=ht.rotate(),ir=pt(cr),Tr=(ht.rotate([0,0]),pt(cr));return ht.rotate(gr),ir.sphere=function(){Tr.polygonStart(),Tr.lineStart();for(var Pr=0,Yr=360/Ke,Jr=2*g/Ke,mn=90-180/Ke,bn=u;Pr<Ke;++Pr,mn-=Yr,bn-=Jr)Tr.point(L(Ot*w(bn),Pt)*P,R(Ot*c(bn))*P),mn<-90?(Tr.point(-90,-180-mn-kt),Tr.point(-90,-180-mn+kt)):(Tr.point(90,mn+kt),Tr.point(90,mn-kt));Tr.lineEnd(),Tr.polygonEnd()},ir},ht.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var he=e(12956);function se(Ke,rt){if(arguments.length<2&&(rt=Ke),rt===1)return he.l;if(rt===1/0)return pe;function ht(pt,kt){var Pt=(0,he.l)(pt/rt,kt);return Pt[0]*=Ke,Pt}return ht.invert=function(pt,kt){var Pt=he.l.invert(pt/Ke,kt);return Pt[0]*=rt,Pt},ht}function pe(Ke,rt){return[Ke*w(rt)/w(rt/=2),2*c(rt)]}pe.invert=function(Ke,rt){var ht=2*R(rt/2);return[Ke*w(ht/2)/w(ht),ht]};function we(){var Ke=2,rt=(0,h.r)(se),ht=rt(Ke);return ht.coefficient=function(pt){return arguments.length?rt(Ke=+pt):Ke},ht.scale(169.529)}function Ee(Ke,rt,ht){var pt=100,kt,Pt,Ot;ht=ht===void 0?0:+ht,rt=+rt;do Pt=Ke(ht),Ot=Ke(ht+d),Pt===Ot&&(Ot=Pt+d),ht-=kt=-1*d*(Pt-rt)/(Pt-Ot);while(pt-- >0&&E(kt)>d);return pt<0?NaN:ht}function Me(Ke,rt,ht){return rt===void 0&&(rt=40),ht===void 0&&(ht=M),function(pt,kt,Pt,Ot){var cr,gr,ir;Pt=Pt===void 0?0:+Pt,Ot=Ot===void 0?0:+Ot;for(var Tr=0;Tr<rt;Tr++){var Pr=Ke(Pt,Ot),Yr=Pr[0]-pt,Jr=Pr[1]-kt;if(E(Yr)<ht&&E(Jr)<ht)break;var mn=Yr*Yr+Jr*Jr;if(mn>cr){Pt-=gr/=2,Ot-=ir/=2;continue}cr=mn;var bn=(Pt>0?-1:1)*ht,Rn=(Ot>0?-1:1)*ht,hi=Ke(Pt+bn,Ot),Ci=Ke(Pt,Ot+Rn),Ri=(hi[0]-Pr[0])/bn,Di=(hi[1]-Pr[1])/bn,ki=(Ci[0]-Pr[0])/Rn,oa=(Ci[1]-Pr[1])/Rn,Ia=oa*Ri-Di*ki,ma=(E(Ia)<.5?.5:1)/Ia;if(gr=(Jr*ki-Yr*oa)*ma,ir=(Yr*Di-Jr*Ri)*ma,Pt+=gr,Ot+=ir,E(gr)<ht&&E(ir)<ht)break}return[Pt,Ot]}}function Be(){var Ke=se(1.68,2),rt=1.4,ht=12;function pt(kt,Pt){if(kt+Pt<-rt){var Ot=(kt-Pt+1.6)*(kt+Pt+rt)/8;kt+=Ot,Pt-=.8*Ot*c(Pt+g/2)}var cr=Ke(kt,Pt),gr=(1-w(kt*Pt))/ht;return cr[1]<0&&(cr[0]*=1+gr),cr[1]>0&&(cr[1]*=1+gr/1.5*cr[0]*cr[0]),cr}return pt.invert=Me(pt),pt}function Ne(){return(0,h.Z)(Be()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ce(Ke,rt){var ht=Ke*c(rt),pt=30,kt;do rt-=kt=(rt+c(rt)-ht)/(1+w(rt));while(E(kt)>d&&--pt>0);return rt/2}function Te(Ke,rt,ht){function pt(kt,Pt){return[Ke*kt*w(Pt=Ce(ht,Pt)),rt*c(Pt)]}return pt.invert=function(kt,Pt){return Pt=R(Pt/rt),[kt/(Ke*w(Pt)),R((2*Pt+c(2*Pt))/ht)]},pt}var Le=Te(S/u,S,g);function Ve(){return(0,h.Z)(Le).scale(169.529)}var We=2.00276,Fe=1.11072;function Ge(Ke,rt){var ht=Ce(g,rt);return[We*Ke/(1/w(rt)+Fe/w(ht)),(rt+S*c(ht))/We]}Ge.invert=function(Ke,rt){var ht=We*rt,pt=rt<0?-y:y,kt=25,Pt,Ot;do Ot=ht-S*c(pt),pt-=Pt=(c(2*pt)+2*pt-g*c(Ot))/(2*w(2*pt)+2+g*w(Ot)*S*w(pt));while(E(Pt)>d&&--kt>0);return Ot=ht-S*c(pt),[Ke*(1/w(Ot)+Fe/w(pt))/We,Ot]};function it(){return(0,h.Z)(Ge).scale(160.857)}function qe(Ke){var rt=0,ht=(0,h.r)(Ke),pt=ht(rt);return pt.parallel=function(kt){return arguments.length?ht(rt=kt*A):rt*P},pt}function $e(Ke,rt){return[Ke*w(rt),rt]}$e.invert=function(Ke,rt){return[Ke/w(rt),rt]};function tt(){return(0,h.Z)($e).scale(152.63)}function vt(Ke){if(!Ke)return $e;var rt=1/x(Ke);function ht(pt,kt){var Pt=rt+Ke-kt,Ot=Pt&&pt*w(kt)/Pt;return[Pt*c(Ot),rt-Pt*w(Ot)]}return ht.invert=function(pt,kt){var Pt=N(pt*pt+(kt=rt-kt)*kt),Ot=rt+Ke-Pt;return[Pt/w(Ot)*L(pt,kt),Ot]},ht}function dt(){return qe(vt).scale(123.082).center([0,26.1441]).parallel(45)}function gt(Ke){function rt(ht,pt){var kt=u-pt,Pt=kt&&ht*Ke*c(kt)/kt;return[kt*c(Pt)/Ke,u-kt*w(Pt)]}return rt.invert=function(ht,pt){var kt=ht*Ke,Pt=u-pt,Ot=N(kt*kt+Pt*Pt),cr=L(kt,Pt);return[(Ot?Ot/c(Ot):1)*cr/Ke,u-Ot]},rt}function Mt(){var Ke=.5,rt=(0,h.r)(gt),ht=rt(Ke);return ht.fraction=function(pt){return arguments.length?rt(Ke=+pt):Ke},ht.scale(158.837)}var Ct=Te(1,4/g,g);function Wt(){return(0,h.Z)(Ct).scale(152.63)}var Xe=e(66624),ke=e(49386);function Ie(Ke,rt,ht,pt,kt,Pt){var Ot=w(Pt),cr;if(E(Ke)>1||E(Pt)>1)cr=b(ht*kt+rt*pt*Ot);else{var gr=c(Ke/2),ir=c(Pt/2);cr=2*R(N(gr*gr+rt*pt*ir*ir))}return E(cr)>d?[cr,L(pt*c(Pt),rt*kt-ht*pt*Ot)]:[0,0]}function Oe(Ke,rt,ht){return b((Ke*Ke+rt*rt-ht*ht)/(2*Ke*rt))}function _e(Ke){return Ke-2*g*m((Ke+g)/(2*g))}function Ae(Ke,rt,ht){for(var pt=[[Ke[0],Ke[1],c(Ke[1]),w(Ke[1])],[rt[0],rt[1],c(rt[1]),w(rt[1])],[ht[0],ht[1],c(ht[1]),w(ht[1])]],kt=pt[2],Pt,Ot=0;Ot<3;++Ot,kt=Pt)Pt=pt[Ot],kt.v=Ie(Pt[1]-kt[1],kt[3],kt[2],Pt[3],Pt[2],Pt[0]-kt[0]),kt.point=[0,0];var cr=Oe(pt[0].v[0],pt[2].v[0],pt[1].v[0]),gr=Oe(pt[0].v[0],pt[1].v[0],pt[2].v[0]),ir=g-cr;pt[2].point[1]=0,pt[0].point[0]=-(pt[1].point[0]=pt[0].v[0]/2);var Tr=[pt[2].point[0]=pt[0].point[0]+pt[2].v[0]*w(cr),2*(pt[0].point[1]=pt[1].point[1]=pt[2].v[0]*c(cr))];function Pr(Yr,Jr){var mn=c(Jr),bn=w(Jr),Rn=new Array(3),hi;for(hi=0;hi<3;++hi){var Ci=pt[hi];if(Rn[hi]=Ie(Jr-Ci[1],Ci[3],Ci[2],bn,mn,Yr-Ci[0]),!Rn[hi][0])return Ci.point;Rn[hi][1]=_e(Rn[hi][1]-Ci.v[1])}var Ri=Tr.slice();for(hi=0;hi<3;++hi){var Di=hi==2?0:hi+1,ki=Oe(pt[hi].v[0],Rn[hi][0],Rn[Di][0]);Rn[hi][1]<0&&(ki=-ki),hi?hi==1?(ki=gr-ki,Ri[0]-=Rn[hi][0]*w(ki),Ri[1]-=Rn[hi][0]*c(ki)):(ki=ir-ki,Ri[0]+=Rn[hi][0]*w(ki),Ri[1]+=Rn[hi][0]*c(ki)):(Ri[0]+=Rn[hi][0]*w(ki),Ri[1]-=Rn[hi][0]*c(ki))}return Ri[0]/=3,Ri[1]/=3,Ri}return Pr}function ce(Ke){return Ke[0]*=A,Ke[1]*=A,Ke}function be(){return Re([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Re(Ke,rt,ht){var pt=(0,Xe.Z)({type:"MultiPoint",coordinates:[Ke,rt,ht]}),kt=[-pt[0],-pt[1]],Pt=(0,ke.Z)(kt),Ot=Ae(ce(Pt(Ke)),ce(Pt(rt)),ce(Pt(ht)));Ot.invert=Me(Ot);var cr=(0,h.Z)(Ot).rotate(kt),gr=cr.center;return delete cr.rotate,cr.center=function(ir){return arguments.length?gr(Pt(ir)):Pt.invert(gr())},cr.clipAngle(90)}function Ue(Ke,rt){var ht=N(1-c(rt));return[2/D*Ke*ht,D*(1-ht)]}Ue.invert=function(Ke,rt){var ht=(ht=rt/D-1)*ht;return[ht>0?Ke*N(g/ht)/2:0,R(1-ht)]};function nt(){return(0,h.Z)(Ue).scale(95.6464).center([0,30])}function ot(Ke){var rt=x(Ke);function ht(pt,kt){return[pt,(pt?pt/c(pt):1)*(c(kt)*w(pt)-rt*w(kt))]}return ht.invert=rt?function(pt,kt){pt&&(kt*=c(pt)/pt);var Pt=w(pt);return[pt,2*L(N(Pt*Pt+rt*rt-kt*kt)-Pt,rt-kt)]}:function(pt,kt){return[pt,R(pt?kt*x(pt)/pt:kt)]},ht}function wt(){return qe(ot).scale(249.828).clipAngle(90)}var _t=N(3);function Ut(Ke,rt){return[_t*Ke*(2*w(2*rt/3)-1)/D,_t*D*c(rt/3)]}Ut.invert=function(Ke,rt){var ht=3*R(rt/(_t*D));return[D*Ke/(_t*(2*w(2*ht/3)-1)),ht]};function Vt(){return(0,h.Z)(Ut).scale(156.19)}function Lt(Ke){var rt=w(Ke);function ht(pt,kt){return[pt*rt,c(kt)/rt]}return ht.invert=function(pt,kt){return[pt/rt,R(kt*rt)]},ht}function Kt(){return qe(Lt).parallel(38.58).scale(195.044)}function ar(Ke){var rt=w(Ke);function ht(pt,kt){return[pt*rt,(1+rt)*x(kt/2)]}return ht.invert=function(pt,kt){return[pt/rt,n(kt/(1+rt))*2]},ht}function Fr(){return qe(ar).scale(124.75)}function yt(Ke,rt){var ht=N(8/(3*g));return[ht*Ke*(1-E(rt)/g),ht*rt]}yt.invert=function(Ke,rt){var ht=N(8/(3*g)),pt=rt/ht;return[Ke/(ht*(1-E(pt)/g)),pt]};function Xt(){return(0,h.Z)(yt).scale(165.664)}function Yt(Ke,rt){var ht=N(4-3*c(E(rt)));return[2/N(6*g)*Ke*ht,v(rt)*N(2*g/3)*(2-ht)]}Yt.invert=function(Ke,rt){var ht=2-E(rt)/N(2*g/3);return[Ke*N(6*g)/(2*ht),v(rt)*R((4-ht*ht)/3)]};function br(){return(0,h.Z)(Yt).scale(165.664)}function hr(Ke,rt){var ht=N(g*(4+g));return[2/ht*Ke*(1+N(1-4*rt*rt/(g*g))),4/ht*rt]}hr.invert=function(Ke,rt){var ht=N(g*(4+g))/2;return[Ke*ht/(1+N(1-rt*rt*(4+g)/(4*g))),rt*ht/2]};function ut(){return(0,h.Z)(hr).scale(180.739)}function lt(Ke,rt){var ht=(2+u)*c(rt);rt/=2;for(var pt=0,kt=1/0;pt<10&&E(kt)>d;pt++){var Pt=w(rt);rt-=kt=(rt+c(rt)*(Pt+2)-ht)/(2*Pt*(1+Pt))}return[2/N(g*(4+g))*Ke*(1+w(rt)),2*N(g/(4+g))*c(rt)]}lt.invert=function(Ke,rt){var ht=rt*N((4+g)/g)/2,pt=R(ht),kt=w(pt);return[Ke/(2/N(g*(4+g))*(1+kt)),R((pt+ht*(kt+2))/(2+u))]};function xt(){return(0,h.Z)(lt).scale(180.739)}function Tt(Ke,rt){return[Ke*(1+w(rt))/N(2+g),2*rt/N(2+g)]}Tt.invert=function(Ke,rt){var ht=N(2+g),pt=rt*ht/2;return[ht*Ke/(1+w(pt)),pt]};function Et(){return(0,h.Z)(Tt).scale(173.044)}function At(Ke,rt){for(var ht=(1+u)*c(rt),pt=0,kt=1/0;pt<10&&E(kt)>d;pt++)rt-=kt=(rt+c(rt)-ht)/(1+w(rt));return ht=N(2+g),[Ke*(1+w(rt))/ht,2*rt/ht]}At.invert=function(Ke,rt){var ht=1+u,pt=N(ht/2);return[Ke*2*pt/(1+w(rt*=pt)),R((rt+c(rt))/ht)]};function Ft(){return(0,h.Z)(At).scale(173.044)}var Ht=3+2*S;function $t(Ke,rt){var ht=c(Ke/=2),pt=w(Ke),kt=N(w(rt)),Pt=w(rt/=2),Ot=c(rt)/(Pt+S*pt*kt),cr=N(2/(1+Ot*Ot)),gr=N((S*Pt+(pt+ht)*kt)/(S*Pt+(pt-ht)*kt));return[Ht*(cr*(gr-1/gr)-2*t(gr)),Ht*(cr*Ot*(gr+1/gr)-2*n(Ot))]}$t.invert=function(Ke,rt){if(!(Pt=de.invert(Ke/1.2,rt*1.065)))return null;var ht=Pt[0],pt=Pt[1],kt=20,Pt;Ke/=Ht,rt/=Ht;do{var Ot=ht/2,cr=pt/2,gr=c(Ot),ir=w(Ot),Tr=c(cr),Pr=w(cr),Yr=w(pt),Jr=N(Yr),mn=Tr/(Pr+S*ir*Jr),bn=mn*mn,Rn=N(2/(1+bn)),hi=S*Pr+(ir+gr)*Jr,Ci=S*Pr+(ir-gr)*Jr,Ri=hi/Ci,Di=N(Ri),ki=Di-1/Di,oa=Di+1/Di,Ia=Rn*ki-2*t(Di)-Ke,ma=Rn*mn*oa-2*n(mn)-rt,ve=Tr&&C*Jr*gr*bn/Tr,Pe=(S*ir*Pr+Jr)/(2*(Pr+S*ir*Jr)*(Pr+S*ir*Jr)*Jr),He=-.5*mn*Rn*Rn*Rn,Qe=He*ve,et=He*Pe,at=(at=2*Pr+S*Jr*(ir-gr))*at*Di,Rt=(S*ir*Pr*Jr+Yr)/at,ct=-(S*gr*Tr)/(Jr*at),Nt=ki*Qe-2*Rt/Di+Rn*(Rt+Rt/Ri),er=ki*et-2*ct/Di+Rn*(ct+ct/Ri),tr=mn*oa*Qe-2*ve/(1+bn)+Rn*oa*ve+Rn*mn*(Rt-Rt/Ri),Lr=mn*oa*et-2*Pe/(1+bn)+Rn*oa*Pe+Rn*mn*(ct-ct/Ri),Sr=er*tr-Lr*Nt;if(!Sr)break;var Kr=(ma*er-Ia*Lr)/Sr,en=(Ia*tr-ma*Nt)/Sr;ht-=Kr,pt=r(-u,l(u,pt-en))}while((E(Kr)>d||E(en)>d)&&--kt>0);return E(E(pt)-u)<d?[0,pt]:kt&&[ht,pt]};function Qt(){return(0,h.Z)($t).scale(62.5271)}var or=w(35*A);function Er(Ke,rt){var ht=x(rt/2);return[Ke*or*N(1-ht*ht),(1+or)*ht]}Er.invert=function(Ke,rt){var ht=rt/(1+or);return[Ke&&Ke/(or*N(1-ht*ht)),2*n(ht)]};function Ze(){return(0,h.Z)(Er).scale(137.152)}function Ye(Ke,rt){var ht=rt/2,pt=w(ht);return[2*Ke/D*w(rt)*pt*pt,D*x(ht)]}Ye.invert=function(Ke,rt){var ht=n(rt/D),pt=w(ht),kt=2*ht;return[Ke*D/2/(w(kt)*pt*pt),kt]};function Dt(){return(0,h.Z)(Ye).scale(135.264)}function It(Ke){var rt=1-Ke,ht=Pt(g,0)[0]-Pt(-g,0)[0],pt=Pt(0,u)[1]-Pt(0,-u)[1],kt=N(2*pt/ht);function Pt(gr,ir){var Tr=w(ir),Pr=c(ir);return[Tr/(rt+Ke*Tr)*gr,rt*ir+Ke*Pr]}function Ot(gr,ir){var Tr=Pt(gr,ir);return[Tr[0]*kt,Tr[1]/kt]}function cr(gr){return Ot(0,gr)[1]}return Ot.invert=function(gr,ir){var Tr=Ee(cr,ir),Pr=gr/kt*(Ke+rt/w(Tr));return[Pr,Tr]},Ot}function Zt(){var Ke=.5,rt=(0,h.r)(It),ht=rt(Ke);return ht.alpha=function(pt){return arguments.length?rt(Ke=+pt):Ke},ht.scale(168.725)}var nr=e(57962),lr=e(97492);function rr(Ke){return[Ke[0]/2,R(x(Ke[1]/2*A))*P]}function zt(Ke){return[Ke[0]*2,2*n(c(Ke[1]*A))*P]}function fr(Ke){Ke==null&&(Ke=nr.Z);var rt=Ke(),ht=(0,lr.Z)().scale(P).precision(0).clipAngle(null).translate([0,0]);function pt(Pt){return rt(rr(Pt))}rt.invert&&(pt.invert=function(Pt){return zt(rt.invert(Pt))}),pt.stream=function(Pt){var Ot=rt.stream(Pt),cr=ht.stream({point:function(gr,ir){Ot.point(gr/2,R(x(-ir/2*A))*P)},lineStart:function(){Ot.lineStart()},lineEnd:function(){Ot.lineEnd()},polygonStart:function(){Ot.polygonStart()},polygonEnd:function(){Ot.polygonEnd()}});return cr.sphere=Ot.sphere,cr};function kt(Pt){pt[Pt]=function(){return arguments.length?(rt[Pt].apply(rt,arguments),pt):rt[Pt]()}}return pt.rotate=function(Pt){return arguments.length?(ht.rotate(Pt),pt):ht.rotate()},pt.center=function(Pt){return arguments.length?(rt.center(rr(Pt)),pt):zt(rt.center())},kt("angle"),kt("clipAngle"),kt("clipExtent"),kt("fitExtent"),kt("fitHeight"),kt("fitSize"),kt("fitWidth"),kt("scale"),kt("translate"),kt("precision"),pt.scale(249.5)}function dr(Ke,rt){var ht=2*g/rt,pt=Ke*Ke;function kt(Pt,Ot){var cr=(0,fe.N)(Pt,Ot),gr=cr[0],ir=cr[1],Tr=gr*gr+ir*ir;if(Tr>pt){var Pr=N(Tr),Yr=L(ir,gr),Jr=ht*f(Yr/ht),mn=Yr-Jr,bn=Ke*w(mn),Rn=(Ke*c(mn)-mn*c(bn))/(u-bn),hi=pr(mn,Rn),Ci=(g-Ke)/vr(hi,bn,g);gr=Pr;var Ri=50,Di;do gr-=Di=(Ke+vr(hi,bn,gr)*Ci-Pr)/(hi(gr)*Ci);while(E(Di)>d&&--Ri>0);ir=mn*c(gr),gr<u&&(ir-=Rn*(gr-u));var ki=c(Jr),oa=w(Jr);cr[0]=gr*oa-ir*ki,cr[1]=gr*ki+ir*oa}return cr}return kt.invert=function(Pt,Ot){var cr=Pt*Pt+Ot*Ot;if(cr>pt){var gr=N(cr),ir=L(Ot,Pt),Tr=ht*f(ir/ht),Pr=ir-Tr;Pt=gr*w(Pr),Ot=gr*c(Pr);for(var Yr=Pt-u,Jr=c(Pt),mn=Ot/Jr,bn=Pt<u?1/0:0,Rn=10;;){var hi=Ke*c(mn),Ci=Ke*w(mn),Ri=c(Ci),Di=u-Ci,ki=(hi-mn*Ri)/Di,oa=pr(mn,ki);if(E(bn)<M||!--Rn)break;mn-=bn=(mn*Jr-ki*Yr-Ot)/(Jr-Yr*2*(Di*(Ci+mn*hi*w(Ci)-Ri)-hi*(hi-mn*Ri))/(Di*Di))}gr=Ke+vr(oa,Ci,Pt)*(g-Ke)/vr(oa,Ci,g),ir=Tr+mn,Pt=gr*w(ir),Ot=gr*c(ir)}return fe.N.invert(Pt,Ot)},kt}function pr(Ke,rt){return function(ht){var pt=Ke*w(ht);return ht<u&&(pt-=rt),N(1+pt*pt)}}function vr(Ke,rt,ht){for(var pt=50,kt=(ht-rt)/pt,Pt=Ke(rt)+Ke(ht),Ot=1,cr=rt;Ot<pt;++Ot)Pt+=2*Ke(cr+=kt);return Pt*.5*kt}function Vr(){var Ke=6,rt=30*A,ht=w(rt),pt=c(rt),kt=(0,h.r)(dr),Pt=kt(rt,Ke),Ot=Pt.stream,cr=.01,gr=-w(cr*A),ir=c(cr*A);return Pt.radius=function(Tr){return arguments.length?(ht=w(rt=Tr*A),pt=c(rt),kt(rt,Ke)):rt*P},Pt.lobes=function(Tr){return arguments.length?kt(rt,Ke=+Tr):Ke},Pt.stream=function(Tr){var Pr=Pt.rotate(),Yr=Ot(Tr),Jr=(Pt.rotate([0,0]),Ot(Tr));return Pt.rotate(Pr),Yr.sphere=function(){Jr.polygonStart(),Jr.lineStart();for(var mn=0,bn=2*g/Ke,Rn=0;mn<Ke;++mn,Rn-=bn)Jr.point(L(ir*w(Rn),gr)*P,R(ir*c(Rn))*P),Jr.point(L(pt*w(Rn-bn/2),ht)*P,R(pt*c(Rn-bn/2))*P);Jr.lineEnd(),Jr.polygonEnd()},Yr},Pt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function _r(Ke,rt,ht,pt,kt,Pt,Ot,cr){arguments.length<8&&(cr=0);function gr(ir,Tr){if(!Tr)return[Ke*ir/g,0];var Pr=Tr*Tr,Yr=Ke+Pr*(rt+Pr*(ht+Pr*pt)),Jr=Tr*(kt-1+Pr*(Pt-cr+Pr*Ot)),mn=(Yr*Yr+Jr*Jr)/(2*Jr),bn=ir*R(Yr/mn)/g;return[mn*c(bn),Tr*(1+Pr*cr)+mn*(1-w(bn))]}return gr.invert=function(ir,Tr){var Pr=g*ir/Ke,Yr=Tr,Jr,mn,bn=50;do{var Rn=Yr*Yr,hi=Ke+Rn*(rt+Rn*(ht+Rn*pt)),Ci=Yr*(kt-1+Rn*(Pt-cr+Rn*Ot)),Ri=hi*hi+Ci*Ci,Di=2*Ci,ki=Ri/Di,oa=ki*ki,Ia=R(hi/ki)/g,ma=Pr*Ia,ve=hi*hi,Pe=(2*rt+Rn*(4*ht+Rn*6*pt))*Yr,He=kt+Rn*(3*Pt+Rn*5*Ot),Qe=2*(hi*Pe+Ci*(He-1)),et=2*(He-1),at=(Qe*Di-Ri*et)/(Di*Di),Rt=w(ma),ct=c(ma),Nt=ki*Rt,er=ki*ct,tr=Pr/g*(1/N(1-ve/oa))*(Pe*ki-hi*at)/oa,Lr=er-ir,Sr=Yr*(1+Rn*cr)+ki-Nt-Tr,Kr=at*ct+Nt*tr,en=Nt*Ia,Dr=1+at-(at*Rt-er*tr),Ur=er*Ia,Zr=Kr*Ur-Dr*en;if(!Zr)break;Pr-=Jr=(Sr*Kr-Lr*Dr)/Zr,Yr-=mn=(Lr*Ur-Sr*en)/Zr}while((E(Jr)>d||E(mn)>d)&&--bn>0);return[Pr,Yr]},gr}var kr=_r(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function pn(){return(0,h.Z)(kr).scale(149.995)}var Xr=_r(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function _n(){return(0,h.Z)(Xr).scale(153.93)}var Dn=_r(5/6*g,-.62636,-.0344,0,1.3493,-.05524,0,.045);function xr(){return(0,h.Z)(Dn).scale(130.945)}function Ar(Ke,rt){var ht=Ke*Ke,pt=rt*rt;return[Ke*(1-.162388*pt)*(.87-952426e-9*ht*ht),rt*(1+pt/12)]}Ar.invert=function(Ke,rt){var ht=Ke,pt=rt,kt=50,Pt;do{var Ot=pt*pt;pt-=Pt=(pt*(1+Ot/12)-rt)/(1+Ot/4)}while(E(Pt)>d&&--kt>0);kt=50,Ke/=1-.162388*Ot;do{var cr=(cr=ht*ht)*cr;ht-=Pt=(ht*(.87-952426e-9*cr)-Ke)/(.87-.00476213*cr)}while(E(Pt)>d&&--kt>0);return[ht,pt]};function Or(){return(0,h.Z)(Ar).scale(131.747)}var Br=_r(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function qr(){return(0,h.Z)(Br).scale(131.087)}function vn(Ke){var rt=Ke(u,0)[0]-Ke(-u,0)[0];function ht(pt,kt){var Pt=pt>0?-.5:.5,Ot=Ke(pt+Pt*g,kt);return Ot[0]-=Pt*rt,Ot}return Ke.invert&&(ht.invert=function(pt,kt){var Pt=pt>0?-.5:.5,Ot=Ke.invert(pt+Pt*rt,kt),cr=Ot[0]-Pt*g;return cr<-g?cr+=2*g:cr>g&&(cr-=2*g),Ot[0]=cr,Ot}),ht}function fn(Ke,rt){var ht=v(Ke),pt=v(rt),kt=w(rt),Pt=w(Ke)*kt,Ot=c(Ke)*kt,cr=c(pt*rt);Ke=E(L(Ot,cr)),rt=R(Pt),E(Ke-u)>d&&(Ke%=u);var gr=Tn(Ke>g/4?u-Ke:Ke,rt);return Ke>g/4&&(cr=gr[0],gr[0]=-gr[1],gr[1]=-cr),gr[0]*=ht,gr[1]*=-pt,gr}fn.invert=function(Ke,rt){E(Ke)>1&&(Ke=v(Ke)*2-Ke),E(rt)>1&&(rt=v(rt)*2-rt);var ht=v(Ke),pt=v(rt),kt=-ht*Ke,Pt=-pt*rt,Ot=Pt/kt<1,cr=Pn(Ot?Pt:kt,Ot?kt:Pt),gr=cr[0],ir=cr[1],Tr=w(ir);return Ot&&(gr=-u-gr),[ht*(L(c(gr)*Tr,-c(ir))+g),pt*R(w(gr)*Tr)]};function Tn(Ke,rt){if(rt===u)return[0,0];var ht=c(rt),pt=ht*ht,kt=pt*pt,Pt=1+kt,Ot=1+3*kt,cr=1-kt,gr=R(1/N(Pt)),ir=cr+pt*Pt*gr,Tr=(1-ht)/ir,Pr=N(Tr),Yr=Tr*Pt,Jr=N(Yr),mn=Pr*cr,bn,Rn;if(Ke===0)return[0,-(mn+pt*Jr)];var hi=w(rt),Ci=1/hi,Ri=2*ht*hi,Di=(-3*pt+gr*Ot)*Ri,ki=(-ir*hi-(1-ht)*Di)/(ir*ir),oa=.5*ki/Pr,Ia=cr*oa-2*pt*Pr*Ri,ma=pt*Pt*ki+Tr*Ot*Ri,ve=-Ci*Ri,Pe=-Ci*ma,He=-2*Ci*Ia,Qe=4*Ke/g,et;if(Ke>.222*g||rt<g/4&&Ke>.175*g){if(bn=(mn+pt*N(Yr*(1+kt)-mn*mn))/(1+kt),Ke>g/4)return[bn,bn];var at=bn,Rt=.5*bn;bn=.5*(Rt+at),Rn=50;do{var ct=N(Yr-bn*bn),Nt=bn*(He+ve*ct)+Pe*R(bn/Jr)-Qe;if(!Nt)break;Nt<0?Rt=bn:at=bn,bn=.5*(Rt+at)}while(E(at-Rt)>d&&--Rn>0)}else{bn=d,Rn=25;do{var er=bn*bn,tr=N(Yr-er),Lr=He+ve*tr,Sr=bn*Lr+Pe*R(bn/Jr)-Qe,Kr=Lr+(Pe-ve*er)/tr;bn-=et=tr?Sr/Kr:0}while(E(et)>d&&--Rn>0)}return[bn,-mn-pt*N(Yr-bn*bn)]}function Pn(Ke,rt){for(var ht=0,pt=1,kt=.5,Pt=50;;){var Ot=kt*kt,cr=N(kt),gr=R(1/N(1+Ot)),ir=1-Ot+kt*(1+Ot)*gr,Tr=(1-cr)/ir,Pr=N(Tr),Yr=Tr*(1+Ot),Jr=Pr*(1-Ot),mn=Yr-Ke*Ke,bn=N(mn),Rn=rt+Jr+kt*bn;if(E(pt-ht)<M||--Pt===0||Rn===0)break;Rn>0?ht=kt:pt=kt,kt=.5*(ht+pt)}if(!Pt)return null;var hi=R(cr),Ci=w(hi),Ri=1/Ci,Di=2*cr*Ci,ki=(-3*kt+gr*(1+3*Ot))*Di,oa=(-ir*Ci-(1-cr)*ki)/(ir*ir),Ia=.5*oa/Pr,ma=(1-Ot)*Ia-2*kt*Pr*Di,ve=-2*Ri*ma,Pe=-Ri*Di,He=-Ri*(kt*(1+Ot)*oa+Tr*(1+3*Ot)*Di);return[g/4*(Ke*(ve+Pe*bn)+He*R(Ke/N(Yr))),hi]}function jn(){return(0,h.Z)(vn(fn)).scale(239.75)}function qn(Ke,rt,ht){var pt,kt,Pt;return Ke?(pt=si(Ke,ht),rt?(kt=si(rt,1-ht),Pt=kt[1]*kt[1]+ht*pt[0]*pt[0]*kt[0]*kt[0],[[pt[0]*kt[2]/Pt,pt[1]*pt[2]*kt[0]*kt[1]/Pt],[pt[1]*kt[1]/Pt,-pt[0]*pt[2]*kt[0]*kt[2]/Pt],[pt[2]*kt[1]*kt[2]/Pt,-ht*pt[0]*pt[1]*kt[0]/Pt]]):[[pt[0],0],[pt[1],0],[pt[2],0]]):(kt=si(rt,1-ht),[[0,kt[0]/kt[1]],[1/kt[1],0],[kt[2]/kt[1],0]])}function si(Ke,rt){var ht,pt,kt,Pt,Ot;if(rt<d)return Pt=c(Ke),pt=w(Ke),ht=rt*(Ke-Pt*pt)/4,[Pt-ht*pt,pt+ht*Pt,1-rt*Pt*Pt/2,Ke-ht];if(rt>=1-d)return ht=(1-rt)/4,pt=B(Ke),Pt=O(Ke),kt=1/pt,Ot=pt*Y(Ke),[Pt+ht*(Ot-Ke)/(pt*pt),kt-ht*Pt*kt*(Ot-Ke),kt+ht*Pt*kt*(Ot+Ke),2*n(p(Ke))-u+ht*(Ot-Ke)/pt];var cr=[1,0,0,0,0,0,0,0,0],gr=[N(rt),0,0,0,0,0,0,0,0],ir=0;for(pt=N(1-rt),Ot=1;E(gr[ir]/cr[ir])>d&&ir<8;)ht=cr[ir++],gr[ir]=(ht-pt)/2,cr[ir]=(ht+pt)/2,pt=N(ht*pt),Ot*=2;kt=Ot*cr[ir]*Ke;do Pt=gr[ir]*c(pt=kt)/cr[ir],kt=(R(Pt)+kt)/2;while(--ir);return[c(kt),Pt=w(kt),Pt/w(kt-pt),kt]}function ti(Ke,rt,ht){var pt=E(Ke),kt=E(rt),Pt=Y(kt);if(pt){var Ot=1/c(pt),cr=1/(x(pt)*x(pt)),gr=-(cr+ht*(Pt*Pt*Ot*Ot)-1+ht),ir=(ht-1)*cr,Tr=(-gr+N(gr*gr-4*ir))/2;return[ei(n(1/N(Tr)),ht)*v(Ke),ei(n(N((Tr/cr-1)/ht)),1-ht)*v(rt)]}return[0,ei(n(Pt),1-ht)*v(rt)]}function ei(Ke,rt){if(!rt)return Ke;if(rt===1)return t(x(Ke/2+y));for(var ht=1,pt=N(1-rt),kt=N(rt),Pt=0;E(kt)>d;Pt++){if(Ke%g){var Ot=n(pt*x(Ke)/ht);Ot<0&&(Ot+=g),Ke+=Ot+~~(Ke/g)*g}else Ke+=Ke;kt=(ht+pt)/2,pt=N(ht*pt),kt=((ht=kt)-pt)/2}return Ke/(i(2,Pt)*ht)}function Mr(Ke,rt){var ht=(S-1)/(S+1),pt=N(1-ht*ht),kt=ei(u,pt*pt),Pt=-1,Ot=t(x(g/4+E(rt)/2)),cr=p(Pt*Ot)/N(ht),gr=on(cr*w(Pt*Ke),cr*c(Pt*Ke)),ir=ti(gr[0],gr[1],pt*pt);return[-ir[1],(rt>=0?1:-1)*(.5*kt-ir[0])]}function on(Ke,rt){var ht=Ke*Ke,pt=rt+1,kt=1-ht-rt*rt;return[.5*((Ke>=0?u:-u)-L(kt,2*Ke)),-.25*t(kt*kt+4*ht)+.5*t(pt*pt+ht)]}function nn(Ke,rt){var ht=rt[0]*rt[0]+rt[1]*rt[1];return[(Ke[0]*rt[0]+Ke[1]*rt[1])/ht,(Ke[1]*rt[0]-Ke[0]*rt[1])/ht]}Mr.invert=function(Ke,rt){var ht=(S-1)/(S+1),pt=N(1-ht*ht),kt=ei(u,pt*pt),Pt=-1,Ot=qn(.5*kt-rt,-Ke,pt*pt),cr=nn(Ot[0],Ot[1]),gr=L(cr[1],cr[0])/Pt;return[gr,2*n(p(.5/Pt*t(ht*cr[0]*cr[0]+ht*cr[1]*cr[1])))-u]};function gn(){return(0,h.Z)(vn(Mr)).scale(151.496)}var Nn=e(7613);function En(Ke){var rt=c(Ke),ht=w(Ke),pt=Cn(Ke);pt.invert=Cn(-Ke);function kt(Pt,Ot){var cr=pt(Pt,Ot);Pt=cr[0],Ot=cr[1];var gr=c(Ot),ir=w(Ot),Tr=w(Pt),Pr=b(rt*gr+ht*ir*Tr),Yr=c(Pr),Jr=E(Yr)>d?Pr/Yr:1;return[Jr*ht*c(Pt),(E(Pt)>u?Jr:-Jr)*(rt*ir-ht*gr*Tr)]}return kt.invert=function(Pt,Ot){var cr=N(Pt*Pt+Ot*Ot),gr=-c(cr),ir=w(cr),Tr=cr*ir,Pr=-Ot*gr,Yr=cr*rt,Jr=N(Tr*Tr+Pr*Pr-Yr*Yr),mn=L(Tr*Yr+Pr*Jr,Pr*Yr-Tr*Jr),bn=(cr>u?-1:1)*L(Pt*gr,cr*w(mn)*ir+Ot*c(mn)*gr);return pt.invert(bn,mn)},kt}function Cn(Ke){var rt=c(Ke),ht=w(Ke);return function(pt,kt){var Pt=w(kt),Ot=w(pt)*Pt,cr=c(pt)*Pt,gr=c(kt);return[L(cr,Ot*ht-gr*rt),R(gr*ht+Ot*rt)]}}function Hn(){var Ke=0,rt=(0,h.r)(En),ht=rt(Ke),pt=ht.rotate,kt=ht.stream,Pt=(0,Nn.Z)();return ht.parallel=function(Ot){if(!arguments.length)return Ke*P;var cr=ht.rotate();return rt(Ke=Ot*A).rotate(cr)},ht.rotate=function(Ot){return arguments.length?(pt.call(ht,[Ot[0],Ot[1]-Ke*P]),Pt.center([-Ot[0],-Ot[1]]),ht):(Ot=pt.call(ht),Ot[1]+=Ke*P,Ot)},ht.stream=function(Ot){return Ot=kt(Ot),Ot.sphere=function(){Ot.polygonStart();var cr=.01,gr=Pt.radius(90-cr)().coordinates[0],ir=gr.length-1,Tr=-1,Pr;for(Ot.lineStart();++Tr<ir;)Ot.point((Pr=gr[Tr])[0],Pr[1]);for(Ot.lineEnd(),gr=Pt.radius(90+cr)().coordinates[0],ir=gr.length-1,Ot.lineStart();--Tr>=0;)Ot.point((Pr=gr[Tr])[0],Pr[1]);Ot.lineEnd(),Ot.polygonEnd()},Ot},ht.scale(79.4187).parallel(45).clipAngle(179.999)}var ii=e(33064),Pi=e(72736),ji=3,jt=R(1-1/ji)*P,wr=Lt(0);function an(Ke){var rt=jt*A,ht=Ue(g,rt)[0]-Ue(-g,rt)[0],pt=wr(0,rt)[1],kt=Ue(0,rt)[1],Pt=D-kt,Ot=T/Ke,cr=4/T,gr=pt+Pt*Pt*4/T;function ir(Tr,Pr){var Yr,Jr=E(Pr);if(Jr>rt){var mn=l(Ke-1,r(0,m((Tr+g)/Ot)));Tr+=g*(Ke-1)/Ke-mn*Ot,Yr=Ue(Tr,Jr),Yr[0]=Yr[0]*T/ht-T*(Ke-1)/(2*Ke)+mn*T/Ke,Yr[1]=pt+(Yr[1]-kt)*4*Pt/T,Pr<0&&(Yr[1]=-Yr[1])}else Yr=wr(Tr,Pr);return Yr[0]*=cr,Yr[1]/=gr,Yr}return ir.invert=function(Tr,Pr){Tr/=cr,Pr*=gr;var Yr=E(Pr);if(Yr>pt){var Jr=l(Ke-1,r(0,m((Tr+g)/Ot)));Tr=(Tr+g*(Ke-1)/Ke-Jr*Ot)*ht/T;var mn=Ue.invert(Tr,.25*(Yr-pt)*T/Pt+kt);return mn[0]-=g*(Ke-1)/Ke-Jr*Ot,Pr<0&&(mn[1]=-mn[1]),mn}return wr.invert(Tr,Pr)},ir}function cn(Ke,rt){return[Ke,rt&1?90-d:jt]}function hn(Ke,rt){return[Ke,rt&1?-90+d:-jt]}function Ln(Ke){return[Ke[0]*(1-d),Ke[1]]}function wn(Ke){var rt=[].concat((0,ii.w6)(-180,180+Ke/2,Ke).map(cn),(0,ii.w6)(180,-180-Ke/2,-Ke).map(hn));return{type:"Polygon",coordinates:[Ke===180?rt.map(Ln):rt]}}function un(){var Ke=4,rt=(0,h.r)(an),ht=rt(Ke),pt=ht.stream;return ht.lobes=function(kt){return arguments.length?rt(Ke=+kt):Ke},ht.stream=function(kt){var Pt=ht.rotate(),Ot=pt(kt),cr=(ht.rotate([0,0]),pt(kt));return ht.rotate(Pt),Ot.sphere=function(){(0,Pi.Z)(wn(180/Ke),cr)},Ot},ht.scale(239.75)}function Rr(Ke){var rt=1+Ke,ht=c(1/rt),pt=R(ht),kt=2*N(g/(Pt=g+4*pt*rt)),Pt,Ot=.5*kt*(rt+N(Ke*(2+Ke))),cr=Ke*Ke,gr=rt*rt;function ir(Tr,Pr){var Yr=1-c(Pr),Jr,mn;if(Yr&&Yr<2){var bn=u-Pr,Rn=25,hi;do{var Ci=c(bn),Ri=w(bn),Di=pt+L(Ci,rt-Ri),ki=1+gr-2*rt*Ri;bn-=hi=(bn-cr*pt-rt*Ci+ki*Di-.5*Yr*Pt)/(2*rt*Ci*Di)}while(E(hi)>M&&--Rn>0);Jr=kt*N(ki),mn=Tr*Di/g}else Jr=kt*(Ke+Yr),mn=Tr*pt/g;return[Jr*c(mn),Ot-Jr*w(mn)]}return ir.invert=function(Tr,Pr){var Yr=Tr*Tr+(Pr-=Ot)*Pr,Jr=(1+gr-Yr/(kt*kt))/(2*rt),mn=b(Jr),bn=c(mn),Rn=pt+L(bn,rt-Jr);return[R(Tr/N(Yr))*g/Rn,R(1-2*(mn-cr*pt-rt*bn+(1+gr-2*rt*Jr)*Rn)/Pt)]},ir}function Cr(){var Ke=1,rt=(0,h.r)(Rr),ht=rt(Ke);return ht.ratio=function(pt){return arguments.length?rt(Ke=+pt):Ke},ht.scale(167.774).center([0,18.67])}var zr=.7109889596207567,dn=.0528035274542;function In(Ke,rt){return rt>-zr?(Ke=Le(Ke,rt),Ke[1]+=dn,Ke):$e(Ke,rt)}In.invert=function(Ke,rt){return rt>-zr?Le.invert(Ke,rt-dn):$e.invert(Ke,rt)};function Wn(){return(0,h.Z)(In).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function yn(Ke,rt){return E(rt)>zr?(Ke=Le(Ke,rt),Ke[1]-=rt>0?dn:-dn,Ke):$e(Ke,rt)}yn.invert=function(Ke,rt){return E(rt)>zr?Le.invert(Ke,rt+(rt>0?dn:-dn)):$e.invert(Ke,rt)};function zn(){return(0,h.Z)(yn).scale(152.63)}function $n(Ke,rt,ht,pt){var kt=N(4*g/(2*ht+(1+Ke-rt/2)*c(2*ht)+(Ke+rt)/2*c(4*ht)+rt/2*c(6*ht))),Pt=N(pt*c(ht)*N((1+Ke*w(2*ht)+rt*w(4*ht))/(1+Ke+rt))),Ot=ht*gr(1);function cr(Pr){return N(1+Ke*w(2*Pr)+rt*w(4*Pr))}function gr(Pr){var Yr=Pr*ht;return(2*Yr+(1+Ke-rt/2)*c(2*Yr)+(Ke+rt)/2*c(4*Yr)+rt/2*c(6*Yr))/ht}function ir(Pr){return cr(Pr)*c(Pr)}var Tr=function(Pr,Yr){var Jr=ht*Ee(gr,Ot*c(Yr)/ht,Yr/g);isNaN(Jr)&&(Jr=ht*v(Yr));var mn=kt*cr(Jr);return[mn*Pt*Pr/g*w(Jr),mn/Pt*c(Jr)]};return Tr.invert=function(Pr,Yr){var Jr=Ee(ir,Yr*Pt/kt);return[Pr*g/(w(Jr)*kt*Pt*cr(Jr)),R(ht*gr(Jr/ht)/Ot)]},ht===0&&(kt=N(pt/g),Tr=function(Pr,Yr){return[Pr*kt,c(Yr)/kt]},Tr.invert=function(Pr,Yr){return[Pr/kt,R(Yr*kt)]}),Tr}function li(){var Ke=1,rt=0,ht=45*A,pt=2,kt=(0,h.r)($n),Pt=kt(Ke,rt,ht,pt);return Pt.a=function(Ot){return arguments.length?kt(Ke=+Ot,rt,ht,pt):Ke},Pt.b=function(Ot){return arguments.length?kt(Ke,rt=+Ot,ht,pt):rt},Pt.psiMax=function(Ot){return arguments.length?kt(Ke,rt,ht=+Ot*A,pt):ht*P},Pt.ratio=function(Ot){return arguments.length?kt(Ke,rt,ht,pt=+Ot):pt},Pt.scale(180.739)}function ai(Ke,rt,ht,pt,kt,Pt,Ot,cr,gr,ir,Tr){if(Tr.nanEncountered)return NaN;var Pr,Yr,Jr,mn,bn,Rn,hi,Ci,Ri,Di;if(Pr=ht-rt,Yr=Ke(rt+Pr*.25),Jr=Ke(ht-Pr*.25),isNaN(Yr)){Tr.nanEncountered=!0;return}if(isNaN(Jr)){Tr.nanEncountered=!0;return}return mn=Pr*(pt+4*Yr+kt)/12,bn=Pr*(kt+4*Jr+Pt)/12,Rn=mn+bn,Di=(Rn-Ot)/15,ir>gr?(Tr.maxDepthCount++,Rn+Di):Math.abs(Di)<cr?Rn+Di:(hi=rt+Pr*.5,Ci=ai(Ke,rt,hi,pt,Yr,kt,mn,cr*.5,gr,ir+1,Tr),isNaN(Ci)?(Tr.nanEncountered=!0,NaN):(Ri=ai(Ke,hi,ht,kt,Jr,Pt,bn,cr*.5,gr,ir+1,Tr),isNaN(Ri)?(Tr.nanEncountered=!0,NaN):Ci+Ri))}function oi(Ke,rt,ht,pt,kt){var Pt={maxDepthCount:0,nanEncountered:!1};pt===void 0&&(pt=1e-8),kt===void 0&&(kt=20);var Ot=Ke(rt),cr=Ke(.5*(rt+ht)),gr=Ke(ht),ir=(Ot+4*cr+gr)*(ht-rt)/6,Tr=ai(Ke,rt,ht,Ot,cr,gr,ir,pt,kt,1,Pt);return Tr}function di(Ke,rt,ht){function pt(Jr){return Ke+(1-Ke)*i(1-i(Jr,rt),1/rt)}function kt(Jr){return oi(pt,0,Jr,1e-4)}for(var Pt=1/kt(1),Ot=1e3,cr=(1+1e-8)*Pt,gr=[],ir=0;ir<=Ot;ir++)gr.push(kt(ir/Ot)*cr);function Tr(Jr){var mn=0,bn=Ot,Rn=Ot>>1;do gr[Rn]>Jr?bn=Rn:mn=Rn,Rn=mn+bn>>1;while(Rn>mn);var hi=gr[Rn+1]-gr[Rn];return hi&&(hi=(Jr-gr[Rn+1])/hi),(Rn+1+hi)/Ot}var Pr=2*Tr(1)/g*Pt/ht,Yr=function(Jr,mn){var bn=Tr(E(c(mn))),Rn=pt(bn)*Jr;return bn/=Pr,[Rn,mn>=0?bn:-bn]};return Yr.invert=function(Jr,mn){var bn;return mn*=Pr,E(mn)<1&&(bn=v(mn)*R(kt(E(mn))*Pt)),[Jr/pt(E(mn)),bn]},Yr}function to(){var Ke=0,rt=2.5,ht=1.183136,pt=(0,h.r)(di),kt=pt(Ke,rt,ht);return kt.alpha=function(Pt){return arguments.length?pt(Ke=+Pt,rt,ht):Ke},kt.k=function(Pt){return arguments.length?pt(Ke,rt=+Pt,ht):rt},kt.gamma=function(Pt){return arguments.length?pt(Ke,rt,ht=+Pt):ht},kt.scale(152.63)}function bo(Ke,rt){return E(Ke[0]-rt[0])<d&&E(Ke[1]-rt[1])<d}function So(Ke,rt){for(var ht=-1,pt=Ke.length,kt=Ke[0],Pt,Ot,cr,gr=[];++ht<pt;){Pt=Ke[ht],Ot=(Pt[0]-kt[0])/rt,cr=(Pt[1]-kt[1])/rt;for(var ir=0;ir<rt;++ir)gr.push([kt[0]+ir*Ot,kt[1]+ir*cr]);kt=Pt}return gr.push(Pt),gr}function ko(Ke){var rt=[],ht,pt,kt,Pt,Ot,cr,gr,ir=Ke[0].length;for(gr=0;gr<ir;++gr)ht=Ke[0][gr],pt=ht[0][0],kt=ht[0][1],Pt=ht[1][1],Ot=ht[2][0],cr=ht[2][1],rt.push(So([[pt+d,kt+d],[pt+d,Pt-d],[Ot-d,Pt-d],[Ot-d,cr+d]],30));for(gr=Ke[1].length-1;gr>=0;--gr)ht=Ke[1][gr],pt=ht[0][0],kt=ht[0][1],Pt=ht[1][1],Ot=ht[2][0],cr=ht[2][1],rt.push(So([[Ot-d,cr-d],[Ot-d,Pt+d],[pt+d,Pt+d],[pt+d,kt-d]],30));return{type:"Polygon",coordinates:[(0,ii.TS)(rt)]}}function Eo(Ke,rt,ht){var pt,kt;function Pt(gr,ir){for(var Tr=ir<0?-1:1,Pr=rt[+(ir<0)],Yr=0,Jr=Pr.length-1;Yr<Jr&&gr>Pr[Yr][2][0];++Yr);var mn=Ke(gr-Pr[Yr][1][0],ir);return mn[0]+=Ke(Pr[Yr][1][0],Tr*ir>Tr*Pr[Yr][0][1]?Pr[Yr][0][1]:ir)[0],mn}ht?Pt.invert=ht(Pt):Ke.invert&&(Pt.invert=function(gr,ir){for(var Tr=kt[+(ir<0)],Pr=rt[+(ir<0)],Yr=0,Jr=Tr.length;Yr<Jr;++Yr){var mn=Tr[Yr];if(mn[0][0]<=gr&&gr<mn[1][0]&&mn[0][1]<=ir&&ir<mn[1][1]){var bn=Ke.invert(gr-Ke(Pr[Yr][1][0],0)[0],ir);return bn[0]+=Pr[Yr][1][0],bo(Pt(bn[0],bn[1]),[gr,ir])?bn:null}}});var Ot=(0,h.Z)(Pt),cr=Ot.stream;return Ot.stream=function(gr){var ir=Ot.rotate(),Tr=cr(gr),Pr=(Ot.rotate([0,0]),cr(gr));return Ot.rotate(ir),Tr.sphere=function(){(0,Pi.Z)(pt,Pr)},Tr},Ot.lobes=function(gr){return arguments.length?(pt=ko(gr),rt=gr.map(function(ir){return ir.map(function(Tr){return[[Tr[0][0]*A,Tr[0][1]*A],[Tr[1][0]*A,Tr[1][1]*A],[Tr[2][0]*A,Tr[2][1]*A]]})}),kt=rt.map(function(ir){return ir.map(function(Tr){var Pr=Ke(Tr[0][0],Tr[0][1])[0],Yr=Ke(Tr[2][0],Tr[2][1])[0],Jr=Ke(Tr[1][0],Tr[0][1])[1],mn=Ke(Tr[1][0],Tr[1][1])[1],bn;return Jr>mn&&(bn=Jr,Jr=mn,mn=bn),[[Pr,Jr],[Yr,mn]]})}),Ot):rt.map(function(ir){return ir.map(function(Tr){return[[Tr[0][0]*P,Tr[0][1]*P],[Tr[1][0]*P,Tr[1][1]*P],[Tr[2][0]*P,Tr[2][1]*P]]})})},rt!=null&&Ot.lobes(rt),Ot}var _f=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ta(){return Eo(Ge,_f).scale(160.857)}var wu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Xl(){return Eo(yn,wu).scale(152.63)}var ro=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Io(){return Eo(Le,ro).scale(169.529)}var Sc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Tu(){return Eo(Le,Sc).scale(169.529).rotate([20,0])}var ka=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Au(){return Eo(In,ka,Me).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Vo=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Ja(){return Eo($e,Vo).scale(152.63).rotate([-20,0])}function Wo(Ke,rt){return[3/T*Ke*N(g*g/3-rt*rt),rt]}Wo.invert=function(Ke,rt){return[T/3*Ke/N(g*g/3-rt*rt),rt]};function wo(){return(0,h.Z)(Wo).scale(158.837)}function $o(Ke){function rt(ht,pt){if(E(E(pt)-u)<d)return[0,pt<0?-2:2];var kt=c(pt),Pt=i((1+kt)/(1-kt),Ke/2),Ot=.5*(Pt+1/Pt)+w(ht*=Ke);return[2*c(ht)/Ot,(Pt-1/Pt)/Ot]}return rt.invert=function(ht,pt){var kt=E(pt);if(E(kt-2)<d)return ht?null:[0,v(pt)*u];if(kt>2)return null;ht/=2,pt/=2;var Pt=ht*ht,Ot=pt*pt,cr=2*pt/(1+Pt+Ot);return cr=i((1+cr)/(1-cr),1/Ke),[L(2*ht,1-Pt-Ot)/Ke,R((cr-1)/(cr+1))]},rt}function Ts(){var Ke=.5,rt=(0,h.r)($o),ht=rt(Ke);return ht.spacing=function(pt){return arguments.length?rt(Ke=+pt):Ke},ht.scale(124.75)}var Ns=g/S;function so(Ke,rt){return[Ke*(1+N(w(rt)))/2,rt/(w(rt/2)*w(Ke/6))]}so.invert=function(Ke,rt){var ht=E(Ke),pt=E(rt),kt=d,Pt=u;pt<Ns?Pt*=pt/Ns:kt+=6*b(Ns/pt);for(var Ot=0;Ot<25;Ot++){var cr=c(Pt),gr=N(w(Pt)),ir=c(Pt/2),Tr=w(Pt/2),Pr=c(kt/6),Yr=w(kt/6),Jr=.5*kt*(1+gr)-ht,mn=Pt/(Tr*Yr)-pt,bn=gr?-.25*kt*cr/gr:0,Rn=.5*(1+gr),hi=(1+.5*Pt*ir/Tr)/(Tr*Yr),Ci=Pt/Tr*(Pr/6)/(Yr*Yr),Ri=bn*Ci-hi*Rn,Di=(Jr*Ci-mn*Rn)/Ri,ki=(mn*bn-Jr*hi)/Ri;if(Pt-=Di,kt-=ki,E(Di)<d&&E(ki)<d)break}return[Ke<0?-kt:kt,rt<0?-Pt:Pt]};function Ec(){return(0,h.Z)(so).scale(97.2672)}function As(Ke,rt){var ht=Ke*Ke,pt=rt*rt;return[Ke*(.975534+pt*(-.119161+ht*-.0143059+pt*-.0547009)),rt*(1.00384+ht*(.0802894+pt*-.02855+ht*199025e-9)+pt*(.0998909+pt*-.0491032))]}As.invert=function(Ke,rt){var ht=v(Ke)*g,pt=rt/2,kt=50;do{var Pt=ht*ht,Ot=pt*pt,cr=ht*pt,gr=ht*(.975534+Ot*(-.119161+Pt*-.0143059+Ot*-.0547009))-Ke,ir=pt*(1.00384+Pt*(.0802894+Ot*-.02855+Pt*199025e-9)+Ot*(.0998909+Ot*-.0491032))-rt,Tr=.975534-Ot*(.119161+3*Pt*.0143059+Ot*.0547009),Pr=-cr*(2*.119161+4*.0547009*Ot+2*.0143059*Pt),Yr=cr*(2*.0802894+4*199025e-9*Pt+2*-.02855*Ot),Jr=1.00384+Pt*(.0802894+199025e-9*Pt)+Ot*(3*(.0998909-.02855*Pt)-5*.0491032*Ot),mn=Pr*Yr-Jr*Tr,bn=(ir*Pr-gr*Jr)/mn,Rn=(gr*Yr-ir*Tr)/mn;ht-=bn,pt-=Rn}while((E(bn)>d||E(Rn)>d)&&--kt>0);return kt&&[ht,pt]};function lo(){return(0,h.Z)(As).scale(139.98)}function kf(Ke,rt){return[c(Ke)/w(rt),x(rt)*w(Ke)]}kf.invert=function(Ke,rt){var ht=Ke*Ke,pt=rt*rt,kt=pt+1,Pt=ht+kt,Ot=Ke?C*N((Pt-N(Pt*Pt-4*ht))/ht):1/N(kt);return[R(Ke*Ot),v(rt)*b(Ot)]};function Us(){return(0,h.Z)(kf).scale(144.049).clipAngle(89.999)}function Ms(Ke){var rt=w(Ke),ht=x(y+Ke/2);function pt(kt,Pt){var Ot=Pt-Ke,cr=E(Ot)<d?kt*rt:E(cr=y+Pt/2)<d||E(E(cr)-u)<d?0:kt*Ot/t(x(cr)/ht);return[cr,Ot]}return pt.invert=function(kt,Pt){var Ot,cr=Pt+Ke;return[E(Pt)<d?kt/rt:E(Ot=y+cr/2)<d||E(E(Ot)-u)<d?0:kt*t(x(Ot)/ht)/Pt,cr]},pt}function If(){return qe(Ms).parallel(40).scale(158.837)}function Ff(Ke,rt){return[Ke,1.25*t(x(y+.4*rt))]}Ff.invert=function(Ke,rt){return[Ke,2.5*n(p(.8*rt))-.625*g]};function Oh(){return(0,h.Z)(Ff).scale(108.318)}function Mu(Ke){var rt=Ke.length-1;function ht(pt,kt){for(var Pt=w(kt),Ot=2/(1+Pt*w(pt)),cr=Ot*Pt*c(pt),gr=Ot*c(kt),ir=rt,Tr=Ke[ir],Pr=Tr[0],Yr=Tr[1],Jr;--ir>=0;)Tr=Ke[ir],Pr=Tr[0]+cr*(Jr=Pr)-gr*Yr,Yr=Tr[1]+cr*Yr+gr*Jr;return Pr=cr*(Jr=Pr)-gr*Yr,Yr=cr*Yr+gr*Jr,[Pr,Yr]}return ht.invert=function(pt,kt){var Pt=20,Ot=pt,cr=kt;do{for(var gr=rt,ir=Ke[gr],Tr=ir[0],Pr=ir[1],Yr=0,Jr=0,mn;--gr>=0;)ir=Ke[gr],Yr=Tr+Ot*(mn=Yr)-cr*Jr,Jr=Pr+Ot*Jr+cr*mn,Tr=ir[0]+Ot*(mn=Tr)-cr*Pr,Pr=ir[1]+Ot*Pr+cr*mn;Yr=Tr+Ot*(mn=Yr)-cr*Jr,Jr=Pr+Ot*Jr+cr*mn,Tr=Ot*(mn=Tr)-cr*Pr-pt,Pr=Ot*Pr+cr*mn-kt;var bn=Yr*Yr+Jr*Jr,Rn,hi;Ot-=Rn=(Tr*Yr+Pr*Jr)/bn,cr-=hi=(Pr*Yr-Tr*Jr)/bn}while(E(Rn)+E(hi)>d*d&&--Pt>0);if(Pt){var Ci=N(Ot*Ot+cr*cr),Ri=2*n(Ci*.5),Di=c(Ri);return[L(Ot*Di,Ci*w(Ri)),Ci?R(cr*Di/Ci):0]}},ht}var Bh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Nh=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Uh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],zf=[[.9245,0],[0,0],[.01943,0]],Hh=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Vh(){return Ml(Bh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Cc(){return Ml(Nh,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Wh(){return Ml(Uh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Gh(){return Ml(zf,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Of(){return Ml(Hh,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ml(Ke,rt){var ht=(0,h.Z)(Mu(Ke)).rotate(rt).clipAngle(90),pt=(0,ke.Z)(rt),kt=ht.center;return delete ht.rotate,ht.center=function(Pt){return arguments.length?kt(pt(Pt)):pt.invert(kt())},ht}var Sl=N(6),Kl=N(7);function qu(Ke,rt){var ht=R(7*c(rt)/(3*Sl));return[Sl*Ke*(2*w(2*ht/3)-1)/Kl,9*c(ht/3)/Kl]}qu.invert=function(Ke,rt){var ht=3*R(rt*Kl/9);return[Ke*Kl/(Sl*(2*w(2*ht/3)-1)),R(c(ht)*3*Sl/7)]};function Yh(){return(0,h.Z)(qu).scale(164.859)}function Hs(Ke,rt){for(var ht=(1+C)*c(rt),pt=rt,kt=0,Pt;kt<25&&(pt-=Pt=(c(pt/2)+c(pt)-ht)/(.5*w(pt/2)+w(pt)),!(E(Pt)<d));kt++);return[Ke*(1+2*w(pt)/w(pt/2))/(3*S),2*N(3)*c(pt/2)/N(2+S)]}Hs.invert=function(Ke,rt){var ht=rt*N(2+S)/(2*N(3)),pt=2*R(ht);return[3*S*Ke/(1+2*w(pt)/w(pt/2)),R((ht+c(pt))/(1+C))]};function Lc(){return(0,h.Z)(Hs).scale(188.209)}function Bf(Ke,rt){for(var ht=N(6/(4+g)),pt=(1+g/4)*c(rt),kt=rt/2,Pt=0,Ot;Pt<25&&(kt-=Ot=(kt/2+c(kt)-pt)/(.5+w(kt)),!(E(Ot)<d));Pt++);return[ht*(.5+w(kt))*Ke/1.5,ht*kt]}Bf.invert=function(Ke,rt){var ht=N(6/(4+g)),pt=rt/ht;return E(E(pt)-u)<d&&(pt=pt<0?-u:u),[1.5*Ke/(ht*(.5+w(pt))),R((pt/2+c(pt))/(1+g/4))]};function Zh(){return(0,h.Z)(Bf).scale(166.518)}var qo=e(26867);function El(Ke,rt){var ht=rt*rt,pt=ht*ht,kt=ht*pt;return[Ke*(.84719-.13063*ht+kt*kt*(-.04515+.05494*ht-.02326*pt+.00331*kt)),rt*(1.01183+pt*pt*(-.02625+.01926*ht-.00396*pt))]}El.invert=function(Ke,rt){var ht=rt,pt=25,kt,Pt,Ot,cr;do Pt=ht*ht,Ot=Pt*Pt,ht-=kt=(ht*(1.01183+Ot*Ot*(-.02625+.01926*Pt-.00396*Ot))-rt)/(1.01183+Ot*Ot*(-.23625+.21186*Pt+-.05148*Ot));while(E(kt)>M&&--pt>0);return Pt=ht*ht,Ot=Pt*Pt,cr=Pt*Ot,[Ke/(.84719-.13063*Pt+cr*cr*(-.04515+.05494*Pt-.02326*Ot+.00331*cr)),ht]};function Su(){return(0,h.Z)(El).scale(175.295)}function Jl(Ke,rt){return[Ke*(1+w(rt))/2,2*(rt-x(rt/2))]}Jl.invert=function(Ke,rt){for(var ht=rt/2,pt=0,kt=1/0;pt<10&&E(kt)>d;++pt){var Pt=w(rt/2);rt-=kt=(rt-x(rt/2)-ht)/(1-.5/(Pt*Pt))}return[2*Ke/(1+w(rt)),rt]};function Ss(){return(0,h.Z)(Jl).scale(152.63)}var Vs=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Nf(){return Eo(se(1/0),Vs).rotate([20,0]).scale(152.63)}function Ql(Ke,rt){var ht=c(rt),pt=w(rt),kt=v(Ke);if(Ke===0||E(rt)===u)return[0,rt];if(rt===0)return[Ke,0];if(E(Ke)===u)return[Ke*pt,u*ht];var Pt=g/(2*Ke)-2*Ke/g,Ot=2*rt/g,cr=(1-Ot*Ot)/(ht-Ot),gr=Pt*Pt,ir=cr*cr,Tr=1+gr/ir,Pr=1+ir/gr,Yr=(Pt*ht/cr-Pt/2)/Tr,Jr=(ir*ht/gr+cr/2)/Pr,mn=Yr*Yr+pt*pt/Tr,bn=Jr*Jr-(ir*ht*ht/gr+cr*ht-1)/Pr;return[u*(Yr+N(mn)*kt),u*(Jr+N(bn<0?0:bn)*v(-rt*Pt)*kt)]}Ql.invert=function(Ke,rt){Ke/=u,rt/=u;var ht=Ke*Ke,pt=rt*rt,kt=ht+pt,Pt=g*g;return[Ke?(kt-1+N((1-kt)*(1-kt)+4*ht))/(2*Ke)*u:0,Ee(function(Ot){return kt*(g*c(Ot)-2*Ot)*g+4*Ot*Ot*(rt-c(Ot))+2*g*Ot-Pt*rt},0)]};function rl(){return(0,h.Z)(Ql).scale(127.267)}var Ha=1.0148,Uf=.23185,ef=-.14499,$l=.02406,Pc=Ha,Rc=5*Uf,ql=7*ef,eu=9*$l,no=1.790857183;function tf(Ke,rt){var ht=rt*rt;return[Ke,rt*(Ha+ht*ht*(Uf+ht*(ef+$l*ht)))]}tf.invert=function(Ke,rt){rt>no?rt=no:rt<-no&&(rt=-no);var ht=rt,pt;do{var kt=ht*ht;ht-=pt=(ht*(Ha+kt*kt*(Uf+kt*(ef+$l*kt)))-rt)/(Pc+kt*kt*(Rc+kt*(ql+eu*kt)))}while(E(pt)>d);return[Ke,ht]};function jh(){return(0,h.Z)(tf).scale(139.319)}function Hf(Ke,rt){if(E(rt)<d)return[Ke,0];var ht=x(rt),pt=Ke*c(rt);return[c(pt)/ht,rt+(1-w(pt))/ht]}Hf.invert=function(Ke,rt){if(E(rt)<d)return[Ke,0];var ht=Ke*Ke+rt*rt,pt=rt*.5,kt=10,Pt;do{var Ot=x(pt),cr=1/w(pt),gr=ht-2*rt*pt+pt*pt;pt-=Pt=(Ot*gr+2*(pt-rt))/(2+gr*cr*cr+2*(pt-rt)*Ot)}while(E(Pt)>d&&--kt>0);return Ot=x(pt),[(E(rt)<E(pt+1/Ot)?R(Ke*Ot):v(rt)*v(Ke)*(b(E(Ke*Ot))+u))/c(pt),pt]};function Xh(){return(0,h.Z)(Hf).scale(103.74)}var rf=e(77338),Eu=e(83074);function Vf(Ke,rt){var ht=Gf(Ke[1],Ke[0]),pt=Gf(rt[1],rt[0]),kt=Yf(ht,pt),Pt=nf(ht)/nf(pt);return Cu([1,0,Ke[0][0],0,1,Ke[0][1]],Cu([Pt,0,0,0,Pt,0],Cu([w(kt),c(kt),0,-c(kt),w(kt),0],[1,0,-rt[0][0],0,1,-rt[0][1]])))}function Wf(Ke){var rt=1/(Ke[0]*Ke[4]-Ke[1]*Ke[3]);return[rt*Ke[4],-rt*Ke[1],rt*(Ke[1]*Ke[5]-Ke[2]*Ke[4]),-rt*Ke[3],rt*Ke[0],rt*(Ke[2]*Ke[3]-Ke[0]*Ke[5])]}function Cu(Ke,rt){return[Ke[0]*rt[0]+Ke[1]*rt[3],Ke[0]*rt[1]+Ke[1]*rt[4],Ke[0]*rt[2]+Ke[1]*rt[5]+Ke[2],Ke[3]*rt[0]+Ke[4]*rt[3],Ke[3]*rt[1]+Ke[4]*rt[4],Ke[3]*rt[2]+Ke[4]*rt[5]+Ke[5]]}function Gf(Ke,rt){return[Ke[0]-rt[0],Ke[1]-rt[1]]}function nf(Ke){return N(Ke[0]*Ke[0]+Ke[1]*Ke[1])}function Yf(Ke,rt){return L(Ke[0]*rt[1]-Ke[1]*rt[0],Ke[0]*rt[0]+Ke[1]*rt[1])}function ya(Ke,rt,ht){pt(Ke,{transform:null});function pt(ir,Tr){if(ir.edges=Cl(ir.face),Tr.face){var Pr=ir.shared=tu(ir.face,Tr.face),Yr=Vf(Pr.map(Tr.project),Pr.map(ir.project));ir.transform=Tr.transform?Cu(Tr.transform,Yr):Yr;for(var Jr=Tr.edges,mn=0,bn=Jr.length;mn<bn;++mn)ls(Pr[0],Jr[mn][1])&&ls(Pr[1],Jr[mn][0])&&(Jr[mn]=ir),ls(Pr[0],Jr[mn][0])&&ls(Pr[1],Jr[mn][1])&&(Jr[mn]=ir);for(Jr=ir.edges,mn=0,bn=Jr.length;mn<bn;++mn)ls(Pr[0],Jr[mn][0])&&ls(Pr[1],Jr[mn][1])&&(Jr[mn]=Tr),ls(Pr[0],Jr[mn][1])&&ls(Pr[1],Jr[mn][0])&&(Jr[mn]=Tr)}else ir.transform=Tr.transform;return ir.children&&ir.children.forEach(function(Rn){pt(Rn,ir)}),ir}function kt(ir,Tr){var Pr=rt(ir,Tr),Yr=Pr.project([ir*P,Tr*P]),Jr;return(Jr=Pr.transform)?[Jr[0]*Yr[0]+Jr[1]*Yr[1]+Jr[2],-(Jr[3]*Yr[0]+Jr[4]*Yr[1]+Jr[5])]:(Yr[1]=-Yr[1],Yr)}Zf(Ke)&&(kt.invert=function(ir,Tr){var Pr=Pt(Ke,[ir,-Tr]);return Pr&&(Pr[0]*=A,Pr[1]*=A,Pr)});function Pt(ir,Tr){var Pr=ir.project.invert,Yr=ir.transform,Jr=Tr;if(Yr&&(Yr=Wf(Yr),Jr=[Yr[0]*Jr[0]+Yr[1]*Jr[1]+Yr[2],Yr[3]*Jr[0]+Yr[4]*Jr[1]+Yr[5]]),Pr&&ir===Ot(mn=Pr(Jr)))return mn;for(var mn,bn=ir.children,Rn=0,hi=bn&&bn.length;Rn<hi;++Rn)if(mn=Pt(bn[Rn],Tr))return mn}function Ot(ir){return rt(ir[0]*A,ir[1]*A)}var cr=(0,h.Z)(kt),gr=cr.stream;return cr.stream=function(ir){var Tr=cr.rotate(),Pr=gr(ir),Yr=(cr.rotate([0,0]),gr(ir));return cr.rotate(Tr),Pr.sphere=function(){Yr.polygonStart(),Yr.lineStart(),Dc(Yr,Ke),Yr.lineEnd(),Yr.polygonEnd()},Pr},cr.angle(ht==null?-30:ht*P)}function Dc(Ke,rt,ht){var pt,kt=rt.edges,Pt=kt.length,Ot,cr={type:"MultiPoint",coordinates:rt.face},gr=rt.face.filter(function(bn){return E(bn[1])!==90}),ir=(0,rf.Z)({type:"MultiPoint",coordinates:gr}),Tr=!1,Pr=-1,Yr=ir[1][0]-ir[0][0],Jr=Yr===180||Yr===360?[(ir[0][0]+ir[1][0])/2,(ir[0][1]+ir[1][1])/2]:(0,Xe.Z)(cr);if(ht)for(;++Pr<Pt&&kt[Pr]!==ht;);++Pr;for(var mn=0;mn<Pt;++mn)Ot=kt[(mn+Pr)%Pt],Array.isArray(Ot)?(Tr||(Ke.point((pt=(0,Eu.Z)(Ot[0],Jr)(d))[0],pt[1]),Tr=!0),Ke.point((pt=(0,Eu.Z)(Ot[1],Jr)(d))[0],pt[1])):(Tr=!1,Ot!==ht&&Dc(Ke,Ot,rt))}function ls(Ke,rt){return Ke&&rt&&Ke[0]===rt[0]&&Ke[1]===rt[1]}function tu(Ke,rt){for(var ht,pt,kt=Ke.length,Pt=null,Ot=0;Ot<kt;++Ot){ht=Ke[Ot];for(var cr=rt.length;--cr>=0;)if(pt=rt[cr],ht[0]===pt[0]&&ht[1]===pt[1]){if(Pt)return[Pt,ht];Pt=ht}}}function Cl(Ke){for(var rt=Ke.length,ht=[],pt=Ke[rt-1],kt=0;kt<rt;++kt)ht.push([pt,pt=Ke[kt]]);return ht}function Zf(Ke){return Ke.project.invert||Ke.children&&Ke.children.some(Zf)}var Wa=e(98936),Lu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Fo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ke){return Ke.map(function(rt){return Lu[rt]})});function Ws(Ke){Ke=Ke||function(ht){var pt=(0,Xe.Z)({type:"MultiPoint",coordinates:ht});return(0,Wa.Z)().scale(1).translate([0,0]).rotate([-pt[0],-pt[1]])};var rt=Fo.map(function(ht){return{face:ht,project:Ke(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,pt){var kt=rt[ht];kt&&(kt.children||(kt.children=[])).push(rt[pt])}),ya(rt[0],function(ht,pt){return rt[ht<-g/2?pt<0?6:4:ht<0?pt<0?2:0:ht<g/2?pt<0?3:1:pt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Gs=2/N(3);function nl(Ke,rt){var ht=Ue(Ke,rt);return[ht[0]*Gs,ht[1]]}nl.invert=function(Ke,rt){return Ue.invert(Ke/Gs,rt)};function il(Ke){Ke=Ke||function(ht){var pt=(0,Xe.Z)({type:"MultiPoint",coordinates:ht});return(0,h.Z)(nl).translate([0,0]).scale(1).rotate(pt[1]>0?[-pt[0],0]:[180-pt[0],180])};var rt=Fo.map(function(ht){return{face:ht,project:Ke(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,pt){var kt=rt[ht];kt&&(kt.children||(kt.children=[])).push(rt[pt])}),ya(rt[0],function(ht,pt){return rt[ht<-g/2?pt<0?6:4:ht<0?pt<0?2:0:ht<g/2?pt<0?3:1:pt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function al(Ke){Ke=Ke||function(Ot){var cr=Ot.length===6?(0,Xe.Z)({type:"MultiPoint",coordinates:Ot}):Ot[0];return(0,Wa.Z)().scale(1).translate([0,0]).rotate([-cr[0],-cr[1]])};var rt=Fo.map(function(Ot){for(var cr=Ot.map(Ru),gr=cr.length,ir=cr[gr-1],Tr,Pr=[],Yr=0;Yr<gr;++Yr)Tr=cr[Yr],Pr.push(Pu([ir[0]*.9486832980505138+Tr[0]*.31622776601683794,ir[1]*.9486832980505138+Tr[1]*.31622776601683794,ir[2]*.9486832980505138+Tr[2]*.31622776601683794]),Pu([Tr[0]*.9486832980505138+ir[0]*.31622776601683794,Tr[1]*.9486832980505138+ir[1]*.31622776601683794,Tr[2]*.9486832980505138+ir[2]*.31622776601683794])),ir=Tr;return Pr}),ht=[],pt=[-1,0,0,1,0,1,4,5];rt.forEach(function(Ot,cr){for(var gr=Fo[cr],ir=gr.length,Tr=ht[cr]=[],Pr=0;Pr<ir;++Pr)rt.push([gr[Pr],Ot[(Pr*2+2)%(2*ir)],Ot[(Pr*2+1)%(2*ir)]]),pt.push(cr),Tr.push(Es(Ru(Ot[(Pr*2+2)%(2*ir)]),Ru(Ot[(Pr*2+1)%(2*ir)])))});var kt=rt.map(function(Ot){return{project:Ke(Ot),face:Ot}});pt.forEach(function(Ot,cr){var gr=kt[Ot];gr&&(gr.children||(gr.children=[])).push(kt[cr])});function Pt(Ot,cr){var gr=w(cr),ir=[gr*w(Ot),gr*c(Ot),c(cr)],Tr=Ot<-g/2?cr<0?6:4:Ot<0?cr<0?2:0:Ot<g/2?cr<0?3:1:cr<0?7:5,Pr=ht[Tr];return kt[us(Pr[0],ir)<0?8+3*Tr:us(Pr[1],ir)<0?8+3*Tr+1:us(Pr[2],ir)<0?8+3*Tr+2:Tr]}return ya(kt[0],Pt).angle(-30).scale(110.625).center([0,45])}function us(Ke,rt){for(var ht=0,pt=Ke.length,kt=0;ht<pt;++ht)kt+=Ke[ht]*rt[ht];return kt}function Es(Ke,rt){return[Ke[1]*rt[2]-Ke[2]*rt[1],Ke[2]*rt[0]-Ke[0]*rt[2],Ke[0]*rt[1]-Ke[1]*rt[0]]}function Pu(Ke){return[L(Ke[1],Ke[0])*P,R(r(-1,l(1,Ke[2])))*P]}function Ru(Ke){var rt=Ke[0]*A,ht=Ke[1]*A,pt=w(ht);return[pt*w(rt),pt*c(rt),c(ht)]}function af(){}function Kh(Ke){if((ht=Ke.length)<4)return!1;for(var rt=0,ht,pt=Ke[ht-1][1]*Ke[0][0]-Ke[ht-1][0]*Ke[0][1];++rt<ht;)pt+=Ke[rt-1][1]*Ke[rt][0]-Ke[rt-1][0]*Ke[rt][1];return pt<=0}function Jh(Ke,rt){for(var ht=rt[0],pt=rt[1],kt=!1,Pt=0,Ot=Ke.length,cr=Ot-1;Pt<Ot;cr=Pt++){var gr=Ke[Pt],ir=gr[0],Tr=gr[1],Pr=Ke[cr],Yr=Pr[0],Jr=Pr[1];Tr>pt^Jr>pt&&ht<(Yr-ir)*(pt-Tr)/(Jr-Tr)+ir&&(kt=!kt)}return kt}function Qh(Ke,rt){var ht=rt.stream,pt;if(!ht)throw new Error("invalid projection");switch(Ke&&Ke.type){case"Feature":pt=of;break;case"FeatureCollection":pt=$h;break;default:pt=ru;break}return pt(Ke,ht)}function $h(Ke,rt){return{type:"FeatureCollection",features:Ke.features.map(function(ht){return of(ht,rt)})}}function of(Ke,rt){return{type:"Feature",id:Ke.id,properties:Ke.properties,geometry:ru(Ke.geometry,rt)}}function _c(Ke,rt){return{type:"GeometryCollection",geometries:Ke.geometries.map(function(ht){return ru(ht,rt)})}}function ru(Ke,rt){if(!Ke)return null;if(Ke.type==="GeometryCollection")return _c(Ke,rt);var ht;switch(Ke.type){case"Point":ht=Du;break;case"MultiPoint":ht=Du;break;case"LineString":ht=Ll;break;case"MultiLineString":ht=Ll;break;case"Polygon":ht=_u;break;case"MultiPolygon":ht=_u;break;case"Sphere":ht=_u;break;default:return null}return(0,Pi.Z)(Ke,rt(ht)),ht.result()}var uo=[],zo=[],Du={point:function(Ke,rt){uo.push([Ke,rt])},result:function(){var Ke=uo.length?uo.length<2?{type:"Point",coordinates:uo[0]}:{type:"MultiPoint",coordinates:uo}:null;return uo=[],Ke}},Ll={lineStart:af,point:function(Ke,rt){uo.push([Ke,rt])},lineEnd:function(){uo.length&&(zo.push(uo),uo=[])},result:function(){var Ke=zo.length?zo.length<2?{type:"LineString",coordinates:zo[0]}:{type:"MultiLineString",coordinates:zo}:null;return zo=[],Ke}},_u={polygonStart:af,lineStart:af,point:function(Ke,rt){uo.push([Ke,rt])},lineEnd:function(){var Ke=uo.length;if(Ke){do uo.push(uo[0].slice());while(++Ke<4);zo.push(uo),uo=[]}},polygonEnd:af,result:function(){if(!zo.length)return null;var Ke=[],rt=[];return zo.forEach(function(ht){Kh(ht)?Ke.push([ht]):rt.push(ht)}),rt.forEach(function(ht){var pt=ht[0];Ke.some(function(kt){if(Jh(kt[0],pt))return kt.push(ht),!0})||Ke.push([ht])}),zo=[],Ke.length?Ke.length>1?{type:"MultiPolygon",coordinates:Ke}:{type:"Polygon",coordinates:Ke[0]}:null}};function sf(Ke){var rt=Ke(u,0)[0]-Ke(-u,0)[0];function ht(pt,kt){var Pt=E(pt)<u,Ot=Ke(Pt?pt:pt>0?pt-g:pt+g,kt),cr=(Ot[0]-Ot[1])*C,gr=(Ot[0]+Ot[1])*C;if(Pt)return[cr,gr];var ir=rt*C,Tr=cr>0^gr>0?-1:1;return[Tr*cr-v(gr)*ir,Tr*gr-v(cr)*ir]}return Ke.invert&&(ht.invert=function(pt,kt){var Pt=(pt+kt)*C,Ot=(kt-pt)*C,cr=E(Pt)<.5*rt&&E(Ot)<.5*rt;if(!cr){var gr=rt*C,ir=Pt>0^Ot>0?-1:1,Tr=-ir*pt+(Ot>0?1:-1)*gr,Pr=-ir*kt+(Pt>0?1:-1)*gr;Pt=(-Tr-Pr)*C,Ot=(Tr-Pr)*C}var Yr=Ke.invert(Pt,Ot);return cr||(Yr[0]+=Pt>0?g:-g),Yr}),(0,h.Z)(ht).rotate([-90,-90,45]).clipAngle(179.999)}function qh(){return sf(fn).scale(176.423)}function kc(){return sf(Mr).scale(111.48)}function Ic(Ke,rt){if(!(0<=(rt=+rt)&&rt<=20))throw new Error("invalid digits");function ht(ir){var Tr=ir.length,Pr=2,Yr=new Array(Tr);for(Yr[0]=+ir[0].toFixed(rt),Yr[1]=+ir[1].toFixed(rt);Pr<Tr;)Yr[Pr]=ir[Pr],++Pr;return Yr}function pt(ir){return ir.map(ht)}function kt(ir){for(var Tr=ht(ir[0]),Pr=[Tr],Yr=1;Yr<ir.length;Yr++){var Jr=ht(ir[Yr]);(Jr.length>2||Jr[0]!=Tr[0]||Jr[1]!=Tr[1])&&(Pr.push(Jr),Tr=Jr)}return Pr.length===1&&ir.length>1&&Pr.push(ht(ir[ir.length-1])),Pr}function Pt(ir){return ir.map(kt)}function Ot(ir){if(ir==null)return ir;var Tr;switch(ir.type){case"GeometryCollection":Tr={type:"GeometryCollection",geometries:ir.geometries.map(Ot)};break;case"Point":Tr={type:"Point",coordinates:ht(ir.coordinates)};break;case"MultiPoint":Tr={type:ir.type,coordinates:pt(ir.coordinates)};break;case"LineString":Tr={type:ir.type,coordinates:kt(ir.coordinates)};break;case"MultiLineString":case"Polygon":Tr={type:ir.type,coordinates:Pt(ir.coordinates)};break;case"MultiPolygon":Tr={type:"MultiPolygon",coordinates:ir.coordinates.map(Pt)};break;default:return ir}return ir.bbox!=null&&(Tr.bbox=ir.bbox),Tr}function cr(ir){var Tr={type:"Feature",properties:ir.properties,geometry:Ot(ir.geometry)};return ir.id!=null&&(Tr.id=ir.id),ir.bbox!=null&&(Tr.bbox=ir.bbox),Tr}if(Ke!=null)switch(Ke.type){case"Feature":return cr(Ke);case"FeatureCollection":{var gr={type:"FeatureCollection",features:Ke.features.map(cr)};return Ke.bbox!=null&&(gr.bbox=Ke.bbox),gr}default:return Ot(Ke)}return Ke}function jf(Ke){var rt=c(Ke);function ht(pt,kt){var Pt=rt?x(pt*rt/2)/rt:pt/2;if(!kt)return[2*Pt,-Ke];var Ot=2*n(Pt*c(kt)),cr=1/x(kt);return[c(Ot)*cr,kt+(1-w(Ot))*cr-Ke]}return ht.invert=function(pt,kt){if(E(kt+=Ke)<d)return[rt?2*n(rt*pt/2)/rt:pt,0];var Pt=pt*pt+kt*kt,Ot=0,cr=10,gr;do{var ir=x(Ot),Tr=1/w(Ot),Pr=Pt-2*kt*Ot+Ot*Ot;Ot-=gr=(ir*Pr+2*(Ot-kt))/(2+Pr*Tr*Tr+2*(Ot-kt)*ir)}while(E(gr)>d&&--cr>0);var Yr=pt*(ir=x(Ot)),Jr=x(E(kt)<E(Ot+1/ir)?R(Yr)*.5:b(Yr)*.5+g/4)/c(Ot);return[rt?2*n(rt*Jr)/rt:2*Jr,Ot]},ht}function ol(){return qe(jf).scale(131.215)}var Ga=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ga.forEach(function(Ke){Ke[1]*=1.0144});function Cs(Ke,rt){var ht=l(18,E(rt)*36/g),pt=m(ht),kt=ht-pt,Pt=(Pr=Ga[pt])[0],Ot=Pr[1],cr=(Pr=Ga[++pt])[0],gr=Pr[1],ir=(Pr=Ga[l(19,++pt)])[0],Tr=Pr[1],Pr;return[Ke*(cr+kt*(ir-Pt)/2+kt*kt*(ir-2*cr+Pt)/2),(rt>0?u:-u)*(gr+kt*(Tr-Ot)/2+kt*kt*(Tr-2*gr+Ot)/2)]}Cs.invert=function(Ke,rt){var ht=rt/u,pt=ht*90,kt=l(18,E(pt/5)),Pt=r(0,m(kt));do{var Ot=Ga[Pt][1],cr=Ga[Pt+1][1],gr=Ga[l(19,Pt+2)][1],ir=gr-Ot,Tr=gr-2*cr+Ot,Pr=2*(E(ht)-cr)/ir,Yr=Tr/ir,Jr=Pr*(1-Yr*Pr*(1-2*Yr*Pr));if(Jr>=0||Pt===1){pt=(rt>=0?5:-5)*(Jr+kt);var mn=50,bn;do kt=l(18,E(pt)/5),Pt=m(kt),Jr=kt-Pt,Ot=Ga[Pt][1],cr=Ga[Pt+1][1],gr=Ga[l(19,Pt+2)][1],pt-=(bn=(rt>=0?u:-u)*(cr+Jr*(gr-Ot)/2+Jr*Jr*(gr-2*cr+Ot)/2)-rt)*P;while(E(bn)>M&&--mn>0);break}}while(--Pt>=0);var Rn=Ga[Pt][0],hi=Ga[Pt+1][0],Ci=Ga[l(19,Pt+2)][0];return[Ke/(hi+Jr*(Ci-Rn)/2+Jr*Jr*(Ci-2*hi+Rn)/2),pt*A]};function Xf(){return(0,h.Z)(Cs).scale(152.63)}function Fc(Ke){function rt(ht,pt){var kt=w(pt),Pt=(Ke-1)/(Ke-kt*w(ht));return[Pt*kt*c(ht),Pt*c(pt)]}return rt.invert=function(ht,pt){var kt=ht*ht+pt*pt,Pt=N(kt),Ot=(Ke-N(1-kt*(Ke+1)/(Ke-1)))/((Ke-1)/Pt+Pt/(Ke-1));return[L(ht*Ot,Pt*N(1-Ot*Ot)),Pt?R(pt*Ot/Pt):0]},rt}function Pl(Ke,rt){var ht=Fc(Ke);if(!rt)return ht;var pt=w(rt),kt=c(rt);function Pt(Ot,cr){var gr=ht(Ot,cr),ir=gr[1],Tr=ir*kt/(Ke-1)+pt;return[gr[0]*pt/Tr,ir/Tr]}return Pt.invert=function(Ot,cr){var gr=(Ke-1)/(Ke-1-cr*kt);return ht.invert(gr*Ot,gr*cr*pt)},Pt}function lf(){var Ke=2,rt=0,ht=(0,h.r)(Pl),pt=ht(Ke,rt);return pt.distance=function(kt){return arguments.length?ht(Ke=+kt,rt):Ke},pt.tilt=function(kt){return arguments.length?ht(Ke,rt=kt*A):rt*P},pt.scale(432.147).clipAngle(b(1/Ke)*P-1e-6)}var fs=1e-4,uf=1e4,Ys=-180,Zs=Ys+fs,Kf=180,nu=Kf-fs,fa=-90,Rl=fa+fs,ff=90,cf=ff-fs;function sl(Ke){return Ke.length>0}function ev(Ke){return Math.floor(Ke*uf)/uf}function Jf(Ke){return Ke===fa||Ke===ff?[0,Ke]:[Ys,ev(Ke)]}function iu(Ke){var rt=Ke[0],ht=Ke[1],pt=!1;return rt<=Zs?(rt=Ys,pt=!0):rt>=nu&&(rt=Kf,pt=!0),ht<=Rl?(ht=fa,pt=!0):ht>=cf&&(ht=ff,pt=!0),pt?[rt,ht]:Ke}function Qf(Ke){return Ke.map(iu)}function zc(Ke,rt,ht){for(var pt=0,kt=Ke.length;pt<kt;++pt){var Pt=Ke[pt].slice();ht.push({index:-1,polygon:rt,ring:Pt});for(var Ot=0,cr=Pt.length;Ot<cr;++Ot){var gr=Pt[Ot],ir=gr[0],Tr=gr[1];if(ir<=Zs||ir>=nu||Tr<=Rl||Tr>=cf){Pt[Ot]=iu(gr);for(var Pr=Ot+1;Pr<cr;++Pr){var Yr=Pt[Pr],Jr=Yr[0],mn=Yr[1];if(Jr>Zs&&Jr<nu&&mn>Rl&&mn<cf)break}if(Pr===Ot+1)continue;if(Ot){var bn={index:-1,polygon:rt,ring:Pt.slice(0,Ot+1)};bn.ring[bn.ring.length-1]=Jf(Tr),ht[ht.length-1]=bn}else ht.pop();if(Pr>=cr)break;ht.push({index:-1,polygon:rt,ring:Pt=Pt.slice(Pr-1)}),Pt[0]=Jf(Pt[0][1]),Ot=-1,cr=Pt.length}}}}function js(Ke){var rt,ht=Ke.length,pt={},kt={},Pt,Ot,cr,gr,ir;for(rt=0;rt<ht;++rt){if(Pt=Ke[rt],Ot=Pt.ring[0],gr=Pt.ring[Pt.ring.length-1],Ot[0]===gr[0]&&Ot[1]===gr[1]){Pt.polygon.push(Pt.ring),Ke[rt]=null;continue}Pt.index=rt,pt[Ot]=kt[gr]=Pt}for(rt=0;rt<ht;++rt)if(Pt=Ke[rt],Pt){if(Ot=Pt.ring[0],gr=Pt.ring[Pt.ring.length-1],cr=kt[Ot],ir=pt[gr],delete pt[Ot],delete kt[gr],Ot[0]===gr[0]&&Ot[1]===gr[1]){Pt.polygon.push(Pt.ring);continue}cr?(delete kt[Ot],delete pt[cr.ring[0]],cr.ring.pop(),Ke[cr.index]=null,Pt={index:-1,polygon:cr.polygon,ring:cr.ring.concat(Pt.ring)},cr===ir?Pt.polygon.push(Pt.ring):(Pt.index=ht++,Ke.push(pt[Pt.ring[0]]=kt[Pt.ring[Pt.ring.length-1]]=Pt))):ir?(delete pt[gr],delete kt[ir.ring[ir.ring.length-1]],Pt.ring.pop(),Pt={index:ht++,polygon:ir.polygon,ring:Pt.ring.concat(ir.ring)},Ke[ir.index]=null,Ke.push(pt[Pt.ring[0]]=kt[Pt.ring[Pt.ring.length-1]]=Pt)):(Pt.ring.push(Pt.ring[0]),Pt.polygon.push(Pt.ring))}}function ll(Ke){var rt={type:"Feature",geometry:Dl(Ke.geometry)};return Ke.id!=null&&(rt.id=Ke.id),Ke.bbox!=null&&(rt.bbox=Ke.bbox),Ke.properties!=null&&(rt.properties=Ke.properties),rt}function Dl(Ke){if(Ke==null)return Ke;var rt,ht,pt,kt;switch(Ke.type){case"GeometryCollection":rt={type:"GeometryCollection",geometries:Ke.geometries.map(Dl)};break;case"Point":rt={type:"Point",coordinates:iu(Ke.coordinates)};break;case"MultiPoint":case"LineString":rt={type:Ke.type,coordinates:Qf(Ke.coordinates)};break;case"MultiLineString":rt={type:"MultiLineString",coordinates:Ke.coordinates.map(Qf)};break;case"Polygon":{var Pt=[];zc(Ke.coordinates,Pt,ht=[]),js(ht),rt={type:"Polygon",coordinates:Pt};break}case"MultiPolygon":{ht=[],pt=-1,kt=Ke.coordinates.length;for(var Ot=new Array(kt);++pt<kt;)zc(Ke.coordinates[pt],Ot[pt]=[],ht);js(ht),rt={type:"MultiPolygon",coordinates:Ot.filter(sl)};break}default:return Ke}return Ke.bbox!=null&&(rt.bbox=Ke.bbox),rt}function _l(Ke){if(Ke==null)return Ke;switch(Ke.type){case"Feature":return ll(Ke);case"FeatureCollection":{var rt={type:"FeatureCollection",features:Ke.features.map(ll)};return Ke.bbox!=null&&(rt.bbox=Ke.bbox),rt}default:return Dl(Ke)}}function Oo(Ke,rt){var ht=x(rt/2),pt=c(y*ht);return[Ke*(.74482-.34588*pt*pt),1.70711*ht]}Oo.invert=function(Ke,rt){var ht=rt/1.70711,pt=c(y*ht);return[Ke/(.74482-.34588*pt*pt),2*n(ht)]};function Go(){return(0,h.Z)(Oo).scale(146.153)}function kl(Ke,rt,ht){var pt=(0,Eu.Z)(rt,ht),kt=pt(.5),Pt=(0,ke.Z)([-kt[0],-kt[1]])(rt),Ot=pt.distance/2,cr=-R(c(Pt[1]*A)/c(Ot)),gr=[-kt[0],-kt[1],-(Pt[0]>0?g-cr:cr)*P],ir=(0,h.Z)(Ke(Ot)).rotate(gr),Tr=(0,ke.Z)(gr),Pr=ir.center;return delete ir.rotate,ir.center=function(Yr){return arguments.length?Pr(Tr(Yr)):Tr.invert(Pr())},ir.clipAngle(90)}function Oc(Ke){var rt=w(Ke);function ht(pt,kt){var Pt=(0,Wa.M)(pt,kt);return Pt[0]*=rt,Pt}return ht.invert=function(pt,kt){return Wa.M.invert(pt/rt,kt)},ht}function au(){return hf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function hf(Ke,rt){return kl(Oc,Ke,rt)}function Bc(Ke){if(!(Ke*=2))return fe.N;var rt=-Ke/2,ht=-rt,pt=Ke*Ke,kt=x(ht),Pt=.5/c(ht);function Ot(cr,gr){var ir=b(w(gr)*w(cr-rt)),Tr=b(w(gr)*w(cr-ht)),Pr=gr<0?-1:1;return ir*=ir,Tr*=Tr,[(ir-Tr)/(2*Ke),Pr*N(4*pt*Tr-(pt-ir+Tr)*(pt-ir+Tr))/(2*Ke)]}return Ot.invert=function(cr,gr){var ir=gr*gr,Tr=w(N(ir+(Yr=cr+rt)*Yr)),Pr=w(N(ir+(Yr=cr+ht)*Yr)),Yr,Jr;return[L(Jr=Tr-Pr,Yr=(Tr+Pr)*kt),(gr<0?-1:1)*b(N(Yr*Yr+Jr*Jr)*Pt)]},Ot}function cs(){return $f([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function $f(Ke,rt){return kl(Bc,Ke,rt)}function ul(Ke,rt){if(E(rt)<d)return[Ke,0];var ht=E(rt/u),pt=R(ht);if(E(Ke)<d||E(E(rt)-u)<d)return[0,v(rt)*g*x(pt/2)];var kt=w(pt),Pt=E(g/Ke-Ke/g)/2,Ot=Pt*Pt,cr=kt/(ht+kt-1),gr=cr*(2/ht-1),ir=gr*gr,Tr=ir+Ot,Pr=cr-ir,Yr=Ot+cr;return[v(Ke)*g*(Pt*Pr+N(Ot*Pr*Pr-Tr*(cr*cr-ir)))/Tr,v(rt)*g*(gr*Yr-Pt*N((Ot+1)*Tr-Yr*Yr))/Tr]}ul.invert=function(Ke,rt){if(E(rt)<d)return[Ke,0];if(E(Ke)<d)return[0,u*c(2*n(rt/g))];var ht=(Ke/=g)*Ke,pt=(rt/=g)*rt,kt=ht+pt,Pt=kt*kt,Ot=-E(rt)*(1+kt),cr=Ot-2*pt+ht,gr=-2*Ot+1+2*pt+Pt,ir=pt/gr+(2*cr*cr*cr/(gr*gr*gr)-9*Ot*cr/(gr*gr))/27,Tr=(Ot-cr*cr/(3*gr))/gr,Pr=2*N(-Tr/3),Yr=b(3*ir/(Tr*Pr))/3;return[g*(kt-1+N(1+2*(ht-pt)+Pt))/(2*Ke),v(rt)*g*(-Pr*w(Yr+g/3)-cr/(3*gr))]};function ku(){return(0,h.Z)(ul).scale(79.4183)}function Xs(Ke,rt){if(E(rt)<d)return[Ke,0];var ht=E(rt/u),pt=R(ht);if(E(Ke)<d||E(E(rt)-u)<d)return[0,v(rt)*g*x(pt/2)];var kt=w(pt),Pt=E(g/Ke-Ke/g)/2,Ot=Pt*Pt,cr=kt*(N(1+Ot)-Pt*kt)/(1+Ot*ht*ht);return[v(Ke)*g*cr,v(rt)*g*N(1-cr*(2*Pt+cr))]}Xs.invert=function(Ke,rt){if(!Ke)return[0,u*c(2*n(rt/g))];var ht=E(Ke/g),pt=(1-ht*ht-(rt/=g)*rt)/(2*ht),kt=pt*pt,Pt=N(kt+1);return[v(Ke)*g*(Pt-pt),v(rt)*u*c(2*L(N((1-2*pt*ht)*(pt+Pt)-ht),N(Pt+pt+ht)))]};function tv(){return(0,h.Z)(Xs).scale(79.4183)}function qf(Ke,rt){if(E(rt)<d)return[Ke,0];var ht=rt/u,pt=R(ht);if(E(Ke)<d||E(E(rt)-u)<d)return[0,g*x(pt/2)];var kt=(g/Ke-Ke/g)/2,Pt=ht/(1+w(pt));return[g*(v(Ke)*N(kt*kt+1-Pt*Pt)-kt),g*Pt]}qf.invert=function(Ke,rt){if(!rt)return[Ke,0];var ht=rt/g,pt=(g*g*(1-ht*ht)-Ke*Ke)/(2*g*Ke);return[Ke?g*(v(Ke)*N(pt*pt+1)-pt):0,u*c(2*n(ht))]};function vf(){return(0,h.Z)(qf).scale(79.4183)}function To(Ke,rt){if(!rt)return[Ke,0];var ht=E(rt);if(!Ke||ht===u)return[0,rt];var pt=ht/u,kt=pt*pt,Pt=(8*pt-kt*(kt+2)-5)/(2*kt*(pt-1)),Ot=Pt*Pt,cr=pt*Pt,gr=kt+Ot+2*cr,ir=pt+3*Pt,Tr=Ke/u,Pr=Tr+1/Tr,Yr=v(E(Ke)-u)*N(Pr*Pr-4),Jr=Yr*Yr,mn=gr*(kt+Ot*Jr-1)+(1-kt)*(kt*(ir*ir+4*Ot)+12*cr*Ot+4*Ot*Ot),bn=(Yr*(gr+Ot-1)+2*N(mn))/(4*gr+Jr);return[v(Ke)*u*bn,v(rt)*u*N(1+Yr*E(bn)-bn*bn)]}To.invert=function(Ke,rt){var ht;if(!Ke||!rt)return[Ke,rt];rt/=g;var pt=v(Ke)*Ke/u,kt=(pt*pt-1+4*rt*rt)/E(pt),Pt=kt*kt,Ot=2*rt,cr=50;do{var gr=Ot*Ot,ir=(8*Ot-gr*(gr+2)-5)/(2*gr*(Ot-1)),Tr=(3*Ot-gr*Ot-10)/(2*gr*Ot),Pr=ir*ir,Yr=Ot*ir,Jr=Ot+ir,mn=Jr*Jr,bn=Ot+3*ir,Rn=mn*(gr+Pr*Pt-1)+(1-gr)*(gr*(bn*bn+4*Pr)+Pr*(12*Yr+4*Pr)),hi=-2*Jr*(4*Yr*Pr+(1-4*gr+3*gr*gr)*(1+Tr)+Pr*(-6+14*gr-Pt+(-8+8*gr-2*Pt)*Tr)+Yr*(-8+12*gr+(-10+10*gr-Pt)*Tr)),Ci=N(Rn),Ri=kt*(mn+Pr-1)+2*Ci-pt*(4*mn+Pt),Di=kt*(2*ir*Tr+2*Jr*(1+Tr))+hi/Ci-8*Jr*(kt*(-1+Pr+mn)+2*Ci)*(1+Tr)/(Pt+4*mn);Ot-=ht=Ri/Di}while(ht>d&&--cr>0);return[v(Ke)*(N(kt*kt+4)+kt)*g/4,u*Ot]};function Nc(){return(0,h.Z)(To).scale(127.16)}function Iu(Ke,rt,ht,pt,kt){function Pt(Ot,cr){var gr=ht*c(pt*cr),ir=N(1-gr*gr),Tr=N(2/(1+ir*w(Ot*=kt)));return[Ke*ir*Tr*c(Ot),rt*gr*Tr]}return Pt.invert=function(Ot,cr){var gr=Ot/Ke,ir=cr/rt,Tr=N(gr*gr+ir*ir),Pr=2*R(Tr/2);return[L(Ot*x(Pr),Ke*Tr)/kt,Tr&&R(cr*c(Pr)/(rt*ht*Tr))/pt]},Pt}function Ls(Ke,rt,ht,pt){var kt=g/3;Ke=r(Ke,d),rt=r(rt,d),Ke=l(Ke,u),rt=l(rt,g-d),ht=r(ht,0),ht=l(ht,100-d),pt=r(pt,d);var Pt=ht/100+1,Ot=pt/100,cr=b(Pt*w(kt))/kt,gr=c(Ke)/c(cr*u),ir=rt/g,Tr=N(Ot*c(Ke/2)/c(rt/2)),Pr=Tr/N(ir*gr*cr),Yr=1/(Tr*N(ir*gr*cr));return Iu(Pr,Yr,gr,cr,ir)}function Fu(){var Ke=65*A,rt=60*A,ht=20,pt=200,kt=(0,h.r)(Ls),Pt=kt(Ke,rt,ht,pt);return Pt.poleline=function(Ot){return arguments.length?kt(Ke=+Ot*A,rt,ht,pt):Ke*P},Pt.parallels=function(Ot){return arguments.length?kt(Ke,rt=+Ot*A,ht,pt):rt*P},Pt.inflation=function(Ot){return arguments.length?kt(Ke,rt,ht=+Ot,pt):ht},Pt.ratio=function(Ot){return arguments.length?kt(Ke,rt,ht,pt=+Ot):pt},Pt.scale(163.775)}function fl(){return Fu().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var df=4*g+3*N(3),Uc=2*N(2*g*N(3)/df),ec=Te(Uc*N(3)/g,Uc,df/6);function tc(){return(0,h.Z)(ec).scale(176.84)}function Il(Ke,rt){return[Ke*N(1-3*rt*rt/(g*g)),rt]}Il.invert=function(Ke,rt){return[Ke/N(1-3*rt*rt/(g*g)),rt]};function pf(){return(0,h.Z)(Il).scale(152.63)}function zu(Ke,rt){var ht=w(rt),pt=w(Ke)*ht,kt=1-pt,Pt=w(Ke=L(c(Ke)*ht,-c(rt))),Ot=c(Ke);return ht=N(1-pt*pt),[Ot*ht-Pt*kt,-Pt*ht-Ot*kt]}zu.invert=function(Ke,rt){var ht=(Ke*Ke+rt*rt)/-2,pt=N(-ht*(2+ht)),kt=rt*ht+Ke*pt,Pt=Ke*ht-rt*pt,Ot=N(Pt*Pt+kt*kt);return[L(pt*kt,Ot*(1+ht)),Ot?-R(pt*Pt/Ot):0]};function Hc(){return(0,h.Z)(zu).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Ou(Ke,rt){var ht=j(Ke,rt);return[(ht[0]+Ke/u)/2,(ht[1]+rt)/2]}Ou.invert=function(Ke,rt){var ht=Ke,pt=rt,kt=25;do{var Pt=w(pt),Ot=c(pt),cr=c(2*pt),gr=Ot*Ot,ir=Pt*Pt,Tr=c(ht),Pr=w(ht/2),Yr=c(ht/2),Jr=Yr*Yr,mn=1-ir*Pr*Pr,bn=mn?b(Pt*Pr)*N(Rn=1/mn):Rn=0,Rn,hi=.5*(2*bn*Pt*Yr+ht/u)-Ke,Ci=.5*(bn*Ot+pt)-rt,Ri=.5*Rn*(ir*Jr+bn*Pt*Pr*gr)+.5/u,Di=Rn*(Tr*cr/4-bn*Ot*Yr),ki=.125*Rn*(cr*Yr-bn*Ot*ir*Tr),oa=.5*Rn*(gr*Pr+bn*Jr*Pt)+.5,Ia=Di*ki-oa*Ri,ma=(Ci*Di-hi*oa)/Ia,ve=(hi*ki-Ci*Ri)/Ia;ht-=ma,pt-=ve}while((E(ma)>d||E(ve)>d)&&--kt>0);return[ht,pt]};function Vc(){return(0,h.Z)(Ou).scale(158.837)}},33940:function(k,F,e){e.d(F,{Z:function(){return h}});function h(){return new E}function E(){this.reset()}E.prototype={constructor:E,reset:function(){this.s=this.t=0},add:function(w){L(n,w,this.t),L(this,n.s,this.s),this.s?this.t+=n.t:this.s=n.t},valueOf:function(){return this.s}};var n=new E;function L(w,p,m){var t=w.s=p+m,r=t-p,l=t-r;w.t=p-l+(m-r)}},97860:function(k,F,e){e.d(F,{L9:function(){return w},ZP:function(){return M},gL:function(){return f}});var h=e(33940),E=e(39695),n=e(73182),L=e(72736),w=(0,h.Z)(),p=(0,h.Z)(),m,t,r,l,i,f={point:n.Z,lineStart:n.Z,lineEnd:n.Z,polygonStart:function(){w.reset(),f.lineStart=v,f.lineEnd=c},polygonEnd:function(){var g=+w;p.add(g<0?E.BZ+g:g),this.lineStart=this.lineEnd=this.point=n.Z},sphere:function(){p.add(E.BZ)}};function v(){f.point=x}function c(){d(m,t)}function x(g,u){f.point=d,m=g,t=u,g*=E.uR,u*=E.uR,r=g,l=(0,E.mC)(u=u/2+E.pu),i=(0,E.O$)(u)}function d(g,u){g*=E.uR,u*=E.uR,u=u/2+E.pu;var y=g-r,C=y>=0?1:-1,S=C*y,D=(0,E.mC)(u),T=(0,E.O$)(u),P=i*T,A=l*D+P*(0,E.mC)(S),a=P*C*(0,E.O$)(S);w.add((0,E.fv)(a,A)),r=g,l=D,i=T}function M(g){return p.reset(),(0,L.Z)(g,f),p*2}},77338:function(k,F,e){e.d(F,{Z:function(){return R}});var h=e(33940),E=e(97860),n=e(7620),L=e(39695),w=e(72736),p,m,t,r,l,i,f,v,c=(0,h.Z)(),x,d,M={point:g,lineStart:y,lineEnd:C,polygonStart:function(){M.point=S,M.lineStart=D,M.lineEnd=T,c.reset(),E.gL.polygonStart()},polygonEnd:function(){E.gL.polygonEnd(),M.point=g,M.lineStart=y,M.lineEnd=C,E.L9<0?(p=-(t=180),m=-(r=90)):c>L.Ho?r=90:c<-L.Ho&&(m=-90),d[0]=p,d[1]=t},sphere:function(){p=-(t=180),m=-(r=90)}};function g(b,N){x.push(d=[p=b,t=b]),N<m&&(m=N),N>r&&(r=N)}function u(b,N){var O=(0,n.Og)([b*L.uR,N*L.uR]);if(v){var Y=(0,n.T5)(v,O),B=[Y[1],-Y[0],0],W=(0,n.T5)(B,Y);(0,n.iJ)(W),W=(0,n.Y1)(W);var H=b-l,U=H>0?1:-1,G=W[0]*L.RW*U,j,re=(0,L.Wn)(H)>180;re^(U*l<G&&G<U*b)?(j=W[1]*L.RW,j>r&&(r=j)):(G=(G+360)%360-180,re^(U*l<G&&G<U*b)?(j=-W[1]*L.RW,j<m&&(m=j)):(N<m&&(m=N),N>r&&(r=N))),re?b<l?P(p,b)>P(p,t)&&(t=b):P(b,t)>P(p,t)&&(p=b):t>=p?(b<p&&(p=b),b>t&&(t=b)):b>l?P(p,b)>P(p,t)&&(t=b):P(b,t)>P(p,t)&&(p=b)}else x.push(d=[p=b,t=b]);N<m&&(m=N),N>r&&(r=N),v=O,l=b}function y(){M.point=u}function C(){d[0]=p,d[1]=t,M.point=g,v=null}function S(b,N){if(v){var O=b-l;c.add((0,L.Wn)(O)>180?O+(O>0?360:-360):O)}else i=b,f=N;E.gL.point(b,N),u(b,N)}function D(){E.gL.lineStart()}function T(){S(i,f),E.gL.lineEnd(),(0,L.Wn)(c)>L.Ho&&(p=-(t=180)),d[0]=p,d[1]=t,v=null}function P(b,N){return(N-=b)<0?N+360:N}function A(b,N){return b[0]-N[0]}function a(b,N){return b[0]<=b[1]?b[0]<=N&&N<=b[1]:N<b[0]||b[1]<N}function R(b){var N,O,Y,B,W,H,U;if(r=t=-(p=m=1/0),x=[],(0,w.Z)(b,M),O=x.length){for(x.sort(A),N=1,Y=x[0],W=[Y];N<O;++N)B=x[N],a(Y,B[0])||a(Y,B[1])?(P(Y[0],B[1])>P(Y[0],Y[1])&&(Y[1]=B[1]),P(B[0],Y[1])>P(Y[0],Y[1])&&(Y[0]=B[0])):W.push(Y=B);for(H=-1/0,O=W.length-1,N=0,Y=W[O];N<=O;Y=B,++N)B=W[N],(U=P(Y[1],B[0]))>H&&(H=U,p=B[0],t=Y[1])}return x=d=null,p===1/0||m===1/0?[[NaN,NaN],[NaN,NaN]]:[[p,m],[t,r]]}},7620:function(k,F,e){e.d(F,{Og:function(){return n},T:function(){return m},T5:function(){return w},Y1:function(){return E},iJ:function(){return t},j9:function(){return L},s0:function(){return p}});var h=e(39695);function E(r){return[(0,h.fv)(r[1],r[0]),(0,h.ZR)(r[2])]}function n(r){var l=r[0],i=r[1],f=(0,h.mC)(i);return[f*(0,h.mC)(l),f*(0,h.O$)(l),(0,h.O$)(i)]}function L(r,l){return r[0]*l[0]+r[1]*l[1]+r[2]*l[2]}function w(r,l){return[r[1]*l[2]-r[2]*l[1],r[2]*l[0]-r[0]*l[2],r[0]*l[1]-r[1]*l[0]]}function p(r,l){r[0]+=l[0],r[1]+=l[1],r[2]+=l[2]}function m(r,l){return[r[0]*l,r[1]*l,r[2]*l]}function t(r){var l=(0,h._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=l,r[1]/=l,r[2]/=l}},66624:function(k,F,e){e.d(F,{Z:function(){return O}});var h=e(39695),E=e(73182),n=e(72736),L,w,p,m,t,r,l,i,f,v,c,x,d,M,g,u,y={sphere:E.Z,point:C,lineStart:D,lineEnd:A,polygonStart:function(){y.lineStart=a,y.lineEnd=R},polygonEnd:function(){y.lineStart=D,y.lineEnd=A}};function C(Y,B){Y*=h.uR,B*=h.uR;var W=(0,h.mC)(B);S(W*(0,h.mC)(Y),W*(0,h.O$)(Y),(0,h.O$)(B))}function S(Y,B,W){++L,p+=(Y-p)/L,m+=(B-m)/L,t+=(W-t)/L}function D(){y.point=T}function T(Y,B){Y*=h.uR,B*=h.uR;var W=(0,h.mC)(B);M=W*(0,h.mC)(Y),g=W*(0,h.O$)(Y),u=(0,h.O$)(B),y.point=P,S(M,g,u)}function P(Y,B){Y*=h.uR,B*=h.uR;var W=(0,h.mC)(B),H=W*(0,h.mC)(Y),U=W*(0,h.O$)(Y),G=(0,h.O$)(B),j=(0,h.fv)((0,h._b)((j=g*G-u*U)*j+(j=u*H-M*G)*j+(j=M*U-g*H)*j),M*H+g*U+u*G);w+=j,r+=j*(M+(M=H)),l+=j*(g+(g=U)),i+=j*(u+(u=G)),S(M,g,u)}function A(){y.point=C}function a(){y.point=b}function R(){N(x,d),y.point=C}function b(Y,B){x=Y,d=B,Y*=h.uR,B*=h.uR,y.point=N;var W=(0,h.mC)(B);M=W*(0,h.mC)(Y),g=W*(0,h.O$)(Y),u=(0,h.O$)(B),S(M,g,u)}function N(Y,B){Y*=h.uR,B*=h.uR;var W=(0,h.mC)(B),H=W*(0,h.mC)(Y),U=W*(0,h.O$)(Y),G=(0,h.O$)(B),j=g*G-u*U,re=u*H-M*G,ae=M*U-g*H,ue=(0,h._b)(j*j+re*re+ae*ae),de=(0,h.ZR)(ue),ee=ue&&-de/ue;f+=ee*j,v+=ee*re,c+=ee*ae,w+=de,r+=de*(M+(M=H)),l+=de*(g+(g=U)),i+=de*(u+(u=G)),S(M,g,u)}function O(Y){L=w=p=m=t=r=l=i=f=v=c=0,(0,n.Z)(Y,y);var B=f,W=v,H=c,U=B*B+W*W+H*H;return U<h.aW&&(B=r,W=l,H=i,w<h.Ho&&(B=p,W=m,H=t),U=B*B+W*W+H*H,U<h.aW)?[NaN,NaN]:[(0,h.fv)(W,B)*h.RW,(0,h.ZR)(H/(0,h._b)(U))*h.RW]}},7613:function(k,F,e){e.d(F,{m:function(){return w},Z:function(){return m}});var h=e(7620);function E(t){return function(){return t}}var n=e(39695),L=e(49386);function w(t,r,l,i,f,v){if(l){var c=(0,n.mC)(r),x=(0,n.O$)(r),d=i*l;f==null?(f=r+i*n.BZ,v=r-d/2):(f=p(c,f),v=p(c,v),(i>0?f<v:f>v)&&(f+=i*n.BZ));for(var M,g=f;i>0?g>v:g<v;g-=d)M=(0,h.Y1)([c,-x*(0,n.mC)(g),-x*(0,n.O$)(g)]),t.point(M[0],M[1])}}function p(t,r){r=(0,h.Og)(r),r[0]-=t,(0,h.iJ)(r);var l=(0,n.Kh)(-r[1]);return((-r[2]<0?-l:l)+n.BZ-n.Ho)%n.BZ}function m(){var t=E([0,0]),r=E(90),l=E(6),i,f,v={point:c};function c(d,M){i.push(d=f(d,M)),d[0]*=n.RW,d[1]*=n.RW}function x(){var d=t.apply(this,arguments),M=r.apply(this,arguments)*n.uR,g=l.apply(this,arguments)*n.uR;return i=[],f=(0,L.I)(-d[0]*n.uR,-d[1]*n.uR,0).invert,w(v,M,g,1),d={type:"Polygon",coordinates:[i]},i=f=null,d}return x.center=function(d){return arguments.length?(t=typeof d=="function"?d:E([+d[0],+d[1]]),x):t},x.radius=function(d){return arguments.length?(r=typeof d=="function"?d:E(+d),x):r},x.precision=function(d){return arguments.length?(l=typeof d=="function"?d:E(+d),x):l},x}},87070:function(k,F,e){var h=e(97023),E=e(39695);F.Z=(0,h.Z)(function(){return!0},n,w,[-E.pi,-E.ou]);function n(p){var m=NaN,t=NaN,r=NaN,l;return{lineStart:function(){p.lineStart(),l=1},point:function(i,f){var v=i>0?E.pi:-E.pi,c=(0,E.Wn)(i-m);(0,E.Wn)(c-E.pi)<E.Ho?(p.point(m,t=(t+f)/2>0?E.ou:-E.ou),p.point(r,t),p.lineEnd(),p.lineStart(),p.point(v,t),p.point(i,t),l=0):r!==v&&c>=E.pi&&((0,E.Wn)(m-r)<E.Ho&&(m-=r*E.Ho),(0,E.Wn)(i-v)<E.Ho&&(i-=v*E.Ho),t=L(m,t,i,f),p.point(r,t),p.lineEnd(),p.lineStart(),p.point(v,t),l=0),p.point(m=i,t=f),r=v},lineEnd:function(){p.lineEnd(),m=t=NaN},clean:function(){return 2-l}}}function L(p,m,t,r){var l,i,f=(0,E.O$)(p-t);return(0,E.Wn)(f)>E.Ho?(0,E.z4)(((0,E.O$)(m)*(i=(0,E.mC)(r))*(0,E.O$)(t)-(0,E.O$)(r)*(l=(0,E.mC)(m))*(0,E.O$)(p))/(l*i*f)):(m+r)/2}function w(p,m,t,r){var l;if(p==null)l=t*E.ou,r.point(-E.pi,l),r.point(0,l),r.point(E.pi,l),r.point(E.pi,0),r.point(E.pi,-l),r.point(0,-l),r.point(-E.pi,-l),r.point(-E.pi,0),r.point(-E.pi,l);else if((0,E.Wn)(p[0]-m[0])>E.Ho){var i=p[0]<m[0]?E.pi:-E.pi;l=t*i/2,r.point(-i,l),r.point(0,l),r.point(i,l)}else r.point(m[0],m[1])}},85272:function(k,F,e){e.d(F,{Z:function(){return E}});var h=e(73182);function E(){var n=[],L;return{point:function(w,p,m){L.push([w,p,m])},lineStart:function(){n.push(L=[])},lineEnd:h.Z,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var w=n;return n=[],L=null,w}}}},1457:function(k,F,e){e.d(F,{Z:function(){return p}});var h=e(7620),E=e(7613),n=e(39695),L=e(67108),w=e(97023);function p(m){var t=(0,n.mC)(m),r=6*n.uR,l=t>0,i=(0,n.Wn)(t)>n.Ho;function f(M,g,u,y){(0,E.m)(y,m,r,u,M,g)}function v(M,g){return(0,n.mC)(M)*(0,n.mC)(g)>t}function c(M){var g,u,y,C,S;return{lineStart:function(){C=y=!1,S=1},point:function(D,T){var P=[D,T],A,a=v(D,T),R=l?a?0:d(D,T):a?d(D+(D<0?n.pi:-n.pi),T):0;if(!g&&(C=y=a)&&M.lineStart(),a!==y&&(A=x(g,P),(!A||(0,L.Z)(g,A)||(0,L.Z)(P,A))&&(P[2]=1)),a!==y)S=0,a?(M.lineStart(),A=x(P,g),M.point(A[0],A[1])):(A=x(g,P),M.point(A[0],A[1],2),M.lineEnd()),g=A;else if(i&&g&&l^a){var b;!(R&u)&&(b=x(P,g,!0))&&(S=0,l?(M.lineStart(),M.point(b[0][0],b[0][1]),M.point(b[1][0],b[1][1]),M.lineEnd()):(M.point(b[1][0],b[1][1]),M.lineEnd(),M.lineStart(),M.point(b[0][0],b[0][1],3)))}a&&(!g||!(0,L.Z)(g,P))&&M.point(P[0],P[1]),g=P,y=a,u=R},lineEnd:function(){y&&M.lineEnd(),g=null},clean:function(){return S|(C&&y)<<1}}}function x(M,g,u){var y=(0,h.Og)(M),C=(0,h.Og)(g),S=[1,0,0],D=(0,h.T5)(y,C),T=(0,h.j9)(D,D),P=D[0],A=T-P*P;if(!A)return!u&&M;var a=t*T/A,R=-t*P/A,b=(0,h.T5)(S,D),N=(0,h.T)(S,a),O=(0,h.T)(D,R);(0,h.s0)(N,O);var Y=b,B=(0,h.j9)(N,Y),W=(0,h.j9)(Y,Y),H=B*B-W*((0,h.j9)(N,N)-1);if(!(H<0)){var U=(0,n._b)(H),G=(0,h.T)(Y,(-B-U)/W);if((0,h.s0)(G,N),G=(0,h.Y1)(G),!u)return G;var j=M[0],re=g[0],ae=M[1],ue=g[1],de;re<j&&(de=j,j=re,re=de);var ee=re-j,X=(0,n.Wn)(ee-n.pi)<n.Ho,Q=X||ee<n.Ho;if(!X&&ue<ae&&(de=ae,ae=ue,ue=de),Q?X?ae+ue>0^G[1]<((0,n.Wn)(G[0]-j)<n.Ho?ae:ue):ae<=G[1]&&G[1]<=ue:ee>n.pi^(j<=G[0]&&G[0]<=re)){var $=(0,h.T)(Y,(-B+U)/W);return(0,h.s0)($,N),[G,(0,h.Y1)($)]}}}function d(M,g){var u=l?m:n.pi-m,y=0;return M<-u?y|=1:M>u&&(y|=2),g<-u?y|=4:g>u&&(y|=8),y}return(0,w.Z)(v,c,f,l?[0,-m]:[-n.pi,m-n.pi])}},97023:function(k,F,e){e.d(F,{Z:function(){return p}});var h=e(85272),E=e(46225),n=e(39695),L=e(23071),w=e(33064);function p(r,l,i,f){return function(v){var c=l(v),x=(0,h.Z)(),d=l(x),M=!1,g,u,y,C={point:S,lineStart:T,lineEnd:P,polygonStart:function(){C.point=A,C.lineStart=a,C.lineEnd=R,u=[],g=[]},polygonEnd:function(){C.point=S,C.lineStart=T,C.lineEnd=P,u=(0,w.TS)(u);var b=(0,L.Z)(g,f);u.length?(M||(v.polygonStart(),M=!0),(0,E.Z)(u,t,b,i,v)):b&&(M||(v.polygonStart(),M=!0),v.lineStart(),i(null,null,1,v),v.lineEnd()),M&&(v.polygonEnd(),M=!1),u=g=null},sphere:function(){v.polygonStart(),v.lineStart(),i(null,null,1,v),v.lineEnd(),v.polygonEnd()}};function S(b,N){r(b,N)&&v.point(b,N)}function D(b,N){c.point(b,N)}function T(){C.point=D,c.lineStart()}function P(){C.point=S,c.lineEnd()}function A(b,N){y.push([b,N]),d.point(b,N)}function a(){d.lineStart(),y=[]}function R(){A(y[0][0],y[0][1]),d.lineEnd();var b=d.clean(),N=x.result(),O,Y=N.length,B,W,H;if(y.pop(),g.push(y),y=null,!!Y){if(b&1){if(W=N[0],(B=W.length-1)>0){for(M||(v.polygonStart(),M=!0),v.lineStart(),O=0;O<B;++O)v.point((H=W[O])[0],H[1]);v.lineEnd()}return}Y>1&&b&2&&N.push(N.pop().concat(N.shift())),u.push(N.filter(m))}}return C}}function m(r){return r.length>1}function t(r,l){return((r=r.x)[0]<0?r[1]-n.ou-n.Ho:n.ou-r[1])-((l=l.x)[0]<0?l[1]-n.ou-n.Ho:n.ou-l[1])}},87605:function(k,F,e){e.d(F,{Z:function(){return t}});var h=e(39695),E=e(85272);function n(r,l,i,f,v,c){var x=r[0],d=r[1],M=l[0],g=l[1],u=0,y=1,C=M-x,S=g-d,D;if(D=i-x,!(!C&&D>0)){if(D/=C,C<0){if(D<u)return;D<y&&(y=D)}else if(C>0){if(D>y)return;D>u&&(u=D)}if(D=v-x,!(!C&&D<0)){if(D/=C,C<0){if(D>y)return;D>u&&(u=D)}else if(C>0){if(D<u)return;D<y&&(y=D)}if(D=f-d,!(!S&&D>0)){if(D/=S,S<0){if(D<u)return;D<y&&(y=D)}else if(S>0){if(D>y)return;D>u&&(u=D)}if(D=c-d,!(!S&&D<0)){if(D/=S,S<0){if(D>y)return;D>u&&(u=D)}else if(S>0){if(D<u)return;D<y&&(y=D)}return u>0&&(r[0]=x+u*C,r[1]=d+u*S),y<1&&(l[0]=x+y*C,l[1]=d+y*S),!0}}}}}var L=e(46225),w=e(33064),p=1e9,m=-p;function t(r,l,i,f){function v(g,u){return r<=g&&g<=i&&l<=u&&u<=f}function c(g,u,y,C){var S=0,D=0;if(g==null||(S=x(g,y))!==(D=x(u,y))||M(g,u)<0^y>0)do C.point(S===0||S===3?r:i,S>1?f:l);while((S=(S+y+4)%4)!==D);else C.point(u[0],u[1])}function x(g,u){return(0,h.Wn)(g[0]-r)<h.Ho?u>0?0:3:(0,h.Wn)(g[0]-i)<h.Ho?u>0?2:1:(0,h.Wn)(g[1]-l)<h.Ho?u>0?1:0:u>0?3:2}function d(g,u){return M(g.x,u.x)}function M(g,u){var y=x(g,1),C=x(u,1);return y!==C?y-C:y===0?u[1]-g[1]:y===1?g[0]-u[0]:y===2?g[1]-u[1]:u[0]-g[0]}return function(g){var u=g,y=(0,E.Z)(),C,S,D,T,P,A,a,R,b,N,O,Y={point:B,lineStart:G,lineEnd:j,polygonStart:H,polygonEnd:U};function B(ae,ue){v(ae,ue)&&u.point(ae,ue)}function W(){for(var ae=0,ue=0,de=S.length;ue<de;++ue)for(var ee=S[ue],X=1,Q=ee.length,$=ee[0],ne,fe,te=$[0],q=$[1];X<Q;++X)ne=te,fe=q,$=ee[X],te=$[0],q=$[1],fe<=f?q>f&&(te-ne)*(f-fe)>(q-fe)*(r-ne)&&++ae:q<=f&&(te-ne)*(f-fe)<(q-fe)*(r-ne)&&--ae;return ae}function H(){u=y,C=[],S=[],O=!0}function U(){var ae=W(),ue=O&&ae,de=(C=(0,w.TS)(C)).length;(ue||de)&&(g.polygonStart(),ue&&(g.lineStart(),c(null,null,1,g),g.lineEnd()),de&&(0,L.Z)(C,d,ae,c,g),g.polygonEnd()),u=g,C=S=D=null}function G(){Y.point=re,S&&S.push(D=[]),N=!0,b=!1,a=R=NaN}function j(){C&&(re(T,P),A&&b&&y.rejoin(),C.push(y.result())),Y.point=B,b&&u.lineEnd()}function re(ae,ue){var de=v(ae,ue);if(S&&D.push([ae,ue]),N)T=ae,P=ue,A=de,N=!1,de&&(u.lineStart(),u.point(ae,ue));else if(de&&b)u.point(ae,ue);else{var ee=[a=Math.max(m,Math.min(p,a)),R=Math.max(m,Math.min(p,R))],X=[ae=Math.max(m,Math.min(p,ae)),ue=Math.max(m,Math.min(p,ue))];n(ee,X,r,l,i,f)?(b||(u.lineStart(),u.point(ee[0],ee[1])),u.point(X[0],X[1]),de||u.lineEnd(),O=!1):de&&(u.lineStart(),u.point(ae,ue),O=!1)}a=ae,R=ue,b=de}return Y}}},46225:function(k,F,e){e.d(F,{Z:function(){return L}});var h=e(67108),E=e(39695);function n(p,m,t,r){this.x=p,this.z=m,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function L(p,m,t,r,l){var i=[],f=[],v,c;if(p.forEach(function(y){if(!((C=y.length-1)<=0)){var C,S=y[0],D=y[C],T;if((0,h.Z)(S,D)){if(!S[2]&&!D[2]){for(l.lineStart(),v=0;v<C;++v)l.point((S=y[v])[0],S[1]);l.lineEnd();return}D[0]+=2*E.Ho}i.push(T=new n(S,y,null,!0)),f.push(T.o=new n(S,null,T,!1)),i.push(T=new n(D,y,null,!1)),f.push(T.o=new n(D,null,T,!0))}}),!!i.length){for(f.sort(m),w(i),w(f),v=0,c=f.length;v<c;++v)f[v].e=t=!t;for(var x=i[0],d,M;;){for(var g=x,u=!0;g.v;)if((g=g.n)===x)return;d=g.z,l.lineStart();do{if(g.v=g.o.v=!0,g.e){if(u)for(v=0,c=d.length;v<c;++v)l.point((M=d[v])[0],M[1]);else r(g.x,g.n.x,1,l);g=g.n}else{if(u)for(d=g.p.z,v=d.length-1;v>=0;--v)l.point((M=d[v])[0],M[1]);else r(g.x,g.p.x,-1,l);g=g.p}g=g.o,d=g.z,u=!u}while(!g.v);l.lineEnd()}}}function w(p){if(m=p.length){for(var m,t=0,r=p[0],l;++t<m;)r.n=l=p[t],l.p=r,r=l;r.n=l=p[0],l.p=r}}},96059:function(k,F,e){e.d(F,{Z:function(){return h}});function h(E,n){function L(w,p){return w=E(w,p),n(w[0],w[1])}return E.invert&&n.invert&&(L.invert=function(w,p){return w=n.invert(w,p),w&&E.invert(w[0],w[1])}),L}},8593:function(k,F,e){e.d(F,{Z:function(){return h}});function h(E){return E}},27362:function(k,F,e){e.r(F),e.d(F,{geoAlbers:function(){return br},geoAlbersUsa:function(){return lt},geoArea:function(){return h.ZP},geoAzimuthalEqualArea:function(){return xt.Z},geoAzimuthalEqualAreaRaw:function(){return xt.l},geoAzimuthalEquidistant:function(){return Tt.Z},geoAzimuthalEquidistantRaw:function(){return Tt.N},geoBounds:function(){return E.Z},geoCentroid:function(){return n.Z},geoCircle:function(){return L.Z},geoClipAntimeridian:function(){return w.Z},geoClipCircle:function(){return p.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return m.Z},geoConicConformal:function(){return or},geoConicConformalRaw:function(){return Qt},geoConicEqualArea:function(){return Yt},geoConicEqualAreaRaw:function(){return Xt},geoConicEquidistant:function(){return Ye},geoConicEquidistantRaw:function(){return Ze},geoContains:function(){return H},geoDistance:function(){return A},geoEqualEarth:function(){return fr},geoEqualEarthRaw:function(){return zt},geoEquirectangular:function(){return Er.Z},geoEquirectangularRaw:function(){return Er.k},geoGnomonic:function(){return dr.Z},geoGnomonicRaw:function(){return dr.M},geoGraticule:function(){return re},geoGraticule10:function(){return ae},geoIdentity:function(){return vr},geoInterpolate:function(){return ue.Z},geoLength:function(){return D},geoMercator:function(){return Ft},geoMercatorRaw:function(){return At},geoNaturalEarth1:function(){return Vr.Z},geoNaturalEarth1Raw:function(){return Vr.K},geoOrthographic:function(){return _r.Z},geoOrthographicRaw:function(){return _r.I},geoPath:function(){return Kt},geoProjection:function(){return ar.Z},geoProjectionMutator:function(){return ar.r},geoRotation:function(){return Et.Z},geoStereographic:function(){return Xr},geoStereographicRaw:function(){return pn},geoStream:function(){return v.Z},geoTransform:function(){return pr.Z},geoTransverseMercator:function(){return Dn},geoTransverseMercatorRaw:function(){return _n}});var h=e(97860),E=e(77338),n=e(66624),L=e(7613),w=e(87070),p=e(1457),m=e(87605);function t(){var xr=0,Ar=0,Or=960,Br=500,qr,vn,fn;return fn={stream:function(Tn){return qr&&vn===Tn?qr:qr=(0,m.Z)(xr,Ar,Or,Br)(vn=Tn)},extent:function(Tn){return arguments.length?(xr=+Tn[0][0],Ar=+Tn[0][1],Or=+Tn[1][0],Br=+Tn[1][1],qr=vn=null,fn):[[xr,Ar],[Or,Br]]}}}var r=e(23071),l=e(33940),i=e(39695),f=e(73182),v=e(72736),c=(0,l.Z)(),x,d,M,g={sphere:f.Z,point:f.Z,lineStart:u,lineEnd:f.Z,polygonStart:f.Z,polygonEnd:f.Z};function u(){g.point=C,g.lineEnd=y}function y(){g.point=g.lineEnd=f.Z}function C(xr,Ar){xr*=i.uR,Ar*=i.uR,x=xr,d=(0,i.O$)(Ar),M=(0,i.mC)(Ar),g.point=S}function S(xr,Ar){xr*=i.uR,Ar*=i.uR;var Or=(0,i.O$)(Ar),Br=(0,i.mC)(Ar),qr=(0,i.Wn)(xr-x),vn=(0,i.mC)(qr),fn=(0,i.O$)(qr),Tn=Br*fn,Pn=M*Or-d*Br*vn,jn=d*Or+M*Br*vn;c.add((0,i.fv)((0,i._b)(Tn*Tn+Pn*Pn),jn)),x=xr,d=Or,M=Br}function D(xr){return c.reset(),(0,v.Z)(xr,g),+c}var T=[null,null],P={type:"LineString",coordinates:T};function A(xr,Ar){return T[0]=xr,T[1]=Ar,D(P)}var a={Feature:function(xr,Ar){return b(xr.geometry,Ar)},FeatureCollection:function(xr,Ar){for(var Or=xr.features,Br=-1,qr=Or.length;++Br<qr;)if(b(Or[Br].geometry,Ar))return!0;return!1}},R={Sphere:function(){return!0},Point:function(xr,Ar){return N(xr.coordinates,Ar)},MultiPoint:function(xr,Ar){for(var Or=xr.coordinates,Br=-1,qr=Or.length;++Br<qr;)if(N(Or[Br],Ar))return!0;return!1},LineString:function(xr,Ar){return O(xr.coordinates,Ar)},MultiLineString:function(xr,Ar){for(var Or=xr.coordinates,Br=-1,qr=Or.length;++Br<qr;)if(O(Or[Br],Ar))return!0;return!1},Polygon:function(xr,Ar){return Y(xr.coordinates,Ar)},MultiPolygon:function(xr,Ar){for(var Or=xr.coordinates,Br=-1,qr=Or.length;++Br<qr;)if(Y(Or[Br],Ar))return!0;return!1},GeometryCollection:function(xr,Ar){for(var Or=xr.geometries,Br=-1,qr=Or.length;++Br<qr;)if(b(Or[Br],Ar))return!0;return!1}};function b(xr,Ar){return xr&&R.hasOwnProperty(xr.type)?R[xr.type](xr,Ar):!1}function N(xr,Ar){return A(xr,Ar)===0}function O(xr,Ar){for(var Or,Br,qr,vn=0,fn=xr.length;vn<fn;vn++){if(Br=A(xr[vn],Ar),Br===0||vn>0&&(qr=A(xr[vn],xr[vn-1]),qr>0&&Or<=qr&&Br<=qr&&(Or+Br-qr)*(1-Math.pow((Or-Br)/qr,2))<i.aW*qr))return!0;Or=Br}return!1}function Y(xr,Ar){return!!(0,r.Z)(xr.map(B),W(Ar))}function B(xr){return xr=xr.map(W),xr.pop(),xr}function W(xr){return[xr[0]*i.uR,xr[1]*i.uR]}function H(xr,Ar){return(xr&&a.hasOwnProperty(xr.type)?a[xr.type]:b)(xr,Ar)}var U=e(33064);function G(xr,Ar,Or){var Br=(0,U.w6)(xr,Ar-i.Ho,Or).concat(Ar);return function(qr){return Br.map(function(vn){return[qr,vn]})}}function j(xr,Ar,Or){var Br=(0,U.w6)(xr,Ar-i.Ho,Or).concat(Ar);return function(qr){return Br.map(function(vn){return[vn,qr]})}}function re(){var xr,Ar,Or,Br,qr,vn,fn,Tn,Pn=10,jn=Pn,qn=90,si=360,ti,ei,Mr,on,nn=2.5;function gn(){return{type:"MultiLineString",coordinates:Nn()}}function Nn(){return(0,U.w6)((0,i.mD)(Br/qn)*qn,Or,qn).map(Mr).concat((0,U.w6)((0,i.mD)(Tn/si)*si,fn,si).map(on)).concat((0,U.w6)((0,i.mD)(Ar/Pn)*Pn,xr,Pn).filter(function(En){return(0,i.Wn)(En%qn)>i.Ho}).map(ti)).concat((0,U.w6)((0,i.mD)(vn/jn)*jn,qr,jn).filter(function(En){return(0,i.Wn)(En%si)>i.Ho}).map(ei))}return gn.lines=function(){return Nn().map(function(En){return{type:"LineString",coordinates:En}})},gn.outline=function(){return{type:"Polygon",coordinates:[Mr(Br).concat(on(fn).slice(1),Mr(Or).reverse().slice(1),on(Tn).reverse().slice(1))]}},gn.extent=function(En){return arguments.length?gn.extentMajor(En).extentMinor(En):gn.extentMinor()},gn.extentMajor=function(En){return arguments.length?(Br=+En[0][0],Or=+En[1][0],Tn=+En[0][1],fn=+En[1][1],Br>Or&&(En=Br,Br=Or,Or=En),Tn>fn&&(En=Tn,Tn=fn,fn=En),gn.precision(nn)):[[Br,Tn],[Or,fn]]},gn.extentMinor=function(En){return arguments.length?(Ar=+En[0][0],xr=+En[1][0],vn=+En[0][1],qr=+En[1][1],Ar>xr&&(En=Ar,Ar=xr,xr=En),vn>qr&&(En=vn,vn=qr,qr=En),gn.precision(nn)):[[Ar,vn],[xr,qr]]},gn.step=function(En){return arguments.length?gn.stepMajor(En).stepMinor(En):gn.stepMinor()},gn.stepMajor=function(En){return arguments.length?(qn=+En[0],si=+En[1],gn):[qn,si]},gn.stepMinor=function(En){return arguments.length?(Pn=+En[0],jn=+En[1],gn):[Pn,jn]},gn.precision=function(En){return arguments.length?(nn=+En,ti=G(vn,qr,90),ei=j(Ar,xr,nn),Mr=G(Tn,fn,90),on=j(Br,Or,nn),gn):nn},gn.extentMajor([[-180,-90+i.Ho],[180,90-i.Ho]]).extentMinor([[-180,-80-i.Ho],[180,80+i.Ho]])}function ae(){return re()()}var ue=e(83074),de=e(8593),ee=(0,l.Z)(),X=(0,l.Z)(),Q,$,ne,fe,te={point:f.Z,lineStart:f.Z,lineEnd:f.Z,polygonStart:function(){te.lineStart=q,te.lineEnd=pe},polygonEnd:function(){te.lineStart=te.lineEnd=te.point=f.Z,ee.add((0,i.Wn)(X)),X.reset()},result:function(){var xr=ee/2;return ee.reset(),xr}};function q(){te.point=he}function he(xr,Ar){te.point=se,Q=ne=xr,$=fe=Ar}function se(xr,Ar){X.add(fe*xr-ne*Ar),ne=xr,fe=Ar}function pe(){se(Q,$)}var we=te,Ee=e(3559),Me=0,Be=0,Ne=0,Ce=0,Te=0,Le=0,Ve=0,We=0,Fe=0,Ge,it,qe,$e,tt={point:vt,lineStart:dt,lineEnd:Ct,polygonStart:function(){tt.lineStart=Wt,tt.lineEnd=Xe},polygonEnd:function(){tt.point=vt,tt.lineStart=dt,tt.lineEnd=Ct},result:function(){var xr=Fe?[Ve/Fe,We/Fe]:Le?[Ce/Le,Te/Le]:Ne?[Me/Ne,Be/Ne]:[NaN,NaN];return Me=Be=Ne=Ce=Te=Le=Ve=We=Fe=0,xr}};function vt(xr,Ar){Me+=xr,Be+=Ar,++Ne}function dt(){tt.point=gt}function gt(xr,Ar){tt.point=Mt,vt(qe=xr,$e=Ar)}function Mt(xr,Ar){var Or=xr-qe,Br=Ar-$e,qr=(0,i._b)(Or*Or+Br*Br);Ce+=qr*(qe+xr)/2,Te+=qr*($e+Ar)/2,Le+=qr,vt(qe=xr,$e=Ar)}function Ct(){tt.point=vt}function Wt(){tt.point=ke}function Xe(){Ie(Ge,it)}function ke(xr,Ar){tt.point=Ie,vt(Ge=qe=xr,it=$e=Ar)}function Ie(xr,Ar){var Or=xr-qe,Br=Ar-$e,qr=(0,i._b)(Or*Or+Br*Br);Ce+=qr*(qe+xr)/2,Te+=qr*($e+Ar)/2,Le+=qr,qr=$e*xr-qe*Ar,Ve+=qr*(qe+xr),We+=qr*($e+Ar),Fe+=qr*3,vt(qe=xr,$e=Ar)}var Oe=tt;function _e(xr){this._context=xr}_e.prototype={_radius:4.5,pointRadius:function(xr){return this._radius=xr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(xr,Ar){switch(this._point){case 0:{this._context.moveTo(xr,Ar),this._point=1;break}case 1:{this._context.lineTo(xr,Ar);break}default:{this._context.moveTo(xr+this._radius,Ar),this._context.arc(xr,Ar,this._radius,0,i.BZ);break}}},result:f.Z};var Ae=(0,l.Z)(),ce,be,Re,Ue,nt,ot={point:f.Z,lineStart:function(){ot.point=wt},lineEnd:function(){ce&&_t(be,Re),ot.point=f.Z},polygonStart:function(){ce=!0},polygonEnd:function(){ce=null},result:function(){var xr=+Ae;return Ae.reset(),xr}};function wt(xr,Ar){ot.point=_t,be=Ue=xr,Re=nt=Ar}function _t(xr,Ar){Ue-=xr,nt-=Ar,Ae.add((0,i._b)(Ue*Ue+nt*nt)),Ue=xr,nt=Ar}var Ut=ot;function Vt(){this._string=[]}Vt.prototype={_radius:4.5,_circle:Lt(4.5),pointRadius:function(xr){return(xr=+xr)!==this._radius&&(this._radius=xr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(xr,Ar){switch(this._point){case 0:{this._string.push("M",xr,",",Ar),this._point=1;break}case 1:{this._string.push("L",xr,",",Ar);break}default:{this._circle==null&&(this._circle=Lt(this._radius)),this._string.push("M",xr,",",Ar,this._circle);break}}},result:function(){if(this._string.length){var xr=this._string.join("");return this._string=[],xr}else return null}};function Lt(xr){return"m0,"+xr+"a"+xr+","+xr+" 0 1,1 0,"+-2*xr+"a"+xr+","+xr+" 0 1,1 0,"+2*xr+"z"}function Kt(xr,Ar){var Or=4.5,Br,qr;function vn(fn){return fn&&(typeof Or=="function"&&qr.pointRadius(+Or.apply(this,arguments)),(0,v.Z)(fn,Br(qr))),qr.result()}return vn.area=function(fn){return(0,v.Z)(fn,Br(we)),we.result()},vn.measure=function(fn){return(0,v.Z)(fn,Br(Ut)),Ut.result()},vn.bounds=function(fn){return(0,v.Z)(fn,Br(Ee.Z)),Ee.Z.result()},vn.centroid=function(fn){return(0,v.Z)(fn,Br(Oe)),Oe.result()},vn.projection=function(fn){return arguments.length?(Br=fn==null?(xr=null,de.Z):(xr=fn).stream,vn):xr},vn.context=function(fn){return arguments.length?(qr=fn==null?(Ar=null,new Vt):new _e(Ar=fn),typeof Or!="function"&&qr.pointRadius(Or),vn):Ar},vn.pointRadius=function(fn){return arguments.length?(Or=typeof fn=="function"?fn:(qr.pointRadius(+fn),+fn),vn):Or},vn.projection(xr).context(Ar)}var ar=e(15002);function Fr(xr){var Ar=0,Or=i.pi/3,Br=(0,ar.r)(xr),qr=Br(Ar,Or);return qr.parallels=function(vn){return arguments.length?Br(Ar=vn[0]*i.uR,Or=vn[1]*i.uR):[Ar*i.RW,Or*i.RW]},qr}function yt(xr){var Ar=(0,i.mC)(xr);function Or(Br,qr){return[Br*Ar,(0,i.O$)(qr)/Ar]}return Or.invert=function(Br,qr){return[Br/Ar,(0,i.ZR)(qr*Ar)]},Or}function Xt(xr,Ar){var Or=(0,i.O$)(xr),Br=(Or+(0,i.O$)(Ar))/2;if((0,i.Wn)(Br)<i.Ho)return yt(xr);var qr=1+Or*(2*Br-Or),vn=(0,i._b)(qr)/Br;function fn(Tn,Pn){var jn=(0,i._b)(qr-2*Br*(0,i.O$)(Pn))/Br;return[jn*(0,i.O$)(Tn*=Br),vn-jn*(0,i.mC)(Tn)]}return fn.invert=function(Tn,Pn){var jn=vn-Pn,qn=(0,i.fv)(Tn,(0,i.Wn)(jn))*(0,i.Xx)(jn);return jn*Br<0&&(qn-=i.pi*(0,i.Xx)(Tn)*(0,i.Xx)(jn)),[qn/Br,(0,i.ZR)((qr-(Tn*Tn+jn*jn)*Br*Br)/(2*Br))]},fn}function Yt(){return Fr(Xt).scale(155.424).center([0,33.6442])}function br(){return Yt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var hr=e(47589);function ut(xr){var Ar=xr.length;return{point:function(Or,Br){for(var qr=-1;++qr<Ar;)xr[qr].point(Or,Br)},sphere:function(){for(var Or=-1;++Or<Ar;)xr[Or].sphere()},lineStart:function(){for(var Or=-1;++Or<Ar;)xr[Or].lineStart()},lineEnd:function(){for(var Or=-1;++Or<Ar;)xr[Or].lineEnd()},polygonStart:function(){for(var Or=-1;++Or<Ar;)xr[Or].polygonStart()},polygonEnd:function(){for(var Or=-1;++Or<Ar;)xr[Or].polygonEnd()}}}function lt(){var xr,Ar,Or=br(),Br,qr=Yt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),vn,fn=Yt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Tn,Pn,jn={point:function(ti,ei){Pn=[ti,ei]}};function qn(ti){var ei=ti[0],Mr=ti[1];return Pn=null,Br.point(ei,Mr),Pn||(vn.point(ei,Mr),Pn)||(Tn.point(ei,Mr),Pn)}qn.invert=function(ti){var ei=Or.scale(),Mr=Or.translate(),on=(ti[0]-Mr[0])/ei,nn=(ti[1]-Mr[1])/ei;return(nn>=.12&&nn<.234&&on>=-.425&&on<-.214?qr:nn>=.166&&nn<.234&&on>=-.214&&on<-.115?fn:Or).invert(ti)},qn.stream=function(ti){return xr&&Ar===ti?xr:xr=ut([Or.stream(Ar=ti),qr.stream(ti),fn.stream(ti)])},qn.precision=function(ti){return arguments.length?(Or.precision(ti),qr.precision(ti),fn.precision(ti),si()):Or.precision()},qn.scale=function(ti){return arguments.length?(Or.scale(ti),qr.scale(ti*.35),fn.scale(ti),qn.translate(Or.translate())):Or.scale()},qn.translate=function(ti){if(!arguments.length)return Or.translate();var ei=Or.scale(),Mr=+ti[0],on=+ti[1];return Br=Or.translate(ti).clipExtent([[Mr-.455*ei,on-.238*ei],[Mr+.455*ei,on+.238*ei]]).stream(jn),vn=qr.translate([Mr-.307*ei,on+.201*ei]).clipExtent([[Mr-.425*ei+i.Ho,on+.12*ei+i.Ho],[Mr-.214*ei-i.Ho,on+.234*ei-i.Ho]]).stream(jn),Tn=fn.translate([Mr-.205*ei,on+.212*ei]).clipExtent([[Mr-.214*ei+i.Ho,on+.166*ei+i.Ho],[Mr-.115*ei-i.Ho,on+.234*ei-i.Ho]]).stream(jn),si()},qn.fitExtent=function(ti,ei){return(0,hr.qg)(qn,ti,ei)},qn.fitSize=function(ti,ei){return(0,hr.mF)(qn,ti,ei)},qn.fitWidth=function(ti,ei){return(0,hr.V6)(qn,ti,ei)},qn.fitHeight=function(ti,ei){return(0,hr.rf)(qn,ti,ei)};function si(){return xr=Ar=null,qn}return qn.scale(1070)}var xt=e(12956),Tt=e(17889),Et=e(49386);function At(xr,Ar){return[xr,(0,i.cM)((0,i.OR)((i.ou+Ar)/2))]}At.invert=function(xr,Ar){return[xr,2*(0,i.z4)((0,i.Qq)(Ar))-i.ou]};function Ft(){return Ht(At).scale(961/i.BZ)}function Ht(xr){var Ar=(0,ar.Z)(xr),Or=Ar.center,Br=Ar.scale,qr=Ar.translate,vn=Ar.clipExtent,fn=null,Tn,Pn,jn;Ar.scale=function(si){return arguments.length?(Br(si),qn()):Br()},Ar.translate=function(si){return arguments.length?(qr(si),qn()):qr()},Ar.center=function(si){return arguments.length?(Or(si),qn()):Or()},Ar.clipExtent=function(si){return arguments.length?(si==null?fn=Tn=Pn=jn=null:(fn=+si[0][0],Tn=+si[0][1],Pn=+si[1][0],jn=+si[1][1]),qn()):fn==null?null:[[fn,Tn],[Pn,jn]]};function qn(){var si=i.pi*Br(),ti=Ar((0,Et.Z)(Ar.rotate()).invert([0,0]));return vn(fn==null?[[ti[0]-si,ti[1]-si],[ti[0]+si,ti[1]+si]]:xr===At?[[Math.max(ti[0]-si,fn),Tn],[Math.min(ti[0]+si,Pn),jn]]:[[fn,Math.max(ti[1]-si,Tn)],[Pn,Math.min(ti[1]+si,jn)]])}return qn()}function $t(xr){return(0,i.OR)((i.ou+xr)/2)}function Qt(xr,Ar){var Or=(0,i.mC)(xr),Br=xr===Ar?(0,i.O$)(xr):(0,i.cM)(Or/(0,i.mC)(Ar))/(0,i.cM)($t(Ar)/$t(xr)),qr=Or*(0,i.sQ)($t(xr),Br)/Br;if(!Br)return At;function vn(fn,Tn){qr>0?Tn<-i.ou+i.Ho&&(Tn=-i.ou+i.Ho):Tn>i.ou-i.Ho&&(Tn=i.ou-i.Ho);var Pn=qr/(0,i.sQ)($t(Tn),Br);return[Pn*(0,i.O$)(Br*fn),qr-Pn*(0,i.mC)(Br*fn)]}return vn.invert=function(fn,Tn){var Pn=qr-Tn,jn=(0,i.Xx)(Br)*(0,i._b)(fn*fn+Pn*Pn),qn=(0,i.fv)(fn,(0,i.Wn)(Pn))*(0,i.Xx)(Pn);return Pn*Br<0&&(qn-=i.pi*(0,i.Xx)(fn)*(0,i.Xx)(Pn)),[qn/Br,2*(0,i.z4)((0,i.sQ)(qr/jn,1/Br))-i.ou]},vn}function or(){return Fr(Qt).scale(109.5).parallels([30,30])}var Er=e(97492);function Ze(xr,Ar){var Or=(0,i.mC)(xr),Br=xr===Ar?(0,i.O$)(xr):(Or-(0,i.mC)(Ar))/(Ar-xr),qr=Or/Br+xr;if((0,i.Wn)(Br)<i.Ho)return Er.k;function vn(fn,Tn){var Pn=qr-Tn,jn=Br*fn;return[Pn*(0,i.O$)(jn),qr-Pn*(0,i.mC)(jn)]}return vn.invert=function(fn,Tn){var Pn=qr-Tn,jn=(0,i.fv)(fn,(0,i.Wn)(Pn))*(0,i.Xx)(Pn);return Pn*Br<0&&(jn-=i.pi*(0,i.Xx)(fn)*(0,i.Xx)(Pn)),[jn/Br,qr-(0,i.Xx)(Br)*(0,i._b)(fn*fn+Pn*Pn)]},vn}function Ye(){return Fr(Ze).scale(131.154).center([0,13.9389])}var Dt=1.340264,It=-.081106,Zt=893e-6,nr=.003796,lr=(0,i._b)(3)/2,rr=12;function zt(xr,Ar){var Or=(0,i.ZR)(lr*(0,i.O$)(Ar)),Br=Or*Or,qr=Br*Br*Br;return[xr*(0,i.mC)(Or)/(lr*(Dt+3*It*Br+qr*(7*Zt+9*nr*Br))),Or*(Dt+It*Br+qr*(Zt+nr*Br))]}zt.invert=function(xr,Ar){for(var Or=Ar,Br=Or*Or,qr=Br*Br*Br,vn=0,fn,Tn,Pn;vn<rr&&(Tn=Or*(Dt+It*Br+qr*(Zt+nr*Br))-Ar,Pn=Dt+3*It*Br+qr*(7*Zt+9*nr*Br),Or-=fn=Tn/Pn,Br=Or*Or,qr=Br*Br*Br,!((0,i.Wn)(fn)<i.aW));++vn);return[lr*xr*(Dt+3*It*Br+qr*(7*Zt+9*nr*Br))/(0,i.mC)(Or),(0,i.ZR)((0,i.O$)(Or)/lr)]};function fr(){return(0,ar.Z)(zt).scale(177.158)}var dr=e(98936),pr=e(64684);function vr(){var xr=1,Ar=0,Or=0,Br=1,qr=1,vn=0,fn,Tn,Pn=null,jn,qn,si,ti=1,ei=1,Mr=(0,pr.l)({point:function(Cn,Hn){var ii=En([Cn,Hn]);this.stream.point(ii[0],ii[1])}}),on=de.Z,nn,gn;function Nn(){return ti=xr*Br,ei=xr*qr,nn=gn=null,En}function En(Cn){var Hn=Cn[0]*ti,ii=Cn[1]*ei;if(vn){var Pi=ii*fn-Hn*Tn;Hn=Hn*fn+ii*Tn,ii=Pi}return[Hn+Ar,ii+Or]}return En.invert=function(Cn){var Hn=Cn[0]-Ar,ii=Cn[1]-Or;if(vn){var Pi=ii*fn+Hn*Tn;Hn=Hn*fn-ii*Tn,ii=Pi}return[Hn/ti,ii/ei]},En.stream=function(Cn){return nn&&gn===Cn?nn:nn=Mr(on(gn=Cn))},En.postclip=function(Cn){return arguments.length?(on=Cn,Pn=jn=qn=si=null,Nn()):on},En.clipExtent=function(Cn){return arguments.length?(on=Cn==null?(Pn=jn=qn=si=null,de.Z):(0,m.Z)(Pn=+Cn[0][0],jn=+Cn[0][1],qn=+Cn[1][0],si=+Cn[1][1]),Nn()):Pn==null?null:[[Pn,jn],[qn,si]]},En.scale=function(Cn){return arguments.length?(xr=+Cn,Nn()):xr},En.translate=function(Cn){return arguments.length?(Ar=+Cn[0],Or=+Cn[1],Nn()):[Ar,Or]},En.angle=function(Cn){return arguments.length?(vn=Cn%360*i.uR,Tn=(0,i.O$)(vn),fn=(0,i.mC)(vn),Nn()):vn*i.RW},En.reflectX=function(Cn){return arguments.length?(Br=Cn?-1:1,Nn()):Br<0},En.reflectY=function(Cn){return arguments.length?(qr=Cn?-1:1,Nn()):qr<0},En.fitExtent=function(Cn,Hn){return(0,hr.qg)(En,Cn,Hn)},En.fitSize=function(Cn,Hn){return(0,hr.mF)(En,Cn,Hn)},En.fitWidth=function(Cn,Hn){return(0,hr.V6)(En,Cn,Hn)},En.fitHeight=function(Cn,Hn){return(0,hr.rf)(En,Cn,Hn)},En}var Vr=e(26867),_r=e(57962),kr=e(25382);function pn(xr,Ar){var Or=(0,i.mC)(Ar),Br=1+(0,i.mC)(xr)*Or;return[Or*(0,i.O$)(xr)/Br,(0,i.O$)(Ar)/Br]}pn.invert=(0,kr.O)(function(xr){return 2*(0,i.z4)(xr)});function Xr(){return(0,ar.Z)(pn).scale(250).clipAngle(142)}function _n(xr,Ar){return[(0,i.cM)((0,i.OR)((i.ou+Ar)/2)),-xr]}_n.invert=function(xr,Ar){return[-Ar,2*(0,i.z4)((0,i.Qq)(xr))-i.ou]};function Dn(){var xr=Ht(_n),Ar=xr.center,Or=xr.rotate;return xr.center=function(Br){return arguments.length?Ar([-Br[1],Br[0]]):(Br=Ar(),[Br[1],-Br[0]])},xr.rotate=function(Br){return arguments.length?Or([Br[0],Br[1],Br.length>2?Br[2]+90:90]):(Br=Or(),[Br[0],Br[1],Br[2]-90])},Or([0,0,90]).scale(159.155)}},83074:function(k,F,e){e.d(F,{Z:function(){return E}});var h=e(39695);function E(n,L){var w=n[0]*h.uR,p=n[1]*h.uR,m=L[0]*h.uR,t=L[1]*h.uR,r=(0,h.mC)(p),l=(0,h.O$)(p),i=(0,h.mC)(t),f=(0,h.O$)(t),v=r*(0,h.mC)(w),c=r*(0,h.O$)(w),x=i*(0,h.mC)(m),d=i*(0,h.O$)(m),M=2*(0,h.ZR)((0,h._b)((0,h.Jy)(t-p)+r*i*(0,h.Jy)(m-w))),g=(0,h.O$)(M),u=M?function(y){var C=(0,h.O$)(y*=M)/g,S=(0,h.O$)(M-y)/g,D=S*v+C*x,T=S*c+C*d,P=S*l+C*f;return[(0,h.fv)(T,D)*h.RW,(0,h.fv)(P,(0,h._b)(D*D+T*T))*h.RW]}:function(){return[w*h.RW,p*h.RW]};return u.distance=M,u}},39695:function(k,F,e){e.d(F,{BZ:function(){return p},Ho:function(){return h},Jy:function(){return D},Kh:function(){return C},O$:function(){return M},OR:function(){return y},Qq:function(){return c},RW:function(){return m},Wn:function(){return r},Xx:function(){return g},ZR:function(){return S},_b:function(){return u},aW:function(){return E},cM:function(){return x},fv:function(){return i},mC:function(){return f},mD:function(){return v},ou:function(){return L},pi:function(){return n},pu:function(){return w},sQ:function(){return d},uR:function(){return t},z4:function(){return l}});var h=1e-6,E=1e-12,n=Math.PI,L=n/2,w=n/4,p=n*2,m=180/n,t=n/180,r=Math.abs,l=Math.atan,i=Math.atan2,f=Math.cos,v=Math.ceil,c=Math.exp,x=Math.log,d=Math.pow,M=Math.sin,g=Math.sign||function(T){return T>0?1:T<0?-1:0},u=Math.sqrt,y=Math.tan;function C(T){return T>1?0:T<-1?n:Math.acos(T)}function S(T){return T>1?L:T<-1?-L:Math.asin(T)}function D(T){return(T=M(T/2))*T}},73182:function(k,F,e){e.d(F,{Z:function(){return h}});function h(){}},3559:function(k,F,e){var h=e(73182),E=1/0,n=E,L=-E,w=L,p={point:m,lineStart:h.Z,lineEnd:h.Z,polygonStart:h.Z,polygonEnd:h.Z,result:function(){var t=[[E,n],[L,w]];return L=w=-(n=E=1/0),t}};function m(t,r){t<E&&(E=t),t>L&&(L=t),r<n&&(n=r),r>w&&(w=r)}F.Z=p},67108:function(k,F,e){e.d(F,{Z:function(){return E}});var h=e(39695);function E(n,L){return(0,h.Wn)(n[0]-L[0])<h.Ho&&(0,h.Wn)(n[1]-L[1])<h.Ho}},23071:function(k,F,e){e.d(F,{Z:function(){return p}});var h=e(33940),E=e(7620),n=e(39695),L=(0,h.Z)();function w(m){return(0,n.Wn)(m[0])<=n.pi?m[0]:(0,n.Xx)(m[0])*(((0,n.Wn)(m[0])+n.pi)%n.BZ-n.pi)}function p(m,t){var r=w(t),l=t[1],i=(0,n.O$)(l),f=[(0,n.O$)(r),-(0,n.mC)(r),0],v=0,c=0;L.reset(),i===1?l=n.ou+n.Ho:i===-1&&(l=-n.ou-n.Ho);for(var x=0,d=m.length;x<d;++x)if(g=(M=m[x]).length)for(var M,g,u=M[g-1],y=w(u),C=u[1]/2+n.pu,S=(0,n.O$)(C),D=(0,n.mC)(C),T=0;T<g;++T,y=A,S=R,D=b,u=P){var P=M[T],A=w(P),a=P[1]/2+n.pu,R=(0,n.O$)(a),b=(0,n.mC)(a),N=A-y,O=N>=0?1:-1,Y=O*N,B=Y>n.pi,W=S*R;if(L.add((0,n.fv)(W*O*(0,n.O$)(Y),D*b+W*(0,n.mC)(Y))),v+=B?N+O*n.BZ:N,B^y>=r^A>=r){var H=(0,E.T5)((0,E.Og)(u),(0,E.Og)(P));(0,E.iJ)(H);var U=(0,E.T5)(f,H);(0,E.iJ)(U);var G=(B^N>=0?-1:1)*(0,n.ZR)(U[2]);(l>G||l===G&&(H[0]||H[1]))&&(c+=B^N>=0?1:-1)}}return(v<-n.Ho||v<n.Ho&&L<-n.Ho)^c&1}},25382:function(k,F,e){e.d(F,{O:function(){return n},W:function(){return E}});var h=e(39695);function E(L){return function(w,p){var m=(0,h.mC)(w),t=(0,h.mC)(p),r=L(m*t);return[r*t*(0,h.O$)(w),r*(0,h.O$)(p)]}}function n(L){return function(w,p){var m=(0,h._b)(w*w+p*p),t=L(m),r=(0,h.O$)(t),l=(0,h.mC)(t);return[(0,h.fv)(w*r,m*l),(0,h.ZR)(m&&p*r/m)]}}},12956:function(k,F,e){e.d(F,{Z:function(){return w},l:function(){return L}});var h=e(39695),E=e(25382),n=e(15002),L=(0,E.W)(function(p){return(0,h._b)(2/(1+p))});L.invert=(0,E.O)(function(p){return 2*(0,h.ZR)(p/2)});function w(){return(0,n.Z)(L).scale(124.75).clipAngle(179.999)}},17889:function(k,F,e){e.d(F,{N:function(){return L},Z:function(){return w}});var h=e(39695),E=e(25382),n=e(15002),L=(0,E.W)(function(p){return(p=(0,h.Kh)(p))&&p/(0,h.O$)(p)});L.invert=(0,E.O)(function(p){return p});function w(){return(0,n.Z)(L).scale(79.4188).clipAngle(179.999)}},97492:function(k,F,e){e.d(F,{Z:function(){return n},k:function(){return E}});var h=e(15002);function E(L,w){return[L,w]}E.invert=E;function n(){return(0,h.Z)(E).scale(152.63)}},47589:function(k,F,e){e.d(F,{V6:function(){return p},mF:function(){return w},qg:function(){return L},rf:function(){return m}});var h=e(72736),E=e(3559);function n(t,r,l){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),(0,h.Z)(l,t.stream(E.Z)),r(E.Z.result()),i!=null&&t.clipExtent(i),t}function L(t,r,l){return n(t,function(i){var f=r[1][0]-r[0][0],v=r[1][1]-r[0][1],c=Math.min(f/(i[1][0]-i[0][0]),v/(i[1][1]-i[0][1])),x=+r[0][0]+(f-c*(i[1][0]+i[0][0]))/2,d=+r[0][1]+(v-c*(i[1][1]+i[0][1]))/2;t.scale(150*c).translate([x,d])},l)}function w(t,r,l){return L(t,[[0,0],r],l)}function p(t,r,l){return n(t,function(i){var f=+r,v=f/(i[1][0]-i[0][0]),c=(f-v*(i[1][0]+i[0][0]))/2,x=-v*i[0][1];t.scale(150*v).translate([c,x])},l)}function m(t,r,l){return n(t,function(i){var f=+r,v=f/(i[1][1]-i[0][1]),c=-v*i[0][0],x=(f-v*(i[1][1]+i[0][1]))/2;t.scale(150*v).translate([c,x])},l)}},98936:function(k,F,e){e.d(F,{M:function(){return L},Z:function(){return w}});var h=e(39695),E=e(25382),n=e(15002);function L(p,m){var t=(0,h.mC)(m),r=(0,h.mC)(p)*t;return[t*(0,h.O$)(p)/r,(0,h.O$)(m)/r]}L.invert=(0,E.O)(h.z4);function w(){return(0,n.Z)(L).scale(144.049).clipAngle(60)}},15002:function(k,F,e){e.d(F,{Z:function(){return y},r:function(){return C}});var h=e(87070),E=e(1457),n=e(87605),L=e(96059),w=e(8593),p=e(39695),m=e(49386),t=e(64684),r=e(47589),l=e(7620),i=16,f=(0,p.mC)(30*p.uR);function v(S,D){return+D?x(S,D):c(S)}function c(S){return(0,t.l)({point:function(D,T){D=S(D,T),this.stream.point(D[0],D[1])}})}function x(S,D){function T(P,A,a,R,b,N,O,Y,B,W,H,U,G,j){var re=O-P,ae=Y-A,ue=re*re+ae*ae;if(ue>4*D&&G--){var de=R+W,ee=b+H,X=N+U,Q=(0,p._b)(de*de+ee*ee+X*X),$=(0,p.ZR)(X/=Q),ne=(0,p.Wn)((0,p.Wn)(X)-1)<p.Ho||(0,p.Wn)(a-B)<p.Ho?(a+B)/2:(0,p.fv)(ee,de),fe=S(ne,$),te=fe[0],q=fe[1],he=te-P,se=q-A,pe=ae*he-re*se;(pe*pe/ue>D||(0,p.Wn)((re*he+ae*se)/ue-.5)>.3||R*W+b*H+N*U<f)&&(T(P,A,a,R,b,N,te,q,ne,de/=Q,ee/=Q,X,G,j),j.point(te,q),T(te,q,ne,de,ee,X,O,Y,B,W,H,U,G,j))}}return function(P){var A,a,R,b,N,O,Y,B,W,H,U,G,j={point:re,lineStart:ae,lineEnd:de,polygonStart:function(){P.polygonStart(),j.lineStart=ee},polygonEnd:function(){P.polygonEnd(),j.lineStart=ae}};function re($,ne){$=S($,ne),P.point($[0],$[1])}function ae(){B=NaN,j.point=ue,P.lineStart()}function ue($,ne){var fe=(0,l.Og)([$,ne]),te=S($,ne);T(B,W,Y,H,U,G,B=te[0],W=te[1],Y=$,H=fe[0],U=fe[1],G=fe[2],i,P),P.point(B,W)}function de(){j.point=re,P.lineEnd()}function ee(){ae(),j.point=X,j.lineEnd=Q}function X($,ne){ue(A=$,ne),a=B,R=W,b=H,N=U,O=G,j.point=ue}function Q(){T(B,W,Y,H,U,G,a,R,A,b,N,O,i,P),j.lineEnd=de,de()}return j}}var d=(0,t.l)({point:function(S,D){this.stream.point(S*p.uR,D*p.uR)}});function M(S){return(0,t.l)({point:function(D,T){var P=S(D,T);return this.stream.point(P[0],P[1])}})}function g(S,D,T,P,A){function a(R,b){return R*=P,b*=A,[D+S*R,T-S*b]}return a.invert=function(R,b){return[(R-D)/S*P,(T-b)/S*A]},a}function u(S,D,T,P,A,a){var R=(0,p.mC)(a),b=(0,p.O$)(a),N=R*S,O=b*S,Y=R/S,B=b/S,W=(b*T-R*D)/S,H=(b*D+R*T)/S;function U(G,j){return G*=P,j*=A,[N*G-O*j+D,T-O*G-N*j]}return U.invert=function(G,j){return[P*(Y*G-B*j+W),A*(H-B*G-Y*j)]},U}function y(S){return C(function(){return S})()}function C(S){var D,T=150,P=480,A=250,a=0,R=0,b=0,N=0,O=0,Y,B=0,W=1,H=1,U=null,G=h.Z,j=null,re,ae,ue,de=w.Z,ee=.5,X,Q,$,ne,fe;function te(pe){return $(pe[0]*p.uR,pe[1]*p.uR)}function q(pe){return pe=$.invert(pe[0],pe[1]),pe&&[pe[0]*p.RW,pe[1]*p.RW]}te.stream=function(pe){return ne&&fe===pe?ne:ne=d(M(Y)(G(X(de(fe=pe)))))},te.preclip=function(pe){return arguments.length?(G=pe,U=void 0,se()):G},te.postclip=function(pe){return arguments.length?(de=pe,j=re=ae=ue=null,se()):de},te.clipAngle=function(pe){return arguments.length?(G=+pe?(0,E.Z)(U=pe*p.uR):(U=null,h.Z),se()):U*p.RW},te.clipExtent=function(pe){return arguments.length?(de=pe==null?(j=re=ae=ue=null,w.Z):(0,n.Z)(j=+pe[0][0],re=+pe[0][1],ae=+pe[1][0],ue=+pe[1][1]),se()):j==null?null:[[j,re],[ae,ue]]},te.scale=function(pe){return arguments.length?(T=+pe,he()):T},te.translate=function(pe){return arguments.length?(P=+pe[0],A=+pe[1],he()):[P,A]},te.center=function(pe){return arguments.length?(a=pe[0]%360*p.uR,R=pe[1]%360*p.uR,he()):[a*p.RW,R*p.RW]},te.rotate=function(pe){return arguments.length?(b=pe[0]%360*p.uR,N=pe[1]%360*p.uR,O=pe.length>2?pe[2]%360*p.uR:0,he()):[b*p.RW,N*p.RW,O*p.RW]},te.angle=function(pe){return arguments.length?(B=pe%360*p.uR,he()):B*p.RW},te.reflectX=function(pe){return arguments.length?(W=pe?-1:1,he()):W<0},te.reflectY=function(pe){return arguments.length?(H=pe?-1:1,he()):H<0},te.precision=function(pe){return arguments.length?(X=v(Q,ee=pe*pe),se()):(0,p._b)(ee)},te.fitExtent=function(pe,we){return(0,r.qg)(te,pe,we)},te.fitSize=function(pe,we){return(0,r.mF)(te,pe,we)},te.fitWidth=function(pe,we){return(0,r.V6)(te,pe,we)},te.fitHeight=function(pe,we){return(0,r.rf)(te,pe,we)};function he(){var pe=u(T,0,0,W,H,B).apply(null,D(a,R)),we=(B?u:g)(T,P-pe[0],A-pe[1],W,H,B);return Y=(0,m.I)(b,N,O),Q=(0,L.Z)(D,we),$=(0,L.Z)(Y,Q),X=v(Q,ee),se()}function se(){return ne=fe=null,te}return function(){return D=S.apply(this,arguments),te.invert=D.invert&&q,he()}}},26867:function(k,F,e){e.d(F,{K:function(){return n},Z:function(){return L}});var h=e(15002),E=e(39695);function n(w,p){var m=p*p,t=m*m;return[w*(.8707-.131979*m+t*(-.013791+t*(.003971*m-.001529*t))),p*(1.007226+m*(.015085+t*(-.044475+.028874*m-.005916*t)))]}n.invert=function(w,p){var m=p,t=25,r;do{var l=m*m,i=l*l;m-=r=(m*(1.007226+l*(.015085+i*(-.044475+.028874*l-.005916*i)))-p)/(1.007226+l*(.045255+i*(-.311325+.259866*l-.06507600000000001*i)))}while((0,E.Wn)(r)>E.Ho&&--t>0);return[w/(.8707+(l=m*m)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),m]};function L(){return(0,h.Z)(n).scale(175.295)}},57962:function(k,F,e){e.d(F,{I:function(){return L},Z:function(){return w}});var h=e(39695),E=e(25382),n=e(15002);function L(p,m){return[(0,h.mC)(m)*(0,h.O$)(p),(0,h.O$)(m)]}L.invert=(0,E.O)(h.ZR);function w(){return(0,n.Z)(L).scale(249.5).clipAngle(90+h.Ho)}},49386:function(k,F,e){e.d(F,{I:function(){return L},Z:function(){return t}});var h=e(96059),E=e(39695);function n(r,l){return[(0,E.Wn)(r)>E.pi?r+Math.round(-r/E.BZ)*E.BZ:r,l]}n.invert=n;function L(r,l,i){return(r%=E.BZ)?l||i?(0,h.Z)(p(r),m(l,i)):p(r):l||i?m(l,i):n}function w(r){return function(l,i){return l+=r,[l>E.pi?l-E.BZ:l<-E.pi?l+E.BZ:l,i]}}function p(r){var l=w(r);return l.invert=w(-r),l}function m(r,l){var i=(0,E.mC)(r),f=(0,E.O$)(r),v=(0,E.mC)(l),c=(0,E.O$)(l);function x(d,M){var g=(0,E.mC)(M),u=(0,E.mC)(d)*g,y=(0,E.O$)(d)*g,C=(0,E.O$)(M),S=C*i+u*f;return[(0,E.fv)(y*v-S*c,u*i-C*f),(0,E.ZR)(S*v+y*c)]}return x.invert=function(d,M){var g=(0,E.mC)(M),u=(0,E.mC)(d)*g,y=(0,E.O$)(d)*g,C=(0,E.O$)(M),S=C*v-y*c;return[(0,E.fv)(y*v+C*c,u*i+S*f),(0,E.ZR)(S*i-u*f)]},x}function t(r){r=L(r[0]*E.uR,r[1]*E.uR,r.length>2?r[2]*E.uR:0);function l(i){return i=r(i[0]*E.uR,i[1]*E.uR),i[0]*=E.RW,i[1]*=E.RW,i}return l.invert=function(i){return i=r.invert(i[0]*E.uR,i[1]*E.uR),i[0]*=E.RW,i[1]*=E.RW,i},l}},72736:function(k,F,e){e.d(F,{Z:function(){return p}});function h(m,t){m&&n.hasOwnProperty(m.type)&&n[m.type](m,t)}var E={Feature:function(m,t){h(m.geometry,t)},FeatureCollection:function(m,t){for(var r=m.features,l=-1,i=r.length;++l<i;)h(r[l].geometry,t)}},n={Sphere:function(m,t){t.sphere()},Point:function(m,t){m=m.coordinates,t.point(m[0],m[1],m[2])},MultiPoint:function(m,t){for(var r=m.coordinates,l=-1,i=r.length;++l<i;)m=r[l],t.point(m[0],m[1],m[2])},LineString:function(m,t){L(m.coordinates,t,0)},MultiLineString:function(m,t){for(var r=m.coordinates,l=-1,i=r.length;++l<i;)L(r[l],t,0)},Polygon:function(m,t){w(m.coordinates,t)},MultiPolygon:function(m,t){for(var r=m.coordinates,l=-1,i=r.length;++l<i;)w(r[l],t)},GeometryCollection:function(m,t){for(var r=m.geometries,l=-1,i=r.length;++l<i;)h(r[l],t)}};function L(m,t,r){var l=-1,i=m.length-r,f;for(t.lineStart();++l<i;)f=m[l],t.point(f[0],f[1],f[2]);t.lineEnd()}function w(m,t){var r=-1,l=m.length;for(t.polygonStart();++r<l;)L(m[r],t,1);t.polygonEnd()}function p(m,t){m&&E.hasOwnProperty(m.type)?E[m.type](m,t):h(m,t)}},64684:function(k,F,e){e.d(F,{Z:function(){return h},l:function(){return E}});function h(L){return{stream:E(L)}}function E(L){return function(w){var p=new n;for(var m in L)p[m]=L[m];return p.stream=w,p}}function n(){}n.prototype={constructor:n,point:function(L,w){this.stream.point(L,w)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(k,F,e){e.r(F),e.d(F,{cluster:function(){return t},hierarchy:function(){return S},pack:function(){return q},packEnclose:function(){return N},packSiblings:function(){return X},partition:function(){return Me},stratify:function(){return Ve},tree:function(){return dt},treemap:function(){return Xe},treemapBinary:function(){return ke},treemapDice:function(){return Ee},treemapResquarify:function(){return Oe},treemapSlice:function(){return gt},treemapSliceDice:function(){return Ie},treemapSquarify:function(){return Wt}});function h(_e,Ae){return _e.parent===Ae.parent?1:2}function E(_e){return _e.reduce(n,0)/_e.length}function n(_e,Ae){return _e+Ae.x}function L(_e){return 1+_e.reduce(w,0)}function w(_e,Ae){return Math.max(_e,Ae.y)}function p(_e){for(var Ae;Ae=_e.children;)_e=Ae[0];return _e}function m(_e){for(var Ae;Ae=_e.children;)_e=Ae[Ae.length-1];return _e}function t(){var _e=h,Ae=1,ce=1,be=!1;function Re(Ue){var nt,ot=0;Ue.eachAfter(function(Lt){var Kt=Lt.children;Kt?(Lt.x=E(Kt),Lt.y=L(Kt)):(Lt.x=nt?ot+=_e(Lt,nt):0,Lt.y=0,nt=Lt)});var wt=p(Ue),_t=m(Ue),Ut=wt.x-_e(wt,_t)/2,Vt=_t.x+_e(_t,wt)/2;return Ue.eachAfter(be?function(Lt){Lt.x=(Lt.x-Ue.x)*Ae,Lt.y=(Ue.y-Lt.y)*ce}:function(Lt){Lt.x=(Lt.x-Ut)/(Vt-Ut)*Ae,Lt.y=(1-(Ue.y?Lt.y/Ue.y:1))*ce})}return Re.separation=function(Ue){return arguments.length?(_e=Ue,Re):_e},Re.size=function(Ue){return arguments.length?(be=!1,Ae=+Ue[0],ce=+Ue[1],Re):be?null:[Ae,ce]},Re.nodeSize=function(Ue){return arguments.length?(be=!0,Ae=+Ue[0],ce=+Ue[1],Re):be?[Ae,ce]:null},Re}function r(_e){var Ae=0,ce=_e.children,be=ce&&ce.length;if(!be)Ae=1;else for(;--be>=0;)Ae+=ce[be].value;_e.value=Ae}function l(){return this.eachAfter(r)}function i(_e){var Ae=this,ce,be=[Ae],Re,Ue,nt;do for(ce=be.reverse(),be=[];Ae=ce.pop();)if(_e(Ae),Re=Ae.children,Re)for(Ue=0,nt=Re.length;Ue<nt;++Ue)be.push(Re[Ue]);while(be.length);return this}function f(_e){for(var Ae=this,ce=[Ae],be,Re;Ae=ce.pop();)if(_e(Ae),be=Ae.children,be)for(Re=be.length-1;Re>=0;--Re)ce.push(be[Re]);return this}function v(_e){for(var Ae=this,ce=[Ae],be=[],Re,Ue,nt;Ae=ce.pop();)if(be.push(Ae),Re=Ae.children,Re)for(Ue=0,nt=Re.length;Ue<nt;++Ue)ce.push(Re[Ue]);for(;Ae=be.pop();)_e(Ae);return this}function c(_e){return this.eachAfter(function(Ae){for(var ce=+_e(Ae.data)||0,be=Ae.children,Re=be&&be.length;--Re>=0;)ce+=be[Re].value;Ae.value=ce})}function x(_e){return this.eachBefore(function(Ae){Ae.children&&Ae.children.sort(_e)})}function d(_e){for(var Ae=this,ce=M(Ae,_e),be=[Ae];Ae!==ce;)Ae=Ae.parent,be.push(Ae);for(var Re=be.length;_e!==ce;)be.splice(Re,0,_e),_e=_e.parent;return be}function M(_e,Ae){if(_e===Ae)return _e;var ce=_e.ancestors(),be=Ae.ancestors(),Re=null;for(_e=ce.pop(),Ae=be.pop();_e===Ae;)Re=_e,_e=ce.pop(),Ae=be.pop();return Re}function g(){for(var _e=this,Ae=[_e];_e=_e.parent;)Ae.push(_e);return Ae}function u(){var _e=[];return this.each(function(Ae){_e.push(Ae)}),_e}function y(){var _e=[];return this.eachBefore(function(Ae){Ae.children||_e.push(Ae)}),_e}function C(){var _e=this,Ae=[];return _e.each(function(ce){ce!==_e&&Ae.push({source:ce.parent,target:ce})}),Ae}function S(_e,Ae){var ce=new a(_e),be=+_e.value&&(ce.value=_e.value),Re,Ue=[ce],nt,ot,wt,_t;for(Ae==null&&(Ae=T);Re=Ue.pop();)if(be&&(Re.value=+Re.data.value),(ot=Ae(Re.data))&&(_t=ot.length))for(Re.children=new Array(_t),wt=_t-1;wt>=0;--wt)Ue.push(nt=Re.children[wt]=new a(ot[wt])),nt.parent=Re,nt.depth=Re.depth+1;return ce.eachBefore(A)}function D(){return S(this).eachBefore(P)}function T(_e){return _e.children}function P(_e){_e.data=_e.data.data}function A(_e){var Ae=0;do _e.height=Ae;while((_e=_e.parent)&&_e.height<++Ae)}function a(_e){this.data=_e,this.depth=this.height=0,this.parent=null}a.prototype=S.prototype={constructor:a,count:l,each:i,eachAfter:v,eachBefore:f,sum:c,sort:x,path:d,ancestors:g,descendants:u,leaves:y,links:C,copy:D};var R=Array.prototype.slice;function b(_e){for(var Ae=_e.length,ce,be;Ae;)be=Math.random()*Ae--|0,ce=_e[Ae],_e[Ae]=_e[be],_e[be]=ce;return _e}function N(_e){for(var Ae=0,ce=(_e=b(R.call(_e))).length,be=[],Re,Ue;Ae<ce;)Re=_e[Ae],Ue&&B(Ue,Re)?++Ae:(Ue=H(be=O(be,Re)),Ae=0);return Ue}function O(_e,Ae){var ce,be;if(W(Ae,_e))return[Ae];for(ce=0;ce<_e.length;++ce)if(Y(Ae,_e[ce])&&W(G(_e[ce],Ae),_e))return[_e[ce],Ae];for(ce=0;ce<_e.length-1;++ce)for(be=ce+1;be<_e.length;++be)if(Y(G(_e[ce],_e[be]),Ae)&&Y(G(_e[ce],Ae),_e[be])&&Y(G(_e[be],Ae),_e[ce])&&W(j(_e[ce],_e[be],Ae),_e))return[_e[ce],_e[be],Ae];throw new Error}function Y(_e,Ae){var ce=_e.r-Ae.r,be=Ae.x-_e.x,Re=Ae.y-_e.y;return ce<0||ce*ce<be*be+Re*Re}function B(_e,Ae){var ce=_e.r-Ae.r+1e-6,be=Ae.x-_e.x,Re=Ae.y-_e.y;return ce>0&&ce*ce>be*be+Re*Re}function W(_e,Ae){for(var ce=0;ce<Ae.length;++ce)if(!B(_e,Ae[ce]))return!1;return!0}function H(_e){switch(_e.length){case 1:return U(_e[0]);case 2:return G(_e[0],_e[1]);case 3:return j(_e[0],_e[1],_e[2])}}function U(_e){return{x:_e.x,y:_e.y,r:_e.r}}function G(_e,Ae){var ce=_e.x,be=_e.y,Re=_e.r,Ue=Ae.x,nt=Ae.y,ot=Ae.r,wt=Ue-ce,_t=nt-be,Ut=ot-Re,Vt=Math.sqrt(wt*wt+_t*_t);return{x:(ce+Ue+wt/Vt*Ut)/2,y:(be+nt+_t/Vt*Ut)/2,r:(Vt+Re+ot)/2}}function j(_e,Ae,ce){var be=_e.x,Re=_e.y,Ue=_e.r,nt=Ae.x,ot=Ae.y,wt=Ae.r,_t=ce.x,Ut=ce.y,Vt=ce.r,Lt=be-nt,Kt=be-_t,ar=Re-ot,Fr=Re-Ut,yt=wt-Ue,Xt=Vt-Ue,Yt=be*be+Re*Re-Ue*Ue,br=Yt-nt*nt-ot*ot+wt*wt,hr=Yt-_t*_t-Ut*Ut+Vt*Vt,ut=Kt*ar-Lt*Fr,lt=(ar*hr-Fr*br)/(ut*2)-be,xt=(Fr*yt-ar*Xt)/ut,Tt=(Kt*br-Lt*hr)/(ut*2)-Re,Et=(Lt*Xt-Kt*yt)/ut,At=xt*xt+Et*Et-1,Ft=2*(Ue+lt*xt+Tt*Et),Ht=lt*lt+Tt*Tt-Ue*Ue,$t=-(At?(Ft+Math.sqrt(Ft*Ft-4*At*Ht))/(2*At):Ht/Ft);return{x:be+lt+xt*$t,y:Re+Tt+Et*$t,r:$t}}function re(_e,Ae,ce){var be=_e.x-Ae.x,Re,Ue,nt=_e.y-Ae.y,ot,wt,_t=be*be+nt*nt;_t?(Ue=Ae.r+ce.r,Ue*=Ue,wt=_e.r+ce.r,wt*=wt,Ue>wt?(Re=(_t+wt-Ue)/(2*_t),ot=Math.sqrt(Math.max(0,wt/_t-Re*Re)),ce.x=_e.x-Re*be-ot*nt,ce.y=_e.y-Re*nt+ot*be):(Re=(_t+Ue-wt)/(2*_t),ot=Math.sqrt(Math.max(0,Ue/_t-Re*Re)),ce.x=Ae.x+Re*be-ot*nt,ce.y=Ae.y+Re*nt+ot*be)):(ce.x=Ae.x+ce.r,ce.y=Ae.y)}function ae(_e,Ae){var ce=_e.r+Ae.r-1e-6,be=Ae.x-_e.x,Re=Ae.y-_e.y;return ce>0&&ce*ce>be*be+Re*Re}function ue(_e){var Ae=_e._,ce=_e.next._,be=Ae.r+ce.r,Re=(Ae.x*ce.r+ce.x*Ae.r)/be,Ue=(Ae.y*ce.r+ce.y*Ae.r)/be;return Re*Re+Ue*Ue}function de(_e){this._=_e,this.next=null,this.previous=null}function ee(_e){if(!(Re=_e.length))return 0;var Ae,ce,be,Re,Ue,nt,ot,wt,_t,Ut,Vt;if(Ae=_e[0],Ae.x=0,Ae.y=0,!(Re>1))return Ae.r;if(ce=_e[1],Ae.x=-ce.r,ce.x=Ae.r,ce.y=0,!(Re>2))return Ae.r+ce.r;re(ce,Ae,be=_e[2]),Ae=new de(Ae),ce=new de(ce),be=new de(be),Ae.next=be.previous=ce,ce.next=Ae.previous=be,be.next=ce.previous=Ae;e:for(ot=3;ot<Re;++ot){re(Ae._,ce._,be=_e[ot]),be=new de(be),wt=ce.next,_t=Ae.previous,Ut=ce._.r,Vt=Ae._.r;do if(Ut<=Vt){if(ae(wt._,be._)){ce=wt,Ae.next=ce,ce.previous=Ae,--ot;continue e}Ut+=wt._.r,wt=wt.next}else{if(ae(_t._,be._)){Ae=_t,Ae.next=ce,ce.previous=Ae,--ot;continue e}Vt+=_t._.r,_t=_t.previous}while(wt!==_t.next);for(be.previous=Ae,be.next=ce,Ae.next=ce.previous=ce=be,Ue=ue(Ae);(be=be.next)!==ce;)(nt=ue(be))<Ue&&(Ae=be,Ue=nt);ce=Ae.next}for(Ae=[ce._],be=ce;(be=be.next)!==ce;)Ae.push(be._);for(be=N(Ae),ot=0;ot<Re;++ot)Ae=_e[ot],Ae.x-=be.x,Ae.y-=be.y;return be.r}function X(_e){return ee(_e),_e}function Q(_e){return _e==null?null:$(_e)}function $(_e){if(typeof _e!="function")throw new Error;return _e}function ne(){return 0}function fe(_e){return function(){return _e}}function te(_e){return Math.sqrt(_e.value)}function q(){var _e=null,Ae=1,ce=1,be=ne;function Re(Ue){return Ue.x=Ae/2,Ue.y=ce/2,_e?Ue.eachBefore(he(_e)).eachAfter(se(be,.5)).eachBefore(pe(1)):Ue.eachBefore(he(te)).eachAfter(se(ne,1)).eachAfter(se(be,Ue.r/Math.min(Ae,ce))).eachBefore(pe(Math.min(Ae,ce)/(2*Ue.r))),Ue}return Re.radius=function(Ue){return arguments.length?(_e=Q(Ue),Re):_e},Re.size=function(Ue){return arguments.length?(Ae=+Ue[0],ce=+Ue[1],Re):[Ae,ce]},Re.padding=function(Ue){return arguments.length?(be=typeof Ue=="function"?Ue:fe(+Ue),Re):be},Re}function he(_e){return function(Ae){Ae.children||(Ae.r=Math.max(0,+_e(Ae)||0))}}function se(_e,Ae){return function(ce){if(be=ce.children){var be,Re,Ue=be.length,nt=_e(ce)*Ae||0,ot;if(nt)for(Re=0;Re<Ue;++Re)be[Re].r+=nt;if(ot=ee(be),nt)for(Re=0;Re<Ue;++Re)be[Re].r-=nt;ce.r=ot+nt}}}function pe(_e){return function(Ae){var ce=Ae.parent;Ae.r*=_e,ce&&(Ae.x=ce.x+_e*Ae.x,Ae.y=ce.y+_e*Ae.y)}}function we(_e){_e.x0=Math.round(_e.x0),_e.y0=Math.round(_e.y0),_e.x1=Math.round(_e.x1),_e.y1=Math.round(_e.y1)}function Ee(_e,Ae,ce,be,Re){for(var Ue=_e.children,nt,ot=-1,wt=Ue.length,_t=_e.value&&(be-Ae)/_e.value;++ot<wt;)nt=Ue[ot],nt.y0=ce,nt.y1=Re,nt.x0=Ae,nt.x1=Ae+=nt.value*_t}function Me(){var _e=1,Ae=1,ce=0,be=!1;function Re(nt){var ot=nt.height+1;return nt.x0=nt.y0=ce,nt.x1=_e,nt.y1=Ae/ot,nt.eachBefore(Ue(Ae,ot)),be&&nt.eachBefore(we),nt}function Ue(nt,ot){return function(wt){wt.children&&Ee(wt,wt.x0,nt*(wt.depth+1)/ot,wt.x1,nt*(wt.depth+2)/ot);var _t=wt.x0,Ut=wt.y0,Vt=wt.x1-ce,Lt=wt.y1-ce;Vt<_t&&(_t=Vt=(_t+Vt)/2),Lt<Ut&&(Ut=Lt=(Ut+Lt)/2),wt.x0=_t,wt.y0=Ut,wt.x1=Vt,wt.y1=Lt}}return Re.round=function(nt){return arguments.length?(be=!!nt,Re):be},Re.size=function(nt){return arguments.length?(_e=+nt[0],Ae=+nt[1],Re):[_e,Ae]},Re.padding=function(nt){return arguments.length?(ce=+nt,Re):ce},Re}var Be="$",Ne={depth:-1},Ce={};function Te(_e){return _e.id}function Le(_e){return _e.parentId}function Ve(){var _e=Te,Ae=Le;function ce(be){var Re,Ue,nt=be.length,ot,wt,_t,Ut=new Array(nt),Vt,Lt,Kt={};for(Ue=0;Ue<nt;++Ue)Re=be[Ue],_t=Ut[Ue]=new a(Re),(Vt=_e(Re,Ue,be))!=null&&(Vt+="")&&(Lt=Be+(_t.id=Vt),Kt[Lt]=Lt in Kt?Ce:_t);for(Ue=0;Ue<nt;++Ue)if(_t=Ut[Ue],Vt=Ae(be[Ue],Ue,be),Vt==null||!(Vt+="")){if(ot)throw new Error("multiple roots");ot=_t}else{if(wt=Kt[Be+Vt],!wt)throw new Error("missing: "+Vt);if(wt===Ce)throw new Error("ambiguous: "+Vt);wt.children?wt.children.push(_t):wt.children=[_t],_t.parent=wt}if(!ot)throw new Error("no root");if(ot.parent=Ne,ot.eachBefore(function(ar){ar.depth=ar.parent.depth+1,--nt}).eachBefore(A),ot.parent=null,nt>0)throw new Error("cycle");return ot}return ce.id=function(be){return arguments.length?(_e=$(be),ce):_e},ce.parentId=function(be){return arguments.length?(Ae=$(be),ce):Ae},ce}function We(_e,Ae){return _e.parent===Ae.parent?1:2}function Fe(_e){var Ae=_e.children;return Ae?Ae[0]:_e.t}function Ge(_e){var Ae=_e.children;return Ae?Ae[Ae.length-1]:_e.t}function it(_e,Ae,ce){var be=ce/(Ae.i-_e.i);Ae.c-=be,Ae.s+=ce,_e.c+=be,Ae.z+=ce,Ae.m+=ce}function qe(_e){for(var Ae=0,ce=0,be=_e.children,Re=be.length,Ue;--Re>=0;)Ue=be[Re],Ue.z+=Ae,Ue.m+=Ae,Ae+=Ue.s+(ce+=Ue.c)}function $e(_e,Ae,ce){return _e.a.parent===Ae.parent?_e.a:ce}function tt(_e,Ae){this._=_e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ae}tt.prototype=Object.create(a.prototype);function vt(_e){for(var Ae=new tt(_e,0),ce,be=[Ae],Re,Ue,nt,ot;ce=be.pop();)if(Ue=ce._.children)for(ce.children=new Array(ot=Ue.length),nt=ot-1;nt>=0;--nt)be.push(Re=ce.children[nt]=new tt(Ue[nt],nt)),Re.parent=ce;return(Ae.parent=new tt(null,0)).children=[Ae],Ae}function dt(){var _e=We,Ae=1,ce=1,be=null;function Re(_t){var Ut=vt(_t);if(Ut.eachAfter(Ue),Ut.parent.m=-Ut.z,Ut.eachBefore(nt),be)_t.eachBefore(wt);else{var Vt=_t,Lt=_t,Kt=_t;_t.eachBefore(function(Yt){Yt.x<Vt.x&&(Vt=Yt),Yt.x>Lt.x&&(Lt=Yt),Yt.depth>Kt.depth&&(Kt=Yt)});var ar=Vt===Lt?1:_e(Vt,Lt)/2,Fr=ar-Vt.x,yt=Ae/(Lt.x+ar+Fr),Xt=ce/(Kt.depth||1);_t.eachBefore(function(Yt){Yt.x=(Yt.x+Fr)*yt,Yt.y=Yt.depth*Xt})}return _t}function Ue(_t){var Ut=_t.children,Vt=_t.parent.children,Lt=_t.i?Vt[_t.i-1]:null;if(Ut){qe(_t);var Kt=(Ut[0].z+Ut[Ut.length-1].z)/2;Lt?(_t.z=Lt.z+_e(_t._,Lt._),_t.m=_t.z-Kt):_t.z=Kt}else Lt&&(_t.z=Lt.z+_e(_t._,Lt._));_t.parent.A=ot(_t,Lt,_t.parent.A||Vt[0])}function nt(_t){_t._.x=_t.z+_t.parent.m,_t.m+=_t.parent.m}function ot(_t,Ut,Vt){if(Ut){for(var Lt=_t,Kt=_t,ar=Ut,Fr=Lt.parent.children[0],yt=Lt.m,Xt=Kt.m,Yt=ar.m,br=Fr.m,hr;ar=Ge(ar),Lt=Fe(Lt),ar&&Lt;)Fr=Fe(Fr),Kt=Ge(Kt),Kt.a=_t,hr=ar.z+Yt-Lt.z-yt+_e(ar._,Lt._),hr>0&&(it($e(ar,_t,Vt),_t,hr),yt+=hr,Xt+=hr),Yt+=ar.m,yt+=Lt.m,br+=Fr.m,Xt+=Kt.m;ar&&!Ge(Kt)&&(Kt.t=ar,Kt.m+=Yt-Xt),Lt&&!Fe(Fr)&&(Fr.t=Lt,Fr.m+=yt-br,Vt=_t)}return Vt}function wt(_t){_t.x*=Ae,_t.y=_t.depth*ce}return Re.separation=function(_t){return arguments.length?(_e=_t,Re):_e},Re.size=function(_t){return arguments.length?(be=!1,Ae=+_t[0],ce=+_t[1],Re):be?null:[Ae,ce]},Re.nodeSize=function(_t){return arguments.length?(be=!0,Ae=+_t[0],ce=+_t[1],Re):be?[Ae,ce]:null},Re}function gt(_e,Ae,ce,be,Re){for(var Ue=_e.children,nt,ot=-1,wt=Ue.length,_t=_e.value&&(Re-ce)/_e.value;++ot<wt;)nt=Ue[ot],nt.x0=Ae,nt.x1=be,nt.y0=ce,nt.y1=ce+=nt.value*_t}var Mt=(1+Math.sqrt(5))/2;function Ct(_e,Ae,ce,be,Re,Ue){for(var nt=[],ot=Ae.children,wt,_t,Ut=0,Vt=0,Lt=ot.length,Kt,ar,Fr=Ae.value,yt,Xt,Yt,br,hr,ut,lt;Ut<Lt;){Kt=Re-ce,ar=Ue-be;do yt=ot[Vt++].value;while(!yt&&Vt<Lt);for(Xt=Yt=yt,ut=Math.max(ar/Kt,Kt/ar)/(Fr*_e),lt=yt*yt*ut,hr=Math.max(Yt/lt,lt/Xt);Vt<Lt;++Vt){if(yt+=_t=ot[Vt].value,_t<Xt&&(Xt=_t),_t>Yt&&(Yt=_t),lt=yt*yt*ut,br=Math.max(Yt/lt,lt/Xt),br>hr){yt-=_t;break}hr=br}nt.push(wt={value:yt,dice:Kt<ar,children:ot.slice(Ut,Vt)}),wt.dice?Ee(wt,ce,be,Re,Fr?be+=ar*yt/Fr:Ue):gt(wt,ce,be,Fr?ce+=Kt*yt/Fr:Re,Ue),Fr-=yt,Ut=Vt}return nt}var Wt=function _e(Ae){function ce(be,Re,Ue,nt,ot){Ct(Ae,be,Re,Ue,nt,ot)}return ce.ratio=function(be){return _e((be=+be)>1?be:1)},ce}(Mt);function Xe(){var _e=Wt,Ae=!1,ce=1,be=1,Re=[0],Ue=ne,nt=ne,ot=ne,wt=ne,_t=ne;function Ut(Lt){return Lt.x0=Lt.y0=0,Lt.x1=ce,Lt.y1=be,Lt.eachBefore(Vt),Re=[0],Ae&&Lt.eachBefore(we),Lt}function Vt(Lt){var Kt=Re[Lt.depth],ar=Lt.x0+Kt,Fr=Lt.y0+Kt,yt=Lt.x1-Kt,Xt=Lt.y1-Kt;yt<ar&&(ar=yt=(ar+yt)/2),Xt<Fr&&(Fr=Xt=(Fr+Xt)/2),Lt.x0=ar,Lt.y0=Fr,Lt.x1=yt,Lt.y1=Xt,Lt.children&&(Kt=Re[Lt.depth+1]=Ue(Lt)/2,ar+=_t(Lt)-Kt,Fr+=nt(Lt)-Kt,yt-=ot(Lt)-Kt,Xt-=wt(Lt)-Kt,yt<ar&&(ar=yt=(ar+yt)/2),Xt<Fr&&(Fr=Xt=(Fr+Xt)/2),_e(Lt,ar,Fr,yt,Xt))}return Ut.round=function(Lt){return arguments.length?(Ae=!!Lt,Ut):Ae},Ut.size=function(Lt){return arguments.length?(ce=+Lt[0],be=+Lt[1],Ut):[ce,be]},Ut.tile=function(Lt){return arguments.length?(_e=$(Lt),Ut):_e},Ut.padding=function(Lt){return arguments.length?Ut.paddingInner(Lt).paddingOuter(Lt):Ut.paddingInner()},Ut.paddingInner=function(Lt){return arguments.length?(Ue=typeof Lt=="function"?Lt:fe(+Lt),Ut):Ue},Ut.paddingOuter=function(Lt){return arguments.length?Ut.paddingTop(Lt).paddingRight(Lt).paddingBottom(Lt).paddingLeft(Lt):Ut.paddingTop()},Ut.paddingTop=function(Lt){return arguments.length?(nt=typeof Lt=="function"?Lt:fe(+Lt),Ut):nt},Ut.paddingRight=function(Lt){return arguments.length?(ot=typeof Lt=="function"?Lt:fe(+Lt),Ut):ot},Ut.paddingBottom=function(Lt){return arguments.length?(wt=typeof Lt=="function"?Lt:fe(+Lt),Ut):wt},Ut.paddingLeft=function(Lt){return arguments.length?(_t=typeof Lt=="function"?Lt:fe(+Lt),Ut):_t},Ut}function ke(_e,Ae,ce,be,Re){var Ue=_e.children,nt,ot=Ue.length,wt,_t=new Array(ot+1);for(_t[0]=wt=nt=0;nt<ot;++nt)_t[nt+1]=wt+=Ue[nt].value;Ut(0,ot,_e.value,Ae,ce,be,Re);function Ut(Vt,Lt,Kt,ar,Fr,yt,Xt){if(Vt>=Lt-1){var Yt=Ue[Vt];Yt.x0=ar,Yt.y0=Fr,Yt.x1=yt,Yt.y1=Xt;return}for(var br=_t[Vt],hr=Kt/2+br,ut=Vt+1,lt=Lt-1;ut<lt;){var xt=ut+lt>>>1;_t[xt]<hr?ut=xt+1:lt=xt}hr-_t[ut-1]<_t[ut]-hr&&Vt+1<ut&&--ut;var Tt=_t[ut]-br,Et=Kt-Tt;if(yt-ar>Xt-Fr){var At=(ar*Et+yt*Tt)/Kt;Ut(Vt,ut,Tt,ar,Fr,At,Xt),Ut(ut,Lt,Et,At,Fr,yt,Xt)}else{var Ft=(Fr*Et+Xt*Tt)/Kt;Ut(Vt,ut,Tt,ar,Fr,yt,Ft),Ut(ut,Lt,Et,ar,Ft,yt,Xt)}}}function Ie(_e,Ae,ce,be,Re){(_e.depth&1?gt:Ee)(_e,Ae,ce,be,Re)}var Oe=function _e(Ae){function ce(be,Re,Ue,nt,ot){if((wt=be._squarify)&&wt.ratio===Ae)for(var wt,_t,Ut,Vt,Lt=-1,Kt,ar=wt.length,Fr=be.value;++Lt<ar;){for(_t=wt[Lt],Ut=_t.children,Vt=_t.value=0,Kt=Ut.length;Vt<Kt;++Vt)_t.value+=Ut[Vt].value;_t.dice?Ee(_t,Re,Ue,nt,Ue+=(ot-Ue)*_t.value/Fr):gt(_t,Re,Ue,Re+=(nt-Re)*_t.value/Fr,ot),Fr-=_t.value}else be._squarify=wt=Ct(Ae,be,Re,Ue,nt,ot),wt.ratio=Ae}return ce.ratio=function(be){return _e((be=+be)>1?be:1)},ce}(Mt)},45879:function(k,F,e){e.d(F,{h5:function(){return d}});var h=Math.PI,E=2*h,n=1e-6,L=E-n;function w(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function p(){return new w}w.prototype=p.prototype={constructor:w,moveTo:function(M,g){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+g)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(M,g){this._+="L"+(this._x1=+M)+","+(this._y1=+g)},quadraticCurveTo:function(M,g,u,y){this._+="Q"+ +M+","+ +g+","+(this._x1=+u)+","+(this._y1=+y)},bezierCurveTo:function(M,g,u,y,C,S){this._+="C"+ +M+","+ +g+","+ +u+","+ +y+","+(this._x1=+C)+","+(this._y1=+S)},arcTo:function(M,g,u,y,C){M=+M,g=+g,u=+u,y=+y,C=+C;var S=this._x1,D=this._y1,T=u-M,P=y-g,A=S-M,a=D-g,R=A*A+a*a;if(C<0)throw new Error("negative radius: "+C);if(this._x1===null)this._+="M"+(this._x1=M)+","+(this._y1=g);else if(R>n)if(!(Math.abs(a*T-P*A)>n)||!C)this._+="L"+(this._x1=M)+","+(this._y1=g);else{var b=u-S,N=y-D,O=T*T+P*P,Y=b*b+N*N,B=Math.sqrt(O),W=Math.sqrt(R),H=C*Math.tan((h-Math.acos((O+R-Y)/(2*B*W)))/2),U=H/W,G=H/B;Math.abs(U-1)>n&&(this._+="L"+(M+U*A)+","+(g+U*a)),this._+="A"+C+","+C+",0,0,"+ +(a*b>A*N)+","+(this._x1=M+G*T)+","+(this._y1=g+G*P)}},arc:function(M,g,u,y,C,S){M=+M,g=+g,u=+u,S=!!S;var D=u*Math.cos(y),T=u*Math.sin(y),P=M+D,A=g+T,a=1^S,R=S?y-C:C-y;if(u<0)throw new Error("negative radius: "+u);this._x1===null?this._+="M"+P+","+A:(Math.abs(this._x1-P)>n||Math.abs(this._y1-A)>n)&&(this._+="L"+P+","+A),u&&(R<0&&(R=R%E+E),R>L?this._+="A"+u+","+u+",0,1,"+a+","+(M-D)+","+(g-T)+"A"+u+","+u+",0,1,"+a+","+(this._x1=P)+","+(this._y1=A):R>n&&(this._+="A"+u+","+u+",0,"+ +(R>=h)+","+a+","+(this._x1=M+u*Math.cos(C))+","+(this._y1=g+u*Math.sin(C))))},rect:function(M,g,u,y){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+g)+"h"+ +u+"v"+ +y+"h"+-u+"Z"},toString:function(){return this._}};var m=p,t=Array.prototype.slice;function r(M){return function(){return M}}function l(M){return M[0]}function i(M){return M[1]}function f(M){return M.source}function v(M){return M.target}function c(M){var g=f,u=v,y=l,C=i,S=null;function D(){var T,P=t.call(arguments),A=g.apply(this,P),a=u.apply(this,P);if(S||(S=T=m()),M(S,+y.apply(this,(P[0]=A,P)),+C.apply(this,P),+y.apply(this,(P[0]=a,P)),+C.apply(this,P)),T)return S=null,T+""||null}return D.source=function(T){return arguments.length?(g=T,D):g},D.target=function(T){return arguments.length?(u=T,D):u},D.x=function(T){return arguments.length?(y=typeof T=="function"?T:r(+T),D):y},D.y=function(T){return arguments.length?(C=typeof T=="function"?T:r(+T),D):C},D.context=function(T){return arguments.length?(S=T??null,D):S},D}function x(M,g,u,y,C){M.moveTo(g,u),M.bezierCurveTo(g=(g+y)/2,u,g,C,y,C)}function d(){return c(x)}},84096:function(k,F,e){e.d(F,{i$:function(){return ke},Dq:function(){return l},g0:function(){return Ie}});var h=e(58176),E=e(48480),n=e(59879),L=e(82301),w=e(34823),p=e(79791);function m(_e){if(0<=_e.y&&_e.y<100){var Ae=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return Ae.setFullYear(_e.y),Ae}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function t(_e){if(0<=_e.y&&_e.y<100){var Ae=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return Ae.setUTCFullYear(_e.y),Ae}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function r(_e,Ae,ce){return{y:_e,m:Ae,d:ce,H:0,M:0,S:0,L:0}}function l(_e){var Ae=_e.dateTime,ce=_e.date,be=_e.time,Re=_e.periods,Ue=_e.days,nt=_e.shortDays,ot=_e.months,wt=_e.shortMonths,_t=M(Re),Ut=g(Re),Vt=M(Ue),Lt=g(Ue),Kt=M(nt),ar=g(nt),Fr=M(ot),yt=g(ot),Xt=M(wt),Yt=g(wt),br={a:Ze,A:Ye,b:Dt,B:It,c:null,d:re,e:re,f:X,H:ae,I:ue,j:de,L:ee,m:Q,M:$,p:Zt,q:nr,Q:Ct,s:Wt,S:ne,u:fe,U:te,V:q,w:he,W:se,x:null,X:null,y:pe,Y:we,Z:Ee,"%":Mt},hr={a:lr,A:rr,b:zt,B:fr,c:null,d:Me,e:Me,f:Le,H:Be,I:Ne,j:Ce,L:Te,m:Ve,M:We,p:dr,q:pr,Q:Ct,s:Wt,S:Fe,u:Ge,U:it,V:qe,w:$e,W:tt,x:null,X:null,y:vt,Y:dt,Z:gt,"%":Mt},ut={a:At,A:Ft,b:Ht,B:$t,c:Qt,d:b,e:b,f:H,H:O,I:O,j:N,L:W,m:R,M:Y,p:Et,q:a,Q:G,s:j,S:B,u:y,U:C,V:S,w:u,W:D,x:or,X:Er,y:P,Y:T,Z:A,"%":U};br.x=lt(ce,br),br.X=lt(be,br),br.c=lt(Ae,br),hr.x=lt(ce,hr),hr.X=lt(be,hr),hr.c=lt(Ae,hr);function lt(vr,Vr){return function(_r){var kr=[],pn=-1,Xr=0,_n=vr.length,Dn,xr,Ar;for(_r instanceof Date||(_r=new Date(+_r));++pn<_n;)vr.charCodeAt(pn)===37&&(kr.push(vr.slice(Xr,pn)),(xr=i[Dn=vr.charAt(++pn)])!=null?Dn=vr.charAt(++pn):xr=Dn==="e"?" ":"0",(Ar=Vr[Dn])&&(Dn=Ar(_r,xr)),kr.push(Dn),Xr=pn+1);return kr.push(vr.slice(Xr,pn)),kr.join("")}}function xt(vr,Vr){return function(_r){var kr=r(1900,void 0,1),pn=Tt(kr,vr,_r+="",0),Xr,_n;if(pn!=_r.length)return null;if("Q"in kr)return new Date(kr.Q);if("s"in kr)return new Date(kr.s*1e3+("L"in kr?kr.L:0));if(Vr&&!("Z"in kr)&&(kr.Z=0),"p"in kr&&(kr.H=kr.H%12+kr.p*12),kr.m===void 0&&(kr.m="q"in kr?kr.q:0),"V"in kr){if(kr.V<1||kr.V>53)return null;"w"in kr||(kr.w=1),"Z"in kr?(Xr=t(r(kr.y,0,1)),_n=Xr.getUTCDay(),Xr=_n>4||_n===0?h.l6.ceil(Xr):(0,h.l6)(Xr),Xr=E.Z.offset(Xr,(kr.V-1)*7),kr.y=Xr.getUTCFullYear(),kr.m=Xr.getUTCMonth(),kr.d=Xr.getUTCDate()+(kr.w+6)%7):(Xr=m(r(kr.y,0,1)),_n=Xr.getDay(),Xr=_n>4||_n===0?n.wA.ceil(Xr):(0,n.wA)(Xr),Xr=L.Z.offset(Xr,(kr.V-1)*7),kr.y=Xr.getFullYear(),kr.m=Xr.getMonth(),kr.d=Xr.getDate()+(kr.w+6)%7)}else("W"in kr||"U"in kr)&&("w"in kr||(kr.w="u"in kr?kr.u%7:"W"in kr?1:0),_n="Z"in kr?t(r(kr.y,0,1)).getUTCDay():m(r(kr.y,0,1)).getDay(),kr.m=0,kr.d="W"in kr?(kr.w+6)%7+kr.W*7-(_n+5)%7:kr.w+kr.U*7-(_n+6)%7);return"Z"in kr?(kr.H+=kr.Z/100|0,kr.M+=kr.Z%100,t(kr)):m(kr)}}function Tt(vr,Vr,_r,kr){for(var pn=0,Xr=Vr.length,_n=_r.length,Dn,xr;pn<Xr;){if(kr>=_n)return-1;if(Dn=Vr.charCodeAt(pn++),Dn===37){if(Dn=Vr.charAt(pn++),xr=ut[Dn in i?Vr.charAt(pn++):Dn],!xr||(kr=xr(vr,_r,kr))<0)return-1}else if(Dn!=_r.charCodeAt(kr++))return-1}return kr}function Et(vr,Vr,_r){var kr=_t.exec(Vr.slice(_r));return kr?(vr.p=Ut[kr[0].toLowerCase()],_r+kr[0].length):-1}function At(vr,Vr,_r){var kr=Kt.exec(Vr.slice(_r));return kr?(vr.w=ar[kr[0].toLowerCase()],_r+kr[0].length):-1}function Ft(vr,Vr,_r){var kr=Vt.exec(Vr.slice(_r));return kr?(vr.w=Lt[kr[0].toLowerCase()],_r+kr[0].length):-1}function Ht(vr,Vr,_r){var kr=Xt.exec(Vr.slice(_r));return kr?(vr.m=Yt[kr[0].toLowerCase()],_r+kr[0].length):-1}function $t(vr,Vr,_r){var kr=Fr.exec(Vr.slice(_r));return kr?(vr.m=yt[kr[0].toLowerCase()],_r+kr[0].length):-1}function Qt(vr,Vr,_r){return Tt(vr,Ae,Vr,_r)}function or(vr,Vr,_r){return Tt(vr,ce,Vr,_r)}function Er(vr,Vr,_r){return Tt(vr,be,Vr,_r)}function Ze(vr){return nt[vr.getDay()]}function Ye(vr){return Ue[vr.getDay()]}function Dt(vr){return wt[vr.getMonth()]}function It(vr){return ot[vr.getMonth()]}function Zt(vr){return Re[+(vr.getHours()>=12)]}function nr(vr){return 1+~~(vr.getMonth()/3)}function lr(vr){return nt[vr.getUTCDay()]}function rr(vr){return Ue[vr.getUTCDay()]}function zt(vr){return wt[vr.getUTCMonth()]}function fr(vr){return ot[vr.getUTCMonth()]}function dr(vr){return Re[+(vr.getUTCHours()>=12)]}function pr(vr){return 1+~~(vr.getUTCMonth()/3)}return{format:function(vr){var Vr=lt(vr+="",br);return Vr.toString=function(){return vr},Vr},parse:function(vr){var Vr=xt(vr+="",!1);return Vr.toString=function(){return vr},Vr},utcFormat:function(vr){var Vr=lt(vr+="",hr);return Vr.toString=function(){return vr},Vr},utcParse:function(vr){var Vr=xt(vr+="",!0);return Vr.toString=function(){return vr},Vr}}}var i={"-":"",_:" ",0:"0"},f=/^\s*\d+/,v=/^%/,c=/[\\^$*+?|[\]().{}]/g;function x(_e,Ae,ce){var be=_e<0?"-":"",Re=(be?-_e:_e)+"",Ue=Re.length;return be+(Ue<ce?new Array(ce-Ue+1).join(Ae)+Re:Re)}function d(_e){return _e.replace(c,"\\$&")}function M(_e){return new RegExp("^(?:"+_e.map(d).join("|")+")","i")}function g(_e){for(var Ae={},ce=-1,be=_e.length;++ce<be;)Ae[_e[ce].toLowerCase()]=ce;return Ae}function u(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+1));return be?(_e.w=+be[0],ce+be[0].length):-1}function y(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+1));return be?(_e.u=+be[0],ce+be[0].length):-1}function C(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+2));return be?(_e.U=+be[0],ce+be[0].length):-1}function S(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+2));return be?(_e.V=+be[0],ce+be[0].length):-1}function D(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+2));return be?(_e.W=+be[0],ce+be[0].length):-1}function T(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+4));return be?(_e.y=+be[0],ce+be[0].length):-1}function P(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+2));return be?(_e.y=+be[0]+(+be[0]>68?1900:2e3),ce+be[0].length):-1}function A(_e,Ae,ce){var be=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Ae.slice(ce,ce+6));return be?(_e.Z=be[1]?0:-(be[2]+(be[3]||"00")),ce+be[0].length):-1}function a(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+1));return be?(_e.q=be[0]*3-3,ce+be[0].length):-1}function R(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+2));return be?(_e.m=be[0]-1,ce+be[0].length):-1}function b(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+2));return be?(_e.d=+be[0],ce+be[0].length):-1}function N(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+3));return be?(_e.m=0,_e.d=+be[0],ce+be[0].length):-1}function O(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+2));return be?(_e.H=+be[0],ce+be[0].length):-1}function Y(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+2));return be?(_e.M=+be[0],ce+be[0].length):-1}function B(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+2));return be?(_e.S=+be[0],ce+be[0].length):-1}function W(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+3));return be?(_e.L=+be[0],ce+be[0].length):-1}function H(_e,Ae,ce){var be=f.exec(Ae.slice(ce,ce+6));return be?(_e.L=Math.floor(be[0]/1e3),ce+be[0].length):-1}function U(_e,Ae,ce){var be=v.exec(Ae.slice(ce,ce+1));return be?ce+be[0].length:-1}function G(_e,Ae,ce){var be=f.exec(Ae.slice(ce));return be?(_e.Q=+be[0],ce+be[0].length):-1}function j(_e,Ae,ce){var be=f.exec(Ae.slice(ce));return be?(_e.s=+be[0],ce+be[0].length):-1}function re(_e,Ae){return x(_e.getDate(),Ae,2)}function ae(_e,Ae){return x(_e.getHours(),Ae,2)}function ue(_e,Ae){return x(_e.getHours()%12||12,Ae,2)}function de(_e,Ae){return x(1+L.Z.count((0,w.Z)(_e),_e),Ae,3)}function ee(_e,Ae){return x(_e.getMilliseconds(),Ae,3)}function X(_e,Ae){return ee(_e,Ae)+"000"}function Q(_e,Ae){return x(_e.getMonth()+1,Ae,2)}function $(_e,Ae){return x(_e.getMinutes(),Ae,2)}function ne(_e,Ae){return x(_e.getSeconds(),Ae,2)}function fe(_e){var Ae=_e.getDay();return Ae===0?7:Ae}function te(_e,Ae){return x(n.OM.count((0,w.Z)(_e)-1,_e),Ae,2)}function q(_e,Ae){var ce=_e.getDay();return _e=ce>=4||ce===0?(0,n.bL)(_e):n.bL.ceil(_e),x(n.bL.count((0,w.Z)(_e),_e)+((0,w.Z)(_e).getDay()===4),Ae,2)}function he(_e){return _e.getDay()}function se(_e,Ae){return x(n.wA.count((0,w.Z)(_e)-1,_e),Ae,2)}function pe(_e,Ae){return x(_e.getFullYear()%100,Ae,2)}function we(_e,Ae){return x(_e.getFullYear()%1e4,Ae,4)}function Ee(_e){var Ae=_e.getTimezoneOffset();return(Ae>0?"-":(Ae*=-1,"+"))+x(Ae/60|0,"0",2)+x(Ae%60,"0",2)}function Me(_e,Ae){return x(_e.getUTCDate(),Ae,2)}function Be(_e,Ae){return x(_e.getUTCHours(),Ae,2)}function Ne(_e,Ae){return x(_e.getUTCHours()%12||12,Ae,2)}function Ce(_e,Ae){return x(1+E.Z.count((0,p.Z)(_e),_e),Ae,3)}function Te(_e,Ae){return x(_e.getUTCMilliseconds(),Ae,3)}function Le(_e,Ae){return Te(_e,Ae)+"000"}function Ve(_e,Ae){return x(_e.getUTCMonth()+1,Ae,2)}function We(_e,Ae){return x(_e.getUTCMinutes(),Ae,2)}function Fe(_e,Ae){return x(_e.getUTCSeconds(),Ae,2)}function Ge(_e){var Ae=_e.getUTCDay();return Ae===0?7:Ae}function it(_e,Ae){return x(h.Ox.count((0,p.Z)(_e)-1,_e),Ae,2)}function qe(_e,Ae){var ce=_e.getUTCDay();return _e=ce>=4||ce===0?(0,h.hB)(_e):h.hB.ceil(_e),x(h.hB.count((0,p.Z)(_e),_e)+((0,p.Z)(_e).getUTCDay()===4),Ae,2)}function $e(_e){return _e.getUTCDay()}function tt(_e,Ae){return x(h.l6.count((0,p.Z)(_e)-1,_e),Ae,2)}function vt(_e,Ae){return x(_e.getUTCFullYear()%100,Ae,2)}function dt(_e,Ae){return x(_e.getUTCFullYear()%1e4,Ae,4)}function gt(){return"+0000"}function Mt(){return"%"}function Ct(_e){return+_e}function Wt(_e){return Math.floor(+_e/1e3)}var Xe,ke,Ie;Oe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Oe(_e){return Xe=l(_e),ke=Xe.format,Xe.parse,Ie=Xe.utcFormat,Xe.utcParse,Xe}},82301:function(k,F,e){e.d(F,{a:function(){return L}});var h=e(30052),E=e(54263),n=(0,h.Z)(function(w){w.setHours(0,0,0,0)},function(w,p){w.setDate(w.getDate()+p)},function(w,p){return(p-w-(p.getTimezoneOffset()-w.getTimezoneOffset())*E.yB)/E.UD},function(w){return w.getDate()-1});F.Z=n;var L=n.range},54263:function(k,F,e){e.d(F,{UD:function(){return L},Y2:function(){return n},Ym:function(){return h},iM:function(){return w},yB:function(){return E}});var h=1e3,E=6e4,n=36e5,L=864e5,w=6048e5},81041:function(k,F,e){e.r(F),e.d(F,{timeDay:function(){return x.Z},timeDays:function(){return x.a},timeFriday:function(){return d.mC},timeFridays:function(){return d.b$},timeHour:function(){return v},timeHours:function(){return c},timeInterval:function(){return h.Z},timeMillisecond:function(){return n},timeMilliseconds:function(){return L},timeMinute:function(){return l},timeMinutes:function(){return i},timeMonday:function(){return d.wA},timeMondays:function(){return d.bJ},timeMonth:function(){return g},timeMonths:function(){return u},timeSaturday:function(){return d.EY},timeSaturdays:function(){return d.Ff},timeSecond:function(){return m},timeSeconds:function(){return t},timeSunday:function(){return d.OM},timeSundays:function(){return d.vm},timeThursday:function(){return d.bL},timeThursdays:function(){return d.$t},timeTuesday:function(){return d.sy},timeTuesdays:function(){return d.aU},timeWednesday:function(){return d.zg},timeWednesdays:function(){return d.Ld},timeWeek:function(){return d.OM},timeWeeks:function(){return d.vm},timeYear:function(){return y.Z},timeYears:function(){return y.g},utcDay:function(){return a.Z},utcDays:function(){return a.y},utcFriday:function(){return R.QQ},utcFridays:function(){return R.fz},utcHour:function(){return P},utcHours:function(){return A},utcMillisecond:function(){return n},utcMilliseconds:function(){return L},utcMinute:function(){return S},utcMinutes:function(){return D},utcMonday:function(){return R.l6},utcMondays:function(){return R.$3},utcMonth:function(){return N},utcMonths:function(){return O},utcSaturday:function(){return R.g4},utcSaturdays:function(){return R.Q_},utcSecond:function(){return m},utcSeconds:function(){return t},utcSunday:function(){return R.Ox},utcSundays:function(){return R.SU},utcThursday:function(){return R.hB},utcThursdays:function(){return R.xj},utcTuesday:function(){return R.J1},utcTuesdays:function(){return R.DK},utcWednesday:function(){return R.b3},utcWednesdays:function(){return R.uy},utcWeek:function(){return R.Ox},utcWeeks:function(){return R.SU},utcYear:function(){return Y.Z},utcYears:function(){return Y.D}});var h=e(30052),E=(0,h.Z)(function(){},function(B,W){B.setTime(+B+W)},function(B,W){return W-B});E.every=function(B){return B=Math.floor(B),!isFinite(B)||!(B>0)?null:B>1?(0,h.Z)(function(W){W.setTime(Math.floor(W/B)*B)},function(W,H){W.setTime(+W+H*B)},function(W,H){return(H-W)/B}):E};var n=E,L=E.range,w=e(54263),p=(0,h.Z)(function(B){B.setTime(B-B.getMilliseconds())},function(B,W){B.setTime(+B+W*w.Ym)},function(B,W){return(W-B)/w.Ym},function(B){return B.getUTCSeconds()}),m=p,t=p.range,r=(0,h.Z)(function(B){B.setTime(B-B.getMilliseconds()-B.getSeconds()*w.Ym)},function(B,W){B.setTime(+B+W*w.yB)},function(B,W){return(W-B)/w.yB},function(B){return B.getMinutes()}),l=r,i=r.range,f=(0,h.Z)(function(B){B.setTime(B-B.getMilliseconds()-B.getSeconds()*w.Ym-B.getMinutes()*w.yB)},function(B,W){B.setTime(+B+W*w.Y2)},function(B,W){return(W-B)/w.Y2},function(B){return B.getHours()}),v=f,c=f.range,x=e(82301),d=e(59879),M=(0,h.Z)(function(B){B.setDate(1),B.setHours(0,0,0,0)},function(B,W){B.setMonth(B.getMonth()+W)},function(B,W){return W.getMonth()-B.getMonth()+(W.getFullYear()-B.getFullYear())*12},function(B){return B.getMonth()}),g=M,u=M.range,y=e(34823),C=(0,h.Z)(function(B){B.setUTCSeconds(0,0)},function(B,W){B.setTime(+B+W*w.yB)},function(B,W){return(W-B)/w.yB},function(B){return B.getUTCMinutes()}),S=C,D=C.range,T=(0,h.Z)(function(B){B.setUTCMinutes(0,0,0)},function(B,W){B.setTime(+B+W*w.Y2)},function(B,W){return(W-B)/w.Y2},function(B){return B.getUTCHours()}),P=T,A=T.range,a=e(48480),R=e(58176),b=(0,h.Z)(function(B){B.setUTCDate(1),B.setUTCHours(0,0,0,0)},function(B,W){B.setUTCMonth(B.getUTCMonth()+W)},function(B,W){return W.getUTCMonth()-B.getUTCMonth()+(W.getUTCFullYear()-B.getUTCFullYear())*12},function(B){return B.getUTCMonth()}),N=b,O=b.range,Y=e(79791)},30052:function(k,F,e){e.d(F,{Z:function(){return n}});var h=new Date,E=new Date;function n(L,w,p,m){function t(r){return L(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return L(r=new Date(+r)),r},t.ceil=function(r){return L(r=new Date(r-1)),w(r,1),L(r),r},t.round=function(r){var l=t(r),i=t.ceil(r);return r-l<i-r?l:i},t.offset=function(r,l){return w(r=new Date(+r),l==null?1:Math.floor(l)),r},t.range=function(r,l,i){var f=[],v;if(r=t.ceil(r),i=i==null?1:Math.floor(i),!(r<l)||!(i>0))return f;do f.push(v=new Date(+r)),w(r,i),L(r);while(v<r&&r<l);return f},t.filter=function(r){return n(function(l){if(l>=l)for(;L(l),!r(l);)l.setTime(l-1)},function(l,i){if(l>=l)if(i<0)for(;++i<=0;)for(;w(l,-1),!r(l););else for(;--i>=0;)for(;w(l,1),!r(l););})},p&&(t.count=function(r,l){return h.setTime(+r),E.setTime(+l),L(h),L(E),Math.floor(p(h,E))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(m?function(l){return m(l)%r===0}:function(l){return t.count(0,l)%r===0}):t}),t}},48480:function(k,F,e){e.d(F,{y:function(){return L}});var h=e(30052),E=e(54263),n=(0,h.Z)(function(w){w.setUTCHours(0,0,0,0)},function(w,p){w.setUTCDate(w.getUTCDate()+p)},function(w,p){return(p-w)/E.UD},function(w){return w.getUTCDate()-1});F.Z=n;var L=n.range},58176:function(k,F,e){e.d(F,{$3:function(){return f},DK:function(){return v},J1:function(){return p},Ox:function(){return L},QQ:function(){return r},Q_:function(){return M},SU:function(){return i},b3:function(){return m},fz:function(){return d},g4:function(){return l},hB:function(){return t},l6:function(){return w},uy:function(){return c},xj:function(){return x}});var h=e(30052),E=e(54263);function n(g){return(0,h.Z)(function(u){u.setUTCDate(u.getUTCDate()-(u.getUTCDay()+7-g)%7),u.setUTCHours(0,0,0,0)},function(u,y){u.setUTCDate(u.getUTCDate()+y*7)},function(u,y){return(y-u)/E.iM})}var L=n(0),w=n(1),p=n(2),m=n(3),t=n(4),r=n(5),l=n(6),i=L.range,f=w.range,v=p.range,c=m.range,x=t.range,d=r.range,M=l.range},79791:function(k,F,e){e.d(F,{D:function(){return n}});var h=e(30052),E=(0,h.Z)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,w){L.setUTCFullYear(L.getUTCFullYear()+w)},function(L,w){return w.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});E.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,h.Z)(function(w){w.setUTCFullYear(Math.floor(w.getUTCFullYear()/L)*L),w.setUTCMonth(0,1),w.setUTCHours(0,0,0,0)},function(w,p){w.setUTCFullYear(w.getUTCFullYear()+p*L)})},F.Z=E;var n=E.range},59879:function(k,F,e){e.d(F,{$t:function(){return x},EY:function(){return l},Ff:function(){return M},Ld:function(){return c},OM:function(){return L},aU:function(){return v},b$:function(){return d},bJ:function(){return f},bL:function(){return t},mC:function(){return r},sy:function(){return p},vm:function(){return i},wA:function(){return w},zg:function(){return m}});var h=e(30052),E=e(54263);function n(g){return(0,h.Z)(function(u){u.setDate(u.getDate()-(u.getDay()+7-g)%7),u.setHours(0,0,0,0)},function(u,y){u.setDate(u.getDate()+y*7)},function(u,y){return(y-u-(y.getTimezoneOffset()-u.getTimezoneOffset())*E.yB)/E.iM})}var L=n(0),w=n(1),p=n(2),m=n(3),t=n(4),r=n(5),l=n(6),i=L.range,f=w.range,v=p.range,c=m.range,x=t.range,d=r.range,M=l.range},34823:function(k,F,e){e.d(F,{g:function(){return n}});var h=e(30052),E=(0,h.Z)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,w){L.setFullYear(L.getFullYear()+w)},function(L,w){return w.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});E.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,h.Z)(function(w){w.setFullYear(Math.floor(w.getFullYear()/L)*L),w.setMonth(0,1),w.setHours(0,0,0,0)},function(w,p){w.setFullYear(w.getFullYear()+p*L)})},F.Z=E;var n=E.range},17045:function(k,F,e){var h=e(8709),E=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,L=Array.prototype.concat,w=Object.defineProperty,p=function(i){return typeof i=="function"&&n.call(i)==="[object Function]"},m=e(55622)(),t=w&&m,r=function(i,f,v,c){if(f in i){if(c===!0){if(i[f]===v)return}else if(!p(c)||!c())return}t?w(i,f,{configurable:!0,enumerable:!1,value:v,writable:!0}):i[f]=v},l=function(i,f){var v=arguments.length>2?arguments[2]:{},c=h(f);E&&(c=L.call(c,Object.getOwnPropertySymbols(f)));for(var x=0;x<c.length;x+=1)r(i,c[x],f[c[x]],v[c[x]])};l.supportsDescriptors=!!t,k.exports=l},46775:function(k){k.exports=function(){for(var F=0;F<arguments.length;F++)if(arguments[F]!==void 0)return arguments[F]}},53545:function(k){k.exports=E;var F=E.canvas=document.createElement("canvas"),e=F.getContext("2d"),h=n([32,126]);E.createPairs=n,E.ascii=h;function E(L,w){Array.isArray(L)&&(L=L.join(", "));var p={},m,t=16,r=.05;w&&(w.length===2&&typeof w[0]=="number"?m=n(w):Array.isArray(w)?m=w:(w.o?m=n(w.o):w.pairs&&(m=w.pairs),w.fontSize&&(t=w.fontSize),w.threshold!=null&&(r=w.threshold))),m||(m=h),e.font=t+"px "+L;for(var l=0;l<m.length;l++){var i=m[l],f=e.measureText(i[0]).width+e.measureText(i[1]).width,v=e.measureText(i).width;if(Math.abs(f-v)>t*r){var c=(v-f)/t;p[i]=c*1e3}}return p}function n(L){for(var w=[],p=L[0];p<=L[1];p++)for(var m=String.fromCharCode(p),t=L[0];t<L[1];t++){var r=String.fromCharCode(t),l=m+r;w.push(l)}return w}},31457:function(k,F,e){var h=e(65185),E=e(18625),n={M:"moveTo",C:"bezierCurveTo"};k.exports=function(L,w){L.beginPath(),E(h(w)).forEach(function(p){var m=p[0],t=p.slice(1);L[n[m]].apply(L,t)}),L.closePath()}},90660:function(k){k.exports=function(F){switch(F){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(k){function F(E,n,L){var w=E[L]|0;if(w<=0)return[];var p=new Array(w),m;if(L===E.length-1)for(m=0;m<w;++m)p[m]=n;else for(m=0;m<w;++m)p[m]=F(E,n,L+1);return p}function e(E,n){var L,w;for(L=new Array(E),w=0;w<E;++w)L[w]=n;return L}function h(E,n){switch(typeof n>"u"&&(n=0),typeof E){case"number":if(E>0)return e(E|0,n);break;case"object":if(typeof E.length=="number")return F(E,n,0);break}return[]}k.exports=h},11474:function(k){k.exports=F,k.exports.default=F;function F(O,Y,B){B=B||2;var W=Y&&Y.length,H=W?Y[0]*B:O.length,U=e(O,0,H,B,!0),G=[];if(!U||U.next===U.prev)return G;var j,re,ae,ue,de,ee,X;if(W&&(U=m(O,Y,U,B)),O.length>80*B){j=ae=O[0],re=ue=O[1];for(var Q=B;Q<H;Q+=B)de=O[Q],ee=O[Q+1],de<j&&(j=de),ee<re&&(re=ee),de>ae&&(ae=de),ee>ue&&(ue=ee);X=Math.max(ae-j,ue-re),X=X!==0?1/X:0}return E(U,G,B,j,re,X),G}function e(O,Y,B,W,H){var U,G;if(H===N(O,Y,B,W)>0)for(U=Y;U<B;U+=W)G=a(U,O[U],O[U+1],G);else for(U=B-W;U>=Y;U-=W)G=a(U,O[U],O[U+1],G);return G&&u(G,G.next)&&(R(G),G=G.next),G}function h(O,Y){if(!O)return O;Y||(Y=O);var B=O,W;do if(W=!1,!B.steiner&&(u(B,B.next)||g(B.prev,B,B.next)===0)){if(R(B),B=Y=B.prev,B===B.next)break;W=!0}else B=B.next;while(W||B!==Y);return Y}function E(O,Y,B,W,H,U,G){if(O){!G&&U&&f(O,W,H,U);for(var j=O,re,ae;O.prev!==O.next;){if(re=O.prev,ae=O.next,U?L(O,W,H,U):n(O)){Y.push(re.i/B),Y.push(O.i/B),Y.push(ae.i/B),R(O),O=ae.next,j=ae.next;continue}if(O=ae,O===j){G?G===1?(O=w(h(O),Y,B),E(O,Y,B,W,H,U,2)):G===2&&p(O,Y,B,W,H,U):E(h(O),Y,B,W,H,U,1);break}}}}function n(O){var Y=O.prev,B=O,W=O.next;if(g(Y,B,W)>=0)return!1;for(var H=O.next.next;H!==O.prev;){if(d(Y.x,Y.y,B.x,B.y,W.x,W.y,H.x,H.y)&&g(H.prev,H,H.next)>=0)return!1;H=H.next}return!0}function L(O,Y,B,W){var H=O.prev,U=O,G=O.next;if(g(H,U,G)>=0)return!1;for(var j=H.x<U.x?H.x<G.x?H.x:G.x:U.x<G.x?U.x:G.x,re=H.y<U.y?H.y<G.y?H.y:G.y:U.y<G.y?U.y:G.y,ae=H.x>U.x?H.x>G.x?H.x:G.x:U.x>G.x?U.x:G.x,ue=H.y>U.y?H.y>G.y?H.y:G.y:U.y>G.y?U.y:G.y,de=c(j,re,Y,B,W),ee=c(ae,ue,Y,B,W),X=O.prevZ,Q=O.nextZ;X&&X.z>=de&&Q&&Q.z<=ee;){if(X!==O.prev&&X!==O.next&&d(H.x,H.y,U.x,U.y,G.x,G.y,X.x,X.y)&&g(X.prev,X,X.next)>=0||(X=X.prevZ,Q!==O.prev&&Q!==O.next&&d(H.x,H.y,U.x,U.y,G.x,G.y,Q.x,Q.y)&&g(Q.prev,Q,Q.next)>=0))return!1;Q=Q.nextZ}for(;X&&X.z>=de;){if(X!==O.prev&&X!==O.next&&d(H.x,H.y,U.x,U.y,G.x,G.y,X.x,X.y)&&g(X.prev,X,X.next)>=0)return!1;X=X.prevZ}for(;Q&&Q.z<=ee;){if(Q!==O.prev&&Q!==O.next&&d(H.x,H.y,U.x,U.y,G.x,G.y,Q.x,Q.y)&&g(Q.prev,Q,Q.next)>=0)return!1;Q=Q.nextZ}return!0}function w(O,Y,B){var W=O;do{var H=W.prev,U=W.next.next;!u(H,U)&&y(H,W,W.next,U)&&T(H,U)&&T(U,H)&&(Y.push(H.i/B),Y.push(W.i/B),Y.push(U.i/B),R(W),R(W.next),W=O=U),W=W.next}while(W!==O);return h(W)}function p(O,Y,B,W,H,U){var G=O;do{for(var j=G.next.next;j!==G.prev;){if(G.i!==j.i&&M(G,j)){var re=A(G,j);G=h(G,G.next),re=h(re,re.next),E(G,Y,B,W,H,U),E(re,Y,B,W,H,U);return}j=j.next}G=G.next}while(G!==O)}function m(O,Y,B,W){var H=[],U,G,j,re,ae;for(U=0,G=Y.length;U<G;U++)j=Y[U]*W,re=U<G-1?Y[U+1]*W:O.length,ae=e(O,j,re,W,!1),ae===ae.next&&(ae.steiner=!0),H.push(x(ae));for(H.sort(t),U=0;U<H.length;U++)r(H[U],B),B=h(B,B.next);return B}function t(O,Y){return O.x-Y.x}function r(O,Y){if(Y=l(O,Y),Y){var B=A(Y,O);h(Y,Y.next),h(B,B.next)}}function l(O,Y){var B=Y,W=O.x,H=O.y,U=-1/0,G;do{if(H<=B.y&&H>=B.next.y&&B.next.y!==B.y){var j=B.x+(H-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(j<=W&&j>U){if(U=j,j===W){if(H===B.y)return B;if(H===B.next.y)return B.next}G=B.x<B.next.x?B:B.next}}B=B.next}while(B!==Y);if(!G)return null;if(W===U)return G;var re=G,ae=G.x,ue=G.y,de=1/0,ee;B=G;do W>=B.x&&B.x>=ae&&W!==B.x&&d(H<ue?W:U,H,ae,ue,H<ue?U:W,H,B.x,B.y)&&(ee=Math.abs(H-B.y)/(W-B.x),T(B,O)&&(ee<de||ee===de&&(B.x>G.x||B.x===G.x&&i(G,B)))&&(G=B,de=ee)),B=B.next;while(B!==re);return G}function i(O,Y){return g(O.prev,O,Y.prev)<0&&g(Y.next,O,O.next)<0}function f(O,Y,B,W){var H=O;do H.z===null&&(H.z=c(H.x,H.y,Y,B,W)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next;while(H!==O);H.prevZ.nextZ=null,H.prevZ=null,v(H)}function v(O){var Y,B,W,H,U,G,j,re,ae=1;do{for(B=O,O=null,U=null,G=0;B;){for(G++,W=B,j=0,Y=0;Y<ae&&(j++,W=W.nextZ,!!W);Y++);for(re=ae;j>0||re>0&&W;)j!==0&&(re===0||!W||B.z<=W.z)?(H=B,B=B.nextZ,j--):(H=W,W=W.nextZ,re--),U?U.nextZ=H:O=H,H.prevZ=U,U=H;B=W}U.nextZ=null,ae*=2}while(G>1);return O}function c(O,Y,B,W,H){return O=32767*(O-B)*H,Y=32767*(Y-W)*H,O=(O|O<<8)&16711935,O=(O|O<<4)&252645135,O=(O|O<<2)&858993459,O=(O|O<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,O|Y<<1}function x(O){var Y=O,B=O;do(Y.x<B.x||Y.x===B.x&&Y.y<B.y)&&(B=Y),Y=Y.next;while(Y!==O);return B}function d(O,Y,B,W,H,U,G,j){return(H-G)*(Y-j)-(O-G)*(U-j)>=0&&(O-G)*(W-j)-(B-G)*(Y-j)>=0&&(B-G)*(U-j)-(H-G)*(W-j)>=0}function M(O,Y){return O.next.i!==Y.i&&O.prev.i!==Y.i&&!D(O,Y)&&(T(O,Y)&&T(Y,O)&&P(O,Y)&&(g(O.prev,O,Y.prev)||g(O,Y.prev,Y))||u(O,Y)&&g(O.prev,O,O.next)>0&&g(Y.prev,Y,Y.next)>0)}function g(O,Y,B){return(Y.y-O.y)*(B.x-Y.x)-(Y.x-O.x)*(B.y-Y.y)}function u(O,Y){return O.x===Y.x&&O.y===Y.y}function y(O,Y,B,W){var H=S(g(O,Y,B)),U=S(g(O,Y,W)),G=S(g(B,W,O)),j=S(g(B,W,Y));return!!(H!==U&&G!==j||H===0&&C(O,B,Y)||U===0&&C(O,W,Y)||G===0&&C(B,O,W)||j===0&&C(B,Y,W))}function C(O,Y,B){return Y.x<=Math.max(O.x,B.x)&&Y.x>=Math.min(O.x,B.x)&&Y.y<=Math.max(O.y,B.y)&&Y.y>=Math.min(O.y,B.y)}function S(O){return O>0?1:O<0?-1:0}function D(O,Y){var B=O;do{if(B.i!==O.i&&B.next.i!==O.i&&B.i!==Y.i&&B.next.i!==Y.i&&y(B,B.next,O,Y))return!0;B=B.next}while(B!==O);return!1}function T(O,Y){return g(O.prev,O,O.next)<0?g(O,Y,O.next)>=0&&g(O,O.prev,Y)>=0:g(O,Y,O.prev)<0||g(O,O.next,Y)<0}function P(O,Y){var B=O,W=!1,H=(O.x+Y.x)/2,U=(O.y+Y.y)/2;do B.y>U!=B.next.y>U&&B.next.y!==B.y&&H<(B.next.x-B.x)*(U-B.y)/(B.next.y-B.y)+B.x&&(W=!W),B=B.next;while(B!==O);return W}function A(O,Y){var B=new b(O.i,O.x,O.y),W=new b(Y.i,Y.x,Y.y),H=O.next,U=Y.prev;return O.next=Y,Y.prev=O,B.next=H,H.prev=B,W.next=B,B.prev=W,U.next=W,W.prev=U,W}function a(O,Y,B,W){var H=new b(O,Y,B);return W?(H.next=W.next,H.prev=W,W.next.prev=H,W.next=H):(H.prev=H,H.next=H),H}function R(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function b(O,Y,B){this.i=O,this.x=Y,this.y=B,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}F.deviation=function(O,Y,B,W){var H=Y&&Y.length,U=H?Y[0]*B:O.length,G=Math.abs(N(O,0,U,B));if(H)for(var j=0,re=Y.length;j<re;j++){var ae=Y[j]*B,ue=j<re-1?Y[j+1]*B:O.length;G-=Math.abs(N(O,ae,ue,B))}var de=0;for(j=0;j<W.length;j+=3){var ee=W[j]*B,X=W[j+1]*B,Q=W[j+2]*B;de+=Math.abs((O[ee]-O[Q])*(O[X+1]-O[ee+1])-(O[ee]-O[X])*(O[Q+1]-O[ee+1]))}return G===0&&de===0?0:Math.abs((de-G)/G)};function N(O,Y,B,W){for(var H=0,U=Y,G=B-W;U<B;U+=W)H+=(O[G]-O[U])*(O[U+1]+O[G+1]),G=U;return H}F.flatten=function(O){for(var Y=O[0][0].length,B={vertices:[],holes:[],dimensions:Y},W=0,H=0;H<O.length;H++){for(var U=0;U<O[H].length;U++)for(var G=0;G<Y;G++)B.vertices.push(O[H][U][G]);H>0&&(W+=O[H-1].length,B.holes.push(W))}return B}},2502:function(k,F,e){var h=e(68664);k.exports=function(n,L){var w=[],p=[],m=[],t={},r=[],l;function i(C){m[C]=!1,t.hasOwnProperty(C)&&Object.keys(t[C]).forEach(function(S){delete t[C][S],m[S]&&i(S)})}function f(C){var S=!1;p.push(C),m[C]=!0;var D,T;for(D=0;D<r[C].length;D++)T=r[C][D],T===l?(v(l,p),S=!0):m[T]||(S=f(T));if(S)i(C);else for(D=0;D<r[C].length;D++){T=r[C][D];var P=t[T];P||(P={},t[T]=P),P[T]=!0}return p.pop(),S}function v(C,S){var D=[].concat(S).concat(C);L?L(f):w.push(D)}function c(C){for(var S=0;S<n.length;S++)S<C&&(n[S]=[]),n[S]=n[S].filter(function(D){return D>=C})}function x(C){c(C);for(var S=n,D=h(S),T=D.components.filter(function(O){return O.length>1}),P=1/0,A,a=0;a<T.length;a++)for(var R=0;R<T[a].length;R++)T[a][R]<P&&(P=T[a][R],A=a);var b=T[A];if(!b)return!1;var N=n.map(function(O,Y){return b.indexOf(Y)===-1?[]:O.filter(function(B){return b.indexOf(B)!==-1})});return{leastVertex:P,adjList:N}}l=0;for(var d=n.length;l<d;){var M=x(l);if(l=M.leastVertex,r=M.adjList,r){for(var g=0;g<r.length;g++)for(var u=0;u<r[g].length;u++){var y=r[g][u];m[+y]=!1,t[y]={}}f(l),l=l+1}else l=d}if(!L)return w}},16134:function(k,F,e){var h=e(36672);k.exports=function(){return h(this).length=0,this}},4892:function(k,F,e){k.exports=e(64404)()?Array.from:e(49441)},64404:function(k){k.exports=function(){var F=Array.from,e,h;return typeof F!="function"?!1:(e=["raz","dwa"],h=F(e),Boolean(h&&h!==e&&h[1]==="dwa"))}},49441:function(k,F,e){var h=e(8260).iterator,E=e(73051),n=e(33717),L=e(35976),w=e(78513),p=e(36672),m=e(95296),t=e(87963),r=Array.isArray,l=Function.prototype.call,i={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;k.exports=function(v){var c=arguments[1],x=arguments[2],d,M,g,u,y,C,S,D,T,P;if(v=Object(p(v)),m(c)&&w(c),!this||this===Array||!n(this)){if(!c){if(E(v))return y=v.length,y!==1?Array.apply(null,v):(u=new Array(1),u[0]=v[0],u);if(r(v)){for(u=new Array(y=v.length),M=0;M<y;++M)u[M]=v[M];return u}}u=[]}else d=this;if(!r(v)){if((T=v[h])!==void 0){for(S=w(T).call(v),d&&(u=new d),D=S.next(),M=0;!D.done;)P=c?l.call(c,x,D.value,M):D.value,d?(i.value=P,f(u,M,i)):u[M]=P,D=S.next(),++M;y=M}else if(t(v)){for(y=v.length,d&&(u=new d),M=0,g=0;M<y;++M)P=v[M],M+1<y&&(C=P.charCodeAt(0),C>=55296&&C<=56319&&(P+=v[++M])),P=c?l.call(c,x,P,g):P,d?(i.value=P,f(u,g,i)):u[g]=P,++g;y=g}}if(y===void 0)for(y=L(v.length),d&&(u=new d(y)),M=0;M<y;++M)P=c?l.call(c,x,v[M],M):v[M],d?(i.value=P,f(u,M,i)):u[M]=P;return d&&(i.value=null,u.length=y),u}},73051:function(k){var F=Object.prototype.toString,e=F.call(function(){return arguments}());k.exports=function(h){return F.call(h)===e}},33717:function(k){var F=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);k.exports=function(h){return typeof h=="function"&&e(F.call(h))}},52345:function(k){k.exports=function(){}},9953:function(k,F,e){k.exports=e(90436)()?Math.sign:e(6069)},90436:function(k){k.exports=function(){var F=Math.sign;return typeof F!="function"?!1:F(10)===1&&F(-20)===-1}},6069:function(k){k.exports=function(F){return F=Number(F),isNaN(F)||F===0?F:F>0?1:-1}},56247:function(k,F,e){var h=e(9953),E=Math.abs,n=Math.floor;k.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:h(L)*n(E(L)))}},35976:function(k,F,e){var h=e(56247),E=Math.max;k.exports=function(n){return E(0,h(n))}},67260:function(k,F,e){var h=e(78513),E=e(36672),n=Function.prototype.bind,L=Function.prototype.call,w=Object.keys,p=Object.prototype.propertyIsEnumerable;k.exports=function(m,t){return function(r,l){var i,f=arguments[2],v=arguments[3];return r=Object(E(r)),h(l),i=w(r),v&&i.sort(typeof v=="function"?n.call(v,r):void 0),typeof m!="function"&&(m=i[m]),L.call(m,i,function(c,x){return p.call(r,c)?L.call(l,f,r[c],c,r,x):t})}}},95879:function(k,F,e){k.exports=e(73583)()?Object.assign:e(34205)},73583:function(k){k.exports=function(){var F=Object.assign,e;return typeof F!="function"?!1:(e={foo:"raz"},F(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(k,F,e){var h=e(68700),E=e(36672),n=Math.max;k.exports=function(L,w){var p,m,t=n(arguments.length,2),r;for(L=Object(E(L)),r=function(l){try{L[l]=w[l]}catch(i){p||(p=i)}},m=1;m<t;++m)w=arguments[m],h(w).forEach(r);if(p!==void 0)throw p;return L}},19012:function(k,F,e){var h=e(4892),E=e(95879),n=e(36672);k.exports=function(L){var w=Object(n(L)),p=arguments[1],m=Object(arguments[2]);if(w!==L&&!p)return w;var t={};return p?h(p,function(r){(m.ensure||r in L)&&(t[r]=L[r])}):E(t,L),t}},52818:function(k,F,e){var h=Object.create,E;e(33247)()||(E=e(51882)),k.exports=function(){var n,L,w;return!E||E.level!==1?h:(n={},L={},w={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(p){if(p==="__proto__"){L[p]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[p]=w}),Object.defineProperties(n,L),Object.defineProperty(E,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:n}),function(p,m){return h(p===null?n:p,m)})}()},96437:function(k,F,e){k.exports=e(67260)("forEach")},99611:function(k,F,e){var h=e(95296),E={function:!0,object:!0};k.exports=function(n){return h(n)&&E[typeof n]||!1}},95296:function(k,F,e){var h=e(52345)();k.exports=function(E){return E!==h&&E!==null}},68700:function(k,F,e){k.exports=e(13895)()?Object.keys:e(25217)},13895:function(k){k.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(k,F,e){var h=e(95296),E=Object.keys;k.exports=function(n){return E(h(n)?Object(n):n)}},16906:function(k,F,e){var h=e(78513),E=e(96437),n=Function.prototype.call;k.exports=function(L,w){var p={},m=arguments[2];return h(w),E(L,function(t,r,l,i){p[r]=n.call(w,m,t,r,l,i)}),p}},21780:function(k,F,e){var h=e(95296),E=Array.prototype.forEach,n=Object.create,L=function(w,p){var m;for(m in w)p[m]=w[m]};k.exports=function(w){var p=n(null);return E.call(arguments,function(m){h(m)&&L(Object(m),p)}),p}},1496:function(k,F,e){k.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(k){var F=Object.create,e=Object.getPrototypeOf,h={};k.exports=function(){var E=Object.setPrototypeOf,n=arguments[0]||F;return typeof E!="function"?!1:e(E(n(null),h))===h}},51882:function(k,F,e){var h=e(99611),E=e(36672),n=Object.prototype.isPrototypeOf,L=Object.defineProperty,w={configurable:!0,enumerable:!1,writable:!0,value:void 0},p;p=function(m,t){if(E(m),t===null||h(t))return m;throw new TypeError("Prototype must be null or an object")},k.exports=function(m){var t,r;return m?(m.level===2?m.set?(r=m.set,t=function(l,i){return r.call(p(l,i),i),l}):t=function(l,i){return p(l,i).__proto__=i,l}:t=function l(i,f){var v;return p(i,f),v=n.call(l.nullPolyfill,i),v&&delete l.nullPolyfill.__proto__,f===null&&(f=l.nullPolyfill),i.__proto__=f,v&&L(l.nullPolyfill,"__proto__",w),i},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:m.level})):null}(function(){var m=Object.create(null),t={},r,l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{r=l.set,r.call(m,t)}catch{}if(Object.getPrototypeOf(m)===t)return{set:r,level:2}}return m.__proto__=t,Object.getPrototypeOf(m)===t?{level:2}:(m={},m.__proto__=t,Object.getPrototypeOf(m)===t?{level:1}:!1)}()),e(52818)},78513:function(k){k.exports=function(F){if(typeof F!="function")throw new TypeError(F+" is not a function");return F}},98976:function(k,F,e){var h=e(99611);k.exports=function(E){if(!h(E))throw new TypeError(E+" is not an Object");return E}},36672:function(k,F,e){var h=e(95296);k.exports=function(E){if(!h(E))throw new TypeError("Cannot use null or undefined");return E}},66741:function(k,F,e){k.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(k){var F="razdwatrzy";k.exports=function(){return typeof F.contains!="function"?!1:F.contains("dwa")===!0&&F.contains("foo")===!1}},60381:function(k){var F=String.prototype.indexOf;k.exports=function(e){return F.call(this,e,arguments[1])>-1}},87963:function(k){var F=Object.prototype.toString,e=F.call("");k.exports=function(h){return typeof h=="string"||h&&typeof h=="object"&&(h instanceof String||F.call(h)===e)||!1}},43043:function(k){var F=Object.create(null),e=Math.random;k.exports=function(){var h;do h=e().toString(36).slice(2);while(F[h]);return h}},32411:function(k,F,e){var h=e(1496),E=e(66741),n=e(62072),L=e(8260),w=e(95426),p=Object.defineProperty,m;m=k.exports=function(t,r){if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");w.call(this,t),r?E.call(r,"key+value")?r="key+value":E.call(r,"key")?r="key":r="value":r="value",p(this,"__kind__",n("",r))},h&&h(m,w),delete m.prototype.constructor,m.prototype=Object.create(w.prototype,{_resolve:n(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),p(m.prototype,L.toStringTag,n("c","Array Iterator"))},27515:function(k,F,e){var h=e(73051),E=e(78513),n=e(87963),L=e(66661),w=Array.isArray,p=Function.prototype.call,m=Array.prototype.some;k.exports=function(t,r){var l,i=arguments[2],f,v,c,x,d,M,g;if(w(t)||h(t)?l="array":n(t)?l="string":t=L(t),E(r),v=function(){c=!0},l==="array"){m.call(t,function(u){return p.call(r,i,u,v),c});return}if(l==="string"){for(d=t.length,x=0;x<d&&(M=t[x],x+1<d&&(g=M.charCodeAt(0),g>=55296&&g<=56319&&(M+=t[++x])),p.call(r,i,M,v),!c);++x);return}for(f=t.next();!f.done;){if(p.call(r,i,f.value,v),c)return;f=t.next()}}},66661:function(k,F,e){var h=e(73051),E=e(87963),n=e(32411),L=e(259),w=e(58095),p=e(8260).iterator;k.exports=function(m){return typeof w(m)[p]=="function"?m[p]():h(m)?new n(m):E(m)?new L(m):new n(m)}},95426:function(k,F,e){var h=e(16134),E=e(95879),n=e(78513),L=e(36672),w=e(62072),p=e(55174),m=e(8260),t=Object.defineProperty,r=Object.defineProperties,l;k.exports=l=function(i,f){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");r(this,{__list__:w("w",L(i)),__context__:w("w",f),__nextIndex__:w("w",0)}),f&&(n(f.on),f.on("_add",this._onAdd),f.on("_delete",this._onDelete),f.on("_clear",this._onClear))},delete l.prototype.constructor,r(l.prototype,E({_next:w(function(){var i;if(this.__list__){if(this.__redo__&&(i=this.__redo__.shift(),i!==void 0))return i;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:w(function(){return this._createResult(this._next())}),_createResult:w(function(i){return i===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(i)}}),_resolve:w(function(i){return this.__list__[i]}),_unBind:w(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:w(function(){return"[object "+(this[m.toStringTag]||"Object")+"]"})},p({_onAdd:w(function(i){if(!(i>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",w("c",[i]));return}this.__redo__.forEach(function(f,v){f>=i&&(this.__redo__[v]=++f)},this),this.__redo__.push(i)}}),_onDelete:w(function(i){var f;i>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(f=this.__redo__.indexOf(i),f!==-1&&this.__redo__.splice(f,1),this.__redo__.forEach(function(v,c){v>i&&(this.__redo__[c]=--v)},this)))}),_onClear:w(function(){this.__redo__&&h.call(this.__redo__),this.__nextIndex__=0})}))),t(l.prototype,m.iterator,w(function(){return this}))},35940:function(k,F,e){var h=e(73051),E=e(95296),n=e(87963),L=e(8260).iterator,w=Array.isArray;k.exports=function(p){return E(p)?w(p)||n(p)||h(p)?!0:typeof p[L]=="function":!1}},259:function(k,F,e){var h=e(1496),E=e(62072),n=e(8260),L=e(95426),w=Object.defineProperty,p;p=k.exports=function(m){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");m=String(m),L.call(this,m),w(this,"__length__",E("",m.length))},h&&h(p,L),delete p.prototype.constructor,p.prototype=Object.create(L.prototype,{_next:E(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:E(function(m){var t=this.__list__[m],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),w(p.prototype,n.toStringTag,E("c","String Iterator"))},58095:function(k,F,e){var h=e(35940);k.exports=function(E){if(!h(E))throw new TypeError(E+" is not iterable");return E}},73523:function(k){function F(h,E){if(h==null)throw new TypeError("Cannot convert first argument to object");for(var n=Object(h),L=1;L<arguments.length;L++){var w=arguments[L];if(w!=null)for(var p=Object.keys(Object(w)),m=0,t=p.length;m<t;m++){var r=p[m],l=Object.getOwnPropertyDescriptor(w,r);l!==void 0&&l.enumerable&&(n[r]=w[r])}}return n}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:F})}k.exports={assign:F,polyfill:e}},8260:function(k,F,e){k.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(k,F,e){var h=e(94908),E={object:!0,symbol:!0};k.exports=function(){var n=h.Symbol,L;if(typeof n!="function")return!1;L=n("test symbol");try{String(L)}catch{return!1}return!(!E[typeof n.iterator]||!E[typeof n.toPrimitive]||!E[typeof n.toStringTag])}},82276:function(k){k.exports=function(F){return F?typeof F=="symbol"?!0:!F.constructor||F.constructor.name!=="Symbol"?!1:F[F.constructor.toStringTag]==="Symbol":!1}},29366:function(k,F,e){var h=e(62072),E=Object.create,n=Object.defineProperty,L=Object.prototype,w=E(null);k.exports=function(p){for(var m=0,t,r;w[p+(m||"")];)++m;return p+=m||"",w[p]=!0,t="@@"+p,n(L,t,h.gs(null,function(l){r||(r=!0,n(this,t,h(l)),r=!1)})),t}},92842:function(k,F,e){var h=e(62072),E=e(94908).Symbol;k.exports=function(n){return Object.defineProperties(n,{hasInstance:h("",E&&E.hasInstance||n("hasInstance")),isConcatSpreadable:h("",E&&E.isConcatSpreadable||n("isConcatSpreadable")),iterator:h("",E&&E.iterator||n("iterator")),match:h("",E&&E.match||n("match")),replace:h("",E&&E.replace||n("replace")),search:h("",E&&E.search||n("search")),species:h("",E&&E.species||n("species")),split:h("",E&&E.split||n("split")),toPrimitive:h("",E&&E.toPrimitive||n("toPrimitive")),toStringTag:h("",E&&E.toStringTag||n("toStringTag")),unscopables:h("",E&&E.unscopables||n("unscopables"))})}},13304:function(k,F,e){var h=e(62072),E=e(53308),n=Object.create(null);k.exports=function(L){return Object.defineProperties(L,{for:h(function(w){return n[w]?n[w]:n[w]=L(String(w))}),keyFor:h(function(w){var p;E(w);for(p in n)if(n[p]===w)return p})})}},18415:function(k,F,e){var h=e(62072),E=e(53308),n=e(94908).Symbol,L=e(29366),w=e(92842),p=e(13304),m=Object.create,t=Object.defineProperties,r=Object.defineProperty,l,i,f;if(typeof n=="function")try{String(n()),f=!0}catch{}else n=null;i=function(c){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return l(c)},k.exports=l=function v(c){var x;if(this instanceof v)throw new TypeError("Symbol is not a constructor");return f?n(c):(x=m(i.prototype),c=c===void 0?"":String(c),t(x,{__description__:h("",c),__name__:h("",L(c))}))},w(l),p(l),t(i.prototype,{constructor:h(l),toString:h("",function(){return this.__name__})}),t(l.prototype,{toString:h(function(){return"Symbol ("+E(this).__description__+")"}),valueOf:h(function(){return E(this)})}),r(l.prototype,l.toPrimitive,h("",function(){var v=E(this);return typeof v=="symbol"?v:v.toString()})),r(l.prototype,l.toStringTag,h("c","Symbol")),r(i.prototype,l.toStringTag,h("c",l.prototype[l.toStringTag])),r(i.prototype,l.toPrimitive,h("c",l.prototype[l.toPrimitive]))},53308:function(k,F,e){var h=e(82276);k.exports=function(E){if(!h(E))throw new TypeError(E+" is not a symbol");return E}},83522:function(k,F,e){k.exports=e(96402)()?WeakMap:e(329)},96402:function(k){k.exports=function(){var F,e;if(typeof WeakMap!="function")return!1;try{F=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(F)!=="[object WeakMap]"||typeof F.set!="function"||F.set({},1)!==F||typeof F.delete!="function"||typeof F.has!="function"||F.get(e)!=="one")}},96416:function(k){k.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(k,F,e){var h=e(95296),E=e(1496),n=e(98976),L=e(36672),w=e(43043),p=e(62072),m=e(66661),t=e(27515),r=e(8260).toStringTag,l=e(96416),i=Array.isArray,f=Object.defineProperty,v=Object.prototype.hasOwnProperty,c=Object.getPrototypeOf,x;k.exports=x=function(){var d=arguments[0],M;if(!(this instanceof x))throw new TypeError("Constructor requires 'new'");return M=l&&E&&WeakMap!==x?E(new WeakMap,c(this)):this,h(d)&&(i(d)||(d=m(d))),f(M,"__weakMapData__",p("c","$weakMap$"+w())),d&&t(d,function(g){L(g),M.set(g[0],g[1])}),M},l&&(E&&E(x,WeakMap),x.prototype=Object.create(WeakMap.prototype,{constructor:p(x)})),Object.defineProperties(x.prototype,{delete:p(function(d){return v.call(n(d),this.__weakMapData__)?(delete d[this.__weakMapData__],!0):!1}),get:p(function(d){if(v.call(n(d),this.__weakMapData__))return d[this.__weakMapData__]}),has:p(function(d){return v.call(n(d),this.__weakMapData__)}),set:p(function(d,M){return f(n(d),this.__weakMapData__,p("c",M)),this}),toString:p(function(){return"[object WeakMap]"})}),f(x.prototype,r,p("c","WeakMap"))},15398:function(k){var F=typeof Reflect=="object"?Reflect:null,e=F&&typeof F.apply=="function"?F.apply:function(y,C,S){return Function.prototype.apply.call(y,C,S)},h;F&&typeof F.ownKeys=="function"?h=F.ownKeys:Object.getOwnPropertySymbols?h=function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:h=function(y){return Object.getOwnPropertyNames(y)};function E(u){console&&console.warn&&console.warn(u)}var n=Number.isNaN||function(y){return y!==y};function L(){L.init.call(this)}k.exports=L,k.exports.once=d,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var w=10;function p(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(u){if(typeof u!="number"||u<0||n(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");w=u}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||n(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this};function m(u){return u._maxListeners===void 0?L.defaultMaxListeners:u._maxListeners}L.prototype.getMaxListeners=function(){return m(this)},L.prototype.emit=function(y){for(var C=[],S=1;S<arguments.length;S++)C.push(arguments[S]);var D=y==="error",T=this._events;if(T!==void 0)D=D&&T.error===void 0;else if(!D)return!1;if(D){var P;if(C.length>0&&(P=C[0]),P instanceof Error)throw P;var A=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw A.context=P,A}var a=T[y];if(a===void 0)return!1;if(typeof a=="function")e(a,this,C);else for(var R=a.length,b=v(a,R),S=0;S<R;++S)e(b[S],this,C);return!0};function t(u,y,C,S){var D,T,P;if(p(C),T=u._events,T===void 0?(T=u._events=Object.create(null),u._eventsCount=0):(T.newListener!==void 0&&(u.emit("newListener",y,C.listener?C.listener:C),T=u._events),P=T[y]),P===void 0)P=T[y]=C,++u._eventsCount;else if(typeof P=="function"?P=T[y]=S?[C,P]:[P,C]:S?P.unshift(C):P.push(C),D=m(u),D>0&&P.length>D&&!P.warned){P.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=u,A.type=y,A.count=P.length,E(A)}return u}L.prototype.addListener=function(y,C){return t(this,y,C,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(y,C){return t(this,y,C,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(u,y,C){var S={fired:!1,wrapFn:void 0,target:u,type:y,listener:C},D=r.bind(S);return D.listener=C,S.wrapFn=D,D}L.prototype.once=function(y,C){return p(C),this.on(y,l(this,y,C)),this},L.prototype.prependOnceListener=function(y,C){return p(C),this.prependListener(y,l(this,y,C)),this},L.prototype.removeListener=function(y,C){var S,D,T,P,A;if(p(C),D=this._events,D===void 0)return this;if(S=D[y],S===void 0)return this;if(S===C||S.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete D[y],D.removeListener&&this.emit("removeListener",y,S.listener||C));else if(typeof S!="function"){for(T=-1,P=S.length-1;P>=0;P--)if(S[P]===C||S[P].listener===C){A=S[P].listener,T=P;break}if(T<0)return this;T===0?S.shift():c(S,T),S.length===1&&(D[y]=S[0]),D.removeListener!==void 0&&this.emit("removeListener",y,A||C)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(y){var C,S,D;if(S=this._events,S===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[y]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete S[y]),this;if(arguments.length===0){var T=Object.keys(S),P;for(D=0;D<T.length;++D)P=T[D],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=S[y],typeof C=="function")this.removeListener(y,C);else if(C!==void 0)for(D=C.length-1;D>=0;D--)this.removeListener(y,C[D]);return this};function i(u,y,C){var S=u._events;if(S===void 0)return[];var D=S[y];return D===void 0?[]:typeof D=="function"?C?[D.listener||D]:[D]:C?x(D):v(D,D.length)}L.prototype.listeners=function(y){return i(this,y,!0)},L.prototype.rawListeners=function(y){return i(this,y,!1)},L.listenerCount=function(u,y){return typeof u.listenerCount=="function"?u.listenerCount(y):f.call(u,y)},L.prototype.listenerCount=f;function f(u){var y=this._events;if(y!==void 0){var C=y[u];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?h(this._events):[]};function v(u,y){for(var C=new Array(y),S=0;S<y;++S)C[S]=u[S];return C}function c(u,y){for(;y+1<u.length;y++)u[y]=u[y+1];u.pop()}function x(u){for(var y=new Array(u.length),C=0;C<y.length;++C)y[C]=u[C].listener||u[C];return y}function d(u,y){return new Promise(function(C,S){function D(P){u.removeListener(y,T),S(P)}function T(){typeof u.removeListener=="function"&&u.removeListener("error",D),C([].slice.call(arguments))}g(u,y,T,{once:!0}),y!=="error"&&M(u,D,{once:!0})})}function M(u,y,C){typeof u.on=="function"&&g(u,"error",y,C)}function g(u,y,C,S){if(typeof u.on=="function")S.once?u.once(y,C):u.on(y,C);else if(typeof u.addEventListener=="function")u.addEventListener(y,function D(T){S.once&&u.removeEventListener(y,D),C(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u)}},60774:function(k){var F=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};k.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return F()}try{return __global__||F()}finally{delete Object.prototype.__global__}}()},94908:function(k,F,e){k.exports=e(51152)()?globalThis:e(60774)},51152:function(k){k.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(k,F,e){var h=e(18546);k.exports=function(E){var n=typeof E;if(n==="string"){var L=E;if(E=+E,E===0&&h(L))return!1}else if(n!=="number")return!1;return E-E<1}},30120:function(k,F,e){var h=e(90660);k.exports=E;function E(n,L,w){if(!n)throw new TypeError("must specify data as first parameter");if(w=+(w||0)|0,Array.isArray(n)&&n[0]&&typeof n[0][0]=="number"){var p=n[0].length,m=n.length*p,t,r,l,i;(!L||typeof L=="string")&&(L=new(h(L||"float32"))(m+w));var f=L.length-w;if(m!==f)throw new Error("source length "+m+" ("+p+"x"+n.length+") does not match destination length "+f);for(t=0,l=w;t<n.length;t++)for(r=0;r<p;r++)L[l++]=n[t][r]===null?NaN:n[t][r]}else if(!L||typeof L=="string"){var v=h(L||"float32");if(Array.isArray(n)||L==="array")for(L=new v(n.length+w),t=0,l=w,i=L.length;l<i;l++,t++)L[l]=n[t]===null?NaN:n[t];else w===0?L=new v(n):(L=new v(n.length+w),L.set(n,w))}else L.set(n,w);return L}},68016:function(k,F,e){var h=e(53313),E=[32,126];k.exports=n;function n(L){L=L||{};var w=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],p=L.canvas||document.createElement("canvas"),m=L.font,t=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],r=L.chars||E;if(m&&typeof m!="string"&&(m=h(m)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var l=[],i=r[0],f=0;i<=r[1];i++)l[f++]=String.fromCharCode(i);r=l}w=w.slice(),p.width=w[0],p.height=w[1];var v=p.getContext("2d");v.fillStyle="#000",v.fillRect(0,0,p.width,p.height),v.font=m,v.textAlign="center",v.textBaseline="middle",v.fillStyle="#fff";for(var c=t[0]/2,x=t[1]/2,i=0;i<r.length;i++)v.fillText(r[i],c,x),(c+=t[0])>w[0]-t[0]/2&&(c=t[0]/2,x+=t[1]);return p}},32879:function(k){k.exports=F,F.canvas=document.createElement("canvas"),F.cache={};function F(r,L){L||(L={}),(typeof r=="string"||Array.isArray(r))&&(L.family=r);var w=Array.isArray(L.family)?L.family.join(", "):L.family;if(!w)throw Error("`family` must be defined");var p=L.size||L.fontSize||L.em||48,m=L.weight||L.fontWeight||"",t=L.style||L.fontStyle||"",r=[t,m,p].join(" ")+"px "+w,l=L.origin||"top";if(F.cache[w]&&p<=F.cache[w].em)return e(F.cache[w],l);var i=L.canvas||F.canvas,f=i.getContext("2d"),v={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},c=Math.ceil(p*1.5);i.height=c,i.width=c*.5,f.font=r;var x="H",d={top:0};f.clearRect(0,0,c,c),f.textBaseline="top",f.fillStyle="black",f.fillText(x,0,0);var M=h(f.getImageData(0,0,c,c));f.clearRect(0,0,c,c),f.textBaseline="bottom",f.fillText(x,0,c);var g=h(f.getImageData(0,0,c,c));d.lineHeight=d.bottom=c-g+M,f.clearRect(0,0,c,c),f.textBaseline="alphabetic",f.fillText(x,0,c);var u=h(f.getImageData(0,0,c,c)),y=c-u-1+M;d.baseline=d.alphabetic=y,f.clearRect(0,0,c,c),f.textBaseline="middle",f.fillText(x,0,c*.5);var C=h(f.getImageData(0,0,c,c));d.median=d.middle=c-C-1+M-c*.5,f.clearRect(0,0,c,c),f.textBaseline="hanging",f.fillText(x,0,c*.5);var S=h(f.getImageData(0,0,c,c));d.hanging=c-S-1+M-c*.5,f.clearRect(0,0,c,c),f.textBaseline="ideographic",f.fillText(x,0,c);var D=h(f.getImageData(0,0,c,c));if(d.ideographic=c-D-1+M,v.upper&&(f.clearRect(0,0,c,c),f.textBaseline="top",f.fillText(v.upper,0,0),d.upper=h(f.getImageData(0,0,c,c)),d.capHeight=d.baseline-d.upper),v.lower&&(f.clearRect(0,0,c,c),f.textBaseline="top",f.fillText(v.lower,0,0),d.lower=h(f.getImageData(0,0,c,c)),d.xHeight=d.baseline-d.lower),v.tittle&&(f.clearRect(0,0,c,c),f.textBaseline="top",f.fillText(v.tittle,0,0),d.tittle=h(f.getImageData(0,0,c,c))),v.ascent&&(f.clearRect(0,0,c,c),f.textBaseline="top",f.fillText(v.ascent,0,0),d.ascent=h(f.getImageData(0,0,c,c))),v.descent&&(f.clearRect(0,0,c,c),f.textBaseline="top",f.fillText(v.descent,0,0),d.descent=E(f.getImageData(0,0,c,c))),v.overshoot){f.clearRect(0,0,c,c),f.textBaseline="top",f.fillText(v.overshoot,0,0);var T=E(f.getImageData(0,0,c,c));d.overshoot=T-y}for(var P in d)d[P]/=p;return d.em=p,F.cache[w]=d,e(d,l)}function e(n,L){var w={};typeof L=="string"&&(L=n[L]);for(var p in n)p!=="em"&&(w[p]=n[p]-L);return w}function h(n){for(var L=n.height,w=n.data,p=3;p<w.length;p+=4)if(w[p]!==0)return Math.floor((p-3)*.25/L)}function E(n){for(var L=n.height,w=n.data,p=w.length-1;p>0;p-=4)if(w[p]!==0)return Math.floor((p-3)*.25/L)}},31353:function(k,F,e){var h=e(85395),E=Object.prototype.toString,n=Object.prototype.hasOwnProperty,L=function(r,l,i){for(var f=0,v=r.length;f<v;f++)n.call(r,f)&&(i==null?l(r[f],f,r):l.call(i,r[f],f,r))},w=function(r,l,i){for(var f=0,v=r.length;f<v;f++)i==null?l(r.charAt(f),f,r):l.call(i,r.charAt(f),f,r)},p=function(r,l,i){for(var f in r)n.call(r,f)&&(i==null?l(r[f],f,r):l.call(i,r[f],f,r))},m=function(r,l,i){if(!h(l))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=i),E.call(r)==="[object Array]"?L(r,l,f):typeof r=="string"?w(r,l,f):p(r,l,f)};k.exports=m},73047:function(k){var F="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,h=Object.prototype.toString,E="[object Function]";k.exports=function(L){var w=this;if(typeof w!="function"||h.call(w)!==E)throw new TypeError(F+w);for(var p=e.call(arguments,1),m,t=function(){if(this instanceof m){var v=w.apply(this,p.concat(e.call(arguments)));return Object(v)===v?v:this}else return w.apply(L,p.concat(e.call(arguments)))},r=Math.max(0,w.length-p.length),l=[],i=0;i<r;i++)l.push("$"+i);if(m=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(t),w.prototype){var f=function(){};f.prototype=w.prototype,m.prototype=new f,f.prototype=null}return m}},77575:function(k,F,e){var h=e(73047);k.exports=Function.prototype.bind||h},86249:function(k){k.exports=F;function F(e,h){if(typeof e!="string")throw new TypeError("must specify type string");if(h=h||{},typeof document>"u"&&!h.canvas)return null;var E=h.canvas||document.createElement("canvas");typeof h.width=="number"&&(E.width=h.width),typeof h.height=="number"&&(E.height=h.height);var n=h,L;try{var w=[e];e.indexOf("webgl")===0&&w.push("experimental-"+e);for(var p=0;p<w.length;p++)if(L=E.getContext(w[p],n),L)return L}catch{L=null}return L||null}},68318:function(k,F,e){var h,E=SyntaxError,n=Function,L=TypeError,w=function(R){try{return n('"use strict"; return ('+R+").constructor;")()}catch{}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch{p=null}var m=function(){throw new L},t=p?function(){try{return arguments.callee,m}catch{try{return p(arguments,"callee").get}catch{return m}}}():m,r=e(57877)(),l=Object.getPrototypeOf||function(R){return R.__proto__},i={},f=typeof Uint8Array>"u"?h:l(Uint8Array),v={"%AggregateError%":typeof AggregateError>"u"?h:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?h:ArrayBuffer,"%ArrayIteratorPrototype%":r?l([][Symbol.iterator]()):h,"%AsyncFromSyncIteratorPrototype%":h,"%AsyncFunction%":i,"%AsyncGenerator%":i,"%AsyncGeneratorFunction%":i,"%AsyncIteratorPrototype%":i,"%Atomics%":typeof Atomics>"u"?h:Atomics,"%BigInt%":typeof BigInt>"u"?h:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?h:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?h:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?h:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?h:Float32Array,"%Float64Array%":typeof Float64Array>"u"?h:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?h:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":i,"%Int8Array%":typeof Int8Array>"u"?h:Int8Array,"%Int16Array%":typeof Int16Array>"u"?h:Int16Array,"%Int32Array%":typeof Int32Array>"u"?h:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?l(l([][Symbol.iterator]())):h,"%JSON%":typeof JSON=="object"?JSON:h,"%Map%":typeof Map>"u"?h:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?h:l(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?h:Promise,"%Proxy%":typeof Proxy>"u"?h:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?h:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?h:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?h:l(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?h:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?l(""[Symbol.iterator]()):h,"%Symbol%":r?Symbol:h,"%SyntaxError%":E,"%ThrowTypeError%":t,"%TypedArray%":f,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?h:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?h:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?h:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?h:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?h:WeakMap,"%WeakRef%":typeof WeakRef>"u"?h:WeakRef,"%WeakSet%":typeof WeakSet>"u"?h:WeakSet};try{null.error}catch(R){var c=l(l(R));v["%Error.prototype%"]=c}var x=function R(b){var N;if(b==="%AsyncFunction%")N=w("async function () {}");else if(b==="%GeneratorFunction%")N=w("function* () {}");else if(b==="%AsyncGeneratorFunction%")N=w("async function* () {}");else if(b==="%AsyncGenerator%"){var O=R("%AsyncGeneratorFunction%");O&&(N=O.prototype)}else if(b==="%AsyncIteratorPrototype%"){var Y=R("%AsyncGenerator%");Y&&(N=l(Y.prototype))}return v[b]=N,N},d={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=e(77575),g=e(35065),u=M.call(Function.call,Array.prototype.concat),y=M.call(Function.apply,Array.prototype.splice),C=M.call(Function.call,String.prototype.replace),S=M.call(Function.call,String.prototype.slice),D=M.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,A=function(b){var N=S(b,0,1),O=S(b,-1);if(N==="%"&&O!=="%")throw new E("invalid intrinsic syntax, expected closing `%`");if(O==="%"&&N!=="%")throw new E("invalid intrinsic syntax, expected opening `%`");var Y=[];return C(b,T,function(B,W,H,U){Y[Y.length]=H?C(U,P,"$1"):W||B}),Y},a=function(b,N){var O=b,Y;if(g(d,O)&&(Y=d[O],O="%"+Y[0]+"%"),g(v,O)){var B=v[O];if(B===i&&(B=x(O)),typeof B>"u"&&!N)throw new L("intrinsic "+b+" exists, but is not available. Please file an issue!");return{alias:Y,name:O,value:B}}throw new E("intrinsic "+b+" does not exist!")};k.exports=function(b,N){if(typeof b!="string"||b.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof N!="boolean")throw new L('"allowMissing" argument must be a boolean');if(D(/^%?[^%]*%?$/,b)===null)throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var O=A(b),Y=O.length>0?O[0]:"",B=a("%"+Y+"%",N),W=B.name,H=B.value,U=!1,G=B.alias;G&&(Y=G[0],y(O,u([0,1],G)));for(var j=1,re=!0;j<O.length;j+=1){var ae=O[j],ue=S(ae,0,1),de=S(ae,-1);if((ue==='"'||ue==="'"||ue==="`"||de==='"'||de==="'"||de==="`")&&ue!==de)throw new E("property names with quotes must have matching quotes");if((ae==="constructor"||!re)&&(U=!0),Y+="."+ae,W="%"+Y+"%",g(v,W))H=v[W];else if(H!=null){if(!(ae in H)){if(!N)throw new L("base intrinsic for "+b+" exists, but the property is not available.");return}if(p&&j+1>=O.length){var ee=p(H,ae);re=!!ee,re&&"get"in ee&&!("originalValue"in ee.get)?H=ee.get:H=H[ae]}else re=g(H,ae),H=H[ae];re&&!U&&(v[W]=H)}}return H}},85400:function(k){k.exports=F;function F(e,h){var E=h[0],n=h[1],L=h[2],w=h[3],p=h[4],m=h[5],t=h[6],r=h[7],l=h[8],i=h[9],f=h[10],v=h[11],c=h[12],x=h[13],d=h[14],M=h[15];return e[0]=m*(f*M-v*d)-i*(t*M-r*d)+x*(t*v-r*f),e[1]=-(n*(f*M-v*d)-i*(L*M-w*d)+x*(L*v-w*f)),e[2]=n*(t*M-r*d)-m*(L*M-w*d)+x*(L*r-w*t),e[3]=-(n*(t*v-r*f)-m*(L*v-w*f)+i*(L*r-w*t)),e[4]=-(p*(f*M-v*d)-l*(t*M-r*d)+c*(t*v-r*f)),e[5]=E*(f*M-v*d)-l*(L*M-w*d)+c*(L*v-w*f),e[6]=-(E*(t*M-r*d)-p*(L*M-w*d)+c*(L*r-w*t)),e[7]=E*(t*v-r*f)-p*(L*v-w*f)+l*(L*r-w*t),e[8]=p*(i*M-v*x)-l*(m*M-r*x)+c*(m*v-r*i),e[9]=-(E*(i*M-v*x)-l*(n*M-w*x)+c*(n*v-w*i)),e[10]=E*(m*M-r*x)-p*(n*M-w*x)+c*(n*r-w*m),e[11]=-(E*(m*v-r*i)-p*(n*v-w*i)+l*(n*r-w*m)),e[12]=-(p*(i*d-f*x)-l*(m*d-t*x)+c*(m*f-t*i)),e[13]=E*(i*d-f*x)-l*(n*d-L*x)+c*(n*f-L*i),e[14]=-(E*(m*d-t*x)-p*(n*d-L*x)+c*(n*t-L*m)),e[15]=E*(m*f-t*i)-p*(n*f-L*i)+l*(n*t-L*m),e}},42331:function(k){k.exports=F;function F(e){var h=new Float32Array(16);return h[0]=e[0],h[1]=e[1],h[2]=e[2],h[3]=e[3],h[4]=e[4],h[5]=e[5],h[6]=e[6],h[7]=e[7],h[8]=e[8],h[9]=e[9],h[10]=e[10],h[11]=e[11],h[12]=e[12],h[13]=e[13],h[14]=e[14],h[15]=e[15],h}},31042:function(k){k.exports=F;function F(e,h){return e[0]=h[0],e[1]=h[1],e[2]=h[2],e[3]=h[3],e[4]=h[4],e[5]=h[5],e[6]=h[6],e[7]=h[7],e[8]=h[8],e[9]=h[9],e[10]=h[10],e[11]=h[11],e[12]=h[12],e[13]=h[13],e[14]=h[14],e[15]=h[15],e}},11902:function(k){k.exports=F;function F(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(k){k.exports=F;function F(e){var h=e[0],E=e[1],n=e[2],L=e[3],w=e[4],p=e[5],m=e[6],t=e[7],r=e[8],l=e[9],i=e[10],f=e[11],v=e[12],c=e[13],x=e[14],d=e[15],M=h*p-E*w,g=h*m-n*w,u=h*t-L*w,y=E*m-n*p,C=E*t-L*p,S=n*t-L*m,D=r*c-l*v,T=r*x-i*v,P=r*d-f*v,A=l*x-i*c,a=l*d-f*c,R=i*d-f*x;return M*R-g*a+u*A+y*P-C*T+S*D}},27812:function(k){k.exports=F;function F(e,h){var E=h[0],n=h[1],L=h[2],w=h[3],p=E+E,m=n+n,t=L+L,r=E*p,l=n*p,i=n*m,f=L*p,v=L*m,c=L*t,x=w*p,d=w*m,M=w*t;return e[0]=1-i-c,e[1]=l+M,e[2]=f-d,e[3]=0,e[4]=l-M,e[5]=1-r-c,e[6]=v+x,e[7]=0,e[8]=f+d,e[9]=v-x,e[10]=1-r-i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(k){k.exports=F;function F(e,h,E){var n,L,w,p=E[0],m=E[1],t=E[2],r=Math.sqrt(p*p+m*m+t*t);return Math.abs(r)<1e-6?null:(r=1/r,p*=r,m*=r,t*=r,n=Math.sin(h),L=Math.cos(h),w=1-L,e[0]=p*p*w+L,e[1]=m*p*w+t*n,e[2]=t*p*w-m*n,e[3]=0,e[4]=p*m*w-t*n,e[5]=m*m*w+L,e[6]=t*m*w+p*n,e[7]=0,e[8]=p*t*w+m*n,e[9]=m*t*w-p*n,e[10]=t*t*w+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(k){k.exports=F;function F(e,h,E){var n=h[0],L=h[1],w=h[2],p=h[3],m=n+n,t=L+L,r=w+w,l=n*m,i=n*t,f=n*r,v=L*t,c=L*r,x=w*r,d=p*m,M=p*t,g=p*r;return e[0]=1-(v+x),e[1]=i+g,e[2]=f-M,e[3]=0,e[4]=i-g,e[5]=1-(l+x),e[6]=c+d,e[7]=0,e[8]=f+M,e[9]=c-d,e[10]=1-(l+v),e[11]=0,e[12]=E[0],e[13]=E[1],e[14]=E[2],e[15]=1,e}},81472:function(k){k.exports=F;function F(e,h){return e[0]=h[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=h[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(k){k.exports=F;function F(e,h){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=h[0],e[13]=h[1],e[14]=h[2],e[15]=1,e}},75262:function(k){k.exports=F;function F(e,h){var E=Math.sin(h),n=Math.cos(h);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=E,e[7]=0,e[8]=0,e[9]=-E,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(k){k.exports=F;function F(e,h){var E=Math.sin(h),n=Math.cos(h);return e[0]=n,e[1]=0,e[2]=-E,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=E,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(k){k.exports=F;function F(e,h){var E=Math.sin(h),n=Math.cos(h);return e[0]=n,e[1]=E,e[2]=0,e[3]=0,e[4]=-E,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(k){k.exports=F;function F(e,h,E,n,L,w,p){var m=1/(E-h),t=1/(L-n),r=1/(w-p);return e[0]=w*2*m,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=w*2*t,e[6]=0,e[7]=0,e[8]=(E+h)*m,e[9]=(L+n)*t,e[10]=(p+w)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=p*w*2*r,e[15]=0,e}},71551:function(k){k.exports=F;function F(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(k,F,e){k.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(k){k.exports=F;function F(e,h){var E=h[0],n=h[1],L=h[2],w=h[3],p=h[4],m=h[5],t=h[6],r=h[7],l=h[8],i=h[9],f=h[10],v=h[11],c=h[12],x=h[13],d=h[14],M=h[15],g=E*m-n*p,u=E*t-L*p,y=E*r-w*p,C=n*t-L*m,S=n*r-w*m,D=L*r-w*t,T=l*x-i*c,P=l*d-f*c,A=l*M-v*c,a=i*d-f*x,R=i*M-v*x,b=f*M-v*d,N=g*b-u*R+y*a+C*A-S*P+D*T;return N?(N=1/N,e[0]=(m*b-t*R+r*a)*N,e[1]=(L*R-n*b-w*a)*N,e[2]=(x*D-d*S+M*C)*N,e[3]=(f*S-i*D-v*C)*N,e[4]=(t*A-p*b-r*P)*N,e[5]=(E*b-L*A+w*P)*N,e[6]=(d*y-c*D-M*u)*N,e[7]=(l*D-f*y+v*u)*N,e[8]=(p*R-m*A+r*T)*N,e[9]=(n*A-E*R-w*T)*N,e[10]=(c*S-x*y+M*g)*N,e[11]=(i*y-l*S-v*g)*N,e[12]=(m*P-p*a-t*T)*N,e[13]=(E*a-n*P+L*T)*N,e[14]=(x*u-c*C-d*g)*N,e[15]=(l*C-i*u+f*g)*N,e):null}},65551:function(k,F,e){var h=e(71551);k.exports=E;function E(n,L,w,p){var m,t,r,l,i,f,v,c,x,d,M=L[0],g=L[1],u=L[2],y=p[0],C=p[1],S=p[2],D=w[0],T=w[1],P=w[2];return Math.abs(M-D)<1e-6&&Math.abs(g-T)<1e-6&&Math.abs(u-P)<1e-6?h(n):(v=M-D,c=g-T,x=u-P,d=1/Math.sqrt(v*v+c*c+x*x),v*=d,c*=d,x*=d,m=C*x-S*c,t=S*v-y*x,r=y*c-C*v,d=Math.sqrt(m*m+t*t+r*r),d?(d=1/d,m*=d,t*=d,r*=d):(m=0,t=0,r=0),l=c*r-x*t,i=x*m-v*r,f=v*t-c*m,d=Math.sqrt(l*l+i*i+f*f),d?(d=1/d,l*=d,i*=d,f*=d):(l=0,i=0,f=0),n[0]=m,n[1]=l,n[2]=v,n[3]=0,n[4]=t,n[5]=i,n[6]=c,n[7]=0,n[8]=r,n[9]=f,n[10]=x,n[11]=0,n[12]=-(m*M+t*g+r*u),n[13]=-(l*M+i*g+f*u),n[14]=-(v*M+c*g+x*u),n[15]=1,n)}},91362:function(k){k.exports=F;function F(e,h,E){var n=h[0],L=h[1],w=h[2],p=h[3],m=h[4],t=h[5],r=h[6],l=h[7],i=h[8],f=h[9],v=h[10],c=h[11],x=h[12],d=h[13],M=h[14],g=h[15],u=E[0],y=E[1],C=E[2],S=E[3];return e[0]=u*n+y*m+C*i+S*x,e[1]=u*L+y*t+C*f+S*d,e[2]=u*w+y*r+C*v+S*M,e[3]=u*p+y*l+C*c+S*g,u=E[4],y=E[5],C=E[6],S=E[7],e[4]=u*n+y*m+C*i+S*x,e[5]=u*L+y*t+C*f+S*d,e[6]=u*w+y*r+C*v+S*M,e[7]=u*p+y*l+C*c+S*g,u=E[8],y=E[9],C=E[10],S=E[11],e[8]=u*n+y*m+C*i+S*x,e[9]=u*L+y*t+C*f+S*d,e[10]=u*w+y*r+C*v+S*M,e[11]=u*p+y*l+C*c+S*g,u=E[12],y=E[13],C=E[14],S=E[15],e[12]=u*n+y*m+C*i+S*x,e[13]=u*L+y*t+C*f+S*d,e[14]=u*w+y*r+C*v+S*M,e[15]=u*p+y*l+C*c+S*g,e}},60378:function(k){k.exports=F;function F(e,h,E,n,L,w,p){var m=1/(h-E),t=1/(n-L),r=1/(w-p);return e[0]=-2*m,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(h+E)*m,e[13]=(L+n)*t,e[14]=(p+w)*r,e[15]=1,e}},7864:function(k){k.exports=F;function F(e,h,E,n,L){var w=1/Math.tan(h/2),p=1/(n-L);return e[0]=w/E,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=w,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+n)*p,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*n*p,e[15]=0,e}},35279:function(k){k.exports=F;function F(e,h,E,n){var L=Math.tan(h.upDegrees*Math.PI/180),w=Math.tan(h.downDegrees*Math.PI/180),p=Math.tan(h.leftDegrees*Math.PI/180),m=Math.tan(h.rightDegrees*Math.PI/180),t=2/(p+m),r=2/(L+w);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((p-m)*t*.5),e[9]=(L-w)*r*.5,e[10]=n/(E-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*E/(E-n),e[15]=0,e}},65074:function(k){k.exports=F;function F(e,h,E,n){var L=n[0],w=n[1],p=n[2],m=Math.sqrt(L*L+w*w+p*p),t,r,l,i,f,v,c,x,d,M,g,u,y,C,S,D,T,P,A,a,R,b,N,O;return Math.abs(m)<1e-6?null:(m=1/m,L*=m,w*=m,p*=m,t=Math.sin(E),r=Math.cos(E),l=1-r,i=h[0],f=h[1],v=h[2],c=h[3],x=h[4],d=h[5],M=h[6],g=h[7],u=h[8],y=h[9],C=h[10],S=h[11],D=L*L*l+r,T=w*L*l+p*t,P=p*L*l-w*t,A=L*w*l-p*t,a=w*w*l+r,R=p*w*l+L*t,b=L*p*l+w*t,N=w*p*l-L*t,O=p*p*l+r,e[0]=i*D+x*T+u*P,e[1]=f*D+d*T+y*P,e[2]=v*D+M*T+C*P,e[3]=c*D+g*T+S*P,e[4]=i*A+x*a+u*R,e[5]=f*A+d*a+y*R,e[6]=v*A+M*a+C*R,e[7]=c*A+g*a+S*R,e[8]=i*b+x*N+u*O,e[9]=f*b+d*N+y*O,e[10]=v*b+M*N+C*O,e[11]=c*b+g*N+S*O,h!==e&&(e[12]=h[12],e[13]=h[13],e[14]=h[14],e[15]=h[15]),e)}},35545:function(k){k.exports=F;function F(e,h,E){var n=Math.sin(E),L=Math.cos(E),w=h[4],p=h[5],m=h[6],t=h[7],r=h[8],l=h[9],i=h[10],f=h[11];return h!==e&&(e[0]=h[0],e[1]=h[1],e[2]=h[2],e[3]=h[3],e[12]=h[12],e[13]=h[13],e[14]=h[14],e[15]=h[15]),e[4]=w*L+r*n,e[5]=p*L+l*n,e[6]=m*L+i*n,e[7]=t*L+f*n,e[8]=r*L-w*n,e[9]=l*L-p*n,e[10]=i*L-m*n,e[11]=f*L-t*n,e}},94918:function(k){k.exports=F;function F(e,h,E){var n=Math.sin(E),L=Math.cos(E),w=h[0],p=h[1],m=h[2],t=h[3],r=h[8],l=h[9],i=h[10],f=h[11];return h!==e&&(e[4]=h[4],e[5]=h[5],e[6]=h[6],e[7]=h[7],e[12]=h[12],e[13]=h[13],e[14]=h[14],e[15]=h[15]),e[0]=w*L-r*n,e[1]=p*L-l*n,e[2]=m*L-i*n,e[3]=t*L-f*n,e[8]=w*n+r*L,e[9]=p*n+l*L,e[10]=m*n+i*L,e[11]=t*n+f*L,e}},15692:function(k){k.exports=F;function F(e,h,E){var n=Math.sin(E),L=Math.cos(E),w=h[0],p=h[1],m=h[2],t=h[3],r=h[4],l=h[5],i=h[6],f=h[7];return h!==e&&(e[8]=h[8],e[9]=h[9],e[10]=h[10],e[11]=h[11],e[12]=h[12],e[13]=h[13],e[14]=h[14],e[15]=h[15]),e[0]=w*L+r*n,e[1]=p*L+l*n,e[2]=m*L+i*n,e[3]=t*L+f*n,e[4]=r*L-w*n,e[5]=l*L-p*n,e[6]=i*L-m*n,e[7]=f*L-t*n,e}},10789:function(k){k.exports=F;function F(e,h,E){var n=E[0],L=E[1],w=E[2];return e[0]=h[0]*n,e[1]=h[1]*n,e[2]=h[2]*n,e[3]=h[3]*n,e[4]=h[4]*L,e[5]=h[5]*L,e[6]=h[6]*L,e[7]=h[7]*L,e[8]=h[8]*w,e[9]=h[9]*w,e[10]=h[10]*w,e[11]=h[11]*w,e[12]=h[12],e[13]=h[13],e[14]=h[14],e[15]=h[15],e}},6726:function(k){k.exports=F;function F(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(k){k.exports=F;function F(e,h,E){var n=E[0],L=E[1],w=E[2],p,m,t,r,l,i,f,v,c,x,d,M;return h===e?(e[12]=h[0]*n+h[4]*L+h[8]*w+h[12],e[13]=h[1]*n+h[5]*L+h[9]*w+h[13],e[14]=h[2]*n+h[6]*L+h[10]*w+h[14],e[15]=h[3]*n+h[7]*L+h[11]*w+h[15]):(p=h[0],m=h[1],t=h[2],r=h[3],l=h[4],i=h[5],f=h[6],v=h[7],c=h[8],x=h[9],d=h[10],M=h[11],e[0]=p,e[1]=m,e[2]=t,e[3]=r,e[4]=l,e[5]=i,e[6]=f,e[7]=v,e[8]=c,e[9]=x,e[10]=d,e[11]=M,e[12]=p*n+l*L+c*w+h[12],e[13]=m*n+i*L+x*w+h[13],e[14]=t*n+f*L+d*w+h[14],e[15]=r*n+v*L+M*w+h[15]),e}},88654:function(k){k.exports=F;function F(e,h){if(e===h){var E=h[1],n=h[2],L=h[3],w=h[6],p=h[7],m=h[11];e[1]=h[4],e[2]=h[8],e[3]=h[12],e[4]=E,e[6]=h[9],e[7]=h[13],e[8]=n,e[9]=w,e[11]=h[14],e[12]=L,e[13]=p,e[14]=m}else e[0]=h[0],e[1]=h[4],e[2]=h[8],e[3]=h[12],e[4]=h[1],e[5]=h[5],e[6]=h[9],e[7]=h[13],e[8]=h[2],e[9]=h[6],e[10]=h[10],e[11]=h[14],e[12]=h[3],e[13]=h[7],e[14]=h[11],e[15]=h[15];return e}},42505:function(k,F,e){var h=e(72791),E=e(71299),n=e(98580),L=e(12018),w=e(83522),p=e(25075),m=e(68016),t=e(58404),r=e(18863),l=e(10973),i=e(25677),f=e(75686),v=e(53545),c=e(56131),x=e(32879),d=e(30120),M=e(13547),g=M.nextPow2,u=new w,y=!1;if(document.body){var C=document.body.appendChild(document.createElement("div"));C.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(C).fontStretch&&(y=!0),document.body.removeChild(C)}var S=function(P){D(P)?(P={regl:P},this.gl=P.regl._gl):this.gl=L(P),this.shader=u.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=P.regl||n({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),u.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(l(P)?P:{})};S.prototype.createShader=function(){var P=this.regl,A=P({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:P.prop("count"),offset:P.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:P.this("sizeBuffer")},width:{offset:0,stride:8,buffer:P.this("sizeBuffer")},char:P.this("charBuffer"),position:P.this("position")},uniforms:{atlasSize:function(R,b){return[b.atlas.width,b.atlas.height]},atlasDim:function(R,b){return[b.atlas.cols,b.atlas.rows]},atlas:function(R,b){return b.atlas.texture},charStep:function(R,b){return b.atlas.step},em:function(R,b){return b.atlas.em},color:P.prop("color"),opacity:P.prop("opacity"),viewport:P.this("viewportArray"),scale:P.this("scale"),align:P.prop("align"),baseline:P.prop("baseline"),translate:P.this("translate"),positionOffset:P.prop("positionOffset")},primitive:"points",viewport:P.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),a={};return{regl:P,draw:A,atlas:a}},S.prototype.update=function(P){var A=this;if(typeof P=="string")P={text:P};else if(!P)return;P=E(P,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),P.opacity!=null&&(Array.isArray(P.opacity)?this.opacity=P.opacity.map(function(Fe){return parseFloat(Fe)}):this.opacity=parseFloat(P.opacity)),P.viewport!=null&&(this.viewport=r(P.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),P.kerning!=null&&(this.kerning=P.kerning),P.offset!=null&&(typeof P.offset=="number"&&(P.offset=[P.offset,0]),this.positionOffset=d(P.offset)),P.direction&&(this.direction=P.direction),P.range&&(this.range=P.range,this.scale=[1/(P.range[2]-P.range[0]),1/(P.range[3]-P.range[1])],this.translate=[-P.range[0],-P.range[1]]),P.scale&&(this.scale=P.scale),P.translate&&(this.translate=P.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!P.font&&(P.font=S.baseFontSize+"px sans-serif");var a=!1,R=!1;if(P.font&&(Array.isArray(P.font)?P.font:[P.font]).forEach(function(Fe,Ge){if(typeof Fe=="string")try{Fe=h.parse(Fe)}catch{Fe=h.parse(S.baseFontSize+"px "+Fe)}else Fe=h.parse(h.stringify(Fe));var it=h.stringify({size:S.baseFontSize,family:Fe.family,stretch:y?Fe.stretch:void 0,variant:Fe.variant,weight:Fe.weight,style:Fe.style}),qe=i(Fe.size),$e=Math.round(qe[0]*f(qe[1]));if($e!==A.fontSize[Ge]&&(R=!0,A.fontSize[Ge]=$e),(!A.font[Ge]||it!=A.font[Ge].baseString)&&(a=!0,A.font[Ge]=S.fonts[it],!A.font[Ge])){var tt=Fe.family.join(", "),vt=[Fe.style];Fe.style!=Fe.variant&&vt.push(Fe.variant),Fe.variant!=Fe.weight&&vt.push(Fe.weight),y&&Fe.weight!=Fe.stretch&&vt.push(Fe.stretch),A.font[Ge]={baseString:it,family:tt,weight:Fe.weight,stretch:Fe.stretch,style:Fe.style,variant:Fe.variant,width:{},kerning:{},metrics:x(tt,{origin:"top",fontSize:S.baseFontSize,fontStyle:vt.join(" ")})},S.fonts[it]=A.font[Ge]}}),(a||R)&&this.font.forEach(function(Fe,Ge){var it=h.stringify({size:A.fontSize[Ge],family:Fe.family,stretch:y?Fe.stretch:void 0,variant:Fe.variant,weight:Fe.weight,style:Fe.style});if(A.fontAtlas[Ge]=A.shader.atlas[it],!A.fontAtlas[Ge]){var qe=Fe.metrics;A.shader.atlas[it]=A.fontAtlas[Ge]={fontString:it,step:Math.ceil(A.fontSize[Ge]*qe.bottom*.5)*2,em:A.fontSize[Ge],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}}P.text==null&&(P.text=A.text)}),typeof P.text=="string"&&P.position&&P.position.length>2){for(var b=Array(P.position.length*.5),N=0;N<b.length;N++)b[N]=P.text;P.text=b}var O;if(P.text!=null||a){if(this.textOffsets=[0],Array.isArray(P.text)){this.count=P.text[0].length,this.counts=[this.count];for(var Y=1;Y<P.text.length;Y++)this.textOffsets[Y]=this.textOffsets[Y-1]+P.text[Y-1].length,this.count+=P.text[Y].length,this.counts.push(P.text[Y].length);this.text=P.text.join("")}else this.text=P.text,this.count=this.text.length,this.counts=[this.count];O=[],this.font.forEach(function(Fe,Ge){S.atlasContext.font=Fe.baseString;for(var it=A.fontAtlas[Ge],qe=0;qe<A.text.length;qe++){var $e=A.text.charAt(qe);if(it.ids[$e]==null&&(it.ids[$e]=it.chars.length,it.chars.push($e),O.push($e)),Fe.width[$e]==null&&(Fe.width[$e]=S.atlasContext.measureText($e).width/S.baseFontSize,A.kerning)){var tt=[];for(var vt in Fe.width)tt.push(vt+$e,$e+vt);c(Fe.kerning,v(Fe.family,{pairs:tt}))}}})}if(P.position)if(P.position.length>2){for(var B=!P.position[0].length,W=t.mallocFloat(this.count*2),H=0,U=0;H<this.counts.length;H++){var G=this.counts[H];if(B)for(var j=0;j<G;j++)W[U++]=P.position[H*2],W[U++]=P.position[H*2+1];else for(var re=0;re<G;re++)W[U++]=P.position[H][0],W[U++]=P.position[H][1]}this.position.call?this.position({type:"float",data:W}):this.position=this.regl.buffer({type:"float",data:W}),t.freeFloat(W)}else this.position.destroy&&this.position.destroy(),this.position={constant:P.position};if(P.text||a){var ae=t.mallocUint8(this.count),ue=t.mallocFloat(this.count*2);this.textWidth=[];for(var de=0,ee=0;de<this.counts.length;de++){for(var X=this.counts[de],Q=this.font[de]||this.font[0],$=this.fontAtlas[de]||this.fontAtlas[0],ne=0;ne<X;ne++){var fe=this.text.charAt(ee),te=this.text.charAt(ee-1);if(ae[ee]=$.ids[fe],ue[ee*2]=Q.width[fe],ne){var q=ue[ee*2-2],he=ue[ee*2],se=ue[ee*2-1],pe=se+q*.5+he*.5;if(this.kerning){var we=Q.kerning[te+fe];we&&(pe+=we*.001)}ue[ee*2+1]=pe}else ue[ee*2+1]=ue[ee*2]*.5;ee++}this.textWidth.push(ue.length?ue[ee*2-2]*.5+ue[ee*2-1]:0)}P.align||(P.align=this.align),this.charBuffer({data:ae,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ue,type:"float",usage:"stream"}),t.freeUint8(ae),t.freeFloat(ue),O.length&&this.font.forEach(function(Fe,Ge){var it=A.fontAtlas[Ge],qe=it.step,$e=Math.floor(S.maxAtlasSize/qe),tt=Math.min($e,it.chars.length),vt=Math.ceil(it.chars.length/tt),dt=g(tt*qe),gt=g(vt*qe);it.width=dt,it.height=gt,it.rows=vt,it.cols=tt,it.em&&it.texture({data:m({canvas:S.atlasCanvas,font:it.fontString,chars:it.chars,shape:[dt,gt],step:[qe,qe]})})})}if(P.align&&(this.align=P.align,this.alignOffset=this.textWidth.map(function(Fe,Ge){var it=Array.isArray(A.align)?A.align.length>1?A.align[Ge]:A.align[0]:A.align;if(typeof it=="number")return it;switch(it){case"right":case"end":return-Fe;case"center":case"centre":case"middle":return-Fe*.5}return 0})),this.baseline==null&&P.baseline==null&&(P.baseline=0),P.baseline!=null&&(this.baseline=P.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Fe,Ge){var it=(A.font[Ge]||A.font[0]).metrics,qe=0;return qe+=it.bottom*.5,typeof Fe=="number"?qe+=Fe-it.baseline:qe+=-it[Fe],qe*=-1,qe})),P.color!=null)if(P.color||(P.color="transparent"),typeof P.color=="string"||!isNaN(P.color))this.color=p(P.color,"uint8");else{var Ee;if(typeof P.color[0]=="number"&&P.color.length>this.counts.length){var Me=P.color.length;Ee=t.mallocUint8(Me);for(var Be=(P.color.subarray||P.color.slice).bind(P.color),Ne=0;Ne<Me;Ne+=4)Ee.set(p(Be(Ne,Ne+4),"uint8"),Ne)}else{var Ce=P.color.length;Ee=t.mallocUint8(Ce*4);for(var Te=0;Te<Ce;Te++)Ee.set(p(P.color[Te]||0,"uint8"),Te*4)}this.color=Ee}if(P.position||P.text||P.color||P.baseline||P.align||P.font||P.offset||P.opacity){var Le=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Le){var Ve=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ve);for(var We=0;We<this.batch.length;We++)this.batch[We]={count:this.counts.length>1?this.counts[We]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[We]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(We*4,We*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[We]:this.opacity,baseline:this.baselineOffset[We]!=null?this.baselineOffset[We]:this.baselineOffset[0],align:this.align?this.alignOffset[We]!=null?this.alignOffset[We]:this.alignOffset[0]:0,atlas:this.fontAtlas[We]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(We*2,We*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},S.prototype.destroy=function(){},S.prototype.kerning=!0,S.prototype.position={constant:new Float32Array(2)},S.prototype.translate=null,S.prototype.scale=null,S.prototype.font=null,S.prototype.text="",S.prototype.positionOffset=[0,0],S.prototype.opacity=1,S.prototype.color=new Uint8Array([0,0,0,255]),S.prototype.alignOffset=[0,0],S.maxAtlasSize=1024,S.atlasCanvas=document.createElement("canvas"),S.atlasContext=S.atlasCanvas.getContext("2d",{alpha:!1}),S.baseFontSize=64,S.fonts={};function D(T){return typeof T=="function"&&T._gl&&T.prop&&T.texture&&T.buffer}k.exports=S},12018:function(k,F,e){var h=e(71299);k.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},n(t)?t={container:t}:L(t)?t={container:t}:w(t)?t={gl:t}:t=h(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}n(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=p(),t.container.appendChild(t.canvas),E(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=p(),t.container.appendChild(t.canvas),E(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(l){try{t.gl=t.canvas.getContext(l,t.attrs)}catch{}return t.gl}),t.gl};function E(m){if(m.container)if(m.container==document.body)document.body.style.width||(m.canvas.width=m.width||m.pixelRatio*e.g.innerWidth),document.body.style.height||(m.canvas.height=m.height||m.pixelRatio*e.g.innerHeight);else{var t=m.container.getBoundingClientRect();m.canvas.width=m.width||t.right-t.left,m.canvas.height=m.height||t.bottom-t.top}}function n(m){return typeof m.getContext=="function"&&"width"in m&&"height"in m}function L(m){return typeof m.nodeName=="string"&&typeof m.appendChild=="function"&&typeof m.getBoundingClientRect=="function"}function w(m){return typeof m.drawArrays=="function"||typeof m.drawElements=="function"}function p(){var m=document.createElement("canvas");return m.style.position="absolute",m.style.top=0,m.style.left=0,m}},56068:function(k){k.exports=function(F){typeof F=="string"&&(F=[F]);for(var e=[].slice.call(arguments,1),h=[],E=0;E<F.length-1;E++)h.push(F[E],e[E]||"");return h.push(F[E]),h.join("")}},40383:function(k,F,e){var h=e(68318),E=h("%Object.getOwnPropertyDescriptor%",!0);if(E)try{E([],"length")}catch{E=null}k.exports=E},57035:function(k,F,e){var h=e(54404),E;typeof e.g.matchMedia=="function"?E=!e.g.matchMedia("(hover: none)").matches:E=h,k.exports=E},38520:function(k,F,e){var h=e(54404);function E(){var n=!1;try{var L=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{n=!1}return n}k.exports=h&&E()},55622:function(k,F,e){var h=e(68318),E=h("%Object.defineProperty%",!0),n=function(){if(E)try{return E({},"a",{value:1}),!0}catch{return!1}return!1};n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return E([],"length",{value:1}).length!==1}catch{return!0}},k.exports=n},57877:function(k,F,e){var h=typeof Symbol<"u"&&Symbol,E=e(35638);k.exports=function(){return typeof h!="function"||typeof Symbol!="function"||typeof h("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:E()}},35638:function(k){k.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},h=Symbol("test"),E=Object(h);if(typeof h=="string"||Object.prototype.toString.call(h)!=="[object Symbol]"||Object.prototype.toString.call(E)!=="[object Symbol]")return!1;var n=42;e[h]=n;for(h in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==h||!Object.prototype.propertyIsEnumerable.call(e,h))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var w=Object.getOwnPropertyDescriptor(e,h);if(w.value!==n||w.enumerable!==!0)return!1}return!0}},84543:function(k,F,e){var h=e(35638);k.exports=function(){return h()&&!!Symbol.toStringTag}},35065:function(k,F,e){var h=e(77575);k.exports=h.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(k,F){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */F.read=function(e,h,E,n,L){var w,p,m=L*8-n-1,t=(1<<m)-1,r=t>>1,l=-7,i=E?L-1:0,f=E?-1:1,v=e[h+i];for(i+=f,w=v&(1<<-l)-1,v>>=-l,l+=m;l>0;w=w*256+e[h+i],i+=f,l-=8);for(p=w&(1<<-l)-1,w>>=-l,l+=n;l>0;p=p*256+e[h+i],i+=f,l-=8);if(w===0)w=1-r;else{if(w===t)return p?NaN:(v?-1:1)*(1/0);p=p+Math.pow(2,n),w=w-r}return(v?-1:1)*p*Math.pow(2,w-n)},F.write=function(e,h,E,n,L,w){var p,m,t,r=w*8-L-1,l=(1<<r)-1,i=l>>1,f=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:w-1,c=n?1:-1,x=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(m=isNaN(h)?1:0,p=l):(p=Math.floor(Math.log(h)/Math.LN2),h*(t=Math.pow(2,-p))<1&&(p--,t*=2),p+i>=1?h+=f/t:h+=f*Math.pow(2,1-i),h*t>=2&&(p++,t/=2),p+i>=l?(m=0,p=l):p+i>=1?(m=(h*t-1)*Math.pow(2,L),p=p+i):(m=h*Math.pow(2,i-1)*Math.pow(2,L),p=0));L>=8;e[E+v]=m&255,v+=c,m/=256,L-=8);for(p=p<<L|m,r+=L;r>0;e[E+v]=p&255,v+=c,p/=256,r-=8);e[E+v-c]|=x*128}},42018:function(k){typeof Object.create=="function"?k.exports=function(e,h){h&&(e.super_=h,e.prototype=Object.create(h.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:k.exports=function(e,h){if(h){e.super_=h;var E=function(){};E.prototype=h.prototype,e.prototype=new E,e.prototype.constructor=e}}},47216:function(k,F,e){var h=e(84543)(),E=e(6614),n=E("Object.prototype.toString"),L=function(t){return h&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:n(t)==="[object Arguments]"},w=function(t){return L(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&n(t)!=="[object Array]"&&n(t.callee)==="[object Function]"},p=function(){return L(arguments)}();L.isLegacyArguments=w,k.exports=p?L:w},54404:function(k){k.exports=!0},85395:function(k){var F=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,h,E;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{h=Object.defineProperty({},"length",{get:function(){throw E}}),E={},e(function(){throw 42},null,h)}catch(M){M!==E&&(e=null)}else e=null;var n=/^\s*class\b/,L=function(g){try{var u=F.call(g);return n.test(u)}catch{return!1}},w=function(g){try{return L(g)?!1:(F.call(g),!0)}catch{return!1}},p=Object.prototype.toString,m="[object Object]",t="[object Function]",r="[object GeneratorFunction]",l="[object HTMLAllCollection]",i="[object HTML document.all class]",f="[object HTMLCollection]",v=typeof Symbol=="function"&&!!Symbol.toStringTag,c=!(0 in[,]),x=function(){return!1};if(typeof document=="object"){var d=document.all;p.call(d)===p.call(document.all)&&(x=function(g){if((c||!g)&&(typeof g>"u"||typeof g=="object"))try{var u=p.call(g);return(u===l||u===i||u===f||u===m)&&g("")==null}catch{}return!1})}k.exports=e?function(g){if(x(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;try{e(g,null,h)}catch(u){if(u!==E)return!1}return!L(g)&&w(g)}:function(g){if(x(g))return!0;if(!g||typeof g!="function"&&typeof g!="object")return!1;if(v)return w(g);if(L(g))return!1;var u=p.call(g);return u!==t&&u!==r&&!/^\[object HTML/.test(u)?!1:w(g)}},65481:function(k,F,e){var h=Object.prototype.toString,E=Function.prototype.toString,n=/^\s*(?:function)?\*/,L=e(84543)(),w=Object.getPrototypeOf,p=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},m;k.exports=function(r){if(typeof r!="function")return!1;if(n.test(E.call(r)))return!0;if(!L){var l=h.call(r);return l==="[object GeneratorFunction]"}if(!w)return!1;if(typeof m>"u"){var i=p();m=i?w(i):!1}return w(r)===m}},62683:function(k){k.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(k){k.exports=function(e){return e!==e}},15567:function(k,F,e){var h=e(68222),E=e(17045),n=e(64274),L=e(14922),w=e(22442),p=h(L(),Number);E(p,{getPolyfill:L,implementation:n,shim:w}),k.exports=p},14922:function(k,F,e){var h=e(64274);k.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:h}},22442:function(k,F,e){var h=e(17045),E=e(14922);k.exports=function(){var L=E();return h(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},64941:function(k){k.exports=function(F){var e=typeof F;return F!==null&&(e==="object"||e==="function")}},10973:function(k){var F=Object.prototype.toString;k.exports=function(e){var h;return F.call(e)==="[object Object]"&&(h=Object.getPrototypeOf(e),h===null||h===Object.getPrototypeOf({}))}},18546:function(k){k.exports=function(F){for(var e=F.length,h,E=0;E<e;E++)if(h=F.charCodeAt(E),(h<9||h>13)&&h!==32&&h!==133&&h!==160&&h!==5760&&h!==6158&&(h<8192||h>8205)&&h!==8232&&h!==8233&&h!==8239&&h!==8287&&h!==8288&&h!==12288&&h!==65279)return!1;return!0}},89546:function(k){k.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(k,F,e){var h=e(31353),E=e(72077),n=e(6614),L=n("Object.prototype.toString"),w=e(84543)(),p=e(40383),m=typeof globalThis>"u"?e.g:globalThis,t=E(),r=n("Array.prototype.indexOf",!0)||function(x,d){for(var M=0;M<x.length;M+=1)if(x[M]===d)return M;return-1},l=n("String.prototype.slice"),i={},f=Object.getPrototypeOf;w&&p&&f&&h(t,function(c){var x=new m[c];if(Symbol.toStringTag in x){var d=f(x),M=p(d,Symbol.toStringTag);if(!M){var g=f(d);M=p(g,Symbol.toStringTag)}i[c]=M.get}});var v=function(x){var d=!1;return h(i,function(M,g){if(!d)try{d=M.call(x)===g}catch{}}),d};k.exports=function(x){if(!x||typeof x!="object")return!1;if(!w||!(Symbol.toStringTag in x)){var d=l(L(x),8,-1);return r(t,d)>-1}return p?v(x):!1}},44517:function(k){(function(F,e){k.exports=e()})(this,function(){var F,e,h;function E(n,L){if(!F)F=L;else if(!e)e=L;else{var w="var sharedChunk = {}; ("+F+")(sharedChunk); ("+e+")(sharedChunk);",p={};F(p),h=L(p),h.workerUrl=window.URL.createObjectURL(new Blob([w],{type:"text/javascript"}))}}return E(["exports"],function(n){function L(I,z){return z={exports:{}},I(z,z.exports),z.exports}var w="1.10.1",p=m;function m(I,z,Z,oe){this.cx=3*I,this.bx=3*(Z-I)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*z,this.by=3*(oe-z)-this.cy,this.ay=1-this.cy-this.by,this.p1x=I,this.p1y=oe,this.p2x=Z,this.p2y=oe}m.prototype.sampleCurveX=function(I){return((this.ax*I+this.bx)*I+this.cx)*I},m.prototype.sampleCurveY=function(I){return((this.ay*I+this.by)*I+this.cy)*I},m.prototype.sampleCurveDerivativeX=function(I){return(3*this.ax*I+2*this.bx)*I+this.cx},m.prototype.solveCurveX=function(I,z){typeof z>"u"&&(z=1e-6);var Z,oe,ye,Se,De;for(ye=I,De=0;De<8;De++){if(Se=this.sampleCurveX(ye)-I,Math.abs(Se)<z)return ye;var Je=this.sampleCurveDerivativeX(ye);if(Math.abs(Je)<1e-6)break;ye=ye-Se/Je}if(Z=0,oe=1,ye=I,ye<Z)return Z;if(ye>oe)return oe;for(;Z<oe;){if(Se=this.sampleCurveX(ye),Math.abs(Se-I)<z)return ye;I>Se?Z=ye:oe=ye,ye=(oe-Z)*.5+Z}return ye},m.prototype.solve=function(I,z){return this.sampleCurveY(this.solveCurveX(I,z))};var t=r;function r(I,z){this.x=I,this.y=z}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(I){return this.clone()._add(I)},sub:function(I){return this.clone()._sub(I)},multByPoint:function(I){return this.clone()._multByPoint(I)},divByPoint:function(I){return this.clone()._divByPoint(I)},mult:function(I){return this.clone()._mult(I)},div:function(I){return this.clone()._div(I)},rotate:function(I){return this.clone()._rotate(I)},rotateAround:function(I,z){return this.clone()._rotateAround(I,z)},matMult:function(I){return this.clone()._matMult(I)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(I){return this.x===I.x&&this.y===I.y},dist:function(I){return Math.sqrt(this.distSqr(I))},distSqr:function(I){var z=I.x-this.x,Z=I.y-this.y;return z*z+Z*Z},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(I){return Math.atan2(this.y-I.y,this.x-I.x)},angleWith:function(I){return this.angleWithSep(I.x,I.y)},angleWithSep:function(I,z){return Math.atan2(this.x*z-this.y*I,this.x*I+this.y*z)},_matMult:function(I){var z=I[0]*this.x+I[1]*this.y,Z=I[2]*this.x+I[3]*this.y;return this.x=z,this.y=Z,this},_add:function(I){return this.x+=I.x,this.y+=I.y,this},_sub:function(I){return this.x-=I.x,this.y-=I.y,this},_mult:function(I){return this.x*=I,this.y*=I,this},_div:function(I){return this.x/=I,this.y/=I,this},_multByPoint:function(I){return this.x*=I.x,this.y*=I.y,this},_divByPoint:function(I){return this.x/=I.x,this.y/=I.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var I=this.y;return this.y=this.x,this.x=-I,this},_rotate:function(I){var z=Math.cos(I),Z=Math.sin(I),oe=z*this.x-Z*this.y,ye=Z*this.x+z*this.y;return this.x=oe,this.y=ye,this},_rotateAround:function(I,z){var Z=Math.cos(I),oe=Math.sin(I),ye=z.x+Z*(this.x-z.x)-oe*(this.y-z.y),Se=z.y+oe*(this.x-z.x)+Z*(this.y-z.y);return this.x=ye,this.y=Se,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(I){return I instanceof r?I:Array.isArray(I)?new r(I[0],I[1]):I};function l(I,z){if(Array.isArray(I)){if(!Array.isArray(z)||I.length!==z.length)return!1;for(var Z=0;Z<I.length;Z++)if(!l(I[Z],z[Z]))return!1;return!0}if(typeof I=="object"&&I!==null&&z!==null){if(typeof z!="object")return!1;var oe=Object.keys(I);if(oe.length!==Object.keys(z).length)return!1;for(var ye in I)if(!l(I[ye],z[ye]))return!1;return!0}return I===z}function i(I){if(I<=0)return 0;if(I>=1)return 1;var z=I*I,Z=z*I;return 4*(I<.5?Z:3*(I-z)+Z-.75)}function f(I,z,Z,oe){var ye=new p(I,z,Z,oe);return function(Se){return ye.solve(Se)}}var v=f(.25,.1,.25,1);function c(I,z,Z){return Math.min(Z,Math.max(z,I))}function x(I,z,Z){var oe=Z-z,ye=((I-z)%oe+oe)%oe+z;return ye===z?Z:ye}function d(I,z,Z){if(!I.length)return Z(null,[]);var oe=I.length,ye=new Array(I.length),Se=null;I.forEach(function(De,Je){z(De,function(ft,bt){ft&&(Se=ft),ye[Je]=bt,--oe===0&&Z(Se,ye)})})}function M(I){var z=[];for(var Z in I)z.push(I[Z]);return z}function g(I,z){var Z=[];for(var oe in I)oe in z||Z.push(oe);return Z}function u(I){for(var z=[],Z=arguments.length-1;Z-- >0;)z[Z]=arguments[Z+1];for(var oe=0,ye=z;oe<ye.length;oe+=1){var Se=ye[oe];for(var De in Se)I[De]=Se[De]}return I}function y(I,z){for(var Z={},oe=0;oe<z.length;oe++){var ye=z[oe];ye in I&&(Z[ye]=I[ye])}return Z}var C=1;function S(){return C++}function D(){function I(z){return z?(z^Math.random()*16>>z/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,I)}return I()}function T(I){return I?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(I):!1}function P(I,z){I.forEach(function(Z){z[Z]&&(z[Z]=z[Z].bind(z))})}function A(I,z){return I.indexOf(z,I.length-z.length)!==-1}function a(I,z,Z){var oe={};for(var ye in I)oe[ye]=z.call(Z||this,I[ye],ye,I);return oe}function R(I,z,Z){var oe={};for(var ye in I)z.call(Z||this,I[ye],ye,I)&&(oe[ye]=I[ye]);return oe}function b(I){return Array.isArray(I)?I.map(b):typeof I=="object"&&I?a(I,b):I}function N(I,z){for(var Z=0;Z<I.length;Z++)if(z.indexOf(I[Z])>=0)return!0;return!1}var O={};function Y(I){O[I]||(typeof console<"u"&&console.warn(I),O[I]=!0)}function B(I,z,Z){return(Z.y-I.y)*(z.x-I.x)>(z.y-I.y)*(Z.x-I.x)}function W(I){for(var z=0,Z=0,oe=I.length,ye=oe-1,Se=void 0,De=void 0;Z<oe;ye=Z++)Se=I[Z],De=I[ye],z+=(De.x-Se.x)*(Se.y+De.y);return z}function H(I){var z=I[0],Z=I[1],oe=I[2];return Z+=90,Z*=Math.PI/180,oe*=Math.PI/180,{x:z*Math.cos(Z)*Math.sin(oe),y:z*Math.sin(Z)*Math.sin(oe),z:z*Math.cos(oe)}}function U(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function G(I){var z=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,Z={};if(I.replace(z,function(ye,Se,De,Je){var ft=De||Je;return Z[Se]=ft?ft.toLowerCase():!0,""}),Z["max-age"]){var oe=parseInt(Z["max-age"],10);isNaN(oe)?delete Z["max-age"]:Z["max-age"]=oe}return Z}var j=null;function re(I){if(j==null){var z=I.navigator?I.navigator.userAgent:null;j=!!I.safari||!!(z&&(/\b(iPad|iPhone|iPod)\b/.test(z)||z.match("Safari")&&!z.match("Chrome")))}return j}function ae(I){try{var z=self[I];return z.setItem("_mapbox_test_",1),z.removeItem("_mapbox_test_"),!0}catch{return!1}}function ue(I){return self.btoa(encodeURIComponent(I).replace(/%([0-9A-F]{2})/g,function(z,Z){return String.fromCharCode(Number("0x"+Z))}))}function de(I){return decodeURIComponent(self.atob(I).split("").map(function(z){return"%"+("00"+z.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var ee=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),X=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,Q=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,$,ne,fe={now:ee,frame:function(z){var Z=X(z);return{cancel:function(){return Q(Z)}}},getImageData:function(z,Z){Z===void 0&&(Z=0);var oe=self.document.createElement("canvas"),ye=oe.getContext("2d");if(!ye)throw new Error("failed to create canvas 2d context");return oe.width=z.width,oe.height=z.height,ye.drawImage(z,0,0,z.width,z.height),ye.getImageData(-Z,-Z,z.width+2*Z,z.height+2*Z)},resolveURL:function(z){return $||($=self.document.createElement("a")),$.href=z,$.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(ne==null&&(ne=self.matchMedia("(prefers-reduced-motion: reduce)")),ne.matches):!1}},te={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},q={supported:!1,testSupport:Ee},he,se=!1,pe,we=!1;self.document&&(pe=self.document.createElement("img"),pe.onload=function(){he&&Me(he),he=null,we=!0},pe.onerror=function(){se=!0,he=null},pe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Ee(I){se||!pe||(we?Me(I):he=I)}function Me(I){var z=I.createTexture();I.bindTexture(I.TEXTURE_2D,z);try{if(I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,pe),I.isContextLost())return;q.supported=!0}catch{}I.deleteTexture(z),se=!0}var Be="01";function Ne(){for(var I="1",z="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Z="",oe=0;oe<10;oe++)Z+=z[Math.floor(Math.random()*62)];var ye=12*60*60*1e3,Se=[I,Be,Z].join(""),De=Date.now()+ye;return{token:Se,tokenExpiresAt:De}}var Ce=function(z,Z){this._transformRequestFn=z,this._customAccessToken=Z,this._createSkuToken()};Ce.prototype._createSkuToken=function(){var z=Ne();this._skuToken=z.token,this._skuTokenExpiresAt=z.tokenExpiresAt},Ce.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ce.prototype.transformRequest=function(z,Z){return this._transformRequestFn?this._transformRequestFn(z,Z)||{url:z}:{url:z}},Ce.prototype.normalizeStyleURL=function(z,Z){if(!Te(z))return z;var oe=it(z);return oe.path="/styles/v1"+oe.path,this._makeAPIURL(oe,this._customAccessToken||Z)},Ce.prototype.normalizeGlyphsURL=function(z,Z){if(!Te(z))return z;var oe=it(z);return oe.path="/fonts/v1"+oe.path,this._makeAPIURL(oe,this._customAccessToken||Z)},Ce.prototype.normalizeSourceURL=function(z,Z){if(!Te(z))return z;var oe=it(z);return oe.path="/v4/"+oe.authority+".json",oe.params.push("secure"),this._makeAPIURL(oe,this._customAccessToken||Z)},Ce.prototype.normalizeSpriteURL=function(z,Z,oe,ye){var Se=it(z);return Te(z)?(Se.path="/styles/v1"+Se.path+"/sprite"+Z+oe,this._makeAPIURL(Se,this._customAccessToken||ye)):(Se.path+=""+Z+oe,qe(Se))},Ce.prototype.normalizeTileURL=function(z,Z){if(this._isSkuTokenExpired()&&this._createSkuToken(),z&&!Te(z))return z;var oe=it(z),ye=/(\.(png|jpg)\d*)(?=$)/,Se=/^.+\/v4\//,De=fe.devicePixelRatio>=2||Z===512?"@2x":"",Je=q.supported?".webp":"$1";oe.path=oe.path.replace(ye,""+De+Je),oe.path=oe.path.replace(Se,"/"),oe.path="/v4"+oe.path;var ft=this._customAccessToken||Fe(oe.params)||te.ACCESS_TOKEN;return te.REQUIRE_ACCESS_TOKEN&&ft&&this._skuToken&&oe.params.push("sku="+this._skuToken),this._makeAPIURL(oe,ft)},Ce.prototype.canonicalizeTileURL=function(z,Z){var oe="/v4/",ye=/\.[\w]+$/,Se=it(z);if(!Se.path.match(/(^\/v4\/)/)||!Se.path.match(ye))return z;var De="mapbox://tiles/";De+=Se.path.replace(oe,"");var Je=Se.params;return Z&&(Je=Je.filter(function(ft){return!ft.match(/^access_token=/)})),Je.length&&(De+="?"+Je.join("&")),De},Ce.prototype.canonicalizeTileset=function(z,Z){for(var oe=Z?Te(Z):!1,ye=[],Se=0,De=z.tiles||[];Se<De.length;Se+=1){var Je=De[Se];Ve(Je)?ye.push(this.canonicalizeTileURL(Je,oe)):ye.push(Je)}return ye},Ce.prototype._makeAPIURL=function(z,Z){var oe="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ye=it(te.API_URL);if(z.protocol=ye.protocol,z.authority=ye.authority,ye.path!=="/"&&(z.path=""+ye.path+z.path),!te.REQUIRE_ACCESS_TOKEN)return qe(z);if(Z=Z||te.ACCESS_TOKEN,!Z)throw new Error("An API access token is required to use Mapbox GL. "+oe);if(Z[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+oe);return z.params=z.params.filter(function(Se){return Se.indexOf("access_token")===-1}),z.params.push("access_token="+Z),qe(z)};function Te(I){return I.indexOf("mapbox:")===0}var Le=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ve(I){return Le.test(I)}function We(I){return I.indexOf("sku=")>0&&Ve(I)}function Fe(I){for(var z=0,Z=I;z<Z.length;z+=1){var oe=Z[z],ye=oe.match(/^access_token=(.*)$/);if(ye)return ye[1]}return null}var Ge=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function it(I){var z=I.match(Ge);if(!z)throw new Error("Unable to parse URL object");return{protocol:z[1],authority:z[2],path:z[3]||"/",params:z[4]?z[4].split("&"):[]}}function qe(I){var z=I.params.length?"?"+I.params.join("&"):"";return I.protocol+"://"+I.authority+I.path+z}var $e="mapbox.eventData";function tt(I){if(!I)return null;var z=I.split(".");if(!z||z.length!==3)return null;try{var Z=JSON.parse(de(z[1]));return Z}catch{return null}}var vt=function(z){this.type=z,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};vt.prototype.getStorageKey=function(z){var Z=tt(te.ACCESS_TOKEN),oe="";return Z&&Z.u?oe=ue(Z.u):oe=te.ACCESS_TOKEN||"",z?$e+"."+z+":"+oe:$e+":"+oe},vt.prototype.fetchEventData=function(){var z=ae("localStorage"),Z=this.getStorageKey(),oe=this.getStorageKey("uuid");if(z)try{var ye=self.localStorage.getItem(Z);ye&&(this.eventData=JSON.parse(ye));var Se=self.localStorage.getItem(oe);Se&&(this.anonId=Se)}catch{Y("Unable to read from LocalStorage")}},vt.prototype.saveEventData=function(){var z=ae("localStorage"),Z=this.getStorageKey(),oe=this.getStorageKey("uuid");if(z)try{self.localStorage.setItem(oe,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(Z,JSON.stringify(this.eventData))}catch{Y("Unable to write to LocalStorage")}},vt.prototype.processRequests=function(z){},vt.prototype.postEvent=function(z,Z,oe,ye){var Se=this;if(te.EVENTS_URL){var De=it(te.EVENTS_URL);De.params.push("access_token="+(ye||te.ACCESS_TOKEN||""));var Je={event:this.type,created:new Date(z).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:w,skuId:Be,userId:this.anonId},ft=Z?u(Je,Z):Je,bt={url:qe(De),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ft])};this.pendingRequest=Et(bt,function(St){Se.pendingRequest=null,oe(St),Se.saveEventData(),Se.processRequests(ye)})}},vt.prototype.queueRequest=function(z,Z){this.queue.push(z),this.processRequests(Z)};var dt=function(I){function z(){I.call(this,"map.load"),this.success={},this.skuToken=""}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.postMapLoadEvent=function(oe,ye,Se,De){this.skuToken=Se,(te.EVENTS_URL&&De||te.ACCESS_TOKEN&&Array.isArray(oe)&&oe.some(function(Je){return Te(Je)||Ve(Je)}))&&this.queueRequest({id:ye,timestamp:Date.now()},De)},z.prototype.processRequests=function(oe){var ye=this;if(!(this.pendingRequest||this.queue.length===0)){var Se=this.queue.shift(),De=Se.id,Je=Se.timestamp;De&&this.success[De]||(this.anonId||this.fetchEventData(),T(this.anonId)||(this.anonId=D()),this.postEvent(Je,{skuToken:this.skuToken},function(ft){ft||De&&(ye.success[De]=!0)},oe))}},z}(vt),gt=function(I){function z(Z){I.call(this,"appUserTurnstile"),this._customAccessToken=Z}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.postTurnstileEvent=function(oe,ye){te.EVENTS_URL&&te.ACCESS_TOKEN&&Array.isArray(oe)&&oe.some(function(Se){return Te(Se)||Ve(Se)})&&this.queueRequest(Date.now(),ye)},z.prototype.processRequests=function(oe){var ye=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Se=tt(te.ACCESS_TOKEN),De=Se?Se.u:te.ACCESS_TOKEN,Je=De!==this.eventData.tokenU;T(this.anonId)||(this.anonId=D(),Je=!0);var ft=this.queue.shift();if(this.eventData.lastSuccess){var bt=new Date(this.eventData.lastSuccess),St=new Date(ft),Gt=(ft-this.eventData.lastSuccess)/(24*60*60*1e3);Je=Je||Gt>=1||Gt<-1||bt.getDate()!==St.getDate()}else Je=!0;if(!Je)return this.processRequests();this.postEvent(ft,{"enabled.telemetry":!1},function(sr){sr||(ye.eventData.lastSuccess=ft,ye.eventData.tokenU=De)},oe)}},z}(vt),Mt=new gt,Ct=Mt.postTurnstileEvent.bind(Mt),Wt=new dt,Xe=Wt.postMapLoadEvent.bind(Wt),ke="mapbox-tiles",Ie=500,Oe=50,_e=1e3*60*7,Ae;function ce(){self.caches&&!Ae&&(Ae=self.caches.open(ke))}var be;function Re(I,z){if(be===void 0)try{new Response(new ReadableStream),be=!0}catch{be=!1}be?z(I.body):I.blob().then(z)}function Ue(I,z,Z){if(ce(),!!Ae){var oe={status:z.status,statusText:z.statusText,headers:new self.Headers};z.headers.forEach(function(De,Je){return oe.headers.set(Je,De)});var ye=G(z.headers.get("Cache-Control")||"");if(!ye["no-store"]){ye["max-age"]&&oe.headers.set("Expires",new Date(Z+ye["max-age"]*1e3).toUTCString());var Se=new Date(oe.headers.get("Expires")).getTime()-Z;Se<_e||Re(z,function(De){var Je=new self.Response(De,oe);ce(),Ae&&Ae.then(function(ft){return ft.put(nt(I.url),Je)}).catch(function(ft){return Y(ft.message)})})}}}function nt(I){var z=I.indexOf("?");return z<0?I:I.slice(0,z)}function ot(I,z){if(ce(),!Ae)return z(null);var Z=nt(I.url);Ae.then(function(oe){oe.match(Z).then(function(ye){var Se=wt(ye);oe.delete(Z),Se&&oe.put(Z,ye.clone()),z(null,ye,Se)}).catch(z)}).catch(z)}function wt(I){if(!I)return!1;var z=new Date(I.headers.get("Expires")||0),Z=G(I.headers.get("Cache-Control")||"");return z>Date.now()&&!Z["no-cache"]}var _t=1/0;function Ut(I){_t++,_t>Oe&&(I.getActor().send("enforceCacheSizeLimit",Ie),_t=0)}function Vt(I){ce(),Ae&&Ae.then(function(z){z.keys().then(function(Z){for(var oe=0;oe<Z.length-I;oe++)z.delete(Z[oe])})})}function Lt(I){var z=self.caches.delete(ke);I&&z.catch(I).then(function(){return I()})}function Kt(I,z){Ie=I,Oe=z}var ar;function Fr(){return ar==null&&(ar=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),ar}var yt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yt);var Xt=function(I){function z(Z,oe,ye){oe===401&&Ve(ye)&&(Z+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),I.call(this,Z),this.status=oe,this.url=ye,this.name=this.constructor.name,this.message=Z}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},z}(Error),Yt=U()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},br=function(I){return/^file:/.test(I)||/^file:/.test(Yt())&&!/^\w+:/.test(I)};function hr(I,z){var Z=new self.AbortController,oe=new self.Request(I.url,{method:I.method||"GET",body:I.body,credentials:I.credentials,headers:I.headers,referrer:Yt(),signal:Z.signal}),ye=!1,Se=!1,De=We(oe.url);I.type==="json"&&oe.headers.set("Accept","application/json");var Je=function(bt,St,Gt){if(!Se){if(bt&&bt.message!=="SecurityError"&&Y(bt),St&&Gt)return ft(St);var sr=Date.now();self.fetch(oe).then(function(qt){if(qt.ok){var mr=De?qt.clone():null;return ft(qt,mr,sr)}else return z(new Xt(qt.statusText,qt.status,I.url))}).catch(function(qt){qt.code!==20&&z(new Error(qt.message))})}},ft=function(bt,St,Gt){(I.type==="arrayBuffer"?bt.arrayBuffer():I.type==="json"?bt.json():bt.text()).then(function(sr){Se||(St&&Gt&&Ue(oe,St,Gt),ye=!0,z(null,sr,bt.headers.get("Cache-Control"),bt.headers.get("Expires")))}).catch(function(sr){Se||z(new Error(sr.message))})};return De?ot(oe,Je):Je(null,null),{cancel:function(){Se=!0,ye||Z.abort()}}}function ut(I,z){var Z=new self.XMLHttpRequest;Z.open(I.method||"GET",I.url,!0),I.type==="arrayBuffer"&&(Z.responseType="arraybuffer");for(var oe in I.headers)Z.setRequestHeader(oe,I.headers[oe]);return I.type==="json"&&(Z.responseType="text",Z.setRequestHeader("Accept","application/json")),Z.withCredentials=I.credentials==="include",Z.onerror=function(){z(new Error(Z.statusText))},Z.onload=function(){if((Z.status>=200&&Z.status<300||Z.status===0)&&Z.response!==null){var ye=Z.response;if(I.type==="json")try{ye=JSON.parse(Z.response)}catch(Se){return z(Se)}z(null,ye,Z.getResponseHeader("Cache-Control"),Z.getResponseHeader("Expires"))}else z(new Xt(Z.statusText,Z.status,I.url))},Z.send(I.body),{cancel:function(){return Z.abort()}}}var lt=function(I,z){if(!br(I.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return hr(I,z);if(U()&&self.worker&&self.worker.actor){var Z=!0;return self.worker.actor.send("getResource",I,z,void 0,Z)}}return ut(I,z)},xt=function(I,z){return lt(u(I,{type:"json"}),z)},Tt=function(I,z){return lt(u(I,{type:"arrayBuffer"}),z)},Et=function(I,z){return lt(u(I,{method:"POST"}),z)};function At(I){var z=self.document.createElement("a");return z.href=I,z.protocol===self.document.location.protocol&&z.host===self.document.location.host}var Ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ht(I,z,Z,oe){var ye=new self.Image,Se=self.URL;ye.onload=function(){z(null,ye),Se.revokeObjectURL(ye.src)},ye.onerror=function(){return z(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var De=new self.Blob([new Uint8Array(I)],{type:"image/png"});ye.cacheControl=Z,ye.expires=oe,ye.src=I.byteLength?Se.createObjectURL(De):Ft}function $t(I,z){var Z=new self.Blob([new Uint8Array(I)],{type:"image/png"});self.createImageBitmap(Z).then(function(oe){z(null,oe)}).catch(function(oe){z(new Error("Could not load image because of "+oe.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Qt,or,Er=function(){Qt=[],or=0};Er();var Ze=function(I,z){if(q.supported&&(I.headers||(I.headers={}),I.headers.accept="image/webp,*/*"),or>=te.MAX_PARALLEL_IMAGE_REQUESTS){var Z={requestParameters:I,callback:z,cancelled:!1,cancel:function(){this.cancelled=!0}};return Qt.push(Z),Z}or++;var oe=!1,ye=function(){if(!oe)for(oe=!0,or--;Qt.length&&or<te.MAX_PARALLEL_IMAGE_REQUESTS;){var De=Qt.shift(),Je=De.requestParameters,ft=De.callback,bt=De.cancelled;bt||(De.cancel=Ze(Je,ft).cancel)}},Se=Tt(I,function(De,Je,ft,bt){ye(),De?z(De):Je&&(Fr()?$t(Je,z):Ht(Je,z,ft,bt))});return{cancel:function(){Se.cancel(),ye()}}},Ye=function(I,z){var Z=self.document.createElement("video");Z.muted=!0,Z.onloadstart=function(){z(null,Z)};for(var oe=0;oe<I.length;oe++){var ye=self.document.createElement("source");At(I[oe])||(Z.crossOrigin="Anonymous"),ye.src=I[oe],Z.appendChild(ye)}return{cancel:function(){}}};function Dt(I,z,Z){var oe=Z[I]&&Z[I].indexOf(z)!==-1;oe||(Z[I]=Z[I]||[],Z[I].push(z))}function It(I,z,Z){if(Z&&Z[I]){var oe=Z[I].indexOf(z);oe!==-1&&Z[I].splice(oe,1)}}var Zt=function(z,Z){Z===void 0&&(Z={}),u(this,Z),this.type=z},nr=function(I){function z(Z,oe){oe===void 0&&(oe={}),I.call(this,"error",u({error:Z},oe))}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z}(Zt),lr=function(){};lr.prototype.on=function(z,Z){return this._listeners=this._listeners||{},Dt(z,Z,this._listeners),this},lr.prototype.off=function(z,Z){return It(z,Z,this._listeners),It(z,Z,this._oneTimeListeners),this},lr.prototype.once=function(z,Z){return this._oneTimeListeners=this._oneTimeListeners||{},Dt(z,Z,this._oneTimeListeners),this},lr.prototype.fire=function(z,Z){typeof z=="string"&&(z=new Zt(z,Z||{}));var oe=z.type;if(this.listens(oe)){z.target=this;for(var ye=this._listeners&&this._listeners[oe]?this._listeners[oe].slice():[],Se=0,De=ye;Se<De.length;Se+=1){var Je=De[Se];Je.call(this,z)}for(var ft=this._oneTimeListeners&&this._oneTimeListeners[oe]?this._oneTimeListeners[oe].slice():[],bt=0,St=ft;bt<St.length;bt+=1){var Gt=St[bt];It(oe,Gt,this._oneTimeListeners),Gt.call(this,z)}var sr=this._eventedParent;sr&&(u(z,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),sr.fire(z))}else z instanceof nr&&console.error(z.error);return this},lr.prototype.listens=function(z){return this._listeners&&this._listeners[z]&&this._listeners[z].length>0||this._oneTimeListeners&&this._oneTimeListeners[z]&&this._oneTimeListeners[z].length>0||this._eventedParent&&this._eventedParent.listens(z)},lr.prototype.setEventedParent=function(z,Z){return this._eventedParent=z,this._eventedParentData=Z,this};var rr=8,zt={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},fr={"*":{type:"source"}},dr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],pr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},vr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},Vr={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},_r={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},kr={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},pn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Xr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},_n=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Dn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},xr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ar={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Or={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Br={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},qr={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},vn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},fn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Tn={type:"array",value:"*"},Pn={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},jn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},qn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},si={type:"array",value:"*",minimum:1},ti={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},ei={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Mr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],on={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},nn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},gn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Nn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},En={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Cn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Hn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ii={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Pi={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},ji={"*":{type:"string"}},jt={$version:rr,$root:zt,sources:fr,source:dr,source_vector:pr,source_raster:vr,source_raster_dem:Vr,source_geojson:_r,source_video:kr,source_image:pn,layer:Xr,layout:_n,layout_background:Dn,layout_fill:xr,layout_circle:Ar,layout_heatmap:Or,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Br,layout_symbol:qr,layout_raster:vn,layout_hillshade:fn,filter:Tn,filter_operator:Pn,geometry_type:jn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:qn,expression:si,expression_name:ti,light:ei,paint:Mr,paint_fill:on,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:nn,paint_circle:gn,paint_heatmap:Nn,paint_symbol:En,paint_raster:Cn,paint_hillshade:Hn,paint_background:ii,transition:Pi,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:ji},wr=function(z,Z,oe,ye){this.message=(z?z+": ":"")+oe,ye&&(this.identifier=ye),Z!=null&&Z.__line__&&(this.line=Z.__line__)};function an(I){var z=I.key,Z=I.value;return Z?[new wr(z,Z,"constants have been deprecated as of v8")]:[]}function cn(I){for(var z=[],Z=arguments.length-1;Z-- >0;)z[Z]=arguments[Z+1];for(var oe=0,ye=z;oe<ye.length;oe+=1){var Se=ye[oe];for(var De in Se)I[De]=Se[De]}return I}function hn(I){return I instanceof Number||I instanceof String||I instanceof Boolean?I.valueOf():I}function Ln(I){if(Array.isArray(I))return I.map(Ln);if(I instanceof Object&&!(I instanceof Number||I instanceof String||I instanceof Boolean)){var z={};for(var Z in I)z[Z]=Ln(I[Z]);return z}return hn(I)}var wn=function(I){function z(Z,oe){I.call(this,oe),this.message=oe,this.key=Z}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z}(Error),un=function(z,Z){Z===void 0&&(Z=[]),this.parent=z,this.bindings={};for(var oe=0,ye=Z;oe<ye.length;oe+=1){var Se=ye[oe],De=Se[0],Je=Se[1];this.bindings[De]=Je}};un.prototype.concat=function(z){return new un(this,z)},un.prototype.get=function(z){if(this.bindings[z])return this.bindings[z];if(this.parent)return this.parent.get(z);throw new Error(z+" not found in scope.")},un.prototype.has=function(z){return this.bindings[z]?!0:this.parent?this.parent.has(z):!1};var Rr={kind:"null"},Cr={kind:"number"},zr={kind:"string"},dn={kind:"boolean"},In={kind:"color"},Wn={kind:"object"},yn={kind:"value"},zn={kind:"error"},$n={kind:"collator"},li={kind:"formatted"},ai={kind:"resolvedImage"};function oi(I,z){return{kind:"array",itemType:I,N:z}}function di(I){if(I.kind==="array"){var z=di(I.itemType);return typeof I.N=="number"?"array<"+z+", "+I.N+">":I.itemType.kind==="value"?"array":"array<"+z+">"}else return I.kind}var to=[Rr,Cr,zr,dn,In,li,Wn,oi(yn),ai];function bo(I,z){if(z.kind==="error")return null;if(I.kind==="array"){if(z.kind==="array"&&(z.N===0&&z.itemType.kind==="value"||!bo(I.itemType,z.itemType))&&(typeof I.N!="number"||I.N===z.N))return null}else{if(I.kind===z.kind)return null;if(I.kind==="value")for(var Z=0,oe=to;Z<oe.length;Z+=1){var ye=oe[Z];if(!bo(ye,z))return null}}return"Expected "+di(I)+" but found "+di(z)+" instead."}function So(I,z){return z.some(function(Z){return Z.kind===I.kind})}function ko(I,z){return z.some(function(Z){return Z==="null"?I===null:Z==="array"?Array.isArray(I):Z==="object"?I&&!Array.isArray(I)&&typeof I=="object":Z===typeof I})}var Eo=L(function(I,z){var Z={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function oe(bt){return bt=Math.round(bt),bt<0?0:bt>255?255:bt}function ye(bt){return bt<0?0:bt>1?1:bt}function Se(bt){return bt[bt.length-1]==="%"?oe(parseFloat(bt)/100*255):oe(parseInt(bt))}function De(bt){return bt[bt.length-1]==="%"?ye(parseFloat(bt)/100):ye(parseFloat(bt))}function Je(bt,St,Gt){return Gt<0?Gt+=1:Gt>1&&(Gt-=1),Gt*6<1?bt+(St-bt)*Gt*6:Gt*2<1?St:Gt*3<2?bt+(St-bt)*(2/3-Gt)*6:bt}function ft(bt){var St=bt.replace(/ /g,"").toLowerCase();if(St in Z)return Z[St].slice();if(St[0]==="#"){if(St.length===4){var Gt=parseInt(St.substr(1),16);return Gt>=0&&Gt<=4095?[(Gt&3840)>>4|(Gt&3840)>>8,Gt&240|(Gt&240)>>4,Gt&15|(Gt&15)<<4,1]:null}else if(St.length===7){var Gt=parseInt(St.substr(1),16);return Gt>=0&&Gt<=16777215?[(Gt&16711680)>>16,(Gt&65280)>>8,Gt&255,1]:null}return null}var sr=St.indexOf("("),qt=St.indexOf(")");if(sr!==-1&&qt+1===St.length){var mr=St.substr(0,sr),Nr=St.substr(sr+1,qt-(sr+1)).split(","),rn=1;switch(mr){case"rgba":if(Nr.length!==4)return null;rn=De(Nr.pop());case"rgb":return Nr.length!==3?null:[Se(Nr[0]),Se(Nr[1]),Se(Nr[2]),rn];case"hsla":if(Nr.length!==4)return null;rn=De(Nr.pop());case"hsl":if(Nr.length!==3)return null;var $r=(parseFloat(Nr[0])%360+360)%360/360,Mn=De(Nr[1]),xn=De(Nr[2]),An=xn<=.5?xn*(Mn+1):xn+Mn-xn*Mn,kn=xn*2-An;return[oe(Je(kn,An,$r+1/3)*255),oe(Je(kn,An,$r)*255),oe(Je(kn,An,$r-1/3)*255),rn];default:return null}}return null}try{z.parseCSSColor=ft}catch{}}),_f=Eo.parseCSSColor,ta=function(z,Z,oe,ye){ye===void 0&&(ye=1),this.r=z,this.g=Z,this.b=oe,this.a=ye};ta.parse=function(z){if(z){if(z instanceof ta)return z;if(typeof z=="string"){var Z=_f(z);if(Z)return new ta(Z[0]/255*Z[3],Z[1]/255*Z[3],Z[2]/255*Z[3],Z[3])}}},ta.prototype.toString=function(){var z=this.toArray(),Z=z[0],oe=z[1],ye=z[2],Se=z[3];return"rgba("+Math.round(Z)+","+Math.round(oe)+","+Math.round(ye)+","+Se+")"},ta.prototype.toArray=function(){var z=this,Z=z.r,oe=z.g,ye=z.b,Se=z.a;return Se===0?[0,0,0,0]:[Z*255/Se,oe*255/Se,ye*255/Se,Se]},ta.black=new ta(0,0,0,1),ta.white=new ta(1,1,1,1),ta.transparent=new ta(0,0,0,0),ta.red=new ta(1,0,0,1);var wu=function(z,Z,oe){z?this.sensitivity=Z?"variant":"case":this.sensitivity=Z?"accent":"base",this.locale=oe,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};wu.prototype.compare=function(z,Z){return this.collator.compare(z,Z)},wu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Xl=function(z,Z,oe,ye,Se){this.text=z,this.image=Z,this.scale=oe,this.fontStack=ye,this.textColor=Se},ro=function(z){this.sections=z};ro.fromString=function(z){return new ro([new Xl(z,null,null,null,null)])},ro.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(z){return z.text.length!==0||z.image&&z.image.name.length!==0})},ro.factory=function(z){return z instanceof ro?z:ro.fromString(z)},ro.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(z){return z.text}).join("")},ro.prototype.serialize=function(){for(var z=["format"],Z=0,oe=this.sections;Z<oe.length;Z+=1){var ye=oe[Z];if(ye.image){z.push(["image",ye.image.name]);continue}z.push(ye.text);var Se={};ye.fontStack&&(Se["text-font"]=["literal",ye.fontStack.split(",")]),ye.scale&&(Se["font-scale"]=ye.scale),ye.textColor&&(Se["text-color"]=["rgba"].concat(ye.textColor.toArray())),z.push(Se)}return z};var Io=function(z){this.name=z.name,this.available=z.available};Io.prototype.toString=function(){return this.name},Io.fromString=function(z){return z?new Io({name:z,available:!1}):null},Io.prototype.serialize=function(){return["image",this.name]};function Sc(I,z,Z,oe){if(!(typeof I=="number"&&I>=0&&I<=255&&typeof z=="number"&&z>=0&&z<=255&&typeof Z=="number"&&Z>=0&&Z<=255)){var ye=typeof oe=="number"?[I,z,Z,oe]:[I,z,Z];return"Invalid rgba value ["+ye.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof oe>"u"||typeof oe=="number"&&oe>=0&&oe<=1?null:"Invalid rgba value ["+[I,z,Z,oe].join(", ")+"]: 'a' must be between 0 and 1."}function Tu(I){if(I===null)return!0;if(typeof I=="string")return!0;if(typeof I=="boolean")return!0;if(typeof I=="number")return!0;if(I instanceof ta)return!0;if(I instanceof wu)return!0;if(I instanceof ro)return!0;if(I instanceof Io)return!0;if(Array.isArray(I)){for(var z=0,Z=I;z<Z.length;z+=1){var oe=Z[z];if(!Tu(oe))return!1}return!0}else if(typeof I=="object"){for(var ye in I)if(!Tu(I[ye]))return!1;return!0}else return!1}function ka(I){if(I===null)return Rr;if(typeof I=="string")return zr;if(typeof I=="boolean")return dn;if(typeof I=="number")return Cr;if(I instanceof ta)return In;if(I instanceof wu)return $n;if(I instanceof ro)return li;if(I instanceof Io)return ai;if(Array.isArray(I)){for(var z=I.length,Z,oe=0,ye=I;oe<ye.length;oe+=1){var Se=ye[oe],De=ka(Se);if(!Z)Z=De;else{if(Z===De)continue;Z=yn;break}}return oi(Z||yn,z)}else return Wn}function Au(I){var z=typeof I;return I===null?"":z==="string"||z==="number"||z==="boolean"?String(I):I instanceof ta||I instanceof ro||I instanceof Io?I.toString():JSON.stringify(I)}var Vo=function(z,Z){this.type=z,this.value=Z};Vo.parse=function(z,Z){if(z.length!==2)return Z.error("'literal' expression requires exactly one argument, but found "+(z.length-1)+" instead.");if(!Tu(z[1]))return Z.error("invalid value");var oe=z[1],ye=ka(oe),Se=Z.expectedType;return ye.kind==="array"&&ye.N===0&&Se&&Se.kind==="array"&&(typeof Se.N!="number"||Se.N===0)&&(ye=Se),new Vo(ye,oe)},Vo.prototype.evaluate=function(){return this.value},Vo.prototype.eachChild=function(){},Vo.prototype.outputDefined=function(){return!0},Vo.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ta?["rgba"].concat(this.value.toArray()):this.value instanceof ro?this.value.serialize():this.value};var Ja=function(z){this.name="ExpressionEvaluationError",this.message=z};Ja.prototype.toJSON=function(){return this.message};var Wo={string:zr,number:Cr,boolean:dn,object:Wn},wo=function(z,Z){this.type=z,this.args=Z};wo.parse=function(z,Z){if(z.length<2)return Z.error("Expected at least one argument.");var oe=1,ye,Se=z[0];if(Se==="array"){var De;if(z.length>2){var Je=z[1];if(typeof Je!="string"||!(Je in Wo)||Je==="object")return Z.error('The item type argument of "array" must be one of string, number, boolean',1);De=Wo[Je],oe++}else De=yn;var ft;if(z.length>3){if(z[2]!==null&&(typeof z[2]!="number"||z[2]<0||z[2]!==Math.floor(z[2])))return Z.error('The length argument to "array" must be a positive integer literal',2);ft=z[2],oe++}ye=oi(De,ft)}else ye=Wo[Se];for(var bt=[];oe<z.length;oe++){var St=Z.parse(z[oe],oe,yn);if(!St)return null;bt.push(St)}return new wo(ye,bt)},wo.prototype.evaluate=function(z){for(var Z=0;Z<this.args.length;Z++){var oe=this.args[Z].evaluate(z),ye=bo(this.type,ka(oe));if(ye){if(Z===this.args.length-1)throw new Ja("Expected value to be of type "+di(this.type)+", but found "+di(ka(oe))+" instead.")}else return oe}return null},wo.prototype.eachChild=function(z){this.args.forEach(z)},wo.prototype.outputDefined=function(){return this.args.every(function(z){return z.outputDefined()})},wo.prototype.serialize=function(){var z=this.type,Z=[z.kind];if(z.kind==="array"){var oe=z.itemType;if(oe.kind==="string"||oe.kind==="number"||oe.kind==="boolean"){Z.push(oe.kind);var ye=z.N;(typeof ye=="number"||this.args.length>1)&&Z.push(ye)}}return Z.concat(this.args.map(function(Se){return Se.serialize()}))};var $o=function(z){this.type=li,this.sections=z};$o.parse=function(z,Z){if(z.length<2)return Z.error("Expected at least one argument.");var oe=z[1];if(!Array.isArray(oe)&&typeof oe=="object")return Z.error("First argument must be an image or text section.");for(var ye=[],Se=!1,De=1;De<=z.length-1;++De){var Je=z[De];if(Se&&typeof Je=="object"&&!Array.isArray(Je)){Se=!1;var ft=null;if(Je["font-scale"]&&(ft=Z.parse(Je["font-scale"],1,Cr),!ft))return null;var bt=null;if(Je["text-font"]&&(bt=Z.parse(Je["text-font"],1,oi(zr)),!bt))return null;var St=null;if(Je["text-color"]&&(St=Z.parse(Je["text-color"],1,In),!St))return null;var Gt=ye[ye.length-1];Gt.scale=ft,Gt.font=bt,Gt.textColor=St}else{var sr=Z.parse(z[De],1,yn);if(!sr)return null;var qt=sr.type.kind;if(qt!=="string"&&qt!=="value"&&qt!=="null"&&qt!=="resolvedImage")return Z.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,ye.push({content:sr,scale:null,font:null,textColor:null})}}return new $o(ye)},$o.prototype.evaluate=function(z){var Z=function(oe){var ye=oe.content.evaluate(z);return ka(ye)===ai?new Xl("",ye,null,null,null):new Xl(Au(ye),null,oe.scale?oe.scale.evaluate(z):null,oe.font?oe.font.evaluate(z).join(","):null,oe.textColor?oe.textColor.evaluate(z):null)};return new ro(this.sections.map(Z))},$o.prototype.eachChild=function(z){for(var Z=0,oe=this.sections;Z<oe.length;Z+=1){var ye=oe[Z];z(ye.content),ye.scale&&z(ye.scale),ye.font&&z(ye.font),ye.textColor&&z(ye.textColor)}},$o.prototype.outputDefined=function(){return!1},$o.prototype.serialize=function(){for(var z=["format"],Z=0,oe=this.sections;Z<oe.length;Z+=1){var ye=oe[Z];z.push(ye.content.serialize());var Se={};ye.scale&&(Se["font-scale"]=ye.scale.serialize()),ye.font&&(Se["text-font"]=ye.font.serialize()),ye.textColor&&(Se["text-color"]=ye.textColor.serialize()),z.push(Se)}return z};var Ts=function(z){this.type=ai,this.input=z};Ts.parse=function(z,Z){if(z.length!==2)return Z.error("Expected two arguments.");var oe=Z.parse(z[1],1,zr);return oe?new Ts(oe):Z.error("No image name provided.")},Ts.prototype.evaluate=function(z){var Z=this.input.evaluate(z),oe=Io.fromString(Z);return oe&&z.availableImages&&(oe.available=z.availableImages.indexOf(Z)>-1),oe},Ts.prototype.eachChild=function(z){z(this.input)},Ts.prototype.outputDefined=function(){return!1},Ts.prototype.serialize=function(){return["image",this.input.serialize()]};var Ns={"to-boolean":dn,"to-color":In,"to-number":Cr,"to-string":zr},so=function(z,Z){this.type=z,this.args=Z};so.parse=function(z,Z){if(z.length<2)return Z.error("Expected at least one argument.");var oe=z[0];if((oe==="to-boolean"||oe==="to-string")&&z.length!==2)return Z.error("Expected one argument.");for(var ye=Ns[oe],Se=[],De=1;De<z.length;De++){var Je=Z.parse(z[De],De,yn);if(!Je)return null;Se.push(Je)}return new so(ye,Se)},so.prototype.evaluate=function(z){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(z));if(this.type.kind==="color"){for(var Z,oe,ye=0,Se=this.args;ye<Se.length;ye+=1){var De=Se[ye];if(Z=De.evaluate(z),oe=null,Z instanceof ta)return Z;if(typeof Z=="string"){var Je=z.parseColor(Z);if(Je)return Je}else if(Array.isArray(Z)&&(Z.length<3||Z.length>4?oe="Invalid rbga value "+JSON.stringify(Z)+": expected an array containing either three or four numeric values.":oe=Sc(Z[0],Z[1],Z[2],Z[3]),!oe))return new ta(Z[0]/255,Z[1]/255,Z[2]/255,Z[3])}throw new Ja(oe||"Could not parse color from value '"+(typeof Z=="string"?Z:String(JSON.stringify(Z)))+"'")}else if(this.type.kind==="number"){for(var ft=null,bt=0,St=this.args;bt<St.length;bt+=1){var Gt=St[bt];if(ft=Gt.evaluate(z),ft===null)return 0;var sr=Number(ft);if(!isNaN(sr))return sr}throw new Ja("Could not convert "+JSON.stringify(ft)+" to number.")}else return this.type.kind==="formatted"?ro.fromString(Au(this.args[0].evaluate(z))):this.type.kind==="resolvedImage"?Io.fromString(Au(this.args[0].evaluate(z))):Au(this.args[0].evaluate(z))},so.prototype.eachChild=function(z){this.args.forEach(z)},so.prototype.outputDefined=function(){return this.args.every(function(z){return z.outputDefined()})},so.prototype.serialize=function(){if(this.type.kind==="formatted")return new $o([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Ts(this.args[0]).serialize();var z=["to-"+this.type.kind];return this.eachChild(function(Z){z.push(Z.serialize())}),z};var Ec=["Unknown","Point","LineString","Polygon"],As=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};As.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},As.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Ec[this.feature.type]:this.feature.type:null},As.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},As.prototype.canonicalID=function(){return this.canonical},As.prototype.properties=function(){return this.feature&&this.feature.properties||{}},As.prototype.parseColor=function(z){var Z=this._parseColorCache[z];return Z||(Z=this._parseColorCache[z]=ta.parse(z)),Z};var lo=function(z,Z,oe,ye){this.name=z,this.type=Z,this._evaluate=oe,this.args=ye};lo.prototype.evaluate=function(z){return this._evaluate(z,this.args)},lo.prototype.eachChild=function(z){this.args.forEach(z)},lo.prototype.outputDefined=function(){return!1},lo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(z){return z.serialize()}))},lo.parse=function(z,Z){var oe,ye=z[0],Se=lo.definitions[ye];if(!Se)return Z.error('Unknown expression "'+ye+'". If you wanted a literal array, use ["literal", [...]].',0);for(var De=Array.isArray(Se)?Se[0]:Se.type,Je=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,ft=Je.filter(function(Ti){var Ai=Ti[0];return!Array.isArray(Ai)||Ai.length===z.length-1}),bt=null,St=0,Gt=ft;St<Gt.length;St+=1){var sr=Gt[St],qt=sr[0],mr=sr[1];bt=new Vs(Z.registry,Z.path,null,Z.scope);for(var Nr=[],rn=!1,$r=1;$r<z.length;$r++){var Mn=z[$r],xn=Array.isArray(qt)?qt[$r-1]:qt.type,An=bt.parse(Mn,1+Nr.length,xn);if(!An){rn=!0;break}Nr.push(An)}if(!rn){if(Array.isArray(qt)&&qt.length!==Nr.length){bt.error("Expected "+qt.length+" arguments, but found "+Nr.length+" instead.");continue}for(var kn=0;kn<Nr.length;kn++){var Un=Array.isArray(qt)?qt[kn]:qt.type,Qn=Nr[kn];bt.concat(kn+1).checkSubtype(Un,Qn.type)}if(bt.errors.length===0)return new lo(ye,De,mr,Nr)}}if(ft.length===1)(oe=Z.errors).push.apply(oe,bt.errors);else{for(var Jn=ft.length?ft:Je,Si=Jn.map(function(Ti){var Ai=Ti[0];return kf(Ai)}).join(" | "),ci=[],yi=1;yi<z.length;yi++){var Ni=Z.parse(z[yi],1+ci.length);if(!Ni)return null;ci.push(di(Ni.type))}Z.error("Expected arguments of type "+Si+", but found ("+ci.join(", ")+") instead.")}return null},lo.register=function(z,Z){lo.definitions=Z;for(var oe in Z)z[oe]=lo};function kf(I){return Array.isArray(I)?"("+I.map(di).join(", ")+")":"("+di(I.type)+"...)"}var Us=function(z,Z,oe){this.type=$n,this.locale=oe,this.caseSensitive=z,this.diacriticSensitive=Z};Us.parse=function(z,Z){if(z.length!==2)return Z.error("Expected one argument.");var oe=z[1];if(typeof oe!="object"||Array.isArray(oe))return Z.error("Collator options argument must be an object.");var ye=Z.parse(oe["case-sensitive"]===void 0?!1:oe["case-sensitive"],1,dn);if(!ye)return null;var Se=Z.parse(oe["diacritic-sensitive"]===void 0?!1:oe["diacritic-sensitive"],1,dn);if(!Se)return null;var De=null;return oe.locale&&(De=Z.parse(oe.locale,1,zr),!De)?null:new Us(ye,Se,De)},Us.prototype.evaluate=function(z){return new wu(this.caseSensitive.evaluate(z),this.diacriticSensitive.evaluate(z),this.locale?this.locale.evaluate(z):null)},Us.prototype.eachChild=function(z){z(this.caseSensitive),z(this.diacriticSensitive),this.locale&&z(this.locale)},Us.prototype.outputDefined=function(){return!1},Us.prototype.serialize=function(){var z={};return z["case-sensitive"]=this.caseSensitive.serialize(),z["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(z.locale=this.locale.serialize()),["collator",z]};var Ms=8192;function If(I,z){I[0]=Math.min(I[0],z[0]),I[1]=Math.min(I[1],z[1]),I[2]=Math.max(I[2],z[0]),I[3]=Math.max(I[3],z[1])}function Ff(I){return(180+I)/360}function Oh(I){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+I*Math.PI/360)))/360}function Mu(I,z){return!(I[0]<=z[0]||I[2]>=z[2]||I[1]<=z[1]||I[3]>=z[3])}function Bh(I,z){var Z=Ff(I[0]),oe=Oh(I[1]),ye=Math.pow(2,z.z);return[Math.round(Z*ye*Ms),Math.round(oe*ye*Ms)]}function Nh(I,z,Z){var oe=I[0]-z[0],ye=I[1]-z[1],Se=I[0]-Z[0],De=I[1]-Z[1];return oe*De-Se*ye===0&&oe*Se<=0&&ye*De<=0}function Uh(I,z,Z){return z[1]>I[1]!=Z[1]>I[1]&&I[0]<(Z[0]-z[0])*(I[1]-z[1])/(Z[1]-z[1])+z[0]}function zf(I,z){for(var Z=!1,oe=0,ye=z.length;oe<ye;oe++)for(var Se=z[oe],De=0,Je=Se.length;De<Je-1;De++){if(Nh(I,Se[De],Se[De+1]))return!1;Uh(I,Se[De],Se[De+1])&&(Z=!Z)}return Z}function Hh(I,z){for(var Z=0;Z<z.length;Z++)if(zf(I,z[Z]))return!0;return!1}function Vh(I,z){return I[0]*z[1]-I[1]*z[0]}function Cc(I,z,Z,oe){var ye=I[0]-Z[0],Se=I[1]-Z[1],De=z[0]-Z[0],Je=z[1]-Z[1],ft=oe[0]-Z[0],bt=oe[1]-Z[1],St=ye*bt-ft*Se,Gt=De*bt-ft*Je;return St>0&&Gt<0||St<0&&Gt>0}function Wh(I,z,Z,oe){var ye=[z[0]-I[0],z[1]-I[1]],Se=[oe[0]-Z[0],oe[1]-Z[1]];return Vh(Se,ye)===0?!1:!!(Cc(I,z,Z,oe)&&Cc(Z,oe,I,z))}function Gh(I,z,Z){for(var oe=0,ye=Z;oe<ye.length;oe+=1)for(var Se=ye[oe],De=0;De<Se.length-1;++De)if(Wh(I,z,Se[De],Se[De+1]))return!0;return!1}function Of(I,z){for(var Z=0;Z<I.length;++Z)if(!zf(I[Z],z))return!1;for(var oe=0;oe<I.length-1;++oe)if(Gh(I[oe],I[oe+1],z))return!1;return!0}function Ml(I,z){for(var Z=0;Z<z.length;Z++)if(Of(I,z[Z]))return!0;return!1}function Sl(I,z,Z){for(var oe=[],ye=0;ye<I.length;ye++){for(var Se=[],De=0;De<I[ye].length;De++){var Je=Bh(I[ye][De],Z);If(z,Je),Se.push(Je)}oe.push(Se)}return oe}function Kl(I,z,Z){for(var oe=[],ye=0;ye<I.length;ye++){var Se=Sl(I[ye],z,Z);oe.push(Se)}return oe}function qu(I,z,Z,oe){if(I[0]<Z[0]||I[0]>Z[2]){var ye=oe*.5,Se=I[0]-Z[0]>ye?-oe:Z[0]-I[0]>ye?oe:0;Se===0&&(Se=I[0]-Z[2]>ye?-oe:Z[2]-I[0]>ye?oe:0),I[0]+=Se}If(z,I)}function Yh(I){I[0]=I[1]=1/0,I[2]=I[3]=-1/0}function Hs(I,z,Z,oe){for(var ye=Math.pow(2,oe.z)*Ms,Se=[oe.x*Ms,oe.y*Ms],De=[],Je=0,ft=I;Je<ft.length;Je+=1)for(var bt=ft[Je],St=0,Gt=bt;St<Gt.length;St+=1){var sr=Gt[St],qt=[sr.x+Se[0],sr.y+Se[1]];qu(qt,z,Z,ye),De.push(qt)}return De}function Lc(I,z,Z,oe){for(var ye=Math.pow(2,oe.z)*Ms,Se=[oe.x*Ms,oe.y*Ms],De=[],Je=0,ft=I;Je<ft.length;Je+=1){for(var bt=ft[Je],St=[],Gt=0,sr=bt;Gt<sr.length;Gt+=1){var qt=sr[Gt],mr=[qt.x+Se[0],qt.y+Se[1]];If(z,mr),St.push(mr)}De.push(St)}if(z[2]-z[0]<=ye/2){Yh(z);for(var Nr=0,rn=De;Nr<rn.length;Nr+=1)for(var $r=rn[Nr],Mn=0,xn=$r;Mn<xn.length;Mn+=1){var An=xn[Mn];qu(An,z,Z,ye)}}return De}function Bf(I,z){var Z=[1/0,1/0,-1/0,-1/0],oe=[1/0,1/0,-1/0,-1/0],ye=I.canonicalID();if(z.type==="Polygon"){var Se=Sl(z.coordinates,oe,ye),De=Hs(I.geometry(),Z,oe,ye);if(!Mu(Z,oe))return!1;for(var Je=0,ft=De;Je<ft.length;Je+=1){var bt=ft[Je];if(!zf(bt,Se))return!1}}if(z.type==="MultiPolygon"){var St=Kl(z.coordinates,oe,ye),Gt=Hs(I.geometry(),Z,oe,ye);if(!Mu(Z,oe))return!1;for(var sr=0,qt=Gt;sr<qt.length;sr+=1){var mr=qt[sr];if(!Hh(mr,St))return!1}}return!0}function Zh(I,z){var Z=[1/0,1/0,-1/0,-1/0],oe=[1/0,1/0,-1/0,-1/0],ye=I.canonicalID();if(z.type==="Polygon"){var Se=Sl(z.coordinates,oe,ye),De=Lc(I.geometry(),Z,oe,ye);if(!Mu(Z,oe))return!1;for(var Je=0,ft=De;Je<ft.length;Je+=1){var bt=ft[Je];if(!Of(bt,Se))return!1}}if(z.type==="MultiPolygon"){var St=Kl(z.coordinates,oe,ye),Gt=Lc(I.geometry(),Z,oe,ye);if(!Mu(Z,oe))return!1;for(var sr=0,qt=Gt;sr<qt.length;sr+=1){var mr=qt[sr];if(!Ml(mr,St))return!1}}return!0}var qo=function(z,Z){this.type=dn,this.geojson=z,this.geometries=Z};qo.parse=function(z,Z){if(z.length!==2)return Z.error("'within' expression requires exactly one argument, but found "+(z.length-1)+" instead.");if(Tu(z[1])){var oe=z[1];if(oe.type==="FeatureCollection")for(var ye=0;ye<oe.features.length;++ye){var Se=oe.features[ye].geometry.type;if(Se==="Polygon"||Se==="MultiPolygon")return new qo(oe,oe.features[ye].geometry)}else if(oe.type==="Feature"){var De=oe.geometry.type;if(De==="Polygon"||De==="MultiPolygon")return new qo(oe,oe.geometry)}else if(oe.type==="Polygon"||oe.type==="MultiPolygon")return new qo(oe,oe)}return Z.error("'within' expression requires valid geojson object that contains polygon geometry type.")},qo.prototype.evaluate=function(z){if(z.geometry()!=null&&z.canonicalID()!=null){if(z.geometryType()==="Point")return Bf(z,this.geometries);if(z.geometryType()==="LineString")return Zh(z,this.geometries)}return!1},qo.prototype.eachChild=function(){},qo.prototype.outputDefined=function(){return!0},qo.prototype.serialize=function(){return["within",this.geojson]};function El(I){if(I instanceof lo){if(I.name==="get"&&I.args.length===1)return!1;if(I.name==="feature-state")return!1;if(I.name==="has"&&I.args.length===1)return!1;if(I.name==="properties"||I.name==="geometry-type"||I.name==="id")return!1;if(/^filter-/.test(I.name))return!1}if(I instanceof qo)return!1;var z=!0;return I.eachChild(function(Z){z&&!El(Z)&&(z=!1)}),z}function Su(I){if(I instanceof lo&&I.name==="feature-state")return!1;var z=!0;return I.eachChild(function(Z){z&&!Su(Z)&&(z=!1)}),z}function Jl(I,z){if(I instanceof lo&&z.indexOf(I.name)>=0)return!1;var Z=!0;return I.eachChild(function(oe){Z&&!Jl(oe,z)&&(Z=!1)}),Z}var Ss=function(z,Z){this.type=Z.type,this.name=z,this.boundExpression=Z};Ss.parse=function(z,Z){if(z.length!==2||typeof z[1]!="string")return Z.error("'var' expression requires exactly one string literal argument.");var oe=z[1];return Z.scope.has(oe)?new Ss(oe,Z.scope.get(oe)):Z.error('Unknown variable "'+oe+'". Make sure "'+oe+'" has been bound in an enclosing "let" expression before using it.',1)},Ss.prototype.evaluate=function(z){return this.boundExpression.evaluate(z)},Ss.prototype.eachChild=function(){},Ss.prototype.outputDefined=function(){return!1},Ss.prototype.serialize=function(){return["var",this.name]};var Vs=function(z,Z,oe,ye,Se){Z===void 0&&(Z=[]),ye===void 0&&(ye=new un),Se===void 0&&(Se=[]),this.registry=z,this.path=Z,this.key=Z.map(function(De){return"["+De+"]"}).join(""),this.scope=ye,this.errors=Se,this.expectedType=oe};Vs.prototype.parse=function(z,Z,oe,ye,Se){return Se===void 0&&(Se={}),Z?this.concat(Z,oe,ye)._parse(z,Se):this._parse(z,Se)},Vs.prototype._parse=function(z,Z){(z===null||typeof z=="string"||typeof z=="boolean"||typeof z=="number")&&(z=["literal",z]);function oe(St,Gt,sr){return sr==="assert"?new wo(Gt,[St]):sr==="coerce"?new so(Gt,[St]):St}if(Array.isArray(z)){if(z.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ye=z[0];if(typeof ye!="string")return this.error("Expression name must be a string, but found "+typeof ye+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[ye];if(Se){var De=Se.parse(z,this);if(!De)return null;if(this.expectedType){var Je=this.expectedType,ft=De.type;if((Je.kind==="string"||Je.kind==="number"||Je.kind==="boolean"||Je.kind==="object"||Je.kind==="array")&&ft.kind==="value")De=oe(De,Je,Z.typeAnnotation||"assert");else if((Je.kind==="color"||Je.kind==="formatted"||Je.kind==="resolvedImage")&&(ft.kind==="value"||ft.kind==="string"))De=oe(De,Je,Z.typeAnnotation||"coerce");else if(this.checkSubtype(Je,ft))return null}if(!(De instanceof Vo)&&De.type.kind!=="resolvedImage"&&Nf(De)){var bt=new As;try{De=new Vo(De.type,De.evaluate(bt))}catch(St){return this.error(St.message),null}}return De}return this.error('Unknown expression "'+ye+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof z>"u"?this.error("'undefined' value invalid. Use null instead."):typeof z=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof z+" instead.")},Vs.prototype.concat=function(z,Z,oe){var ye=typeof z=="number"?this.path.concat(z):this.path,Se=oe?this.scope.concat(oe):this.scope;return new Vs(this.registry,ye,Z||null,Se,this.errors)},Vs.prototype.error=function(z){for(var Z=[],oe=arguments.length-1;oe-- >0;)Z[oe]=arguments[oe+1];var ye=""+this.key+Z.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new wn(ye,z))},Vs.prototype.checkSubtype=function(z,Z){var oe=bo(z,Z);return oe&&this.error(oe),oe};function Nf(I){if(I instanceof Ss)return Nf(I.boundExpression);if(I instanceof lo&&I.name==="error")return!1;if(I instanceof Us)return!1;if(I instanceof qo)return!1;var z=I instanceof so||I instanceof wo,Z=!0;return I.eachChild(function(oe){z?Z=Z&&Nf(oe):Z=Z&&oe instanceof Vo}),Z?El(I)&&Jl(I,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Ql(I,z){for(var Z=I.length-1,oe=0,ye=Z,Se=0,De,Je;oe<=ye;)if(Se=Math.floor((oe+ye)/2),De=I[Se],Je=I[Se+1],De<=z){if(Se===Z||z<Je)return Se;oe=Se+1}else if(De>z)ye=Se-1;else throw new Ja("Input is not a number.");return 0}var rl=function(z,Z,oe){this.type=z,this.input=Z,this.labels=[],this.outputs=[];for(var ye=0,Se=oe;ye<Se.length;ye+=1){var De=Se[ye],Je=De[0],ft=De[1];this.labels.push(Je),this.outputs.push(ft)}};rl.parse=function(z,Z){if(z.length-1<4)return Z.error("Expected at least 4 arguments, but found only "+(z.length-1)+".");if((z.length-1)%2!==0)return Z.error("Expected an even number of arguments.");var oe=Z.parse(z[1],1,Cr);if(!oe)return null;var ye=[],Se=null;Z.expectedType&&Z.expectedType.kind!=="value"&&(Se=Z.expectedType);for(var De=1;De<z.length;De+=2){var Je=De===1?-1/0:z[De],ft=z[De+1],bt=De,St=De+1;if(typeof Je!="number")return Z.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',bt);if(ye.length&&ye[ye.length-1][0]>=Je)return Z.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',bt);var Gt=Z.parse(ft,St,Se);if(!Gt)return null;Se=Se||Gt.type,ye.push([Je,Gt])}return new rl(Se,oe,ye)},rl.prototype.evaluate=function(z){var Z=this.labels,oe=this.outputs;if(Z.length===1)return oe[0].evaluate(z);var ye=this.input.evaluate(z);if(ye<=Z[0])return oe[0].evaluate(z);var Se=Z.length;if(ye>=Z[Se-1])return oe[Se-1].evaluate(z);var De=Ql(Z,ye);return oe[De].evaluate(z)},rl.prototype.eachChild=function(z){z(this.input);for(var Z=0,oe=this.outputs;Z<oe.length;Z+=1){var ye=oe[Z];z(ye)}},rl.prototype.outputDefined=function(){return this.outputs.every(function(z){return z.outputDefined()})},rl.prototype.serialize=function(){for(var z=["step",this.input.serialize()],Z=0;Z<this.labels.length;Z++)Z>0&&z.push(this.labels[Z]),z.push(this.outputs[Z].serialize());return z};function Ha(I,z,Z){return I*(1-Z)+z*Z}function Uf(I,z,Z){return new ta(Ha(I.r,z.r,Z),Ha(I.g,z.g,Z),Ha(I.b,z.b,Z),Ha(I.a,z.a,Z))}function ef(I,z,Z){return I.map(function(oe,ye){return Ha(oe,z[ye],Z)})}var $l=Object.freeze({__proto__:null,number:Ha,color:Uf,array:ef}),Pc=.95047,Rc=1,ql=1.08883,eu=4/29,no=6/29,tf=3*no*no,jh=no*no*no,Hf=Math.PI/180,Xh=180/Math.PI;function rf(I){return I>jh?Math.pow(I,.3333333333333333):I/tf+eu}function Eu(I){return I>no?I*I*I:tf*(I-eu)}function Vf(I){return 255*(I<=.0031308?12.92*I:1.055*Math.pow(I,.4166666666666667)-.055)}function Wf(I){return I/=255,I<=.04045?I/12.92:Math.pow((I+.055)/1.055,2.4)}function Cu(I){var z=Wf(I.r),Z=Wf(I.g),oe=Wf(I.b),ye=rf((.4124564*z+.3575761*Z+.1804375*oe)/Pc),Se=rf((.2126729*z+.7151522*Z+.072175*oe)/Rc),De=rf((.0193339*z+.119192*Z+.9503041*oe)/ql);return{l:116*Se-16,a:500*(ye-Se),b:200*(Se-De),alpha:I.a}}function Gf(I){var z=(I.l+16)/116,Z=isNaN(I.a)?z:z+I.a/500,oe=isNaN(I.b)?z:z-I.b/200;return z=Rc*Eu(z),Z=Pc*Eu(Z),oe=ql*Eu(oe),new ta(Vf(3.2404542*Z-1.5371385*z-.4985314*oe),Vf(-.969266*Z+1.8760108*z+.041556*oe),Vf(.0556434*Z-.2040259*z+1.0572252*oe),I.alpha)}function nf(I,z,Z){return{l:Ha(I.l,z.l,Z),a:Ha(I.a,z.a,Z),b:Ha(I.b,z.b,Z),alpha:Ha(I.alpha,z.alpha,Z)}}function Yf(I){var z=Cu(I),Z=z.l,oe=z.a,ye=z.b,Se=Math.atan2(ye,oe)*Xh;return{h:Se<0?Se+360:Se,c:Math.sqrt(oe*oe+ye*ye),l:Z,alpha:I.a}}function ya(I){var z=I.h*Hf,Z=I.c,oe=I.l;return Gf({l:oe,a:Math.cos(z)*Z,b:Math.sin(z)*Z,alpha:I.alpha})}function Dc(I,z,Z){var oe=z-I;return I+Z*(oe>180||oe<-180?oe-360*Math.round(oe/360):oe)}function ls(I,z,Z){return{h:Dc(I.h,z.h,Z),c:Ha(I.c,z.c,Z),l:Ha(I.l,z.l,Z),alpha:Ha(I.alpha,z.alpha,Z)}}var tu={forward:Cu,reverse:Gf,interpolate:nf},Cl={forward:Yf,reverse:ya,interpolate:ls},Zf=Object.freeze({__proto__:null,lab:tu,hcl:Cl}),Wa=function(z,Z,oe,ye,Se){this.type=z,this.operator=Z,this.interpolation=oe,this.input=ye,this.labels=[],this.outputs=[];for(var De=0,Je=Se;De<Je.length;De+=1){var ft=Je[De],bt=ft[0],St=ft[1];this.labels.push(bt),this.outputs.push(St)}};Wa.interpolationFactor=function(z,Z,oe,ye){var Se=0;if(z.name==="exponential")Se=Lu(Z,z.base,oe,ye);else if(z.name==="linear")Se=Lu(Z,1,oe,ye);else if(z.name==="cubic-bezier"){var De=z.controlPoints,Je=new p(De[0],De[1],De[2],De[3]);Se=Je.solve(Lu(Z,1,oe,ye))}return Se},Wa.parse=function(z,Z){var oe=z[0],ye=z[1],Se=z[2],De=z.slice(3);if(!Array.isArray(ye)||ye.length===0)return Z.error("Expected an interpolation type expression.",1);if(ye[0]==="linear")ye={name:"linear"};else if(ye[0]==="exponential"){var Je=ye[1];if(typeof Je!="number")return Z.error("Exponential interpolation requires a numeric base.",1,1);ye={name:"exponential",base:Je}}else if(ye[0]==="cubic-bezier"){var ft=ye.slice(1);if(ft.length!==4||ft.some(function($r){return typeof $r!="number"||$r<0||$r>1}))return Z.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ye={name:"cubic-bezier",controlPoints:ft}}else return Z.error("Unknown interpolation type "+String(ye[0]),1,0);if(z.length-1<4)return Z.error("Expected at least 4 arguments, but found only "+(z.length-1)+".");if((z.length-1)%2!==0)return Z.error("Expected an even number of arguments.");if(Se=Z.parse(Se,2,Cr),!Se)return null;var bt=[],St=null;oe==="interpolate-hcl"||oe==="interpolate-lab"?St=In:Z.expectedType&&Z.expectedType.kind!=="value"&&(St=Z.expectedType);for(var Gt=0;Gt<De.length;Gt+=2){var sr=De[Gt],qt=De[Gt+1],mr=Gt+3,Nr=Gt+4;if(typeof sr!="number")return Z.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',mr);if(bt.length&&bt[bt.length-1][0]>=sr)return Z.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',mr);var rn=Z.parse(qt,Nr,St);if(!rn)return null;St=St||rn.type,bt.push([sr,rn])}return St.kind!=="number"&&St.kind!=="color"&&!(St.kind==="array"&&St.itemType.kind==="number"&&typeof St.N=="number")?Z.error("Type "+di(St)+" is not interpolatable."):new Wa(St,oe,ye,Se,bt)},Wa.prototype.evaluate=function(z){var Z=this.labels,oe=this.outputs;if(Z.length===1)return oe[0].evaluate(z);var ye=this.input.evaluate(z);if(ye<=Z[0])return oe[0].evaluate(z);var Se=Z.length;if(ye>=Z[Se-1])return oe[Se-1].evaluate(z);var De=Ql(Z,ye),Je=Z[De],ft=Z[De+1],bt=Wa.interpolationFactor(this.interpolation,ye,Je,ft),St=oe[De].evaluate(z),Gt=oe[De+1].evaluate(z);return this.operator==="interpolate"?$l[this.type.kind.toLowerCase()](St,Gt,bt):this.operator==="interpolate-hcl"?Cl.reverse(Cl.interpolate(Cl.forward(St),Cl.forward(Gt),bt)):tu.reverse(tu.interpolate(tu.forward(St),tu.forward(Gt),bt))},Wa.prototype.eachChild=function(z){z(this.input);for(var Z=0,oe=this.outputs;Z<oe.length;Z+=1){var ye=oe[Z];z(ye)}},Wa.prototype.outputDefined=function(){return this.outputs.every(function(z){return z.outputDefined()})},Wa.prototype.serialize=function(){var z;this.interpolation.name==="linear"?z=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?z=["linear"]:z=["exponential",this.interpolation.base]:z=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var Z=[this.operator,z,this.input.serialize()],oe=0;oe<this.labels.length;oe++)Z.push(this.labels[oe],this.outputs[oe].serialize());return Z};function Lu(I,z,Z,oe){var ye=oe-Z,Se=I-Z;return ye===0?0:z===1?Se/ye:(Math.pow(z,Se)-1)/(Math.pow(z,ye)-1)}var Fo=function(z,Z){this.type=z,this.args=Z};Fo.parse=function(z,Z){if(z.length<2)return Z.error("Expectected at least one argument.");var oe=null,ye=Z.expectedType;ye&&ye.kind!=="value"&&(oe=ye);for(var Se=[],De=0,Je=z.slice(1);De<Je.length;De+=1){var ft=Je[De],bt=Z.parse(ft,1+Se.length,oe,void 0,{typeAnnotation:"omit"});if(!bt)return null;oe=oe||bt.type,Se.push(bt)}var St=ye&&Se.some(function(Gt){return bo(ye,Gt.type)});return St?new Fo(yn,Se):new Fo(oe,Se)},Fo.prototype.evaluate=function(z){for(var Z=null,oe=0,ye,Se=0,De=this.args;Se<De.length;Se+=1){var Je=De[Se];if(oe++,Z=Je.evaluate(z),Z&&Z instanceof Io&&!Z.available&&(ye||(ye=Z.name),Z=null,oe===this.args.length&&(Z=ye)),Z!==null)break}return Z},Fo.prototype.eachChild=function(z){this.args.forEach(z)},Fo.prototype.outputDefined=function(){return this.args.every(function(z){return z.outputDefined()})},Fo.prototype.serialize=function(){var z=["coalesce"];return this.eachChild(function(Z){z.push(Z.serialize())}),z};var Ws=function(z,Z){this.type=Z.type,this.bindings=[].concat(z),this.result=Z};Ws.prototype.evaluate=function(z){return this.result.evaluate(z)},Ws.prototype.eachChild=function(z){for(var Z=0,oe=this.bindings;Z<oe.length;Z+=1){var ye=oe[Z];z(ye[1])}z(this.result)},Ws.parse=function(z,Z){if(z.length<4)return Z.error("Expected at least 3 arguments, but found "+(z.length-1)+" instead.");for(var oe=[],ye=1;ye<z.length-1;ye+=2){var Se=z[ye];if(typeof Se!="string")return Z.error("Expected string, but found "+typeof Se+" instead.",ye);if(/[^a-zA-Z0-9_]/.test(Se))return Z.error("Variable names must contain only alphanumeric characters or '_'.",ye);var De=Z.parse(z[ye+1],ye+1);if(!De)return null;oe.push([Se,De])}var Je=Z.parse(z[z.length-1],z.length-1,Z.expectedType,oe);return Je?new Ws(oe,Je):null},Ws.prototype.outputDefined=function(){return this.result.outputDefined()},Ws.prototype.serialize=function(){for(var z=["let"],Z=0,oe=this.bindings;Z<oe.length;Z+=1){var ye=oe[Z],Se=ye[0],De=ye[1];z.push(Se,De.serialize())}return z.push(this.result.serialize()),z};var Gs=function(z,Z,oe){this.type=z,this.index=Z,this.input=oe};Gs.parse=function(z,Z){if(z.length!==3)return Z.error("Expected 2 arguments, but found "+(z.length-1)+" instead.");var oe=Z.parse(z[1],1,Cr),ye=Z.parse(z[2],2,oi(Z.expectedType||yn));if(!oe||!ye)return null;var Se=ye.type;return new Gs(Se.itemType,oe,ye)},Gs.prototype.evaluate=function(z){var Z=this.index.evaluate(z),oe=this.input.evaluate(z);if(Z<0)throw new Ja("Array index out of bounds: "+Z+" < 0.");if(Z>=oe.length)throw new Ja("Array index out of bounds: "+Z+" > "+(oe.length-1)+".");if(Z!==Math.floor(Z))throw new Ja("Array index must be an integer, but found "+Z+" instead.");return oe[Z]},Gs.prototype.eachChild=function(z){z(this.index),z(this.input)},Gs.prototype.outputDefined=function(){return!1},Gs.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var nl=function(z,Z){this.type=dn,this.needle=z,this.haystack=Z};nl.parse=function(z,Z){if(z.length!==3)return Z.error("Expected 2 arguments, but found "+(z.length-1)+" instead.");var oe=Z.parse(z[1],1,yn),ye=Z.parse(z[2],2,yn);return!oe||!ye?null:So(oe.type,[dn,zr,Cr,Rr,yn])?new nl(oe,ye):Z.error("Expected first argument to be of type boolean, string, number or null, but found "+di(oe.type)+" instead")},nl.prototype.evaluate=function(z){var Z=this.needle.evaluate(z),oe=this.haystack.evaluate(z);if(!oe)return!1;if(!ko(Z,["boolean","string","number","null"]))throw new Ja("Expected first argument to be of type boolean, string, number or null, but found "+di(ka(Z))+" instead.");if(!ko(oe,["string","array"]))throw new Ja("Expected second argument to be of type array or string, but found "+di(ka(oe))+" instead.");return oe.indexOf(Z)>=0},nl.prototype.eachChild=function(z){z(this.needle),z(this.haystack)},nl.prototype.outputDefined=function(){return!0},nl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var il=function(z,Z,oe){this.type=Cr,this.needle=z,this.haystack=Z,this.fromIndex=oe};il.parse=function(z,Z){if(z.length<=2||z.length>=5)return Z.error("Expected 3 or 4 arguments, but found "+(z.length-1)+" instead.");var oe=Z.parse(z[1],1,yn),ye=Z.parse(z[2],2,yn);if(!oe||!ye)return null;if(!So(oe.type,[dn,zr,Cr,Rr,yn]))return Z.error("Expected first argument to be of type boolean, string, number or null, but found "+di(oe.type)+" instead");if(z.length===4){var Se=Z.parse(z[3],3,Cr);return Se?new il(oe,ye,Se):null}else return new il(oe,ye)},il.prototype.evaluate=function(z){var Z=this.needle.evaluate(z),oe=this.haystack.evaluate(z);if(!ko(Z,["boolean","string","number","null"]))throw new Ja("Expected first argument to be of type boolean, string, number or null, but found "+di(ka(Z))+" instead.");if(!ko(oe,["string","array"]))throw new Ja("Expected second argument to be of type array or string, but found "+di(ka(oe))+" instead.");if(this.fromIndex){var ye=this.fromIndex.evaluate(z);return oe.indexOf(Z,ye)}return oe.indexOf(Z)},il.prototype.eachChild=function(z){z(this.needle),z(this.haystack),this.fromIndex&&z(this.fromIndex)},il.prototype.outputDefined=function(){return!1},il.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var z=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),z]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var al=function(z,Z,oe,ye,Se,De){this.inputType=z,this.type=Z,this.input=oe,this.cases=ye,this.outputs=Se,this.otherwise=De};al.parse=function(z,Z){if(z.length<5)return Z.error("Expected at least 4 arguments, but found only "+(z.length-1)+".");if(z.length%2!==1)return Z.error("Expected an even number of arguments.");var oe,ye;Z.expectedType&&Z.expectedType.kind!=="value"&&(ye=Z.expectedType);for(var Se={},De=[],Je=2;Je<z.length-1;Je+=2){var ft=z[Je],bt=z[Je+1];Array.isArray(ft)||(ft=[ft]);var St=Z.concat(Je);if(ft.length===0)return St.error("Expected at least one branch label.");for(var Gt=0,sr=ft;Gt<sr.length;Gt+=1){var qt=sr[Gt];if(typeof qt!="number"&&typeof qt!="string")return St.error("Branch labels must be numbers or strings.");if(typeof qt=="number"&&Math.abs(qt)>Number.MAX_SAFE_INTEGER)return St.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof qt=="number"&&Math.floor(qt)!==qt)return St.error("Numeric branch labels must be integer values.");if(!oe)oe=ka(qt);else if(St.checkSubtype(oe,ka(qt)))return null;if(typeof Se[String(qt)]<"u")return St.error("Branch labels must be unique.");Se[String(qt)]=De.length}var mr=Z.parse(bt,Je,ye);if(!mr)return null;ye=ye||mr.type,De.push(mr)}var Nr=Z.parse(z[1],1,yn);if(!Nr)return null;var rn=Z.parse(z[z.length-1],z.length-1,ye);return!rn||Nr.type.kind!=="value"&&Z.concat(1).checkSubtype(oe,Nr.type)?null:new al(oe,ye,Nr,Se,De,rn)},al.prototype.evaluate=function(z){var Z=this.input.evaluate(z),oe=ka(Z)===this.inputType&&this.outputs[this.cases[Z]]||this.otherwise;return oe.evaluate(z)},al.prototype.eachChild=function(z){z(this.input),this.outputs.forEach(z),z(this.otherwise)},al.prototype.outputDefined=function(){return this.outputs.every(function(z){return z.outputDefined()})&&this.otherwise.outputDefined()},al.prototype.serialize=function(){for(var z=this,Z=["match",this.input.serialize()],oe=Object.keys(this.cases).sort(),ye=[],Se={},De=0,Je=oe;De<Je.length;De+=1){var ft=Je[De],bt=Se[this.cases[ft]];bt===void 0?(Se[this.cases[ft]]=ye.length,ye.push([this.cases[ft],[ft]])):ye[bt][1].push(ft)}for(var St=function(Nr){return z.inputType.kind==="number"?Number(Nr):Nr},Gt=0,sr=ye;Gt<sr.length;Gt+=1){var qt=sr[Gt],bt=qt[0],mr=qt[1];mr.length===1?Z.push(St(mr[0])):Z.push(mr.map(St)),Z.push(this.outputs[outputIndex$1].serialize())}return Z.push(this.otherwise.serialize()),Z};var us=function(z,Z,oe){this.type=z,this.branches=Z,this.otherwise=oe};us.parse=function(z,Z){if(z.length<4)return Z.error("Expected at least 3 arguments, but found only "+(z.length-1)+".");if(z.length%2!==0)return Z.error("Expected an odd number of arguments.");var oe;Z.expectedType&&Z.expectedType.kind!=="value"&&(oe=Z.expectedType);for(var ye=[],Se=1;Se<z.length-1;Se+=2){var De=Z.parse(z[Se],Se,dn);if(!De)return null;var Je=Z.parse(z[Se+1],Se+1,oe);if(!Je)return null;ye.push([De,Je]),oe=oe||Je.type}var ft=Z.parse(z[z.length-1],z.length-1,oe);return ft?new us(oe,ye,ft):null},us.prototype.evaluate=function(z){for(var Z=0,oe=this.branches;Z<oe.length;Z+=1){var ye=oe[Z],Se=ye[0],De=ye[1];if(Se.evaluate(z))return De.evaluate(z)}return this.otherwise.evaluate(z)},us.prototype.eachChild=function(z){for(var Z=0,oe=this.branches;Z<oe.length;Z+=1){var ye=oe[Z],Se=ye[0],De=ye[1];z(Se),z(De)}z(this.otherwise)},us.prototype.outputDefined=function(){return this.branches.every(function(z){z[0];var Z=z[1];return Z.outputDefined()})&&this.otherwise.outputDefined()},us.prototype.serialize=function(){var z=["case"];return this.eachChild(function(Z){z.push(Z.serialize())}),z};var Es=function(z,Z,oe,ye){this.type=z,this.input=Z,this.beginIndex=oe,this.endIndex=ye};Es.parse=function(z,Z){if(z.length<=2||z.length>=5)return Z.error("Expected 3 or 4 arguments, but found "+(z.length-1)+" instead.");var oe=Z.parse(z[1],1,yn),ye=Z.parse(z[2],2,Cr);if(!oe||!ye)return null;if(!So(oe.type,[oi(yn),zr,yn]))return Z.error("Expected first argument to be of type array or string, but found "+di(oe.type)+" instead");if(z.length===4){var Se=Z.parse(z[3],3,Cr);return Se?new Es(oe.type,oe,ye,Se):null}else return new Es(oe.type,oe,ye)},Es.prototype.evaluate=function(z){var Z=this.input.evaluate(z),oe=this.beginIndex.evaluate(z);if(!ko(Z,["string","array"]))throw new Ja("Expected first argument to be of type array or string, but found "+di(ka(Z))+" instead.");if(this.endIndex){var ye=this.endIndex.evaluate(z);return Z.slice(oe,ye)}return Z.slice(oe)},Es.prototype.eachChild=function(z){z(this.input),z(this.beginIndex),this.endIndex&&z(this.endIndex)},Es.prototype.outputDefined=function(){return!1},Es.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var z=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),z]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Pu(I,z){return I==="=="||I==="!="?z.kind==="boolean"||z.kind==="string"||z.kind==="number"||z.kind==="null"||z.kind==="value":z.kind==="string"||z.kind==="number"||z.kind==="value"}function Ru(I,z,Z){return z===Z}function af(I,z,Z){return z!==Z}function Kh(I,z,Z){return z<Z}function Jh(I,z,Z){return z>Z}function Qh(I,z,Z){return z<=Z}function $h(I,z,Z){return z>=Z}function of(I,z,Z,oe){return oe.compare(z,Z)===0}function _c(I,z,Z,oe){return!of(I,z,Z,oe)}function ru(I,z,Z,oe){return oe.compare(z,Z)<0}function uo(I,z,Z,oe){return oe.compare(z,Z)>0}function zo(I,z,Z,oe){return oe.compare(z,Z)<=0}function Du(I,z,Z,oe){return oe.compare(z,Z)>=0}function Ll(I,z,Z){var oe=I!=="=="&&I!=="!=";return function(){function ye(Se,De,Je){this.type=dn,this.lhs=Se,this.rhs=De,this.collator=Je,this.hasUntypedArgument=Se.type.kind==="value"||De.type.kind==="value"}return ye.parse=function(De,Je){if(De.length!==3&&De.length!==4)return Je.error("Expected two or three arguments.");var ft=De[0],bt=Je.parse(De[1],1,yn);if(!bt)return null;if(!Pu(ft,bt.type))return Je.concat(1).error('"'+ft+`" comparisons are not supported for type '`+di(bt.type)+"'.");var St=Je.parse(De[2],2,yn);if(!St)return null;if(!Pu(ft,St.type))return Je.concat(2).error('"'+ft+`" comparisons are not supported for type '`+di(St.type)+"'.");if(bt.type.kind!==St.type.kind&&bt.type.kind!=="value"&&St.type.kind!=="value")return Je.error("Cannot compare types '"+di(bt.type)+"' and '"+di(St.type)+"'.");oe&&(bt.type.kind==="value"&&St.type.kind!=="value"?bt=new wo(St.type,[bt]):bt.type.kind!=="value"&&St.type.kind==="value"&&(St=new wo(bt.type,[St])));var Gt=null;if(De.length===4){if(bt.type.kind!=="string"&&St.type.kind!=="string"&&bt.type.kind!=="value"&&St.type.kind!=="value")return Je.error("Cannot use collator to compare non-string types.");if(Gt=Je.parse(De[3],3,$n),!Gt)return null}return new ye(bt,St,Gt)},ye.prototype.evaluate=function(De){var Je=this.lhs.evaluate(De),ft=this.rhs.evaluate(De);if(oe&&this.hasUntypedArgument){var bt=ka(Je),St=ka(ft);if(bt.kind!==St.kind||!(bt.kind==="string"||bt.kind==="number"))throw new Ja('Expected arguments for "'+I+'" to be (string, string) or (number, number), but found ('+bt.kind+", "+St.kind+") instead.")}if(this.collator&&!oe&&this.hasUntypedArgument){var Gt=ka(Je),sr=ka(ft);if(Gt.kind!=="string"||sr.kind!=="string")return z(De,Je,ft)}return this.collator?Z(De,Je,ft,this.collator.evaluate(De)):z(De,Je,ft)},ye.prototype.eachChild=function(De){De(this.lhs),De(this.rhs),this.collator&&De(this.collator)},ye.prototype.outputDefined=function(){return!0},ye.prototype.serialize=function(){var De=[I];return this.eachChild(function(Je){De.push(Je.serialize())}),De},ye}()}var _u=Ll("==",Ru,of),sf=Ll("!=",af,_c),qh=Ll("<",Kh,ru),kc=Ll(">",Jh,uo),Ic=Ll("<=",Qh,zo),jf=Ll(">=",$h,Du),ol=function(z,Z,oe,ye,Se){this.type=zr,this.number=z,this.locale=Z,this.currency=oe,this.minFractionDigits=ye,this.maxFractionDigits=Se};ol.parse=function(z,Z){if(z.length!==3)return Z.error("Expected two arguments.");var oe=Z.parse(z[1],1,Cr);if(!oe)return null;var ye=z[2];if(typeof ye!="object"||Array.isArray(ye))return Z.error("NumberFormat options argument must be an object.");var Se=null;if(ye.locale&&(Se=Z.parse(ye.locale,1,zr),!Se))return null;var De=null;if(ye.currency&&(De=Z.parse(ye.currency,1,zr),!De))return null;var Je=null;if(ye["min-fraction-digits"]&&(Je=Z.parse(ye["min-fraction-digits"],1,Cr),!Je))return null;var ft=null;return ye["max-fraction-digits"]&&(ft=Z.parse(ye["max-fraction-digits"],1,Cr),!ft)?null:new ol(oe,Se,De,Je,ft)},ol.prototype.evaluate=function(z){return new Intl.NumberFormat(this.locale?this.locale.evaluate(z):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(z):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(z):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(z):void 0}).format(this.number.evaluate(z))},ol.prototype.eachChild=function(z){z(this.number),this.locale&&z(this.locale),this.currency&&z(this.currency),this.minFractionDigits&&z(this.minFractionDigits),this.maxFractionDigits&&z(this.maxFractionDigits)},ol.prototype.outputDefined=function(){return!1},ol.prototype.serialize=function(){var z={};return this.locale&&(z.locale=this.locale.serialize()),this.currency&&(z.currency=this.currency.serialize()),this.minFractionDigits&&(z["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(z["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),z]};var Ga=function(z){this.type=Cr,this.input=z};Ga.parse=function(z,Z){if(z.length!==2)return Z.error("Expected 1 argument, but found "+(z.length-1)+" instead.");var oe=Z.parse(z[1],1);return oe?oe.type.kind!=="array"&&oe.type.kind!=="string"&&oe.type.kind!=="value"?Z.error("Expected argument of type string or array, but found "+di(oe.type)+" instead."):new Ga(oe):null},Ga.prototype.evaluate=function(z){var Z=this.input.evaluate(z);if(typeof Z=="string")return Z.length;if(Array.isArray(Z))return Z.length;throw new Ja("Expected value to be of type string or array, but found "+di(ka(Z))+" instead.")},Ga.prototype.eachChild=function(z){z(this.input)},Ga.prototype.outputDefined=function(){return!1},Ga.prototype.serialize=function(){var z=["length"];return this.eachChild(function(Z){z.push(Z.serialize())}),z};var Cs={"==":_u,"!=":sf,">":kc,"<":qh,">=":jf,"<=":Ic,array:wo,at:Gs,boolean:wo,case:us,coalesce:Fo,collator:Us,format:$o,image:Ts,in:nl,"index-of":il,interpolate:Wa,"interpolate-hcl":Wa,"interpolate-lab":Wa,length:Ga,let:Ws,literal:Vo,match:al,number:wo,"number-format":ol,object:wo,slice:Es,step:rl,string:wo,"to-boolean":so,"to-color":so,"to-number":so,"to-string":so,var:Ss,within:qo};function Xf(I,z){var Z=z[0],oe=z[1],ye=z[2],Se=z[3];Z=Z.evaluate(I),oe=oe.evaluate(I),ye=ye.evaluate(I);var De=Se?Se.evaluate(I):1,Je=Sc(Z,oe,ye,De);if(Je)throw new Ja(Je);return new ta(Z/255*De,oe/255*De,ye/255*De,De)}function Fc(I,z){return I in z}function Pl(I,z){var Z=z[I];return typeof Z>"u"?null:Z}function lf(I,z,Z,oe){for(;Z<=oe;){var ye=Z+oe>>1;if(z[ye]===I)return!0;z[ye]>I?oe=ye-1:Z=ye+1}return!1}function fs(I){return{type:I}}lo.register(Cs,{error:[zn,[zr],function(I,z){var Z=z[0];throw new Ja(Z.evaluate(I))}],typeof:[zr,[yn],function(I,z){var Z=z[0];return di(ka(Z.evaluate(I)))}],"to-rgba":[oi(Cr,4),[In],function(I,z){var Z=z[0];return Z.evaluate(I).toArray()}],rgb:[In,[Cr,Cr,Cr],Xf],rgba:[In,[Cr,Cr,Cr,Cr],Xf],has:{type:dn,overloads:[[[zr],function(I,z){var Z=z[0];return Fc(Z.evaluate(I),I.properties())}],[[zr,Wn],function(I,z){var Z=z[0],oe=z[1];return Fc(Z.evaluate(I),oe.evaluate(I))}]]},get:{type:yn,overloads:[[[zr],function(I,z){var Z=z[0];return Pl(Z.evaluate(I),I.properties())}],[[zr,Wn],function(I,z){var Z=z[0],oe=z[1];return Pl(Z.evaluate(I),oe.evaluate(I))}]]},"feature-state":[yn,[zr],function(I,z){var Z=z[0];return Pl(Z.evaluate(I),I.featureState||{})}],properties:[Wn,[],function(I){return I.properties()}],"geometry-type":[zr,[],function(I){return I.geometryType()}],id:[yn,[],function(I){return I.id()}],zoom:[Cr,[],function(I){return I.globals.zoom}],"heatmap-density":[Cr,[],function(I){return I.globals.heatmapDensity||0}],"line-progress":[Cr,[],function(I){return I.globals.lineProgress||0}],accumulated:[yn,[],function(I){return I.globals.accumulated===void 0?null:I.globals.accumulated}],"+":[Cr,fs(Cr),function(I,z){for(var Z=0,oe=0,ye=z;oe<ye.length;oe+=1){var Se=ye[oe];Z+=Se.evaluate(I)}return Z}],"*":[Cr,fs(Cr),function(I,z){for(var Z=1,oe=0,ye=z;oe<ye.length;oe+=1){var Se=ye[oe];Z*=Se.evaluate(I)}return Z}],"-":{type:Cr,overloads:[[[Cr,Cr],function(I,z){var Z=z[0],oe=z[1];return Z.evaluate(I)-oe.evaluate(I)}],[[Cr],function(I,z){var Z=z[0];return-Z.evaluate(I)}]]},"/":[Cr,[Cr,Cr],function(I,z){var Z=z[0],oe=z[1];return Z.evaluate(I)/oe.evaluate(I)}],"%":[Cr,[Cr,Cr],function(I,z){var Z=z[0],oe=z[1];return Z.evaluate(I)%oe.evaluate(I)}],ln2:[Cr,[],function(){return Math.LN2}],pi:[Cr,[],function(){return Math.PI}],e:[Cr,[],function(){return Math.E}],"^":[Cr,[Cr,Cr],function(I,z){var Z=z[0],oe=z[1];return Math.pow(Z.evaluate(I),oe.evaluate(I))}],sqrt:[Cr,[Cr],function(I,z){var Z=z[0];return Math.sqrt(Z.evaluate(I))}],log10:[Cr,[Cr],function(I,z){var Z=z[0];return Math.log(Z.evaluate(I))/Math.LN10}],ln:[Cr,[Cr],function(I,z){var Z=z[0];return Math.log(Z.evaluate(I))}],log2:[Cr,[Cr],function(I,z){var Z=z[0];return Math.log(Z.evaluate(I))/Math.LN2}],sin:[Cr,[Cr],function(I,z){var Z=z[0];return Math.sin(Z.evaluate(I))}],cos:[Cr,[Cr],function(I,z){var Z=z[0];return Math.cos(Z.evaluate(I))}],tan:[Cr,[Cr],function(I,z){var Z=z[0];return Math.tan(Z.evaluate(I))}],asin:[Cr,[Cr],function(I,z){var Z=z[0];return Math.asin(Z.evaluate(I))}],acos:[Cr,[Cr],function(I,z){var Z=z[0];return Math.acos(Z.evaluate(I))}],atan:[Cr,[Cr],function(I,z){var Z=z[0];return Math.atan(Z.evaluate(I))}],min:[Cr,fs(Cr),function(I,z){return Math.min.apply(Math,z.map(function(Z){return Z.evaluate(I)}))}],max:[Cr,fs(Cr),function(I,z){return Math.max.apply(Math,z.map(function(Z){return Z.evaluate(I)}))}],abs:[Cr,[Cr],function(I,z){var Z=z[0];return Math.abs(Z.evaluate(I))}],round:[Cr,[Cr],function(I,z){var Z=z[0],oe=Z.evaluate(I);return oe<0?-Math.round(-oe):Math.round(oe)}],floor:[Cr,[Cr],function(I,z){var Z=z[0];return Math.floor(Z.evaluate(I))}],ceil:[Cr,[Cr],function(I,z){var Z=z[0];return Math.ceil(Z.evaluate(I))}],"filter-==":[dn,[zr,yn],function(I,z){var Z=z[0],oe=z[1];return I.properties()[Z.value]===oe.value}],"filter-id-==":[dn,[yn],function(I,z){var Z=z[0];return I.id()===Z.value}],"filter-type-==":[dn,[zr],function(I,z){var Z=z[0];return I.geometryType()===Z.value}],"filter-<":[dn,[zr,yn],function(I,z){var Z=z[0],oe=z[1],ye=I.properties()[Z.value],Se=oe.value;return typeof ye==typeof Se&&ye<Se}],"filter-id-<":[dn,[yn],function(I,z){var Z=z[0],oe=I.id(),ye=Z.value;return typeof oe==typeof ye&&oe<ye}],"filter->":[dn,[zr,yn],function(I,z){var Z=z[0],oe=z[1],ye=I.properties()[Z.value],Se=oe.value;return typeof ye==typeof Se&&ye>Se}],"filter-id->":[dn,[yn],function(I,z){var Z=z[0],oe=I.id(),ye=Z.value;return typeof oe==typeof ye&&oe>ye}],"filter-<=":[dn,[zr,yn],function(I,z){var Z=z[0],oe=z[1],ye=I.properties()[Z.value],Se=oe.value;return typeof ye==typeof Se&&ye<=Se}],"filter-id-<=":[dn,[yn],function(I,z){var Z=z[0],oe=I.id(),ye=Z.value;return typeof oe==typeof ye&&oe<=ye}],"filter->=":[dn,[zr,yn],function(I,z){var Z=z[0],oe=z[1],ye=I.properties()[Z.value],Se=oe.value;return typeof ye==typeof Se&&ye>=Se}],"filter-id->=":[dn,[yn],function(I,z){var Z=z[0],oe=I.id(),ye=Z.value;return typeof oe==typeof ye&&oe>=ye}],"filter-has":[dn,[yn],function(I,z){var Z=z[0];return Z.value in I.properties()}],"filter-has-id":[dn,[],function(I){return I.id()!==null&&I.id()!==void 0}],"filter-type-in":[dn,[oi(zr)],function(I,z){var Z=z[0];return Z.value.indexOf(I.geometryType())>=0}],"filter-id-in":[dn,[oi(yn)],function(I,z){var Z=z[0];return Z.value.indexOf(I.id())>=0}],"filter-in-small":[dn,[zr,oi(yn)],function(I,z){var Z=z[0],oe=z[1];return oe.value.indexOf(I.properties()[Z.value])>=0}],"filter-in-large":[dn,[zr,oi(yn)],function(I,z){var Z=z[0],oe=z[1];return lf(I.properties()[Z.value],oe.value,0,oe.value.length-1)}],all:{type:dn,overloads:[[[dn,dn],function(I,z){var Z=z[0],oe=z[1];return Z.evaluate(I)&&oe.evaluate(I)}],[fs(dn),function(I,z){for(var Z=0,oe=z;Z<oe.length;Z+=1){var ye=oe[Z];if(!ye.evaluate(I))return!1}return!0}]]},any:{type:dn,overloads:[[[dn,dn],function(I,z){var Z=z[0],oe=z[1];return Z.evaluate(I)||oe.evaluate(I)}],[fs(dn),function(I,z){for(var Z=0,oe=z;Z<oe.length;Z+=1){var ye=oe[Z];if(ye.evaluate(I))return!0}return!1}]]},"!":[dn,[dn],function(I,z){var Z=z[0];return!Z.evaluate(I)}],"is-supported-script":[dn,[zr],function(I,z){var Z=z[0],oe=I.globals&&I.globals.isSupportedScript;return oe?oe(Z.evaluate(I)):!0}],upcase:[zr,[zr],function(I,z){var Z=z[0];return Z.evaluate(I).toUpperCase()}],downcase:[zr,[zr],function(I,z){var Z=z[0];return Z.evaluate(I).toLowerCase()}],concat:[zr,fs(yn),function(I,z){return z.map(function(Z){return Au(Z.evaluate(I))}).join("")}],"resolved-locale":[zr,[$n],function(I,z){var Z=z[0];return Z.evaluate(I).resolvedLocale()}]});function uf(I){return{result:"success",value:I}}function Ys(I){return{result:"error",value:I}}function Zs(I){return I["property-type"]==="data-driven"||I["property-type"]==="cross-faded-data-driven"}function Kf(I){return!!I.expression&&I.expression.parameters.indexOf("zoom")>-1}function nu(I){return!!I.expression&&I.expression.interpolated}function fa(I){return I instanceof Number?"number":I instanceof String?"string":I instanceof Boolean?"boolean":Array.isArray(I)?"array":I===null?"null":typeof I}function Rl(I){return typeof I=="object"&&I!==null&&!Array.isArray(I)}function ff(I){return I}function cf(I,z){var Z=z.type==="color",oe=I.stops&&typeof I.stops[0][0]=="object",ye=oe||I.property!==void 0,Se=oe||!ye,De=I.type||(nu(z)?"exponential":"interval");if(Z&&(I=cn({},I),I.stops&&(I.stops=I.stops.map(function(Jn){return[Jn[0],ta.parse(Jn[1])]})),I.default?I.default=ta.parse(I.default):I.default=ta.parse(z.default)),I.colorSpace&&I.colorSpace!=="rgb"&&!Zf[I.colorSpace])throw new Error("Unknown color space: "+I.colorSpace);var Je,ft,bt;if(De==="exponential")Je=iu;else if(De==="interval")Je=Jf;else if(De==="categorical"){Je=ev,ft=Object.create(null);for(var St=0,Gt=I.stops;St<Gt.length;St+=1){var sr=Gt[St];ft[sr[0]]=sr[1]}bt=typeof I.stops[0][0]}else if(De==="identity")Je=Qf;else throw new Error('Unknown function type "'+De+'"');if(oe){for(var qt={},mr=[],Nr=0;Nr<I.stops.length;Nr++){var rn=I.stops[Nr],$r=rn[0].zoom;qt[$r]===void 0&&(qt[$r]={zoom:$r,type:I.type,property:I.property,default:I.default,stops:[]},mr.push($r)),qt[$r].stops.push([rn[0].value,rn[1]])}for(var Mn=[],xn=0,An=mr;xn<An.length;xn+=1){var kn=An[xn];Mn.push([qt[kn].zoom,cf(qt[kn],z)])}var Un={name:"linear"};return{kind:"composite",interpolationType:Un,interpolationFactor:Wa.interpolationFactor.bind(void 0,Un),zoomStops:Mn.map(function(Jn){return Jn[0]}),evaluate:function(Si,ci){var yi=Si.zoom;return iu({stops:Mn,base:I.base},z,yi).evaluate(yi,ci)}}}else if(Se){var Qn=De==="exponential"?{name:"exponential",base:I.base!==void 0?I.base:1}:null;return{kind:"camera",interpolationType:Qn,interpolationFactor:Wa.interpolationFactor.bind(void 0,Qn),zoomStops:I.stops.map(function(Jn){return Jn[0]}),evaluate:function(Jn){var Si=Jn.zoom;return Je(I,z,Si,ft,bt)}}}else return{kind:"source",evaluate:function(Si,ci){var yi=ci&&ci.properties?ci.properties[I.property]:void 0;return yi===void 0?sl(I.default,z.default):Je(I,z,yi,ft,bt)}}}function sl(I,z,Z){if(I!==void 0)return I;if(z!==void 0)return z;if(Z!==void 0)return Z}function ev(I,z,Z,oe,ye){var Se=typeof Z===ye?oe[Z]:void 0;return sl(Se,I.default,z.default)}function Jf(I,z,Z){if(fa(Z)!=="number")return sl(I.default,z.default);var oe=I.stops.length;if(oe===1||Z<=I.stops[0][0])return I.stops[0][1];if(Z>=I.stops[oe-1][0])return I.stops[oe-1][1];var ye=Ql(I.stops.map(function(Se){return Se[0]}),Z);return I.stops[ye][1]}function iu(I,z,Z){var oe=I.base!==void 0?I.base:1;if(fa(Z)!=="number")return sl(I.default,z.default);var ye=I.stops.length;if(ye===1||Z<=I.stops[0][0])return I.stops[0][1];if(Z>=I.stops[ye-1][0])return I.stops[ye-1][1];var Se=Ql(I.stops.map(function(Gt){return Gt[0]}),Z),De=zc(Z,oe,I.stops[Se][0],I.stops[Se+1][0]),Je=I.stops[Se][1],ft=I.stops[Se+1][1],bt=$l[z.type]||ff;if(I.colorSpace&&I.colorSpace!=="rgb"){var St=Zf[I.colorSpace];bt=function(Gt,sr){return St.reverse(St.interpolate(St.forward(Gt),St.forward(sr),De))}}return typeof Je.evaluate=="function"?{evaluate:function(){for(var sr=[],qt=arguments.length;qt--;)sr[qt]=arguments[qt];var mr=Je.evaluate.apply(void 0,sr),Nr=ft.evaluate.apply(void 0,sr);if(!(mr===void 0||Nr===void 0))return bt(mr,Nr,De)}}:bt(Je,ft,De)}function Qf(I,z,Z){return z.type==="color"?Z=ta.parse(Z):z.type==="formatted"?Z=ro.fromString(Z.toString()):z.type==="resolvedImage"?Z=Io.fromString(Z.toString()):fa(Z)!==z.type&&(z.type!=="enum"||!z.values[Z])&&(Z=void 0),sl(Z,I.default,z.default)}function zc(I,z,Z,oe){var ye=oe-Z,Se=I-Z;return ye===0?0:z===1?Se/ye:(Math.pow(z,Se)-1)/(Math.pow(z,ye)-1)}var js=function(z,Z){this.expression=z,this._warningHistory={},this._evaluator=new As,this._defaultValue=Z?Bc(Z):null,this._enumValues=Z&&Z.type==="enum"?Z.values:null};js.prototype.evaluateWithoutErrorHandling=function(z,Z,oe,ye,Se,De){return this._evaluator.globals=z,this._evaluator.feature=Z,this._evaluator.featureState=oe,this._evaluator.canonical=ye,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=De,this.expression.evaluate(this._evaluator)},js.prototype.evaluate=function(z,Z,oe,ye,Se,De){this._evaluator.globals=z,this._evaluator.feature=Z||null,this._evaluator.featureState=oe||null,this._evaluator.canonical=ye,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=De||null;try{var Je=this.expression.evaluate(this._evaluator);if(Je==null||typeof Je=="number"&&Je!==Je)return this._defaultValue;if(this._enumValues&&!(Je in this._enumValues))throw new Ja("Expected value to be one of "+Object.keys(this._enumValues).map(function(ft){return JSON.stringify(ft)}).join(", ")+", but found "+JSON.stringify(Je)+" instead.");return Je}catch(ft){return this._warningHistory[ft.message]||(this._warningHistory[ft.message]=!0,typeof console<"u"&&console.warn(ft.message)),this._defaultValue}};function ll(I){return Array.isArray(I)&&I.length>0&&typeof I[0]=="string"&&I[0]in Cs}function Dl(I,z){var Z=new Vs(Cs,[],z?hf(z):void 0),oe=Z.parse(I,void 0,void 0,void 0,z&&z.type==="string"?{typeAnnotation:"coerce"}:void 0);return oe?uf(new js(oe,z)):Ys(Z.errors)}var _l=function(z,Z){this.kind=z,this._styleExpression=Z,this.isStateDependent=z!=="constant"&&!Su(Z.expression)};_l.prototype.evaluateWithoutErrorHandling=function(z,Z,oe,ye,Se,De){return this._styleExpression.evaluateWithoutErrorHandling(z,Z,oe,ye,Se,De)},_l.prototype.evaluate=function(z,Z,oe,ye,Se,De){return this._styleExpression.evaluate(z,Z,oe,ye,Se,De)};var Oo=function(z,Z,oe,ye){this.kind=z,this.zoomStops=oe,this._styleExpression=Z,this.isStateDependent=z!=="camera"&&!Su(Z.expression),this.interpolationType=ye};Oo.prototype.evaluateWithoutErrorHandling=function(z,Z,oe,ye,Se,De){return this._styleExpression.evaluateWithoutErrorHandling(z,Z,oe,ye,Se,De)},Oo.prototype.evaluate=function(z,Z,oe,ye,Se,De){return this._styleExpression.evaluate(z,Z,oe,ye,Se,De)},Oo.prototype.interpolationFactor=function(z,Z,oe){return this.interpolationType?Wa.interpolationFactor(this.interpolationType,z,Z,oe):0};function Go(I,z){if(I=Dl(I,z),I.result==="error")return I;var Z=I.value.expression,oe=El(Z);if(!oe&&!Zs(z))return Ys([new wn("","data expressions not supported")]);var ye=Jl(Z,["zoom"]);if(!ye&&!Kf(z))return Ys([new wn("","zoom expressions not supported")]);var Se=au(Z);if(!Se&&!ye)return Ys([new wn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Se instanceof wn)return Ys([Se]);if(Se instanceof Wa&&!nu(z))return Ys([new wn("",'"interpolate" expressions cannot be used with this property')]);if(!Se)return uf(oe?new _l("constant",I.value):new _l("source",I.value));var De=Se instanceof Wa?Se.interpolation:void 0;return uf(oe?new Oo("camera",I.value,Se.labels,De):new Oo("composite",I.value,Se.labels,De))}var kl=function(z,Z){this._parameters=z,this._specification=Z,cn(this,cf(this._parameters,this._specification))};kl.deserialize=function(z){return new kl(z._parameters,z._specification)},kl.serialize=function(z){return{_parameters:z._parameters,_specification:z._specification}};function Oc(I,z){if(Rl(I))return new kl(I,z);if(ll(I)){var Z=Go(I,z);if(Z.result==="error")throw new Error(Z.value.map(function(ye){return ye.key+": "+ye.message}).join(", "));return Z.value}else{var oe=I;return typeof I=="string"&&z.type==="color"&&(oe=ta.parse(I)),{kind:"constant",evaluate:function(){return oe}}}}function au(I){var z=null;if(I instanceof Ws)z=au(I.result);else if(I instanceof Fo)for(var Z=0,oe=I.args;Z<oe.length;Z+=1){var ye=oe[Z];if(z=au(ye),z)break}else(I instanceof rl||I instanceof Wa)&&I.input instanceof lo&&I.input.name==="zoom"&&(z=I);return z instanceof wn||I.eachChild(function(Se){var De=au(Se);De instanceof wn?z=De:!z&&De?z=new wn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):z&&De&&z!==De&&(z=new wn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),z}function hf(I){var z={color:In,string:zr,number:Cr,enum:zr,boolean:dn,formatted:li,resolvedImage:ai};return I.type==="array"?oi(z[I.value]||yn,I.length):z[I.type]}function Bc(I){return I.type==="color"&&Rl(I.default)?new ta(0,0,0,0):I.type==="color"?ta.parse(I.default)||null:I.default===void 0?null:I.default}function cs(I){var z=I.key,Z=I.value,oe=I.valueSpec||{},ye=I.objectElementValidators||{},Se=I.style,De=I.styleSpec,Je=[],ft=fa(Z);if(ft!=="object")return[new wr(z,Z,"object expected, "+ft+" found")];for(var bt in Z){var St=bt.split(".")[0],Gt=oe[St]||oe["*"],sr=void 0;if(ye[St])sr=ye[St];else if(oe[St])sr=ir;else if(ye["*"])sr=ye["*"];else if(oe["*"])sr=ir;else{Je.push(new wr(z,Z[bt],'unknown property "'+bt+'"'));continue}Je=Je.concat(sr({key:(z&&z+".")+bt,value:Z[bt],valueSpec:Gt,style:Se,styleSpec:De,object:Z,objectKey:bt},Z))}for(var qt in oe)ye[qt]||oe[qt].required&&oe[qt].default===void 0&&Z[qt]===void 0&&Je.push(new wr(z,Z,'missing required property "'+qt+'"'));return Je}function $f(I){var z=I.value,Z=I.valueSpec,oe=I.style,ye=I.styleSpec,Se=I.key,De=I.arrayElementValidator||ir;if(fa(z)!=="array")return[new wr(Se,z,"array expected, "+fa(z)+" found")];if(Z.length&&z.length!==Z.length)return[new wr(Se,z,"array length "+Z.length+" expected, length "+z.length+" found")];if(Z["min-length"]&&z.length<Z["min-length"])return[new wr(Se,z,"array length at least "+Z["min-length"]+" expected, length "+z.length+" found")];var Je={type:Z.value,values:Z.values};ye.$version<7&&(Je.function=Z.function),fa(Z.value)==="object"&&(Je=Z.value);for(var ft=[],bt=0;bt<z.length;bt++)ft=ft.concat(De({array:z,arrayIndex:bt,value:z[bt],valueSpec:Je,style:oe,styleSpec:ye,key:Se+"["+bt+"]"}));return ft}function ul(I){var z=I.key,Z=I.value,oe=I.valueSpec,ye=fa(Z);return ye==="number"&&Z!==Z&&(ye="NaN"),ye!=="number"?[new wr(z,Z,"number expected, "+ye+" found")]:"minimum"in oe&&Z<oe.minimum?[new wr(z,Z,Z+" is less than the minimum value "+oe.minimum)]:"maximum"in oe&&Z>oe.maximum?[new wr(z,Z,Z+" is greater than the maximum value "+oe.maximum)]:[]}function ku(I){var z=I.valueSpec,Z=hn(I.value.type),oe,ye={},Se,De,Je=Z!=="categorical"&&I.value.property===void 0,ft=!Je,bt=fa(I.value.stops)==="array"&&fa(I.value.stops[0])==="array"&&fa(I.value.stops[0][0])==="object",St=cs({key:I.key,value:I.value,valueSpec:I.styleSpec.function,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{stops:Gt,default:mr}});return Z==="identity"&&Je&&St.push(new wr(I.key,I.value,'missing required property "property"')),Z!=="identity"&&!I.value.stops&&St.push(new wr(I.key,I.value,'missing required property "stops"')),Z==="exponential"&&I.valueSpec.expression&&!nu(I.valueSpec)&&St.push(new wr(I.key,I.value,"exponential functions not supported")),I.styleSpec.$version>=8&&(ft&&!Zs(I.valueSpec)?St.push(new wr(I.key,I.value,"property functions not supported")):Je&&!Kf(I.valueSpec)&&St.push(new wr(I.key,I.value,"zoom functions not supported"))),(Z==="categorical"||bt)&&I.value.property===void 0&&St.push(new wr(I.key,I.value,'"property" property is required')),St;function Gt(Nr){if(Z==="identity")return[new wr(Nr.key,Nr.value,'identity function may not have a "stops" property')];var rn=[],$r=Nr.value;return rn=rn.concat($f({key:Nr.key,value:$r,valueSpec:Nr.valueSpec,style:Nr.style,styleSpec:Nr.styleSpec,arrayElementValidator:sr})),fa($r)==="array"&&$r.length===0&&rn.push(new wr(Nr.key,$r,"array must have at least one stop")),rn}function sr(Nr){var rn=[],$r=Nr.value,Mn=Nr.key;if(fa($r)!=="array")return[new wr(Mn,$r,"array expected, "+fa($r)+" found")];if($r.length!==2)return[new wr(Mn,$r,"array length 2 expected, length "+$r.length+" found")];if(bt){if(fa($r[0])!=="object")return[new wr(Mn,$r,"object expected, "+fa($r[0])+" found")];if($r[0].zoom===void 0)return[new wr(Mn,$r,"object stop key must have zoom")];if($r[0].value===void 0)return[new wr(Mn,$r,"object stop key must have value")];if(De&&De>hn($r[0].zoom))return[new wr(Mn,$r[0].zoom,"stop zoom values must appear in ascending order")];hn($r[0].zoom)!==De&&(De=hn($r[0].zoom),Se=void 0,ye={}),rn=rn.concat(cs({key:Mn+"[0]",value:$r[0],valueSpec:{zoom:{}},style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{zoom:ul,value:qt}}))}else rn=rn.concat(qt({key:Mn+"[0]",value:$r[0],valueSpec:{},style:Nr.style,styleSpec:Nr.styleSpec},$r));return ll(Ln($r[1]))?rn.concat([new wr(Mn+"[1]",$r[1],"expressions are not allowed in function stops.")]):rn.concat(ir({key:Mn+"[1]",value:$r[1],valueSpec:z,style:Nr.style,styleSpec:Nr.styleSpec}))}function qt(Nr,rn){var $r=fa(Nr.value),Mn=hn(Nr.value),xn=Nr.value!==null?Nr.value:rn;if(!oe)oe=$r;else if($r!==oe)return[new wr(Nr.key,xn,$r+" stop domain type must match previous stop domain type "+oe)];if($r!=="number"&&$r!=="string"&&$r!=="boolean")return[new wr(Nr.key,xn,"stop domain value must be a number, string, or boolean")];if($r!=="number"&&Z!=="categorical"){var An="number expected, "+$r+" found";return Zs(z)&&Z===void 0&&(An+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new wr(Nr.key,xn,An)]}return Z==="categorical"&&$r==="number"&&(!isFinite(Mn)||Math.floor(Mn)!==Mn)?[new wr(Nr.key,xn,"integer expected, found "+Mn)]:Z!=="categorical"&&$r==="number"&&Se!==void 0&&Mn<Se?[new wr(Nr.key,xn,"stop domain values must appear in ascending order")]:(Se=Mn,Z==="categorical"&&Mn in ye?[new wr(Nr.key,xn,"stop domain values must be unique")]:(ye[Mn]=!0,[]))}function mr(Nr){return ir({key:Nr.key,value:Nr.value,valueSpec:z,style:Nr.style,styleSpec:Nr.styleSpec})}}function Xs(I){var z=(I.expressionContext==="property"?Go:Dl)(Ln(I.value),I.valueSpec);if(z.result==="error")return z.value.map(function(oe){return new wr(""+I.key+oe.key,I.value,oe.message)});var Z=z.value.expression||z.value._styleExpression.expression;if(I.expressionContext==="property"&&I.propertyKey==="text-font"&&!Z.outputDefined())return[new wr(I.key,I.value,'Invalid data expression for "'+I.propertyKey+'". Output values must be contained as literals within the expression.')];if(I.expressionContext==="property"&&I.propertyType==="layout"&&!Su(Z))return[new wr(I.key,I.value,'"feature-state" data expressions are not supported with layout properties.')];if(I.expressionContext==="filter"&&!Su(Z))return[new wr(I.key,I.value,'"feature-state" data expressions are not supported with filters.')];if(I.expressionContext&&I.expressionContext.indexOf("cluster")===0){if(!Jl(Z,["zoom","feature-state"]))return[new wr(I.key,I.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(I.expressionContext==="cluster-initial"&&!El(Z))return[new wr(I.key,I.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function tv(I){var z=I.value,Z=I.key,oe=fa(z);return oe!=="boolean"?[new wr(Z,z,"boolean expected, "+oe+" found")]:[]}function qf(I){var z=I.key,Z=I.value,oe=fa(Z);return oe!=="string"?[new wr(z,Z,"color expected, "+oe+" found")]:_f(Z)===null?[new wr(z,Z,'color expected, "'+Z+'" found')]:[]}function vf(I){var z=I.key,Z=I.value,oe=I.valueSpec,ye=[];return Array.isArray(oe.values)?oe.values.indexOf(hn(Z))===-1&&ye.push(new wr(z,Z,"expected one of ["+oe.values.join(", ")+"], "+JSON.stringify(Z)+" found")):Object.keys(oe.values).indexOf(hn(Z))===-1&&ye.push(new wr(z,Z,"expected one of ["+Object.keys(oe.values).join(", ")+"], "+JSON.stringify(Z)+" found")),ye}function To(I){if(I===!0||I===!1)return!0;if(!Array.isArray(I)||I.length===0)return!1;switch(I[0]){case"has":return I.length>=2&&I[1]!=="$id"&&I[1]!=="$type";case"in":return I.length>=3&&(typeof I[1]!="string"||Array.isArray(I[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return I.length!==3||Array.isArray(I[1])||Array.isArray(I[2]);case"any":case"all":for(var z=0,Z=I.slice(1);z<Z.length;z+=1){var oe=Z[z];if(!To(oe)&&typeof oe!="boolean")return!1}return!0;default:return!0}}var Nc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Iu(I){if(I==null)return{filter:function(){return!0},needGeometry:!1};To(I)||(I=fl(I));var z=Dl(I,Nc);if(z.result==="error")throw new Error(z.value.map(function(oe){return oe.key+": "+oe.message}).join(", "));var Z=Fu(I);return{filter:function(oe,ye,Se){return z.value.evaluate(oe,ye,{},Se)},needGeometry:Z}}function Ls(I,z){return I<z?-1:I>z?1:0}function Fu(I){if(!Array.isArray(I))return!1;if(I[0]==="within")return!0;for(var z=1;z<I.length;z++)if(Fu(I[z]))return!0;return!1}function fl(I){if(!I)return!0;var z=I[0];if(I.length<=1)return z!=="any";var Z=z==="=="?df(I[1],I[2],"=="):z==="!="?Il(df(I[1],I[2],"==")):z==="<"||z===">"||z==="<="||z===">="?df(I[1],I[2],z):z==="any"?Uc(I.slice(1)):z==="all"?["all"].concat(I.slice(1).map(fl)):z==="none"?["all"].concat(I.slice(1).map(fl).map(Il)):z==="in"?ec(I[1],I.slice(2)):z==="!in"?Il(ec(I[1],I.slice(2))):z==="has"?tc(I[1]):z==="!has"?Il(tc(I[1])):z==="within"?I:!0;return Z}function df(I,z,Z){switch(I){case"$type":return["filter-type-"+Z,z];case"$id":return["filter-id-"+Z,z];default:return["filter-"+Z,I,z]}}function Uc(I){return["any"].concat(I.map(fl))}function ec(I,z){if(z.length===0)return!1;switch(I){case"$type":return["filter-type-in",["literal",z]];case"$id":return["filter-id-in",["literal",z]];default:return z.length>200&&!z.some(function(Z){return typeof Z!=typeof z[0]})?["filter-in-large",I,["literal",z.sort(Ls)]]:["filter-in-small",I,["literal",z]]}}function tc(I){switch(I){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",I]}}function Il(I){return["!",I]}function pf(I){return To(Ln(I.value))?Xs(cn({},I,{expressionContext:"filter",valueSpec:{value:"boolean"}})):zu(I)}function zu(I){var z=I.value,Z=I.key;if(fa(z)!=="array")return[new wr(Z,z,"array expected, "+fa(z)+" found")];var oe=I.styleSpec,ye,Se=[];if(z.length<1)return[new wr(Z,z,"filter array must have at least 1 element")];switch(Se=Se.concat(vf({key:Z+"[0]",value:z[0],valueSpec:oe.filter_operator,style:I.style,styleSpec:I.styleSpec})),hn(z[0])){case"<":case"<=":case">":case">=":z.length>=2&&hn(z[1])==="$type"&&Se.push(new wr(Z,z,'"$type" cannot be use with operator "'+z[0]+'"'));case"==":case"!=":z.length!==3&&Se.push(new wr(Z,z,'filter array for operator "'+z[0]+'" must have 3 elements'));case"in":case"!in":z.length>=2&&(ye=fa(z[1]),ye!=="string"&&Se.push(new wr(Z+"[1]",z[1],"string expected, "+ye+" found")));for(var De=2;De<z.length;De++)ye=fa(z[De]),hn(z[1])==="$type"?Se=Se.concat(vf({key:Z+"["+De+"]",value:z[De],valueSpec:oe.geometry_type,style:I.style,styleSpec:I.styleSpec})):ye!=="string"&&ye!=="number"&&ye!=="boolean"&&Se.push(new wr(Z+"["+De+"]",z[De],"string, number, or boolean expected, "+ye+" found"));break;case"any":case"all":case"none":for(var Je=1;Je<z.length;Je++)Se=Se.concat(zu({key:Z+"["+Je+"]",value:z[Je],style:I.style,styleSpec:I.styleSpec}));break;case"has":case"!has":ye=fa(z[1]),z.length!==2?Se.push(new wr(Z,z,'filter array for "'+z[0]+'" operator must have 2 elements')):ye!=="string"&&Se.push(new wr(Z+"[1]",z[1],"string expected, "+ye+" found"));break;case"within":ye=fa(z[1]),z.length!==2?Se.push(new wr(Z,z,'filter array for "'+z[0]+'" operator must have 2 elements')):ye!=="object"&&Se.push(new wr(Z+"[1]",z[1],"object expected, "+ye+" found"));break}return Se}function Hc(I,z){var Z=I.key,oe=I.style,ye=I.styleSpec,Se=I.value,De=I.objectKey,Je=ye[z+"_"+I.layerType];if(!Je)return[];var ft=De.match(/^(.*)-transition$/);if(z==="paint"&&ft&&Je[ft[1]]&&Je[ft[1]].transition)return ir({key:Z,value:Se,valueSpec:ye.transition,style:oe,styleSpec:ye});var bt=I.valueSpec||Je[De];if(!bt)return[new wr(Z,Se,'unknown property "'+De+'"')];var St;if(fa(Se)==="string"&&Zs(bt)&&!bt.tokens&&(St=/^{([^}]+)}$/.exec(Se)))return[new wr(Z,Se,'"'+De+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(St[1])+" }`.")];var Gt=[];return I.layerType==="symbol"&&(De==="text-field"&&oe&&!oe.glyphs&&Gt.push(new wr(Z,Se,'use of "text-field" requires a style "glyphs" property')),De==="text-font"&&Rl(Ln(Se))&&hn(Se.type)==="identity"&&Gt.push(new wr(Z,Se,'"text-font" does not support identity functions'))),Gt.concat(ir({key:I.key,value:Se,valueSpec:bt,style:oe,styleSpec:ye,expressionContext:"property",propertyType:z,propertyKey:De}))}function Ou(I){return Hc(I,"paint")}function Vc(I){return Hc(I,"layout")}function Ke(I){var z=[],Z=I.value,oe=I.key,ye=I.style,Se=I.styleSpec;!Z.type&&!Z.ref&&z.push(new wr(oe,Z,'either "type" or "ref" is required'));var De=hn(Z.type),Je=hn(Z.ref);if(Z.id)for(var ft=hn(Z.id),bt=0;bt<I.arrayIndex;bt++){var St=ye.layers[bt];hn(St.id)===ft&&z.push(new wr(oe,Z.id,'duplicate layer id "'+Z.id+'", previously used at line '+St.id.__line__))}if("ref"in Z){["type","source","source-layer","filter","layout"].forEach(function(mr){mr in Z&&z.push(new wr(oe,Z[mr],'"'+mr+'" is prohibited for ref layers'))});var Gt;ye.layers.forEach(function(mr){hn(mr.id)===Je&&(Gt=mr)}),Gt?Gt.ref?z.push(new wr(oe,Z.ref,"ref cannot reference another ref layer")):De=hn(Gt.type):z.push(new wr(oe,Z.ref,'ref layer "'+Je+'" not found'))}else if(De!=="background")if(!Z.source)z.push(new wr(oe,Z,'missing required property "source"'));else{var sr=ye.sources&&ye.sources[Z.source],qt=sr&&hn(sr.type);sr?qt==="vector"&&De==="raster"?z.push(new wr(oe,Z.source,'layer "'+Z.id+'" requires a raster source')):qt==="raster"&&De!=="raster"?z.push(new wr(oe,Z.source,'layer "'+Z.id+'" requires a vector source')):qt==="vector"&&!Z["source-layer"]?z.push(new wr(oe,Z,'layer "'+Z.id+'" must specify a "source-layer"')):qt==="raster-dem"&&De!=="hillshade"?z.push(new wr(oe,Z.source,"raster-dem source can only be used with layer type 'hillshade'.")):De==="line"&&Z.paint&&Z.paint["line-gradient"]&&(qt!=="geojson"||!sr.lineMetrics)&&z.push(new wr(oe,Z,'layer "'+Z.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):z.push(new wr(oe,Z.source,'source "'+Z.source+'" not found'))}return z=z.concat(cs({key:oe,value:Z,valueSpec:Se.layer,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ir({key:oe+".type",value:Z.type,valueSpec:Se.layer.type,style:I.style,styleSpec:I.styleSpec,object:Z,objectKey:"type"})},filter:pf,layout:function(Nr){return cs({layer:Z,key:Nr.key,value:Nr.value,style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{"*":function($r){return Vc(cn({layerType:De},$r))}}})},paint:function(Nr){return cs({layer:Z,key:Nr.key,value:Nr.value,style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{"*":function($r){return Ou(cn({layerType:De},$r))}}})}}})),z}function rt(I){var z=I.value,Z=I.key,oe=fa(z);return oe!=="string"?[new wr(Z,z,"string expected, "+oe+" found")]:[]}var ht={promoteId:kt};function pt(I){var z=I.value,Z=I.key,oe=I.styleSpec,ye=I.style;if(!z.type)return[new wr(Z,z,'"type" is required')];var Se=hn(z.type),De;switch(Se){case"vector":case"raster":case"raster-dem":return De=cs({key:Z,value:z,valueSpec:oe["source_"+Se.replace("-","_")],style:I.style,styleSpec:oe,objectElementValidators:ht}),De;case"geojson":if(De=cs({key:Z,value:z,valueSpec:oe.source_geojson,style:ye,styleSpec:oe,objectElementValidators:ht}),z.cluster)for(var Je in z.clusterProperties){var ft=z.clusterProperties[Je],bt=ft[0],St=ft[1],Gt=typeof bt=="string"?[bt,["accumulated"],["get",Je]]:bt;De.push.apply(De,Xs({key:Z+"."+Je+".map",value:St,expressionContext:"cluster-map"})),De.push.apply(De,Xs({key:Z+"."+Je+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return De;case"video":return cs({key:Z,value:z,valueSpec:oe.source_video,style:ye,styleSpec:oe});case"image":return cs({key:Z,value:z,valueSpec:oe.source_image,style:ye,styleSpec:oe});case"canvas":return[new wr(Z,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return vf({key:Z+".type",value:z.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ye,styleSpec:oe})}}function kt(I){var z=I.key,Z=I.value;if(fa(Z)==="string")return rt({key:z,value:Z});var oe=[];for(var ye in Z)oe.push.apply(oe,rt({key:z+"."+ye,value:Z[ye]}));return oe}function Pt(I){var z=I.value,Z=I.styleSpec,oe=Z.light,ye=I.style,Se=[],De=fa(z);if(z===void 0)return Se;if(De!=="object")return Se=Se.concat([new wr("light",z,"object expected, "+De+" found")]),Se;for(var Je in z){var ft=Je.match(/^(.*)-transition$/);ft&&oe[ft[1]]&&oe[ft[1]].transition?Se=Se.concat(ir({key:Je,value:z[Je],valueSpec:Z.transition,style:ye,styleSpec:Z})):oe[Je]?Se=Se.concat(ir({key:Je,value:z[Je],valueSpec:oe[Je],style:ye,styleSpec:Z})):Se=Se.concat([new wr(Je,z[Je],'unknown property "'+Je+'"')])}return Se}function Ot(I){return rt(I).length===0?[]:Xs(I)}function cr(I){return rt(I).length===0?[]:Xs(I)}var gr={"*":function(){return[]},array:$f,boolean:tv,number:ul,color:qf,constants:an,enum:vf,filter:pf,function:ku,layer:Ke,object:cs,source:pt,light:Pt,string:rt,formatted:Ot,resolvedImage:cr};function ir(I){var z=I.value,Z=I.valueSpec,oe=I.styleSpec;if(Z.expression&&Rl(hn(z)))return ku(I);if(Z.expression&&ll(Ln(z)))return Xs(I);if(Z.type&&gr[Z.type])return gr[Z.type](I);var ye=cs(cn({},I,{valueSpec:Z.type?oe[Z.type]:Z}));return ye}function Tr(I){var z=I.value,Z=I.key,oe=rt(I);return oe.length||(z.indexOf("{fontstack}")===-1&&oe.push(new wr(Z,z,'"glyphs" url must include a "{fontstack}" token')),z.indexOf("{range}")===-1&&oe.push(new wr(Z,z,'"glyphs" url must include a "{range}" token'))),oe}function Pr(I,z){z===void 0&&(z=jt);var Z=[];return Z=Z.concat(ir({key:"",value:I,valueSpec:z.$root,styleSpec:z,style:I,objectElementValidators:{glyphs:Tr,"*":function(){return[]}}})),I.constants&&(Z=Z.concat(an({key:"constants",value:I.constants,style:I,styleSpec:z}))),Yr(Z)}Pr.source=Jr(pt),Pr.light=Jr(Pt),Pr.layer=Jr(Ke),Pr.filter=Jr(pf),Pr.paintProperty=Jr(Ou),Pr.layoutProperty=Jr(Vc);function Yr(I){return[].concat(I).sort(function(z,Z){return z.line-Z.line})}function Jr(I){return function(){for(var z=[],Z=arguments.length;Z--;)z[Z]=arguments[Z];return Yr(I.apply(this,z))}}var mn=Pr,bn=mn.light,Rn=mn.paintProperty,hi=mn.layoutProperty;function Ci(I,z){var Z=!1;if(z&&z.length)for(var oe=0,ye=z;oe<ye.length;oe+=1){var Se=ye[oe];I.fire(new nr(new Error(Se.message))),Z=!0}return Z}var Ri=ki,Di=3;function ki(I,z,Z){var oe=this.cells=[];if(I instanceof ArrayBuffer){this.arrayBuffer=I;var ye=new Int32Array(this.arrayBuffer);I=ye[0],z=ye[1],Z=ye[2],this.d=z+2*Z;for(var Se=0;Se<this.d*this.d;Se++){var De=ye[Di+Se],Je=ye[Di+Se+1];oe.push(De===Je?null:ye.subarray(De,Je))}var ft=ye[Di+oe.length],bt=ye[Di+oe.length+1];this.keys=ye.subarray(ft,bt),this.bboxes=ye.subarray(bt),this.insert=this._insertReadonly}else{this.d=z+2*Z;for(var St=0;St<this.d*this.d;St++)oe.push([]);this.keys=[],this.bboxes=[]}this.n=z,this.extent=I,this.padding=Z,this.scale=z/I,this.uid=0;var Gt=Z/z*I;this.min=-Gt,this.max=I+Gt}ki.prototype.insert=function(I,z,Z,oe,ye){this._forEachCell(z,Z,oe,ye,this._insertCell,this.uid++),this.keys.push(I),this.bboxes.push(z),this.bboxes.push(Z),this.bboxes.push(oe),this.bboxes.push(ye)},ki.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ki.prototype._insertCell=function(I,z,Z,oe,ye,Se){this.cells[ye].push(Se)},ki.prototype.query=function(I,z,Z,oe,ye){var Se=this.min,De=this.max;if(I<=Se&&z<=Se&&De<=Z&&De<=oe&&!ye)return Array.prototype.slice.call(this.keys);var Je=[],ft={};return this._forEachCell(I,z,Z,oe,this._queryCell,Je,ft,ye),Je},ki.prototype._queryCell=function(I,z,Z,oe,ye,Se,De,Je){var ft=this.cells[ye];if(ft!==null)for(var bt=this.keys,St=this.bboxes,Gt=0;Gt<ft.length;Gt++){var sr=ft[Gt];if(De[sr]===void 0){var qt=sr*4;(Je?Je(St[qt+0],St[qt+1],St[qt+2],St[qt+3]):I<=St[qt+2]&&z<=St[qt+3]&&Z>=St[qt+0]&&oe>=St[qt+1])?(De[sr]=!0,Se.push(bt[sr])):De[sr]=!1}}},ki.prototype._forEachCell=function(I,z,Z,oe,ye,Se,De,Je){for(var ft=this._convertToCellCoord(I),bt=this._convertToCellCoord(z),St=this._convertToCellCoord(Z),Gt=this._convertToCellCoord(oe),sr=ft;sr<=St;sr++)for(var qt=bt;qt<=Gt;qt++){var mr=this.d*qt+sr;if(!(Je&&!Je(this._convertFromCellCoord(sr),this._convertFromCellCoord(qt),this._convertFromCellCoord(sr+1),this._convertFromCellCoord(qt+1)))&&ye.call(this,I,z,Z,oe,mr,Se,De,Je))return}},ki.prototype._convertFromCellCoord=function(I){return(I-this.padding)/this.scale},ki.prototype._convertToCellCoord=function(I){return Math.max(0,Math.min(this.d-1,Math.floor(I*this.scale)+this.padding))},ki.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var I=this.cells,z=Di+this.cells.length+1+1,Z=0,oe=0;oe<this.cells.length;oe++)Z+=this.cells[oe].length;var ye=new Int32Array(z+Z+this.keys.length+this.bboxes.length);ye[0]=this.extent,ye[1]=this.n,ye[2]=this.padding;for(var Se=z,De=0;De<I.length;De++){var Je=I[De];ye[Di+De]=Se,ye.set(Je,Se),Se+=Je.length}return ye[Di+I.length]=Se,ye.set(this.keys,Se),Se+=this.keys.length,ye[Di+I.length+1]=Se,ye.set(this.bboxes,Se),Se+=this.bboxes.length,ye.buffer};var oa=self.ImageData,Ia=self.ImageBitmap,ma={};function ve(I,z,Z){Z===void 0&&(Z={}),Object.defineProperty(z,"_classRegistryKey",{value:I,writeable:!1}),ma[I]={klass:z,omit:Z.omit||[],shallow:Z.shallow||[]}}ve("Object",Object),Ri.serialize=function(z,Z){var oe=z.toArrayBuffer();return Z&&Z.push(oe),{buffer:oe}},Ri.deserialize=function(z){return new Ri(z.buffer)},ve("Grid",Ri),ve("Color",ta),ve("Error",Error),ve("ResolvedImage",Io),ve("StylePropertyFunction",kl),ve("StyleExpression",js,{omit:["_evaluator"]}),ve("ZoomDependentExpression",Oo),ve("ZoomConstantExpression",_l),ve("CompoundExpression",lo,{omit:["_evaluate"]});for(var Pe in Cs)Cs[Pe]._classRegistryKey||ve("Expression_"+Pe,Cs[Pe]);function He(I){return I&&typeof ArrayBuffer<"u"&&(I instanceof ArrayBuffer||I.constructor&&I.constructor.name==="ArrayBuffer")}function Qe(I){return Ia&&I instanceof Ia}function et(I,z){if(I==null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||I instanceof Boolean||I instanceof Number||I instanceof String||I instanceof Date||I instanceof RegExp)return I;if(He(I)||Qe(I))return z&&z.push(I),I;if(ArrayBuffer.isView(I)){var Z=I;return z&&z.push(Z.buffer),Z}if(I instanceof oa)return z&&z.push(I.data.buffer),I;if(Array.isArray(I)){for(var oe=[],ye=0,Se=I;ye<Se.length;ye+=1){var De=Se[ye];oe.push(et(De,z))}return oe}if(typeof I=="object"){var Je=I.constructor,ft=Je._classRegistryKey;if(!ft)throw new Error("can't serialize object of unregistered class");var bt=Je.serialize?Je.serialize(I,z):{};if(!Je.serialize){for(var St in I)if(I.hasOwnProperty(St)&&!(ma[ft].omit.indexOf(St)>=0)){var Gt=I[St];bt[St]=ma[ft].shallow.indexOf(St)>=0?Gt:et(Gt,z)}I instanceof Error&&(bt.message=I.message)}if(bt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ft!=="Object"&&(bt.$name=ft),bt}throw new Error("can't serialize object of type "+typeof I)}function at(I){if(I==null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||I instanceof Boolean||I instanceof Number||I instanceof String||I instanceof Date||I instanceof RegExp||He(I)||Qe(I)||ArrayBuffer.isView(I)||I instanceof oa)return I;if(Array.isArray(I))return I.map(at);if(typeof I=="object"){var z=I.$name||"Object",Z=ma[z],oe=Z.klass;if(!oe)throw new Error("can't deserialize unregistered class "+z);if(oe.deserialize)return oe.deserialize(I);for(var ye=Object.create(oe.prototype),Se=0,De=Object.keys(I);Se<De.length;Se+=1){var Je=De[Se];if(Je!=="$name"){var ft=I[Je];ye[Je]=ma[z].shallow.indexOf(Je)>=0?ft:at(ft)}}return ye}throw new Error("can't deserialize object of type "+typeof I)}var Rt=function(){this.first=!0};Rt.prototype.update=function(z,Z){var oe=Math.floor(z);return this.first?(this.first=!1,this.lastIntegerZoom=oe,this.lastIntegerZoomTime=0,this.lastZoom=z,this.lastFloorZoom=oe,!0):(this.lastFloorZoom>oe?(this.lastIntegerZoom=oe+1,this.lastIntegerZoomTime=Z):this.lastFloorZoom<oe&&(this.lastIntegerZoom=oe,this.lastIntegerZoomTime=Z),z!==this.lastZoom?(this.lastZoom=z,this.lastFloorZoom=oe,!0):!1)};var ct={"Latin-1 Supplement":function(I){return I>=128&&I<=255},Arabic:function(I){return I>=1536&&I<=1791},"Arabic Supplement":function(I){return I>=1872&&I<=1919},"Arabic Extended-A":function(I){return I>=2208&&I<=2303},"Hangul Jamo":function(I){return I>=4352&&I<=4607},"Unified Canadian Aboriginal Syllabics":function(I){return I>=5120&&I<=5759},Khmer:function(I){return I>=6016&&I<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(I){return I>=6320&&I<=6399},"General Punctuation":function(I){return I>=8192&&I<=8303},"Letterlike Symbols":function(I){return I>=8448&&I<=8527},"Number Forms":function(I){return I>=8528&&I<=8591},"Miscellaneous Technical":function(I){return I>=8960&&I<=9215},"Control Pictures":function(I){return I>=9216&&I<=9279},"Optical Character Recognition":function(I){return I>=9280&&I<=9311},"Enclosed Alphanumerics":function(I){return I>=9312&&I<=9471},"Geometric Shapes":function(I){return I>=9632&&I<=9727},"Miscellaneous Symbols":function(I){return I>=9728&&I<=9983},"Miscellaneous Symbols and Arrows":function(I){return I>=11008&&I<=11263},"CJK Radicals Supplement":function(I){return I>=11904&&I<=12031},"Kangxi Radicals":function(I){return I>=12032&&I<=12255},"Ideographic Description Characters":function(I){return I>=12272&&I<=12287},"CJK Symbols and Punctuation":function(I){return I>=12288&&I<=12351},Hiragana:function(I){return I>=12352&&I<=12447},Katakana:function(I){return I>=12448&&I<=12543},Bopomofo:function(I){return I>=12544&&I<=12591},"Hangul Compatibility Jamo":function(I){return I>=12592&&I<=12687},Kanbun:function(I){return I>=12688&&I<=12703},"Bopomofo Extended":function(I){return I>=12704&&I<=12735},"CJK Strokes":function(I){return I>=12736&&I<=12783},"Katakana Phonetic Extensions":function(I){return I>=12784&&I<=12799},"Enclosed CJK Letters and Months":function(I){return I>=12800&&I<=13055},"CJK Compatibility":function(I){return I>=13056&&I<=13311},"CJK Unified Ideographs Extension A":function(I){return I>=13312&&I<=19903},"Yijing Hexagram Symbols":function(I){return I>=19904&&I<=19967},"CJK Unified Ideographs":function(I){return I>=19968&&I<=40959},"Yi Syllables":function(I){return I>=40960&&I<=42127},"Yi Radicals":function(I){return I>=42128&&I<=42191},"Hangul Jamo Extended-A":function(I){return I>=43360&&I<=43391},"Hangul Syllables":function(I){return I>=44032&&I<=55215},"Hangul Jamo Extended-B":function(I){return I>=55216&&I<=55295},"Private Use Area":function(I){return I>=57344&&I<=63743},"CJK Compatibility Ideographs":function(I){return I>=63744&&I<=64255},"Arabic Presentation Forms-A":function(I){return I>=64336&&I<=65023},"Vertical Forms":function(I){return I>=65040&&I<=65055},"CJK Compatibility Forms":function(I){return I>=65072&&I<=65103},"Small Form Variants":function(I){return I>=65104&&I<=65135},"Arabic Presentation Forms-B":function(I){return I>=65136&&I<=65279},"Halfwidth and Fullwidth Forms":function(I){return I>=65280&&I<=65519}};function Nt(I){for(var z=0,Z=I;z<Z.length;z+=1){var oe=Z[z];if(Sr(oe.charCodeAt(0)))return!0}return!1}function er(I){for(var z=0,Z=I;z<Z.length;z+=1){var oe=Z[z];if(!tr(oe.charCodeAt(0)))return!1}return!0}function tr(I){return!(ct.Arabic(I)||ct["Arabic Supplement"](I)||ct["Arabic Extended-A"](I)||ct["Arabic Presentation Forms-A"](I)||ct["Arabic Presentation Forms-B"](I))}function Lr(I){return I<11904?!1:!!(ct["Bopomofo Extended"](I)||ct.Bopomofo(I)||ct["CJK Compatibility Forms"](I)||ct["CJK Compatibility Ideographs"](I)||ct["CJK Compatibility"](I)||ct["CJK Radicals Supplement"](I)||ct["CJK Strokes"](I)||ct["CJK Symbols and Punctuation"](I)||ct["CJK Unified Ideographs Extension A"](I)||ct["CJK Unified Ideographs"](I)||ct["Enclosed CJK Letters and Months"](I)||ct["Halfwidth and Fullwidth Forms"](I)||ct.Hiragana(I)||ct["Ideographic Description Characters"](I)||ct["Kangxi Radicals"](I)||ct["Katakana Phonetic Extensions"](I)||ct.Katakana(I)||ct["Vertical Forms"](I)||ct["Yi Radicals"](I)||ct["Yi Syllables"](I))}function Sr(I){return I===746||I===747?!0:I<4352?!1:!!(ct["Bopomofo Extended"](I)||ct.Bopomofo(I)||ct["CJK Compatibility Forms"](I)&&!(I>=65097&&I<=65103)||ct["CJK Compatibility Ideographs"](I)||ct["CJK Compatibility"](I)||ct["CJK Radicals Supplement"](I)||ct["CJK Strokes"](I)||ct["CJK Symbols and Punctuation"](I)&&!(I>=12296&&I<=12305)&&!(I>=12308&&I<=12319)&&I!==12336||ct["CJK Unified Ideographs Extension A"](I)||ct["CJK Unified Ideographs"](I)||ct["Enclosed CJK Letters and Months"](I)||ct["Hangul Compatibility Jamo"](I)||ct["Hangul Jamo Extended-A"](I)||ct["Hangul Jamo Extended-B"](I)||ct["Hangul Jamo"](I)||ct["Hangul Syllables"](I)||ct.Hiragana(I)||ct["Ideographic Description Characters"](I)||ct.Kanbun(I)||ct["Kangxi Radicals"](I)||ct["Katakana Phonetic Extensions"](I)||ct.Katakana(I)&&I!==12540||ct["Halfwidth and Fullwidth Forms"](I)&&I!==65288&&I!==65289&&I!==65293&&!(I>=65306&&I<=65310)&&I!==65339&&I!==65341&&I!==65343&&!(I>=65371&&I<=65503)&&I!==65507&&!(I>=65512&&I<=65519)||ct["Small Form Variants"](I)&&!(I>=65112&&I<=65118)&&!(I>=65123&&I<=65126)||ct["Unified Canadian Aboriginal Syllabics"](I)||ct["Unified Canadian Aboriginal Syllabics Extended"](I)||ct["Vertical Forms"](I)||ct["Yijing Hexagram Symbols"](I)||ct["Yi Syllables"](I)||ct["Yi Radicals"](I))}function Kr(I){return!!(ct["Latin-1 Supplement"](I)&&(I===167||I===169||I===174||I===177||I===188||I===189||I===190||I===215||I===247)||ct["General Punctuation"](I)&&(I===8214||I===8224||I===8225||I===8240||I===8241||I===8251||I===8252||I===8258||I===8263||I===8264||I===8265||I===8273)||ct["Letterlike Symbols"](I)||ct["Number Forms"](I)||ct["Miscellaneous Technical"](I)&&(I>=8960&&I<=8967||I>=8972&&I<=8991||I>=8996&&I<=9e3||I===9003||I>=9085&&I<=9114||I>=9150&&I<=9165||I===9167||I>=9169&&I<=9179||I>=9186&&I<=9215)||ct["Control Pictures"](I)&&I!==9251||ct["Optical Character Recognition"](I)||ct["Enclosed Alphanumerics"](I)||ct["Geometric Shapes"](I)||ct["Miscellaneous Symbols"](I)&&!(I>=9754&&I<=9759)||ct["Miscellaneous Symbols and Arrows"](I)&&(I>=11026&&I<=11055||I>=11088&&I<=11097||I>=11192&&I<=11243)||ct["CJK Symbols and Punctuation"](I)||ct.Katakana(I)||ct["Private Use Area"](I)||ct["CJK Compatibility Forms"](I)||ct["Small Form Variants"](I)||ct["Halfwidth and Fullwidth Forms"](I)||I===8734||I===8756||I===8757||I>=9984&&I<=10087||I>=10102&&I<=10131||I===65532||I===65533)}function en(I){return!(Sr(I)||Kr(I))}function Dr(I){return ct.Arabic(I)||ct["Arabic Supplement"](I)||ct["Arabic Extended-A"](I)||ct["Arabic Presentation Forms-A"](I)||ct["Arabic Presentation Forms-B"](I)}function Ur(I){return I>=1424&&I<=2303||ct["Arabic Presentation Forms-A"](I)||ct["Arabic Presentation Forms-B"](I)}function Zr(I,z){return!(!z&&Ur(I)||I>=2304&&I<=3583||I>=3840&&I<=4255||ct.Khmer(I))}function tn(I){for(var z=0,Z=I;z<Z.length;z+=1){var oe=Z[z];if(Ur(oe.charCodeAt(0)))return!0}return!1}function ln(I,z){for(var Z=0,oe=I;Z<oe.length;Z+=1){var ye=oe[Z];if(!Zr(ye.charCodeAt(0),z))return!1}return!0}var jr={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},On=null,Vn=jr.unavailable,Kn=null,ni=function(I){I&&typeof I=="string"&&I.indexOf("NetworkError")>-1&&(Vn=jr.error),On&&On(I)};function xi(){mi.fire(new Zt("pluginStateChange",{pluginStatus:Vn,pluginURL:Kn}))}var mi=new lr,Ui=function(){return Vn},Ei=function(I){return I({pluginStatus:Vn,pluginURL:Kn}),mi.on("pluginStateChange",I),I},Oi=function(I,z,Z){if(Z===void 0&&(Z=!1),Vn===jr.deferred||Vn===jr.loading||Vn===jr.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");Kn=fe.resolveURL(I),Vn=jr.deferred,On=z,xi(),Z||$i()},$i=function(){if(Vn!==jr.deferred||!Kn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Vn=jr.loading,xi(),Kn&&Tt({url:Kn},function(I){I?ni(I):(Vn=jr.loaded,xi())})},ra={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Vn===jr.loaded||ra.applyArabicShaping!=null},isLoading:function(){return Vn===jr.loading},setState:function(z){Vn=z.pluginStatus,Kn=z.pluginURL},isParsed:function(){return ra.applyArabicShaping!=null&&ra.processBidirectionalText!=null&&ra.processStyledBidirectionalText!=null},getPluginURL:function(){return Kn}},ca=function(){!ra.isLoading()&&!ra.isLoaded()&&Ui()==="deferred"&&$i()},Bn=function(z,Z){this.zoom=z,Z?(this.now=Z.now,this.fadeDuration=Z.fadeDuration,this.zoomHistory=Z.zoomHistory,this.transition=Z.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Rt,this.transition={})};Bn.prototype.isSupportedScript=function(z){return ln(z,ra.isLoaded())},Bn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Bn.prototype.getCrossfadeParameters=function(){var z=this.zoom,Z=z-Math.floor(z),oe=this.crossFadingFactor();return z>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:Z+(1-Z)*oe}:{fromScale:.5,toScale:1,t:1-(1-oe)*Z}};var Bi=function(z,Z){this.property=z,this.value=Z,this.expression=Oc(Z===void 0?z.specification.default:Z,z.specification)};Bi.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Bi.prototype.possiblyEvaluate=function(z,Z,oe){return this.property.possiblyEvaluate(this,z,Z,oe)};var Fi=function(z){this.property=z,this.value=new Bi(z,void 0)};Fi.prototype.transitioned=function(z,Z){return new La(this.property,this.value,Z,u({},z.transition,this.transition),z.now)},Fi.prototype.untransitioned=function(){return new La(this.property,this.value,null,{},0)};var Zi=function(z){this._properties=z,this._values=Object.create(z.defaultTransitionablePropertyValues)};Zi.prototype.getValue=function(z){return b(this._values[z].value.value)},Zi.prototype.setValue=function(z,Z){this._values.hasOwnProperty(z)||(this._values[z]=new Fi(this._values[z].property)),this._values[z].value=new Bi(this._values[z].property,Z===null?void 0:b(Z))},Zi.prototype.getTransition=function(z){return b(this._values[z].transition)},Zi.prototype.setTransition=function(z,Z){this._values.hasOwnProperty(z)||(this._values[z]=new Fi(this._values[z].property)),this._values[z].transition=b(Z)||void 0},Zi.prototype.serialize=function(){for(var z={},Z=0,oe=Object.keys(this._values);Z<oe.length;Z+=1){var ye=oe[Z],Se=this.getValue(ye);Se!==void 0&&(z[ye]=Se);var De=this.getTransition(ye);De!==void 0&&(z[ye+"-transition"]=De)}return z},Zi.prototype.transitioned=function(z,Z){for(var oe=new Va(this._properties),ye=0,Se=Object.keys(this._values);ye<Se.length;ye+=1){var De=Se[ye];oe._values[De]=this._values[De].transitioned(z,Z._values[De])}return oe},Zi.prototype.untransitioned=function(){for(var z=new Va(this._properties),Z=0,oe=Object.keys(this._values);Z<oe.length;Z+=1){var ye=oe[Z];z._values[ye]=this._values[ye].untransitioned()}return z};var La=function(z,Z,oe,ye,Se){this.property=z,this.value=Z,this.begin=Se+ye.delay||0,this.end=this.begin+ye.duration||0,z.specification.transition&&(ye.delay||ye.duration)&&(this.prior=oe)};La.prototype.possiblyEvaluate=function(z,Z,oe){var ye=z.now||0,Se=this.value.possiblyEvaluate(z,Z,oe),De=this.prior;if(De){if(ye>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(ye<this.begin)return De.possiblyEvaluate(z,Z,oe);var Je=(ye-this.begin)/(this.end-this.begin);return this.property.interpolate(De.possiblyEvaluate(z,Z,oe),Se,i(Je))}else return Se};var Va=function(z){this._properties=z,this._values=Object.create(z.defaultTransitioningPropertyValues)};Va.prototype.possiblyEvaluate=function(z,Z,oe){for(var ye=new va(this._properties),Se=0,De=Object.keys(this._values);Se<De.length;Se+=1){var Je=De[Se];ye._values[Je]=this._values[Je].possiblyEvaluate(z,Z,oe)}return ye},Va.prototype.hasTransition=function(){for(var z=0,Z=Object.keys(this._values);z<Z.length;z+=1){var oe=Z[z];if(this._values[oe].prior)return!0}return!1};var Za=function(z){this._properties=z,this._values=Object.create(z.defaultPropertyValues)};Za.prototype.getValue=function(z){return b(this._values[z].value)},Za.prototype.setValue=function(z,Z){this._values[z]=new Bi(this._values[z].property,Z===null?void 0:b(Z))},Za.prototype.serialize=function(){for(var z={},Z=0,oe=Object.keys(this._values);Z<oe.length;Z+=1){var ye=oe[Z],Se=this.getValue(ye);Se!==void 0&&(z[ye]=Se)}return z},Za.prototype.possiblyEvaluate=function(z,Z,oe){for(var ye=new va(this._properties),Se=0,De=Object.keys(this._values);Se<De.length;Se+=1){var Je=De[Se];ye._values[Je]=this._values[Je].possiblyEvaluate(z,Z,oe)}return ye};var Ta=function(z,Z,oe){this.property=z,this.value=Z,this.parameters=oe};Ta.prototype.isConstant=function(){return this.value.kind==="constant"},Ta.prototype.constantOr=function(z){return this.value.kind==="constant"?this.value.value:z},Ta.prototype.evaluate=function(z,Z,oe,ye){return this.property.evaluate(this.value,this.parameters,z,Z,oe,ye)};var va=function(z){this._properties=z,this._values=Object.create(z.defaultPossiblyEvaluatedValues)};va.prototype.get=function(z){return this._values[z]};var gi=function(z){this.specification=z};gi.prototype.possiblyEvaluate=function(z,Z){return z.expression.evaluate(Z)},gi.prototype.interpolate=function(z,Z,oe){var ye=$l[this.specification.type];return ye?ye(z,Z,oe):z};var Mi=function(z,Z){this.specification=z,this.overrides=Z};Mi.prototype.possiblyEvaluate=function(z,Z,oe,ye){return z.expression.kind==="constant"||z.expression.kind==="camera"?new Ta(this,{kind:"constant",value:z.expression.evaluate(Z,null,{},oe,ye)},Z):new Ta(this,z.expression,Z)},Mi.prototype.interpolate=function(z,Z,oe){if(z.value.kind!=="constant"||Z.value.kind!=="constant")return z;if(z.value.value===void 0||Z.value.value===void 0)return new Ta(this,{kind:"constant",value:void 0},z.parameters);var ye=$l[this.specification.type];return ye?new Ta(this,{kind:"constant",value:ye(z.value.value,Z.value.value,oe)},z.parameters):z},Mi.prototype.evaluate=function(z,Z,oe,ye,Se,De){return z.kind==="constant"?z.value:z.evaluate(Z,oe,ye,Se,De)};var Aa=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.possiblyEvaluate=function(oe,ye,Se,De){if(oe.value===void 0)return new Ta(this,{kind:"constant",value:void 0},ye);if(oe.expression.kind==="constant"){var Je=oe.expression.evaluate(ye,null,{},Se,De),ft=oe.property.specification.type==="resolvedImage",bt=ft&&typeof Je!="string"?Je.name:Je,St=this._calculate(bt,bt,bt,ye);return new Ta(this,{kind:"constant",value:St},ye)}else if(oe.expression.kind==="camera"){var Gt=this._calculate(oe.expression.evaluate({zoom:ye.zoom-1}),oe.expression.evaluate({zoom:ye.zoom}),oe.expression.evaluate({zoom:ye.zoom+1}),ye);return new Ta(this,{kind:"constant",value:Gt},ye)}else return new Ta(this,oe.expression,ye)},z.prototype.evaluate=function(oe,ye,Se,De,Je,ft){if(oe.kind==="source"){var bt=oe.evaluate(ye,Se,De,Je,ft);return this._calculate(bt,bt,bt,ye)}else return oe.kind==="composite"?this._calculate(oe.evaluate({zoom:Math.floor(ye.zoom)-1},Se,De),oe.evaluate({zoom:Math.floor(ye.zoom)},Se,De),oe.evaluate({zoom:Math.floor(ye.zoom)+1},Se,De),ye):oe.value},z.prototype._calculate=function(oe,ye,Se,De){var Je=De.zoom;return Je>De.zoomHistory.lastIntegerZoom?{from:oe,to:ye}:{from:Se,to:ye}},z.prototype.interpolate=function(oe){return oe},z}(Mi),Ya=function(z){this.specification=z};Ya.prototype.possiblyEvaluate=function(z,Z,oe,ye){if(z.value!==void 0)if(z.expression.kind==="constant"){var Se=z.expression.evaluate(Z,null,{},oe,ye);return this._calculate(Se,Se,Se,Z)}else return this._calculate(z.expression.evaluate(new Bn(Math.floor(Z.zoom-1),Z)),z.expression.evaluate(new Bn(Math.floor(Z.zoom),Z)),z.expression.evaluate(new Bn(Math.floor(Z.zoom+1),Z)),Z)},Ya.prototype._calculate=function(z,Z,oe,ye){var Se=ye.zoom;return Se>ye.zoomHistory.lastIntegerZoom?{from:z,to:Z}:{from:oe,to:Z}},Ya.prototype.interpolate=function(z){return z};var Yo=function(z){this.specification=z};Yo.prototype.possiblyEvaluate=function(z,Z,oe,ye){return!!z.expression.evaluate(Z,null,{},oe,ye)},Yo.prototype.interpolate=function(){return!1};var io=function(z){this.properties=z,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var Z in z){var oe=z[Z];oe.specification.overridable&&this.overridableProperties.push(Z);var ye=this.defaultPropertyValues[Z]=new Bi(oe,void 0),Se=this.defaultTransitionablePropertyValues[Z]=new Fi(oe);this.defaultTransitioningPropertyValues[Z]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[Z]=ye.possiblyEvaluate({})}};ve("DataDrivenProperty",Mi),ve("DataConstantProperty",gi),ve("CrossFadedDataDrivenProperty",Aa),ve("CrossFadedProperty",Ya),ve("ColorRampProperty",Yo);var Co="-transition",Ra=function(I){function z(Z,oe){if(I.call(this),this.id=Z.id,this.type=Z.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},Z.type!=="custom"&&(Z=Z,this.metadata=Z.metadata,this.minzoom=Z.minzoom,this.maxzoom=Z.maxzoom,Z.type!=="background"&&(this.source=Z.source,this.sourceLayer=Z["source-layer"],this.filter=Z.filter),oe.layout&&(this._unevaluatedLayout=new Za(oe.layout)),oe.paint)){this._transitionablePaint=new Zi(oe.paint);for(var ye in Z.paint)this.setPaintProperty(ye,Z.paint[ye],{validate:!1});for(var Se in Z.layout)this.setLayoutProperty(Se,Z.layout[Se],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new va(oe.paint)}}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},z.prototype.getLayoutProperty=function(oe){return oe==="visibility"?this.visibility:this._unevaluatedLayout.getValue(oe)},z.prototype.setLayoutProperty=function(oe,ye,Se){if(Se===void 0&&(Se={}),ye!=null){var De="layers."+this.id+".layout."+oe;if(this._validate(hi,De,oe,ye,Se))return}if(oe==="visibility"){this.visibility=ye;return}this._unevaluatedLayout.setValue(oe,ye)},z.prototype.getPaintProperty=function(oe){return A(oe,Co)?this._transitionablePaint.getTransition(oe.slice(0,-Co.length)):this._transitionablePaint.getValue(oe)},z.prototype.setPaintProperty=function(oe,ye,Se){if(Se===void 0&&(Se={}),ye!=null){var De="layers."+this.id+".paint."+oe;if(this._validate(Rn,De,oe,ye,Se))return!1}if(A(oe,Co))return this._transitionablePaint.setTransition(oe.slice(0,-Co.length),ye||void 0),!1;var Je=this._transitionablePaint._values[oe],ft=Je.property.specification["property-type"]==="cross-faded-data-driven",bt=Je.value.isDataDriven(),St=Je.value;this._transitionablePaint.setValue(oe,ye),this._handleSpecialPaintPropertyUpdate(oe);var Gt=this._transitionablePaint._values[oe].value,sr=Gt.isDataDriven();return sr||bt||ft||this._handleOverridablePaintPropertyUpdate(oe,St,Gt)},z.prototype._handleSpecialPaintPropertyUpdate=function(oe){},z.prototype._handleOverridablePaintPropertyUpdate=function(oe,ye,Se){return!1},z.prototype.isHidden=function(oe){return this.minzoom&&oe<this.minzoom||this.maxzoom&&oe>=this.maxzoom?!0:this.visibility==="none"},z.prototype.updateTransitions=function(oe){this._transitioningPaint=this._transitionablePaint.transitioned(oe,this._transitioningPaint)},z.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},z.prototype.recalculate=function(oe,ye){oe.getCrossfadeParameters&&(this._crossfadeParameters=oe.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(oe,void 0,ye)),this.paint=this._transitioningPaint.possiblyEvaluate(oe,void 0,ye)},z.prototype.serialize=function(){var oe={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(oe.layout=oe.layout||{},oe.layout.visibility=this.visibility),R(oe,function(ye,Se){return ye!==void 0&&!(Se==="layout"&&!Object.keys(ye).length)&&!(Se==="paint"&&!Object.keys(ye).length)})},z.prototype._validate=function(oe,ye,Se,De,Je){return Je===void 0&&(Je={}),Je&&Je.validate===!1?!1:Ci(this,oe.call(mn,{key:ye,layerType:this.type,objectKey:Se,value:De,styleSpec:jt,style:{glyphs:!0,sprite:!0}}))},z.prototype.is3D=function(){return!1},z.prototype.isTileClipped=function(){return!1},z.prototype.hasOffscreenPass=function(){return!1},z.prototype.resize=function(){},z.prototype.isStateDependent=function(){for(var oe in this.paint._values){var ye=this.paint.get(oe);if(!(!(ye instanceof Ta)||!Zs(ye.property.specification))&&(ye.value.kind==="source"||ye.value.kind==="composite")&&ye.value.isStateDependent)return!0}return!1},z}(lr),es={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},xa=function(z,Z){this._structArray=z,this._pos1=Z*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ps=128,ts=5,Xi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Xi.serialize=function(z,Z){return z._trim(),Z&&(z.isTransferred=!0,Z.push(z.arrayBuffer)),{length:z.length,arrayBuffer:z.arrayBuffer}},Xi.deserialize=function(z){var Z=Object.create(this.prototype);return Z.arrayBuffer=z.arrayBuffer,Z.length=z.length,Z.capacity=z.arrayBuffer.byteLength/Z.bytesPerElement,Z._refreshViews(),Z},Xi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Xi.prototype.clear=function(){this.length=0},Xi.prototype.resize=function(z){this.reserve(z),this.length=z},Xi.prototype.reserve=function(z){if(z>this.capacity){this.capacity=Math.max(z,Math.floor(this.capacity*ts),Ps),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var Z=this.uint8;this._refreshViews(),Z&&this.uint8.set(Z)}},Xi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Ma(I,z){z===void 0&&(z=1);var Z=0,oe=0,ye=I.map(function(De){var Je=Wc(De.type),ft=Z=rc(Z,Math.max(z,Je)),bt=De.components||1;return oe=Math.max(oe,Je),Z+=Je*bt,{name:De.name,type:De.type,components:bt,offset:ft}}),Se=rc(Z,Math.max(oe,z));return{members:ye,size:Se,alignment:z}}function Wc(I){return es[I].BYTES_PER_ELEMENT}function rc(I,z){return Math.ceil(I/z)*z}var rv=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye){var Se=this.length;return this.resize(Se+1),this.emplace(Se,oe,ye)},z.prototype.emplace=function(oe,ye,Se){var De=oe*2;return this.int16[De+0]=ye,this.int16[De+1]=Se,oe},z}(Xi);rv.prototype.bytesPerElement=4,ve("StructArrayLayout2i4",rv);var gf=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De){var Je=this.length;return this.resize(Je+1),this.emplace(Je,oe,ye,Se,De)},z.prototype.emplace=function(oe,ye,Se,De,Je){var ft=oe*4;return this.int16[ft+0]=ye,this.int16[ft+1]=Se,this.int16[ft+2]=De,this.int16[ft+3]=Je,oe},z}(Xi);gf.prototype.bytesPerElement=8,ve("StructArrayLayout4i8",gf);var Gc=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De,Je,ft){var bt=this.length;return this.resize(bt+1),this.emplace(bt,oe,ye,Se,De,Je,ft)},z.prototype.emplace=function(oe,ye,Se,De,Je,ft,bt){var St=oe*6;return this.int16[St+0]=ye,this.int16[St+1]=Se,this.int16[St+2]=De,this.int16[St+3]=Je,this.int16[St+4]=ft,this.int16[St+5]=bt,oe},z}(Xi);Gc.prototype.bytesPerElement=12,ve("StructArrayLayout2i4i12",Gc);var Uv=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De,Je,ft){var bt=this.length;return this.resize(bt+1),this.emplace(bt,oe,ye,Se,De,Je,ft)},z.prototype.emplace=function(oe,ye,Se,De,Je,ft,bt){var St=oe*4,Gt=oe*8;return this.int16[St+0]=ye,this.int16[St+1]=Se,this.uint8[Gt+4]=De,this.uint8[Gt+5]=Je,this.uint8[Gt+6]=ft,this.uint8[Gt+7]=bt,oe},z}(Xi);Uv.prototype.bytesPerElement=8,ve("StructArrayLayout2i4ub8",Uv);var hs=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De,Je,ft,bt,St,Gt,sr){var qt=this.length;return this.resize(qt+1),this.emplace(qt,oe,ye,Se,De,Je,ft,bt,St,Gt,sr)},z.prototype.emplace=function(oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt){var mr=oe*9,Nr=oe*18;return this.uint16[mr+0]=ye,this.uint16[mr+1]=Se,this.uint16[mr+2]=De,this.uint16[mr+3]=Je,this.uint16[mr+4]=ft,this.uint16[mr+5]=bt,this.uint16[mr+6]=St,this.uint16[mr+7]=Gt,this.uint8[Nr+16]=sr,this.uint8[Nr+17]=qt,oe},z}(Xi);hs.prototype.bytesPerElement=18,ve("StructArrayLayout8ui2ub18",hs);var yf=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr){var Nr=this.length;return this.resize(Nr+1),this.emplace(Nr,oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr)},z.prototype.emplace=function(oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr,Nr){var rn=oe*12;return this.int16[rn+0]=ye,this.int16[rn+1]=Se,this.int16[rn+2]=De,this.int16[rn+3]=Je,this.uint16[rn+4]=ft,this.uint16[rn+5]=bt,this.uint16[rn+6]=St,this.uint16[rn+7]=Gt,this.int16[rn+8]=sr,this.int16[rn+9]=qt,this.int16[rn+10]=mr,this.int16[rn+11]=Nr,oe},z}(Xi);yf.prototype.bytesPerElement=24,ve("StructArrayLayout4i4ui4i24",yf);var ip=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se){var De=this.length;return this.resize(De+1),this.emplace(De,oe,ye,Se)},z.prototype.emplace=function(oe,ye,Se,De){var Je=oe*3;return this.float32[Je+0]=ye,this.float32[Je+1]=Se,this.float32[Je+2]=De,oe},z}(Xi);ip.prototype.bytesPerElement=12,ve("StructArrayLayout3f12",ip);var ap=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe){var ye=this.length;return this.resize(ye+1),this.emplace(ye,oe)},z.prototype.emplace=function(oe,ye){var Se=oe*1;return this.uint32[Se+0]=ye,oe},z}(Xi);ap.prototype.bytesPerElement=4,ve("StructArrayLayout1ul4",ap);var nv=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De,Je,ft,bt,St,Gt){var sr=this.length;return this.resize(sr+1),this.emplace(sr,oe,ye,Se,De,Je,ft,bt,St,Gt)},z.prototype.emplace=function(oe,ye,Se,De,Je,ft,bt,St,Gt,sr){var qt=oe*10,mr=oe*5;return this.int16[qt+0]=ye,this.int16[qt+1]=Se,this.int16[qt+2]=De,this.int16[qt+3]=Je,this.int16[qt+4]=ft,this.int16[qt+5]=bt,this.uint32[mr+3]=St,this.uint16[qt+8]=Gt,this.uint16[qt+9]=sr,oe},z}(Xi);nv.prototype.bytesPerElement=20,ve("StructArrayLayout6i1ul2ui20",nv);var Hv=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De,Je,ft){var bt=this.length;return this.resize(bt+1),this.emplace(bt,oe,ye,Se,De,Je,ft)},z.prototype.emplace=function(oe,ye,Se,De,Je,ft,bt){var St=oe*6;return this.int16[St+0]=ye,this.int16[St+1]=Se,this.int16[St+2]=De,this.int16[St+3]=Je,this.int16[St+4]=ft,this.int16[St+5]=bt,oe},z}(Xi);Hv.prototype.bytesPerElement=12,ve("StructArrayLayout2i2i2i12",Hv);var Bu=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De,Je){var ft=this.length;return this.resize(ft+1),this.emplace(ft,oe,ye,Se,De,Je)},z.prototype.emplace=function(oe,ye,Se,De,Je,ft){var bt=oe*4,St=oe*8;return this.float32[bt+0]=ye,this.float32[bt+1]=Se,this.float32[bt+2]=De,this.int16[St+6]=Je,this.int16[St+7]=ft,oe},z}(Xi);Bu.prototype.bytesPerElement=16,ve("StructArrayLayout2f1f2i16",Bu);var Rs=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De){var Je=this.length;return this.resize(Je+1),this.emplace(Je,oe,ye,Se,De)},z.prototype.emplace=function(oe,ye,Se,De,Je){var ft=oe*12,bt=oe*3;return this.uint8[ft+0]=ye,this.uint8[ft+1]=Se,this.float32[bt+1]=De,this.float32[bt+2]=Je,oe},z}(Xi);Rs.prototype.bytesPerElement=12,ve("StructArrayLayout2ub2f12",Rs);var Nu=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se){var De=this.length;return this.resize(De+1),this.emplace(De,oe,ye,Se)},z.prototype.emplace=function(oe,ye,Se,De){var Je=oe*3;return this.uint16[Je+0]=ye,this.uint16[Je+1]=Se,this.uint16[Je+2]=De,oe},z}(Xi);Nu.prototype.bytesPerElement=6,ve("StructArrayLayout3ui6",Nu);var iv=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr,Nr,rn,$r,Mn,xn){var An=this.length;return this.resize(An+1),this.emplace(An,oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr,Nr,rn,$r,Mn,xn)},z.prototype.emplace=function(oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr,Nr,rn,$r,Mn,xn,An){var kn=oe*24,Un=oe*12,Qn=oe*48;return this.int16[kn+0]=ye,this.int16[kn+1]=Se,this.uint16[kn+2]=De,this.uint16[kn+3]=Je,this.uint32[Un+2]=ft,this.uint32[Un+3]=bt,this.uint32[Un+4]=St,this.uint16[kn+10]=Gt,this.uint16[kn+11]=sr,this.uint16[kn+12]=qt,this.float32[Un+7]=mr,this.float32[Un+8]=Nr,this.uint8[Qn+36]=rn,this.uint8[Qn+37]=$r,this.uint8[Qn+38]=Mn,this.uint32[Un+10]=xn,this.int16[kn+22]=An,oe},z}(Xi);iv.prototype.bytesPerElement=48,ve("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",iv);var Vv=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr,Nr,rn,$r,Mn,xn,An,kn,Un,Qn,Jn,Si,ci,yi,Ni,Ti,Ai){var Yi=this.length;return this.resize(Yi+1),this.emplace(Yi,oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr,Nr,rn,$r,Mn,xn,An,kn,Un,Qn,Jn,Si,ci,yi,Ni,Ti,Ai)},z.prototype.emplace=function(oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr,Nr,rn,$r,Mn,xn,An,kn,Un,Qn,Jn,Si,ci,yi,Ni,Ti,Ai,Yi){var zi=oe*34,na=oe*17;return this.int16[zi+0]=ye,this.int16[zi+1]=Se,this.int16[zi+2]=De,this.int16[zi+3]=Je,this.int16[zi+4]=ft,this.int16[zi+5]=bt,this.int16[zi+6]=St,this.int16[zi+7]=Gt,this.uint16[zi+8]=sr,this.uint16[zi+9]=qt,this.uint16[zi+10]=mr,this.uint16[zi+11]=Nr,this.uint16[zi+12]=rn,this.uint16[zi+13]=$r,this.uint16[zi+14]=Mn,this.uint16[zi+15]=xn,this.uint16[zi+16]=An,this.uint16[zi+17]=kn,this.uint16[zi+18]=Un,this.uint16[zi+19]=Qn,this.uint16[zi+20]=Jn,this.uint16[zi+21]=Si,this.uint16[zi+22]=ci,this.uint32[na+12]=yi,this.float32[na+13]=Ni,this.float32[na+14]=Ti,this.float32[na+15]=Ai,this.float32[na+16]=Yi,oe},z}(Xi);Vv.prototype.bytesPerElement=68,ve("StructArrayLayout8i15ui1ul4f68",Vv);var Yc=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe){var ye=this.length;return this.resize(ye+1),this.emplace(ye,oe)},z.prototype.emplace=function(oe,ye){var Se=oe*1;return this.float32[Se+0]=ye,oe},z}(Xi);Yc.prototype.bytesPerElement=4,ve("StructArrayLayout1f4",Yc);var op=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se){var De=this.length;return this.resize(De+1),this.emplace(De,oe,ye,Se)},z.prototype.emplace=function(oe,ye,Se,De){var Je=oe*3;return this.int16[Je+0]=ye,this.int16[Je+1]=Se,this.int16[Je+2]=De,oe},z}(Xi);op.prototype.bytesPerElement=6,ve("StructArrayLayout3i6",op);var mf=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se){var De=this.length;return this.resize(De+1),this.emplace(De,oe,ye,Se)},z.prototype.emplace=function(oe,ye,Se,De){var Je=oe*2,ft=oe*4;return this.uint32[Je+0]=ye,this.uint16[ft+2]=Se,this.uint16[ft+3]=De,oe},z}(Xi);mf.prototype.bytesPerElement=8,ve("StructArrayLayout1ul2ui8",mf);var av=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye){var Se=this.length;return this.resize(Se+1),this.emplace(Se,oe,ye)},z.prototype.emplace=function(oe,ye,Se){var De=oe*2;return this.uint16[De+0]=ye,this.uint16[De+1]=Se,oe},z}(Xi);av.prototype.bytesPerElement=4,ve("StructArrayLayout2ui4",av);var Zc=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe){var ye=this.length;return this.resize(ye+1),this.emplace(ye,oe)},z.prototype.emplace=function(oe,ye){var Se=oe*1;return this.uint16[Se+0]=ye,oe},z}(Xi);Zc.prototype.bytesPerElement=2,ve("StructArrayLayout1ui2",Zc);var xf=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye){var Se=this.length;return this.resize(Se+1),this.emplace(Se,oe,ye)},z.prototype.emplace=function(oe,ye,Se){var De=oe*2;return this.float32[De+0]=ye,this.float32[De+1]=Se,oe},z}(Xi);xf.prototype.bytesPerElement=8,ve("StructArrayLayout2f8",xf);var sp=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(oe,ye,Se,De){var Je=this.length;return this.resize(Je+1),this.emplace(Je,oe,ye,Se,De)},z.prototype.emplace=function(oe,ye,Se,De,Je){var ft=oe*4;return this.float32[ft+0]=ye,this.float32[ft+1]=Se,this.float32[ft+2]=De,this.float32[ft+3]=Je,oe},z}(Xi);sp.prototype.bytesPerElement=16,ve("StructArrayLayout4f16",sp);var $0=function(I){function z(){I.apply(this,arguments)}I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z;var Z={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Z.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Z.x1.get=function(){return this._structArray.int16[this._pos2+2]},Z.y1.get=function(){return this._structArray.int16[this._pos2+3]},Z.x2.get=function(){return this._structArray.int16[this._pos2+4]},Z.y2.get=function(){return this._structArray.int16[this._pos2+5]},Z.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Z.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Z.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Z.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(z.prototype,Z),z}(xa);$0.prototype.size=20;var bf=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.get=function(oe){return new $0(this,oe)},z}(nv);ve("CollisionBoxArray",bf);var lp=function(I){function z(){I.apply(this,arguments)}I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z;var Z={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Z.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Z.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Z.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Z.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Z.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Z.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Z.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Z.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Z.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Z.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Z.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Z.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Z.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Z.placedOrientation.set=function(oe){this._structArray.uint8[this._pos1+37]=oe},Z.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Z.hidden.set=function(oe){this._structArray.uint8[this._pos1+38]=oe},Z.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Z.crossTileID.set=function(oe){this._structArray.uint32[this._pos4+10]=oe},Z.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(z.prototype,Z),z}(xa);lp.prototype.size=48;var jc=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.get=function(oe){return new lp(this,oe)},z}(iv);ve("PlacedSymbolArray",jc);var q0=function(I){function z(){I.apply(this,arguments)}I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z;var Z={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Z.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Z.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Z.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Z.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Z.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Z.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Z.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Z.key.get=function(){return this._structArray.uint16[this._pos2+8]},Z.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Z.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Z.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Z.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Z.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Z.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Z.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Z.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Z.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Z.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Z.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Z.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Z.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Z.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Z.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Z.crossTileID.set=function(oe){this._structArray.uint32[this._pos4+12]=oe},Z.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Z.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Z.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Z.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(z.prototype,Z),z}(xa);q0.prototype.size=68;var eg=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.get=function(oe){return new q0(this,oe)},z}(Vv);ve("SymbolInstanceArray",eg);var Fl=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.getoffsetX=function(oe){return this.float32[oe*1+0]},z}(Yc);ve("GlyphOffsetArray",Fl);var tg=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.getx=function(oe){return this.int16[oe*3+0]},z.prototype.gety=function(oe){return this.int16[oe*3+1]},z.prototype.gettileUnitDistanceFromAnchor=function(oe){return this.int16[oe*3+2]},z}(op);ve("SymbolLineVertexArray",tg);var rg=function(I){function z(){I.apply(this,arguments)}I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z;var Z={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Z.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Z.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Z.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(z.prototype,Z),z}(xa);rg.prototype.size=8;var up=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.get=function(oe){return new rg(this,oe)},z}(mf);ve("FeatureIndexArray",up);var ng=Ma([{name:"a_pos",components:2,type:"Int16"}],4),ge=ng.members,J=function(z){z===void 0&&(z=[]),this.segments=z};J.prototype.prepareSegment=function(z,Z,oe,ye){var Se=this.segments[this.segments.length-1];return z>J.MAX_VERTEX_ARRAY_LENGTH&&Y("Max vertices per segment is "+J.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+z),(!Se||Se.vertexLength+z>J.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==ye)&&(Se={vertexOffset:Z.length,primitiveOffset:oe.length,vertexLength:0,primitiveLength:0},ye!==void 0&&(Se.sortKey=ye),this.segments.push(Se)),Se},J.prototype.get=function(){return this.segments},J.prototype.destroy=function(){for(var z=0,Z=this.segments;z<Z.length;z+=1){var oe=Z[z];for(var ye in oe.vaos)oe.vaos[ye].destroy()}},J.simpleSegment=function(z,Z,oe,ye){return new J([{vertexOffset:z,primitiveOffset:Z,vertexLength:oe,primitiveLength:ye,vaos:{},sortKey:0}])},J.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ve("SegmentVector",J);function me(I,z){return I=c(Math.floor(I),0,255),z=c(Math.floor(z),0,255),256*I+z}var ie=Ma([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),xe=L(function(I){function z(Z,oe){var ye,Se,De,Je,ft,bt,St,Gt;for(ye=Z.length&3,Se=Z.length-ye,De=oe,ft=3432918353,bt=461845907,Gt=0;Gt<Se;)St=Z.charCodeAt(Gt)&255|(Z.charCodeAt(++Gt)&255)<<8|(Z.charCodeAt(++Gt)&255)<<16|(Z.charCodeAt(++Gt)&255)<<24,++Gt,St=(St&65535)*ft+(((St>>>16)*ft&65535)<<16)&4294967295,St=St<<15|St>>>17,St=(St&65535)*bt+(((St>>>16)*bt&65535)<<16)&4294967295,De^=St,De=De<<13|De>>>19,Je=(De&65535)*5+(((De>>>16)*5&65535)<<16)&4294967295,De=(Je&65535)+27492+(((Je>>>16)+58964&65535)<<16);switch(St=0,ye){case 3:St^=(Z.charCodeAt(Gt+2)&255)<<16;case 2:St^=(Z.charCodeAt(Gt+1)&255)<<8;case 1:St^=Z.charCodeAt(Gt)&255,St=(St&65535)*ft+(((St>>>16)*ft&65535)<<16)&4294967295,St=St<<15|St>>>17,St=(St&65535)*bt+(((St>>>16)*bt&65535)<<16)&4294967295,De^=St}return De^=Z.length,De^=De>>>16,De=(De&65535)*2246822507+(((De>>>16)*2246822507&65535)<<16)&4294967295,De^=De>>>13,De=(De&65535)*3266489909+(((De>>>16)*3266489909&65535)<<16)&4294967295,De^=De>>>16,De>>>0}I.exports=z}),ze=L(function(I){function z(Z,oe){for(var ye=Z.length,Se=oe^ye,De=0,Je;ye>=4;)Je=Z.charCodeAt(De)&255|(Z.charCodeAt(++De)&255)<<8|(Z.charCodeAt(++De)&255)<<16|(Z.charCodeAt(++De)&255)<<24,Je=(Je&65535)*1540483477+(((Je>>>16)*1540483477&65535)<<16),Je^=Je>>>24,Je=(Je&65535)*1540483477+(((Je>>>16)*1540483477&65535)<<16),Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)^Je,ye-=4,++De;switch(ye){case 3:Se^=(Z.charCodeAt(De+2)&255)<<16;case 2:Se^=(Z.charCodeAt(De+1)&255)<<8;case 1:Se^=Z.charCodeAt(De)&255,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)}return Se^=Se>>>13,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16),Se^=Se>>>15,Se>>>0}I.exports=z}),je=xe,st=xe,mt=ze;je.murmur3=st,je.murmur2=mt;var Bt=function(){this.ids=[],this.positions=[],this.indexed=!1};Bt.prototype.add=function(z,Z,oe,ye){this.ids.push(ur(z)),this.positions.push(Z,oe,ye)},Bt.prototype.getPositions=function(z){for(var Z=ur(z),oe=0,ye=this.ids.length-1;oe<ye;){var Se=oe+ye>>1;this.ids[Se]>=Z?ye=Se:oe=Se+1}for(var De=[];this.ids[oe]===Z;){var Je=this.positions[3*oe],ft=this.positions[3*oe+1],bt=this.positions[3*oe+2];De.push({index:Je,start:ft,end:bt}),oe++}return De},Bt.serialize=function(z,Z){var oe=new Float64Array(z.ids),ye=new Uint32Array(z.positions);return yr(oe,ye,0,oe.length-1),Z&&Z.push(oe.buffer,ye.buffer),{ids:oe,positions:ye}},Bt.deserialize=function(z){var Z=new Bt;return Z.ids=z.ids,Z.positions=z.positions,Z.indexed=!0,Z};var Jt=Math.pow(2,53)-1;function ur(I){var z=+I;return!isNaN(z)&&z<=Jt?z:je(String(I))}function yr(I,z,Z,oe){for(;Z<oe;){for(var ye=I[Z+oe>>1],Se=Z-1,De=oe+1;;){do Se++;while(I[Se]<ye);do De--;while(I[De]>ye);if(Se>=De)break;Ir(I,Se,De),Ir(z,3*Se,3*De),Ir(z,3*Se+1,3*De+1),Ir(z,3*Se+2,3*De+2)}De-Z<oe-De?(yr(I,z,Z,De),Z=De+1):(yr(I,z,De+1,oe),oe=De)}}function Ir(I,z,Z){var oe=I[z];I[z]=I[Z],I[Z]=oe}ve("FeaturePositionMap",Bt);var Wr=function(z,Z){this.gl=z.gl,this.location=Z},Gr=function(I){function z(Z,oe){I.call(this,Z,oe),this.current=0}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.set=function(oe){this.current!==oe&&(this.current=oe,this.gl.uniform1i(this.location,oe))},z}(Wr),Hr=function(I){function z(Z,oe){I.call(this,Z,oe),this.current=0}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.set=function(oe){this.current!==oe&&(this.current=oe,this.gl.uniform1f(this.location,oe))},z}(Wr),Qr=function(I){function z(Z,oe){I.call(this,Z,oe),this.current=[0,0]}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.set=function(oe){(oe[0]!==this.current[0]||oe[1]!==this.current[1])&&(this.current=oe,this.gl.uniform2f(this.location,oe[0],oe[1]))},z}(Wr),sn=function(I){function z(Z,oe){I.call(this,Z,oe),this.current=[0,0,0]}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.set=function(oe){(oe[0]!==this.current[0]||oe[1]!==this.current[1]||oe[2]!==this.current[2])&&(this.current=oe,this.gl.uniform3f(this.location,oe[0],oe[1],oe[2]))},z}(Wr),Sn=function(I){function z(Z,oe){I.call(this,Z,oe),this.current=[0,0,0,0]}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.set=function(oe){(oe[0]!==this.current[0]||oe[1]!==this.current[1]||oe[2]!==this.current[2]||oe[3]!==this.current[3])&&(this.current=oe,this.gl.uniform4f(this.location,oe[0],oe[1],oe[2],oe[3]))},z}(Wr),Fn=function(I){function z(Z,oe){I.call(this,Z,oe),this.current=ta.transparent}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.set=function(oe){(oe.r!==this.current.r||oe.g!==this.current.g||oe.b!==this.current.b||oe.a!==this.current.a)&&(this.current=oe,this.gl.uniform4f(this.location,oe.r,oe.g,oe.b,oe.a))},z}(Wr),Gn=new Float32Array(16),Zn=function(I){function z(Z,oe){I.call(this,Z,oe),this.current=Gn}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.set=function(oe){if(oe[12]!==this.current[12]||oe[0]!==this.current[0]){this.current=oe,this.gl.uniformMatrix4fv(this.location,!1,oe);return}for(var ye=1;ye<16;ye++)if(oe[ye]!==this.current[ye]){this.current=oe,this.gl.uniformMatrix4fv(this.location,!1,oe);break}},z}(Wr);function Yn(I){return[me(255*I.r,255*I.g),me(255*I.b,255*I.a)]}var ri=function(z,Z,oe){this.value=z,this.uniformNames=Z.map(function(ye){return"u_"+ye}),this.type=oe};ri.prototype.setUniform=function(z,Z,oe){z.set(oe.constantOr(this.value))},ri.prototype.getBinding=function(z,Z,oe){return this.type==="color"?new Fn(z,Z):new Hr(z,Z)};var fi=function(z,Z){this.uniformNames=Z.map(function(oe){return"u_"+oe}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};fi.prototype.setConstantPatternPositions=function(z,Z){this.pixelRatioFrom=Z.pixelRatio,this.pixelRatioTo=z.pixelRatio,this.patternFrom=Z.tlbr,this.patternTo=z.tlbr},fi.prototype.setUniform=function(z,Z,oe,ye){var Se=ye==="u_pattern_to"?this.patternTo:ye==="u_pattern_from"?this.patternFrom:ye==="u_pixel_ratio_to"?this.pixelRatioTo:ye==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Se&&z.set(Se)},fi.prototype.getBinding=function(z,Z,oe){return oe.substr(0,9)==="u_pattern"?new Sn(z,Z):new Hr(z,Z)};var ui=function(z,Z,oe,ye){this.expression=z,this.type=oe,this.maxValue=0,this.paintVertexAttributes=Z.map(function(Se){return{name:"a_"+Se,type:"Float32",components:oe==="color"?2:1,offset:0}}),this.paintVertexArray=new ye};ui.prototype.populatePaintArray=function(z,Z,oe,ye,Se){var De=this.paintVertexArray.length,Je=this.expression.evaluate(new Bn(0),Z,{},ye,[],Se);this.paintVertexArray.resize(z),this._setPaintValue(De,z,Je)},ui.prototype.updatePaintArray=function(z,Z,oe,ye){var Se=this.expression.evaluate({zoom:0},oe,ye);this._setPaintValue(z,Z,Se)},ui.prototype._setPaintValue=function(z,Z,oe){if(this.type==="color")for(var ye=Yn(oe),Se=z;Se<Z;Se++)this.paintVertexArray.emplace(Se,ye[0],ye[1]);else{for(var De=z;De<Z;De++)this.paintVertexArray.emplace(De,oe);this.maxValue=Math.max(this.maxValue,Math.abs(oe))}},ui.prototype.upload=function(z){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=z.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ui.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var pi=function(z,Z,oe,ye,Se,De){this.expression=z,this.uniformNames=Z.map(function(Je){return"u_"+Je+"_t"}),this.type=oe,this.useIntegerZoom=ye,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=Z.map(function(Je){return{name:"a_"+Je,type:"Float32",components:oe==="color"?4:2,offset:0}}),this.paintVertexArray=new De};pi.prototype.populatePaintArray=function(z,Z,oe,ye,Se){var De=this.expression.evaluate(new Bn(this.zoom),Z,{},ye,[],Se),Je=this.expression.evaluate(new Bn(this.zoom+1),Z,{},ye,[],Se),ft=this.paintVertexArray.length;this.paintVertexArray.resize(z),this._setPaintValue(ft,z,De,Je)},pi.prototype.updatePaintArray=function(z,Z,oe,ye){var Se=this.expression.evaluate({zoom:this.zoom},oe,ye),De=this.expression.evaluate({zoom:this.zoom+1},oe,ye);this._setPaintValue(z,Z,Se,De)},pi.prototype._setPaintValue=function(z,Z,oe,ye){if(this.type==="color")for(var Se=Yn(oe),De=Yn(ye),Je=z;Je<Z;Je++)this.paintVertexArray.emplace(Je,Se[0],Se[1],De[0],De[1]);else{for(var ft=z;ft<Z;ft++)this.paintVertexArray.emplace(ft,oe,ye);this.maxValue=Math.max(this.maxValue,Math.abs(oe),Math.abs(ye))}},pi.prototype.upload=function(z){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=z.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},pi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},pi.prototype.setUniform=function(z,Z){var oe=this.useIntegerZoom?Math.floor(Z.zoom):Z.zoom,ye=c(this.expression.interpolationFactor(oe,this.zoom,this.zoom+1),0,1);z.set(ye)},pi.prototype.getBinding=function(z,Z,oe){return new Hr(z,Z)};var wi=function(z,Z,oe,ye,Se,De){this.expression=z,this.type=Z,this.useIntegerZoom=oe,this.zoom=ye,this.layerId=De,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};wi.prototype.populatePaintArray=function(z,Z,oe){var ye=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(z),this.zoomOutPaintVertexArray.resize(z),this._setPaintValues(ye,z,Z.patterns&&Z.patterns[this.layerId],oe)},wi.prototype.updatePaintArray=function(z,Z,oe,ye,Se){this._setPaintValues(z,Z,oe.patterns&&oe.patterns[this.layerId],Se)},wi.prototype._setPaintValues=function(z,Z,oe,ye){if(!(!ye||!oe)){var Se=oe.min,De=oe.mid,Je=oe.max,ft=ye[Se],bt=ye[De],St=ye[Je];if(!(!ft||!bt||!St))for(var Gt=z;Gt<Z;Gt++)this.zoomInPaintVertexArray.emplace(Gt,bt.tl[0],bt.tl[1],bt.br[0],bt.br[1],ft.tl[0],ft.tl[1],ft.br[0],ft.br[1],bt.pixelRatio,ft.pixelRatio),this.zoomOutPaintVertexArray.emplace(Gt,bt.tl[0],bt.tl[1],bt.br[0],bt.br[1],St.tl[0],St.tl[1],St.br[0],St.br[1],bt.pixelRatio,St.pixelRatio)}},wi.prototype.upload=function(z){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=z.createVertexBuffer(this.zoomInPaintVertexArray,ie.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=z.createVertexBuffer(this.zoomOutPaintVertexArray,ie.members,this.expression.isStateDependent))},wi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var _i=function(z,Z,oe,ye){this.binders={},this.layoutAttributes=ye,this._buffers=[];var Se=[];for(var De in z.paint._values)if(oe(De)){var Je=z.paint.get(De);if(!(!(Je instanceof Ta)||!Zs(Je.property.specification))){var ft=sa(De,z.type),bt=Je.value,St=Je.property.specification.type,Gt=Je.property.useIntegerZoom,sr=Je.property.specification["property-type"],qt=sr==="cross-faded"||sr==="cross-faded-data-driven";if(bt.kind==="constant")this.binders[De]=qt?new fi(bt.value,ft):new ri(bt.value,ft,St),Se.push("/u_"+De);else if(bt.kind==="source"||qt){var mr=Ki(De,St,"source");this.binders[De]=qt?new wi(bt,St,Gt,Z,mr,z.id):new ui(bt,ft,St,mr),Se.push("/a_"+De)}else{var Nr=Ki(De,St,"composite");this.binders[De]=new pi(bt,ft,St,Gt,Z,Nr),Se.push("/z_"+De)}}}this.cacheKey=Se.sort().join("")};_i.prototype.getMaxValue=function(z){var Z=this.binders[z];return Z instanceof ui||Z instanceof pi?Z.maxValue:0},_i.prototype.populatePaintArrays=function(z,Z,oe,ye,Se){for(var De in this.binders){var Je=this.binders[De];(Je instanceof ui||Je instanceof pi||Je instanceof wi)&&Je.populatePaintArray(z,Z,oe,ye,Se)}},_i.prototype.setConstantPatternPositions=function(z,Z){for(var oe in this.binders){var ye=this.binders[oe];ye instanceof fi&&ye.setConstantPatternPositions(z,Z)}},_i.prototype.updatePaintArrays=function(z,Z,oe,ye,Se){var De=!1;for(var Je in z)for(var ft=Z.getPositions(Je),bt=0,St=ft;bt<St.length;bt+=1){var Gt=St[bt],sr=oe.feature(Gt.index);for(var qt in this.binders){var mr=this.binders[qt];if((mr instanceof ui||mr instanceof pi||mr instanceof wi)&&mr.expression.isStateDependent===!0){var Nr=ye.paint.get(qt);mr.expression=Nr.value,mr.updatePaintArray(Gt.start,Gt.end,sr,z[Je],Se),De=!0}}}return De},_i.prototype.defines=function(){var z=[];for(var Z in this.binders){var oe=this.binders[Z];(oe instanceof ri||oe instanceof fi)&&z.push.apply(z,oe.uniformNames.map(function(ye){return"#define HAS_UNIFORM_"+ye}))}return z},_i.prototype.getPaintVertexBuffers=function(){return this._buffers},_i.prototype.getUniforms=function(z,Z){var oe=[];for(var ye in this.binders){var Se=this.binders[ye];if(Se instanceof ri||Se instanceof fi||Se instanceof pi)for(var De=0,Je=Se.uniformNames;De<Je.length;De+=1){var ft=Je[De];if(Z[ft]){var bt=Se.getBinding(z,Z[ft],ft);oe.push({name:ft,property:ye,binding:bt})}}}return oe},_i.prototype.setUniforms=function(z,Z,oe,ye){for(var Se=0,De=Z;Se<De.length;Se+=1){var Je=De[Se],ft=Je.name,bt=Je.property,St=Je.binding;this.binders[bt].setUniform(St,ye,oe.get(bt),ft)}},_i.prototype.updatePaintBuffers=function(z){this._buffers=[];for(var Z in this.binders){var oe=this.binders[Z];if(z&&oe instanceof wi){var ye=z.fromScale===2?oe.zoomInPaintVertexBuffer:oe.zoomOutPaintVertexBuffer;ye&&this._buffers.push(ye)}else(oe instanceof ui||oe instanceof pi)&&oe.paintVertexBuffer&&this._buffers.push(oe.paintVertexBuffer)}},_i.prototype.upload=function(z){for(var Z in this.binders){var oe=this.binders[Z];(oe instanceof ui||oe instanceof pi||oe instanceof wi)&&oe.upload(z)}this.updatePaintBuffers()},_i.prototype.destroy=function(){for(var z in this.binders){var Z=this.binders[z];(Z instanceof ui||Z instanceof pi||Z instanceof wi)&&Z.destroy()}};var Hi=function(z,Z,oe,ye){ye===void 0&&(ye=function(){return!0}),this.programConfigurations={};for(var Se=0,De=Z;Se<De.length;Se+=1){var Je=De[Se];this.programConfigurations[Je.id]=new _i(Je,oe,ye,z)}this.needsUpload=!1,this._featureMap=new Bt,this._bufferOffset=0};Hi.prototype.populatePaintArrays=function(z,Z,oe,ye,Se,De){for(var Je in this.programConfigurations)this.programConfigurations[Je].populatePaintArrays(z,Z,ye,Se,De);Z.id!==void 0&&this._featureMap.add(Z.id,oe,this._bufferOffset,z),this._bufferOffset=z,this.needsUpload=!0},Hi.prototype.updatePaintArrays=function(z,Z,oe,ye){for(var Se=0,De=oe;Se<De.length;Se+=1){var Je=De[Se];this.needsUpload=this.programConfigurations[Je.id].updatePaintArrays(z,this._featureMap,Z,Je,ye)||this.needsUpload}},Hi.prototype.get=function(z){return this.programConfigurations[z]},Hi.prototype.upload=function(z){if(this.needsUpload){for(var Z in this.programConfigurations)this.programConfigurations[Z].upload(z);this.needsUpload=!1}},Hi.prototype.destroy=function(){for(var z in this.programConfigurations)this.programConfigurations[z].destroy()};function sa(I,z){var Z={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return Z[I]||[I.replace(z+"-","").replace(/-/g,"_")]}function Wi(I){var z={"line-pattern":{source:hs,composite:hs},"fill-pattern":{source:hs,composite:hs},"fill-extrusion-pattern":{source:hs,composite:hs}};return z[I]}function Ki(I,z,Z){var oe={color:{source:xf,composite:sp},number:{source:Yc,composite:xf}},ye=Wi(I);return ye&&ye[Z]||oe[z][Z]}ve("ConstantBinder",ri),ve("CrossFadedConstantBinder",fi),ve("SourceExpressionBinder",ui),ve("CrossFadedCompositeBinder",wi),ve("CompositeExpressionBinder",pi),ve("ProgramConfiguration",_i,{omit:["_buffers"]}),ve("ProgramConfigurationSet",Hi);var Li=8192;function la(I){return{min:-1*Math.pow(2,I-1),max:Math.pow(2,I-1)-1}}var ha=la(15);function da(I){for(var z=Li/I.extent,Z=I.loadGeometry(),oe=0;oe<Z.length;oe++)for(var ye=Z[oe],Se=0;Se<ye.length;Se++){var De=ye[Se];De.x=Math.round(De.x*z),De.y=Math.round(De.y*z),(De.x<ha.min||De.x>ha.max||De.y<ha.min||De.y>ha.max)&&(Y("Geometry exceeds allowed extent, reduce your vector tile buffer size"),De.x=c(De.x,ha.min,ha.max),De.y=c(De.y,ha.min,ha.max))}return Z}function Qi(I,z,Z,oe,ye){I.emplaceBack(z*2+(oe+1)/2,Z*2+(ye+1)/2)}var Sa=function(z){this.zoom=z.zoom,this.overscaling=z.overscaling,this.layers=z.layers,this.layerIds=this.layers.map(function(Z){return Z.id}),this.index=z.index,this.hasPattern=!1,this.layoutVertexArray=new rv,this.indexArray=new Nu,this.segments=new J,this.programConfigurations=new Hi(ge,z.layers,z.zoom),this.stateDependentLayerIds=this.layers.filter(function(Z){return Z.isStateDependent()}).map(function(Z){return Z.id})};Sa.prototype.populate=function(z,Z,oe){var ye=this.layers[0],Se=[],De=null;ye.type==="circle"&&(De=ye.layout.get("circle-sort-key"));for(var Je=0,ft=z;Je<ft.length;Je+=1){var bt=ft[Je],St=bt.feature,Gt=bt.id,sr=bt.index,qt=bt.sourceLayerIndex,mr=this.layers[0]._featureFilter.needGeometry,Nr={type:St.type,id:Gt,properties:St.properties,geometry:mr?da(St):[]};if(this.layers[0]._featureFilter.filter(new Bn(this.zoom),Nr,oe)){mr||(Nr.geometry=da(St));var rn=De?De.evaluate(Nr,{},oe):void 0,$r={id:Gt,properties:St.properties,type:St.type,sourceLayerIndex:qt,index:sr,geometry:Nr.geometry,patterns:{},sortKey:rn};Se.push($r)}}De&&Se.sort(function(ci,yi){return ci.sortKey-yi.sortKey});for(var Mn=0,xn=Se;Mn<xn.length;Mn+=1){var An=xn[Mn],kn=An,Un=kn.geometry,Qn=kn.index,Jn=kn.sourceLayerIndex,Si=z[Qn].feature;this.addFeature(An,Un,Qn,oe),Z.featureIndex.insert(Si,Un,Qn,Jn,this.index)}},Sa.prototype.update=function(z,Z,oe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(z,Z,this.stateDependentLayers,oe)},Sa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Sa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Sa.prototype.upload=function(z){this.uploaded||(this.layoutVertexBuffer=z.createVertexBuffer(this.layoutVertexArray,ge),this.indexBuffer=z.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(z),this.uploaded=!0},Sa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Sa.prototype.addFeature=function(z,Z,oe,ye){for(var Se=0,De=Z;Se<De.length;Se+=1)for(var Je=De[Se],ft=0,bt=Je;ft<bt.length;ft+=1){var St=bt[ft],Gt=St.x,sr=St.y;if(!(Gt<0||Gt>=Li||sr<0||sr>=Li)){var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,z.sortKey),mr=qt.vertexLength;Qi(this.layoutVertexArray,Gt,sr,-1,-1),Qi(this.layoutVertexArray,Gt,sr,1,-1),Qi(this.layoutVertexArray,Gt,sr,1,1),Qi(this.layoutVertexArray,Gt,sr,-1,1),this.indexArray.emplaceBack(mr,mr+1,mr+2),this.indexArray.emplaceBack(mr,mr+3,mr+2),qt.vertexLength+=4,qt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,z,oe,{},ye)},ve("CircleBucket",Sa,{omit:["layers"]});function Vi(I,z){for(var Z=0;Z<I.length;Z++)if(vs(z,I[Z]))return!0;for(var oe=0;oe<z.length;oe++)if(vs(I,z[oe]))return!0;return!!hl(I,z)}function qi(I,z,Z){return!!(vs(I,z)||su(z,I,Z))}function ja(I,z){if(I.length===1)return lu(z,I[0]);for(var Z=0;Z<z.length;Z++)for(var oe=z[Z],ye=0;ye<oe.length;ye++)if(vs(I,oe[ye]))return!0;for(var Se=0;Se<I.length;Se++)if(lu(z,I[Se]))return!0;for(var De=0;De<z.length;De++)if(hl(I,z[De]))return!0;return!1}function fo(I,z,Z){for(var oe=0;oe<z.length;oe++){var ye=z[oe];if(I.length>=3){for(var Se=0;Se<ye.length;Se++)if(vs(I,ye[Se]))return!0}if(cl(I,ye,Z))return!0}return!1}function cl(I,z,Z){if(I.length>1){if(hl(I,z))return!0;for(var oe=0;oe<z.length;oe++)if(su(z[oe],I,Z))return!0}for(var ye=0;ye<I.length;ye++)if(su(I[ye],z,Z))return!0;return!1}function hl(I,z){if(I.length===0||z.length===0)return!1;for(var Z=0;Z<I.length-1;Z++)for(var oe=I[Z],ye=I[Z+1],Se=0;Se<z.length-1;Se++){var De=z[Se],Je=z[Se+1];if(ou(oe,ye,De,Je))return!0}return!1}function ou(I,z,Z,oe){return B(I,Z,oe)!==B(z,Z,oe)&&B(I,z,Z)!==B(I,z,oe)}function su(I,z,Z){var oe=Z*Z;if(z.length===1)return I.distSqr(z[0])<oe;for(var ye=1;ye<z.length;ye++){var Se=z[ye-1],De=z[ye];if(Uu(I,Se,De)<oe)return!0}return!1}function Uu(I,z,Z){var oe=z.distSqr(Z);if(oe===0)return I.distSqr(z);var ye=((I.x-z.x)*(Z.x-z.x)+(I.y-z.y)*(Z.y-z.y))/oe;return ye<0?I.distSqr(z):ye>1?I.distSqr(Z):I.distSqr(Z.sub(z)._mult(ye)._add(z))}function lu(I,z){for(var Z=!1,oe,ye,Se,De=0;De<I.length;De++){oe=I[De];for(var Je=0,ft=oe.length-1;Je<oe.length;ft=Je++)ye=oe[Je],Se=oe[ft],ye.y>z.y!=Se.y>z.y&&z.x<(Se.x-ye.x)*(z.y-ye.y)/(Se.y-ye.y)+ye.x&&(Z=!Z)}return Z}function vs(I,z){for(var Z=!1,oe=0,ye=I.length-1;oe<I.length;ye=oe++){var Se=I[oe],De=I[ye];Se.y>z.y!=De.y>z.y&&z.x<(De.x-Se.x)*(z.y-Se.y)/(De.y-Se.y)+Se.x&&(Z=!Z)}return Z}function wf(I,z,Z,oe,ye){for(var Se=0,De=I;Se<De.length;Se+=1){var Je=De[Se];if(z<=Je.x&&Z<=Je.y&&oe>=Je.x&&ye>=Je.y)return!0}var ft=[new t(z,Z),new t(z,ye),new t(oe,ye),new t(oe,Z)];if(I.length>2)for(var bt=0,St=ft;bt<St.length;bt+=1){var Gt=St[bt];if(vs(I,Gt))return!0}for(var sr=0;sr<I.length-1;sr++){var qt=I[sr],mr=I[sr+1];if(Zo(qt,mr,ft))return!0}return!1}function Zo(I,z,Z){var oe=Z[0],ye=Z[2];if(I.x<oe.x&&z.x<oe.x||I.x>ye.x&&z.x>ye.x||I.y<oe.y&&z.y<oe.y||I.y>ye.y&&z.y>ye.y)return!1;var Se=B(I,z,Z[0]);return Se!==B(I,z,Z[1])||Se!==B(I,z,Z[2])||Se!==B(I,z,Z[3])}function Ks(I,z,Z){var oe=z.paint.get(I).value;return oe.kind==="constant"?oe.value:Z.programConfigurations.get(z.id).getMaxValue(I)}function uu(I){return Math.sqrt(I[0]*I[0]+I[1]*I[1])}function zl(I,z,Z,oe,ye){if(!z[0]&&!z[1])return I;var Se=t.convert(z)._mult(ye);Z==="viewport"&&Se._rotate(-oe);for(var De=[],Je=0;Je<I.length;Je++){var ft=I[Je];De.push(ft.sub(Se))}return De}var fu=new io({"circle-sort-key":new Mi(jt.layout_circle["circle-sort-key"])}),Wv=new io({"circle-radius":new Mi(jt.paint_circle["circle-radius"]),"circle-color":new Mi(jt.paint_circle["circle-color"]),"circle-blur":new Mi(jt.paint_circle["circle-blur"]),"circle-opacity":new Mi(jt.paint_circle["circle-opacity"]),"circle-translate":new gi(jt.paint_circle["circle-translate"]),"circle-translate-anchor":new gi(jt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new gi(jt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new gi(jt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Mi(jt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Mi(jt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Mi(jt.paint_circle["circle-stroke-opacity"])}),nc={paint:Wv,layout:fu},Bo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var I=arguments,z=0,Z=arguments.length;Z--;)z+=I[Z]*I[Z];return Math.sqrt(z)});function ov(){var I=new Bo(4);return Bo!=Float32Array&&(I[1]=0,I[2]=0),I[0]=1,I[3]=1,I}function rs(I,z,Z){var oe=z[0],ye=z[1],Se=z[2],De=z[3],Je=Math.sin(Z),ft=Math.cos(Z);return I[0]=oe*ft+Se*Je,I[1]=ye*ft+De*Je,I[2]=oe*-Je+Se*ft,I[3]=ye*-Je+De*ft,I}function sv(){var I=new Bo(9);return Bo!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[5]=0,I[6]=0,I[7]=0),I[0]=1,I[4]=1,I[8]=1,I}function Gv(I,z){var Z=Math.sin(z),oe=Math.cos(z);return I[0]=oe,I[1]=Z,I[2]=0,I[3]=-Z,I[4]=oe,I[5]=0,I[6]=0,I[7]=0,I[8]=1,I}function Yv(){var I=new Bo(16);return Bo!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[11]=0,I[12]=0,I[13]=0,I[14]=0),I[0]=1,I[5]=1,I[10]=1,I[15]=1,I}function ig(I){var z=new Bo(16);return z[0]=I[0],z[1]=I[1],z[2]=I[2],z[3]=I[3],z[4]=I[4],z[5]=I[5],z[6]=I[6],z[7]=I[7],z[8]=I[8],z[9]=I[9],z[10]=I[10],z[11]=I[11],z[12]=I[12],z[13]=I[13],z[14]=I[14],z[15]=I[15],z}function Zv(I){return I[0]=1,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=1,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=1,I[11]=0,I[12]=0,I[13]=0,I[14]=0,I[15]=1,I}function Xc(I,z){var Z=z[0],oe=z[1],ye=z[2],Se=z[3],De=z[4],Je=z[5],ft=z[6],bt=z[7],St=z[8],Gt=z[9],sr=z[10],qt=z[11],mr=z[12],Nr=z[13],rn=z[14],$r=z[15],Mn=Z*Je-oe*De,xn=Z*ft-ye*De,An=Z*bt-Se*De,kn=oe*ft-ye*Je,Un=oe*bt-Se*Je,Qn=ye*bt-Se*ft,Jn=St*Nr-Gt*mr,Si=St*rn-sr*mr,ci=St*$r-qt*mr,yi=Gt*rn-sr*Nr,Ni=Gt*$r-qt*Nr,Ti=sr*$r-qt*rn,Ai=Mn*Ti-xn*Ni+An*yi+kn*ci-Un*Si+Qn*Jn;return Ai?(Ai=1/Ai,I[0]=(Je*Ti-ft*Ni+bt*yi)*Ai,I[1]=(ye*Ni-oe*Ti-Se*yi)*Ai,I[2]=(Nr*Qn-rn*Un+$r*kn)*Ai,I[3]=(sr*Un-Gt*Qn-qt*kn)*Ai,I[4]=(ft*ci-De*Ti-bt*Si)*Ai,I[5]=(Z*Ti-ye*ci+Se*Si)*Ai,I[6]=(rn*An-mr*Qn-$r*xn)*Ai,I[7]=(St*Qn-sr*An+qt*xn)*Ai,I[8]=(De*Ni-Je*ci+bt*Jn)*Ai,I[9]=(oe*ci-Z*Ni-Se*Jn)*Ai,I[10]=(mr*Un-Nr*An+$r*Mn)*Ai,I[11]=(Gt*An-St*Un-qt*Mn)*Ai,I[12]=(Je*Si-De*yi-ft*Jn)*Ai,I[13]=(Z*yi-oe*Si+ye*Jn)*Ai,I[14]=(Nr*xn-mr*kn-rn*Mn)*Ai,I[15]=(St*kn-Gt*xn+sr*Mn)*Ai,I):null}function Kc(I,z,Z){var oe=z[0],ye=z[1],Se=z[2],De=z[3],Je=z[4],ft=z[5],bt=z[6],St=z[7],Gt=z[8],sr=z[9],qt=z[10],mr=z[11],Nr=z[12],rn=z[13],$r=z[14],Mn=z[15],xn=Z[0],An=Z[1],kn=Z[2],Un=Z[3];return I[0]=xn*oe+An*Je+kn*Gt+Un*Nr,I[1]=xn*ye+An*ft+kn*sr+Un*rn,I[2]=xn*Se+An*bt+kn*qt+Un*$r,I[3]=xn*De+An*St+kn*mr+Un*Mn,xn=Z[4],An=Z[5],kn=Z[6],Un=Z[7],I[4]=xn*oe+An*Je+kn*Gt+Un*Nr,I[5]=xn*ye+An*ft+kn*sr+Un*rn,I[6]=xn*Se+An*bt+kn*qt+Un*$r,I[7]=xn*De+An*St+kn*mr+Un*Mn,xn=Z[8],An=Z[9],kn=Z[10],Un=Z[11],I[8]=xn*oe+An*Je+kn*Gt+Un*Nr,I[9]=xn*ye+An*ft+kn*sr+Un*rn,I[10]=xn*Se+An*bt+kn*qt+Un*$r,I[11]=xn*De+An*St+kn*mr+Un*Mn,xn=Z[12],An=Z[13],kn=Z[14],Un=Z[15],I[12]=xn*oe+An*Je+kn*Gt+Un*Nr,I[13]=xn*ye+An*ft+kn*sr+Un*rn,I[14]=xn*Se+An*bt+kn*qt+Un*$r,I[15]=xn*De+An*St+kn*mr+Un*Mn,I}function Qa(I,z,Z){var oe=Z[0],ye=Z[1],Se=Z[2],De,Je,ft,bt,St,Gt,sr,qt,mr,Nr,rn,$r;return z===I?(I[12]=z[0]*oe+z[4]*ye+z[8]*Se+z[12],I[13]=z[1]*oe+z[5]*ye+z[9]*Se+z[13],I[14]=z[2]*oe+z[6]*ye+z[10]*Se+z[14],I[15]=z[3]*oe+z[7]*ye+z[11]*Se+z[15]):(De=z[0],Je=z[1],ft=z[2],bt=z[3],St=z[4],Gt=z[5],sr=z[6],qt=z[7],mr=z[8],Nr=z[9],rn=z[10],$r=z[11],I[0]=De,I[1]=Je,I[2]=ft,I[3]=bt,I[4]=St,I[5]=Gt,I[6]=sr,I[7]=qt,I[8]=mr,I[9]=Nr,I[10]=rn,I[11]=$r,I[12]=De*oe+St*ye+mr*Se+z[12],I[13]=Je*oe+Gt*ye+Nr*Se+z[13],I[14]=ft*oe+sr*ye+rn*Se+z[14],I[15]=bt*oe+qt*ye+$r*Se+z[15]),I}function Ds(I,z,Z){var oe=Z[0],ye=Z[1],Se=Z[2];return I[0]=z[0]*oe,I[1]=z[1]*oe,I[2]=z[2]*oe,I[3]=z[3]*oe,I[4]=z[4]*ye,I[5]=z[5]*ye,I[6]=z[6]*ye,I[7]=z[7]*ye,I[8]=z[8]*Se,I[9]=z[9]*Se,I[10]=z[10]*Se,I[11]=z[11]*Se,I[12]=z[12],I[13]=z[13],I[14]=z[14],I[15]=z[15],I}function _s(I,z,Z){var oe=Math.sin(Z),ye=Math.cos(Z),Se=z[4],De=z[5],Je=z[6],ft=z[7],bt=z[8],St=z[9],Gt=z[10],sr=z[11];return z!==I&&(I[0]=z[0],I[1]=z[1],I[2]=z[2],I[3]=z[3],I[12]=z[12],I[13]=z[13],I[14]=z[14],I[15]=z[15]),I[4]=Se*ye+bt*oe,I[5]=De*ye+St*oe,I[6]=Je*ye+Gt*oe,I[7]=ft*ye+sr*oe,I[8]=bt*ye-Se*oe,I[9]=St*ye-De*oe,I[10]=Gt*ye-Je*oe,I[11]=sr*ye-ft*oe,I}function jv(I,z,Z){var oe=Math.sin(Z),ye=Math.cos(Z),Se=z[0],De=z[1],Je=z[2],ft=z[3],bt=z[4],St=z[5],Gt=z[6],sr=z[7];return z!==I&&(I[8]=z[8],I[9]=z[9],I[10]=z[10],I[11]=z[11],I[12]=z[12],I[13]=z[13],I[14]=z[14],I[15]=z[15]),I[0]=Se*ye+bt*oe,I[1]=De*ye+St*oe,I[2]=Je*ye+Gt*oe,I[3]=ft*ye+sr*oe,I[4]=bt*ye-Se*oe,I[5]=St*ye-De*oe,I[6]=Gt*ye-Je*oe,I[7]=sr*ye-ft*oe,I}function fp(I,z,Z,oe,ye){var Se=1/Math.tan(z/2),De;return I[0]=Se/Z,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=Se,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[11]=-1,I[12]=0,I[13]=0,I[15]=0,ye!=null&&ye!==1/0?(De=1/(oe-ye),I[10]=(ye+oe)*De,I[14]=2*ye*oe*De):(I[10]=-1,I[14]=-2*oe),I}function Zm(I,z,Z,oe,ye,Se,De){var Je=1/(z-Z),ft=1/(oe-ye),bt=1/(Se-De);return I[0]=-2*Je,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=-2*ft,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=2*bt,I[11]=0,I[12]=(z+Z)*Je,I[13]=(ye+oe)*ft,I[14]=(De+Se)*bt,I[15]=1,I}var jm=Kc;function lv(){var I=new Bo(3);return Bo!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0),I}function Xm(I){var z=new Bo(3);return z[0]=I[0],z[1]=I[1],z[2]=I[2],z}function Xv(I,z,Z){return I[0]=z[0]+Z[0],I[1]=z[1]+Z[1],I[2]=z[2]+Z[2],I}function Km(I,z,Z){return I[0]=z[0]-Z[0],I[1]=z[1]-Z[1],I[2]=z[2]-Z[2],I}function Jm(I,z,Z){return I[0]=z[0]*Z,I[1]=z[1]*Z,I[2]=z[2]*Z,I}function cp(I,z){var Z=z[0],oe=z[1],ye=z[2],Se=Z*Z+oe*oe+ye*ye;return Se>0&&(Se=1/Math.sqrt(Se)),I[0]=z[0]*Se,I[1]=z[1]*Se,I[2]=z[2]*Se,I}function p6(I,z){return I[0]*z[0]+I[1]*z[1]+I[2]*z[2]}function g6(I,z,Z){var oe=z[0],ye=z[1],Se=z[2],De=Z[0],Je=Z[1],ft=Z[2];return I[0]=ye*ft-Se*Je,I[1]=Se*De-oe*ft,I[2]=oe*Je-ye*De,I}function y6(I,z,Z){var oe=z[0],ye=z[1],Se=z[2];return I[0]=oe*Z[0]+ye*Z[3]+Se*Z[6],I[1]=oe*Z[1]+ye*Z[4]+Se*Z[7],I[2]=oe*Z[2]+ye*Z[5]+Se*Z[8],I}var m6=Km;(function(){var I=lv();return function(z,Z,oe,ye,Se,De){var Je,ft;for(Z||(Z=3),oe||(oe=0),ye?ft=Math.min(ye*Z+oe,z.length):ft=z.length,Je=oe;Je<ft;Je+=Z)I[0]=z[Je],I[1]=z[Je+1],I[2]=z[Je+2],Se(I,I,De),z[Je]=I[0],z[Je+1]=I[1],z[Je+2]=I[2];return z}})();function x6(){var I=new Bo(4);return Bo!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0,I[3]=0),I}function b6(I,z,Z){return I[0]=z[0]*Z,I[1]=z[1]*Z,I[2]=z[2]*Z,I[3]=z[3]*Z,I}function w6(I,z){return I[0]*z[0]+I[1]*z[1]+I[2]*z[2]+I[3]*z[3]}function ag(I,z,Z){var oe=z[0],ye=z[1],Se=z[2],De=z[3];return I[0]=Z[0]*oe+Z[4]*ye+Z[8]*Se+Z[12]*De,I[1]=Z[1]*oe+Z[5]*ye+Z[9]*Se+Z[13]*De,I[2]=Z[2]*oe+Z[6]*ye+Z[10]*Se+Z[14]*De,I[3]=Z[3]*oe+Z[7]*ye+Z[11]*Se+Z[15]*De,I}(function(){var I=x6();return function(z,Z,oe,ye,Se,De){var Je,ft;for(Z||(Z=4),oe||(oe=0),ye?ft=Math.min(ye*Z+oe,z.length):ft=z.length,Je=oe;Je<ft;Je+=Z)I[0]=z[Je],I[1]=z[Je+1],I[2]=z[Je+2],I[3]=z[Je+3],Se(I,I,De),z[Je]=I[0],z[Je+1]=I[1],z[Je+2]=I[2],z[Je+3]=I[3];return z}})();function T6(){var I=new Bo(2);return Bo!=Float32Array&&(I[0]=0,I[1]=0),I}function A6(I){var z=I[0],Z=I[1];return z*z+Z*Z}var M6=A6;(function(){var I=T6();return function(z,Z,oe,ye,Se,De){var Je,ft;for(Z||(Z=2),oe||(oe=0),ye?ft=Math.min(ye*Z+oe,z.length):ft=z.length,Je=oe;Je<ft;Je+=Z)I[0]=z[Je],I[1]=z[Je+1],Se(I,I,De),z[Je]=I[0],z[Je+1]=I[1];return z}})();var S6=function(I){function z(Z){I.call(this,Z,nc)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.createBucket=function(oe){return new Sa(oe)},z.prototype.queryRadius=function(oe){var ye=oe;return Ks("circle-radius",this,ye)+Ks("circle-stroke-width",this,ye)+uu(this.paint.get("circle-translate"))},z.prototype.queryIntersectsFeature=function(oe,ye,Se,De,Je,ft,bt,St){for(var Gt=zl(oe,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ft.angle,bt),sr=this.paint.get("circle-radius").evaluate(ye,Se),qt=this.paint.get("circle-stroke-width").evaluate(ye,Se),mr=sr+qt,Nr=this.paint.get("circle-pitch-alignment")==="map",rn=Nr?Gt:E6(Gt,St),$r=Nr?mr*bt:mr,Mn=0,xn=De;Mn<xn.length;Mn+=1)for(var An=xn[Mn],kn=0,Un=An;kn<Un.length;kn+=1){var Qn=Un[kn],Jn=Nr?Qn:i3(Qn,St),Si=$r,ci=ag([],[Qn.x,Qn.y,0,1],St);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Si*=ci[3]/ft.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Si*=ft.cameraToCenterDistance/ci[3]),qi(rn,Jn,Si))return!0}return!1},z}(Ra);function i3(I,z){var Z=ag([],[I.x,I.y,0,1],z);return new t(Z[0]/Z[3],Z[1]/Z[3])}function E6(I,z){return I.map(function(Z){return i3(Z,z)})}var a3=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z}(Sa);ve("HeatmapBucket",a3,{omit:["layers"]});function Qm(I,z,Z,oe){var ye=z.width,Se=z.height;if(!oe)oe=new Uint8Array(ye*Se*Z);else if(oe instanceof Uint8ClampedArray)oe=new Uint8Array(oe.buffer);else if(oe.length!==ye*Se*Z)throw new RangeError("mismatched image size");return I.width=ye,I.height=Se,I.data=oe,I}function o3(I,z,Z){var oe=z.width,ye=z.height;if(!(oe===I.width&&ye===I.height)){var Se=Qm({},{width:oe,height:ye},Z);$m(I,Se,{x:0,y:0},{x:0,y:0},{width:Math.min(I.width,oe),height:Math.min(I.height,ye)},Z),I.width=oe,I.height=ye,I.data=Se.data}}function $m(I,z,Z,oe,ye,Se){if(ye.width===0||ye.height===0)return z;if(ye.width>I.width||ye.height>I.height||Z.x>I.width-ye.width||Z.y>I.height-ye.height)throw new RangeError("out of range source coordinates for image copy");if(ye.width>z.width||ye.height>z.height||oe.x>z.width-ye.width||oe.y>z.height-ye.height)throw new RangeError("out of range destination coordinates for image copy");for(var De=I.data,Je=z.data,ft=0;ft<ye.height;ft++)for(var bt=((Z.y+ft)*I.width+Z.x)*Se,St=((oe.y+ft)*z.width+oe.x)*Se,Gt=0;Gt<ye.width*Se;Gt++)Je[St+Gt]=De[bt+Gt];return z}var uv=function(z,Z){Qm(this,z,1,Z)};uv.prototype.resize=function(z){o3(this,z,1)},uv.prototype.clone=function(){return new uv({width:this.width,height:this.height},new Uint8Array(this.data))},uv.copy=function(z,Z,oe,ye,Se){$m(z,Z,oe,ye,Se,1)};var ks=function(z,Z){Qm(this,z,4,Z)};ks.prototype.resize=function(z){o3(this,z,4)},ks.prototype.replace=function(z,Z){Z?this.data.set(z):z instanceof Uint8ClampedArray?this.data=new Uint8Array(z.buffer):this.data=z},ks.prototype.clone=function(){return new ks({width:this.width,height:this.height},new Uint8Array(this.data))},ks.copy=function(z,Z,oe,ye,Se){$m(z,Z,oe,ye,Se,4)},ve("AlphaImage",uv),ve("RGBAImage",ks);var C6=new io({"heatmap-radius":new Mi(jt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Mi(jt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new gi(jt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Yo(jt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new gi(jt.paint_heatmap["heatmap-opacity"])}),L6={paint:C6};function s3(I,z){for(var Z=new Uint8Array(1024),oe={},ye=0,Se=0;ye<256;ye++,Se+=4){oe[z]=ye/255;var De=I.evaluate(oe);Z[Se+0]=Math.floor(De.r*255/De.a),Z[Se+1]=Math.floor(De.g*255/De.a),Z[Se+2]=Math.floor(De.b*255/De.a),Z[Se+3]=Math.floor(De.a*255)}return new ks({width:256,height:1},Z)}var P6=function(I){function z(Z){I.call(this,Z,L6),this._updateColorRamp()}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.createBucket=function(oe){return new a3(oe)},z.prototype._handleSpecialPaintPropertyUpdate=function(oe){oe==="heatmap-color"&&this._updateColorRamp()},z.prototype._updateColorRamp=function(){var oe=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=s3(oe,"heatmapDensity"),this.colorRampTexture=null},z.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},z.prototype.queryRadius=function(){return 0},z.prototype.queryIntersectsFeature=function(){return!1},z.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},z}(Ra),R6=new io({"hillshade-illumination-direction":new gi(jt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new gi(jt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new gi(jt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new gi(jt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new gi(jt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new gi(jt.paint_hillshade["hillshade-accent-color"])}),D6={paint:R6},_6=function(I){function z(Z){I.call(this,Z,D6)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},z}(Ra),k6=Ma([{name:"a_pos",components:2,type:"Int16"}],4),l3=k6.members,qm=og,I6=og;function og(I,z,Z){Z=Z||2;var oe=z&&z.length,ye=oe?z[0]*Z:I.length,Se=u3(I,0,ye,Z,!0),De=[];if(!Se||Se.next===Se.prev)return De;var Je,ft,bt,St,Gt,sr,qt;if(oe&&(Se=N6(I,z,Se,Z)),I.length>80*Z){Je=bt=I[0],ft=St=I[1];for(var mr=Z;mr<ye;mr+=Z)Gt=I[mr],sr=I[mr+1],Gt<Je&&(Je=Gt),sr<ft&&(ft=sr),Gt>bt&&(bt=Gt),sr>St&&(St=sr);qt=Math.max(bt-Je,St-ft),qt=qt!==0?1/qt:0}return hp(Se,De,Z,Je,ft,qt),De}function u3(I,z,Z,oe,ye){var Se,De;if(ye===r1(I,z,Z,oe)>0)for(Se=z;Se<Z;Se+=oe)De=h3(Se,I[Se],I[Se+1],De);else for(Se=Z-oe;Se>=z;Se-=oe)De=h3(Se,I[Se],I[Se+1],De);return De&&sg(De,De.next)&&(dp(De),De=De.next),De}function Jc(I,z){if(!I)return I;z||(z=I);var Z=I,oe;do if(oe=!1,!Z.steiner&&(sg(Z,Z.next)||co(Z.prev,Z,Z.next)===0)){if(dp(Z),Z=z=Z.prev,Z===Z.next)break;oe=!0}else Z=Z.next;while(oe||Z!==z);return z}function hp(I,z,Z,oe,ye,Se,De){if(I){!De&&Se&&G6(I,oe,ye,Se);for(var Je=I,ft,bt;I.prev!==I.next;){if(ft=I.prev,bt=I.next,Se?z6(I,oe,ye,Se):F6(I)){z.push(ft.i/Z),z.push(I.i/Z),z.push(bt.i/Z),dp(I),I=bt.next,Je=bt.next;continue}if(I=bt,I===Je){De?De===1?(I=O6(Jc(I),z,Z),hp(I,z,Z,oe,ye,Se,2)):De===2&&B6(I,z,Z,oe,ye,Se):hp(Jc(I),z,Z,oe,ye,Se,1);break}}}}function F6(I){var z=I.prev,Z=I,oe=I.next;if(co(z,Z,oe)>=0)return!1;for(var ye=I.next.next;ye!==I.prev;){if(Kv(z.x,z.y,Z.x,Z.y,oe.x,oe.y,ye.x,ye.y)&&co(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function z6(I,z,Z,oe){var ye=I.prev,Se=I,De=I.next;if(co(ye,Se,De)>=0)return!1;for(var Je=ye.x<Se.x?ye.x<De.x?ye.x:De.x:Se.x<De.x?Se.x:De.x,ft=ye.y<Se.y?ye.y<De.y?ye.y:De.y:Se.y<De.y?Se.y:De.y,bt=ye.x>Se.x?ye.x>De.x?ye.x:De.x:Se.x>De.x?Se.x:De.x,St=ye.y>Se.y?ye.y>De.y?ye.y:De.y:Se.y>De.y?Se.y:De.y,Gt=e1(Je,ft,z,Z,oe),sr=e1(bt,St,z,Z,oe),qt=I.prevZ,mr=I.nextZ;qt&&qt.z>=Gt&&mr&&mr.z<=sr;){if(qt!==I.prev&&qt!==I.next&&Kv(ye.x,ye.y,Se.x,Se.y,De.x,De.y,qt.x,qt.y)&&co(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,mr!==I.prev&&mr!==I.next&&Kv(ye.x,ye.y,Se.x,Se.y,De.x,De.y,mr.x,mr.y)&&co(mr.prev,mr,mr.next)>=0))return!1;mr=mr.nextZ}for(;qt&&qt.z>=Gt;){if(qt!==I.prev&&qt!==I.next&&Kv(ye.x,ye.y,Se.x,Se.y,De.x,De.y,qt.x,qt.y)&&co(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;mr&&mr.z<=sr;){if(mr!==I.prev&&mr!==I.next&&Kv(ye.x,ye.y,Se.x,Se.y,De.x,De.y,mr.x,mr.y)&&co(mr.prev,mr,mr.next)>=0)return!1;mr=mr.nextZ}return!0}function O6(I,z,Z){var oe=I;do{var ye=oe.prev,Se=oe.next.next;!sg(ye,Se)&&f3(ye,oe,oe.next,Se)&&vp(ye,Se)&&vp(Se,ye)&&(z.push(ye.i/Z),z.push(oe.i/Z),z.push(Se.i/Z),dp(oe),dp(oe.next),oe=I=Se),oe=oe.next}while(oe!==I);return Jc(oe)}function B6(I,z,Z,oe,ye,Se){var De=I;do{for(var Je=De.next.next;Je!==De.prev;){if(De.i!==Je.i&&j6(De,Je)){var ft=c3(De,Je);De=Jc(De,De.next),ft=Jc(ft,ft.next),hp(De,z,Z,oe,ye,Se),hp(ft,z,Z,oe,ye,Se);return}Je=Je.next}De=De.next}while(De!==I)}function N6(I,z,Z,oe){var ye=[],Se,De,Je,ft,bt;for(Se=0,De=z.length;Se<De;Se++)Je=z[Se]*oe,ft=Se<De-1?z[Se+1]*oe:I.length,bt=u3(I,Je,ft,oe,!1),bt===bt.next&&(bt.steiner=!0),ye.push(Z6(bt));for(ye.sort(U6),Se=0;Se<ye.length;Se++)H6(ye[Se],Z),Z=Jc(Z,Z.next);return Z}function U6(I,z){return I.x-z.x}function H6(I,z){if(z=V6(I,z),z){var Z=c3(z,I);Jc(z,z.next),Jc(Z,Z.next)}}function V6(I,z){var Z=z,oe=I.x,ye=I.y,Se=-1/0,De;do{if(ye<=Z.y&&ye>=Z.next.y&&Z.next.y!==Z.y){var Je=Z.x+(ye-Z.y)*(Z.next.x-Z.x)/(Z.next.y-Z.y);if(Je<=oe&&Je>Se){if(Se=Je,Je===oe){if(ye===Z.y)return Z;if(ye===Z.next.y)return Z.next}De=Z.x<Z.next.x?Z:Z.next}}Z=Z.next}while(Z!==z);if(!De)return null;if(oe===Se)return De;var ft=De,bt=De.x,St=De.y,Gt=1/0,sr;Z=De;do oe>=Z.x&&Z.x>=bt&&oe!==Z.x&&Kv(ye<St?oe:Se,ye,bt,St,ye<St?Se:oe,ye,Z.x,Z.y)&&(sr=Math.abs(ye-Z.y)/(oe-Z.x),vp(Z,I)&&(sr<Gt||sr===Gt&&(Z.x>De.x||Z.x===De.x&&W6(De,Z)))&&(De=Z,Gt=sr)),Z=Z.next;while(Z!==ft);return De}function W6(I,z){return co(I.prev,I,z.prev)<0&&co(z.next,I,I.next)<0}function G6(I,z,Z,oe){var ye=I;do ye.z===null&&(ye.z=e1(ye.x,ye.y,z,Z,oe)),ye.prevZ=ye.prev,ye.nextZ=ye.next,ye=ye.next;while(ye!==I);ye.prevZ.nextZ=null,ye.prevZ=null,Y6(ye)}function Y6(I){var z,Z,oe,ye,Se,De,Je,ft,bt=1;do{for(Z=I,I=null,Se=null,De=0;Z;){for(De++,oe=Z,Je=0,z=0;z<bt&&(Je++,oe=oe.nextZ,!!oe);z++);for(ft=bt;Je>0||ft>0&&oe;)Je!==0&&(ft===0||!oe||Z.z<=oe.z)?(ye=Z,Z=Z.nextZ,Je--):(ye=oe,oe=oe.nextZ,ft--),Se?Se.nextZ=ye:I=ye,ye.prevZ=Se,Se=ye;Z=oe}Se.nextZ=null,bt*=2}while(De>1);return I}function e1(I,z,Z,oe,ye){return I=32767*(I-Z)*ye,z=32767*(z-oe)*ye,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,I|z<<1}function Z6(I){var z=I,Z=I;do(z.x<Z.x||z.x===Z.x&&z.y<Z.y)&&(Z=z),z=z.next;while(z!==I);return Z}function Kv(I,z,Z,oe,ye,Se,De,Je){return(ye-De)*(z-Je)-(I-De)*(Se-Je)>=0&&(I-De)*(oe-Je)-(Z-De)*(z-Je)>=0&&(Z-De)*(Se-Je)-(ye-De)*(oe-Je)>=0}function j6(I,z){return I.next.i!==z.i&&I.prev.i!==z.i&&!X6(I,z)&&(vp(I,z)&&vp(z,I)&&K6(I,z)&&(co(I.prev,I,z.prev)||co(I,z.prev,z))||sg(I,z)&&co(I.prev,I,I.next)>0&&co(z.prev,z,z.next)>0)}function co(I,z,Z){return(z.y-I.y)*(Z.x-z.x)-(z.x-I.x)*(Z.y-z.y)}function sg(I,z){return I.x===z.x&&I.y===z.y}function f3(I,z,Z,oe){var ye=ug(co(I,z,Z)),Se=ug(co(I,z,oe)),De=ug(co(Z,oe,I)),Je=ug(co(Z,oe,z));return!!(ye!==Se&&De!==Je||ye===0&&lg(I,Z,z)||Se===0&&lg(I,oe,z)||De===0&&lg(Z,I,oe)||Je===0&&lg(Z,z,oe))}function lg(I,z,Z){return z.x<=Math.max(I.x,Z.x)&&z.x>=Math.min(I.x,Z.x)&&z.y<=Math.max(I.y,Z.y)&&z.y>=Math.min(I.y,Z.y)}function ug(I){return I>0?1:I<0?-1:0}function X6(I,z){var Z=I;do{if(Z.i!==I.i&&Z.next.i!==I.i&&Z.i!==z.i&&Z.next.i!==z.i&&f3(Z,Z.next,I,z))return!0;Z=Z.next}while(Z!==I);return!1}function vp(I,z){return co(I.prev,I,I.next)<0?co(I,z,I.next)>=0&&co(I,I.prev,z)>=0:co(I,z,I.prev)<0||co(I,I.next,z)<0}function K6(I,z){var Z=I,oe=!1,ye=(I.x+z.x)/2,Se=(I.y+z.y)/2;do Z.y>Se!=Z.next.y>Se&&Z.next.y!==Z.y&&ye<(Z.next.x-Z.x)*(Se-Z.y)/(Z.next.y-Z.y)+Z.x&&(oe=!oe),Z=Z.next;while(Z!==I);return oe}function c3(I,z){var Z=new t1(I.i,I.x,I.y),oe=new t1(z.i,z.x,z.y),ye=I.next,Se=z.prev;return I.next=z,z.prev=I,Z.next=ye,ye.prev=Z,oe.next=Z,Z.prev=oe,Se.next=oe,oe.prev=Se,oe}function h3(I,z,Z,oe){var ye=new t1(I,z,Z);return oe?(ye.next=oe.next,ye.prev=oe,oe.next.prev=ye,oe.next=ye):(ye.prev=ye,ye.next=ye),ye}function dp(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function t1(I,z,Z){this.i=I,this.x=z,this.y=Z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}og.deviation=function(I,z,Z,oe){var ye=z&&z.length,Se=ye?z[0]*Z:I.length,De=Math.abs(r1(I,0,Se,Z));if(ye)for(var Je=0,ft=z.length;Je<ft;Je++){var bt=z[Je]*Z,St=Je<ft-1?z[Je+1]*Z:I.length;De-=Math.abs(r1(I,bt,St,Z))}var Gt=0;for(Je=0;Je<oe.length;Je+=3){var sr=oe[Je]*Z,qt=oe[Je+1]*Z,mr=oe[Je+2]*Z;Gt+=Math.abs((I[sr]-I[mr])*(I[qt+1]-I[sr+1])-(I[sr]-I[qt])*(I[mr+1]-I[sr+1]))}return De===0&&Gt===0?0:Math.abs((Gt-De)/De)};function r1(I,z,Z,oe){for(var ye=0,Se=z,De=Z-oe;Se<Z;Se+=oe)ye+=(I[De]-I[Se])*(I[Se+1]+I[De+1]),De=Se;return ye}og.flatten=function(I){for(var z=I[0][0].length,Z={vertices:[],holes:[],dimensions:z},oe=0,ye=0;ye<I.length;ye++){for(var Se=0;Se<I[ye].length;Se++)for(var De=0;De<z;De++)Z.vertices.push(I[ye][Se][De]);ye>0&&(oe+=I[ye-1].length,Z.holes.push(oe))}return Z},qm.default=I6;function J6(I,z,Z,oe,ye){v3(I,z,Z||0,oe||I.length-1,ye||Q6)}function v3(I,z,Z,oe,ye){for(;oe>Z;){if(oe-Z>600){var Se=oe-Z+1,De=z-Z+1,Je=Math.log(Se),ft=.5*Math.exp(2*Je/3),bt=.5*Math.sqrt(Je*ft*(Se-ft)/Se)*(De-Se/2<0?-1:1),St=Math.max(Z,Math.floor(z-De*ft/Se+bt)),Gt=Math.min(oe,Math.floor(z+(Se-De)*ft/Se+bt));v3(I,z,St,Gt,ye)}var sr=I[z],qt=Z,mr=oe;for(pp(I,Z,z),ye(I[oe],sr)>0&&pp(I,Z,oe);qt<mr;){for(pp(I,qt,mr),qt++,mr--;ye(I[qt],sr)<0;)qt++;for(;ye(I[mr],sr)>0;)mr--}ye(I[Z],sr)===0?pp(I,Z,mr):(mr++,pp(I,mr,oe)),mr<=z&&(Z=mr+1),z<=mr&&(oe=mr-1)}}function pp(I,z,Z){var oe=I[z];I[z]=I[Z],I[Z]=oe}function Q6(I,z){return I<z?-1:I>z?1:0}function n1(I,z){var Z=I.length;if(Z<=1)return[I];for(var oe=[],ye,Se,De=0;De<Z;De++){var Je=W(I[De]);Je!==0&&(I[De].area=Math.abs(Je),Se===void 0&&(Se=Je<0),Se===Je<0?(ye&&oe.push(ye),ye=[I[De]]):ye.push(I[De]))}if(ye&&oe.push(ye),z>1)for(var ft=0;ft<oe.length;ft++)oe[ft].length<=z||(J6(oe[ft],z,1,oe[ft].length-1,$6),oe[ft]=oe[ft].slice(0,z));return oe}function $6(I,z){return z.area-I.area}function i1(I,z,Z){for(var oe=Z.patternDependencies,ye=!1,Se=0,De=z;Se<De.length;Se+=1){var Je=De[Se],ft=Je.paint.get(I+"-pattern");ft.isConstant()||(ye=!0);var bt=ft.constantOr(null);bt&&(ye=!0,oe[bt.to]=!0,oe[bt.from]=!0)}return ye}function a1(I,z,Z,oe,ye){for(var Se=ye.patternDependencies,De=0,Je=z;De<Je.length;De+=1){var ft=Je[De],bt=ft.paint.get(I+"-pattern"),St=bt.value;if(St.kind!=="constant"){var Gt=St.evaluate({zoom:oe-1},Z,{},ye.availableImages),sr=St.evaluate({zoom:oe},Z,{},ye.availableImages),qt=St.evaluate({zoom:oe+1},Z,{},ye.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,sr=sr&&sr.name?sr.name:sr,qt=qt&&qt.name?qt.name:qt,Se[Gt]=!0,Se[sr]=!0,Se[qt]=!0,Z.patterns[ft.id]={min:Gt,mid:sr,max:qt}}}return Z}var q6=500,Hu=function(z){this.zoom=z.zoom,this.overscaling=z.overscaling,this.layers=z.layers,this.layerIds=this.layers.map(function(Z){return Z.id}),this.index=z.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new rv,this.indexArray=new Nu,this.indexArray2=new av,this.programConfigurations=new Hi(l3,z.layers,z.zoom),this.segments=new J,this.segments2=new J,this.stateDependentLayerIds=this.layers.filter(function(Z){return Z.isStateDependent()}).map(function(Z){return Z.id})};Hu.prototype.populate=function(z,Z,oe){this.hasPattern=i1("fill",this.layers,Z);for(var ye=this.layers[0].layout.get("fill-sort-key"),Se=[],De=0,Je=z;De<Je.length;De+=1){var ft=Je[De],bt=ft.feature,St=ft.id,Gt=ft.index,sr=ft.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,mr={type:bt.type,id:St,properties:bt.properties,geometry:qt?da(bt):[]};if(this.layers[0]._featureFilter.filter(new Bn(this.zoom),mr,oe)){qt||(mr.geometry=da(bt));var Nr=ye?ye.evaluate(mr,{},oe,Z.availableImages):void 0,rn={id:St,properties:bt.properties,type:bt.type,sourceLayerIndex:sr,index:Gt,geometry:mr.geometry,patterns:{},sortKey:Nr};Se.push(rn)}}ye&&Se.sort(function(ci,yi){return ci.sortKey-yi.sortKey});for(var $r=0,Mn=Se;$r<Mn.length;$r+=1){var xn=Mn[$r],An=xn,kn=An.geometry,Un=An.index,Qn=An.sourceLayerIndex;if(this.hasPattern){var Jn=a1("fill",this.layers,xn,this.zoom,Z);this.patternFeatures.push(Jn)}else this.addFeature(xn,kn,Un,oe,{});var Si=z[Un].feature;Z.featureIndex.insert(Si,kn,Un,Qn,this.index)}},Hu.prototype.update=function(z,Z,oe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(z,Z,this.stateDependentLayers,oe)},Hu.prototype.addFeatures=function(z,Z,oe){for(var ye=0,Se=this.patternFeatures;ye<Se.length;ye+=1){var De=Se[ye];this.addFeature(De,De.geometry,De.index,Z,oe)}},Hu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Hu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Hu.prototype.upload=function(z){this.uploaded||(this.layoutVertexBuffer=z.createVertexBuffer(this.layoutVertexArray,l3),this.indexBuffer=z.createIndexBuffer(this.indexArray),this.indexBuffer2=z.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(z),this.uploaded=!0},Hu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Hu.prototype.addFeature=function(z,Z,oe,ye,Se){for(var De=0,Je=n1(Z,q6);De<Je.length;De+=1){for(var ft=Je[De],bt=0,St=0,Gt=ft;St<Gt.length;St+=1){var sr=Gt[St];bt+=sr.length}for(var qt=this.segments.prepareSegment(bt,this.layoutVertexArray,this.indexArray),mr=qt.vertexLength,Nr=[],rn=[],$r=0,Mn=ft;$r<Mn.length;$r+=1){var xn=Mn[$r];if(xn.length!==0){xn!==ft[0]&&rn.push(Nr.length/2);var An=this.segments2.prepareSegment(xn.length,this.layoutVertexArray,this.indexArray2),kn=An.vertexLength;this.layoutVertexArray.emplaceBack(xn[0].x,xn[0].y),this.indexArray2.emplaceBack(kn+xn.length-1,kn),Nr.push(xn[0].x),Nr.push(xn[0].y);for(var Un=1;Un<xn.length;Un++)this.layoutVertexArray.emplaceBack(xn[Un].x,xn[Un].y),this.indexArray2.emplaceBack(kn+Un-1,kn+Un),Nr.push(xn[Un].x),Nr.push(xn[Un].y);An.vertexLength+=xn.length,An.primitiveLength+=xn.length}}for(var Qn=qm(Nr,rn),Jn=0;Jn<Qn.length;Jn+=3)this.indexArray.emplaceBack(mr+Qn[Jn],mr+Qn[Jn+1],mr+Qn[Jn+2]);qt.vertexLength+=bt,qt.primitiveLength+=Qn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,z,oe,Se,ye)},ve("FillBucket",Hu,{omit:["layers","patternFeatures"]});var eE=new io({"fill-sort-key":new Mi(jt.layout_fill["fill-sort-key"])}),tE=new io({"fill-antialias":new gi(jt.paint_fill["fill-antialias"]),"fill-opacity":new Mi(jt.paint_fill["fill-opacity"]),"fill-color":new Mi(jt.paint_fill["fill-color"]),"fill-outline-color":new Mi(jt.paint_fill["fill-outline-color"]),"fill-translate":new gi(jt.paint_fill["fill-translate"]),"fill-translate-anchor":new gi(jt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Aa(jt.paint_fill["fill-pattern"])}),rE={paint:tE,layout:eE},nE=function(I){function z(Z){I.call(this,Z,rE)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.recalculate=function(oe,ye){I.prototype.recalculate.call(this,oe,ye);var Se=this.paint._values["fill-outline-color"];Se.value.kind==="constant"&&Se.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},z.prototype.createBucket=function(oe){return new Hu(oe)},z.prototype.queryRadius=function(){return uu(this.paint.get("fill-translate"))},z.prototype.queryIntersectsFeature=function(oe,ye,Se,De,Je,ft,bt){var St=zl(oe,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ft.angle,bt);return ja(St,De)},z.prototype.isTileClipped=function(){return!0},z}(Ra),iE=Ma([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),d3=iE.members,p3=Jv;function Jv(I,z,Z,oe,ye){this.properties={},this.extent=Z,this.type=0,this._pbf=I,this._geometry=-1,this._keys=oe,this._values=ye,I.readFields(aE,this,z)}function aE(I,z,Z){I==1?z.id=Z.readVarint():I==2?oE(Z,z):I==3?z.type=Z.readVarint():I==4&&(z._geometry=Z.pos)}function oE(I,z){for(var Z=I.readVarint()+I.pos;I.pos<Z;){var oe=z._keys[I.readVarint()],ye=z._values[I.readVarint()];z.properties[oe]=ye}}Jv.types=["Unknown","Point","LineString","Polygon"],Jv.prototype.loadGeometry=function(){var I=this._pbf;I.pos=this._geometry;for(var z=I.readVarint()+I.pos,Z=1,oe=0,ye=0,Se=0,De=[],Je;I.pos<z;){if(oe<=0){var ft=I.readVarint();Z=ft&7,oe=ft>>3}if(oe--,Z===1||Z===2)ye+=I.readSVarint(),Se+=I.readSVarint(),Z===1&&(Je&&De.push(Je),Je=[]),Je.push(new t(ye,Se));else if(Z===7)Je&&Je.push(Je[0].clone());else throw new Error("unknown command "+Z)}return Je&&De.push(Je),De},Jv.prototype.bbox=function(){var I=this._pbf;I.pos=this._geometry;for(var z=I.readVarint()+I.pos,Z=1,oe=0,ye=0,Se=0,De=1/0,Je=-1/0,ft=1/0,bt=-1/0;I.pos<z;){if(oe<=0){var St=I.readVarint();Z=St&7,oe=St>>3}if(oe--,Z===1||Z===2)ye+=I.readSVarint(),Se+=I.readSVarint(),ye<De&&(De=ye),ye>Je&&(Je=ye),Se<ft&&(ft=Se),Se>bt&&(bt=Se);else if(Z!==7)throw new Error("unknown command "+Z)}return[De,ft,Je,bt]},Jv.prototype.toGeoJSON=function(I,z,Z){var oe=this.extent*Math.pow(2,Z),ye=this.extent*I,Se=this.extent*z,De=this.loadGeometry(),Je=Jv.types[this.type],ft,bt;function St(qt){for(var mr=0;mr<qt.length;mr++){var Nr=qt[mr],rn=180-(Nr.y+Se)*360/oe;qt[mr]=[(Nr.x+ye)*360/oe-180,360/Math.PI*Math.atan(Math.exp(rn*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(ft=0;ft<De.length;ft++)Gt[ft]=De[ft][0];De=Gt,St(De);break;case 2:for(ft=0;ft<De.length;ft++)St(De[ft]);break;case 3:for(De=sE(De),ft=0;ft<De.length;ft++)for(bt=0;bt<De[ft].length;bt++)St(De[ft][bt]);break}De.length===1?De=De[0]:Je="Multi"+Je;var sr={type:"Feature",geometry:{type:Je,coordinates:De},properties:this.properties};return"id"in this&&(sr.id=this.id),sr};function sE(I){var z=I.length;if(z<=1)return[I];for(var Z=[],oe,ye,Se=0;Se<z;Se++){var De=lE(I[Se]);De!==0&&(ye===void 0&&(ye=De<0),ye===De<0?(oe&&Z.push(oe),oe=[I[Se]]):oe.push(I[Se]))}return oe&&Z.push(oe),Z}function lE(I){for(var z=0,Z=0,oe=I.length,ye=oe-1,Se,De;Z<oe;ye=Z++)Se=I[Z],De=I[ye],z+=(De.x-Se.x)*(Se.y+De.y);return z}var g3=y3;function y3(I,z){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=I,this._keys=[],this._values=[],this._features=[],I.readFields(uE,this,z),this.length=this._features.length}function uE(I,z,Z){I===15?z.version=Z.readVarint():I===1?z.name=Z.readString():I===5?z.extent=Z.readVarint():I===2?z._features.push(Z.pos):I===3?z._keys.push(Z.readString()):I===4&&z._values.push(fE(Z))}function fE(I){for(var z=null,Z=I.readVarint()+I.pos;I.pos<Z;){var oe=I.readVarint()>>3;z=oe===1?I.readString():oe===2?I.readFloat():oe===3?I.readDouble():oe===4?I.readVarint64():oe===5?I.readVarint():oe===6?I.readSVarint():oe===7?I.readBoolean():null}return z}y3.prototype.feature=function(I){if(I<0||I>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[I];var z=this._pbf.readVarint()+this._pbf.pos;return new p3(this._pbf,z,this.extent,this._keys,this._values)};var cE=hE;function hE(I,z){this.layers=I.readFields(vE,{},z)}function vE(I,z,Z){if(I===3){var oe=new g3(Z,Z.readVarint()+Z.pos);oe.length&&(z[oe.name]=oe)}}var dE=cE,pE=p3,gE=g3,Qv={VectorTile:dE,VectorTileFeature:pE,VectorTileLayer:gE},yE=Qv.VectorTileFeature.types,mE=500,o1=Math.pow(2,13);function gp(I,z,Z,oe,ye,Se,De,Je){I.emplaceBack(z,Z,Math.floor(oe*o1)*2+De,ye*o1*2,Se*o1*2,Math.round(Je))}var Vu=function(z){this.zoom=z.zoom,this.overscaling=z.overscaling,this.layers=z.layers,this.layerIds=this.layers.map(function(Z){return Z.id}),this.index=z.index,this.hasPattern=!1,this.layoutVertexArray=new Gc,this.indexArray=new Nu,this.programConfigurations=new Hi(d3,z.layers,z.zoom),this.segments=new J,this.stateDependentLayerIds=this.layers.filter(function(Z){return Z.isStateDependent()}).map(function(Z){return Z.id})};Vu.prototype.populate=function(z,Z,oe){this.features=[],this.hasPattern=i1("fill-extrusion",this.layers,Z);for(var ye=0,Se=z;ye<Se.length;ye+=1){var De=Se[ye],Je=De.feature,ft=De.id,bt=De.index,St=De.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,sr={type:Je.type,id:ft,properties:Je.properties,geometry:Gt?da(Je):[]};if(this.layers[0]._featureFilter.filter(new Bn(this.zoom),sr,oe)){var qt={id:ft,sourceLayerIndex:St,index:bt,geometry:Gt?sr.geometry:da(Je),properties:Je.properties,type:Je.type,patterns:{}};typeof Je.id<"u"&&(qt.id=Je.id),this.hasPattern?this.features.push(a1("fill-extrusion",this.layers,qt,this.zoom,Z)):this.addFeature(qt,qt.geometry,bt,oe,{}),Z.featureIndex.insert(Je,qt.geometry,bt,St,this.index,!0)}}},Vu.prototype.addFeatures=function(z,Z,oe){for(var ye=0,Se=this.features;ye<Se.length;ye+=1){var De=Se[ye],Je=De.geometry;this.addFeature(De,Je,De.index,Z,oe)}},Vu.prototype.update=function(z,Z,oe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(z,Z,this.stateDependentLayers,oe)},Vu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Vu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Vu.prototype.upload=function(z){this.uploaded||(this.layoutVertexBuffer=z.createVertexBuffer(this.layoutVertexArray,d3),this.indexBuffer=z.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(z),this.uploaded=!0},Vu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Vu.prototype.addFeature=function(z,Z,oe,ye,Se){for(var De=0,Je=n1(Z,mE);De<Je.length;De+=1){for(var ft=Je[De],bt=0,St=0,Gt=ft;St<Gt.length;St+=1){var sr=Gt[St];bt+=sr.length}for(var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),mr=0,Nr=ft;mr<Nr.length;mr+=1){var rn=Nr[mr];if(rn.length!==0&&!bE(rn))for(var $r=0,Mn=0;Mn<rn.length;Mn++){var xn=rn[Mn];if(Mn>=1){var An=rn[Mn-1];if(!xE(xn,An)){qt.vertexLength+4>J.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var kn=xn.sub(An)._perp()._unit(),Un=An.dist(xn);$r+Un>32768&&($r=0),gp(this.layoutVertexArray,xn.x,xn.y,kn.x,kn.y,0,0,$r),gp(this.layoutVertexArray,xn.x,xn.y,kn.x,kn.y,0,1,$r),$r+=Un,gp(this.layoutVertexArray,An.x,An.y,kn.x,kn.y,0,0,$r),gp(this.layoutVertexArray,An.x,An.y,kn.x,kn.y,0,1,$r);var Qn=qt.vertexLength;this.indexArray.emplaceBack(Qn,Qn+2,Qn+1),this.indexArray.emplaceBack(Qn+1,Qn+2,Qn+3),qt.vertexLength+=4,qt.primitiveLength+=2}}}}if(qt.vertexLength+bt>J.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(bt,this.layoutVertexArray,this.indexArray)),yE[z.type]==="Polygon"){for(var Jn=[],Si=[],ci=qt.vertexLength,yi=0,Ni=ft;yi<Ni.length;yi+=1){var Ti=Ni[yi];if(Ti.length!==0){Ti!==ft[0]&&Si.push(Jn.length/2);for(var Ai=0;Ai<Ti.length;Ai++){var Yi=Ti[Ai];gp(this.layoutVertexArray,Yi.x,Yi.y,0,0,1,1,0),Jn.push(Yi.x),Jn.push(Yi.y)}}}for(var zi=qm(Jn,Si),na=0;na<zi.length;na+=3)this.indexArray.emplaceBack(ci+zi[na],ci+zi[na+2],ci+zi[na+1]);qt.primitiveLength+=zi.length/3,qt.vertexLength+=bt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,z,oe,Se,ye)},ve("FillExtrusionBucket",Vu,{omit:["layers","features"]});function xE(I,z){return I.x===z.x&&(I.x<0||I.x>Li)||I.y===z.y&&(I.y<0||I.y>Li)}function bE(I){return I.every(function(z){return z.x<0})||I.every(function(z){return z.x>Li})||I.every(function(z){return z.y<0})||I.every(function(z){return z.y>Li})}var wE=new io({"fill-extrusion-opacity":new gi(jt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Mi(jt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new gi(jt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new gi(jt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Aa(jt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Mi(jt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Mi(jt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new gi(jt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),TE={paint:wE},AE=function(I){function z(Z){I.call(this,Z,TE)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.createBucket=function(oe){return new Vu(oe)},z.prototype.queryRadius=function(){return uu(this.paint.get("fill-extrusion-translate"))},z.prototype.is3D=function(){return!0},z.prototype.queryIntersectsFeature=function(oe,ye,Se,De,Je,ft,bt,St){var Gt=zl(oe,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ft.angle,bt),sr=this.paint.get("fill-extrusion-height").evaluate(ye,Se),qt=this.paint.get("fill-extrusion-base").evaluate(ye,Se),mr=EE(Gt,St,ft,0),Nr=SE(De,qt,sr,St),rn=Nr[0],$r=Nr[1];return ME(rn,$r,mr)},z}(Ra);function yp(I,z){return I.x*z.x+I.y*z.y}function m3(I,z){if(I.length===1){for(var Z=0,oe=z[Z++],ye;!ye||oe.equals(ye);)if(ye=z[Z++],!ye)return 1/0;for(;Z<z.length;Z++){var Se=z[Z],De=I[0],Je=ye.sub(oe),ft=Se.sub(oe),bt=De.sub(oe),St=yp(Je,Je),Gt=yp(Je,ft),sr=yp(ft,ft),qt=yp(bt,Je),mr=yp(bt,ft),Nr=St*sr-Gt*Gt,rn=(sr*qt-Gt*mr)/Nr,$r=(St*mr-Gt*qt)/Nr,Mn=1-rn-$r,xn=oe.z*Mn+ye.z*rn+Se.z*$r;if(isFinite(xn))return xn}return 1/0}else{for(var An=1/0,kn=0,Un=z;kn<Un.length;kn+=1){var Qn=Un[kn];An=Math.min(An,Qn.z)}return An}}function ME(I,z,Z){var oe=1/0;ja(Z,z)&&(oe=m3(Z,z[0]));for(var ye=0;ye<z.length;ye++)for(var Se=z[ye],De=I[ye],Je=0;Je<Se.length-1;Je++){var ft=Se[Je],bt=Se[Je+1],St=De[Je],Gt=De[Je+1],sr=[ft,bt,Gt,St,ft];Vi(Z,sr)&&(oe=Math.min(oe,m3(Z,sr)))}return oe===1/0?!1:oe}function SE(I,z,Z,oe){for(var ye=[],Se=[],De=oe[8]*z,Je=oe[9]*z,ft=oe[10]*z,bt=oe[11]*z,St=oe[8]*Z,Gt=oe[9]*Z,sr=oe[10]*Z,qt=oe[11]*Z,mr=0,Nr=I;mr<Nr.length;mr+=1){for(var rn=Nr[mr],$r=[],Mn=[],xn=0,An=rn;xn<An.length;xn+=1){var kn=An[xn],Un=kn.x,Qn=kn.y,Jn=oe[0]*Un+oe[4]*Qn+oe[12],Si=oe[1]*Un+oe[5]*Qn+oe[13],ci=oe[2]*Un+oe[6]*Qn+oe[14],yi=oe[3]*Un+oe[7]*Qn+oe[15],Ni=Jn+De,Ti=Si+Je,Ai=ci+ft,Yi=yi+bt,zi=Jn+St,na=Si+Gt,wa=ci+sr,ia=yi+qt,aa=new t(Ni/Yi,Ti/Yi);aa.z=Ai/Yi,$r.push(aa);var ea=new t(zi/ia,na/ia);ea.z=wa/ia,Mn.push(ea)}ye.push($r),Se.push(Mn)}return[ye,Se]}function EE(I,z,Z,oe){for(var ye=[],Se=0,De=I;Se<De.length;Se+=1){var Je=De[Se],ft=[Je.x,Je.y,oe,1];ag(ft,ft,z),ye.push(new t(ft[0]/ft[3],ft[1]/ft[3]))}return ye}var CE=Ma([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),x3=CE.members,LE=Qv.VectorTileFeature.types,b3=63,PE=Math.cos(75/2*(Math.PI/180)),RE=15,DE=20,_E=15,w3=1/2,T3=Math.pow(2,_E-1)/w3,Is=function(z){this.zoom=z.zoom,this.overscaling=z.overscaling,this.layers=z.layers,this.layerIds=this.layers.map(function(Z){return Z.id}),this.index=z.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Uv,this.indexArray=new Nu,this.programConfigurations=new Hi(x3,z.layers,z.zoom),this.segments=new J,this.stateDependentLayerIds=this.layers.filter(function(Z){return Z.isStateDependent()}).map(function(Z){return Z.id})};Is.prototype.populate=function(z,Z,oe){this.hasPattern=i1("line",this.layers,Z);for(var ye=this.layers[0].layout.get("line-sort-key"),Se=[],De=0,Je=z;De<Je.length;De+=1){var ft=Je[De],bt=ft.feature,St=ft.id,Gt=ft.index,sr=ft.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,mr={type:bt.type,id:St,properties:bt.properties,geometry:qt?da(bt):[]};if(this.layers[0]._featureFilter.filter(new Bn(this.zoom),mr,oe)){qt||(mr.geometry=da(bt));var Nr=ye?ye.evaluate(mr,{},oe):void 0,rn={id:St,properties:bt.properties,type:bt.type,sourceLayerIndex:sr,index:Gt,geometry:mr.geometry,patterns:{},sortKey:Nr};Se.push(rn)}}ye&&Se.sort(function(ci,yi){return ci.sortKey-yi.sortKey});for(var $r=0,Mn=Se;$r<Mn.length;$r+=1){var xn=Mn[$r],An=xn,kn=An.geometry,Un=An.index,Qn=An.sourceLayerIndex;if(this.hasPattern){var Jn=a1("line",this.layers,xn,this.zoom,Z);this.patternFeatures.push(Jn)}else this.addFeature(xn,kn,Un,oe,{});var Si=z[Un].feature;Z.featureIndex.insert(Si,kn,Un,Qn,this.index)}},Is.prototype.update=function(z,Z,oe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(z,Z,this.stateDependentLayers,oe)},Is.prototype.addFeatures=function(z,Z,oe){for(var ye=0,Se=this.patternFeatures;ye<Se.length;ye+=1){var De=Se[ye];this.addFeature(De,De.geometry,De.index,Z,oe)}},Is.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Is.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Is.prototype.upload=function(z){this.uploaded||(this.layoutVertexBuffer=z.createVertexBuffer(this.layoutVertexArray,x3),this.indexBuffer=z.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(z),this.uploaded=!0},Is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Is.prototype.addFeature=function(z,Z,oe,ye,Se){for(var De=this.layers[0].layout,Je=De.get("line-join").evaluate(z,{}),ft=De.get("line-cap"),bt=De.get("line-miter-limit"),St=De.get("line-round-limit"),Gt=0,sr=Z;Gt<sr.length;Gt+=1){var qt=sr[Gt];this.addLine(qt,z,Je,ft,bt,St)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,z,oe,Se,ye)},Is.prototype.addLine=function(z,Z,oe,ye,Se,De){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,Z.properties&&Z.properties.hasOwnProperty("mapbox_clip_start")&&Z.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+Z.properties.mapbox_clip_start,this.clipEnd=+Z.properties.mapbox_clip_end;for(var Je=0;Je<z.length-1;Je++)this.totalDistance+=z[Je].dist(z[Je+1]);this.updateScaledDistance()}for(var ft=LE[Z.type]==="Polygon",bt=z.length;bt>=2&&z[bt-1].equals(z[bt-2]);)bt--;for(var St=0;St<bt-1&&z[St].equals(z[St+1]);)St++;if(!(bt<(ft?3:2))){oe==="bevel"&&(Se=1.05);var Gt=this.overscaling<=16?RE*Li/(512*this.overscaling):0,sr=this.segments.prepareSegment(bt*10,this.layoutVertexArray,this.indexArray),qt,mr=void 0,Nr=void 0,rn=void 0,$r=void 0;this.e1=this.e2=-1,ft&&(qt=z[bt-2],$r=z[St].sub(qt)._unit()._perp());for(var Mn=St;Mn<bt;Mn++)if(Nr=Mn===bt-1?ft?z[St+1]:void 0:z[Mn+1],!(Nr&&z[Mn].equals(Nr))){$r&&(rn=$r),qt&&(mr=qt),qt=z[Mn],$r=Nr?Nr.sub(qt)._unit()._perp():rn,rn=rn||$r;var xn=rn.add($r);(xn.x!==0||xn.y!==0)&&xn._unit();var An=rn.x*$r.x+rn.y*$r.y,kn=xn.x*$r.x+xn.y*$r.y,Un=kn!==0?1/kn:1/0,Qn=2*Math.sqrt(2-2*kn),Jn=kn<PE&&mr&&Nr,Si=rn.x*$r.y-rn.y*$r.x>0;if(Jn&&Mn>St){var ci=qt.dist(mr);if(ci>2*Gt){var yi=qt.sub(qt.sub(mr)._mult(Gt/ci)._round());this.updateDistance(mr,yi),this.addCurrentVertex(yi,rn,0,0,sr),mr=yi}}var Ni=mr&&Nr,Ti=Ni?oe:ft?"butt":ye;if(Ni&&Ti==="round"&&(Un<De?Ti="miter":Un<=2&&(Ti="fakeround")),Ti==="miter"&&Un>Se&&(Ti="bevel"),Ti==="bevel"&&(Un>2&&(Ti="flipbevel"),Un<Se&&(Ti="miter")),mr&&this.updateDistance(mr,qt),Ti==="miter")xn._mult(Un),this.addCurrentVertex(qt,xn,0,0,sr);else if(Ti==="flipbevel"){if(Un>100)xn=$r.mult(-1);else{var Ai=Un*rn.add($r).mag()/rn.sub($r).mag();xn._perp()._mult(Ai*(Si?-1:1))}this.addCurrentVertex(qt,xn,0,0,sr),this.addCurrentVertex(qt,xn.mult(-1),0,0,sr)}else if(Ti==="bevel"||Ti==="fakeround"){var Yi=-Math.sqrt(Un*Un-1),zi=Si?Yi:0,na=Si?0:Yi;if(mr&&this.addCurrentVertex(qt,rn,zi,na,sr),Ti==="fakeround")for(var wa=Math.round(Qn*180/Math.PI/DE),ia=1;ia<wa;ia++){var aa=ia/wa;if(aa!==.5){var ea=aa-.5,Pa=1.0904+An*(-3.2452+An*(3.55645-An*1.43519)),_a=.848013+An*(-1.06021+An*.215638);aa=aa+aa*ea*(aa-1)*(Pa*ea*ea+_a)}var Xa=$r.sub(rn)._mult(aa)._add(rn)._unit()._mult(Si?-1:1);this.addHalfVertex(qt,Xa.x,Xa.y,!1,Si,0,sr)}Nr&&this.addCurrentVertex(qt,$r,-zi,-na,sr)}else if(Ti==="butt")this.addCurrentVertex(qt,xn,0,0,sr);else if(Ti==="square"){var $a=mr?1:-1;this.addCurrentVertex(qt,xn,$a,$a,sr)}else Ti==="round"&&(mr&&(this.addCurrentVertex(qt,rn,0,0,sr),this.addCurrentVertex(qt,rn,1,1,sr,!0)),Nr&&(this.addCurrentVertex(qt,$r,-1,-1,sr,!0),this.addCurrentVertex(qt,$r,0,0,sr)));if(Jn&&Mn<bt-1){var Po=qt.dist(Nr);if(Po>2*Gt){var po=qt.add(Nr.sub(qt)._mult(Gt/Po)._round());this.updateDistance(qt,po),this.addCurrentVertex(po,$r,0,0,sr),qt=po}}}}},Is.prototype.addCurrentVertex=function(z,Z,oe,ye,Se,De){De===void 0&&(De=!1);var Je=Z.x+Z.y*oe,ft=Z.y-Z.x*oe,bt=-Z.x+Z.y*ye,St=-Z.y-Z.x*ye;this.addHalfVertex(z,Je,ft,De,!1,oe,Se),this.addHalfVertex(z,bt,St,De,!0,-ye,Se),this.distance>T3/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(z,Z,oe,ye,Se,De))},Is.prototype.addHalfVertex=function(z,Z,oe,ye,Se,De,Je){var ft=z.x,bt=z.y,St=this.scaledDistance*w3;this.layoutVertexArray.emplaceBack((ft<<1)+(ye?1:0),(bt<<1)+(Se?1:0),Math.round(b3*Z)+128,Math.round(b3*oe)+128,(De===0?0:De<0?-1:1)+1|(St&63)<<2,St>>6);var Gt=Je.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Gt),Je.primitiveLength++),Se?this.e2=Gt:this.e1=Gt},Is.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(T3-1):this.distance},Is.prototype.updateDistance=function(z,Z){this.distance+=z.dist(Z),this.updateScaledDistance()},ve("LineBucket",Is,{omit:["layers","patternFeatures"]});var kE=new io({"line-cap":new gi(jt.layout_line["line-cap"]),"line-join":new Mi(jt.layout_line["line-join"]),"line-miter-limit":new gi(jt.layout_line["line-miter-limit"]),"line-round-limit":new gi(jt.layout_line["line-round-limit"]),"line-sort-key":new Mi(jt.layout_line["line-sort-key"])}),IE=new io({"line-opacity":new Mi(jt.paint_line["line-opacity"]),"line-color":new Mi(jt.paint_line["line-color"]),"line-translate":new gi(jt.paint_line["line-translate"]),"line-translate-anchor":new gi(jt.paint_line["line-translate-anchor"]),"line-width":new Mi(jt.paint_line["line-width"]),"line-gap-width":new Mi(jt.paint_line["line-gap-width"]),"line-offset":new Mi(jt.paint_line["line-offset"]),"line-blur":new Mi(jt.paint_line["line-blur"]),"line-dasharray":new Ya(jt.paint_line["line-dasharray"]),"line-pattern":new Aa(jt.paint_line["line-pattern"]),"line-gradient":new Yo(jt.paint_line["line-gradient"])}),A3={paint:IE,layout:kE},FE=function(I){function z(){I.apply(this,arguments)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.possiblyEvaluate=function(oe,ye){return ye=new Bn(Math.floor(ye.zoom),{now:ye.now,fadeDuration:ye.fadeDuration,zoomHistory:ye.zoomHistory,transition:ye.transition}),I.prototype.possiblyEvaluate.call(this,oe,ye)},z.prototype.evaluate=function(oe,ye,Se,De){return ye=u({},ye,{zoom:Math.floor(ye.zoom)}),I.prototype.evaluate.call(this,oe,ye,Se,De)},z}(Mi),M3=new FE(A3.paint.properties["line-width"].specification);M3.useIntegerZoom=!0;var zE=function(I){function z(Z){I.call(this,Z,A3)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype._handleSpecialPaintPropertyUpdate=function(oe){oe==="line-gradient"&&this._updateGradient()},z.prototype._updateGradient=function(){var oe=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=s3(oe,"lineProgress"),this.gradientTexture=null},z.prototype.recalculate=function(oe,ye){I.prototype.recalculate.call(this,oe,ye),this.paint._values["line-floorwidth"]=M3.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,oe)},z.prototype.createBucket=function(oe){return new Is(oe)},z.prototype.queryRadius=function(oe){var ye=oe,Se=S3(Ks("line-width",this,ye),Ks("line-gap-width",this,ye)),De=Ks("line-offset",this,ye);return Se/2+Math.abs(De)+uu(this.paint.get("line-translate"))},z.prototype.queryIntersectsFeature=function(oe,ye,Se,De,Je,ft,bt){var St=zl(oe,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ft.angle,bt),Gt=bt/2*S3(this.paint.get("line-width").evaluate(ye,Se),this.paint.get("line-gap-width").evaluate(ye,Se)),sr=this.paint.get("line-offset").evaluate(ye,Se);return sr&&(De=OE(De,sr*bt)),fo(St,De,Gt)},z.prototype.isTileClipped=function(){return!0},z}(Ra);function S3(I,z){return z>0?z+2*I:I}function OE(I,z){for(var Z=[],oe=new t(0,0),ye=0;ye<I.length;ye++){for(var Se=I[ye],De=[],Je=0;Je<Se.length;Je++){var ft=Se[Je-1],bt=Se[Je],St=Se[Je+1],Gt=Je===0?oe:bt.sub(ft)._unit()._perp(),sr=Je===Se.length-1?oe:St.sub(bt)._unit()._perp(),qt=Gt._add(sr)._unit(),mr=qt.x*sr.x+qt.y*sr.y;qt._mult(1/mr),De.push(qt._mult(z)._add(bt))}Z.push(De)}return Z}var s1=Ma([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),BE=Ma([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ma([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var NE=Ma([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ma([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var E3=Ma([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),UE=Ma([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ma([{name:"triangle",components:3,type:"Uint16"}]),Ma([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ma([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ma([{type:"Float32",name:"offsetX"}]),Ma([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function HE(I,z,Z){var oe=z.layout.get("text-transform").evaluate(Z,{});return oe==="uppercase"?I=I.toLocaleUpperCase():oe==="lowercase"&&(I=I.toLocaleLowerCase()),ra.applyArabicShaping&&(I=ra.applyArabicShaping(I)),I}function VE(I,z,Z){return I.sections.forEach(function(oe){oe.text=HE(oe.text,z,Z)}),I}function WE(I){var z={},Z={},oe=[],ye=0;function Se($r){oe.push(I[$r]),ye++}function De($r,Mn,xn){var An=Z[$r];return delete Z[$r],Z[Mn]=An,oe[An].geometry[0].pop(),oe[An].geometry[0]=oe[An].geometry[0].concat(xn[0]),An}function Je($r,Mn,xn){var An=z[Mn];return delete z[Mn],z[$r]=An,oe[An].geometry[0].shift(),oe[An].geometry[0]=xn[0].concat(oe[An].geometry[0]),An}function ft($r,Mn,xn){var An=xn?Mn[0][Mn[0].length-1]:Mn[0][0];return $r+":"+An.x+":"+An.y}for(var bt=0;bt<I.length;bt++){var St=I[bt],Gt=St.geometry,sr=St.text?St.text.toString():null;if(!sr){Se(bt);continue}var qt=ft(sr,Gt),mr=ft(sr,Gt,!0);if(qt in Z&&mr in z&&Z[qt]!==z[mr]){var Nr=Je(qt,mr,Gt),rn=De(qt,mr,oe[Nr].geometry);delete z[qt],delete Z[mr],Z[ft(sr,oe[rn].geometry,!0)]=rn,oe[Nr].geometry=null}else qt in Z?De(qt,mr,Gt):mr in z?Je(qt,mr,Gt):(Se(bt),z[qt]=ye-1,Z[mr]=ye-1)}return oe.filter(function($r){return $r.geometry})}var mp={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function GE(I){for(var z="",Z=0;Z<I.length;Z++){var oe=I.charCodeAt(Z+1)||null,ye=I.charCodeAt(Z-1)||null,Se=(!oe||!en(oe)||mp[I[Z+1]])&&(!ye||!en(ye)||mp[I[Z-1]]);Se&&mp[I[Z]]?z+=mp[I[Z]]:z+=I[Z]}return z}var No=24,YE=function(I,z,Z,oe,ye){var Se,De,Je=ye*8-oe-1,ft=(1<<Je)-1,bt=ft>>1,St=-7,Gt=Z?ye-1:0,sr=Z?-1:1,qt=I[z+Gt];for(Gt+=sr,Se=qt&(1<<-St)-1,qt>>=-St,St+=Je;St>0;Se=Se*256+I[z+Gt],Gt+=sr,St-=8);for(De=Se&(1<<-St)-1,Se>>=-St,St+=oe;St>0;De=De*256+I[z+Gt],Gt+=sr,St-=8);if(Se===0)Se=1-bt;else{if(Se===ft)return De?NaN:(qt?-1:1)*(1/0);De=De+Math.pow(2,oe),Se=Se-bt}return(qt?-1:1)*De*Math.pow(2,Se-oe)},ZE=function(I,z,Z,oe,ye,Se){var De,Je,ft,bt=Se*8-ye-1,St=(1<<bt)-1,Gt=St>>1,sr=ye===23?Math.pow(2,-24)-Math.pow(2,-77):0,qt=oe?0:Se-1,mr=oe?1:-1,Nr=z<0||z===0&&1/z<0?1:0;for(z=Math.abs(z),isNaN(z)||z===1/0?(Je=isNaN(z)?1:0,De=St):(De=Math.floor(Math.log(z)/Math.LN2),z*(ft=Math.pow(2,-De))<1&&(De--,ft*=2),De+Gt>=1?z+=sr/ft:z+=sr*Math.pow(2,1-Gt),z*ft>=2&&(De++,ft/=2),De+Gt>=St?(Je=0,De=St):De+Gt>=1?(Je=(z*ft-1)*Math.pow(2,ye),De=De+Gt):(Je=z*Math.pow(2,Gt-1)*Math.pow(2,ye),De=0));ye>=8;I[Z+qt]=Je&255,qt+=mr,Je/=256,ye-=8);for(De=De<<ye|Je,bt+=ye;bt>0;I[Z+qt]=De&255,qt+=mr,De/=256,bt-=8);I[Z+qt-mr]|=Nr*128},fg={read:YE,write:ZE},cg=Da;function Da(I){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(I)?I:new Uint8Array(I||0),this.pos=0,this.type=0,this.length=this.buf.length}Da.Varint=0,Da.Fixed64=1,Da.Bytes=2,Da.Fixed32=5;var l1=(1<<16)*(1<<16),C3=1/l1,jE=12,L3=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Da.prototype={destroy:function(){this.buf=null},readFields:function(I,z,Z){for(Z=Z||this.length;this.pos<Z;){var oe=this.readVarint(),ye=oe>>3,Se=this.pos;this.type=oe&7,I(ye,z,this),this.pos===Se&&this.skip(oe)}return z},readMessage:function(I,z){return this.readFields(I,z,this.readVarint()+this.pos)},readFixed32:function(){var I=hg(this.buf,this.pos);return this.pos+=4,I},readSFixed32:function(){var I=R3(this.buf,this.pos);return this.pos+=4,I},readFixed64:function(){var I=hg(this.buf,this.pos)+hg(this.buf,this.pos+4)*l1;return this.pos+=8,I},readSFixed64:function(){var I=hg(this.buf,this.pos)+R3(this.buf,this.pos+4)*l1;return this.pos+=8,I},readFloat:function(){var I=fg.read(this.buf,this.pos,!0,23,4);return this.pos+=4,I},readDouble:function(){var I=fg.read(this.buf,this.pos,!0,52,8);return this.pos+=8,I},readVarint:function(I){var z=this.buf,Z,oe;return oe=z[this.pos++],Z=oe&127,oe<128||(oe=z[this.pos++],Z|=(oe&127)<<7,oe<128)||(oe=z[this.pos++],Z|=(oe&127)<<14,oe<128)||(oe=z[this.pos++],Z|=(oe&127)<<21,oe<128)?Z:(oe=z[this.pos],Z|=(oe&15)<<28,XE(Z,I,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var I=this.readVarint();return I%2===1?(I+1)/-2:I/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var I=this.readVarint()+this.pos,z=this.pos;return this.pos=I,I-z>=jE&&L3?l8(this.buf,z,I):s8(this.buf,z,I)},readBytes:function(){var I=this.readVarint()+this.pos,z=this.buf.subarray(this.pos,I);return this.pos=I,z},readPackedVarint:function(I,z){if(this.type!==Da.Bytes)return I.push(this.readVarint(z));var Z=ic(this);for(I=I||[];this.pos<Z;)I.push(this.readVarint(z));return I},readPackedSVarint:function(I){if(this.type!==Da.Bytes)return I.push(this.readSVarint());var z=ic(this);for(I=I||[];this.pos<z;)I.push(this.readSVarint());return I},readPackedBoolean:function(I){if(this.type!==Da.Bytes)return I.push(this.readBoolean());var z=ic(this);for(I=I||[];this.pos<z;)I.push(this.readBoolean());return I},readPackedFloat:function(I){if(this.type!==Da.Bytes)return I.push(this.readFloat());var z=ic(this);for(I=I||[];this.pos<z;)I.push(this.readFloat());return I},readPackedDouble:function(I){if(this.type!==Da.Bytes)return I.push(this.readDouble());var z=ic(this);for(I=I||[];this.pos<z;)I.push(this.readDouble());return I},readPackedFixed32:function(I){if(this.type!==Da.Bytes)return I.push(this.readFixed32());var z=ic(this);for(I=I||[];this.pos<z;)I.push(this.readFixed32());return I},readPackedSFixed32:function(I){if(this.type!==Da.Bytes)return I.push(this.readSFixed32());var z=ic(this);for(I=I||[];this.pos<z;)I.push(this.readSFixed32());return I},readPackedFixed64:function(I){if(this.type!==Da.Bytes)return I.push(this.readFixed64());var z=ic(this);for(I=I||[];this.pos<z;)I.push(this.readFixed64());return I},readPackedSFixed64:function(I){if(this.type!==Da.Bytes)return I.push(this.readSFixed64());var z=ic(this);for(I=I||[];this.pos<z;)I.push(this.readSFixed64());return I},skip:function(I){var z=I&7;if(z===Da.Varint)for(;this.buf[this.pos++]>127;);else if(z===Da.Bytes)this.pos=this.readVarint()+this.pos;else if(z===Da.Fixed32)this.pos+=4;else if(z===Da.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+z)},writeTag:function(I,z){this.writeVarint(I<<3|z)},realloc:function(I){for(var z=this.length||16;z<this.pos+I;)z*=2;if(z!==this.length){var Z=new Uint8Array(z);Z.set(this.buf),this.buf=Z,this.length=z}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(I){this.realloc(4),qv(this.buf,I,this.pos),this.pos+=4},writeSFixed32:function(I){this.realloc(4),qv(this.buf,I,this.pos),this.pos+=4},writeFixed64:function(I){this.realloc(8),qv(this.buf,I&-1,this.pos),qv(this.buf,Math.floor(I*C3),this.pos+4),this.pos+=8},writeSFixed64:function(I){this.realloc(8),qv(this.buf,I&-1,this.pos),qv(this.buf,Math.floor(I*C3),this.pos+4),this.pos+=8},writeVarint:function(I){if(I=+I||0,I>268435455||I<0){KE(I,this);return}this.realloc(4),this.buf[this.pos++]=I&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=(I>>>=7)&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=(I>>>=7)&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=I>>>7&127)))},writeSVarint:function(I){this.writeVarint(I<0?-I*2-1:I*2)},writeBoolean:function(I){this.writeVarint(Boolean(I))},writeString:function(I){I=String(I),this.realloc(I.length*4),this.pos++;var z=this.pos;this.pos=u8(this.buf,I,this.pos);var Z=this.pos-z;Z>=128&&P3(z,Z,this),this.pos=z-1,this.writeVarint(Z),this.pos+=Z},writeFloat:function(I){this.realloc(4),fg.write(this.buf,I,this.pos,!0,23,4),this.pos+=4},writeDouble:function(I){this.realloc(8),fg.write(this.buf,I,this.pos,!0,52,8),this.pos+=8},writeBytes:function(I){var z=I.length;this.writeVarint(z),this.realloc(z);for(var Z=0;Z<z;Z++)this.buf[this.pos++]=I[Z]},writeRawMessage:function(I,z){this.pos++;var Z=this.pos;I(z,this);var oe=this.pos-Z;oe>=128&&P3(Z,oe,this),this.pos=Z-1,this.writeVarint(oe),this.pos+=oe},writeMessage:function(I,z,Z){this.writeTag(I,Da.Bytes),this.writeRawMessage(z,Z)},writePackedVarint:function(I,z){z.length&&this.writeMessage(I,$E,z)},writePackedSVarint:function(I,z){z.length&&this.writeMessage(I,qE,z)},writePackedBoolean:function(I,z){z.length&&this.writeMessage(I,r8,z)},writePackedFloat:function(I,z){z.length&&this.writeMessage(I,e8,z)},writePackedDouble:function(I,z){z.length&&this.writeMessage(I,t8,z)},writePackedFixed32:function(I,z){z.length&&this.writeMessage(I,n8,z)},writePackedSFixed32:function(I,z){z.length&&this.writeMessage(I,i8,z)},writePackedFixed64:function(I,z){z.length&&this.writeMessage(I,a8,z)},writePackedSFixed64:function(I,z){z.length&&this.writeMessage(I,o8,z)},writeBytesField:function(I,z){this.writeTag(I,Da.Bytes),this.writeBytes(z)},writeFixed32Field:function(I,z){this.writeTag(I,Da.Fixed32),this.writeFixed32(z)},writeSFixed32Field:function(I,z){this.writeTag(I,Da.Fixed32),this.writeSFixed32(z)},writeFixed64Field:function(I,z){this.writeTag(I,Da.Fixed64),this.writeFixed64(z)},writeSFixed64Field:function(I,z){this.writeTag(I,Da.Fixed64),this.writeSFixed64(z)},writeVarintField:function(I,z){this.writeTag(I,Da.Varint),this.writeVarint(z)},writeSVarintField:function(I,z){this.writeTag(I,Da.Varint),this.writeSVarint(z)},writeStringField:function(I,z){this.writeTag(I,Da.Bytes),this.writeString(z)},writeFloatField:function(I,z){this.writeTag(I,Da.Fixed32),this.writeFloat(z)},writeDoubleField:function(I,z){this.writeTag(I,Da.Fixed64),this.writeDouble(z)},writeBooleanField:function(I,z){this.writeVarintField(I,Boolean(z))}};function XE(I,z,Z){var oe=Z.buf,ye,Se;if(Se=oe[Z.pos++],ye=(Se&112)>>4,Se<128||(Se=oe[Z.pos++],ye|=(Se&127)<<3,Se<128)||(Se=oe[Z.pos++],ye|=(Se&127)<<10,Se<128)||(Se=oe[Z.pos++],ye|=(Se&127)<<17,Se<128)||(Se=oe[Z.pos++],ye|=(Se&127)<<24,Se<128)||(Se=oe[Z.pos++],ye|=(Se&1)<<31,Se<128))return $v(I,ye,z);throw new Error("Expected varint not more than 10 bytes")}function ic(I){return I.type===Da.Bytes?I.readVarint()+I.pos:I.pos+1}function $v(I,z,Z){return Z?z*4294967296+(I>>>0):(z>>>0)*4294967296+(I>>>0)}function KE(I,z){var Z,oe;if(I>=0?(Z=I%4294967296|0,oe=I/4294967296|0):(Z=~(-I%4294967296),oe=~(-I/4294967296),Z^4294967295?Z=Z+1|0:(Z=0,oe=oe+1|0)),I>=18446744073709552e3||I<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");z.realloc(10),JE(Z,oe,z),QE(oe,z)}function JE(I,z,Z){Z.buf[Z.pos++]=I&127|128,I>>>=7,Z.buf[Z.pos++]=I&127|128,I>>>=7,Z.buf[Z.pos++]=I&127|128,I>>>=7,Z.buf[Z.pos++]=I&127|128,I>>>=7,Z.buf[Z.pos]=I&127}function QE(I,z){var Z=(I&7)<<4;z.buf[z.pos++]|=Z|((I>>>=3)?128:0),I&&(z.buf[z.pos++]=I&127|((I>>>=7)?128:0),I&&(z.buf[z.pos++]=I&127|((I>>>=7)?128:0),I&&(z.buf[z.pos++]=I&127|((I>>>=7)?128:0),I&&(z.buf[z.pos++]=I&127|((I>>>=7)?128:0),I&&(z.buf[z.pos++]=I&127)))))}function P3(I,z,Z){var oe=z<=16383?1:z<=2097151?2:z<=268435455?3:Math.floor(Math.log(z)/(Math.LN2*7));Z.realloc(oe);for(var ye=Z.pos-1;ye>=I;ye--)Z.buf[ye+oe]=Z.buf[ye]}function $E(I,z){for(var Z=0;Z<I.length;Z++)z.writeVarint(I[Z])}function qE(I,z){for(var Z=0;Z<I.length;Z++)z.writeSVarint(I[Z])}function e8(I,z){for(var Z=0;Z<I.length;Z++)z.writeFloat(I[Z])}function t8(I,z){for(var Z=0;Z<I.length;Z++)z.writeDouble(I[Z])}function r8(I,z){for(var Z=0;Z<I.length;Z++)z.writeBoolean(I[Z])}function n8(I,z){for(var Z=0;Z<I.length;Z++)z.writeFixed32(I[Z])}function i8(I,z){for(var Z=0;Z<I.length;Z++)z.writeSFixed32(I[Z])}function a8(I,z){for(var Z=0;Z<I.length;Z++)z.writeFixed64(I[Z])}function o8(I,z){for(var Z=0;Z<I.length;Z++)z.writeSFixed64(I[Z])}function hg(I,z){return(I[z]|I[z+1]<<8|I[z+2]<<16)+I[z+3]*16777216}function qv(I,z,Z){I[Z]=z,I[Z+1]=z>>>8,I[Z+2]=z>>>16,I[Z+3]=z>>>24}function R3(I,z){return(I[z]|I[z+1]<<8|I[z+2]<<16)+(I[z+3]<<24)}function s8(I,z,Z){for(var oe="",ye=z;ye<Z;){var Se=I[ye],De=null,Je=Se>239?4:Se>223?3:Se>191?2:1;if(ye+Je>Z)break;var ft,bt,St;Je===1?Se<128&&(De=Se):Je===2?(ft=I[ye+1],(ft&192)===128&&(De=(Se&31)<<6|ft&63,De<=127&&(De=null))):Je===3?(ft=I[ye+1],bt=I[ye+2],(ft&192)===128&&(bt&192)===128&&(De=(Se&15)<<12|(ft&63)<<6|bt&63,(De<=2047||De>=55296&&De<=57343)&&(De=null))):Je===4&&(ft=I[ye+1],bt=I[ye+2],St=I[ye+3],(ft&192)===128&&(bt&192)===128&&(St&192)===128&&(De=(Se&15)<<18|(ft&63)<<12|(bt&63)<<6|St&63,(De<=65535||De>=1114112)&&(De=null))),De===null?(De=65533,Je=1):De>65535&&(De-=65536,oe+=String.fromCharCode(De>>>10&1023|55296),De=56320|De&1023),oe+=String.fromCharCode(De),ye+=Je}return oe}function l8(I,z,Z){return L3.decode(I.subarray(z,Z))}function u8(I,z,Z){for(var oe=0,ye,Se;oe<z.length;oe++){if(ye=z.charCodeAt(oe),ye>55295&&ye<57344)if(Se)if(ye<56320){I[Z++]=239,I[Z++]=191,I[Z++]=189,Se=ye;continue}else ye=Se-55296<<10|ye-56320|65536,Se=null;else{ye>56319||oe+1===z.length?(I[Z++]=239,I[Z++]=191,I[Z++]=189):Se=ye;continue}else Se&&(I[Z++]=239,I[Z++]=191,I[Z++]=189,Se=null);ye<128?I[Z++]=ye:(ye<2048?I[Z++]=ye>>6|192:(ye<65536?I[Z++]=ye>>12|224:(I[Z++]=ye>>18|240,I[Z++]=ye>>12&63|128),I[Z++]=ye>>6&63|128),I[Z++]=ye&63|128)}return Z}var u1=3;function f8(I,z,Z){I===1&&Z.readMessage(c8,z)}function c8(I,z,Z){if(I===3){var oe=Z.readMessage(h8,{}),ye=oe.id,Se=oe.bitmap,De=oe.width,Je=oe.height,ft=oe.left,bt=oe.top,St=oe.advance;z.push({id:ye,bitmap:new uv({width:De+2*u1,height:Je+2*u1},Se),metrics:{width:De,height:Je,left:ft,top:bt,advance:St}})}}function h8(I,z,Z){I===1?z.id=Z.readVarint():I===2?z.bitmap=Z.readBytes():I===3?z.width=Z.readVarint():I===4?z.height=Z.readVarint():I===5?z.left=Z.readSVarint():I===6?z.top=Z.readSVarint():I===7&&(z.advance=Z.readVarint())}function v8(I){return new cg(I).readFields(f8,[])}var D3=u1;function _3(I){for(var z=0,Z=0,oe=0,ye=I;oe<ye.length;oe+=1){var Se=ye[oe];z+=Se.w*Se.h,Z=Math.max(Z,Se.w)}I.sort(function(rn,$r){return $r.h-rn.h});for(var De=Math.max(Math.ceil(Math.sqrt(z/.95)),Z),Je=[{x:0,y:0,w:De,h:1/0}],ft=0,bt=0,St=0,Gt=I;St<Gt.length;St+=1)for(var sr=Gt[St],qt=Je.length-1;qt>=0;qt--){var mr=Je[qt];if(!(sr.w>mr.w||sr.h>mr.h)){if(sr.x=mr.x,sr.y=mr.y,bt=Math.max(bt,sr.y+sr.h),ft=Math.max(ft,sr.x+sr.w),sr.w===mr.w&&sr.h===mr.h){var Nr=Je.pop();qt<Je.length&&(Je[qt]=Nr)}else sr.h===mr.h?(mr.x+=sr.w,mr.w-=sr.w):sr.w===mr.w?(mr.y+=sr.h,mr.h-=sr.h):(Je.push({x:mr.x+sr.w,y:mr.y,w:mr.w-sr.w,h:sr.h}),mr.y+=sr.h,mr.h-=sr.h);break}}return{w:ft,h:bt,fill:z/(ft*bt)||0}}var Js=1,vg=function(z,Z){var oe=Z.pixelRatio,ye=Z.version,Se=Z.stretchX,De=Z.stretchY,Je=Z.content;this.paddedRect=z,this.pixelRatio=oe,this.stretchX=Se,this.stretchY=De,this.content=Je,this.version=ye},xp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};xp.tl.get=function(){return[this.paddedRect.x+Js,this.paddedRect.y+Js]},xp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Js,this.paddedRect.y+this.paddedRect.h-Js]},xp.tlbr.get=function(){return this.tl.concat(this.br)},xp.displaySize.get=function(){return[(this.paddedRect.w-Js*2)/this.pixelRatio,(this.paddedRect.h-Js*2)/this.pixelRatio]},Object.defineProperties(vg.prototype,xp);var bp=function(z,Z){var oe={},ye={};this.haveRenderCallbacks=[];var Se=[];this.addImages(z,oe,Se),this.addImages(Z,ye,Se);var De=_3(Se),Je=De.w,ft=De.h,bt=new ks({width:Je||1,height:ft||1});for(var St in z){var Gt=z[St],sr=oe[St].paddedRect;ks.copy(Gt.data,bt,{x:0,y:0},{x:sr.x+Js,y:sr.y+Js},Gt.data)}for(var qt in Z){var mr=Z[qt],Nr=ye[qt].paddedRect,rn=Nr.x+Js,$r=Nr.y+Js,Mn=mr.data.width,xn=mr.data.height;ks.copy(mr.data,bt,{x:0,y:0},{x:rn,y:$r},mr.data),ks.copy(mr.data,bt,{x:0,y:xn-1},{x:rn,y:$r-1},{width:Mn,height:1}),ks.copy(mr.data,bt,{x:0,y:0},{x:rn,y:$r+xn},{width:Mn,height:1}),ks.copy(mr.data,bt,{x:Mn-1,y:0},{x:rn-1,y:$r},{width:1,height:xn}),ks.copy(mr.data,bt,{x:0,y:0},{x:rn+Mn,y:$r},{width:1,height:xn})}this.image=bt,this.iconPositions=oe,this.patternPositions=ye};bp.prototype.addImages=function(z,Z,oe){for(var ye in z){var Se=z[ye],De={x:0,y:0,w:Se.data.width+2*Js,h:Se.data.height+2*Js};oe.push(De),Z[ye]=new vg(De,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(ye)}},bp.prototype.patchUpdatedImages=function(z,Z){z.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var oe in z.updatedImages)this.patchUpdatedImage(this.iconPositions[oe],z.getImage(oe),Z),this.patchUpdatedImage(this.patternPositions[oe],z.getImage(oe),Z)},bp.prototype.patchUpdatedImage=function(z,Z,oe){if(!(!z||!Z)&&z.version!==Z.version){z.version=Z.version;var ye=z.tl,Se=ye[0],De=ye[1];oe.update(Z.data,void 0,{x:Se,y:De})}},ve("ImagePosition",vg),ve("ImageAtlas",bp);var vl={horizontal:1,vertical:2,horizontalOnly:3},wp=-17;function d8(I){for(var z=0,Z=I;z<Z.length;z+=1){var oe=Z[z];if(oe.positionedGlyphs.length!==0)return!1}return!0}var k3=57344,I3=63743,ed=function(){this.scale=1,this.fontStack="",this.imageName=null};ed.forText=function(z,Z){var oe=new ed;return oe.scale=z||1,oe.fontStack=Z,oe},ed.forImage=function(z){var Z=new ed;return Z.imageName=z,Z};var ns=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};ns.fromFeature=function(z,Z){for(var oe=new ns,ye=0;ye<z.sections.length;ye++){var Se=z.sections[ye];Se.image?oe.addImageSection(Se):oe.addTextSection(Se,Z)}return oe},ns.prototype.length=function(){return this.text.length},ns.prototype.getSection=function(z){return this.sections[this.sectionIndex[z]]},ns.prototype.getSectionIndex=function(z){return this.sectionIndex[z]},ns.prototype.getCharCode=function(z){return this.text.charCodeAt(z)},ns.prototype.verticalizePunctuation=function(){this.text=GE(this.text)},ns.prototype.trim=function(){for(var z=0,Z=0;Z<this.text.length&&Tf[this.text.charCodeAt(Z)];Z++)z++;for(var oe=this.text.length,ye=this.text.length-1;ye>=0&&ye>=z&&Tf[this.text.charCodeAt(ye)];ye--)oe--;this.text=this.text.substring(z,oe),this.sectionIndex=this.sectionIndex.slice(z,oe)},ns.prototype.substring=function(z,Z){var oe=new ns;return oe.text=this.text.substring(z,Z),oe.sectionIndex=this.sectionIndex.slice(z,Z),oe.sections=this.sections,oe},ns.prototype.toString=function(){return this.text},ns.prototype.getMaxScale=function(){var z=this;return this.sectionIndex.reduce(function(Z,oe){return Math.max(Z,z.sections[oe].scale)},0)},ns.prototype.addTextSection=function(z,Z){this.text+=z.text,this.sections.push(ed.forText(z.scale,z.fontStack||Z));for(var oe=this.sections.length-1,ye=0;ye<z.text.length;++ye)this.sectionIndex.push(oe)},ns.prototype.addImageSection=function(z){var Z=z.image?z.image.name:"";if(Z.length===0){Y("Can't add FormattedSection with an empty image.");return}var oe=this.getNextImageSectionCharCode();if(!oe){Y("Reached maximum number of images "+(I3-k3+2));return}this.text+=String.fromCharCode(oe),this.sections.push(ed.forImage(Z)),this.sectionIndex.push(this.sections.length-1)},ns.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=I3?null:++this.imageSectionID:(this.imageSectionID=k3,this.imageSectionID)};function p8(I,z){for(var Z=[],oe=I.text,ye=0,Se=0,De=z;Se<De.length;Se+=1){var Je=De[Se];Z.push(I.substring(ye,Je)),ye=Je}return ye<oe.length&&Z.push(I.substring(ye,oe.length)),Z}function dg(I,z,Z,oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr,Nr){var rn=ns.fromFeature(I,ye);Gt===vl.vertical&&rn.verticalizePunctuation();var $r,Mn=ra.processBidirectionalText,xn=ra.processStyledBidirectionalText;if(Mn&&rn.sections.length===1){$r=[];for(var An=Mn(rn.toString(),f1(rn,bt,Se,z,oe,qt,mr)),kn=0,Un=An;kn<Un.length;kn+=1){var Qn=Un[kn],Jn=new ns;Jn.text=Qn,Jn.sections=rn.sections;for(var Si=0;Si<Qn.length;Si++)Jn.sectionIndex.push(0);$r.push(Jn)}}else if(xn){$r=[];for(var ci=xn(rn.text,rn.sectionIndex,f1(rn,bt,Se,z,oe,qt,mr)),yi=0,Ni=ci;yi<Ni.length;yi+=1){var Ti=Ni[yi],Ai=new ns;Ai.text=Ti[0],Ai.sectionIndex=Ti[1],Ai.sections=rn.sections,$r.push(Ai)}}else $r=p8(rn,f1(rn,bt,Se,z,oe,qt,mr));var Yi=[],zi={positionedLines:Yi,text:rn.toString(),top:St[1],bottom:St[1],left:St[0],right:St[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return m8(zi,z,Z,oe,$r,De,Je,ft,Gt,bt,sr,Nr),d8(Yi)?!1:zi}var Tf={};Tf[9]=!0,Tf[10]=!0,Tf[11]=!0,Tf[12]=!0,Tf[13]=!0,Tf[32]=!0;var Qs={};Qs[10]=!0,Qs[32]=!0,Qs[38]=!0,Qs[40]=!0,Qs[41]=!0,Qs[43]=!0,Qs[45]=!0,Qs[47]=!0,Qs[173]=!0,Qs[183]=!0,Qs[8203]=!0,Qs[8208]=!0,Qs[8211]=!0,Qs[8231]=!0;function F3(I,z,Z,oe,ye,Se){if(z.imageName){var ft=oe[z.imageName];return ft?ft.displaySize[0]*z.scale*No/Se+ye:0}else{var De=Z[z.fontStack],Je=De&&De[I];return Je?Je.metrics.advance*z.scale+ye:0}}function g8(I,z,Z,oe,ye,Se){for(var De=0,Je=0;Je<I.length();Je++){var ft=I.getSection(Je);De+=F3(I.getCharCode(Je),ft,oe,ye,z,Se)}var bt=Math.max(1,Math.ceil(De/Z));return De/bt}function z3(I,z,Z,oe){var ye=Math.pow(I-z,2);return oe?I<z?ye/2:ye*2:ye+Math.abs(Z)*Z}function y8(I,z,Z){var oe=0;return I===10&&(oe-=1e4),Z&&(oe+=150),(I===40||I===65288)&&(oe+=50),(z===41||z===65289)&&(oe+=50),oe}function O3(I,z,Z,oe,ye,Se){for(var De=null,Je=z3(z,Z,ye,Se),ft=0,bt=oe;ft<bt.length;ft+=1){var St=bt[ft],Gt=z-St.x,sr=z3(Gt,Z,ye,Se)+St.badness;sr<=Je&&(De=St,Je=sr)}return{index:I,x:z,priorBreak:De,badness:Je}}function B3(I){return I?B3(I.priorBreak).concat(I.index):[]}function f1(I,z,Z,oe,ye,Se,De){if(Se!=="point")return[];if(!I)return[];for(var Je=[],ft=g8(I,z,Z,oe,ye,De),bt=I.text.indexOf("​")>=0,St=0,Gt=0;Gt<I.length();Gt++){var sr=I.getSection(Gt),qt=I.getCharCode(Gt);if(Tf[qt]||(St+=F3(qt,sr,oe,ye,z,De)),Gt<I.length()-1){var mr=Lr(qt);(Qs[qt]||mr||sr.imageName)&&Je.push(O3(Gt+1,St,ft,Je,y8(qt,I.getCharCode(Gt+1),mr&&bt),!1))}}return B3(O3(I.length(),St,ft,Je,0,!0))}function c1(I){var z=.5,Z=.5;switch(I){case"right":case"top-right":case"bottom-right":z=1;break;case"left":case"top-left":case"bottom-left":z=0;break}switch(I){case"bottom":case"bottom-right":case"bottom-left":Z=1;break;case"top":case"top-right":case"top-left":Z=0;break}return{horizontalAlign:z,verticalAlign:Z}}function m8(I,z,Z,oe,ye,Se,De,Je,ft,bt,St,Gt){for(var sr=0,qt=wp,mr=0,Nr=0,rn=Je==="right"?1:Je==="left"?0:.5,$r=0,Mn=0,xn=ye;Mn<xn.length;Mn+=1){var An=xn[Mn];An.trim();var kn=An.getMaxScale(),Un=(kn-1)*No,Qn={positionedGlyphs:[],lineOffset:0};I.positionedLines[$r]=Qn;var Jn=Qn.positionedGlyphs,Si=0;if(!An.length()){qt+=Se,++$r;continue}for(var ci=0;ci<An.length();ci++){var yi=An.getSection(ci),Ni=An.getSectionIndex(ci),Ti=An.getCharCode(ci),Ai=0,Yi=null,zi=null,na=null,wa=No,ia=!(ft===vl.horizontal||!St&&!Sr(Ti)||St&&(Tf[Ti]||Dr(Ti)));if(yi.imageName){var Xa=oe[yi.imageName];if(!Xa)continue;na=yi.imageName,I.iconsInText=I.iconsInText||!0,zi=Xa.paddedRect;var $a=Xa.displaySize;yi.scale=yi.scale*No/Gt,Yi={width:$a[0],height:$a[1],left:Js,top:-D3,advance:ia?$a[1]:$a[0]};var Po=No-$a[1]*yi.scale;Ai=Un+Po,wa=Yi.advance;var po=ia?$a[0]*yi.scale-No*kn:$a[1]*yi.scale-No*kn;po>0&&po>Si&&(Si=po)}else{var aa=Z[yi.fontStack],ea=aa&&aa[Ti];if(ea&&ea.rect)zi=ea.rect,Yi=ea.metrics;else{var Pa=z[yi.fontStack],_a=Pa&&Pa[Ti];if(!_a)continue;Yi=_a.metrics}Ai=(kn-yi.scale)*No}ia?(I.verticalizable=!0,Jn.push({glyph:Ti,imageName:na,x:sr,y:qt+Ai,vertical:ia,scale:yi.scale,fontStack:yi.fontStack,sectionIndex:Ni,metrics:Yi,rect:zi}),sr+=wa*yi.scale+bt):(Jn.push({glyph:Ti,imageName:na,x:sr,y:qt+Ai,vertical:ia,scale:yi.scale,fontStack:yi.fontStack,sectionIndex:Ni,metrics:Yi,rect:zi}),sr+=Yi.advance*yi.scale+bt)}if(Jn.length!==0){var is=sr-bt;mr=Math.max(is,mr),x8(Jn,0,Jn.length-1,rn,Si)}sr=0;var as=Se*kn+Si;Qn.lineOffset=Math.max(Si,Un),qt+=as,Nr=Math.max(as,Nr),++$r}var Ro=qt-wp,ds=c1(De),ps=ds.horizontalAlign,Ao=ds.verticalAlign;b8(I.positionedLines,rn,ps,Ao,mr,Nr,Se,Ro,ye.length),I.top+=-Ao*Ro,I.bottom=I.top+Ro,I.left+=-ps*mr,I.right=I.left+mr}function x8(I,z,Z,oe,ye){if(!(!oe&&!ye))for(var Se=I[Z],De=Se.metrics.advance*Se.scale,Je=(I[Z].x+De)*oe,ft=z;ft<=Z;ft++)I[ft].x-=Je,I[ft].y+=ye}function b8(I,z,Z,oe,ye,Se,De,Je,ft){var bt=(z-Z)*ye,St=0;Se!==De?St=-Je*oe-wp:St=(-oe*ft+.5)*De;for(var Gt=0,sr=I;Gt<sr.length;Gt+=1)for(var qt=sr[Gt],mr=0,Nr=qt.positionedGlyphs;mr<Nr.length;mr+=1){var rn=Nr[mr];rn.x+=bt,rn.y+=St}}function w8(I,z,Z){var oe=c1(Z),ye=oe.horizontalAlign,Se=oe.verticalAlign,De=z[0],Je=z[1],ft=De-I.displaySize[0]*ye,bt=ft+I.displaySize[0],St=Je-I.displaySize[1]*Se,Gt=St+I.displaySize[1];return{image:I,top:St,bottom:Gt,left:ft,right:bt}}function N3(I,z,Z,oe,ye,Se){var De=I.image,Je;if(De.content){var ft=De.content,bt=De.pixelRatio||1;Je=[ft[0]/bt,ft[1]/bt,De.displaySize[0]-ft[2]/bt,De.displaySize[1]-ft[3]/bt]}var St=z.left*Se,Gt=z.right*Se,sr,qt,mr,Nr;Z==="width"||Z==="both"?(Nr=ye[0]+St-oe[3],qt=ye[0]+Gt+oe[1]):(Nr=ye[0]+(St+Gt-De.displaySize[0])/2,qt=Nr+De.displaySize[0]);var rn=z.top*Se,$r=z.bottom*Se;return Z==="height"||Z==="both"?(sr=ye[1]+rn-oe[0],mr=ye[1]+$r+oe[2]):(sr=ye[1]+(rn+$r-De.displaySize[1])/2,mr=sr+De.displaySize[1]),{image:De,top:sr,right:qt,bottom:mr,left:Nr,collisionPadding:Je}}var td=function(I){function z(Z,oe,ye,Se){I.call(this,Z,oe),this.angle=ye,Se!==void 0&&(this.segment=Se)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.clone=function(){return new z(this.x,this.y,this.angle,this.segment)},z}(t);ve("Anchor",td);var Wu=128;function h1(I,z){var Z=z.expression;if(Z.kind==="constant"){var oe=Z.evaluate(new Bn(I+1));return{kind:"constant",layoutSize:oe}}else{if(Z.kind==="source")return{kind:"source"};for(var ye=Z.zoomStops,Se=Z.interpolationType,De=0;De<ye.length&&ye[De]<=I;)De++;De=Math.max(0,De-1);for(var Je=De;Je<ye.length&&ye[Je]<I+1;)Je++;Je=Math.min(ye.length-1,Je);var ft=ye[De],bt=ye[Je];if(Z.kind==="composite")return{kind:"composite",minZoom:ft,maxZoom:bt,interpolationType:Se};var St=Z.evaluate(new Bn(ft)),Gt=Z.evaluate(new Bn(bt));return{kind:"camera",minZoom:ft,maxZoom:bt,minSize:St,maxSize:Gt,interpolationType:Se}}}function U3(I,z,Z){var oe=z.uSize,ye=z.uSizeT,Se=Z.lowerSize,De=Z.upperSize;return I.kind==="source"?Se/Wu:I.kind==="composite"?Ha(Se/Wu,De/Wu,ye):oe}function H3(I,z){var Z=0,oe=0;if(I.kind==="constant")oe=I.layoutSize;else if(I.kind!=="source"){var ye=I.interpolationType,Se=I.minZoom,De=I.maxZoom,Je=ye?c(Wa.interpolationFactor(ye,z,Se,De),0,1):0;I.kind==="camera"?oe=Ha(I.minSize,I.maxSize,Je):Z=Je}return{uSizeT:Z,uSize:oe}}var T8=Object.freeze({__proto__:null,getSizeData:h1,evaluateSizeForFeature:U3,evaluateSizeForZoom:H3,SIZE_PACK_FACTOR:Wu});function V3(I,z,Z,oe,ye){if(z.segment===void 0)return!0;for(var Se=z,De=z.segment+1,Je=0;Je>-Z/2;){if(De--,De<0)return!1;Je-=I[De].dist(Se),Se=I[De]}Je+=I[De].dist(I[De+1]),De++;for(var ft=[],bt=0;Je<Z/2;){var St=I[De-1],Gt=I[De],sr=I[De+1];if(!sr)return!1;var qt=St.angleTo(Gt)-Gt.angleTo(sr);for(qt=Math.abs((qt+3*Math.PI)%(Math.PI*2)-Math.PI),ft.push({distance:Je,angleDelta:qt}),bt+=qt;Je-ft[0].distance>oe;)bt-=ft.shift().angleDelta;if(bt>ye)return!1;De++,Je+=Gt.dist(sr)}return!0}function W3(I){for(var z=0,Z=0;Z<I.length-1;Z++)z+=I[Z].dist(I[Z+1]);return z}function G3(I,z,Z){return I?.6*z*Z:0}function Y3(I,z){return Math.max(I?I.right-I.left:0,z?z.right-z.left:0)}function A8(I,z,Z,oe,ye,Se){for(var De=G3(Z,ye,Se),Je=Y3(Z,oe)*Se,ft=0,bt=W3(I)/2,St=0;St<I.length-1;St++){var Gt=I[St],sr=I[St+1],qt=Gt.dist(sr);if(ft+qt>bt){var mr=(bt-ft)/qt,Nr=Ha(Gt.x,sr.x,mr),rn=Ha(Gt.y,sr.y,mr),$r=new td(Nr,rn,sr.angleTo(Gt),St);return $r._round(),!De||V3(I,$r,Je,De,z)?$r:void 0}ft+=qt}}function M8(I,z,Z,oe,ye,Se,De,Je,ft){var bt=G3(oe,Se,De),St=Y3(oe,ye),Gt=St*De,sr=I[0].x===0||I[0].x===ft||I[0].y===0||I[0].y===ft;z-Gt<z/4&&(z=Gt+z/4);var qt=Se*2,mr=sr?z/2*Je%z:(St/2+qt)*De*Je%z;return Z3(I,mr,z,bt,Z,Gt,sr,!1,ft)}function Z3(I,z,Z,oe,ye,Se,De,Je,ft){for(var bt=Se/2,St=W3(I),Gt=0,sr=z-Z,qt=[],mr=0;mr<I.length-1;mr++){for(var Nr=I[mr],rn=I[mr+1],$r=Nr.dist(rn),Mn=rn.angleTo(Nr);sr+Z<Gt+$r;){sr+=Z;var xn=(sr-Gt)/$r,An=Ha(Nr.x,rn.x,xn),kn=Ha(Nr.y,rn.y,xn);if(An>=0&&An<ft&&kn>=0&&kn<ft&&sr-bt>=0&&sr+bt<=St){var Un=new td(An,kn,Mn,mr);Un._round(),(!oe||V3(I,Un,Se,oe,ye))&&qt.push(Un)}}Gt+=$r}return!Je&&!qt.length&&!De&&(qt=Z3(I,Gt/2,Z,oe,ye,Se,De,!0,ft)),qt}function j3(I,z,Z,oe,ye){for(var Se=[],De=0;De<I.length;De++)for(var Je=I[De],ft=void 0,bt=0;bt<Je.length-1;bt++){var St=Je[bt],Gt=Je[bt+1];St.x<z&&Gt.x<z||(St.x<z?St=new t(z,St.y+(Gt.y-St.y)*((z-St.x)/(Gt.x-St.x)))._round():Gt.x<z&&(Gt=new t(z,St.y+(Gt.y-St.y)*((z-St.x)/(Gt.x-St.x)))._round()),!(St.y<Z&&Gt.y<Z)&&(St.y<Z?St=new t(St.x+(Gt.x-St.x)*((Z-St.y)/(Gt.y-St.y)),Z)._round():Gt.y<Z&&(Gt=new t(St.x+(Gt.x-St.x)*((Z-St.y)/(Gt.y-St.y)),Z)._round()),!(St.x>=oe&&Gt.x>=oe)&&(St.x>=oe?St=new t(oe,St.y+(Gt.y-St.y)*((oe-St.x)/(Gt.x-St.x)))._round():Gt.x>=oe&&(Gt=new t(oe,St.y+(Gt.y-St.y)*((oe-St.x)/(Gt.x-St.x)))._round()),!(St.y>=ye&&Gt.y>=ye)&&(St.y>=ye?St=new t(St.x+(Gt.x-St.x)*((ye-St.y)/(Gt.y-St.y)),ye)._round():Gt.y>=ye&&(Gt=new t(St.x+(Gt.x-St.x)*((ye-St.y)/(Gt.y-St.y)),ye)._round()),(!ft||!St.equals(ft[ft.length-1]))&&(ft=[St],Se.push(ft)),ft.push(Gt)))))}return Se}var rd=Js;function X3(I,z,Z,oe){var ye=[],Se=I.image,De=Se.pixelRatio,Je=Se.paddedRect.w-2*rd,ft=Se.paddedRect.h-2*rd,bt=I.right-I.left,St=I.bottom-I.top,Gt=Se.stretchX||[[0,Je]],sr=Se.stretchY||[[0,ft]],qt=function(aa,ea){return aa+ea[1]-ea[0]},mr=Gt.reduce(qt,0),Nr=sr.reduce(qt,0),rn=Je-mr,$r=ft-Nr,Mn=0,xn=mr,An=0,kn=Nr,Un=0,Qn=rn,Jn=0,Si=$r;if(Se.content&&oe){var ci=Se.content;Mn=pg(Gt,0,ci[0]),An=pg(sr,0,ci[1]),xn=pg(Gt,ci[0],ci[2]),kn=pg(sr,ci[1],ci[3]),Un=ci[0]-Mn,Jn=ci[1]-An,Qn=ci[2]-ci[0]-xn,Si=ci[3]-ci[1]-kn}var yi=function(aa,ea,Pa,_a){var Xa=gg(aa.stretch-Mn,xn,bt,I.left),$a=yg(aa.fixed-Un,Qn,aa.stretch,mr),Po=gg(ea.stretch-An,kn,St,I.top),po=yg(ea.fixed-Jn,Si,ea.stretch,Nr),is=gg(Pa.stretch-Mn,xn,bt,I.left),as=yg(Pa.fixed-Un,Qn,Pa.stretch,mr),Ro=gg(_a.stretch-An,kn,St,I.top),ds=yg(_a.fixed-Jn,Si,_a.stretch,Nr),ps=new t(Xa,Po),Ao=new t(is,Po),gs=new t(is,Ro),dl=new t(Xa,Ro),sc=new t($a/De,po/De),qc=new t(as/De,ds/De),eh=z*Math.PI/180;if(eh){var th=Math.sin(eh),fd=Math.cos(eh),cu=[fd,-th,th,fd];ps._matMult(cu),Ao._matMult(cu),dl._matMult(cu),gs._matMult(cu)}var Ag=aa.stretch+aa.fixed,b1=Pa.stretch+Pa.fixed,Mg=ea.stretch+ea.fixed,w1=_a.stretch+_a.fixed,Ol={x:Se.paddedRect.x+rd+Ag,y:Se.paddedRect.y+rd+Mg,w:b1-Ag,h:w1-Mg},cd=Qn/De/bt,Sg=Si/De/St;return{tl:ps,tr:Ao,bl:dl,br:gs,tex:Ol,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:sc,pixelOffsetBR:qc,minFontScaleX:cd,minFontScaleY:Sg,isSDF:Z}};if(!oe||!Se.stretchX&&!Se.stretchY)ye.push(yi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Je+1},{fixed:0,stretch:ft+1}));else for(var Ni=K3(Gt,rn,mr),Ti=K3(sr,$r,Nr),Ai=0;Ai<Ni.length-1;Ai++)for(var Yi=Ni[Ai],zi=Ni[Ai+1],na=0;na<Ti.length-1;na++){var wa=Ti[na],ia=Ti[na+1];ye.push(yi(Yi,wa,zi,ia))}return ye}function pg(I,z,Z){for(var oe=0,ye=0,Se=I;ye<Se.length;ye+=1){var De=Se[ye];oe+=Math.max(z,Math.min(Z,De[1]))-Math.max(z,Math.min(Z,De[0]))}return oe}function K3(I,z,Z){for(var oe=[{fixed:-rd,stretch:0}],ye=0,Se=I;ye<Se.length;ye+=1){var De=Se[ye],Je=De[0],ft=De[1],bt=oe[oe.length-1];oe.push({fixed:Je-bt.stretch,stretch:bt.stretch}),oe.push({fixed:Je-bt.stretch,stretch:bt.stretch+(ft-Je)})}return oe.push({fixed:z+rd,stretch:Z}),oe}function gg(I,z,Z,oe){return I/z*Z+oe}function yg(I,z,Z,oe){return I-z*Z/oe}function S8(I,z,Z,oe,ye,Se,De,Je){for(var ft=oe.layout.get("text-rotate").evaluate(Se,{})*Math.PI/180,bt=[],St=0,Gt=z.positionedLines;St<Gt.length;St+=1)for(var sr=Gt[St],qt=0,mr=sr.positionedGlyphs;qt<mr.length;qt+=1){var Nr=mr[qt];if(Nr.rect){var rn=Nr.rect||{},$r=1,Mn=D3+$r,xn=!0,An=1,kn=0,Un=(ye||Je)&&Nr.vertical,Qn=Nr.metrics.advance*Nr.scale/2;if(Je&&z.verticalizable){var Jn=(Nr.scale-1)*No,Si=(No-Nr.metrics.width*Nr.scale)/2;kn=sr.lineOffset/2-(Nr.imageName?-Si:Jn)}if(Nr.imageName){var ci=De[Nr.imageName];xn=ci.sdf,An=ci.pixelRatio,Mn=Js/An}var yi=ye?[Nr.x+Qn,Nr.y]:[0,0],Ni=ye?[0,0]:[Nr.x+Qn+Z[0],Nr.y+Z[1]-kn],Ti=[0,0];Un&&(Ti=Ni,Ni=[0,0]);var Ai=(Nr.metrics.left-Mn)*Nr.scale-Qn+Ni[0],Yi=(-Nr.metrics.top-Mn)*Nr.scale+Ni[1],zi=Ai+rn.w*Nr.scale/An,na=Yi+rn.h*Nr.scale/An,wa=new t(Ai,Yi),ia=new t(zi,Yi),aa=new t(Ai,na),ea=new t(zi,na);if(Un){var Pa=new t(-Qn,Qn-wp),_a=-Math.PI/2,Xa=No/2-Qn,$a=Nr.imageName?Xa:0,Po=new t(5-wp-Xa,-$a),po=new(Function.prototype.bind.apply(t,[null].concat(Ti)));wa._rotateAround(_a,Pa)._add(Po)._add(po),ia._rotateAround(_a,Pa)._add(Po)._add(po),aa._rotateAround(_a,Pa)._add(Po)._add(po),ea._rotateAround(_a,Pa)._add(Po)._add(po)}if(ft){var is=Math.sin(ft),as=Math.cos(ft),Ro=[as,-is,is,as];wa._matMult(Ro),ia._matMult(Ro),aa._matMult(Ro),ea._matMult(Ro)}var ds=new t(0,0),ps=new t(0,0),Ao=0,gs=0;bt.push({tl:wa,tr:ia,bl:aa,br:ea,tex:rn,writingMode:z.writingMode,glyphOffset:yi,sectionIndex:Nr.sectionIndex,isSDF:xn,pixelOffsetTL:ds,pixelOffsetBR:ps,minFontScaleX:Ao,minFontScaleY:gs})}}return bt}var mg=function(z,Z,oe,ye,Se,De,Je,ft,bt,St){if(this.boxStartIndex=z.length,bt){var Gt=De.top,sr=De.bottom,qt=De.collisionPadding;qt&&(Gt-=qt[1],sr+=qt[3]);var mr=sr-Gt;mr>0&&(mr=Math.max(10,mr),this.circleDiameter=mr)}else{var Nr=De.top*Je-ft,rn=De.bottom*Je+ft,$r=De.left*Je-ft,Mn=De.right*Je+ft,xn=De.collisionPadding;if(xn&&($r-=xn[0]*Je,Nr-=xn[1]*Je,Mn+=xn[2]*Je,rn+=xn[3]*Je),St){var An=new t($r,Nr),kn=new t(Mn,Nr),Un=new t($r,rn),Qn=new t(Mn,rn),Jn=St*Math.PI/180;An._rotate(Jn),kn._rotate(Jn),Un._rotate(Jn),Qn._rotate(Jn),$r=Math.min(An.x,kn.x,Un.x,Qn.x),Mn=Math.max(An.x,kn.x,Un.x,Qn.x),Nr=Math.min(An.y,kn.y,Un.y,Qn.y),rn=Math.max(An.y,kn.y,Un.y,Qn.y)}z.emplaceBack(Z.x,Z.y,$r,Nr,Mn,rn,oe,ye,Se)}this.boxEndIndex=z.length},nd=function(z,Z){if(z===void 0&&(z=[]),Z===void 0&&(Z=E8),this.data=z,this.length=this.data.length,this.compare=Z,this.length>0)for(var oe=(this.length>>1)-1;oe>=0;oe--)this._down(oe)};nd.prototype.push=function(z){this.data.push(z),this.length++,this._up(this.length-1)},nd.prototype.pop=function(){if(this.length!==0){var z=this.data[0],Z=this.data.pop();return this.length--,this.length>0&&(this.data[0]=Z,this._down(0)),z}},nd.prototype.peek=function(){return this.data[0]},nd.prototype._up=function(z){for(var Z=this,oe=Z.data,ye=Z.compare,Se=oe[z];z>0;){var De=z-1>>1,Je=oe[De];if(ye(Se,Je)>=0)break;oe[z]=Je,z=De}oe[z]=Se},nd.prototype._down=function(z){for(var Z=this,oe=Z.data,ye=Z.compare,Se=this.length>>1,De=oe[z];z<Se;){var Je=(z<<1)+1,ft=oe[Je],bt=Je+1;if(bt<this.length&&ye(oe[bt],ft)<0&&(Je=bt,ft=oe[bt]),ye(ft,De)>=0)break;oe[z]=ft,z=Je}oe[z]=De};function E8(I,z){return I<z?-1:I>z?1:0}function C8(I,z,Z){z===void 0&&(z=1),Z===void 0&&(Z=!1);for(var oe=1/0,ye=1/0,Se=-1/0,De=-1/0,Je=I[0],ft=0;ft<Je.length;ft++){var bt=Je[ft];(!ft||bt.x<oe)&&(oe=bt.x),(!ft||bt.y<ye)&&(ye=bt.y),(!ft||bt.x>Se)&&(Se=bt.x),(!ft||bt.y>De)&&(De=bt.y)}var St=Se-oe,Gt=De-ye,sr=Math.min(St,Gt),qt=sr/2,mr=new nd([],L8);if(sr===0)return new t(oe,ye);for(var Nr=oe;Nr<Se;Nr+=sr)for(var rn=ye;rn<De;rn+=sr)mr.push(new id(Nr+qt,rn+qt,qt,I));for(var $r=R8(I),Mn=mr.length;mr.length;){var xn=mr.pop();(xn.d>$r.d||!$r.d)&&($r=xn,Z&&console.log("found best %d after %d probes",Math.round(1e4*xn.d)/1e4,Mn)),!(xn.max-$r.d<=z)&&(qt=xn.h/2,mr.push(new id(xn.p.x-qt,xn.p.y-qt,qt,I)),mr.push(new id(xn.p.x+qt,xn.p.y-qt,qt,I)),mr.push(new id(xn.p.x-qt,xn.p.y+qt,qt,I)),mr.push(new id(xn.p.x+qt,xn.p.y+qt,qt,I)),Mn+=4)}return Z&&(console.log("num probes: "+Mn),console.log("best distance: "+$r.d)),$r.p}function L8(I,z){return z.max-I.max}function id(I,z,Z,oe){this.p=new t(I,z),this.h=Z,this.d=P8(this.p,oe),this.max=this.d+this.h*Math.SQRT2}function P8(I,z){for(var Z=!1,oe=1/0,ye=0;ye<z.length;ye++)for(var Se=z[ye],De=0,Je=Se.length,ft=Je-1;De<Je;ft=De++){var bt=Se[De],St=Se[ft];bt.y>I.y!=St.y>I.y&&I.x<(St.x-bt.x)*(I.y-bt.y)/(St.y-bt.y)+bt.x&&(Z=!Z),oe=Math.min(oe,Uu(I,bt,St))}return(Z?1:-1)*Math.sqrt(oe)}function R8(I){for(var z=0,Z=0,oe=0,ye=I[0],Se=0,De=ye.length,Je=De-1;Se<De;Je=Se++){var ft=ye[Se],bt=ye[Je],St=ft.x*bt.y-bt.x*ft.y;Z+=(ft.x+bt.x)*St,oe+=(ft.y+bt.y)*St,z+=St*3}return new id(Z/z,oe/z,0,I)}var ad=7,v1=Number.POSITIVE_INFINITY;function J3(I,z){function Z(ye,Se){var De=0,Je=0;Se<0&&(Se=0);var ft=Se/Math.sqrt(2);switch(ye){case"top-right":case"top-left":Je=ft-ad;break;case"bottom-right":case"bottom-left":Je=-ft+ad;break;case"bottom":Je=-Se+ad;break;case"top":Je=Se-ad;break}switch(ye){case"top-right":case"bottom-right":De=-ft;break;case"top-left":case"bottom-left":De=ft;break;case"left":De=Se;break;case"right":De=-Se;break}return[De,Je]}function oe(ye,Se,De){var Je=0,ft=0;switch(Se=Math.abs(Se),De=Math.abs(De),ye){case"top-right":case"top-left":case"top":ft=De-ad;break;case"bottom-right":case"bottom-left":case"bottom":ft=-De+ad;break}switch(ye){case"top-right":case"bottom-right":case"right":Je=-Se;break;case"top-left":case"bottom-left":case"left":Je=Se;break}return[Je,ft]}return z[1]!==v1?oe(I,z[0],z[1]):Z(I,z[0])}function D8(I,z,Z,oe,ye,Se,De){I.createArrays();var Je=512*I.overscaling;I.tilePixelRatio=Li/Je,I.compareText={},I.iconsNeedLinear=!1;var ft=I.layers[0].layout,bt=I.layers[0]._unevaluatedLayout._values,St={};if(I.textSizeData.kind==="composite"){var Gt=I.textSizeData,sr=Gt.minZoom,qt=Gt.maxZoom;St.compositeTextSizes=[bt["text-size"].possiblyEvaluate(new Bn(sr),De),bt["text-size"].possiblyEvaluate(new Bn(qt),De)]}if(I.iconSizeData.kind==="composite"){var mr=I.iconSizeData,Nr=mr.minZoom,rn=mr.maxZoom;St.compositeIconSizes=[bt["icon-size"].possiblyEvaluate(new Bn(Nr),De),bt["icon-size"].possiblyEvaluate(new Bn(rn),De)]}St.layoutTextSize=bt["text-size"].possiblyEvaluate(new Bn(I.zoom+1),De),St.layoutIconSize=bt["icon-size"].possiblyEvaluate(new Bn(I.zoom+1),De),St.textMaxSize=bt["text-size"].possiblyEvaluate(new Bn(18));for(var $r=ft.get("text-line-height")*No,Mn=ft.get("text-rotation-alignment")==="map"&&ft.get("symbol-placement")!=="point",xn=ft.get("text-keep-upright"),An=ft.get("text-size"),kn=function(){var Jn=Qn[Un],Si=ft.get("text-font").evaluate(Jn,{},De).join(","),ci=An.evaluate(Jn,{},De),yi=St.layoutTextSize.evaluate(Jn,{},De),Ni=St.layoutIconSize.evaluate(Jn,{},De),Ti={horizontal:{},vertical:void 0},Ai=Jn.text,Yi=[0,0];if(Ai){var zi=Ai.toString(),na=ft.get("text-letter-spacing").evaluate(Jn,{},De)*No,wa=er(zi)?na:0,ia=ft.get("text-anchor").evaluate(Jn,{},De),aa=ft.get("text-variable-anchor");if(!aa){var ea=ft.get("text-radial-offset").evaluate(Jn,{},De);ea?Yi=J3(ia,[ea*No,v1]):Yi=ft.get("text-offset").evaluate(Jn,{},De).map(function(sc){return sc*No})}var Pa=Mn?"center":ft.get("text-justify").evaluate(Jn,{},De),_a=ft.get("symbol-placement"),Xa=_a==="point"?ft.get("text-max-width").evaluate(Jn,{},De)*No:0,$a=function(){I.allowVerticalPlacement&&Nt(zi)&&(Ti.vertical=dg(Ai,z,Z,ye,Si,Xa,$r,ia,"left",wa,Yi,vl.vertical,!0,_a,yi,ci))};if(!Mn&&aa){for(var Po=Pa==="auto"?aa.map(function(sc){return d1(sc)}):[Pa],po=!1,is=0;is<Po.length;is++){var as=Po[is];if(!Ti.horizontal[as])if(po)Ti.horizontal[as]=Ti.horizontal[0];else{var Ro=dg(Ai,z,Z,ye,Si,Xa,$r,"center",as,wa,Yi,vl.horizontal,!1,_a,yi,ci);Ro&&(Ti.horizontal[as]=Ro,po=Ro.positionedLines.length===1)}}$a()}else{Pa==="auto"&&(Pa=d1(ia));var ds=dg(Ai,z,Z,ye,Si,Xa,$r,ia,Pa,wa,Yi,vl.horizontal,!1,_a,yi,ci);ds&&(Ti.horizontal[Pa]=ds),$a(),Nt(zi)&&Mn&&xn&&(Ti.vertical=dg(Ai,z,Z,ye,Si,Xa,$r,ia,Pa,wa,Yi,vl.vertical,!1,_a,yi,ci))}}var ps=void 0,Ao=!1;if(Jn.icon&&Jn.icon.name){var gs=oe[Jn.icon.name];gs&&(ps=w8(ye[Jn.icon.name],ft.get("icon-offset").evaluate(Jn,{},De),ft.get("icon-anchor").evaluate(Jn,{},De)),Ao=gs.sdf,I.sdfIcons===void 0?I.sdfIcons=gs.sdf:I.sdfIcons!==gs.sdf&&Y("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(gs.pixelRatio!==I.pixelRatio||ft.get("icon-rotate").constantOr(1)!==0)&&(I.iconsNeedLinear=!0))}var dl=$3(Ti.horizontal)||Ti.vertical;I.iconsInText=dl?dl.iconsInText:!1,(dl||ps)&&_8(I,Jn,Ti,ps,oe,St,yi,Ni,Yi,Ao,De)},Un=0,Qn=I.features;Un<Qn.length;Un+=1)kn();Se&&I.generateCollisionDebugBuffers()}function d1(I){switch(I){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function _8(I,z,Z,oe,ye,Se,De,Je,ft,bt,St){var Gt=Se.textMaxSize.evaluate(z,{});Gt===void 0&&(Gt=De);var sr=I.layers[0].layout,qt=sr.get("icon-offset").evaluate(z,{},St),mr=$3(Z.horizontal),Nr=24,rn=De/Nr,$r=I.tilePixelRatio*rn,Mn=I.tilePixelRatio*Gt/Nr,xn=I.tilePixelRatio*Je,An=I.tilePixelRatio*sr.get("symbol-spacing"),kn=sr.get("text-padding")*I.tilePixelRatio,Un=sr.get("icon-padding")*I.tilePixelRatio,Qn=sr.get("text-max-angle")/180*Math.PI,Jn=sr.get("text-rotation-alignment")==="map"&&sr.get("symbol-placement")!=="point",Si=sr.get("icon-rotation-alignment")==="map"&&sr.get("symbol-placement")!=="point",ci=sr.get("symbol-placement"),yi=An/2,Ni=sr.get("icon-text-fit"),Ti;oe&&Ni!=="none"&&(I.allowVerticalPlacement&&Z.vertical&&(Ti=N3(oe,Z.vertical,Ni,sr.get("icon-text-fit-padding"),qt,rn)),mr&&(oe=N3(oe,mr,Ni,sr.get("icon-text-fit-padding"),qt,rn)));var Ai=function(fd,cu){cu.x<0||cu.x>=Li||cu.y<0||cu.y>=Li||k8(I,cu,fd,Z,oe,ye,Ti,I.layers[0],I.collisionBoxArray,z.index,z.sourceLayerIndex,I.index,$r,kn,Jn,ft,xn,Un,Si,qt,z,Se,bt,St,De)};if(ci==="line")for(var Yi=0,zi=j3(z.geometry,0,0,Li,Li);Yi<zi.length;Yi+=1)for(var na=zi[Yi],wa=M8(na,An,Qn,Z.vertical||mr,oe,Nr,Mn,I.overscaling,Li),ia=0,aa=wa;ia<aa.length;ia+=1){var ea=aa[ia],Pa=mr;(!Pa||!I8(I,Pa.text,yi,ea))&&Ai(na,ea)}else if(ci==="line-center")for(var _a=0,Xa=z.geometry;_a<Xa.length;_a+=1){var $a=Xa[_a];if($a.length>1){var Po=A8($a,Qn,Z.vertical||mr,oe,Nr,Mn);Po&&Ai($a,Po)}}else if(z.type==="Polygon")for(var po=0,is=n1(z.geometry,0);po<is.length;po+=1){var as=is[po],Ro=C8(as,16);Ai(as[0],new td(Ro.x,Ro.y,0))}else if(z.type==="LineString")for(var ds=0,ps=z.geometry;ds<ps.length;ds+=1){var Ao=ps[ds];Ai(Ao,new td(Ao[0].x,Ao[0].y,0))}else if(z.type==="Point")for(var gs=0,dl=z.geometry;gs<dl.length;gs+=1)for(var sc=dl[gs],qc=0,eh=sc;qc<eh.length;qc+=1){var th=eh[qc];Ai([th],new td(th.x,th.y,0))}}var Tp=255,Qc=Tp*Wu;function Q3(I,z,Z,oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr){var Nr=S8(z,Z,Je,ye,Se,De,oe,I.allowVerticalPlacement),rn=I.textSizeData,$r=null;rn.kind==="source"?($r=[Wu*ye.layout.get("text-size").evaluate(De,{})],$r[0]>Qc&&Y(I.layerIds[0]+': Value for "text-size" is >= '+Tp+'. Reduce your "text-size".')):rn.kind==="composite"&&($r=[Wu*qt.compositeTextSizes[0].evaluate(De,{},mr),Wu*qt.compositeTextSizes[1].evaluate(De,{},mr)],($r[0]>Qc||$r[1]>Qc)&&Y(I.layerIds[0]+': Value for "text-size" is >= '+Tp+'. Reduce your "text-size".')),I.addSymbols(I.text,Nr,$r,Je,Se,De,bt,z,ft.lineStartIndex,ft.lineLength,sr,mr);for(var Mn=0,xn=St;Mn<xn.length;Mn+=1){var An=xn[Mn];Gt[An]=I.text.placedSymbolArray.length-1}return Nr.length*4}function $3(I){for(var z in I)return I[z];return null}function k8(I,z,Z,oe,ye,Se,De,Je,ft,bt,St,Gt,sr,qt,mr,Nr,rn,$r,Mn,xn,An,kn,Un,Qn,Jn){var Si,ci=I.addToLineVertexArray(z,Z),yi,Ni,Ti,Ai,Yi=0,zi=0,na=0,wa=0,ia=-1,aa=-1,ea={},Pa=je(""),_a=0,Xa=0;if(Je._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Si=Je.layout.get("text-offset").evaluate(An,{},Qn).map(function(Sp){return Sp*No}),_a=Si[0],Xa=Si[1]):(_a=Je.layout.get("text-radial-offset").evaluate(An,{},Qn)*No,Xa=v1),I.allowVerticalPlacement&&oe.vertical){var $a=Je.layout.get("text-rotate").evaluate(An,{},Qn),Po=$a+90,po=oe.vertical;Ti=new mg(ft,z,bt,St,Gt,po,sr,qt,mr,Po),De&&(Ai=new mg(ft,z,bt,St,Gt,De,rn,$r,mr,Po))}if(ye){var is=Je.layout.get("icon-rotate").evaluate(An,{}),as=Je.layout.get("icon-text-fit")!=="none",Ro=X3(ye,is,Un,as),ds=De?X3(De,is,Un,as):void 0;Ni=new mg(ft,z,bt,St,Gt,ye,rn,$r,!1,is),Yi=Ro.length*4;var ps=I.iconSizeData,Ao=null;ps.kind==="source"?(Ao=[Wu*Je.layout.get("icon-size").evaluate(An,{})],Ao[0]>Qc&&Y(I.layerIds[0]+': Value for "icon-size" is >= '+Tp+'. Reduce your "icon-size".')):ps.kind==="composite"&&(Ao=[Wu*kn.compositeIconSizes[0].evaluate(An,{},Qn),Wu*kn.compositeIconSizes[1].evaluate(An,{},Qn)],(Ao[0]>Qc||Ao[1]>Qc)&&Y(I.layerIds[0]+': Value for "icon-size" is >= '+Tp+'. Reduce your "icon-size".')),I.addSymbols(I.icon,Ro,Ao,xn,Mn,An,!1,z,ci.lineStartIndex,ci.lineLength,-1,Qn),ia=I.icon.placedSymbolArray.length-1,ds&&(zi=ds.length*4,I.addSymbols(I.icon,ds,Ao,xn,Mn,An,vl.vertical,z,ci.lineStartIndex,ci.lineLength,-1,Qn),aa=I.icon.placedSymbolArray.length-1)}for(var gs in oe.horizontal){var dl=oe.horizontal[gs];if(!yi){Pa=je(dl.text);var sc=Je.layout.get("text-rotate").evaluate(An,{},Qn);yi=new mg(ft,z,bt,St,Gt,dl,sr,qt,mr,sc)}var qc=dl.positionedLines.length===1;if(na+=Q3(I,z,dl,Se,Je,mr,An,Nr,ci,oe.vertical?vl.horizontal:vl.horizontalOnly,qc?Object.keys(oe.horizontal):[gs],ea,ia,kn,Qn),qc)break}oe.vertical&&(wa+=Q3(I,z,oe.vertical,Se,Je,mr,An,Nr,ci,vl.vertical,["vertical"],ea,aa,kn,Qn));var eh=yi?yi.boxStartIndex:I.collisionBoxArray.length,th=yi?yi.boxEndIndex:I.collisionBoxArray.length,fd=Ti?Ti.boxStartIndex:I.collisionBoxArray.length,cu=Ti?Ti.boxEndIndex:I.collisionBoxArray.length,Ag=Ni?Ni.boxStartIndex:I.collisionBoxArray.length,b1=Ni?Ni.boxEndIndex:I.collisionBoxArray.length,Mg=Ai?Ai.boxStartIndex:I.collisionBoxArray.length,w1=Ai?Ai.boxEndIndex:I.collisionBoxArray.length,Ol=-1,cd=function(Sp,dw){return Sp&&Sp.circleDiameter?Math.max(Sp.circleDiameter,dw):dw};Ol=cd(yi,Ol),Ol=cd(Ti,Ol),Ol=cd(Ni,Ol),Ol=cd(Ai,Ol);var Sg=Ol>-1?1:0;Sg&&(Ol*=Jn/No),I.glyphOffsetArray.length>=ba.MAX_GLYPHS&&Y("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),An.sortKey!==void 0&&I.addToSortKeyRanges(I.symbolInstances.length,An.sortKey),I.symbolInstances.emplaceBack(z.x,z.y,ea.right>=0?ea.right:-1,ea.center>=0?ea.center:-1,ea.left>=0?ea.left:-1,ea.vertical||-1,ia,aa,Pa,eh,th,fd,cu,Ag,b1,Mg,w1,bt,na,wa,Yi,zi,Sg,0,sr,_a,Xa,Ol)}function I8(I,z,Z,oe){var ye=I.compareText;if(!(z in ye))ye[z]=[];else for(var Se=ye[z],De=Se.length-1;De>=0;De--)if(oe.dist(Se[De])<Z)return!0;return ye[z].push(oe),!1}var F8=Qv.VectorTileFeature.types,z8=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function xg(I,z,Z,oe,ye,Se,De,Je,ft,bt,St,Gt,sr){var qt=Je?Math.min(Qc,Math.round(Je[0])):0,mr=Je?Math.min(Qc,Math.round(Je[1])):0;I.emplaceBack(z,Z,Math.round(oe*32),Math.round(ye*32),Se,De,(qt<<1)+(ft?1:0),mr,bt*16,St*16,Gt*256,sr*256)}function p1(I,z,Z){I.emplaceBack(z.x,z.y,Z),I.emplaceBack(z.x,z.y,Z),I.emplaceBack(z.x,z.y,Z),I.emplaceBack(z.x,z.y,Z)}function O8(I){for(var z=0,Z=I.sections;z<Z.length;z+=1){var oe=Z[z];if(tn(oe.text))return!0}return!1}var od=function(z){this.layoutVertexArray=new yf,this.indexArray=new Nu,this.programConfigurations=z,this.segments=new J,this.dynamicLayoutVertexArray=new ip,this.opacityVertexArray=new ap,this.placedSymbolArray=new jc};od.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},od.prototype.upload=function(z,Z,oe,ye){this.isEmpty()||(oe&&(this.layoutVertexBuffer=z.createVertexBuffer(this.layoutVertexArray,s1.members),this.indexBuffer=z.createIndexBuffer(this.indexArray,Z),this.dynamicLayoutVertexBuffer=z.createVertexBuffer(this.dynamicLayoutVertexArray,BE.members,!0),this.opacityVertexBuffer=z.createVertexBuffer(this.opacityVertexArray,z8,!0),this.opacityVertexBuffer.itemSize=1),(oe||ye)&&this.programConfigurations.upload(z))},od.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ve("SymbolBuffers",od);var Ap=function(z,Z,oe){this.layoutVertexArray=new z,this.layoutAttributes=Z,this.indexArray=new oe,this.segments=new J,this.collisionVertexArray=new Rs};Ap.prototype.upload=function(z){this.layoutVertexBuffer=z.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=z.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=z.createVertexBuffer(this.collisionVertexArray,NE.members,!0)},Ap.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ve("CollisionBuffers",Ap);var ba=function(z){this.collisionBoxArray=z.collisionBoxArray,this.zoom=z.zoom,this.overscaling=z.overscaling,this.layers=z.layers,this.layerIds=this.layers.map(function(ft){return ft.id}),this.index=z.index,this.pixelRatio=z.pixelRatio,this.sourceLayerIndex=z.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Zv([]),this.placementViewportMatrix=Zv([]);var Z=this.layers[0],oe=Z._unevaluatedLayout._values;this.textSizeData=h1(this.zoom,oe["text-size"]),this.iconSizeData=h1(this.zoom,oe["icon-size"]);var ye=this.layers[0].layout,Se=ye.get("symbol-sort-key"),De=ye.get("symbol-z-order");this.sortFeaturesByKey=De!=="viewport-y"&&Se.constantOr(1)!==void 0;var Je=De==="viewport-y"||De==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Je&&(ye.get("text-allow-overlap")||ye.get("icon-allow-overlap")||ye.get("text-ignore-placement")||ye.get("icon-ignore-placement")),ye.get("symbol-placement")==="point"&&(this.writingModes=ye.get("text-writing-mode").map(function(ft){return vl[ft]})),this.stateDependentLayerIds=this.layers.filter(function(ft){return ft.isStateDependent()}).map(function(ft){return ft.id}),this.sourceID=z.sourceID};ba.prototype.createArrays=function(){this.text=new od(new Hi(s1.members,this.layers,this.zoom,function(z){return/^text/.test(z)})),this.icon=new od(new Hi(s1.members,this.layers,this.zoom,function(z){return/^icon/.test(z)})),this.glyphOffsetArray=new Fl,this.lineVertexArray=new tg,this.symbolInstances=new eg},ba.prototype.calculateGlyphDependencies=function(z,Z,oe,ye,Se){for(var De=0;De<z.length;De++)if(Z[z.charCodeAt(De)]=!0,(oe||ye)&&Se){var Je=mp[z.charAt(De)];Je&&(Z[Je.charCodeAt(0)]=!0)}},ba.prototype.populate=function(z,Z,oe){var ye=this.layers[0],Se=ye.layout,De=Se.get("text-font"),Je=Se.get("text-field"),ft=Se.get("icon-image"),bt=(Je.value.kind!=="constant"||Je.value.value instanceof ro&&!Je.value.value.isEmpty()||Je.value.value.toString().length>0)&&(De.value.kind!=="constant"||De.value.value.length>0),St=ft.value.kind!=="constant"||!!ft.value.value||Object.keys(ft.parameters).length>0,Gt=Se.get("symbol-sort-key");if(this.features=[],!(!bt&&!St)){for(var sr=Z.iconDependencies,qt=Z.glyphDependencies,mr=Z.availableImages,Nr=new Bn(this.zoom),rn=0,$r=z;rn<$r.length;rn+=1){var Mn=$r[rn],xn=Mn.feature,An=Mn.id,kn=Mn.index,Un=Mn.sourceLayerIndex,Qn=ye._featureFilter.needGeometry,Jn={type:xn.type,id:An,properties:xn.properties,geometry:Qn?da(xn):[]};if(ye._featureFilter.filter(Nr,Jn,oe)){Qn||(Jn.geometry=da(xn));var Si=void 0;if(bt){var ci=ye.getValueAndResolveTokens("text-field",Jn,oe,mr),yi=ro.factory(ci);O8(yi)&&(this.hasRTLText=!0),(!this.hasRTLText||Ui()==="unavailable"||this.hasRTLText&&ra.isParsed())&&(Si=VE(yi,ye,Jn))}var Ni=void 0;if(St){var Ti=ye.getValueAndResolveTokens("icon-image",Jn,oe,mr);Ti instanceof Io?Ni=Ti:Ni=Io.fromString(Ti)}if(!(!Si&&!Ni)){var Ai=this.sortFeaturesByKey?Gt.evaluate(Jn,{},oe):void 0,Yi={id:An,text:Si,icon:Ni,index:kn,sourceLayerIndex:Un,geometry:da(xn),properties:xn.properties,type:F8[xn.type],sortKey:Ai};if(this.features.push(Yi),Ni&&(sr[Ni.name]=!0),Si){var zi=De.evaluate(Jn,{},oe).join(","),na=Se.get("text-rotation-alignment")==="map"&&Se.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(vl.vertical)>=0;for(var wa=0,ia=Si.sections;wa<ia.length;wa+=1){var aa=ia[wa];if(aa.image)sr[aa.image.name]=!0;else{var ea=Nt(Si.toString()),Pa=aa.fontStack||zi,_a=qt[Pa]=qt[Pa]||{};this.calculateGlyphDependencies(aa.text,_a,na,this.allowVerticalPlacement,ea)}}}}}}Se.get("symbol-placement")==="line"&&(this.features=WE(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Xa,$a){return Xa.sortKey-$a.sortKey})}},ba.prototype.update=function(z,Z,oe){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(z,Z,this.layers,oe),this.icon.programConfigurations.updatePaintArrays(z,Z,this.layers,oe))},ba.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},ba.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ba.prototype.upload=function(z){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(z),this.iconCollisionBox.upload(z)),this.text.upload(z,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(z,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ba.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ba.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ba.prototype.addToLineVertexArray=function(z,Z){var oe=this.lineVertexArray.length;if(z.segment!==void 0){for(var ye=z.dist(Z[z.segment+1]),Se=z.dist(Z[z.segment]),De={},Je=z.segment+1;Je<Z.length;Je++)De[Je]={x:Z[Je].x,y:Z[Je].y,tileUnitDistanceFromAnchor:ye},Je<Z.length-1&&(ye+=Z[Je+1].dist(Z[Je]));for(var ft=z.segment||0;ft>=0;ft--)De[ft]={x:Z[ft].x,y:Z[ft].y,tileUnitDistanceFromAnchor:Se},ft>0&&(Se+=Z[ft-1].dist(Z[ft]));for(var bt=0;bt<Z.length;bt++){var St=De[bt];this.lineVertexArray.emplaceBack(St.x,St.y,St.tileUnitDistanceFromAnchor)}}return{lineStartIndex:oe,lineLength:this.lineVertexArray.length-oe}},ba.prototype.addSymbols=function(z,Z,oe,ye,Se,De,Je,ft,bt,St,Gt,sr){for(var qt=z.indexArray,mr=z.layoutVertexArray,Nr=z.segments.prepareSegment(4*Z.length,mr,qt,De.sortKey),rn=this.glyphOffsetArray.length,$r=Nr.vertexLength,Mn=this.allowVerticalPlacement&&Je===vl.vertical?Math.PI/2:0,xn=De.text&&De.text.sections,An=0;An<Z.length;An++){var kn=Z[An],Un=kn.tl,Qn=kn.tr,Jn=kn.bl,Si=kn.br,ci=kn.tex,yi=kn.pixelOffsetTL,Ni=kn.pixelOffsetBR,Ti=kn.minFontScaleX,Ai=kn.minFontScaleY,Yi=kn.glyphOffset,zi=kn.isSDF,na=kn.sectionIndex,wa=Nr.vertexLength,ia=Yi[1];xg(mr,ft.x,ft.y,Un.x,ia+Un.y,ci.x,ci.y,oe,zi,yi.x,yi.y,Ti,Ai),xg(mr,ft.x,ft.y,Qn.x,ia+Qn.y,ci.x+ci.w,ci.y,oe,zi,Ni.x,yi.y,Ti,Ai),xg(mr,ft.x,ft.y,Jn.x,ia+Jn.y,ci.x,ci.y+ci.h,oe,zi,yi.x,Ni.y,Ti,Ai),xg(mr,ft.x,ft.y,Si.x,ia+Si.y,ci.x+ci.w,ci.y+ci.h,oe,zi,Ni.x,Ni.y,Ti,Ai),p1(z.dynamicLayoutVertexArray,ft,Mn),qt.emplaceBack(wa,wa+1,wa+2),qt.emplaceBack(wa+1,wa+2,wa+3),Nr.vertexLength+=4,Nr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Yi[0]),(An===Z.length-1||na!==Z[An+1].sectionIndex)&&z.programConfigurations.populatePaintArrays(mr.length,De,De.index,{},sr,xn&&xn[na])}z.placedSymbolArray.emplaceBack(ft.x,ft.y,rn,this.glyphOffsetArray.length-rn,$r,bt,St,ft.segment,oe?oe[0]:0,oe?oe[1]:0,ye[0],ye[1],Je,0,!1,0,Gt)},ba.prototype._addCollisionDebugVertex=function(z,Z,oe,ye,Se,De){return Z.emplaceBack(0,0),z.emplaceBack(oe.x,oe.y,ye,Se,Math.round(De.x),Math.round(De.y))},ba.prototype.addCollisionDebugVertices=function(z,Z,oe,ye,Se,De,Je){var ft=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),bt=ft.vertexLength,St=Se.layoutVertexArray,Gt=Se.collisionVertexArray,sr=Je.anchorX,qt=Je.anchorY;this._addCollisionDebugVertex(St,Gt,De,sr,qt,new t(z,Z)),this._addCollisionDebugVertex(St,Gt,De,sr,qt,new t(oe,Z)),this._addCollisionDebugVertex(St,Gt,De,sr,qt,new t(oe,ye)),this._addCollisionDebugVertex(St,Gt,De,sr,qt,new t(z,ye)),ft.vertexLength+=4;var mr=Se.indexArray;mr.emplaceBack(bt,bt+1),mr.emplaceBack(bt+1,bt+2),mr.emplaceBack(bt+2,bt+3),mr.emplaceBack(bt+3,bt),ft.primitiveLength+=4},ba.prototype.addDebugCollisionBoxes=function(z,Z,oe,ye){for(var Se=z;Se<Z;Se++){var De=this.collisionBoxArray.get(Se),Je=De.x1,ft=De.y1,bt=De.x2,St=De.y2;this.addCollisionDebugVertices(Je,ft,bt,St,ye?this.textCollisionBox:this.iconCollisionBox,De.anchorPoint,oe)}},ba.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ap(Hv,E3.members,av),this.iconCollisionBox=new Ap(Hv,E3.members,av);for(var z=0;z<this.symbolInstances.length;z++){var Z=this.symbolInstances.get(z);this.addDebugCollisionBoxes(Z.textBoxStartIndex,Z.textBoxEndIndex,Z,!0),this.addDebugCollisionBoxes(Z.verticalTextBoxStartIndex,Z.verticalTextBoxEndIndex,Z,!0),this.addDebugCollisionBoxes(Z.iconBoxStartIndex,Z.iconBoxEndIndex,Z,!1),this.addDebugCollisionBoxes(Z.verticalIconBoxStartIndex,Z.verticalIconBoxEndIndex,Z,!1)}},ba.prototype._deserializeCollisionBoxesForSymbol=function(z,Z,oe,ye,Se,De,Je,ft,bt){for(var St={},Gt=Z;Gt<oe;Gt++){var sr=z.get(Gt);St.textBox={x1:sr.x1,y1:sr.y1,x2:sr.x2,y2:sr.y2,anchorPointX:sr.anchorPointX,anchorPointY:sr.anchorPointY},St.textFeatureIndex=sr.featureIndex;break}for(var qt=ye;qt<Se;qt++){var mr=z.get(qt);St.verticalTextBox={x1:mr.x1,y1:mr.y1,x2:mr.x2,y2:mr.y2,anchorPointX:mr.anchorPointX,anchorPointY:mr.anchorPointY},St.verticalTextFeatureIndex=mr.featureIndex;break}for(var Nr=De;Nr<Je;Nr++){var rn=z.get(Nr);St.iconBox={x1:rn.x1,y1:rn.y1,x2:rn.x2,y2:rn.y2,anchorPointX:rn.anchorPointX,anchorPointY:rn.anchorPointY},St.iconFeatureIndex=rn.featureIndex;break}for(var $r=ft;$r<bt;$r++){var Mn=z.get($r);St.verticalIconBox={x1:Mn.x1,y1:Mn.y1,x2:Mn.x2,y2:Mn.y2,anchorPointX:Mn.anchorPointX,anchorPointY:Mn.anchorPointY},St.verticalIconFeatureIndex=Mn.featureIndex;break}return St},ba.prototype.deserializeCollisionBoxes=function(z){this.collisionArrays=[];for(var Z=0;Z<this.symbolInstances.length;Z++){var oe=this.symbolInstances.get(Z);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(z,oe.textBoxStartIndex,oe.textBoxEndIndex,oe.verticalTextBoxStartIndex,oe.verticalTextBoxEndIndex,oe.iconBoxStartIndex,oe.iconBoxEndIndex,oe.verticalIconBoxStartIndex,oe.verticalIconBoxEndIndex))}},ba.prototype.hasTextData=function(){return this.text.segments.get().length>0},ba.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ba.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ba.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ba.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ba.prototype.addIndicesForPlacedSymbol=function(z,Z){for(var oe=z.placedSymbolArray.get(Z),ye=oe.vertexStartIndex+oe.numGlyphs*4,Se=oe.vertexStartIndex;Se<ye;Se+=4)z.indexArray.emplaceBack(Se,Se+1,Se+2),z.indexArray.emplaceBack(Se+1,Se+2,Se+3)},ba.prototype.getSortedSymbolIndexes=function(z){if(this.sortedAngle===z&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var Z=Math.sin(z),oe=Math.cos(z),ye=[],Se=[],De=[],Je=0;Je<this.symbolInstances.length;++Je){De.push(Je);var ft=this.symbolInstances.get(Je);ye.push(Math.round(Z*ft.anchorX+oe*ft.anchorY)|0),Se.push(ft.featureIndex)}return De.sort(function(bt,St){return ye[bt]-ye[St]||Se[St]-Se[bt]}),De},ba.prototype.addToSortKeyRanges=function(z,Z){var oe=this.sortKeyRanges[this.sortKeyRanges.length-1];oe&&oe.sortKey===Z?oe.symbolInstanceEnd=z+1:this.sortKeyRanges.push({sortKey:Z,symbolInstanceStart:z,symbolInstanceEnd:z+1})},ba.prototype.sortFeatures=function(z){var Z=this;if(this.sortFeaturesByY&&this.sortedAngle!==z&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(z),this.sortedAngle=z,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var oe=0,ye=this.symbolInstanceIndexes;oe<ye.length;oe+=1){var Se=ye[oe],De=this.symbolInstances.get(Se);this.featureSortOrder.push(De.featureIndex),[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(Je,ft,bt){Je>=0&&bt.indexOf(Je)===ft&&Z.addIndicesForPlacedSymbol(Z.text,Je)}),De.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,De.verticalPlacedTextSymbolIndex),De.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.placedIconSymbolIndex),De.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ve("SymbolBucket",ba,{omit:["layers","collisionBoxArray","features","compareText"]}),ba.MAX_GLYPHS=65535,ba.addDynamicAttributes=p1;function B8(I,z){return z.replace(/{([^{}]+)}/g,function(Z,oe){return oe in I?String(I[oe]):""})}var N8=new io({"symbol-placement":new gi(jt.layout_symbol["symbol-placement"]),"symbol-spacing":new gi(jt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new gi(jt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Mi(jt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new gi(jt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new gi(jt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new gi(jt.layout_symbol["icon-ignore-placement"]),"icon-optional":new gi(jt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new gi(jt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Mi(jt.layout_symbol["icon-size"]),"icon-text-fit":new gi(jt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new gi(jt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Mi(jt.layout_symbol["icon-image"]),"icon-rotate":new Mi(jt.layout_symbol["icon-rotate"]),"icon-padding":new gi(jt.layout_symbol["icon-padding"]),"icon-keep-upright":new gi(jt.layout_symbol["icon-keep-upright"]),"icon-offset":new Mi(jt.layout_symbol["icon-offset"]),"icon-anchor":new Mi(jt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new gi(jt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new gi(jt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new gi(jt.layout_symbol["text-rotation-alignment"]),"text-field":new Mi(jt.layout_symbol["text-field"]),"text-font":new Mi(jt.layout_symbol["text-font"]),"text-size":new Mi(jt.layout_symbol["text-size"]),"text-max-width":new Mi(jt.layout_symbol["text-max-width"]),"text-line-height":new gi(jt.layout_symbol["text-line-height"]),"text-letter-spacing":new Mi(jt.layout_symbol["text-letter-spacing"]),"text-justify":new Mi(jt.layout_symbol["text-justify"]),"text-radial-offset":new Mi(jt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new gi(jt.layout_symbol["text-variable-anchor"]),"text-anchor":new Mi(jt.layout_symbol["text-anchor"]),"text-max-angle":new gi(jt.layout_symbol["text-max-angle"]),"text-writing-mode":new gi(jt.layout_symbol["text-writing-mode"]),"text-rotate":new Mi(jt.layout_symbol["text-rotate"]),"text-padding":new gi(jt.layout_symbol["text-padding"]),"text-keep-upright":new gi(jt.layout_symbol["text-keep-upright"]),"text-transform":new Mi(jt.layout_symbol["text-transform"]),"text-offset":new Mi(jt.layout_symbol["text-offset"]),"text-allow-overlap":new gi(jt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new gi(jt.layout_symbol["text-ignore-placement"]),"text-optional":new gi(jt.layout_symbol["text-optional"])}),U8=new io({"icon-opacity":new Mi(jt.paint_symbol["icon-opacity"]),"icon-color":new Mi(jt.paint_symbol["icon-color"]),"icon-halo-color":new Mi(jt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Mi(jt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Mi(jt.paint_symbol["icon-halo-blur"]),"icon-translate":new gi(jt.paint_symbol["icon-translate"]),"icon-translate-anchor":new gi(jt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Mi(jt.paint_symbol["text-opacity"]),"text-color":new Mi(jt.paint_symbol["text-color"],{runtimeType:In,getOverride:function(I){return I.textColor},hasOverride:function(I){return!!I.textColor}}),"text-halo-color":new Mi(jt.paint_symbol["text-halo-color"]),"text-halo-width":new Mi(jt.paint_symbol["text-halo-width"]),"text-halo-blur":new Mi(jt.paint_symbol["text-halo-blur"]),"text-translate":new gi(jt.paint_symbol["text-translate"]),"text-translate-anchor":new gi(jt.paint_symbol["text-translate-anchor"])}),g1={paint:U8,layout:N8},sd=function(z){this.type=z.property.overrides?z.property.overrides.runtimeType:Rr,this.defaultValue=z};sd.prototype.evaluate=function(z){if(z.formattedSection){var Z=this.defaultValue.property.overrides;if(Z&&Z.hasOverride(z.formattedSection))return Z.getOverride(z.formattedSection)}return z.feature&&z.featureState?this.defaultValue.evaluate(z.feature,z.featureState):this.defaultValue.property.specification.default},sd.prototype.eachChild=function(z){if(!this.defaultValue.isConstant()){var Z=this.defaultValue.value;z(Z._styleExpression.expression)}},sd.prototype.outputDefined=function(){return!1},sd.prototype.serialize=function(){return null},ve("FormatSectionOverride",sd,{omit:["defaultValue"]});var H8=function(I){function z(Z){I.call(this,Z,g1)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.recalculate=function(oe,ye){if(I.prototype.recalculate.call(this,oe,ye),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Se=this.layout.get("text-writing-mode");if(Se){for(var De=[],Je=0,ft=Se;Je<ft.length;Je+=1){var bt=ft[Je];De.indexOf(bt)<0&&De.push(bt)}this.layout._values["text-writing-mode"]=De}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},z.prototype.getValueAndResolveTokens=function(oe,ye,Se,De){var Je=this.layout.get(oe).evaluate(ye,{},Se,De),ft=this._unevaluatedLayout._values[oe];return!ft.isDataDriven()&&!ll(ft.value)&&Je?B8(ye.properties,Je):Je},z.prototype.createBucket=function(oe){return new ba(oe)},z.prototype.queryRadius=function(){return 0},z.prototype.queryIntersectsFeature=function(){return!1},z.prototype._setPaintOverrides=function(){for(var oe=0,ye=g1.paint.overridableProperties;oe<ye.length;oe+=1){var Se=ye[oe];if(z.hasPaintOverride(this.layout,Se)){var De=this.paint.get(Se),Je=new sd(De),ft=new js(Je,De.property.specification),bt=null;De.value.kind==="constant"||De.value.kind==="source"?bt=new _l("source",ft):bt=new Oo("composite",ft,De.value.zoomStops,De.value._interpolationType),this.paint._values[Se]=new Ta(De.property,bt,De.parameters)}}},z.prototype._handleOverridablePaintPropertyUpdate=function(oe,ye,Se){return!this.layout||ye.isDataDriven()||Se.isDataDriven()?!1:z.hasPaintOverride(this.layout,oe)},z.hasPaintOverride=function(oe,ye){var Se=oe.get("text-field"),De=g1.paint.properties[ye],Je=!1,ft=function(Gt){for(var sr=0,qt=Gt;sr<qt.length;sr+=1){var mr=qt[sr];if(De.overrides&&De.overrides.hasOverride(mr)){Je=!0;return}}};if(Se.value.kind==="constant"&&Se.value.value instanceof ro)ft(Se.value.value.sections);else if(Se.value.kind==="source"){var bt=function(Gt){if(!Je)if(Gt instanceof Vo&&ka(Gt.value)===li){var sr=Gt.value;ft(sr.sections)}else Gt instanceof $o?ft(Gt.sections):Gt.eachChild(bt)},St=Se.value;St._styleExpression&&bt(St._styleExpression.expression)}return Je},z}(Ra),V8=new io({"background-color":new gi(jt.paint_background["background-color"]),"background-pattern":new Ya(jt.paint_background["background-pattern"]),"background-opacity":new gi(jt.paint_background["background-opacity"])}),W8={paint:V8},G8=function(I){function z(Z){I.call(this,Z,W8)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z}(Ra),Y8=new io({"raster-opacity":new gi(jt.paint_raster["raster-opacity"]),"raster-hue-rotate":new gi(jt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new gi(jt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new gi(jt.paint_raster["raster-brightness-max"]),"raster-saturation":new gi(jt.paint_raster["raster-saturation"]),"raster-contrast":new gi(jt.paint_raster["raster-contrast"]),"raster-resampling":new gi(jt.paint_raster["raster-resampling"]),"raster-fade-duration":new gi(jt.paint_raster["raster-fade-duration"])}),Z8={paint:Y8},j8=function(I){function z(Z){I.call(this,Z,Z8)}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z}(Ra);function X8(I){var z=[],Z=I.id;return Z===void 0&&z.push({message:"layers."+Z+': missing required property "id"'}),I.render===void 0&&z.push({message:"layers."+Z+': missing required method "render"'}),I.renderingMode&&I.renderingMode!=="2d"&&I.renderingMode!=="3d"&&z.push({message:"layers."+Z+': property "renderingMode" must be either "2d" or "3d"'}),z}var K8=function(I){function z(Z){I.call(this,Z,{}),this.implementation=Z}return I&&(z.__proto__=I),z.prototype=Object.create(I&&I.prototype),z.prototype.constructor=z,z.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},z.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},z.prototype.recalculate=function(){},z.prototype.updateTransitions=function(){},z.prototype.hasTransition=function(){},z.prototype.serialize=function(){},z.prototype.onAdd=function(oe){this.implementation.onAdd&&this.implementation.onAdd(oe,oe.painter.context.gl)},z.prototype.onRemove=function(oe){this.implementation.onRemove&&this.implementation.onRemove(oe,oe.painter.context.gl)},z}(Ra),J8={circle:S6,heatmap:P6,hillshade:_6,fill:nE,"fill-extrusion":AE,line:zE,symbol:H8,background:G8,raster:j8};function Q8(I){return I.type==="custom"?new K8(I):new J8[I.type](I)}var q3=self.HTMLImageElement,ew=self.HTMLCanvasElement,tw=self.HTMLVideoElement,rw=self.ImageData,bg=self.ImageBitmap,fv=function(z,Z,oe,ye){this.context=z,this.format=oe,this.texture=z.gl.createTexture(),this.update(Z,ye)};fv.prototype.update=function(z,Z,oe){var ye=z.width,Se=z.height,De=(!this.size||this.size[0]!==ye||this.size[1]!==Se)&&!oe,Je=this,ft=Je.context,bt=ft.gl;if(this.useMipmap=Boolean(Z&&Z.useMipmap),bt.bindTexture(bt.TEXTURE_2D,this.texture),ft.pixelStoreUnpackFlipY.set(!1),ft.pixelStoreUnpack.set(1),ft.pixelStoreUnpackPremultiplyAlpha.set(this.format===bt.RGBA&&(!Z||Z.premultiply!==!1)),De)this.size=[ye,Se],z instanceof q3||z instanceof ew||z instanceof tw||z instanceof rw||bg&&z instanceof bg?bt.texImage2D(bt.TEXTURE_2D,0,this.format,this.format,bt.UNSIGNED_BYTE,z):bt.texImage2D(bt.TEXTURE_2D,0,this.format,ye,Se,0,this.format,bt.UNSIGNED_BYTE,z.data);else{var St=oe||{x:0,y:0},Gt=St.x,sr=St.y;z instanceof q3||z instanceof ew||z instanceof tw||z instanceof rw||bg&&z instanceof bg?bt.texSubImage2D(bt.TEXTURE_2D,0,Gt,sr,bt.RGBA,bt.UNSIGNED_BYTE,z):bt.texSubImage2D(bt.TEXTURE_2D,0,Gt,sr,ye,Se,bt.RGBA,bt.UNSIGNED_BYTE,z.data)}this.useMipmap&&this.isSizePowerOfTwo()&&bt.generateMipmap(bt.TEXTURE_2D)},fv.prototype.bind=function(z,Z,oe){var ye=this,Se=ye.context,De=Se.gl;De.bindTexture(De.TEXTURE_2D,this.texture),oe===De.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(oe=De.LINEAR),z!==this.filter&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MAG_FILTER,z),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MIN_FILTER,oe||z),this.filter=z),Z!==this.wrap&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_S,Z),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_T,Z),this.wrap=Z)},fv.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},fv.prototype.destroy=function(){var z=this.context,Z=z.gl;Z.deleteTexture(this.texture),this.texture=null};var y1=function(z){var Z=this;this._callback=z,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){Z._triggered=!1,Z._callback()})};y1.prototype.trigger=function(){var z=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){z._triggered=!1,z._callback()},0))},y1.prototype.remove=function(){delete this._channel,this._callback=function(){}};var ld=function(z,Z,oe){this.target=z,this.parent=Z,this.mapId=oe,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},P(["receive","process"],this),this.invoker=new y1(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=U()?z:self};ld.prototype.send=function(z,Z,oe,ye,Se){var De=this;Se===void 0&&(Se=!1);var Je=Math.round(Math.random()*1e18).toString(36).substring(0,10);oe&&(this.callbacks[Je]=oe);var ft=re(this.globalScope)?void 0:[];return this.target.postMessage({id:Je,type:z,hasCallback:!!oe,targetMapId:ye,mustQueue:Se,sourceMapId:this.mapId,data:et(Z,ft)},ft),{cancel:function(){oe&&delete De.callbacks[Je],De.target.postMessage({id:Je,type:"<cancel>",targetMapId:ye,sourceMapId:De.mapId})}}},ld.prototype.receive=function(z){var Z=z.data,oe=Z.id;if(oe&&!(Z.targetMapId&&this.mapId!==Z.targetMapId))if(Z.type==="<cancel>"){delete this.tasks[oe];var ye=this.cancelCallbacks[oe];delete this.cancelCallbacks[oe],ye&&ye()}else U()||Z.mustQueue?(this.tasks[oe]=Z,this.taskQueue.push(oe),this.invoker.trigger()):this.processTask(oe,Z)},ld.prototype.process=function(){if(this.taskQueue.length){var z=this.taskQueue.shift(),Z=this.tasks[z];delete this.tasks[z],this.taskQueue.length&&this.invoker.trigger(),Z&&this.processTask(z,Z)}},ld.prototype.processTask=function(z,Z){var oe=this;if(Z.type==="<response>"){var ye=this.callbacks[z];delete this.callbacks[z],ye&&(Z.error?ye(at(Z.error)):ye(null,at(Z.data)))}else{var Se=!1,De=re(this.globalScope)?void 0:[],Je=Z.hasCallback?function(sr,qt){Se=!0,delete oe.cancelCallbacks[z],oe.target.postMessage({id:z,type:"<response>",sourceMapId:oe.mapId,error:sr?et(sr):null,data:et(qt,De)},De)}:function(sr){Se=!0},ft=null,bt=at(Z.data);if(this.parent[Z.type])ft=this.parent[Z.type](Z.sourceMapId,bt,Je);else if(this.parent.getWorkerSource){var St=Z.type.split("."),Gt=this.parent.getWorkerSource(Z.sourceMapId,St[0],bt.source);ft=Gt[St[1]](bt,Je)}else Je(new Error("Could not find function "+Z.type));!Se&&ft&&ft.cancel&&(this.cancelCallbacks[z]=ft.cancel)}},ld.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function $8(I,z,Z){z=Math.pow(2,Z)-z-1;var oe=nw(I*256,z*256,Z),ye=nw((I+1)*256,(z+1)*256,Z);return oe[0]+","+oe[1]+","+ye[0]+","+ye[1]}function nw(I,z,Z){var oe=2*Math.PI*6378137/256/Math.pow(2,Z),ye=I*oe-2*Math.PI*6378137/2,Se=z*oe-2*Math.PI*6378137/2;return[ye,Se]}var ho=function(z,Z){z&&(Z?this.setSouthWest(z).setNorthEast(Z):z.length===4?this.setSouthWest([z[0],z[1]]).setNorthEast([z[2],z[3]]):this.setSouthWest(z[0]).setNorthEast(z[1]))};ho.prototype.setNorthEast=function(z){return this._ne=z instanceof Fa?new Fa(z.lng,z.lat):Fa.convert(z),this},ho.prototype.setSouthWest=function(z){return this._sw=z instanceof Fa?new Fa(z.lng,z.lat):Fa.convert(z),this},ho.prototype.extend=function(z){var Z=this._sw,oe=this._ne,ye,Se;if(z instanceof Fa)ye=z,Se=z;else if(z instanceof ho){if(ye=z._sw,Se=z._ne,!ye||!Se)return this}else{if(Array.isArray(z))if(z.length===4||z.every(Array.isArray)){var De=z;return this.extend(ho.convert(De))}else{var Je=z;return this.extend(Fa.convert(Je))}return this}return!Z&&!oe?(this._sw=new Fa(ye.lng,ye.lat),this._ne=new Fa(Se.lng,Se.lat)):(Z.lng=Math.min(ye.lng,Z.lng),Z.lat=Math.min(ye.lat,Z.lat),oe.lng=Math.max(Se.lng,oe.lng),oe.lat=Math.max(Se.lat,oe.lat)),this},ho.prototype.getCenter=function(){return new Fa((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ho.prototype.getSouthWest=function(){return this._sw},ho.prototype.getNorthEast=function(){return this._ne},ho.prototype.getNorthWest=function(){return new Fa(this.getWest(),this.getNorth())},ho.prototype.getSouthEast=function(){return new Fa(this.getEast(),this.getSouth())},ho.prototype.getWest=function(){return this._sw.lng},ho.prototype.getSouth=function(){return this._sw.lat},ho.prototype.getEast=function(){return this._ne.lng},ho.prototype.getNorth=function(){return this._ne.lat},ho.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ho.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ho.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ho.prototype.contains=function(z){var Z=Fa.convert(z),oe=Z.lng,ye=Z.lat,Se=this._sw.lat<=ye&&ye<=this._ne.lat,De=this._sw.lng<=oe&&oe<=this._ne.lng;return this._sw.lng>this._ne.lng&&(De=this._sw.lng>=oe&&oe>=this._ne.lng),Se&&De},ho.convert=function(z){return!z||z instanceof ho?z:new ho(z)};var iw=63710088e-1,Fa=function(z,Z){if(isNaN(z)||isNaN(Z))throw new Error("Invalid LngLat object: ("+z+", "+Z+")");if(this.lng=+z,this.lat=+Z,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Fa.prototype.wrap=function(){return new Fa(x(this.lng,-180,180),this.lat)},Fa.prototype.toArray=function(){return[this.lng,this.lat]},Fa.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Fa.prototype.distanceTo=function(z){var Z=Math.PI/180,oe=this.lat*Z,ye=z.lat*Z,Se=Math.sin(oe)*Math.sin(ye)+Math.cos(oe)*Math.cos(ye)*Math.cos((z.lng-this.lng)*Z),De=iw*Math.acos(Math.min(Se,1));return De},Fa.prototype.toBounds=function(z){z===void 0&&(z=0);var Z=40075017,oe=360*z/Z,ye=oe/Math.cos(Math.PI/180*this.lat);return new ho(new Fa(this.lng-ye,this.lat-oe),new Fa(this.lng+ye,this.lat+oe))},Fa.convert=function(z){if(z instanceof Fa)return z;if(Array.isArray(z)&&(z.length===2||z.length===3))return new Fa(Number(z[0]),Number(z[1]));if(!Array.isArray(z)&&typeof z=="object"&&z!==null)return new Fa(Number("lng"in z?z.lng:z.lon),Number(z.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var aw=2*Math.PI*iw;function ow(I){return aw*Math.cos(I*Math.PI/180)}function sw(I){return(180+I)/360}function lw(I){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+I*Math.PI/360)))/360}function uw(I,z){return I/ow(z)}function q8(I){return I*360-180}function m1(I){var z=180-I*360;return 360/Math.PI*Math.atan(Math.exp(z*Math.PI/180))-90}function eC(I,z){return I*ow(m1(z))}function tC(I){return 1/Math.cos(I*Math.PI/180)}var cv=function(z,Z,oe){oe===void 0&&(oe=0),this.x=+z,this.y=+Z,this.z=+oe};cv.fromLngLat=function(z,Z){Z===void 0&&(Z=0);var oe=Fa.convert(z);return new cv(sw(oe.lng),lw(oe.lat),uw(Z,oe.lat))},cv.prototype.toLngLat=function(){return new Fa(q8(this.x),m1(this.y))},cv.prototype.toAltitude=function(){return eC(this.z,this.y)},cv.prototype.meterInMercatorCoordinateUnits=function(){return 1/aw*tC(m1(this.y))};var hv=function(z,Z,oe){this.z=z,this.x=Z,this.y=oe,this.key=Mp(0,z,z,Z,oe)};hv.prototype.equals=function(z){return this.z===z.z&&this.x===z.x&&this.y===z.y},hv.prototype.url=function(z,Z){var oe=$8(this.x,this.y,this.z),ye=rC(this.z,this.x,this.y);return z[(this.x+this.y)%z.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(Z==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ye).replace("{bbox-epsg-3857}",oe)},hv.prototype.getTilePoint=function(z){var Z=Math.pow(2,this.z);return new t((z.x*Z-this.x)*Li,(z.y*Z-this.y)*Li)},hv.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var fw=function(z,Z){this.wrap=z,this.canonical=Z,this.key=Mp(z,Z.z,Z.z,Z.x,Z.y)},vo=function(z,Z,oe,ye,Se){this.overscaledZ=z,this.wrap=Z,this.canonical=new hv(oe,+ye,+Se),this.key=Mp(Z,z,oe,ye,Se)};vo.prototype.equals=function(z){return this.overscaledZ===z.overscaledZ&&this.wrap===z.wrap&&this.canonical.equals(z.canonical)},vo.prototype.scaledTo=function(z){var Z=this.canonical.z-z;return z>this.canonical.z?new vo(z,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new vo(z,this.wrap,z,this.canonical.x>>Z,this.canonical.y>>Z)},vo.prototype.calculateScaledKey=function(z,Z){var oe=this.canonical.z-z;return z>this.canonical.z?Mp(this.wrap*+Z,z,this.canonical.z,this.canonical.x,this.canonical.y):Mp(this.wrap*+Z,z,z,this.canonical.x>>oe,this.canonical.y>>oe)},vo.prototype.isChildOf=function(z){if(z.wrap!==this.wrap)return!1;var Z=this.canonical.z-z.canonical.z;return z.overscaledZ===0||z.overscaledZ<this.overscaledZ&&z.canonical.x===this.canonical.x>>Z&&z.canonical.y===this.canonical.y>>Z},vo.prototype.children=function(z){if(this.overscaledZ>=z)return[new vo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var Z=this.canonical.z+1,oe=this.canonical.x*2,ye=this.canonical.y*2;return[new vo(Z,this.wrap,Z,oe,ye),new vo(Z,this.wrap,Z,oe+1,ye),new vo(Z,this.wrap,Z,oe,ye+1),new vo(Z,this.wrap,Z,oe+1,ye+1)]},vo.prototype.isLessThan=function(z){return this.wrap<z.wrap?!0:this.wrap>z.wrap?!1:this.overscaledZ<z.overscaledZ?!0:this.overscaledZ>z.overscaledZ?!1:this.canonical.x<z.canonical.x?!0:this.canonical.x>z.canonical.x?!1:this.canonical.y<z.canonical.y},vo.prototype.wrapped=function(){return new vo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},vo.prototype.unwrapTo=function(z){return new vo(this.overscaledZ,z,this.canonical.z,this.canonical.x,this.canonical.y)},vo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},vo.prototype.toUnwrapped=function(){return new fw(this.wrap,this.canonical)},vo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},vo.prototype.getTilePoint=function(z){return this.canonical.getTilePoint(new cv(z.x-this.wrap,z.y))};function Mp(I,z,Z,oe,ye){I*=2,I<0&&(I=I*-1-1);var Se=1<<Z;return(Se*Se*I+Se*ye+oe).toString(36)+Z.toString(36)+z.toString(36)}function rC(I,z,Z){for(var oe="",ye,Se=I;Se>0;Se--)ye=1<<Se-1,oe+=(z&ye?1:0)+(Z&ye?2:0);return oe}ve("CanonicalTileID",hv),ve("OverscaledTileID",vo,{omit:["posMatrix"]});var ac=function(z,Z,oe){if(this.uid=z,Z.height!==Z.width)throw new RangeError("DEM tiles must be square");if(oe&&oe!=="mapbox"&&oe!=="terrarium")return Y('"'+oe+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=Z.height;var ye=this.dim=Z.height-2;this.data=new Uint32Array(Z.data.buffer),this.encoding=oe||"mapbox";for(var Se=0;Se<ye;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(ye,Se)]=this.data[this._idx(ye-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,ye)]=this.data[this._idx(Se,ye-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ye,-1)]=this.data[this._idx(ye-1,0)],this.data[this._idx(-1,ye)]=this.data[this._idx(0,ye-1)],this.data[this._idx(ye,ye)]=this.data[this._idx(ye-1,ye-1)]};ac.prototype.get=function(z,Z){var oe=new Uint8Array(this.data.buffer),ye=this._idx(z,Z)*4,Se=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Se(oe[ye],oe[ye+1],oe[ye+2])},ac.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},ac.prototype._idx=function(z,Z){if(z<-1||z>=this.dim+1||Z<-1||Z>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(Z+1)*this.stride+(z+1)},ac.prototype._unpackMapbox=function(z,Z,oe){return(z*256*256+Z*256+oe)/10-1e4},ac.prototype._unpackTerrarium=function(z,Z,oe){return z*256+Z+oe/256-32768},ac.prototype.getPixels=function(){return new ks({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},ac.prototype.backfillBorder=function(z,Z,oe){if(this.dim!==z.dim)throw new Error("dem dimension mismatch");var ye=Z*this.dim,Se=Z*this.dim+this.dim,De=oe*this.dim,Je=oe*this.dim+this.dim;switch(Z){case-1:ye=Se-1;break;case 1:Se=ye+1;break}switch(oe){case-1:De=Je-1;break;case 1:Je=De+1;break}for(var ft=-Z*this.dim,bt=-oe*this.dim,St=De;St<Je;St++)for(var Gt=ye;Gt<Se;Gt++)this.data[this._idx(Gt,St)]=z.data[this._idx(Gt+ft,St+bt)]},ve("DEMData",ac);function nC(I,z){var Z={};if(!z)return Z;for(var oe=function(){var De=Se[ye],Je=De.layerIds.map(function(Gt){return z.getLayer(Gt)}).filter(Boolean);if(Je.length!==0){De.layers=Je,De.stateDependentLayerIds&&(De.stateDependentLayers=De.stateDependentLayerIds.map(function(Gt){return Je.filter(function(sr){return sr.id===Gt})[0]}));for(var ft=0,bt=Je;ft<bt.length;ft+=1){var St=bt[ft];Z[St.id]=De}}},ye=0,Se=I;ye<Se.length;ye+=1)oe();return Z}var wg=function(z){this._stringToNumber={},this._numberToString=[];for(var Z=0;Z<z.length;Z++){var oe=z[Z];this._stringToNumber[oe]=Z,this._numberToString[Z]=oe}};wg.prototype.encode=function(z){return this._stringToNumber[z]},wg.prototype.decode=function(z){return this._numberToString[z]};var Tg=function(z,Z,oe,ye,Se){this.type="Feature",this._vectorTileFeature=z,z._z=Z,z._x=oe,z._y=ye,this.properties=z.properties,this.id=Se},x1={geometry:{configurable:!0}};x1.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},x1.geometry.set=function(I){this._geometry=I},Tg.prototype.toJSON=function(){var z={geometry:this.geometry};for(var Z in this)Z==="_geometry"||Z==="_vectorTileFeature"||(z[Z]=this[Z]);return z},Object.defineProperties(Tg.prototype,x1);var ud=function(){this.state={},this.stateChanges={},this.deletedStates={}};ud.prototype.updateState=function(z,Z,oe){var ye=String(Z);if(this.stateChanges[z]=this.stateChanges[z]||{},this.stateChanges[z][ye]=this.stateChanges[z][ye]||{},u(this.stateChanges[z][ye],oe),this.deletedStates[z]===null){this.deletedStates[z]={};for(var Se in this.state[z])Se!==ye&&(this.deletedStates[z][Se]=null)}else{var De=this.deletedStates[z]&&this.deletedStates[z][ye]===null;if(De){this.deletedStates[z][ye]={};for(var Je in this.state[z][ye])oe[Je]||(this.deletedStates[z][ye][Je]=null)}else for(var ft in oe){var bt=this.deletedStates[z]&&this.deletedStates[z][ye]&&this.deletedStates[z][ye][ft]===null;bt&&delete this.deletedStates[z][ye][ft]}}},ud.prototype.removeFeatureState=function(z,Z,oe){var ye=this.deletedStates[z]===null;if(!ye){var Se=String(Z);if(this.deletedStates[z]=this.deletedStates[z]||{},oe&&Z!==void 0)this.deletedStates[z][Se]!==null&&(this.deletedStates[z][Se]=this.deletedStates[z][Se]||{},this.deletedStates[z][Se][oe]=null);else if(Z!==void 0){var De=this.stateChanges[z]&&this.stateChanges[z][Se];if(De){this.deletedStates[z][Se]={};for(oe in this.stateChanges[z][Se])this.deletedStates[z][Se][oe]=null}else this.deletedStates[z][Se]=null}else this.deletedStates[z]=null}},ud.prototype.getState=function(z,Z){var oe=String(Z),ye=this.state[z]||{},Se=this.stateChanges[z]||{},De=u({},ye[oe],Se[oe]);if(this.deletedStates[z]===null)return{};if(this.deletedStates[z]){var Je=this.deletedStates[z][Z];if(Je===null)return{};for(var ft in Je)delete De[ft]}return De},ud.prototype.initializeTileState=function(z,Z){z.setFeatureState(this.state,Z)},ud.prototype.coalesceChanges=function(z,Z){var oe={};for(var ye in this.stateChanges){this.state[ye]=this.state[ye]||{};var Se={};for(var De in this.stateChanges[ye])this.state[ye][De]||(this.state[ye][De]={}),u(this.state[ye][De],this.stateChanges[ye][De]),Se[De]=this.state[ye][De];oe[ye]=Se}for(var Je in this.deletedStates){this.state[Je]=this.state[Je]||{};var ft={};if(this.deletedStates[Je]===null)for(var bt in this.state[Je])ft[bt]={},this.state[Je][bt]={};else for(var St in this.deletedStates[Je]){var Gt=this.deletedStates[Je][St]===null;if(Gt)this.state[Je][St]={};else for(var sr=0,qt=Object.keys(this.deletedStates[Je][St]);sr<qt.length;sr+=1){var mr=qt[sr];delete this.state[Je][St][mr]}ft[St]=this.state[Je][St]}oe[Je]=oe[Je]||{},u(oe[Je],ft)}if(this.stateChanges={},this.deletedStates={},Object.keys(oe).length!==0)for(var Nr in z){var rn=z[Nr];rn.setFeatureState(oe,Z)}};var oc=function(z,Z){this.tileID=z,this.x=z.canonical.x,this.y=z.canonical.y,this.z=z.canonical.z,this.grid=new Ri(Li,16,0),this.grid3D=new Ri(Li,16,0),this.featureIndexArray=new up,this.promoteId=Z};oc.prototype.insert=function(z,Z,oe,ye,Se,De){var Je=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(oe,ye,Se);for(var ft=De?this.grid3D:this.grid,bt=0;bt<Z.length;bt++){for(var St=Z[bt],Gt=[1/0,1/0,-1/0,-1/0],sr=0;sr<St.length;sr++){var qt=St[sr];Gt[0]=Math.min(Gt[0],qt.x),Gt[1]=Math.min(Gt[1],qt.y),Gt[2]=Math.max(Gt[2],qt.x),Gt[3]=Math.max(Gt[3],qt.y)}Gt[0]<Li&&Gt[1]<Li&&Gt[2]>=0&&Gt[3]>=0&&ft.insert(Je,Gt[0],Gt[1],Gt[2],Gt[3])}},oc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Qv.VectorTile(new cg(this.rawTileData)).layers,this.sourceLayerCoder=new wg(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},oc.prototype.query=function(z,Z,oe,ye){var Se=this;this.loadVTLayers();for(var De=z.params||{},Je=Li/z.tileSize/z.scale,ft=Iu(De.filter),bt=z.queryGeometry,St=z.queryPadding*Je,Gt=hw(bt),sr=this.grid.query(Gt.minX-St,Gt.minY-St,Gt.maxX+St,Gt.maxY+St),qt=hw(z.cameraQueryGeometry),mr=this.grid3D.query(qt.minX-St,qt.minY-St,qt.maxX+St,qt.maxY+St,function(Un,Qn,Jn,Si){return wf(z.cameraQueryGeometry,Un-St,Qn-St,Jn+St,Si+St)}),Nr=0,rn=mr;Nr<rn.length;Nr+=1){var $r=rn[Nr];sr.push($r)}sr.sort(iC);for(var Mn={},xn,An=function(Un){var Qn=sr[Un];if(Qn!==xn){xn=Qn;var Jn=Se.featureIndexArray.get(Qn),Si=null;Se.loadMatchingFeature(Mn,Jn.bucketIndex,Jn.sourceLayerIndex,Jn.featureIndex,ft,De.layers,De.availableImages,Z,oe,ye,function(ci,yi,Ni){return Si||(Si=da(ci)),yi.queryIntersectsFeature(bt,ci,Ni,Si,Se.z,z.transform,Je,z.pixelPosMatrix)})}},kn=0;kn<sr.length;kn++)An(kn);return Mn},oc.prototype.loadMatchingFeature=function(z,Z,oe,ye,Se,De,Je,ft,bt,St,Gt){var sr=this.bucketLayerIDs[Z];if(!(De&&!N(De,sr))){var qt=this.sourceLayerCoder.decode(oe),mr=this.vtLayers[qt],Nr=mr.feature(ye);if(Se.filter(new Bn(this.tileID.overscaledZ),Nr))for(var rn=this.getId(Nr,qt),$r=0;$r<sr.length;$r++){var Mn=sr[$r];if(!(De&&De.indexOf(Mn)<0)){var xn=ft[Mn];if(xn){var An={};rn!==void 0&&St&&(An=St.getState(xn.sourceLayer||"_geojsonTileLayer",rn));var kn=bt[Mn];kn.paint=cw(kn.paint,xn.paint,Nr,An,Je),kn.layout=cw(kn.layout,xn.layout,Nr,An,Je);var Un=!Gt||Gt(Nr,xn,An);if(Un){var Qn=new Tg(Nr,this.z,this.x,this.y,rn);Qn.layer=kn;var Jn=z[Mn];Jn===void 0&&(Jn=z[Mn]=[]),Jn.push({featureIndex:ye,feature:Qn,intersectionZ:Un})}}}}}},oc.prototype.lookupSymbolFeatures=function(z,Z,oe,ye,Se,De,Je,ft){var bt={};this.loadVTLayers();for(var St=Iu(Se),Gt=0,sr=z;Gt<sr.length;Gt+=1){var qt=sr[Gt];this.loadMatchingFeature(bt,oe,ye,qt,St,De,Je,ft,Z)}return bt},oc.prototype.hasLayer=function(z){for(var Z=0,oe=this.bucketLayerIDs;Z<oe.length;Z+=1)for(var ye=oe[Z],Se=0,De=ye;Se<De.length;Se+=1){var Je=De[Se];if(z===Je)return!0}return!1},oc.prototype.getId=function(z,Z){var oe=z.id;if(this.promoteId){var ye=typeof this.promoteId=="string"?this.promoteId:this.promoteId[Z];oe=z.properties[ye],typeof oe=="boolean"&&(oe=Number(oe))}return oe},ve("FeatureIndex",oc,{omit:["rawTileData","sourceLayerCoder"]});function cw(I,z,Z,oe,ye){return a(I,function(Se,De){var Je=z instanceof va?z.get(De):null;return Je&&Je.evaluate?Je.evaluate(Z,oe,ye):Je})}function hw(I){for(var z=1/0,Z=1/0,oe=-1/0,ye=-1/0,Se=0,De=I;Se<De.length;Se+=1){var Je=De[Se];z=Math.min(z,Je.x),Z=Math.min(Z,Je.y),oe=Math.max(oe,Je.x),ye=Math.max(ye,Je.y)}return{minX:z,minY:Z,maxX:oe,maxY:ye}}function iC(I,z){return z-I}var aC=3e4,Lo=function(z,Z){this.tileID=z,this.uid=S(),this.uses=0,this.tileSize=Z,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Lo.prototype.registerFadeDuration=function(z){var Z=z+this.timeAdded;Z<fe.now()||this.fadeEndTime&&Z<this.fadeEndTime||(this.fadeEndTime=Z)},Lo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Lo.prototype.loadVectorData=function(z,Z,oe){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!z){this.collisionBoxArray=new bf;return}z.featureIndex&&(this.latestFeatureIndex=z.featureIndex,z.rawTileData?(this.latestRawTileData=z.rawTileData,this.latestFeatureIndex.rawTileData=z.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=z.collisionBoxArray,this.buckets=nC(z.buckets,Z.style),this.hasSymbolBuckets=!1;for(var ye in this.buckets){var Se=this.buckets[ye];if(Se instanceof ba)if(this.hasSymbolBuckets=!0,oe)Se.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var De in this.buckets){var Je=this.buckets[De];if(Je instanceof ba&&Je.hasRTLText){this.hasRTLText=!0,ca();break}}this.queryPadding=0;for(var ft in this.buckets){var bt=this.buckets[ft];this.queryPadding=Math.max(this.queryPadding,Z.style.getLayer(ft).queryRadius(bt))}z.imageAtlas&&(this.imageAtlas=z.imageAtlas),z.glyphAtlasImage&&(this.glyphAtlasImage=z.glyphAtlasImage)},Lo.prototype.unloadVectorData=function(){for(var z in this.buckets)this.buckets[z].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Lo.prototype.getBucket=function(z){return this.buckets[z.id]},Lo.prototype.upload=function(z){for(var Z in this.buckets){var oe=this.buckets[Z];oe.uploadPending()&&oe.upload(z)}var ye=z.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new fv(z,this.imageAtlas.image,ye.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new fv(z,this.glyphAtlasImage,ye.ALPHA),this.glyphAtlasImage=null)},Lo.prototype.prepare=function(z){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(z,this.imageAtlasTexture)},Lo.prototype.queryRenderedFeatures=function(z,Z,oe,ye,Se,De,Je,ft,bt,St){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ye,cameraQueryGeometry:Se,scale:De,tileSize:this.tileSize,pixelPosMatrix:St,transform:ft,params:Je,queryPadding:this.queryPadding*bt},z,Z,oe)},Lo.prototype.querySourceFeatures=function(z,Z){var oe=this.latestFeatureIndex;if(!(!oe||!oe.rawTileData)){var ye=oe.loadVTLayers(),Se=Z?Z.sourceLayer:"",De=ye._geojsonTileLayer||ye[Se];if(De)for(var Je=Iu(Z&&Z.filter),ft=this.tileID.canonical,bt=ft.z,St=ft.x,Gt=ft.y,sr={z:bt,x:St,y:Gt},qt=0;qt<De.length;qt++){var mr=De.feature(qt);if(Je.filter(new Bn(this.tileID.overscaledZ),mr)){var Nr=oe.getId(mr,Se),rn=new Tg(mr,bt,St,Gt,Nr);rn.tile=sr,z.push(rn)}}}},Lo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Lo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Lo.prototype.setExpiryData=function(z){var Z=this.expirationTime;if(z.cacheControl){var oe=G(z.cacheControl);oe["max-age"]&&(this.expirationTime=Date.now()+oe["max-age"]*1e3)}else z.expires&&(this.expirationTime=new Date(z.expires).getTime());if(this.expirationTime){var ye=Date.now(),Se=!1;if(this.expirationTime>ye)Se=!1;else if(!Z)Se=!0;else if(this.expirationTime<Z)Se=!0;else{var De=this.expirationTime-Z;De?this.expirationTime=ye+Math.max(De,aC):Se=!0}Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Lo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Lo.prototype.setFeatureState=function(z,Z){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(z).length===0)){var oe=this.latestFeatureIndex.loadVTLayers();for(var ye in this.buckets)if(Z.style.hasLayer(ye)){var Se=this.buckets[ye],De=Se.layers[0].sourceLayer||"_geojsonTileLayer",Je=oe[De],ft=z[De];if(!(!Je||!ft||Object.keys(ft).length===0)){Se.update(ft,Je,this.imageAtlas&&this.imageAtlas.patternPositions||{});var bt=Z&&Z.style&&Z.style.getLayer(ye);bt&&(this.queryPadding=Math.max(this.queryPadding,bt.queryRadius(Se)))}}}},Lo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Lo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<fe.now()},Lo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Lo.prototype.setHoldDuration=function(z){this.symbolFadeHoldUntil=fe.now()+z},Lo.prototype.setDependencies=function(z,Z){for(var oe={},ye=0,Se=Z;ye<Se.length;ye+=1){var De=Se[ye];oe[De]=!0}this.dependencies[z]=oe},Lo.prototype.hasDependency=function(z,Z){for(var oe=0,ye=z;oe<ye.length;oe+=1){var Se=ye[oe],De=this.dependencies[Se];if(De)for(var Je=0,ft=Z;Je<ft.length;Je+=1){var bt=ft[Je];if(De[bt])return!0}}return!1};var oC=["type","source","source-layer","minzoom","maxzoom","filter","layout"],$c=self.performance,vw=function(z){this._marks={start:[z.url,"start"].join("#"),end:[z.url,"end"].join("#"),measure:z.url.toString()},$c.mark(this._marks.start)};vw.prototype.finish=function(){$c.mark(this._marks.end);var z=$c.getEntriesByName(this._marks.measure);return z.length===0&&($c.measure(this._marks.measure,this._marks.start,this._marks.end),z=$c.getEntriesByName(this._marks.measure),$c.clearMarks(this._marks.start),$c.clearMarks(this._marks.end),$c.clearMeasures(this._marks.measure)),z},n.Actor=ld,n.AlphaImage=uv,n.CanonicalTileID=hv,n.CollisionBoxArray=bf,n.Color=ta,n.DEMData=ac,n.DataConstantProperty=gi,n.DictionaryCoder=wg,n.EXTENT=Li,n.ErrorEvent=nr,n.EvaluationParameters=Bn,n.Event=Zt,n.Evented=lr,n.FeatureIndex=oc,n.FillBucket=Hu,n.FillExtrusionBucket=Vu,n.ImageAtlas=bp,n.ImagePosition=vg,n.LineBucket=Is,n.LngLat=Fa,n.LngLatBounds=ho,n.MercatorCoordinate=cv,n.ONE_EM=No,n.OverscaledTileID=vo,n.Point=t,n.Point$1=t,n.Properties=io,n.Protobuf=cg,n.RGBAImage=ks,n.RequestManager=Ce,n.RequestPerformance=vw,n.ResourceType=yt,n.SegmentVector=J,n.SourceFeatureState=ud,n.StructArrayLayout1ui2=Zc,n.StructArrayLayout2f1f2i16=Bu,n.StructArrayLayout2i4=rv,n.StructArrayLayout3ui6=Nu,n.StructArrayLayout4i8=gf,n.SymbolBucket=ba,n.Texture=fv,n.Tile=Lo,n.Transitionable=Zi,n.Uniform1f=Hr,n.Uniform1i=Gr,n.Uniform2f=Qr,n.Uniform3f=sn,n.Uniform4f=Sn,n.UniformColor=Fn,n.UniformMatrix4f=Zn,n.UnwrappedTileID=fw,n.ValidationError=wr,n.WritingMode=vl,n.ZoomHistory=Rt,n.add=Xv,n.addDynamicAttributes=p1,n.asyncAll=d,n.bezier=f,n.bindAll=P,n.browser=fe,n.cacheEntryPossiblyAdded=Ut,n.clamp=c,n.clearTileCache=Lt,n.clipLine=j3,n.clone=ig,n.clone$1=b,n.clone$2=Xm,n.collisionCircleLayout=UE,n.config=te,n.create=Yv,n.create$1=sv,n.create$2=ov,n.createCommonjsModule=L,n.createExpression=Dl,n.createLayout=Ma,n.createStyleLayer=Q8,n.cross=g6,n.deepEqual=l,n.dot=p6,n.dot$1=w6,n.ease=v,n.emitValidationErrors=Ci,n.endsWith=A,n.enforceCacheSizeLimit=Vt,n.evaluateSizeForFeature=U3,n.evaluateSizeForZoom=H3,n.evaluateVariableOffset=J3,n.evented=mi,n.extend=u,n.featureFilter=Iu,n.filterObject=R,n.fromRotation=Gv,n.getAnchorAlignment=c1,n.getAnchorJustification=d1,n.getArrayBuffer=Tt,n.getImage=Ze,n.getJSON=xt,n.getRTLTextPluginStatus=Ui,n.getReferrer=Yt,n.getVideo=Ye,n.identity=Zv,n.invert=Xc,n.isChar=ct,n.isMapboxURL=Te,n.keysDifference=g,n.makeRequest=lt,n.mapObject=a,n.mercatorXfromLng=sw,n.mercatorYfromLat=lw,n.mercatorZfromAltitude=uw,n.mul=jm,n.multiply=Kc,n.mvt=Qv,n.normalize=cp,n.number=Ha,n.offscreenCanvasSupported=Fr,n.ortho=Zm,n.parseGlyphPBF=v8,n.pbf=cg,n.performSymbolLayout=D8,n.perspective=fp,n.pick=y,n.plugin=ra,n.polygonIntersectsPolygon=Vi,n.postMapLoadEvent=Xe,n.postTurnstileEvent=Ct,n.potpack=_3,n.refProperties=oC,n.register=ve,n.registerForPluginStateChange=Ei,n.rotate=rs,n.rotateX=_s,n.rotateZ=jv,n.scale=Ds,n.scale$1=b6,n.scale$2=Jm,n.setCacheLimits=Kt,n.setRTLTextPlugin=Oi,n.sphericalToCartesian=H,n.sqrLen=M6,n.styleSpec=jt,n.sub=m6,n.symbolSize=T8,n.transformMat3=y6,n.transformMat4=ag,n.translate=Qa,n.triggerPluginCompletionEvent=ni,n.uniqueId=S,n.validateCustomStyleLayer=X8,n.validateLight=bn,n.validateStyle=mn,n.values=M,n.vectorTile=Qv,n.version=w,n.warnOnce=Y,n.webpSupported=q,n.window=self,n.wrap=x}),E(["./shared"],function(n){function L(ut){var lt=typeof ut;if(lt==="number"||lt==="boolean"||lt==="string"||ut===void 0||ut===null)return JSON.stringify(ut);if(Array.isArray(ut)){for(var xt="[",Tt=0,Et=ut;Tt<Et.length;Tt+=1){var At=Et[Tt];xt+=L(At)+","}return xt+"]"}for(var Ft=Object.keys(ut).sort(),Ht="{",$t=0;$t<Ft.length;$t++)Ht+=JSON.stringify(Ft[$t])+":"+L(ut[Ft[$t]])+",";return Ht+"}"}function w(ut){for(var lt="",xt=0,Tt=n.refProperties;xt<Tt.length;xt+=1){var Et=Tt[xt];lt+="/"+L(ut[Et])}return lt}function p(ut,lt){for(var xt={},Tt=0;Tt<ut.length;Tt++){var Et=lt&&lt[ut[Tt].id]||w(ut[Tt]);lt&&(lt[ut[Tt].id]=Et);var At=xt[Et];At||(At=xt[Et]=[]),At.push(ut[Tt])}var Ft=[];for(var Ht in xt)Ft.push(xt[Ht]);return Ft}var m=function(lt){this.keyCache={},lt&&this.replace(lt)};m.prototype.replace=function(lt){this._layerConfigs={},this._layers={},this.update(lt,[])},m.prototype.update=function(lt,xt){for(var Tt=this,Et=0,At=lt;Et<At.length;Et+=1){var Ft=At[Et];this._layerConfigs[Ft.id]=Ft;var Ht=this._layers[Ft.id]=n.createStyleLayer(Ft);Ht._featureFilter=n.featureFilter(Ht.filter),this.keyCache[Ft.id]&&delete this.keyCache[Ft.id]}for(var $t=0,Qt=xt;$t<Qt.length;$t+=1){var or=Qt[$t];delete this.keyCache[or],delete this._layerConfigs[or],delete this._layers[or]}this.familiesBySource={};for(var Er=p(n.values(this._layerConfigs),this.keyCache),Ze=0,Ye=Er;Ze<Ye.length;Ze+=1){var Dt=Ye[Ze],It=Dt.map(function(fr){return Tt._layers[fr.id]}),Zt=It[0];if(Zt.visibility!=="none"){var nr=Zt.source||"",lr=this.familiesBySource[nr];lr||(lr=this.familiesBySource[nr]={});var rr=Zt.sourceLayer||"_geojsonTileLayer",zt=lr[rr];zt||(zt=lr[rr]=[]),zt.push(It)}}};var t=1,r=function(lt){var xt={},Tt=[];for(var Et in lt){var At=lt[Et],Ft=xt[Et]={};for(var Ht in At){var $t=At[+Ht];if(!(!$t||$t.bitmap.width===0||$t.bitmap.height===0)){var Qt={x:0,y:0,w:$t.bitmap.width+2*t,h:$t.bitmap.height+2*t};Tt.push(Qt),Ft[Ht]={rect:Qt,metrics:$t.metrics}}}}var or=n.potpack(Tt),Er=or.w,Ze=or.h,Ye=new n.AlphaImage({width:Er||1,height:Ze||1});for(var Dt in lt){var It=lt[Dt];for(var Zt in It){var nr=It[+Zt];if(!(!nr||nr.bitmap.width===0||nr.bitmap.height===0)){var lr=xt[Dt][Zt].rect;n.AlphaImage.copy(nr.bitmap,Ye,{x:0,y:0},{x:lr.x+t,y:lr.y+t},nr.bitmap)}}}this.image=Ye,this.positions=xt};n.register("GlyphAtlas",r);var l=function(lt){this.tileID=new n.OverscaledTileID(lt.tileID.overscaledZ,lt.tileID.wrap,lt.tileID.canonical.z,lt.tileID.canonical.x,lt.tileID.canonical.y),this.uid=lt.uid,this.zoom=lt.zoom,this.pixelRatio=lt.pixelRatio,this.tileSize=lt.tileSize,this.source=lt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=lt.showCollisionBoxes,this.collectResourceTiming=!!lt.collectResourceTiming,this.returnDependencies=!!lt.returnDependencies,this.promoteId=lt.promoteId};l.prototype.parse=function(lt,xt,Tt,Et,At){var Ft=this;this.status="parsing",this.data=lt,this.collisionBoxArray=new n.CollisionBoxArray;var Ht=new n.DictionaryCoder(Object.keys(lt.layers).sort()),$t=new n.FeatureIndex(this.tileID,this.promoteId);$t.bucketLayerIDs=[];var Qt={},or={featureIndex:$t,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Tt},Er=xt.familiesBySource[this.source];for(var Ze in Er){var Ye=lt.layers[Ze];if(Ye){Ye.version===1&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+Ze+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Dt=Ht.encode(Ze),It=[],Zt=0;Zt<Ye.length;Zt++){var nr=Ye.feature(Zt),lr=$t.getId(nr,Ze);It.push({feature:nr,id:lr,index:Zt,sourceLayerIndex:Dt})}for(var rr=0,zt=Er[Ze];rr<zt.length;rr+=1){var fr=zt[rr],dr=fr[0];if(!(dr.minzoom&&this.zoom<Math.floor(dr.minzoom))&&!(dr.maxzoom&&this.zoom>=dr.maxzoom)&&dr.visibility!=="none"){i(fr,this.zoom,Tt);var pr=Qt[dr.id]=dr.createBucket({index:$t.bucketLayerIDs.length,layers:fr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Dt,sourceID:this.source});pr.populate(It,or,this.tileID.canonical),$t.bucketLayerIDs.push(fr.map(function(xr){return xr.id}))}}}}var vr,Vr,_r,kr,pn=n.mapObject(or.glyphDependencies,function(xr){return Object.keys(xr).map(Number)});Object.keys(pn).length?Et.send("getGlyphs",{uid:this.uid,stacks:pn},function(xr,Ar){vr||(vr=xr,Vr=Ar,Dn.call(Ft))}):Vr={};var Xr=Object.keys(or.iconDependencies);Xr.length?Et.send("getImages",{icons:Xr,source:this.source,tileID:this.tileID,type:"icons"},function(xr,Ar){vr||(vr=xr,_r=Ar,Dn.call(Ft))}):_r={};var _n=Object.keys(or.patternDependencies);_n.length?Et.send("getImages",{icons:_n,source:this.source,tileID:this.tileID,type:"patterns"},function(xr,Ar){vr||(vr=xr,kr=Ar,Dn.call(Ft))}):kr={},Dn.call(this);function Dn(){if(vr)return At(vr);if(Vr&&_r&&kr){var xr=new r(Vr),Ar=new n.ImageAtlas(_r,kr);for(var Or in Qt){var Br=Qt[Or];Br instanceof n.SymbolBucket?(i(Br.layers,this.zoom,Tt),n.performSymbolLayout(Br,Vr,xr.positions,_r,Ar.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Br.hasPattern&&(Br instanceof n.LineBucket||Br instanceof n.FillBucket||Br instanceof n.FillExtrusionBucket)&&(i(Br.layers,this.zoom,Tt),Br.addFeatures(or,this.tileID.canonical,Ar.patternPositions))}this.status="done",At(null,{buckets:n.values(Qt).filter(function(qr){return!qr.isEmpty()}),featureIndex:$t,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xr.image,imageAtlas:Ar,glyphMap:this.returnDependencies?Vr:null,iconMap:this.returnDependencies?_r:null,glyphPositions:this.returnDependencies?xr.positions:null})}}};function i(ut,lt,xt){for(var Tt=new n.EvaluationParameters(lt),Et=0,At=ut;Et<At.length;Et+=1){var Ft=At[Et];Ft.recalculate(Tt,xt)}}function f(ut,lt){var xt=n.getArrayBuffer(ut.request,function(Tt,Et,At,Ft){Tt?lt(Tt):Et&&lt(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(Et)),rawData:Et,cacheControl:At,expires:Ft})});return function(){xt.cancel(),lt()}}var v=function(lt,xt,Tt,Et){this.actor=lt,this.layerIndex=xt,this.availableImages=Tt,this.loadVectorData=Et||f,this.loading={},this.loaded={}};v.prototype.loadTile=function(lt,xt){var Tt=this,Et=lt.uid;this.loading||(this.loading={});var At=lt&&lt.request&&lt.request.collectResourceTiming?new n.RequestPerformance(lt.request):!1,Ft=this.loading[Et]=new l(lt);Ft.abort=this.loadVectorData(lt,function(Ht,$t){if(delete Tt.loading[Et],Ht||!$t)return Ft.status="done",Tt.loaded[Et]=Ft,xt(Ht);var Qt=$t.rawData,or={};$t.expires&&(or.expires=$t.expires),$t.cacheControl&&(or.cacheControl=$t.cacheControl);var Er={};if(At){var Ze=At.finish();Ze&&(Er.resourceTiming=JSON.parse(JSON.stringify(Ze)))}Ft.vectorTile=$t.vectorTile,Ft.parse($t.vectorTile,Tt.layerIndex,Tt.availableImages,Tt.actor,function(Ye,Dt){if(Ye||!Dt)return xt(Ye);xt(null,n.extend({rawTileData:Qt.slice(0)},Dt,or,Er))}),Tt.loaded=Tt.loaded||{},Tt.loaded[Et]=Ft})},v.prototype.reloadTile=function(lt,xt){var Tt=this,Et=this.loaded,At=lt.uid,Ft=this;if(Et&&Et[At]){var Ht=Et[At];Ht.showCollisionBoxes=lt.showCollisionBoxes;var $t=function(Qt,or){var Er=Ht.reloadCallback;Er&&(delete Ht.reloadCallback,Ht.parse(Ht.vectorTile,Ft.layerIndex,Tt.availableImages,Ft.actor,Er)),xt(Qt,or)};Ht.status==="parsing"?Ht.reloadCallback=$t:Ht.status==="done"&&(Ht.vectorTile?Ht.parse(Ht.vectorTile,this.layerIndex,this.availableImages,this.actor,$t):$t())}},v.prototype.abortTile=function(lt,xt){var Tt=this.loading,Et=lt.uid;Tt&&Tt[Et]&&Tt[Et].abort&&(Tt[Et].abort(),delete Tt[Et]),xt()},v.prototype.removeTile=function(lt,xt){var Tt=this.loaded,Et=lt.uid;Tt&&Tt[Et]&&delete Tt[Et],xt()};var c=n.window.ImageBitmap,x=function(){this.loaded={}};x.prototype.loadTile=function(lt,xt){var Tt=lt.uid,Et=lt.encoding,At=lt.rawImageData,Ft=c&&At instanceof c?this.getImageData(At):At,Ht=new n.DEMData(Tt,Ft,Et);this.loaded=this.loaded||{},this.loaded[Tt]=Ht,xt(null,Ht)},x.prototype.getImageData=function(lt){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(lt.width,lt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=lt.width,this.offscreenCanvas.height=lt.height,this.offscreenCanvasContext.drawImage(lt,0,0,lt.width,lt.height);var xt=this.offscreenCanvasContext.getImageData(-1,-1,lt.width+2,lt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:xt.width,height:xt.height},xt.data)},x.prototype.removeTile=function(lt){var xt=this.loaded,Tt=lt.uid;xt&&xt[Tt]&&delete xt[Tt]};var d=M;function M(ut,lt){var xt=ut&&ut.type,Tt;if(xt==="FeatureCollection")for(Tt=0;Tt<ut.features.length;Tt++)M(ut.features[Tt],lt);else if(xt==="GeometryCollection")for(Tt=0;Tt<ut.geometries.length;Tt++)M(ut.geometries[Tt],lt);else if(xt==="Feature")M(ut.geometry,lt);else if(xt==="Polygon")g(ut.coordinates,lt);else if(xt==="MultiPolygon")for(Tt=0;Tt<ut.coordinates.length;Tt++)g(ut.coordinates[Tt],lt);return ut}function g(ut,lt){if(ut.length!==0){u(ut[0],lt);for(var xt=1;xt<ut.length;xt++)u(ut[xt],!lt)}}function u(ut,lt){for(var xt=0,Tt=0,Et=ut.length,At=Et-1;Tt<Et;At=Tt++)xt+=(ut[Tt][0]-ut[At][0])*(ut[At][1]+ut[Tt][1]);xt>=0!=!!lt&&ut.reverse()}var y=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,C=function(lt){this._feature=lt,this.extent=n.EXTENT,this.type=lt.type,this.properties=lt.tags,"id"in lt&&!isNaN(lt.id)&&(this.id=parseInt(lt.id,10))};C.prototype.loadGeometry=function(){if(this._feature.type===1){for(var lt=[],xt=0,Tt=this._feature.geometry;xt<Tt.length;xt+=1){var Et=Tt[xt];lt.push([new n.Point$1(Et[0],Et[1])])}return lt}else{for(var At=[],Ft=0,Ht=this._feature.geometry;Ft<Ht.length;Ft+=1){for(var $t=Ht[Ft],Qt=[],or=0,Er=$t;or<Er.length;or+=1){var Ze=Er[or];Qt.push(new n.Point$1(Ze[0],Ze[1]))}At.push(Qt)}return At}},C.prototype.toGeoJSON=function(lt,xt,Tt){return y.call(this,lt,xt,Tt)};var S=function(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=lt.length,this._features=lt};S.prototype.feature=function(lt){return new C(this._features[lt])};var D=n.vectorTile.VectorTileFeature,T=P;function P(ut,lt){this.options=lt||{},this.features=ut,this.length=ut.length}P.prototype.feature=function(ut){return new A(this.features[ut],this.options.extent)};function A(ut,lt){this.id=typeof ut.id=="number"?ut.id:void 0,this.type=ut.type,this.rawGeometry=ut.type===1?[ut.geometry]:ut.geometry,this.properties=ut.tags,this.extent=lt||4096}A.prototype.loadGeometry=function(){var ut=this.rawGeometry;this.geometry=[];for(var lt=0;lt<ut.length;lt++){for(var xt=ut[lt],Tt=[],Et=0;Et<xt.length;Et++)Tt.push(new n.Point$1(xt[Et][0],xt[Et][1]));this.geometry.push(Tt)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ut=this.geometry,lt=1/0,xt=-1/0,Tt=1/0,Et=-1/0,At=0;At<ut.length;At++)for(var Ft=ut[At],Ht=0;Ht<Ft.length;Ht++){var $t=Ft[Ht];lt=Math.min(lt,$t.x),xt=Math.max(xt,$t.x),Tt=Math.min(Tt,$t.y),Et=Math.max(Et,$t.y)}return[lt,Tt,xt,Et]},A.prototype.toGeoJSON=D.prototype.toGeoJSON;var a=O,R=O,b=Y,N=T;function O(ut){var lt=new n.pbf;return B(ut,lt),lt.finish()}function Y(ut,lt){lt=lt||{};var xt={};for(var Tt in ut)xt[Tt]=new T(ut[Tt].features,lt),xt[Tt].name=Tt,xt[Tt].version=lt.version,xt[Tt].extent=lt.extent;return O({layers:xt})}function B(ut,lt){for(var xt in ut.layers)lt.writeMessage(3,W,ut.layers[xt])}function W(ut,lt){lt.writeVarintField(15,ut.version||1),lt.writeStringField(1,ut.name||""),lt.writeVarintField(5,ut.extent||4096);var xt,Tt={keys:[],values:[],keycache:{},valuecache:{}};for(xt=0;xt<ut.length;xt++)Tt.feature=ut.feature(xt),lt.writeMessage(2,H,Tt);var Et=Tt.keys;for(xt=0;xt<Et.length;xt++)lt.writeStringField(3,Et[xt]);var At=Tt.values;for(xt=0;xt<At.length;xt++)lt.writeMessage(4,ae,At[xt])}function H(ut,lt){var xt=ut.feature;xt.id!==void 0&&lt.writeVarintField(1,xt.id),lt.writeMessage(2,U,ut),lt.writeVarintField(3,xt.type),lt.writeMessage(4,re,xt)}function U(ut,lt){var xt=ut.feature,Tt=ut.keys,Et=ut.values,At=ut.keycache,Ft=ut.valuecache;for(var Ht in xt.properties){var $t=At[Ht];typeof $t>"u"&&(Tt.push(Ht),$t=Tt.length-1,At[Ht]=$t),lt.writeVarint($t);var Qt=xt.properties[Ht],or=typeof Qt;or!=="string"&&or!=="boolean"&&or!=="number"&&(Qt=JSON.stringify(Qt));var Er=or+":"+Qt,Ze=Ft[Er];typeof Ze>"u"&&(Et.push(Qt),Ze=Et.length-1,Ft[Er]=Ze),lt.writeVarint(Ze)}}function G(ut,lt){return(lt<<3)+(ut&7)}function j(ut){return ut<<1^ut>>31}function re(ut,lt){for(var xt=ut.loadGeometry(),Tt=ut.type,Et=0,At=0,Ft=xt.length,Ht=0;Ht<Ft;Ht++){var $t=xt[Ht],Qt=1;Tt===1&&(Qt=$t.length),lt.writeVarint(G(1,Qt));for(var or=Tt===3?$t.length-1:$t.length,Er=0;Er<or;Er++){Er===1&&Tt!==1&&lt.writeVarint(G(2,or-1));var Ze=$t[Er].x-Et,Ye=$t[Er].y-At;lt.writeVarint(j(Ze)),lt.writeVarint(j(Ye)),Et+=Ze,At+=Ye}Tt===3&&lt.writeVarint(G(7,1))}}function ae(ut,lt){var xt=typeof ut;xt==="string"?lt.writeStringField(1,ut):xt==="boolean"?lt.writeBooleanField(7,ut):xt==="number"&&(ut%1!==0?lt.writeDoubleField(3,ut):ut<0?lt.writeSVarintField(6,ut):lt.writeVarintField(5,ut))}a.fromVectorTileJs=R,a.fromGeojsonVt=b,a.GeoJSONWrapper=N;function ue(ut,lt,xt,Tt,Et,At){if(!(Et-Tt<=xt)){var Ft=Tt+Et>>1;de(ut,lt,Ft,Tt,Et,At%2),ue(ut,lt,xt,Tt,Ft-1,At+1),ue(ut,lt,xt,Ft+1,Et,At+1)}}function de(ut,lt,xt,Tt,Et,At){for(;Et>Tt;){if(Et-Tt>600){var Ft=Et-Tt+1,Ht=xt-Tt+1,$t=Math.log(Ft),Qt=.5*Math.exp(2*$t/3),or=.5*Math.sqrt($t*Qt*(Ft-Qt)/Ft)*(Ht-Ft/2<0?-1:1),Er=Math.max(Tt,Math.floor(xt-Ht*Qt/Ft+or)),Ze=Math.min(Et,Math.floor(xt+(Ft-Ht)*Qt/Ft+or));de(ut,lt,xt,Er,Ze,At)}var Ye=lt[2*xt+At],Dt=Tt,It=Et;for(ee(ut,lt,Tt,xt),lt[2*Et+At]>Ye&&ee(ut,lt,Tt,Et);Dt<It;){for(ee(ut,lt,Dt,It),Dt++,It--;lt[2*Dt+At]<Ye;)Dt++;for(;lt[2*It+At]>Ye;)It--}lt[2*Tt+At]===Ye?ee(ut,lt,Tt,It):(It++,ee(ut,lt,It,Et)),It<=xt&&(Tt=It+1),xt<=It&&(Et=It-1)}}function ee(ut,lt,xt,Tt){X(ut,xt,Tt),X(lt,2*xt,2*Tt),X(lt,2*xt+1,2*Tt+1)}function X(ut,lt,xt){var Tt=ut[lt];ut[lt]=ut[xt],ut[xt]=Tt}function Q(ut,lt,xt,Tt,Et,At,Ft){for(var Ht=[0,ut.length-1,0],$t=[],Qt,or;Ht.length;){var Er=Ht.pop(),Ze=Ht.pop(),Ye=Ht.pop();if(Ze-Ye<=Ft){for(var Dt=Ye;Dt<=Ze;Dt++)Qt=lt[2*Dt],or=lt[2*Dt+1],Qt>=xt&&Qt<=Et&&or>=Tt&&or<=At&&$t.push(ut[Dt]);continue}var It=Math.floor((Ye+Ze)/2);Qt=lt[2*It],or=lt[2*It+1],Qt>=xt&&Qt<=Et&&or>=Tt&&or<=At&&$t.push(ut[It]);var Zt=(Er+1)%2;(Er===0?xt<=Qt:Tt<=or)&&(Ht.push(Ye),Ht.push(It-1),Ht.push(Zt)),(Er===0?Et>=Qt:At>=or)&&(Ht.push(It+1),Ht.push(Ze),Ht.push(Zt))}return $t}function $(ut,lt,xt,Tt,Et,At){for(var Ft=[0,ut.length-1,0],Ht=[],$t=Et*Et;Ft.length;){var Qt=Ft.pop(),or=Ft.pop(),Er=Ft.pop();if(or-Er<=At){for(var Ze=Er;Ze<=or;Ze++)ne(lt[2*Ze],lt[2*Ze+1],xt,Tt)<=$t&&Ht.push(ut[Ze]);continue}var Ye=Math.floor((Er+or)/2),Dt=lt[2*Ye],It=lt[2*Ye+1];ne(Dt,It,xt,Tt)<=$t&&Ht.push(ut[Ye]);var Zt=(Qt+1)%2;(Qt===0?xt-Et<=Dt:Tt-Et<=It)&&(Ft.push(Er),Ft.push(Ye-1),Ft.push(Zt)),(Qt===0?xt+Et>=Dt:Tt+Et>=It)&&(Ft.push(Ye+1),Ft.push(or),Ft.push(Zt))}return Ht}function ne(ut,lt,xt,Tt){var Et=ut-xt,At=lt-Tt;return Et*Et+At*At}var fe=function(ut){return ut[0]},te=function(ut){return ut[1]},q=function(lt,xt,Tt,Et,At){xt===void 0&&(xt=fe),Tt===void 0&&(Tt=te),Et===void 0&&(Et=64),At===void 0&&(At=Float64Array),this.nodeSize=Et,this.points=lt;for(var Ft=lt.length<65536?Uint16Array:Uint32Array,Ht=this.ids=new Ft(lt.length),$t=this.coords=new At(lt.length*2),Qt=0;Qt<lt.length;Qt++)Ht[Qt]=Qt,$t[2*Qt]=xt(lt[Qt]),$t[2*Qt+1]=Tt(lt[Qt]);ue(Ht,$t,Et,0,Ht.length-1,0)};q.prototype.range=function(lt,xt,Tt,Et){return Q(this.ids,this.coords,lt,xt,Tt,Et,this.nodeSize)},q.prototype.within=function(lt,xt,Tt){return $(this.ids,this.coords,lt,xt,Tt,this.nodeSize)};var he={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ut){return ut}},se=function(lt){this.options=Le(Object.create(he),lt),this.trees=new Array(this.options.maxZoom+1)};se.prototype.load=function(lt){var xt=this.options,Tt=xt.log,Et=xt.minZoom,At=xt.maxZoom,Ft=xt.nodeSize;Tt&&console.time("total time");var Ht="prepare "+lt.length+" points";Tt&&console.time(Ht),this.points=lt;for(var $t=[],Qt=0;Qt<lt.length;Qt++)lt[Qt].geometry&&$t.push(we(lt[Qt],Qt));this.trees[At+1]=new q($t,Ve,We,Ft,Float32Array),Tt&&console.timeEnd(Ht);for(var or=At;or>=Et;or--){var Er=+Date.now();$t=this._cluster($t,or),this.trees[or]=new q($t,Ve,We,Ft,Float32Array),Tt&&console.log("z%d: %d clusters in %dms",or,$t.length,+Date.now()-Er)}return Tt&&console.timeEnd("total time"),this},se.prototype.getClusters=function(lt,xt){var Tt=((lt[0]+180)%360+360)%360-180,Et=Math.max(-90,Math.min(90,lt[1])),At=lt[2]===180?180:((lt[2]+180)%360+360)%360-180,Ft=Math.max(-90,Math.min(90,lt[3]));if(lt[2]-lt[0]>=360)Tt=-180,At=180;else if(Tt>At){var Ht=this.getClusters([Tt,Et,180,Ft],xt),$t=this.getClusters([-180,Et,At,Ft],xt);return Ht.concat($t)}for(var Qt=this.trees[this._limitZoom(xt)],or=Qt.range(Be(Tt),Ne(Ft),Be(At),Ne(Et)),Er=[],Ze=0,Ye=or;Ze<Ye.length;Ze+=1){var Dt=Ye[Ze],It=Qt.points[Dt];Er.push(It.numPoints?Ee(It):this.points[It.index])}return Er},se.prototype.getChildren=function(lt){var xt=this._getOriginId(lt),Tt=this._getOriginZoom(lt),Et="No cluster with the specified id.",At=this.trees[Tt];if(!At)throw new Error(Et);var Ft=At.points[xt];if(!Ft)throw new Error(Et);for(var Ht=this.options.radius/(this.options.extent*Math.pow(2,Tt-1)),$t=At.within(Ft.x,Ft.y,Ht),Qt=[],or=0,Er=$t;or<Er.length;or+=1){var Ze=Er[or],Ye=At.points[Ze];Ye.parentId===lt&&Qt.push(Ye.numPoints?Ee(Ye):this.points[Ye.index])}if(Qt.length===0)throw new Error(Et);return Qt},se.prototype.getLeaves=function(lt,xt,Tt){xt=xt||10,Tt=Tt||0;var Et=[];return this._appendLeaves(Et,lt,xt,Tt,0),Et},se.prototype.getTile=function(lt,xt,Tt){var Et=this.trees[this._limitZoom(lt)],At=Math.pow(2,lt),Ft=this.options,Ht=Ft.extent,$t=Ft.radius,Qt=$t/Ht,or=(Tt-Qt)/At,Er=(Tt+1+Qt)/At,Ze={features:[]};return this._addTileFeatures(Et.range((xt-Qt)/At,or,(xt+1+Qt)/At,Er),Et.points,xt,Tt,At,Ze),xt===0&&this._addTileFeatures(Et.range(1-Qt/At,or,1,Er),Et.points,At,Tt,At,Ze),xt===At-1&&this._addTileFeatures(Et.range(0,or,Qt/At,Er),Et.points,-1,Tt,At,Ze),Ze.features.length?Ze:null},se.prototype.getClusterExpansionZoom=function(lt){for(var xt=this._getOriginZoom(lt)-1;xt<=this.options.maxZoom;){var Tt=this.getChildren(lt);if(xt++,Tt.length!==1)break;lt=Tt[0].properties.cluster_id}return xt},se.prototype._appendLeaves=function(lt,xt,Tt,Et,At){for(var Ft=this.getChildren(xt),Ht=0,$t=Ft;Ht<$t.length;Ht+=1){var Qt=$t[Ht],or=Qt.properties;if(or&&or.cluster?At+or.point_count<=Et?At+=or.point_count:At=this._appendLeaves(lt,or.cluster_id,Tt,Et,At):At<Et?At++:lt.push(Qt),lt.length===Tt)break}return At},se.prototype._addTileFeatures=function(lt,xt,Tt,Et,At,Ft){for(var Ht=0,$t=lt;Ht<$t.length;Ht+=1){var Qt=$t[Ht],or=xt[Qt],Er=or.numPoints,Ze={type:1,geometry:[[Math.round(this.options.extent*(or.x*At-Tt)),Math.round(this.options.extent*(or.y*At-Et))]],tags:Er?Me(or):this.points[or.index].properties},Ye=void 0;Er?Ye=or.id:this.options.generateId?Ye=or.index:this.points[or.index].id&&(Ye=this.points[or.index].id),Ye!==void 0&&(Ze.id=Ye),Ft.features.push(Ze)}},se.prototype._limitZoom=function(lt){return Math.max(this.options.minZoom,Math.min(lt,this.options.maxZoom+1))},se.prototype._cluster=function(lt,xt){for(var Tt=[],Et=this.options,At=Et.radius,Ft=Et.extent,Ht=Et.reduce,$t=At/(Ft*Math.pow(2,xt)),Qt=0;Qt<lt.length;Qt++){var or=lt[Qt];if(!(or.zoom<=xt)){or.zoom=xt;for(var Er=this.trees[xt+1],Ze=Er.within(or.x,or.y,$t),Ye=or.numPoints||1,Dt=or.x*Ye,It=or.y*Ye,Zt=Ht&&Ye>1?this._map(or,!0):null,nr=(Qt<<5)+(xt+1)+this.points.length,lr=0,rr=Ze;lr<rr.length;lr+=1){var zt=rr[lr],fr=Er.points[zt];if(!(fr.zoom<=xt)){fr.zoom=xt;var dr=fr.numPoints||1;Dt+=fr.x*dr,It+=fr.y*dr,Ye+=dr,fr.parentId=nr,Ht&&(Zt||(Zt=this._map(or,!0)),Ht(Zt,this._map(fr)))}}Ye===1?Tt.push(or):(or.parentId=nr,Tt.push(pe(Dt/Ye,It/Ye,nr,Ye,Zt)))}}return Tt},se.prototype._getOriginId=function(lt){return lt-this.points.length>>5},se.prototype._getOriginZoom=function(lt){return(lt-this.points.length)%32},se.prototype._map=function(lt,xt){if(lt.numPoints)return xt?Le({},lt.properties):lt.properties;var Tt=this.points[lt.index].properties,Et=this.options.map(Tt);return xt&&Et===Tt?Le({},Et):Et};function pe(ut,lt,xt,Tt,Et){return{x:ut,y:lt,zoom:1/0,id:xt,parentId:-1,numPoints:Tt,properties:Et}}function we(ut,lt){var xt=ut.geometry.coordinates,Tt=xt[0],Et=xt[1];return{x:Be(Tt),y:Ne(Et),zoom:1/0,index:lt,parentId:-1}}function Ee(ut){return{type:"Feature",id:ut.id,properties:Me(ut),geometry:{type:"Point",coordinates:[Ce(ut.x),Te(ut.y)]}}}function Me(ut){var lt=ut.numPoints,xt=lt>=1e4?Math.round(lt/1e3)+"k":lt>=1e3?Math.round(lt/100)/10+"k":lt;return Le(Le({},ut.properties),{cluster:!0,cluster_id:ut.id,point_count:lt,point_count_abbreviated:xt})}function Be(ut){return ut/360+.5}function Ne(ut){var lt=Math.sin(ut*Math.PI/180),xt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return xt<0?0:xt>1?1:xt}function Ce(ut){return(ut-.5)*360}function Te(ut){var lt=(180-ut*360)*Math.PI/180;return 360*Math.atan(Math.exp(lt))/Math.PI-90}function Le(ut,lt){for(var xt in lt)ut[xt]=lt[xt];return ut}function Ve(ut){return ut.x}function We(ut){return ut.y}function Fe(ut,lt,xt,Tt){for(var Et=Tt,At=xt-lt>>1,Ft=xt-lt,Ht,$t=ut[lt],Qt=ut[lt+1],or=ut[xt],Er=ut[xt+1],Ze=lt+3;Ze<xt;Ze+=3){var Ye=Ge(ut[Ze],ut[Ze+1],$t,Qt,or,Er);if(Ye>Et)Ht=Ze,Et=Ye;else if(Ye===Et){var Dt=Math.abs(Ze-At);Dt<Ft&&(Ht=Ze,Ft=Dt)}}Et>Tt&&(Ht-lt>3&&Fe(ut,lt,Ht,Tt),ut[Ht+2]=Et,xt-Ht>3&&Fe(ut,Ht,xt,Tt))}function Ge(ut,lt,xt,Tt,Et,At){var Ft=Et-xt,Ht=At-Tt;if(Ft!==0||Ht!==0){var $t=((ut-xt)*Ft+(lt-Tt)*Ht)/(Ft*Ft+Ht*Ht);$t>1?(xt=Et,Tt=At):$t>0&&(xt+=Ft*$t,Tt+=Ht*$t)}return Ft=ut-xt,Ht=lt-Tt,Ft*Ft+Ht*Ht}function it(ut,lt,xt,Tt){var Et={id:typeof ut>"u"?null:ut,type:lt,geometry:xt,tags:Tt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return qe(Et),Et}function qe(ut){var lt=ut.geometry,xt=ut.type;if(xt==="Point"||xt==="MultiPoint"||xt==="LineString")$e(ut,lt);else if(xt==="Polygon"||xt==="MultiLineString")for(var Tt=0;Tt<lt.length;Tt++)$e(ut,lt[Tt]);else if(xt==="MultiPolygon")for(Tt=0;Tt<lt.length;Tt++)for(var Et=0;Et<lt[Tt].length;Et++)$e(ut,lt[Tt][Et])}function $e(ut,lt){for(var xt=0;xt<lt.length;xt+=3)ut.minX=Math.min(ut.minX,lt[xt]),ut.minY=Math.min(ut.minY,lt[xt+1]),ut.maxX=Math.max(ut.maxX,lt[xt]),ut.maxY=Math.max(ut.maxY,lt[xt+1])}function tt(ut,lt){var xt=[];if(ut.type==="FeatureCollection")for(var Tt=0;Tt<ut.features.length;Tt++)vt(xt,ut.features[Tt],lt,Tt);else ut.type==="Feature"?vt(xt,ut,lt):vt(xt,{geometry:ut},lt);return xt}function vt(ut,lt,xt,Tt){if(lt.geometry){var Et=lt.geometry.coordinates,At=lt.geometry.type,Ft=Math.pow(xt.tolerance/((1<<xt.maxZoom)*xt.extent),2),Ht=[],$t=lt.id;if(xt.promoteId?$t=lt.properties[xt.promoteId]:xt.generateId&&($t=Tt||0),At==="Point")dt(Et,Ht);else if(At==="MultiPoint")for(var Qt=0;Qt<Et.length;Qt++)dt(Et[Qt],Ht);else if(At==="LineString")gt(Et,Ht,Ft,!1);else if(At==="MultiLineString")if(xt.lineMetrics){for(Qt=0;Qt<Et.length;Qt++)Ht=[],gt(Et[Qt],Ht,Ft,!1),ut.push(it($t,"LineString",Ht,lt.properties));return}else Mt(Et,Ht,Ft,!1);else if(At==="Polygon")Mt(Et,Ht,Ft,!0);else if(At==="MultiPolygon")for(Qt=0;Qt<Et.length;Qt++){var or=[];Mt(Et[Qt],or,Ft,!0),Ht.push(or)}else if(At==="GeometryCollection"){for(Qt=0;Qt<lt.geometry.geometries.length;Qt++)vt(ut,{id:$t,geometry:lt.geometry.geometries[Qt],properties:lt.properties},xt,Tt);return}else throw new Error("Input data is not a valid GeoJSON object.");ut.push(it($t,At,Ht,lt.properties))}}function dt(ut,lt){lt.push(Ct(ut[0])),lt.push(Wt(ut[1])),lt.push(0)}function gt(ut,lt,xt,Tt){for(var Et,At,Ft=0,Ht=0;Ht<ut.length;Ht++){var $t=Ct(ut[Ht][0]),Qt=Wt(ut[Ht][1]);lt.push($t),lt.push(Qt),lt.push(0),Ht>0&&(Tt?Ft+=(Et*Qt-$t*At)/2:Ft+=Math.sqrt(Math.pow($t-Et,2)+Math.pow(Qt-At,2))),Et=$t,At=Qt}var or=lt.length-3;lt[2]=1,Fe(lt,0,or,xt),lt[or+2]=1,lt.size=Math.abs(Ft),lt.start=0,lt.end=lt.size}function Mt(ut,lt,xt,Tt){for(var Et=0;Et<ut.length;Et++){var At=[];gt(ut[Et],At,xt,Tt),lt.push(At)}}function Ct(ut){return ut/360+.5}function Wt(ut){var lt=Math.sin(ut*Math.PI/180),xt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return xt<0?0:xt>1?1:xt}function Xe(ut,lt,xt,Tt,Et,At,Ft,Ht){if(xt/=lt,Tt/=lt,At>=xt&&Ft<Tt)return ut;if(Ft<xt||At>=Tt)return null;for(var $t=[],Qt=0;Qt<ut.length;Qt++){var or=ut[Qt],Er=or.geometry,Ze=or.type,Ye=Et===0?or.minX:or.minY,Dt=Et===0?or.maxX:or.maxY;if(Ye>=xt&&Dt<Tt){$t.push(or);continue}else if(Dt<xt||Ye>=Tt)continue;var It=[];if(Ze==="Point"||Ze==="MultiPoint")ke(Er,It,xt,Tt,Et);else if(Ze==="LineString")Ie(Er,It,xt,Tt,Et,!1,Ht.lineMetrics);else if(Ze==="MultiLineString")_e(Er,It,xt,Tt,Et,!1);else if(Ze==="Polygon")_e(Er,It,xt,Tt,Et,!0);else if(Ze==="MultiPolygon")for(var Zt=0;Zt<Er.length;Zt++){var nr=[];_e(Er[Zt],nr,xt,Tt,Et,!0),nr.length&&It.push(nr)}if(It.length){if(Ht.lineMetrics&&Ze==="LineString"){for(Zt=0;Zt<It.length;Zt++)$t.push(it(or.id,Ze,It[Zt],or.tags));continue}(Ze==="LineString"||Ze==="MultiLineString")&&(It.length===1?(Ze="LineString",It=It[0]):Ze="MultiLineString"),(Ze==="Point"||Ze==="MultiPoint")&&(Ze=It.length===3?"Point":"MultiPoint"),$t.push(it(or.id,Ze,It,or.tags))}}return $t.length?$t:null}function ke(ut,lt,xt,Tt,Et){for(var At=0;At<ut.length;At+=3){var Ft=ut[At+Et];Ft>=xt&&Ft<=Tt&&(lt.push(ut[At]),lt.push(ut[At+1]),lt.push(ut[At+2]))}}function Ie(ut,lt,xt,Tt,Et,At,Ft){for(var Ht=Oe(ut),$t=Et===0?ce:be,Qt=ut.start,or,Er,Ze=0;Ze<ut.length-3;Ze+=3){var Ye=ut[Ze],Dt=ut[Ze+1],It=ut[Ze+2],Zt=ut[Ze+3],nr=ut[Ze+4],lr=Et===0?Ye:Dt,rr=Et===0?Zt:nr,zt=!1;Ft&&(or=Math.sqrt(Math.pow(Ye-Zt,2)+Math.pow(Dt-nr,2))),lr<xt?rr>xt&&(Er=$t(Ht,Ye,Dt,Zt,nr,xt),Ft&&(Ht.start=Qt+or*Er)):lr>Tt?rr<Tt&&(Er=$t(Ht,Ye,Dt,Zt,nr,Tt),Ft&&(Ht.start=Qt+or*Er)):Ae(Ht,Ye,Dt,It),rr<xt&&lr>=xt&&(Er=$t(Ht,Ye,Dt,Zt,nr,xt),zt=!0),rr>Tt&&lr<=Tt&&(Er=$t(Ht,Ye,Dt,Zt,nr,Tt),zt=!0),!At&&zt&&(Ft&&(Ht.end=Qt+or*Er),lt.push(Ht),Ht=Oe(ut)),Ft&&(Qt+=or)}var fr=ut.length-3;Ye=ut[fr],Dt=ut[fr+1],It=ut[fr+2],lr=Et===0?Ye:Dt,lr>=xt&&lr<=Tt&&Ae(Ht,Ye,Dt,It),fr=Ht.length-3,At&&fr>=3&&(Ht[fr]!==Ht[0]||Ht[fr+1]!==Ht[1])&&Ae(Ht,Ht[0],Ht[1],Ht[2]),Ht.length&&lt.push(Ht)}function Oe(ut){var lt=[];return lt.size=ut.size,lt.start=ut.start,lt.end=ut.end,lt}function _e(ut,lt,xt,Tt,Et,At){for(var Ft=0;Ft<ut.length;Ft++)Ie(ut[Ft],lt,xt,Tt,Et,At,!1)}function Ae(ut,lt,xt,Tt){ut.push(lt),ut.push(xt),ut.push(Tt)}function ce(ut,lt,xt,Tt,Et,At){var Ft=(At-lt)/(Tt-lt);return ut.push(At),ut.push(xt+(Et-xt)*Ft),ut.push(1),Ft}function be(ut,lt,xt,Tt,Et,At){var Ft=(At-xt)/(Et-xt);return ut.push(lt+(Tt-lt)*Ft),ut.push(At),ut.push(1),Ft}function Re(ut,lt){var xt=lt.buffer/lt.extent,Tt=ut,Et=Xe(ut,1,-1-xt,xt,0,-1,2,lt),At=Xe(ut,1,1-xt,2+xt,0,-1,2,lt);return(Et||At)&&(Tt=Xe(ut,1,-xt,1+xt,0,-1,2,lt)||[],Et&&(Tt=Ue(Et,1).concat(Tt)),At&&(Tt=Tt.concat(Ue(At,-1)))),Tt}function Ue(ut,lt){for(var xt=[],Tt=0;Tt<ut.length;Tt++){var Et=ut[Tt],At=Et.type,Ft;if(At==="Point"||At==="MultiPoint"||At==="LineString")Ft=nt(Et.geometry,lt);else if(At==="MultiLineString"||At==="Polygon"){Ft=[];for(var Ht=0;Ht<Et.geometry.length;Ht++)Ft.push(nt(Et.geometry[Ht],lt))}else if(At==="MultiPolygon")for(Ft=[],Ht=0;Ht<Et.geometry.length;Ht++){for(var $t=[],Qt=0;Qt<Et.geometry[Ht].length;Qt++)$t.push(nt(Et.geometry[Ht][Qt],lt));Ft.push($t)}xt.push(it(Et.id,At,Ft,Et.tags))}return xt}function nt(ut,lt){var xt=[];xt.size=ut.size,ut.start!==void 0&&(xt.start=ut.start,xt.end=ut.end);for(var Tt=0;Tt<ut.length;Tt+=3)xt.push(ut[Tt]+lt,ut[Tt+1],ut[Tt+2]);return xt}function ot(ut,lt){if(ut.transformed)return ut;var xt=1<<ut.z,Tt=ut.x,Et=ut.y,At,Ft,Ht;for(At=0;At<ut.features.length;At++){var $t=ut.features[At],Qt=$t.geometry,or=$t.type;if($t.geometry=[],or===1)for(Ft=0;Ft<Qt.length;Ft+=2)$t.geometry.push(wt(Qt[Ft],Qt[Ft+1],lt,xt,Tt,Et));else for(Ft=0;Ft<Qt.length;Ft++){var Er=[];for(Ht=0;Ht<Qt[Ft].length;Ht+=2)Er.push(wt(Qt[Ft][Ht],Qt[Ft][Ht+1],lt,xt,Tt,Et));$t.geometry.push(Er)}}return ut.transformed=!0,ut}function wt(ut,lt,xt,Tt,Et,At){return[Math.round(xt*(ut*Tt-Et)),Math.round(xt*(lt*Tt-At))]}function _t(ut,lt,xt,Tt,Et){for(var At=lt===Et.maxZoom?0:Et.tolerance/((1<<lt)*Et.extent),Ft={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:xt,y:Tt,z:lt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ht=0;Ht<ut.length;Ht++){Ft.numFeatures++,Ut(Ft,ut[Ht],At,Et);var $t=ut[Ht].minX,Qt=ut[Ht].minY,or=ut[Ht].maxX,Er=ut[Ht].maxY;$t<Ft.minX&&(Ft.minX=$t),Qt<Ft.minY&&(Ft.minY=Qt),or>Ft.maxX&&(Ft.maxX=or),Er>Ft.maxY&&(Ft.maxY=Er)}return Ft}function Ut(ut,lt,xt,Tt){var Et=lt.geometry,At=lt.type,Ft=[];if(At==="Point"||At==="MultiPoint")for(var Ht=0;Ht<Et.length;Ht+=3)Ft.push(Et[Ht]),Ft.push(Et[Ht+1]),ut.numPoints++,ut.numSimplified++;else if(At==="LineString")Vt(Ft,Et,ut,xt,!1,!1);else if(At==="MultiLineString"||At==="Polygon")for(Ht=0;Ht<Et.length;Ht++)Vt(Ft,Et[Ht],ut,xt,At==="Polygon",Ht===0);else if(At==="MultiPolygon")for(var $t=0;$t<Et.length;$t++){var Qt=Et[$t];for(Ht=0;Ht<Qt.length;Ht++)Vt(Ft,Qt[Ht],ut,xt,!0,Ht===0)}if(Ft.length){var or=lt.tags||null;if(At==="LineString"&&Tt.lineMetrics){or={};for(var Er in lt.tags)or[Er]=lt.tags[Er];or.mapbox_clip_start=Et.start/Et.size,or.mapbox_clip_end=Et.end/Et.size}var Ze={geometry:Ft,type:At==="Polygon"||At==="MultiPolygon"?3:At==="LineString"||At==="MultiLineString"?2:1,tags:or};lt.id!==null&&(Ze.id=lt.id),ut.features.push(Ze)}}function Vt(ut,lt,xt,Tt,Et,At){var Ft=Tt*Tt;if(Tt>0&&lt.size<(Et?Ft:Tt)){xt.numPoints+=lt.length/3;return}for(var Ht=[],$t=0;$t<lt.length;$t+=3)(Tt===0||lt[$t+2]>Ft)&&(xt.numSimplified++,Ht.push(lt[$t]),Ht.push(lt[$t+1])),xt.numPoints++;Et&&Lt(Ht,At),ut.push(Ht)}function Lt(ut,lt){for(var xt=0,Tt=0,Et=ut.length,At=Et-2;Tt<Et;At=Tt,Tt+=2)xt+=(ut[Tt]-ut[At])*(ut[Tt+1]+ut[At+1]);if(xt>0===lt)for(Tt=0,Et=ut.length;Tt<Et/2;Tt+=2){var Ft=ut[Tt],Ht=ut[Tt+1];ut[Tt]=ut[Et-2-Tt],ut[Tt+1]=ut[Et-1-Tt],ut[Et-2-Tt]=Ft,ut[Et-1-Tt]=Ht}}function Kt(ut,lt){return new ar(ut,lt)}function ar(ut,lt){lt=this.options=yt(Object.create(this.options),lt);var xt=lt.debug;if(xt&&console.time("preprocess data"),lt.maxZoom<0||lt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(lt.promoteId&&lt.generateId)throw new Error("promoteId and generateId cannot be used together.");var Tt=tt(ut,lt);this.tiles={},this.tileCoords=[],xt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",lt.indexMaxZoom,lt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Tt=Re(Tt,lt),Tt.length&&this.splitTile(Tt,0,0,0),xt&&(Tt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}ar.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ar.prototype.splitTile=function(ut,lt,xt,Tt,Et,At,Ft){for(var Ht=[ut,lt,xt,Tt],$t=this.options,Qt=$t.debug;Ht.length;){Tt=Ht.pop(),xt=Ht.pop(),lt=Ht.pop(),ut=Ht.pop();var or=1<<lt,Er=Fr(lt,xt,Tt),Ze=this.tiles[Er];if(!Ze&&(Qt>1&&console.time("creation"),Ze=this.tiles[Er]=_t(ut,lt,xt,Tt,$t),this.tileCoords.push({z:lt,x:xt,y:Tt}),Qt)){Qt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",lt,xt,Tt,Ze.numFeatures,Ze.numPoints,Ze.numSimplified),console.timeEnd("creation"));var Ye="z"+lt;this.stats[Ye]=(this.stats[Ye]||0)+1,this.total++}if(Ze.source=ut,Et){if(lt===$t.maxZoom||lt===Et)continue;var Dt=1<<Et-lt;if(xt!==Math.floor(At/Dt)||Tt!==Math.floor(Ft/Dt))continue}else if(lt===$t.indexMaxZoom||Ze.numPoints<=$t.indexMaxPoints)continue;if(Ze.source=null,ut.length!==0){Qt>1&&console.time("clipping");var It=.5*$t.buffer/$t.extent,Zt=.5-It,nr=.5+It,lr=1+It,rr,zt,fr,dr,pr,vr;rr=zt=fr=dr=null,pr=Xe(ut,or,xt-It,xt+nr,0,Ze.minX,Ze.maxX,$t),vr=Xe(ut,or,xt+Zt,xt+lr,0,Ze.minX,Ze.maxX,$t),ut=null,pr&&(rr=Xe(pr,or,Tt-It,Tt+nr,1,Ze.minY,Ze.maxY,$t),zt=Xe(pr,or,Tt+Zt,Tt+lr,1,Ze.minY,Ze.maxY,$t),pr=null),vr&&(fr=Xe(vr,or,Tt-It,Tt+nr,1,Ze.minY,Ze.maxY,$t),dr=Xe(vr,or,Tt+Zt,Tt+lr,1,Ze.minY,Ze.maxY,$t),vr=null),Qt>1&&console.timeEnd("clipping"),Ht.push(rr||[],lt+1,xt*2,Tt*2),Ht.push(zt||[],lt+1,xt*2,Tt*2+1),Ht.push(fr||[],lt+1,xt*2+1,Tt*2),Ht.push(dr||[],lt+1,xt*2+1,Tt*2+1)}}},ar.prototype.getTile=function(ut,lt,xt){var Tt=this.options,Et=Tt.extent,At=Tt.debug;if(ut<0||ut>24)return null;var Ft=1<<ut;lt=(lt%Ft+Ft)%Ft;var Ht=Fr(ut,lt,xt);if(this.tiles[Ht])return ot(this.tiles[Ht],Et);At>1&&console.log("drilling down to z%d-%d-%d",ut,lt,xt);for(var $t=ut,Qt=lt,or=xt,Er;!Er&&$t>0;)$t--,Qt=Math.floor(Qt/2),or=Math.floor(or/2),Er=this.tiles[Fr($t,Qt,or)];return!Er||!Er.source?null:(At>1&&console.log("found parent tile z%d-%d-%d",$t,Qt,or),At>1&&console.time("drilling down"),this.splitTile(Er.source,$t,Qt,or,ut,lt,xt),At>1&&console.timeEnd("drilling down"),this.tiles[Ht]?ot(this.tiles[Ht],Et):null)};function Fr(ut,lt,xt){return((1<<ut)*xt+lt)*32+ut}function yt(ut,lt){for(var xt in lt)ut[xt]=lt[xt];return ut}function Xt(ut,lt){var xt=ut.tileID.canonical;if(!this._geoJSONIndex)return lt(null,null);var Tt=this._geoJSONIndex.getTile(xt.z,xt.x,xt.y);if(!Tt)return lt(null,null);var Et=new S(Tt.features),At=a(Et);(At.byteOffset!==0||At.byteLength!==At.buffer.byteLength)&&(At=new Uint8Array(At)),lt(null,{vectorTile:Et,rawData:At.buffer})}var Yt=function(ut){function lt(xt,Tt,Et,At){ut.call(this,xt,Tt,Et,Xt),At&&(this.loadGeoJSON=At)}return ut&&(lt.__proto__=ut),lt.prototype=Object.create(ut&&ut.prototype),lt.prototype.constructor=lt,lt.prototype.loadData=function(Tt,Et){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Et,this._pendingLoadDataParams=Tt,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},lt.prototype._loadData=function(){var Tt=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Et=this._pendingCallback,At=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ft=At&&At.request&&At.request.collectResourceTiming?new n.RequestPerformance(At.request):!1;this.loadGeoJSON(At,function(Ht,$t){if(Ht||!$t)return Et(Ht);if(typeof $t!="object")return Et(new Error("Input data given to '"+At.source+"' is not a valid GeoJSON object."));d($t,!0);try{Tt._geoJSONIndex=At.cluster?new se(br(At)).load($t.features):Kt($t,At.geojsonVtOptions)}catch(Er){return Et(Er)}Tt.loaded={};var Qt={};if(Ft){var or=Ft.finish();or&&(Qt.resourceTiming={},Qt.resourceTiming[At.source]=JSON.parse(JSON.stringify(or)))}Et(null,Qt)})}},lt.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},lt.prototype.reloadTile=function(Tt,Et){var At=this.loaded,Ft=Tt.uid;return At&&At[Ft]?ut.prototype.reloadTile.call(this,Tt,Et):this.loadTile(Tt,Et)},lt.prototype.loadGeoJSON=function(Tt,Et){if(Tt.request)n.getJSON(Tt.request,Et);else if(typeof Tt.data=="string")try{return Et(null,JSON.parse(Tt.data))}catch{return Et(new Error("Input data given to '"+Tt.source+"' is not a valid GeoJSON object."))}else return Et(new Error("Input data given to '"+Tt.source+"' is not a valid GeoJSON object."))},lt.prototype.removeSource=function(Tt,Et){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Et()},lt.prototype.getClusterExpansionZoom=function(Tt,Et){try{Et(null,this._geoJSONIndex.getClusterExpansionZoom(Tt.clusterId))}catch(At){Et(At)}},lt.prototype.getClusterChildren=function(Tt,Et){try{Et(null,this._geoJSONIndex.getChildren(Tt.clusterId))}catch(At){Et(At)}},lt.prototype.getClusterLeaves=function(Tt,Et){try{Et(null,this._geoJSONIndex.getLeaves(Tt.clusterId,Tt.limit,Tt.offset))}catch(At){Et(At)}},lt}(v);function br(ut){var lt=ut.superclusterOptions,xt=ut.clusterProperties;if(!xt||!lt)return lt;for(var Tt={},Et={},At={accumulated:null,zoom:0},Ft={properties:null},Ht=Object.keys(xt),$t=0,Qt=Ht;$t<Qt.length;$t+=1){var or=Qt[$t],Er=xt[or],Ze=Er[0],Ye=Er[1],Dt=n.createExpression(Ye),It=n.createExpression(typeof Ze=="string"?[Ze,["accumulated"],["get",or]]:Ze);Tt[or]=Dt.value,Et[or]=It.value}return lt.map=function(Zt){Ft.properties=Zt;for(var nr={},lr=0,rr=Ht;lr<rr.length;lr+=1){var zt=rr[lr];nr[zt]=Tt[zt].evaluate(At,Ft)}return nr},lt.reduce=function(Zt,nr){Ft.properties=nr;for(var lr=0,rr=Ht;lr<rr.length;lr+=1){var zt=rr[lr];At.accumulated=Zt[zt],Zt[zt]=Et[zt].evaluate(At,Ft)}},lt}var hr=function(lt){var xt=this;this.self=lt,this.actor=new n.Actor(lt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:v,geojson:Yt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Tt,Et){if(xt.workerSourceTypes[Tt])throw new Error('Worker source with name "'+Tt+'" already registered.');xt.workerSourceTypes[Tt]=Et},this.self.registerRTLTextPlugin=function(Tt){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=Tt.applyArabicShaping,n.plugin.processBidirectionalText=Tt.processBidirectionalText,n.plugin.processStyledBidirectionalText=Tt.processStyledBidirectionalText}};return hr.prototype.setReferrer=function(lt,xt){this.referrer=xt},hr.prototype.setImages=function(lt,xt,Tt){this.availableImages[lt]=xt;for(var Et in this.workerSources[lt]){var At=this.workerSources[lt][Et];for(var Ft in At)At[Ft].availableImages=xt}Tt()},hr.prototype.setLayers=function(lt,xt,Tt){this.getLayerIndex(lt).replace(xt),Tt()},hr.prototype.updateLayers=function(lt,xt,Tt){this.getLayerIndex(lt).update(xt.layers,xt.removedIds),Tt()},hr.prototype.loadTile=function(lt,xt,Tt){this.getWorkerSource(lt,xt.type,xt.source).loadTile(xt,Tt)},hr.prototype.loadDEMTile=function(lt,xt,Tt){this.getDEMWorkerSource(lt,xt.source).loadTile(xt,Tt)},hr.prototype.reloadTile=function(lt,xt,Tt){this.getWorkerSource(lt,xt.type,xt.source).reloadTile(xt,Tt)},hr.prototype.abortTile=function(lt,xt,Tt){this.getWorkerSource(lt,xt.type,xt.source).abortTile(xt,Tt)},hr.prototype.removeTile=function(lt,xt,Tt){this.getWorkerSource(lt,xt.type,xt.source).removeTile(xt,Tt)},hr.prototype.removeDEMTile=function(lt,xt){this.getDEMWorkerSource(lt,xt.source).removeTile(xt)},hr.prototype.removeSource=function(lt,xt,Tt){if(!(!this.workerSources[lt]||!this.workerSources[lt][xt.type]||!this.workerSources[lt][xt.type][xt.source])){var Et=this.workerSources[lt][xt.type][xt.source];delete this.workerSources[lt][xt.type][xt.source],Et.removeSource!==void 0?Et.removeSource(xt,Tt):Tt()}},hr.prototype.loadWorkerSource=function(lt,xt,Tt){try{this.self.importScripts(xt.url),Tt()}catch(Et){Tt(Et.toString())}},hr.prototype.syncRTLPluginState=function(lt,xt,Tt){try{n.plugin.setState(xt);var Et=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&Et!=null){this.self.importScripts(Et);var At=n.plugin.isParsed(),Ft=At?void 0:new Error("RTL Text Plugin failed to import scripts from "+Et);Tt(Ft,At)}}catch(Ht){Tt(Ht.toString())}},hr.prototype.getAvailableImages=function(lt){var xt=this.availableImages[lt];return xt||(xt=[]),xt},hr.prototype.getLayerIndex=function(lt){var xt=this.layerIndexes[lt];return xt||(xt=this.layerIndexes[lt]=new m),xt},hr.prototype.getWorkerSource=function(lt,xt,Tt){var Et=this;if(this.workerSources[lt]||(this.workerSources[lt]={}),this.workerSources[lt][xt]||(this.workerSources[lt][xt]={}),!this.workerSources[lt][xt][Tt]){var At={send:function(Ft,Ht,$t){Et.actor.send(Ft,Ht,$t,lt)}};this.workerSources[lt][xt][Tt]=new this.workerSourceTypes[xt](At,this.getLayerIndex(lt),this.getAvailableImages(lt))}return this.workerSources[lt][xt][Tt]},hr.prototype.getDEMWorkerSource=function(lt,xt){return this.demWorkerSources[lt]||(this.demWorkerSources[lt]={}),this.demWorkerSources[lt][xt]||(this.demWorkerSources[lt][xt]=new x),this.demWorkerSources[lt][xt]},hr.prototype.enforceCacheSizeLimit=function(lt,xt){n.enforceCacheSizeLimit(xt)},typeof WorkerGlobalScope<"u"&&typeof n.window<"u"&&n.window instanceof WorkerGlobalScope&&(n.window.worker=new hr(n.window)),hr}),E(["./shared"],function(n){var L=n.createCommonjsModule(function(ge){ge.exports?ge.exports=J:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=J,window.mapboxgl.notSupportedReason=me);function J(Hr){return!me(Hr)}function me(Hr){if(!ie())return"not a browser";if(!xe())return"insufficent Array support";if(!ze())return"insufficient Function support";if(!je())return"insufficient Object support";if(!st())return"insufficient JSON support";if(!mt())return"insufficient worker support";if(!Bt())return"insufficient Uint8ClampedArray support";if(!Jt())return"insufficient ArrayBuffer support";if(!ur())return"insufficient Canvas/getImageData support";if(!Ir(Hr&&Hr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ie(){return typeof window<"u"&&typeof document<"u"}function xe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function ze(){return Function.prototype&&Function.prototype.bind}function je(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function st(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function mt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Hr=new Blob([""],{type:"text/javascript"}),Qr=URL.createObjectURL(Hr),sn,Sn;try{Sn=new Worker(Qr),sn=!0}catch{sn=!1}return Sn&&Sn.terminate(),URL.revokeObjectURL(Qr),sn}function Bt(){return"Uint8ClampedArray"in window}function Jt(){return ArrayBuffer.isView}function ur(){var Hr=document.createElement("canvas");Hr.width=Hr.height=1;var Qr=Hr.getContext("2d");if(!Qr)return!1;var sn=Qr.getImageData(0,0,1,1);return sn&&sn.width===Hr.width}var yr={};function Ir(Hr){return yr[Hr]===void 0&&(yr[Hr]=Gr(Hr)),yr[Hr]}J.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Wr(Hr){var Qr=document.createElement("canvas"),sn=Object.create(J.webGLContextAttributes);return sn.failIfMajorPerformanceCaveat=Hr,Qr.probablySupportsContext?Qr.probablySupportsContext("webgl",sn)||Qr.probablySupportsContext("experimental-webgl",sn):Qr.supportsContext?Qr.supportsContext("webgl",sn)||Qr.supportsContext("experimental-webgl",sn):Qr.getContext("webgl",sn)||Qr.getContext("experimental-webgl",sn)}function Gr(Hr){var Qr=Wr(Hr);if(!Qr)return!1;var sn=Qr.createShader(Qr.VERTEX_SHADER);return!sn||Qr.isContextLost()?!1:(Qr.shaderSource(sn,"void main() {}"),Qr.compileShader(sn),Qr.getShaderParameter(sn,Qr.COMPILE_STATUS)===!0)}}),w={};w.create=function(ge,J,me){var ie=n.window.document.createElement(ge);return J!==void 0&&(ie.className=J),me&&me.appendChild(ie),ie},w.createNS=function(ge,J){var me=n.window.document.createElementNS(ge,J);return me};var p=n.window.document.documentElement.style;function m(ge){if(!p)return ge[0];for(var J=0;J<ge.length;J++)if(ge[J]in p)return ge[J];return ge[0]}var t=m(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;w.disableDrag=function(){p&&t&&(r=p[t],p[t]="none")},w.enableDrag=function(){p&&t&&(p[t]=r)};var l=m(["transform","WebkitTransform"]);w.setTransform=function(ge,J){ge.style[l]=J};var i=!1;try{var f=Object.defineProperty({},"passive",{get:function(){i=!0}});n.window.addEventListener("test",f,f),n.window.removeEventListener("test",f,f)}catch{i=!1}w.addEventListener=function(ge,J,me,ie){ie===void 0&&(ie={}),"passive"in ie&&i?ge.addEventListener(J,me,ie):ge.addEventListener(J,me,ie.capture)},w.removeEventListener=function(ge,J,me,ie){ie===void 0&&(ie={}),"passive"in ie&&i?ge.removeEventListener(J,me,ie):ge.removeEventListener(J,me,ie.capture)};var v=function(ge){ge.preventDefault(),ge.stopPropagation(),n.window.removeEventListener("click",v,!0)};w.suppressClick=function(){n.window.addEventListener("click",v,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",v,!0)},0)},w.mousePos=function(ge,J){var me=ge.getBoundingClientRect();return new n.Point(J.clientX-me.left-ge.clientLeft,J.clientY-me.top-ge.clientTop)},w.touchPos=function(ge,J){for(var me=ge.getBoundingClientRect(),ie=[],xe=0;xe<J.length;xe++)ie.push(new n.Point(J[xe].clientX-me.left-ge.clientLeft,J[xe].clientY-me.top-ge.clientTop));return ie},w.mouseButton=function(ge){return typeof n.window.InstallTrigger<"u"&&ge.button===2&&ge.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ge.button},w.remove=function(ge){ge.parentNode&&ge.parentNode.removeChild(ge)};function c(ge,J,me){var ie,xe,ze,je=n.browser.devicePixelRatio>1?"@2x":"",st=n.getJSON(J.transformRequest(J.normalizeSpriteURL(ge,je,".json"),n.ResourceType.SpriteJSON),function(Jt,ur){st=null,ze||(ze=Jt,ie=ur,Bt())}),mt=n.getImage(J.transformRequest(J.normalizeSpriteURL(ge,je,".png"),n.ResourceType.SpriteImage),function(Jt,ur){mt=null,ze||(ze=Jt,xe=ur,Bt())});function Bt(){if(ze)me(ze);else if(ie&&xe){var Jt=n.browser.getImageData(xe),ur={};for(var yr in ie){var Ir=ie[yr],Wr=Ir.width,Gr=Ir.height,Hr=Ir.x,Qr=Ir.y,sn=Ir.sdf,Sn=Ir.pixelRatio,Fn=Ir.stretchX,Gn=Ir.stretchY,Zn=Ir.content,Yn=new n.RGBAImage({width:Wr,height:Gr});n.RGBAImage.copy(Jt,Yn,{x:Hr,y:Qr},{x:0,y:0},{width:Wr,height:Gr}),ur[yr]={data:Yn,pixelRatio:Sn,sdf:sn,stretchX:Fn,stretchY:Gn,content:Zn}}me(null,ur)}}return{cancel:function(){st&&(st.cancel(),st=null),mt&&(mt.cancel(),mt=null)}}}function x(ge){var J=ge.userImage;if(J&&J.render){var me=J.render();if(me)return ge.data.replace(new Uint8Array(J.data.buffer)),!0}return!1}var d=1,M=function(ge){function J(){ge.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.isLoaded=function(){return this.loaded},J.prototype.setLoaded=function(ie){if(this.loaded!==ie&&(this.loaded=ie,ie)){for(var xe=0,ze=this.requestors;xe<ze.length;xe+=1){var je=ze[xe],st=je.ids,mt=je.callback;this._notify(st,mt)}this.requestors=[]}},J.prototype.getImage=function(ie){return this.images[ie]},J.prototype.addImage=function(ie,xe){this._validate(ie,xe)&&(this.images[ie]=xe)},J.prototype._validate=function(ie,xe){var ze=!0;return this._validateStretch(xe.stretchX,xe.data&&xe.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+ie+'" has invalid "stretchX" value'))),ze=!1),this._validateStretch(xe.stretchY,xe.data&&xe.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+ie+'" has invalid "stretchY" value'))),ze=!1),this._validateContent(xe.content,xe)||(this.fire(new n.ErrorEvent(new Error('Image "'+ie+'" has invalid "content" value'))),ze=!1),ze},J.prototype._validateStretch=function(ie,xe){if(!ie)return!0;for(var ze=0,je=0,st=ie;je<st.length;je+=1){var mt=st[je];if(mt[0]<ze||mt[1]<mt[0]||xe<mt[1])return!1;ze=mt[1]}return!0},J.prototype._validateContent=function(ie,xe){return ie?!(ie.length!==4||ie[0]<0||xe.data.width<ie[0]||ie[1]<0||xe.data.height<ie[1]||ie[2]<0||xe.data.width<ie[2]||ie[3]<0||xe.data.height<ie[3]||ie[2]<ie[0]||ie[3]<ie[1]):!0},J.prototype.updateImage=function(ie,xe){var ze=this.images[ie];xe.version=ze.version+1,this.images[ie]=xe,this.updatedImages[ie]=!0},J.prototype.removeImage=function(ie){var xe=this.images[ie];delete this.images[ie],delete this.patterns[ie],xe.userImage&&xe.userImage.onRemove&&xe.userImage.onRemove()},J.prototype.listImages=function(){return Object.keys(this.images)},J.prototype.getImages=function(ie,xe){var ze=!0;if(!this.isLoaded())for(var je=0,st=ie;je<st.length;je+=1){var mt=st[je];this.images[mt]||(ze=!1)}this.isLoaded()||ze?this._notify(ie,xe):this.requestors.push({ids:ie,callback:xe})},J.prototype._notify=function(ie,xe){for(var ze={},je=0,st=ie;je<st.length;je+=1){var mt=st[je];this.images[mt]||this.fire(new n.Event("styleimagemissing",{id:mt}));var Bt=this.images[mt];Bt?ze[mt]={data:Bt.data.clone(),pixelRatio:Bt.pixelRatio,sdf:Bt.sdf,version:Bt.version,stretchX:Bt.stretchX,stretchY:Bt.stretchY,content:Bt.content,hasRenderCallback:Boolean(Bt.userImage&&Bt.userImage.render)}:n.warnOnce('Image "'+mt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}xe(null,ze)},J.prototype.getPixelSize=function(){var ie=this.atlasImage,xe=ie.width,ze=ie.height;return{width:xe,height:ze}},J.prototype.getPattern=function(ie){var xe=this.patterns[ie],ze=this.getImage(ie);if(!ze)return null;if(xe&&xe.position.version===ze.version)return xe.position;if(xe)xe.position.version=ze.version;else{var je=ze.data.width+d*2,st=ze.data.height+d*2,mt={w:je,h:st,x:0,y:0},Bt=new n.ImagePosition(mt,ze);this.patterns[ie]={bin:mt,position:Bt}}return this._updatePatternAtlas(),this.patterns[ie].position},J.prototype.bind=function(ie){var xe=ie.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(ie,this.atlasImage,xe.RGBA),this.atlasTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE)},J.prototype._updatePatternAtlas=function(){var ie=[];for(var xe in this.patterns)ie.push(this.patterns[xe].bin);var ze=n.potpack(ie),je=ze.w,st=ze.h,mt=this.atlasImage;mt.resize({width:je||1,height:st||1});for(var Bt in this.patterns){var Jt=this.patterns[Bt],ur=Jt.bin,yr=ur.x+d,Ir=ur.y+d,Wr=this.images[Bt].data,Gr=Wr.width,Hr=Wr.height;n.RGBAImage.copy(Wr,mt,{x:0,y:0},{x:yr,y:Ir},{width:Gr,height:Hr}),n.RGBAImage.copy(Wr,mt,{x:0,y:Hr-1},{x:yr,y:Ir-1},{width:Gr,height:1}),n.RGBAImage.copy(Wr,mt,{x:0,y:0},{x:yr,y:Ir+Hr},{width:Gr,height:1}),n.RGBAImage.copy(Wr,mt,{x:Gr-1,y:0},{x:yr-1,y:Ir},{width:1,height:Hr}),n.RGBAImage.copy(Wr,mt,{x:0,y:0},{x:yr+Gr,y:Ir},{width:1,height:Hr})}this.dirty=!0},J.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},J.prototype.dispatchRenderCallbacks=function(ie){for(var xe=0,ze=ie;xe<ze.length;xe+=1){var je=ze[xe];if(!this.callbackDispatchedThisFrame[je]){this.callbackDispatchedThisFrame[je]=!0;var st=this.images[je],mt=x(st);mt&&this.updateImage(je,st)}}},J}(n.Evented);function g(ge,J,me,ie,xe){var ze=J*256,je=ze+255,st=ie.transformRequest(ie.normalizeGlyphsURL(me).replace("{fontstack}",ge).replace("{range}",ze+"-"+je),n.ResourceType.Glyphs);n.getArrayBuffer(st,function(mt,Bt){if(mt)xe(mt);else if(Bt){for(var Jt={},ur=0,yr=n.parseGlyphPBF(Bt);ur<yr.length;ur+=1){var Ir=yr[ur];Jt[Ir.id]=Ir}xe(null,Jt)}})}var u=S,y=S,C=1e20;function S(ge,J,me,ie,xe,ze){this.fontSize=ge||24,this.buffer=J===void 0?3:J,this.cutoff=ie||.25,this.fontFamily=xe||"sans-serif",this.fontWeight=ze||"normal",this.radius=me||8;var je=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=je,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(je*je),this.gridInner=new Float64Array(je*je),this.f=new Float64Array(je),this.d=new Float64Array(je),this.z=new Float64Array(je+1),this.v=new Int16Array(je),this.middle=Math.round(je/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}S.prototype.draw=function(ge){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ge,this.buffer,this.middle);for(var J=this.ctx.getImageData(0,0,this.size,this.size),me=new Uint8ClampedArray(this.size*this.size),ie=0;ie<this.size*this.size;ie++){var xe=J.data[ie*4+3]/255;this.gridOuter[ie]=xe===1?0:xe===0?C:Math.pow(Math.max(0,.5-xe),2),this.gridInner[ie]=xe===1?C:xe===0?0:Math.pow(Math.max(0,xe-.5),2)}for(D(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),D(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ie=0;ie<this.size*this.size;ie++){var ze=this.gridOuter[ie]-this.gridInner[ie];me[ie]=Math.max(0,Math.min(255,Math.round(255-255*(ze/this.radius+this.cutoff))))}return me};function D(ge,J,me,ie,xe,ze,je){for(var st=0;st<J;st++){for(var mt=0;mt<me;mt++)ie[mt]=ge[mt*J+st];for(T(ie,xe,ze,je,me),mt=0;mt<me;mt++)ge[mt*J+st]=xe[mt]}for(mt=0;mt<me;mt++){for(st=0;st<J;st++)ie[st]=ge[mt*J+st];for(T(ie,xe,ze,je,J),st=0;st<J;st++)ge[mt*J+st]=Math.sqrt(xe[st])}}function T(ge,J,me,ie,xe){me[0]=0,ie[0]=-C,ie[1]=+C;for(var ze=1,je=0;ze<xe;ze++){for(var st=(ge[ze]+ze*ze-(ge[me[je]]+me[je]*me[je]))/(2*ze-2*me[je]);st<=ie[je];)je--,st=(ge[ze]+ze*ze-(ge[me[je]]+me[je]*me[je]))/(2*ze-2*me[je]);je++,me[je]=ze,ie[je]=st,ie[je+1]=+C}for(ze=0,je=0;ze<xe;ze++){for(;ie[je+1]<ze;)je++;J[ze]=(ze-me[je])*(ze-me[je])+ge[me[je]]}}u.default=y;var P=function(J,me){this.requestManager=J,this.localIdeographFontFamily=me,this.entries={}};P.prototype.setURL=function(J){this.url=J},P.prototype.getGlyphs=function(J,me){var ie=this,xe=[];for(var ze in J)for(var je=0,st=J[ze];je<st.length;je+=1){var mt=st[je];xe.push({stack:ze,id:mt})}n.asyncAll(xe,function(Bt,Jt){var ur=Bt.stack,yr=Bt.id,Ir=ie.entries[ur];Ir||(Ir=ie.entries[ur]={glyphs:{},requests:{},ranges:{}});var Wr=Ir.glyphs[yr];if(Wr!==void 0){Jt(null,{stack:ur,id:yr,glyph:Wr});return}if(Wr=ie._tinySDF(Ir,ur,yr),Wr){Ir.glyphs[yr]=Wr,Jt(null,{stack:ur,id:yr,glyph:Wr});return}var Gr=Math.floor(yr/256);if(Gr*256>65535){Jt(new Error("glyphs > 65535 not supported"));return}if(Ir.ranges[Gr]){Jt(null,{stack:ur,id:yr,glyph:Wr});return}var Hr=Ir.requests[Gr];Hr||(Hr=Ir.requests[Gr]=[],P.loadGlyphRange(ur,Gr,ie.url,ie.requestManager,function(Qr,sn){if(sn){for(var Sn in sn)ie._doesCharSupportLocalGlyph(+Sn)||(Ir.glyphs[+Sn]=sn[+Sn]);Ir.ranges[Gr]=!0}for(var Fn=0,Gn=Hr;Fn<Gn.length;Fn+=1){var Zn=Gn[Fn];Zn(Qr,sn)}delete Ir.requests[Gr]})),Hr.push(function(Qr,sn){Qr?Jt(Qr):sn&&Jt(null,{stack:ur,id:yr,glyph:sn[yr]||null})})},function(Bt,Jt){if(Bt)me(Bt);else if(Jt){for(var ur={},yr=0,Ir=Jt;yr<Ir.length;yr+=1){var Wr=Ir[yr],Gr=Wr.stack,Hr=Wr.id,Qr=Wr.glyph;(ur[Gr]||(ur[Gr]={}))[Hr]=Qr&&{id:Qr.id,bitmap:Qr.bitmap.clone(),metrics:Qr.metrics}}me(null,ur)}})},P.prototype._doesCharSupportLocalGlyph=function(J){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"](J)||n.isChar["Hangul Syllables"](J)||n.isChar.Hiragana(J)||n.isChar.Katakana(J))},P.prototype._tinySDF=function(J,me,ie){var xe=this.localIdeographFontFamily;if(xe&&this._doesCharSupportLocalGlyph(ie)){var ze=J.tinySDF;if(!ze){var je="400";/bold/i.test(me)?je="900":/medium/i.test(me)?je="500":/light/i.test(me)&&(je="200"),ze=J.tinySDF=new P.TinySDF(24,3,8,.25,xe,je)}return{id:ie,bitmap:new n.AlphaImage({width:30,height:30},ze.draw(String.fromCharCode(ie))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},P.loadGlyphRange=g,P.TinySDF=u;var A=function(){this.specification=n.styleSpec.light.position};A.prototype.possiblyEvaluate=function(J,me){return n.sphericalToCartesian(J.expression.evaluate(me))},A.prototype.interpolate=function(J,me,ie){return{x:n.number(J.x,me.x,ie),y:n.number(J.y,me.y,ie),z:n.number(J.z,me.z,ie)}};var a=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new A,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),R="-transition",b=function(ge){function J(me){ge.call(this),this._transitionable=new n.Transitionable(a),this.setLight(me),this._transitioning=this._transitionable.untransitioned()}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getLight=function(){return this._transitionable.serialize()},J.prototype.setLight=function(ie,xe){if(xe===void 0&&(xe={}),!this._validate(n.validateLight,ie,xe))for(var ze in ie){var je=ie[ze];n.endsWith(ze,R)?this._transitionable.setTransition(ze.slice(0,-R.length),je):this._transitionable.setValue(ze,je)}},J.prototype.updateTransitions=function(ie){this._transitioning=this._transitionable.transitioned(ie,this._transitioning)},J.prototype.hasTransition=function(){return this._transitioning.hasTransition()},J.prototype.recalculate=function(ie){this.properties=this._transitioning.possiblyEvaluate(ie)},J.prototype._validate=function(ie,xe,ze){return ze&&ze.validate===!1?!1:n.emitValidationErrors(this,ie.call(n.validateStyle,n.extend({value:xe,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},J}(n.Evented),N=function(J,me){this.width=J,this.height=me,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};N.prototype.getDash=function(J,me){var ie=J.join(",")+String(me);return this.dashEntry[ie]||(this.dashEntry[ie]=this.addDash(J,me)),this.dashEntry[ie]},N.prototype.getDashRanges=function(J,me,ie){var xe=J.length%2===1,ze=[],je=xe?-J[J.length-1]*ie:0,st=J[0]*ie,mt=!0;ze.push({left:je,right:st,isDash:mt,zeroLength:J[0]===0});for(var Bt=J[0],Jt=1;Jt<J.length;Jt++){mt=!mt;var ur=J[Jt];je=Bt*ie,Bt+=ur,st=Bt*ie,ze.push({left:je,right:st,isDash:mt,zeroLength:ur===0})}return ze},N.prototype.addRoundDash=function(J,me,ie){for(var xe=me/2,ze=-ie;ze<=ie;ze++)for(var je=this.nextRow+ie+ze,st=this.width*je,mt=0,Bt=J[mt],Jt=0;Jt<this.width;Jt++){Jt/Bt.right>1&&(Bt=J[++mt]);var ur=Math.abs(Jt-Bt.left),yr=Math.abs(Jt-Bt.right),Ir=Math.min(ur,yr),Wr=void 0,Gr=ze/ie*(xe+1);if(Bt.isDash){var Hr=xe-Math.abs(Gr);Wr=Math.sqrt(Ir*Ir+Hr*Hr)}else Wr=xe-Math.sqrt(Ir*Ir+Gr*Gr);this.data[st+Jt]=Math.max(0,Math.min(255,Wr+128))}},N.prototype.addRegularDash=function(J){for(var me=J.length-1;me>=0;--me){var ie=J[me],xe=J[me+1];ie.zeroLength?J.splice(me,1):xe&&xe.isDash===ie.isDash&&(xe.left=ie.left,J.splice(me,1))}var ze=J[0],je=J[J.length-1];ze.isDash===je.isDash&&(ze.left=je.left-this.width,je.right=ze.right+this.width);for(var st=this.width*this.nextRow,mt=0,Bt=J[mt],Jt=0;Jt<this.width;Jt++){Jt/Bt.right>1&&(Bt=J[++mt]);var ur=Math.abs(Jt-Bt.left),yr=Math.abs(Jt-Bt.right),Ir=Math.min(ur,yr),Wr=Bt.isDash?Ir:-Ir;this.data[st+Jt]=Math.max(0,Math.min(255,Wr+128))}},N.prototype.addDash=function(J,me){var ie=me?7:0,xe=2*ie+1;if(this.nextRow+xe>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var ze=0,je=0;je<J.length;je++)ze+=J[je];if(ze!==0){var st=this.width/ze,mt=this.getDashRanges(J,this.width,st);me?this.addRoundDash(mt,st,ie):this.addRegularDash(mt)}var Bt={y:(this.nextRow+ie+.5)/this.height,height:2*ie/this.height,width:ze};return this.nextRow+=xe,this.dirty=!0,Bt},N.prototype.bind=function(J){var me=J.gl;this.texture?(me.bindTexture(me.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,me.texSubImage2D(me.TEXTURE_2D,0,0,0,this.width,this.height,me.ALPHA,me.UNSIGNED_BYTE,this.data))):(this.texture=me.createTexture(),me.bindTexture(me.TEXTURE_2D,this.texture),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_WRAP_S,me.REPEAT),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_WRAP_T,me.REPEAT),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_MIN_FILTER,me.LINEAR),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_MAG_FILTER,me.LINEAR),me.texImage2D(me.TEXTURE_2D,0,me.ALPHA,this.width,this.height,0,me.ALPHA,me.UNSIGNED_BYTE,this.data))};var O=function ge(J,me){this.workerPool=J,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var ie=this.workerPool.acquire(this.id),xe=0;xe<ie.length;xe++){var ze=ie[xe],je=new ge.Actor(ze,me,this.id);je.name="Worker "+xe,this.actors.push(je)}};O.prototype.broadcast=function(J,me,ie){ie=ie||function(){},n.asyncAll(this.actors,function(xe,ze){xe.send(J,me,ze)},ie)},O.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},O.prototype.remove=function(){this.actors.forEach(function(J){J.remove()}),this.actors=[],this.workerPool.release(this.id)},O.Actor=n.Actor;function Y(ge,J,me){var ie=function(xe,ze){if(xe)return me(xe);if(ze){var je=n.pick(n.extend(ze,ge),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ze.vector_layers&&(je.vectorLayers=ze.vector_layers,je.vectorLayerIds=je.vectorLayers.map(function(st){return st.id})),je.tiles=J.canonicalizeTileset(je,ge.url),me(null,je)}};return ge.url?n.getJSON(J.transformRequest(J.normalizeSourceURL(ge.url),n.ResourceType.Source),ie):n.browser.frame(function(){return ie(null,ge)})}var B=function(J,me,ie){this.bounds=n.LngLatBounds.convert(this.validateBounds(J)),this.minzoom=me||0,this.maxzoom=ie||24};B.prototype.validateBounds=function(J){return!Array.isArray(J)||J.length!==4?[-180,-90,180,90]:[Math.max(-180,J[0]),Math.max(-90,J[1]),Math.min(180,J[2]),Math.min(90,J[3])]},B.prototype.contains=function(J){var me=Math.pow(2,J.z),ie={minX:Math.floor(n.mercatorXfromLng(this.bounds.getWest())*me),minY:Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*me),maxX:Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*me),maxY:Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*me)},xe=J.x>=ie.minX&&J.x<ie.maxX&&J.y>=ie.minY&&J.y<ie.maxY;return xe};var W=function(ge){function J(me,ie,xe,ze){if(ge.call(this),this.id=me,this.dispatcher=xe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(ie,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},ie),this._collectResourceTiming=ie.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ze)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.load=function(){var ie=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Y(this._options,this.map._requestManager,function(xe,ze){ie._tileJSONRequest=null,ie._loaded=!0,xe?ie.fire(new n.ErrorEvent(xe)):ze&&(n.extend(ie,ze),ze.bounds&&(ie.tileBounds=new B(ze.bounds,ie.minzoom,ie.maxzoom)),n.postTurnstileEvent(ze.tiles,ie.map._requestManager._customAccessToken),n.postMapLoadEvent(ze.tiles,ie.map._getMapId(),ie.map._requestManager._skuToken,ie.map._requestManager._customAccessToken),ie.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),ie.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},J.prototype.loaded=function(){return this._loaded},J.prototype.hasTile=function(ie){return!this.tileBounds||this.tileBounds.contains(ie.canonical)},J.prototype.onAdd=function(ie){this.map=ie,this.load()},J.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},J.prototype.serialize=function(){return n.extend({},this._options)},J.prototype.loadTile=function(ie,xe){var ze=this.map._requestManager.normalizeTileURL(ie.tileID.canonical.url(this.tiles,this.scheme)),je={request:this.map._requestManager.transformRequest(ze,n.ResourceType.Tile),uid:ie.uid,tileID:ie.tileID,zoom:ie.tileID.overscaledZ,tileSize:this.tileSize*ie.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};je.request.collectResourceTiming=this._collectResourceTiming,!ie.actor||ie.state==="expired"?(ie.actor=this.dispatcher.getActor(),ie.request=ie.actor.send("loadTile",je,st.bind(this))):ie.state==="loading"?ie.reloadCallback=xe:ie.request=ie.actor.send("reloadTile",je,st.bind(this));function st(mt,Bt){if(delete ie.request,ie.aborted)return xe(null);if(mt&&mt.status!==404)return xe(mt);Bt&&Bt.resourceTiming&&(ie.resourceTiming=Bt.resourceTiming),this.map._refreshExpiredTiles&&Bt&&ie.setExpiryData(Bt),ie.loadVectorData(Bt,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),xe(null),ie.reloadCallback&&(this.loadTile(ie,ie.reloadCallback),ie.reloadCallback=null)}},J.prototype.abortTile=function(ie){ie.request&&(ie.request.cancel(),delete ie.request),ie.actor&&ie.actor.send("abortTile",{uid:ie.uid,type:this.type,source:this.id},void 0)},J.prototype.unloadTile=function(ie){ie.unloadVectorData(),ie.actor&&ie.actor.send("removeTile",{uid:ie.uid,type:this.type,source:this.id},void 0)},J.prototype.hasTransition=function(){return!1},J}(n.Evented),H=function(ge){function J(me,ie,xe,ze){ge.call(this),this.id=me,this.dispatcher=xe,this.setEventedParent(ze),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},ie),n.extend(this,n.pick(ie,["url","scheme","tileSize"]))}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.load=function(){var ie=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Y(this._options,this.map._requestManager,function(xe,ze){ie._tileJSONRequest=null,ie._loaded=!0,xe?ie.fire(new n.ErrorEvent(xe)):ze&&(n.extend(ie,ze),ze.bounds&&(ie.tileBounds=new B(ze.bounds,ie.minzoom,ie.maxzoom)),n.postTurnstileEvent(ze.tiles),n.postMapLoadEvent(ze.tiles,ie.map._getMapId(),ie.map._requestManager._skuToken),ie.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),ie.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},J.prototype.loaded=function(){return this._loaded},J.prototype.onAdd=function(ie){this.map=ie,this.load()},J.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},J.prototype.serialize=function(){return n.extend({},this._options)},J.prototype.hasTile=function(ie){return!this.tileBounds||this.tileBounds.contains(ie.canonical)},J.prototype.loadTile=function(ie,xe){var ze=this,je=this.map._requestManager.normalizeTileURL(ie.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ie.request=n.getImage(this.map._requestManager.transformRequest(je,n.ResourceType.Tile),function(st,mt){if(delete ie.request,ie.aborted)ie.state="unloaded",xe(null);else if(st)ie.state="errored",xe(st);else if(mt){ze.map._refreshExpiredTiles&&ie.setExpiryData(mt),delete mt.cacheControl,delete mt.expires;var Bt=ze.map.painter.context,Jt=Bt.gl;ie.texture=ze.map.painter.getTileTexture(mt.width),ie.texture?ie.texture.update(mt,{useMipmap:!0}):(ie.texture=new n.Texture(Bt,mt,Jt.RGBA,{useMipmap:!0}),ie.texture.bind(Jt.LINEAR,Jt.CLAMP_TO_EDGE,Jt.LINEAR_MIPMAP_NEAREST),Bt.extTextureFilterAnisotropic&&Jt.texParameterf(Jt.TEXTURE_2D,Bt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Bt.extTextureFilterAnisotropicMax)),ie.state="loaded",n.cacheEntryPossiblyAdded(ze.dispatcher),xe(null)}})},J.prototype.abortTile=function(ie,xe){ie.request&&(ie.request.cancel(),delete ie.request),xe()},J.prototype.unloadTile=function(ie,xe){ie.texture&&this.map.painter.saveTileTexture(ie.texture),xe()},J.prototype.hasTransition=function(){return!1},J}(n.Evented),U=function(ge){function J(me,ie,xe,ze){ge.call(this,me,ie,xe,ze),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},ie),this.encoding=ie.encoding||"mapbox"}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},J.prototype.loadTile=function(ie,xe){var ze=this.map._requestManager.normalizeTileURL(ie.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ie.request=n.getImage(this.map._requestManager.transformRequest(ze,n.ResourceType.Tile),je.bind(this)),ie.neighboringTiles=this._getNeighboringTiles(ie.tileID);function je(mt,Bt){if(delete ie.request,ie.aborted)ie.state="unloaded",xe(null);else if(mt)ie.state="errored",xe(mt);else if(Bt){this.map._refreshExpiredTiles&&ie.setExpiryData(Bt),delete Bt.cacheControl,delete Bt.expires;var Jt=n.window.ImageBitmap&&Bt instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported(),ur=Jt?Bt:n.browser.getImageData(Bt,1),yr={uid:ie.uid,coord:ie.tileID,source:this.id,rawImageData:ur,encoding:this.encoding};(!ie.actor||ie.state==="expired")&&(ie.actor=this.dispatcher.getActor(),ie.actor.send("loadDEMTile",yr,st.bind(this)))}}function st(mt,Bt){mt&&(ie.state="errored",xe(mt)),Bt&&(ie.dem=Bt,ie.needsHillshadePrepare=!0,ie.state="loaded",xe(null))}},J.prototype._getNeighboringTiles=function(ie){var xe=ie.canonical,ze=Math.pow(2,xe.z),je=(xe.x-1+ze)%ze,st=xe.x===0?ie.wrap-1:ie.wrap,mt=(xe.x+1+ze)%ze,Bt=xe.x+1===ze?ie.wrap+1:ie.wrap,Jt={};return Jt[new n.OverscaledTileID(ie.overscaledZ,st,xe.z,je,xe.y).key]={backfilled:!1},Jt[new n.OverscaledTileID(ie.overscaledZ,Bt,xe.z,mt,xe.y).key]={backfilled:!1},xe.y>0&&(Jt[new n.OverscaledTileID(ie.overscaledZ,st,xe.z,je,xe.y-1).key]={backfilled:!1},Jt[new n.OverscaledTileID(ie.overscaledZ,ie.wrap,xe.z,xe.x,xe.y-1).key]={backfilled:!1},Jt[new n.OverscaledTileID(ie.overscaledZ,Bt,xe.z,mt,xe.y-1).key]={backfilled:!1}),xe.y+1<ze&&(Jt[new n.OverscaledTileID(ie.overscaledZ,st,xe.z,je,xe.y+1).key]={backfilled:!1},Jt[new n.OverscaledTileID(ie.overscaledZ,ie.wrap,xe.z,xe.x,xe.y+1).key]={backfilled:!1},Jt[new n.OverscaledTileID(ie.overscaledZ,Bt,xe.z,mt,xe.y+1).key]={backfilled:!1}),Jt},J.prototype.unloadTile=function(ie){ie.demTexture&&this.map.painter.saveTileTexture(ie.demTexture),ie.fbo&&(ie.fbo.destroy(),delete ie.fbo),ie.dem&&delete ie.dem,delete ie.neighboringTiles,ie.state="unloaded",ie.actor&&ie.actor.send("removeDEMTile",{uid:ie.uid,source:this.id})},J}(H),G=function(ge){function J(me,ie,xe,ze){ge.call(this),this.id=me,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=xe.getActor(),this.setEventedParent(ze),this._data=ie.data,this._options=n.extend({},ie),this._collectResourceTiming=ie.collectResourceTiming,this._resourceTiming=[],ie.maxzoom!==void 0&&(this.maxzoom=ie.maxzoom),ie.type&&(this.type=ie.type),ie.attribution&&(this.attribution=ie.attribution),this.promoteId=ie.promoteId;var je=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:ie.cluster||!1,geojsonVtOptions:{buffer:(ie.buffer!==void 0?ie.buffer:128)*je,tolerance:(ie.tolerance!==void 0?ie.tolerance:.375)*je,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:ie.lineMetrics||!1,generateId:ie.generateId||!1},superclusterOptions:{maxZoom:ie.clusterMaxZoom!==void 0?Math.min(ie.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:n.EXTENT,radius:(ie.clusterRadius||50)*je,log:!1,generateId:ie.generateId||!1},clusterProperties:ie.clusterProperties},ie.workerOptions)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.load=function(){var ie=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(xe){if(xe){ie.fire(new n.ErrorEvent(xe));return}var ze={dataType:"source",sourceDataType:"metadata"};ie._collectResourceTiming&&ie._resourceTiming&&ie._resourceTiming.length>0&&(ze.resourceTiming=ie._resourceTiming,ie._resourceTiming=[]),ie.fire(new n.Event("data",ze))})},J.prototype.onAdd=function(ie){this.map=ie,this.load()},J.prototype.setData=function(ie){var xe=this;return this._data=ie,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ze){if(ze){xe.fire(new n.ErrorEvent(ze));return}var je={dataType:"source",sourceDataType:"content"};xe._collectResourceTiming&&xe._resourceTiming&&xe._resourceTiming.length>0&&(je.resourceTiming=xe._resourceTiming,xe._resourceTiming=[]),xe.fire(new n.Event("data",je))}),this},J.prototype.getClusterExpansionZoom=function(ie,xe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ie,source:this.id},xe),this},J.prototype.getClusterChildren=function(ie,xe){return this.actor.send("geojson.getClusterChildren",{clusterId:ie,source:this.id},xe),this},J.prototype.getClusterLeaves=function(ie,xe,ze,je){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ie,limit:xe,offset:ze},je),this},J.prototype._updateWorkerData=function(ie){var xe=this;this._loaded=!1;var ze=n.extend({},this.workerOptions),je=this._data;typeof je=="string"?(ze.request=this.map._requestManager.transformRequest(n.browser.resolveURL(je),n.ResourceType.Source),ze.request.collectResourceTiming=this._collectResourceTiming):ze.data=JSON.stringify(je),this.actor.send(this.type+".loadData",ze,function(st,mt){xe._removed||mt&&mt.abandoned||(xe._loaded=!0,mt&&mt.resourceTiming&&mt.resourceTiming[xe.id]&&(xe._resourceTiming=mt.resourceTiming[xe.id].slice(0)),xe.actor.send(xe.type+".coalesce",{source:ze.source},null),ie(st))})},J.prototype.loaded=function(){return this._loaded},J.prototype.loadTile=function(ie,xe){var ze=this,je=ie.actor?"reloadTile":"loadTile";ie.actor=this.actor;var st={type:this.type,uid:ie.uid,tileID:ie.tileID,zoom:ie.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ie.request=this.actor.send(je,st,function(mt,Bt){return delete ie.request,ie.unloadVectorData(),ie.aborted?xe(null):mt?xe(mt):(ie.loadVectorData(Bt,ze.map.painter,je==="reloadTile"),xe(null))})},J.prototype.abortTile=function(ie){ie.request&&(ie.request.cancel(),delete ie.request),ie.aborted=!0},J.prototype.unloadTile=function(ie){ie.unloadVectorData(),this.actor.send("removeTile",{uid:ie.uid,type:this.type,source:this.id})},J.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},J.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},J.prototype.hasTransition=function(){return!1},J}(n.Evented),j=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),re=function(ge){function J(me,ie,xe,ze){ge.call(this),this.id=me,this.dispatcher=xe,this.coordinates=ie.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ze),this.options=ie}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.load=function(ie,xe){var ze=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function(je,st){ze._loaded=!0,je?ze.fire(new n.ErrorEvent(je)):st&&(ze.image=st,ie&&(ze.coordinates=ie),xe&&xe(),ze._finishLoading())})},J.prototype.loaded=function(){return this._loaded},J.prototype.updateImage=function(ie){var xe=this;return!this.image||!ie.url?this:(this.options.url=ie.url,this.load(ie.coordinates,function(){xe.texture=null}),this)},J.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},J.prototype.onAdd=function(ie){this.map=ie,this.load()},J.prototype.setCoordinates=function(ie){var xe=this;this.coordinates=ie;var ze=ie.map(n.MercatorCoordinate.fromLngLat);this.tileID=ae(ze),this.minzoom=this.maxzoom=this.tileID.z;var je=ze.map(function(st){return xe.tileID.getTilePoint(st)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(je[0].x,je[0].y,0,0),this._boundsArray.emplaceBack(je[1].x,je[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(je[3].x,je[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(je[2].x,je[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},J.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ie=this.map.painter.context,xe=ie.gl;this.boundsBuffer||(this.boundsBuffer=ie.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(ie,this.image,xe.RGBA),this.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE));for(var ze in this.tiles){var je=this.tiles[ze];je.state!=="loaded"&&(je.state="loaded",je.texture=this.texture)}}},J.prototype.loadTile=function(ie,xe){this.tileID&&this.tileID.equals(ie.tileID.canonical)?(this.tiles[String(ie.tileID.wrap)]=ie,ie.buckets={},xe(null)):(ie.state="errored",xe(null))},J.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},J.prototype.hasTransition=function(){return!1},J}(n.Evented);function ae(ge){for(var J=1/0,me=1/0,ie=-1/0,xe=-1/0,ze=0,je=ge;ze<je.length;ze+=1){var st=je[ze];J=Math.min(J,st.x),me=Math.min(me,st.y),ie=Math.max(ie,st.x),xe=Math.max(xe,st.y)}var mt=ie-J,Bt=xe-me,Jt=Math.max(mt,Bt),ur=Math.max(0,Math.floor(-Math.log(Jt)/Math.LN2)),yr=Math.pow(2,ur);return new n.CanonicalTileID(ur,Math.floor((J+ie)/2*yr),Math.floor((me+xe)/2*yr))}var ue=function(ge){function J(me,ie,xe,ze){ge.call(this,me,ie,xe,ze),this.roundZoom=!0,this.type="video",this.options=ie}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.load=function(){var ie=this;this._loaded=!1;var xe=this.options;this.urls=[];for(var ze=0,je=xe.urls;ze<je.length;ze+=1){var st=je[ze];this.urls.push(this.map._requestManager.transformRequest(st,n.ResourceType.Source).url)}n.getVideo(this.urls,function(mt,Bt){ie._loaded=!0,mt?ie.fire(new n.ErrorEvent(mt)):Bt&&(ie.video=Bt,ie.video.loop=!0,ie.video.addEventListener("playing",function(){ie.map.triggerRepaint()}),ie.map&&ie.video.play(),ie._finishLoading())})},J.prototype.pause=function(){this.video&&this.video.pause()},J.prototype.play=function(){this.video&&this.video.play()},J.prototype.seek=function(ie){if(this.video){var xe=this.video.seekable;ie<xe.start(0)||ie>xe.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+xe.start(0)+" and "+xe.end(0)+"-second mark."))):this.video.currentTime=ie}},J.prototype.getVideo=function(){return this.video},J.prototype.onAdd=function(ie){this.map||(this.map=ie,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},J.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ie=this.map.painter.context,xe=ie.gl;this.boundsBuffer||(this.boundsBuffer=ie.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),xe.texSubImage2D(xe.TEXTURE_2D,0,0,0,xe.RGBA,xe.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(ie,this.video,xe.RGBA),this.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE));for(var ze in this.tiles){var je=this.tiles[ze];je.state!=="loaded"&&(je.state="loaded",je.texture=this.texture)}}},J.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},J.prototype.hasTransition=function(){return this.video&&!this.video.paused},J}(re),de=function(ge){function J(me,ie,xe,ze){ge.call(this,me,ie,xe,ze),ie.coordinates?(!Array.isArray(ie.coordinates)||ie.coordinates.length!==4||ie.coordinates.some(function(je){return!Array.isArray(je)||je.length!==2||je.some(function(st){return typeof st!="number"})}))&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+me,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+me,null,'missing required property "coordinates"'))),ie.animate&&typeof ie.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+me,null,'optional "animate" property must be a boolean value'))),ie.canvas?typeof ie.canvas!="string"&&!(ie.canvas instanceof n.window.HTMLCanvasElement)&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+me,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+me,null,'missing required property "canvas"'))),this.options=ie,this.animate=ie.animate!==void 0?ie.animate:!0}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},J.prototype.getCanvas=function(){return this.canvas},J.prototype.onAdd=function(ie){this.map=ie,this.load(),this.canvas&&this.animate&&this.play()},J.prototype.onRemove=function(){this.pause()},J.prototype.prepare=function(){var ie=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ie=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ie=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var xe=this.map.painter.context,ze=xe.gl;this.boundsBuffer||(this.boundsBuffer=xe.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ie||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(xe,this.canvas,ze.RGBA,{premultiply:!0});for(var je in this.tiles){var st=this.tiles[je];st.state!=="loaded"&&(st.state="loaded",st.texture=this.texture)}}},J.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},J.prototype.hasTransition=function(){return this._playing},J.prototype._hasInvalidDimensions=function(){for(var ie=0,xe=[this.canvas.width,this.canvas.height];ie<xe.length;ie+=1){var ze=xe[ie];if(isNaN(ze)||ze<=0)return!0}return!1},J}(re),ee={vector:W,raster:H,"raster-dem":U,geojson:G,video:ue,image:re,canvas:de},X=function(ge,J,me,ie){var xe=new ee[J.type](ge,J,me,ie);if(xe.id!==ge)throw new Error("Expected Source id to be "+ge+" instead of "+xe.id);return n.bindAll(["load","abort","unload","serialize","prepare"],xe),xe},Q=function(ge){return ee[ge]},$=function(ge,J){ee[ge]=J};function ne(ge,J){var me=n.identity([]);return n.translate(me,me,[1,1,0]),n.scale(me,me,[ge.width*.5,ge.height*.5,1]),n.multiply(me,me,ge.calculatePosMatrix(J.toUnwrapped()))}function fe(ge,J,me){if(ge)for(var ie=0,xe=ge;ie<xe.length;ie+=1){var ze=xe[ie],je=J[ze];if(je&&je.source===me&&je.type==="fill-extrusion")return!0}else for(var st in J){var mt=J[st];if(mt.source===me&&mt.type==="fill-extrusion")return!0}return!1}function te(ge,J,me,ie,xe,ze){var je=fe(xe&&xe.layers,J,ge.id),st=ze.maxPitchScaleFactor(),mt=ge.tilesIn(ie,st,je);mt.sort(se);for(var Bt=[],Jt=0,ur=mt;Jt<ur.length;Jt+=1){var yr=ur[Jt];Bt.push({wrappedTileID:yr.tileID.wrapped().key,queryResults:yr.tile.queryRenderedFeatures(J,me,ge._state,yr.queryGeometry,yr.cameraQueryGeometry,yr.scale,xe,ze,st,ne(ge.transform,yr.tileID))})}var Ir=pe(Bt);for(var Wr in Ir)Ir[Wr].forEach(function(Gr){var Hr=Gr.feature,Qr=ge.getFeatureState(Hr.layer["source-layer"],Hr.id);Hr.source=Hr.layer.source,Hr.layer["source-layer"]&&(Hr.sourceLayer=Hr.layer["source-layer"]),Hr.state=Qr});return Ir}function q(ge,J,me,ie,xe,ze,je){for(var st={},mt=ze.queryRenderedSymbols(ie),Bt=[],Jt=0,ur=Object.keys(mt).map(Number);Jt<ur.length;Jt+=1){var yr=ur[Jt];Bt.push(je[yr])}Bt.sort(se);for(var Ir=function(){var sn=Gr[Wr],Sn=sn.featureIndex.lookupSymbolFeatures(mt[sn.bucketInstanceId],J,sn.bucketIndex,sn.sourceLayerIndex,xe.filter,xe.layers,xe.availableImages,ge);for(var Fn in Sn){var Gn=st[Fn]=st[Fn]||[],Zn=Sn[Fn];Zn.sort(function(ui,pi){var wi=sn.featureSortOrder;if(wi){var _i=wi.indexOf(ui.featureIndex),Hi=wi.indexOf(pi.featureIndex);return Hi-_i}else return pi.featureIndex-ui.featureIndex});for(var Yn=0,ri=Zn;Yn<ri.length;Yn+=1){var fi=ri[Yn];Gn.push(fi)}}},Wr=0,Gr=Bt;Wr<Gr.length;Wr+=1)Ir();var Hr=function(sn){st[sn].forEach(function(Sn){var Fn=Sn.feature,Gn=ge[sn],Zn=me[Gn.source],Yn=Zn.getFeatureState(Fn.layer["source-layer"],Fn.id);Fn.source=Fn.layer.source,Fn.layer["source-layer"]&&(Fn.sourceLayer=Fn.layer["source-layer"]),Fn.state=Yn})};for(var Qr in st)Hr(Qr);return st}function he(ge,J){for(var me=ge.getRenderableIds().map(function(mt){return ge.getTileByID(mt)}),ie=[],xe={},ze=0;ze<me.length;ze++){var je=me[ze],st=je.tileID.canonical.key;xe[st]||(xe[st]=!0,je.querySourceFeatures(ie,J))}return ie}function se(ge,J){var me=ge.tileID,ie=J.tileID;return me.overscaledZ-ie.overscaledZ||me.canonical.y-ie.canonical.y||me.wrap-ie.wrap||me.canonical.x-ie.canonical.x}function pe(ge){for(var J={},me={},ie=0,xe=ge;ie<xe.length;ie+=1){var ze=xe[ie],je=ze.queryResults,st=ze.wrappedTileID,mt=me[st]=me[st]||{};for(var Bt in je)for(var Jt=je[Bt],ur=mt[Bt]=mt[Bt]||{},yr=J[Bt]=J[Bt]||[],Ir=0,Wr=Jt;Ir<Wr.length;Ir+=1){var Gr=Wr[Ir];ur[Gr.featureIndex]||(ur[Gr.featureIndex]=!0,yr.push(Gr))}}return J}var we=function(J,me){this.max=J,this.onRemove=me,this.reset()};we.prototype.reset=function(){for(var J in this.data)for(var me=0,ie=this.data[J];me<ie.length;me+=1){var xe=ie[me];xe.timeout&&clearTimeout(xe.timeout),this.onRemove(xe.value)}return this.data={},this.order=[],this},we.prototype.add=function(J,me,ie){var xe=this,ze=J.wrapped().key;this.data[ze]===void 0&&(this.data[ze]=[]);var je={value:me,timeout:void 0};if(ie!==void 0&&(je.timeout=setTimeout(function(){xe.remove(J,je)},ie)),this.data[ze].push(je),this.order.push(ze),this.order.length>this.max){var st=this._getAndRemoveByKey(this.order[0]);st&&this.onRemove(st)}return this},we.prototype.has=function(J){return J.wrapped().key in this.data},we.prototype.getAndRemove=function(J){return this.has(J)?this._getAndRemoveByKey(J.wrapped().key):null},we.prototype._getAndRemoveByKey=function(J){var me=this.data[J].shift();return me.timeout&&clearTimeout(me.timeout),this.data[J].length===0&&delete this.data[J],this.order.splice(this.order.indexOf(J),1),me.value},we.prototype.getByKey=function(J){var me=this.data[J];return me?me[0].value:null},we.prototype.get=function(J){if(!this.has(J))return null;var me=this.data[J.wrapped().key][0];return me.value},we.prototype.remove=function(J,me){if(!this.has(J))return this;var ie=J.wrapped().key,xe=me===void 0?0:this.data[ie].indexOf(me),ze=this.data[ie][xe];return this.data[ie].splice(xe,1),ze.timeout&&clearTimeout(ze.timeout),this.data[ie].length===0&&delete this.data[ie],this.onRemove(ze.value),this.order.splice(this.order.indexOf(ie),1),this},we.prototype.setMaxSize=function(J){for(this.max=J;this.order.length>this.max;){var me=this._getAndRemoveByKey(this.order[0]);me&&this.onRemove(me)}return this},we.prototype.filter=function(J){var me=[];for(var ie in this.data)for(var xe=0,ze=this.data[ie];xe<ze.length;xe+=1){var je=ze[xe];J(je.value)||me.push(je)}for(var st=0,mt=me;st<mt.length;st+=1){var Bt=mt[st];this.remove(Bt.value.tileID,Bt)}};var Ee=function(J,me,ie){this.context=J;var xe=J.gl;this.buffer=xe.createBuffer(),this.dynamicDraw=Boolean(ie),this.context.unbindVAO(),J.bindElementBuffer.set(this.buffer),xe.bufferData(xe.ELEMENT_ARRAY_BUFFER,me.arrayBuffer,this.dynamicDraw?xe.DYNAMIC_DRAW:xe.STATIC_DRAW),this.dynamicDraw||delete me.arrayBuffer};Ee.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ee.prototype.updateData=function(J){var me=this.context.gl;this.context.unbindVAO(),this.bind(),me.bufferSubData(me.ELEMENT_ARRAY_BUFFER,0,J.arrayBuffer)},Ee.prototype.destroy=function(){var J=this.context.gl;this.buffer&&(J.deleteBuffer(this.buffer),delete this.buffer)};var Me={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Be=function(J,me,ie,xe){this.length=me.length,this.attributes=ie,this.itemSize=me.bytesPerElement,this.dynamicDraw=xe,this.context=J;var ze=J.gl;this.buffer=ze.createBuffer(),J.bindVertexBuffer.set(this.buffer),ze.bufferData(ze.ARRAY_BUFFER,me.arrayBuffer,this.dynamicDraw?ze.DYNAMIC_DRAW:ze.STATIC_DRAW),this.dynamicDraw||delete me.arrayBuffer};Be.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Be.prototype.updateData=function(J){var me=this.context.gl;this.bind(),me.bufferSubData(me.ARRAY_BUFFER,0,J.arrayBuffer)},Be.prototype.enableAttributes=function(J,me){for(var ie=0;ie<this.attributes.length;ie++){var xe=this.attributes[ie],ze=me.attributes[xe.name];ze!==void 0&&J.enableVertexAttribArray(ze)}},Be.prototype.setVertexAttribPointers=function(J,me,ie){for(var xe=0;xe<this.attributes.length;xe++){var ze=this.attributes[xe],je=me.attributes[ze.name];je!==void 0&&J.vertexAttribPointer(je,ze.components,J[Me[ze.type]],!1,this.itemSize,ze.offset+this.itemSize*(ie||0))}},Be.prototype.destroy=function(){var J=this.context.gl;this.buffer&&(J.deleteBuffer(this.buffer),delete this.buffer)};var Ne=function(J){this.gl=J.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ne.prototype.get=function(){return this.current},Ne.prototype.set=function(J){},Ne.prototype.getDefault=function(){return this.default},Ne.prototype.setDefault=function(){this.set(this.default)};var Ce=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return n.Color.transparent},J.prototype.set=function(ie){var xe=this.current;ie.r===xe.r&&ie.g===xe.g&&ie.b===xe.b&&ie.a===xe.a&&!this.dirty||(this.gl.clearColor(ie.r,ie.g,ie.b,ie.a),this.current=ie,this.dirty=!1)},J}(Ne),Te=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 1},J.prototype.set=function(ie){ie===this.current&&!this.dirty||(this.gl.clearDepth(ie),this.current=ie,this.dirty=!1)},J}(Ne),Le=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 0},J.prototype.set=function(ie){ie===this.current&&!this.dirty||(this.gl.clearStencil(ie),this.current=ie,this.dirty=!1)},J}(Ne),Ve=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return[!0,!0,!0,!0]},J.prototype.set=function(ie){var xe=this.current;ie[0]===xe[0]&&ie[1]===xe[1]&&ie[2]===xe[2]&&ie[3]===xe[3]&&!this.dirty||(this.gl.colorMask(ie[0],ie[1],ie[2],ie[3]),this.current=ie,this.dirty=!1)},J}(Ne),We=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!0},J.prototype.set=function(ie){ie===this.current&&!this.dirty||(this.gl.depthMask(ie),this.current=ie,this.dirty=!1)},J}(Ne),Fe=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 255},J.prototype.set=function(ie){ie===this.current&&!this.dirty||(this.gl.stencilMask(ie),this.current=ie,this.dirty=!1)},J}(Ne),Ge=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},J.prototype.set=function(ie){var xe=this.current;ie.func===xe.func&&ie.ref===xe.ref&&ie.mask===xe.mask&&!this.dirty||(this.gl.stencilFunc(ie.func,ie.ref,ie.mask),this.current=ie,this.dirty=!1)},J}(Ne),it=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){var ie=this.gl;return[ie.KEEP,ie.KEEP,ie.KEEP]},J.prototype.set=function(ie){var xe=this.current;ie[0]===xe[0]&&ie[1]===xe[1]&&ie[2]===xe[2]&&!this.dirty||(this.gl.stencilOp(ie[0],ie[1],ie[2]),this.current=ie,this.dirty=!1)},J}(Ne),qe=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;ie?xe.enable(xe.STENCIL_TEST):xe.disable(xe.STENCIL_TEST),this.current=ie,this.dirty=!1}},J}(Ne),$e=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return[0,1]},J.prototype.set=function(ie){var xe=this.current;ie[0]===xe[0]&&ie[1]===xe[1]&&!this.dirty||(this.gl.depthRange(ie[0],ie[1]),this.current=ie,this.dirty=!1)},J}(Ne),tt=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;ie?xe.enable(xe.DEPTH_TEST):xe.disable(xe.DEPTH_TEST),this.current=ie,this.dirty=!1}},J}(Ne),vt=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.LESS},J.prototype.set=function(ie){ie===this.current&&!this.dirty||(this.gl.depthFunc(ie),this.current=ie,this.dirty=!1)},J}(Ne),dt=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;ie?xe.enable(xe.BLEND):xe.disable(xe.BLEND),this.current=ie,this.dirty=!1}},J}(Ne),gt=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){var ie=this.gl;return[ie.ONE,ie.ZERO]},J.prototype.set=function(ie){var xe=this.current;ie[0]===xe[0]&&ie[1]===xe[1]&&!this.dirty||(this.gl.blendFunc(ie[0],ie[1]),this.current=ie,this.dirty=!1)},J}(Ne),Mt=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return n.Color.transparent},J.prototype.set=function(ie){var xe=this.current;ie.r===xe.r&&ie.g===xe.g&&ie.b===xe.b&&ie.a===xe.a&&!this.dirty||(this.gl.blendColor(ie.r,ie.g,ie.b,ie.a),this.current=ie,this.dirty=!1)},J}(Ne),Ct=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.FUNC_ADD},J.prototype.set=function(ie){ie===this.current&&!this.dirty||(this.gl.blendEquation(ie),this.current=ie,this.dirty=!1)},J}(Ne),Wt=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;ie?xe.enable(xe.CULL_FACE):xe.disable(xe.CULL_FACE),this.current=ie,this.dirty=!1}},J}(Ne),Xe=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.BACK},J.prototype.set=function(ie){ie===this.current&&!this.dirty||(this.gl.cullFace(ie),this.current=ie,this.dirty=!1)},J}(Ne),ke=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.CCW},J.prototype.set=function(ie){ie===this.current&&!this.dirty||(this.gl.frontFace(ie),this.current=ie,this.dirty=!1)},J}(Ne),Ie=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ie){ie===this.current&&!this.dirty||(this.gl.useProgram(ie),this.current=ie,this.dirty=!1)},J}(Ne),Oe=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.TEXTURE0},J.prototype.set=function(ie){ie===this.current&&!this.dirty||(this.gl.activeTexture(ie),this.current=ie,this.dirty=!1)},J}(Ne),_e=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){var ie=this.gl;return[0,0,ie.drawingBufferWidth,ie.drawingBufferHeight]},J.prototype.set=function(ie){var xe=this.current;ie[0]===xe[0]&&ie[1]===xe[1]&&ie[2]===xe[2]&&ie[3]===xe[3]&&!this.dirty||(this.gl.viewport(ie[0],ie[1],ie[2],ie[3]),this.current=ie,this.dirty=!1)},J}(Ne),Ae=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;xe.bindFramebuffer(xe.FRAMEBUFFER,ie),this.current=ie,this.dirty=!1}},J}(Ne),ce=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;xe.bindRenderbuffer(xe.RENDERBUFFER,ie),this.current=ie,this.dirty=!1}},J}(Ne),be=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;xe.bindTexture(xe.TEXTURE_2D,ie),this.current=ie,this.dirty=!1}},J}(Ne),Re=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;xe.bindBuffer(xe.ARRAY_BUFFER,ie),this.current=ie,this.dirty=!1}},J}(Ne),Ue=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ie){var xe=this.gl;xe.bindBuffer(xe.ELEMENT_ARRAY_BUFFER,ie),this.current=ie,this.dirty=!1},J}(Ne),nt=function(ge){function J(me){ge.call(this,me),this.vao=me.extVertexArrayObject}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ie){!this.vao||ie===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ie),this.current=ie,this.dirty=!1)},J}(Ne),ot=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 4},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;xe.pixelStorei(xe.UNPACK_ALIGNMENT,ie),this.current=ie,this.dirty=!1}},J}(Ne),wt=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie),this.current=ie,this.dirty=!1}},J}(Ne),_t=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){var xe=this.gl;xe.pixelStorei(xe.UNPACK_FLIP_Y_WEBGL,ie),this.current=ie,this.dirty=!1}},J}(Ne),Ut=function(ge){function J(me,ie){ge.call(this,me),this.context=me,this.parent=ie}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J}(Ne),Vt=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.setDirty=function(){this.dirty=!0},J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var xe=this.gl;xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,ie,0),this.current=ie,this.dirty=!1}},J}(Ut),Lt=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.set=function(ie){if(!(ie===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var xe=this.gl;xe.framebufferRenderbuffer(xe.FRAMEBUFFER,xe.DEPTH_ATTACHMENT,xe.RENDERBUFFER,ie),this.current=ie,this.dirty=!1}},J}(Ut),Kt=function(J,me,ie,xe){this.context=J,this.width=me,this.height=ie;var ze=J.gl,je=this.framebuffer=ze.createFramebuffer();this.colorAttachment=new Vt(J,je),xe&&(this.depthAttachment=new Lt(J,je))};Kt.prototype.destroy=function(){var J=this.context.gl,me=this.colorAttachment.get();if(me&&J.deleteTexture(me),this.depthAttachment){var ie=this.depthAttachment.get();ie&&J.deleteRenderbuffer(ie)}J.deleteFramebuffer(this.framebuffer)};var ar=519,Fr=function(J,me,ie){this.func=J,this.mask=me,this.range=ie};Fr.ReadOnly=!1,Fr.ReadWrite=!0,Fr.disabled=new Fr(ar,Fr.ReadOnly,[0,1]);var yt=519,Xt=7680,Yt=function(J,me,ie,xe,ze,je){this.test=J,this.ref=me,this.mask=ie,this.fail=xe,this.depthFail=ze,this.pass=je};Yt.disabled=new Yt({func:yt,mask:0},0,0,Xt,Xt,Xt);var br=0,hr=1,ut=771,lt=function(J,me,ie){this.blendFunction=J,this.blendColor=me,this.mask=ie};lt.Replace=[hr,br],lt.disabled=new lt(lt.Replace,n.Color.transparent,[!1,!1,!1,!1]),lt.unblended=new lt(lt.Replace,n.Color.transparent,[!0,!0,!0,!0]),lt.alphaBlended=new lt([hr,ut],n.Color.transparent,[!0,!0,!0,!0]);var xt=1029,Tt=2305,Et=function(J,me,ie){this.enable=J,this.mode=me,this.frontFace=ie};Et.disabled=new Et(!1,xt,Tt),Et.backCCW=new Et(!0,xt,Tt);var At=function(J){this.gl=J,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ce(this),this.clearDepth=new Te(this),this.clearStencil=new Le(this),this.colorMask=new Ve(this),this.depthMask=new We(this),this.stencilMask=new Fe(this),this.stencilFunc=new Ge(this),this.stencilOp=new it(this),this.stencilTest=new qe(this),this.depthRange=new $e(this),this.depthTest=new tt(this),this.depthFunc=new vt(this),this.blend=new dt(this),this.blendFunc=new gt(this),this.blendColor=new Mt(this),this.blendEquation=new Ct(this),this.cullFace=new Wt(this),this.cullFaceSide=new Xe(this),this.frontFace=new ke(this),this.program=new Ie(this),this.activeTexture=new Oe(this),this.viewport=new _e(this),this.bindFramebuffer=new Ae(this),this.bindRenderbuffer=new ce(this),this.bindTexture=new be(this),this.bindVertexBuffer=new Re(this),this.bindElementBuffer=new Ue(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new nt(this),this.pixelStoreUnpack=new ot(this),this.pixelStoreUnpackPremultiplyAlpha=new wt(this),this.pixelStoreUnpackFlipY=new _t(this),this.extTextureFilterAnisotropic=J.getExtension("EXT_texture_filter_anisotropic")||J.getExtension("MOZ_EXT_texture_filter_anisotropic")||J.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=J.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=J.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(J.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=J.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=J.getExtension("EXT_disjoint_timer_query")};At.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},At.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},At.prototype.createIndexBuffer=function(J,me){return new Ee(this,J,me)},At.prototype.createVertexBuffer=function(J,me,ie){return new Be(this,J,me,ie)},At.prototype.createRenderbuffer=function(J,me,ie){var xe=this.gl,ze=xe.createRenderbuffer();return this.bindRenderbuffer.set(ze),xe.renderbufferStorage(xe.RENDERBUFFER,J,me,ie),this.bindRenderbuffer.set(null),ze},At.prototype.createFramebuffer=function(J,me,ie){return new Kt(this,J,me,ie)},At.prototype.clear=function(J){var me=J.color,ie=J.depth,xe=this.gl,ze=0;me&&(ze|=xe.COLOR_BUFFER_BIT,this.clearColor.set(me),this.colorMask.set([!0,!0,!0,!0])),typeof ie<"u"&&(ze|=xe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ie),this.depthMask.set(!0)),xe.clear(ze)},At.prototype.setCullFace=function(J){J.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(J.mode),this.frontFace.set(J.frontFace))},At.prototype.setDepthMode=function(J){J.func===this.gl.ALWAYS&&!J.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(J.func),this.depthMask.set(J.mask),this.depthRange.set(J.range))},At.prototype.setStencilMode=function(J){J.test.func===this.gl.ALWAYS&&!J.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(J.mask),this.stencilOp.set([J.fail,J.depthFail,J.pass]),this.stencilFunc.set({func:J.test.func,ref:J.ref,mask:J.test.mask}))},At.prototype.setColorMode=function(J){n.deepEqual(J.blendFunction,lt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(J.blendFunction),this.blendColor.set(J.blendColor)),this.colorMask.set(J.mask)},At.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ft=function(ge){function J(me,ie,xe){var ze=this;ge.call(this),this.id=me,this.dispatcher=xe,this.on("data",function(je){je.dataType==="source"&&je.sourceDataType==="metadata"&&(ze._sourceLoaded=!0),ze._sourceLoaded&&!ze._paused&&je.dataType==="source"&&je.sourceDataType==="content"&&(ze.reload(),ze.transform&&ze.update(ze.transform))}),this.on("error",function(){ze._sourceErrored=!0}),this._source=X(me,ie,xe,this),this._tiles={},this._cache=new we(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.onAdd=function(ie){this.map=ie,this._maxTileCacheSize=ie?ie._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ie)},J.prototype.onRemove=function(ie){this._source&&this._source.onRemove&&this._source.onRemove(ie)},J.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ie in this._tiles){var xe=this._tiles[ie];if(xe.state!=="loaded"&&xe.state!=="errored")return!1}return!0},J.prototype.getSource=function(){return this._source},J.prototype.pause=function(){this._paused=!0},J.prototype.resume=function(){if(this._paused){var ie=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ie&&this.reload(),this.transform&&this.update(this.transform)}},J.prototype._loadTile=function(ie,xe){return this._source.loadTile(ie,xe)},J.prototype._unloadTile=function(ie){if(this._source.unloadTile)return this._source.unloadTile(ie,function(){})},J.prototype._abortTile=function(ie){if(this._source.abortTile)return this._source.abortTile(ie,function(){})},J.prototype.serialize=function(){return this._source.serialize()},J.prototype.prepare=function(ie){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var xe in this._tiles){var ze=this._tiles[xe];ze.upload(ie),ze.prepare(this.map.style.imageManager)}},J.prototype.getIds=function(){return n.values(this._tiles).map(function(ie){return ie.tileID}).sort(Ht).map(function(ie){return ie.key})},J.prototype.getRenderableIds=function(ie){var xe=this,ze=[];for(var je in this._tiles)this._isIdRenderable(je,ie)&&ze.push(this._tiles[je]);return ie?ze.sort(function(st,mt){var Bt=st.tileID,Jt=mt.tileID,ur=new n.Point(Bt.canonical.x,Bt.canonical.y)._rotate(xe.transform.angle),yr=new n.Point(Jt.canonical.x,Jt.canonical.y)._rotate(xe.transform.angle);return Bt.overscaledZ-Jt.overscaledZ||yr.y-ur.y||yr.x-ur.x}).map(function(st){return st.tileID.key}):ze.map(function(st){return st.tileID}).sort(Ht).map(function(st){return st.key})},J.prototype.hasRenderableParent=function(ie){var xe=this.findLoadedParent(ie,0);return xe?this._isIdRenderable(xe.tileID.key):!1},J.prototype._isIdRenderable=function(ie,xe){return this._tiles[ie]&&this._tiles[ie].hasData()&&!this._coveredTiles[ie]&&(xe||!this._tiles[ie].holdingForFade())},J.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ie in this._tiles)this._tiles[ie].state!=="errored"&&this._reloadTile(ie,"reloading")},J.prototype._reloadTile=function(ie,xe){var ze=this._tiles[ie];ze&&(ze.state!=="loading"&&(ze.state=xe),this._loadTile(ze,this._tileLoaded.bind(this,ze,ie,xe)))},J.prototype._tileLoaded=function(ie,xe,ze,je){if(je){ie.state="errored",je.status!==404?this._source.fire(new n.ErrorEvent(je,{tile:ie})):this.update(this.transform);return}ie.timeAdded=n.browser.now(),ze==="expired"&&(ie.refreshedUponExpiration=!0),this._setTileReloadTimer(xe,ie),this.getSource().type==="raster-dem"&&ie.dem&&this._backfillDEM(ie),this._state.initializeTileState(ie,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:ie,coord:ie.tileID}))},J.prototype._backfillDEM=function(ie){for(var xe=this.getRenderableIds(),ze=0;ze<xe.length;ze++){var je=xe[ze];if(ie.neighboringTiles&&ie.neighboringTiles[je]){var st=this.getTileByID(je);mt(ie,st),mt(st,ie)}}function mt(Bt,Jt){Bt.needsHillshadePrepare=!0;var ur=Jt.tileID.canonical.x-Bt.tileID.canonical.x,yr=Jt.tileID.canonical.y-Bt.tileID.canonical.y,Ir=Math.pow(2,Bt.tileID.canonical.z),Wr=Jt.tileID.key;ur===0&&yr===0||Math.abs(yr)>1||(Math.abs(ur)>1&&(Math.abs(ur+Ir)===1?ur+=Ir:Math.abs(ur-Ir)===1&&(ur-=Ir)),!(!Jt.dem||!Bt.dem)&&(Bt.dem.backfillBorder(Jt.dem,ur,yr),Bt.neighboringTiles&&Bt.neighboringTiles[Wr]&&(Bt.neighboringTiles[Wr].backfilled=!0)))}},J.prototype.getTile=function(ie){return this.getTileByID(ie.key)},J.prototype.getTileByID=function(ie){return this._tiles[ie]},J.prototype._retainLoadedChildren=function(ie,xe,ze,je){for(var st in this._tiles){var mt=this._tiles[st];if(!(je[st]||!mt.hasData()||mt.tileID.overscaledZ<=xe||mt.tileID.overscaledZ>ze)){for(var Bt=mt.tileID;mt&&mt.tileID.overscaledZ>xe+1;){var Jt=mt.tileID.scaledTo(mt.tileID.overscaledZ-1);mt=this._tiles[Jt.key],mt&&mt.hasData()&&(Bt=Jt)}for(var ur=Bt;ur.overscaledZ>xe;)if(ur=ur.scaledTo(ur.overscaledZ-1),ie[ur.key]){je[Bt.key]=Bt;break}}}},J.prototype.findLoadedParent=function(ie,xe){if(ie.key in this._loadedParentTiles){var ze=this._loadedParentTiles[ie.key];return ze&&ze.tileID.overscaledZ>=xe?ze:null}for(var je=ie.overscaledZ-1;je>=xe;je--){var st=ie.scaledTo(je),mt=this._getLoadedTile(st);if(mt)return mt}},J.prototype._getLoadedTile=function(ie){var xe=this._tiles[ie.key];if(xe&&xe.hasData())return xe;var ze=this._cache.getByKey(ie.wrapped().key);return ze},J.prototype.updateCacheSize=function(ie){var xe=Math.ceil(ie.width/this._source.tileSize)+1,ze=Math.ceil(ie.height/this._source.tileSize)+1,je=xe*ze,st=5,mt=Math.floor(je*st),Bt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,mt):mt;this._cache.setMaxSize(Bt)},J.prototype.handleWrapJump=function(ie){var xe=this._prevLng===void 0?ie:this._prevLng,ze=ie-xe,je=ze/360,st=Math.round(je);if(this._prevLng=ie,st){var mt={};for(var Bt in this._tiles){var Jt=this._tiles[Bt];Jt.tileID=Jt.tileID.unwrapTo(Jt.tileID.wrap+st),mt[Jt.tileID.key]=Jt}this._tiles=mt;for(var ur in this._timers)clearTimeout(this._timers[ur]),delete this._timers[ur];for(var yr in this._tiles){var Ir=this._tiles[yr];this._setTileReloadTimer(yr,Ir)}}},J.prototype.update=function(ie){var xe=this;if(this.transform=ie,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ie),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var ze;this.used?this._source.tileID?ze=ie.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ui){return new n.OverscaledTileID(ui.canonical.z,ui.wrap,ui.canonical.z,ui.canonical.x,ui.canonical.y)}):(ze=ie.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ze=ze.filter(function(ui){return xe._source.hasTile(ui)}))):ze=[];var je=ie.coveringZoomLevel(this._source),st=Math.max(je-J.maxOverzooming,this._source.minzoom),mt=Math.max(je+J.maxUnderzooming,this._source.minzoom),Bt=this._updateRetainedTiles(ze,je);if($t(this._source.type)){for(var Jt={},ur={},yr=Object.keys(Bt),Ir=0,Wr=yr;Ir<Wr.length;Ir+=1){var Gr=Wr[Ir],Hr=Bt[Gr],Qr=this._tiles[Gr];if(!(!Qr||Qr.fadeEndTime&&Qr.fadeEndTime<=n.browser.now())){var sn=this.findLoadedParent(Hr,st);sn&&(this._addTile(sn.tileID),Jt[sn.tileID.key]=sn.tileID),ur[Gr]=Hr}}this._retainLoadedChildren(ur,je,mt,Bt);for(var Sn in Jt)Bt[Sn]||(this._coveredTiles[Sn]=!0,Bt[Sn]=Jt[Sn])}for(var Fn in Bt)this._tiles[Fn].clearFadeHold();for(var Gn=n.keysDifference(this._tiles,Bt),Zn=0,Yn=Gn;Zn<Yn.length;Zn+=1){var ri=Yn[Zn],fi=this._tiles[ri];fi.hasSymbolBuckets&&!fi.holdingForFade()?fi.setHoldDuration(this.map._fadeDuration):(!fi.hasSymbolBuckets||fi.symbolFadeFinished())&&this._removeTile(ri)}this._updateLoadedParentTileCache()}},J.prototype.releaseSymbolFadeTiles=function(){for(var ie in this._tiles)this._tiles[ie].holdingForFade()&&this._removeTile(ie)},J.prototype._updateRetainedTiles=function(ie,xe){for(var ze={},je={},st=Math.max(xe-J.maxOverzooming,this._source.minzoom),mt=Math.max(xe+J.maxUnderzooming,this._source.minzoom),Bt={},Jt=0,ur=ie;Jt<ur.length;Jt+=1){var yr=ur[Jt],Ir=this._addTile(yr);ze[yr.key]=yr,!Ir.hasData()&&xe<this._source.maxzoom&&(Bt[yr.key]=yr)}this._retainLoadedChildren(Bt,xe,mt,ze);for(var Wr=0,Gr=ie;Wr<Gr.length;Wr+=1){var Hr=Gr[Wr],Qr=this._tiles[Hr.key];if(!Qr.hasData()){if(xe+1>this._source.maxzoom){var sn=Hr.children(this._source.maxzoom)[0],Sn=this.getTile(sn);if(Sn&&Sn.hasData()){ze[sn.key]=sn;continue}}else{var Fn=Hr.children(this._source.maxzoom);if(ze[Fn[0].key]&&ze[Fn[1].key]&&ze[Fn[2].key]&&ze[Fn[3].key])continue}for(var Gn=Qr.wasRequested(),Zn=Hr.overscaledZ-1;Zn>=st;--Zn){var Yn=Hr.scaledTo(Zn);if(je[Yn.key]||(je[Yn.key]=!0,Qr=this.getTile(Yn),!Qr&&Gn&&(Qr=this._addTile(Yn)),Qr&&(ze[Yn.key]=Yn,Gn=Qr.wasRequested(),Qr.hasData())))break}}}return ze},J.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ie in this._tiles){for(var xe=[],ze=void 0,je=this._tiles[ie].tileID;je.overscaledZ>0;){if(je.key in this._loadedParentTiles){ze=this._loadedParentTiles[je.key];break}xe.push(je.key);var st=je.scaledTo(je.overscaledZ-1);if(ze=this._getLoadedTile(st),ze)break;je=st}for(var mt=0,Bt=xe;mt<Bt.length;mt+=1){var Jt=Bt[mt];this._loadedParentTiles[Jt]=ze}}},J.prototype._addTile=function(ie){var xe=this._tiles[ie.key];if(xe)return xe;xe=this._cache.getAndRemove(ie),xe&&(this._setTileReloadTimer(ie.key,xe),xe.tileID=ie,this._state.initializeTileState(xe,this.map?this.map.painter:null),this._cacheTimers[ie.key]&&(clearTimeout(this._cacheTimers[ie.key]),delete this._cacheTimers[ie.key],this._setTileReloadTimer(ie.key,xe)));var ze=Boolean(xe);return ze||(xe=new n.Tile(ie,this._source.tileSize*ie.overscaleFactor()),this._loadTile(xe,this._tileLoaded.bind(this,xe,ie.key,xe.state))),xe?(xe.uses++,this._tiles[ie.key]=xe,ze||this._source.fire(new n.Event("dataloading",{tile:xe,coord:xe.tileID,dataType:"source"})),xe):null},J.prototype._setTileReloadTimer=function(ie,xe){var ze=this;ie in this._timers&&(clearTimeout(this._timers[ie]),delete this._timers[ie]);var je=xe.getExpiryTimeout();je&&(this._timers[ie]=setTimeout(function(){ze._reloadTile(ie,"expired"),delete ze._timers[ie]},je))},J.prototype._removeTile=function(ie){var xe=this._tiles[ie];xe&&(xe.uses--,delete this._tiles[ie],this._timers[ie]&&(clearTimeout(this._timers[ie]),delete this._timers[ie]),!(xe.uses>0)&&(xe.hasData()&&xe.state!=="reloading"?this._cache.add(xe.tileID,xe,xe.getExpiryTimeout()):(xe.aborted=!0,this._abortTile(xe),this._unloadTile(xe))))},J.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ie in this._tiles)this._removeTile(ie);this._cache.reset()},J.prototype.tilesIn=function(ie,xe,ze){var je=this,st=[],mt=this.transform;if(!mt)return st;for(var Bt=ze?mt.getCameraQueryGeometry(ie):ie,Jt=ie.map(function(Zn){return mt.pointCoordinate(Zn)}),ur=Bt.map(function(Zn){return mt.pointCoordinate(Zn)}),yr=this.getIds(),Ir=1/0,Wr=1/0,Gr=-1/0,Hr=-1/0,Qr=0,sn=ur;Qr<sn.length;Qr+=1){var Sn=sn[Qr];Ir=Math.min(Ir,Sn.x),Wr=Math.min(Wr,Sn.y),Gr=Math.max(Gr,Sn.x),Hr=Math.max(Hr,Sn.y)}for(var Fn=function(Zn){var Yn=je._tiles[yr[Zn]];if(!Yn.holdingForFade()){var ri=Yn.tileID,fi=Math.pow(2,mt.zoom-Yn.tileID.overscaledZ),ui=xe*Yn.queryPadding*n.EXTENT/Yn.tileSize/fi,pi=[ri.getTilePoint(new n.MercatorCoordinate(Ir,Wr)),ri.getTilePoint(new n.MercatorCoordinate(Gr,Hr))];if(pi[0].x-ui<n.EXTENT&&pi[0].y-ui<n.EXTENT&&pi[1].x+ui>=0&&pi[1].y+ui>=0){var wi=Jt.map(function(Hi){return ri.getTilePoint(Hi)}),_i=ur.map(function(Hi){return ri.getTilePoint(Hi)});st.push({tile:Yn,tileID:ri,queryGeometry:wi,cameraQueryGeometry:_i,scale:fi})}}},Gn=0;Gn<yr.length;Gn++)Fn(Gn);return st},J.prototype.getVisibleCoordinates=function(ie){for(var xe=this,ze=this.getRenderableIds(ie).map(function(Bt){return xe._tiles[Bt].tileID}),je=0,st=ze;je<st.length;je+=1){var mt=st[je];mt.posMatrix=this.transform.calculatePosMatrix(mt.toUnwrapped())}return ze},J.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if($t(this._source.type))for(var ie in this._tiles){var xe=this._tiles[ie];if(xe.fadeEndTime!==void 0&&xe.fadeEndTime>=n.browser.now())return!0}return!1},J.prototype.setFeatureState=function(ie,xe,ze){ie=ie||"_geojsonTileLayer",this._state.updateState(ie,xe,ze)},J.prototype.removeFeatureState=function(ie,xe,ze){ie=ie||"_geojsonTileLayer",this._state.removeFeatureState(ie,xe,ze)},J.prototype.getFeatureState=function(ie,xe){return ie=ie||"_geojsonTileLayer",this._state.getState(ie,xe)},J.prototype.setDependencies=function(ie,xe,ze){var je=this._tiles[ie];je&&je.setDependencies(xe,ze)},J.prototype.reloadTilesForDependencies=function(ie,xe){for(var ze in this._tiles){var je=this._tiles[ze];je.hasDependency(ie,xe)&&this._reloadTile(ze,"reloading")}this._cache.filter(function(st){return!st.hasDependency(ie,xe)})},J}(n.Evented);Ft.maxOverzooming=10,Ft.maxUnderzooming=3;function Ht(ge,J){var me=Math.abs(ge.wrap*2)-+(ge.wrap<0),ie=Math.abs(J.wrap*2)-+(J.wrap<0);return ge.overscaledZ-J.overscaledZ||ie-me||J.canonical.y-ge.canonical.y||J.canonical.x-ge.canonical.x}function $t(ge){return ge==="raster"||ge==="image"||ge==="video"}function Qt(){return new n.window.Worker(ng.workerUrl)}var or="mapboxgl_preloaded_worker_pool",Er=function(){this.active={}};Er.prototype.acquire=function(J){if(!this.workers)for(this.workers=[];this.workers.length<Er.workerCount;)this.workers.push(new Qt);return this.active[J]=!0,this.workers.slice()},Er.prototype.release=function(J){delete this.active[J],this.numActive()===0&&(this.workers.forEach(function(me){me.terminate()}),this.workers=null)},Er.prototype.isPreloaded=function(){return!!this.active[or]},Er.prototype.numActive=function(){return Object.keys(this.active).length};var Ze=Math.floor(n.browser.hardwareConcurrency/2);Er.workerCount=Math.max(Math.min(Ze,6),1);var Ye;function Dt(){return Ye||(Ye=new Er),Ye}function It(){var ge=Dt();ge.acquire(or)}function Zt(){var ge=Ye;ge&&(ge.isPreloaded()&&ge.numActive()===1?(ge.release(or),Ye=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function nr(ge,J){var me={};for(var ie in ge)ie!=="ref"&&(me[ie]=ge[ie]);return n.refProperties.forEach(function(xe){xe in J&&(me[xe]=J[xe])}),me}function lr(ge){ge=ge.slice();for(var J=Object.create(null),me=0;me<ge.length;me++)J[ge[me].id]=ge[me];for(var ie=0;ie<ge.length;ie++)"ref"in ge[ie]&&(ge[ie]=nr(ge[ie],J[ge[ie].ref]));return ge}function rr(){var ge={},J=n.styleSpec.$version;for(var me in n.styleSpec.$root){var ie=n.styleSpec.$root[me];if(ie.required){var xe=null;me==="version"?xe=J:ie.type==="array"?xe=[]:xe={},xe!=null&&(ge[me]=xe)}}return ge}var zt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function fr(ge,J,me){me.push({command:zt.addSource,args:[ge,J[ge]]})}function dr(ge,J,me){J.push({command:zt.removeSource,args:[ge]}),me[ge]=!0}function pr(ge,J,me,ie){dr(ge,me,ie),fr(ge,J,me)}function vr(ge,J,me){var ie;for(ie in ge[me])if(ge[me].hasOwnProperty(ie)&&ie!=="data"&&!n.deepEqual(ge[me][ie],J[me][ie]))return!1;for(ie in J[me])if(J[me].hasOwnProperty(ie)&&ie!=="data"&&!n.deepEqual(ge[me][ie],J[me][ie]))return!1;return!0}function Vr(ge,J,me,ie){ge=ge||{},J=J||{};var xe;for(xe in ge)ge.hasOwnProperty(xe)&&(J.hasOwnProperty(xe)||dr(xe,me,ie));for(xe in J)J.hasOwnProperty(xe)&&(ge.hasOwnProperty(xe)?n.deepEqual(ge[xe],J[xe])||(ge[xe].type==="geojson"&&J[xe].type==="geojson"&&vr(ge,J,xe)?me.push({command:zt.setGeoJSONSourceData,args:[xe,J[xe].data]}):pr(xe,J,me,ie)):fr(xe,J,me))}function _r(ge,J,me,ie,xe,ze){ge=ge||{},J=J||{};var je;for(je in ge)ge.hasOwnProperty(je)&&(n.deepEqual(ge[je],J[je])||me.push({command:ze,args:[ie,je,J[je],xe]}));for(je in J)!J.hasOwnProperty(je)||ge.hasOwnProperty(je)||n.deepEqual(ge[je],J[je])||me.push({command:ze,args:[ie,je,J[je],xe]})}function kr(ge){return ge.id}function pn(ge,J){return ge[J.id]=J,ge}function Xr(ge,J,me){ge=ge||[],J=J||[];var ie=ge.map(kr),xe=J.map(kr),ze=ge.reduce(pn,{}),je=J.reduce(pn,{}),st=ie.slice(),mt=Object.create(null),Bt,Jt,ur,yr,Ir,Wr,Gr;for(Bt=0,Jt=0;Bt<ie.length;Bt++)ur=ie[Bt],je.hasOwnProperty(ur)?Jt++:(me.push({command:zt.removeLayer,args:[ur]}),st.splice(st.indexOf(ur,Jt),1));for(Bt=0,Jt=0;Bt<xe.length;Bt++)ur=xe[xe.length-1-Bt],st[st.length-1-Bt]!==ur&&(ze.hasOwnProperty(ur)?(me.push({command:zt.removeLayer,args:[ur]}),st.splice(st.lastIndexOf(ur,st.length-Jt),1)):Jt++,Wr=st[st.length-Bt],me.push({command:zt.addLayer,args:[je[ur],Wr]}),st.splice(st.length-Bt,0,ur),mt[ur]=!0);for(Bt=0;Bt<xe.length;Bt++)if(ur=xe[Bt],yr=ze[ur],Ir=je[ur],!(mt[ur]||n.deepEqual(yr,Ir))){if(!n.deepEqual(yr.source,Ir.source)||!n.deepEqual(yr["source-layer"],Ir["source-layer"])||!n.deepEqual(yr.type,Ir.type)){me.push({command:zt.removeLayer,args:[ur]}),Wr=st[st.lastIndexOf(ur)+1],me.push({command:zt.addLayer,args:[Ir,Wr]});continue}_r(yr.layout,Ir.layout,me,ur,null,zt.setLayoutProperty),_r(yr.paint,Ir.paint,me,ur,null,zt.setPaintProperty),n.deepEqual(yr.filter,Ir.filter)||me.push({command:zt.setFilter,args:[ur,Ir.filter]}),(!n.deepEqual(yr.minzoom,Ir.minzoom)||!n.deepEqual(yr.maxzoom,Ir.maxzoom))&&me.push({command:zt.setLayerZoomRange,args:[ur,Ir.minzoom,Ir.maxzoom]});for(Gr in yr)yr.hasOwnProperty(Gr)&&(Gr==="layout"||Gr==="paint"||Gr==="filter"||Gr==="metadata"||Gr==="minzoom"||Gr==="maxzoom"||(Gr.indexOf("paint.")===0?_r(yr[Gr],Ir[Gr],me,ur,Gr.slice(6),zt.setPaintProperty):n.deepEqual(yr[Gr],Ir[Gr])||me.push({command:zt.setLayerProperty,args:[ur,Gr,Ir[Gr]]})));for(Gr in Ir)!Ir.hasOwnProperty(Gr)||yr.hasOwnProperty(Gr)||Gr==="layout"||Gr==="paint"||Gr==="filter"||Gr==="metadata"||Gr==="minzoom"||Gr==="maxzoom"||(Gr.indexOf("paint.")===0?_r(yr[Gr],Ir[Gr],me,ur,Gr.slice(6),zt.setPaintProperty):n.deepEqual(yr[Gr],Ir[Gr])||me.push({command:zt.setLayerProperty,args:[ur,Gr,Ir[Gr]]}))}}function _n(ge,J){if(!ge)return[{command:zt.setStyle,args:[J]}];var me=[];try{if(!n.deepEqual(ge.version,J.version))return[{command:zt.setStyle,args:[J]}];n.deepEqual(ge.center,J.center)||me.push({command:zt.setCenter,args:[J.center]}),n.deepEqual(ge.zoom,J.zoom)||me.push({command:zt.setZoom,args:[J.zoom]}),n.deepEqual(ge.bearing,J.bearing)||me.push({command:zt.setBearing,args:[J.bearing]}),n.deepEqual(ge.pitch,J.pitch)||me.push({command:zt.setPitch,args:[J.pitch]}),n.deepEqual(ge.sprite,J.sprite)||me.push({command:zt.setSprite,args:[J.sprite]}),n.deepEqual(ge.glyphs,J.glyphs)||me.push({command:zt.setGlyphs,args:[J.glyphs]}),n.deepEqual(ge.transition,J.transition)||me.push({command:zt.setTransition,args:[J.transition]}),n.deepEqual(ge.light,J.light)||me.push({command:zt.setLight,args:[J.light]});var ie={},xe=[];Vr(ge.sources,J.sources,xe,ie);var ze=[];ge.layers&&ge.layers.forEach(function(je){ie[je.source]?me.push({command:zt.removeLayer,args:[je.id]}):ze.push(je)}),me=me.concat(xe),Xr(ze,J.layers,me)}catch(je){console.warn("Unable to compute style diff:",je),me=[{command:zt.setStyle,args:[J]}]}return me}var Dn=function(J,me){this.reset(J,me)};Dn.prototype.reset=function(J,me){this.points=J||[],this._distances=[0];for(var ie=1;ie<this.points.length;ie++)this._distances[ie]=this._distances[ie-1]+this.points[ie].dist(this.points[ie-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(me||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Dn.prototype.lerp=function(J){if(this.points.length===1)return this.points[0];J=n.clamp(J,0,1);for(var me=1,ie=this._distances[me],xe=J*this.paddedLength+this.padding;ie<xe&&me<this._distances.length;)ie=this._distances[++me];var ze=me-1,je=this._distances[ze],st=ie-je,mt=st>0?(xe-je)/st:0;return this.points[ze].mult(1-mt).add(this.points[me].mult(mt))};var xr=function(J,me,ie){var xe=this.boxCells=[],ze=this.circleCells=[];this.xCellCount=Math.ceil(J/ie),this.yCellCount=Math.ceil(me/ie);for(var je=0;je<this.xCellCount*this.yCellCount;je++)xe.push([]),ze.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=J,this.height=me,this.xScale=this.xCellCount/J,this.yScale=this.yCellCount/me,this.boxUid=0,this.circleUid=0};xr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},xr.prototype.insert=function(J,me,ie,xe,ze){this._forEachCell(me,ie,xe,ze,this._insertBoxCell,this.boxUid++),this.boxKeys.push(J),this.bboxes.push(me),this.bboxes.push(ie),this.bboxes.push(xe),this.bboxes.push(ze)},xr.prototype.insertCircle=function(J,me,ie,xe){this._forEachCell(me-xe,ie-xe,me+xe,ie+xe,this._insertCircleCell,this.circleUid++),this.circleKeys.push(J),this.circles.push(me),this.circles.push(ie),this.circles.push(xe)},xr.prototype._insertBoxCell=function(J,me,ie,xe,ze,je){this.boxCells[ze].push(je)},xr.prototype._insertCircleCell=function(J,me,ie,xe,ze,je){this.circleCells[ze].push(je)},xr.prototype._query=function(J,me,ie,xe,ze,je){if(ie<0||J>this.width||xe<0||me>this.height)return ze?!1:[];var st=[];if(J<=0&&me<=0&&this.width<=ie&&this.height<=xe){if(ze)return!0;for(var mt=0;mt<this.boxKeys.length;mt++)st.push({key:this.boxKeys[mt],x1:this.bboxes[mt*4],y1:this.bboxes[mt*4+1],x2:this.bboxes[mt*4+2],y2:this.bboxes[mt*4+3]});for(var Bt=0;Bt<this.circleKeys.length;Bt++){var Jt=this.circles[Bt*3],ur=this.circles[Bt*3+1],yr=this.circles[Bt*3+2];st.push({key:this.circleKeys[Bt],x1:Jt-yr,y1:ur-yr,x2:Jt+yr,y2:ur+yr})}return je?st.filter(je):st}else{var Ir={hitTest:ze,seenUids:{box:{},circle:{}}};return this._forEachCell(J,me,ie,xe,this._queryCell,st,Ir,je),ze?st.length>0:st}},xr.prototype._queryCircle=function(J,me,ie,xe,ze){var je=J-ie,st=J+ie,mt=me-ie,Bt=me+ie;if(st<0||je>this.width||Bt<0||mt>this.height)return xe?!1:[];var Jt=[],ur={hitTest:xe,circle:{x:J,y:me,radius:ie},seenUids:{box:{},circle:{}}};return this._forEachCell(je,mt,st,Bt,this._queryCellCircle,Jt,ur,ze),xe?Jt.length>0:Jt},xr.prototype.query=function(J,me,ie,xe,ze){return this._query(J,me,ie,xe,!1,ze)},xr.prototype.hitTest=function(J,me,ie,xe,ze){return this._query(J,me,ie,xe,!0,ze)},xr.prototype.hitTestCircle=function(J,me,ie,xe){return this._queryCircle(J,me,ie,!0,xe)},xr.prototype._queryCell=function(J,me,ie,xe,ze,je,st,mt){var Bt=st.seenUids,Jt=this.boxCells[ze];if(Jt!==null)for(var ur=this.bboxes,yr=0,Ir=Jt;yr<Ir.length;yr+=1){var Wr=Ir[yr];if(!Bt.box[Wr]){Bt.box[Wr]=!0;var Gr=Wr*4;if(J<=ur[Gr+2]&&me<=ur[Gr+3]&&ie>=ur[Gr+0]&&xe>=ur[Gr+1]&&(!mt||mt(this.boxKeys[Wr]))){if(st.hitTest)return je.push(!0),!0;je.push({key:this.boxKeys[Wr],x1:ur[Gr],y1:ur[Gr+1],x2:ur[Gr+2],y2:ur[Gr+3]})}}}var Hr=this.circleCells[ze];if(Hr!==null)for(var Qr=this.circles,sn=0,Sn=Hr;sn<Sn.length;sn+=1){var Fn=Sn[sn];if(!Bt.circle[Fn]){Bt.circle[Fn]=!0;var Gn=Fn*3;if(this._circleAndRectCollide(Qr[Gn],Qr[Gn+1],Qr[Gn+2],J,me,ie,xe)&&(!mt||mt(this.circleKeys[Fn]))){if(st.hitTest)return je.push(!0),!0;var Zn=Qr[Gn],Yn=Qr[Gn+1],ri=Qr[Gn+2];je.push({key:this.circleKeys[Fn],x1:Zn-ri,y1:Yn-ri,x2:Zn+ri,y2:Yn+ri})}}}},xr.prototype._queryCellCircle=function(J,me,ie,xe,ze,je,st,mt){var Bt=st.circle,Jt=st.seenUids,ur=this.boxCells[ze];if(ur!==null)for(var yr=this.bboxes,Ir=0,Wr=ur;Ir<Wr.length;Ir+=1){var Gr=Wr[Ir];if(!Jt.box[Gr]){Jt.box[Gr]=!0;var Hr=Gr*4;if(this._circleAndRectCollide(Bt.x,Bt.y,Bt.radius,yr[Hr+0],yr[Hr+1],yr[Hr+2],yr[Hr+3])&&(!mt||mt(this.boxKeys[Gr])))return je.push(!0),!0}}var Qr=this.circleCells[ze];if(Qr!==null)for(var sn=this.circles,Sn=0,Fn=Qr;Sn<Fn.length;Sn+=1){var Gn=Fn[Sn];if(!Jt.circle[Gn]){Jt.circle[Gn]=!0;var Zn=Gn*3;if(this._circlesCollide(sn[Zn],sn[Zn+1],sn[Zn+2],Bt.x,Bt.y,Bt.radius)&&(!mt||mt(this.circleKeys[Gn])))return je.push(!0),!0}}},xr.prototype._forEachCell=function(J,me,ie,xe,ze,je,st,mt){for(var Bt=this._convertToXCellCoord(J),Jt=this._convertToYCellCoord(me),ur=this._convertToXCellCoord(ie),yr=this._convertToYCellCoord(xe),Ir=Bt;Ir<=ur;Ir++)for(var Wr=Jt;Wr<=yr;Wr++){var Gr=this.xCellCount*Wr+Ir;if(ze.call(this,J,me,ie,xe,Gr,je,st,mt))return}},xr.prototype._convertToXCellCoord=function(J){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(J*this.xScale)))},xr.prototype._convertToYCellCoord=function(J){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(J*this.yScale)))},xr.prototype._circlesCollide=function(J,me,ie,xe,ze,je){var st=xe-J,mt=ze-me,Bt=ie+je;return Bt*Bt>st*st+mt*mt},xr.prototype._circleAndRectCollide=function(J,me,ie,xe,ze,je,st){var mt=(je-xe)/2,Bt=Math.abs(J-(xe+mt));if(Bt>mt+ie)return!1;var Jt=(st-ze)/2,ur=Math.abs(me-(ze+Jt));if(ur>Jt+ie)return!1;if(Bt<=mt||ur<=Jt)return!0;var yr=Bt-mt,Ir=ur-Jt;return yr*yr+Ir*Ir<=ie*ie};function Ar(ge,J,me,ie,xe){var ze=n.create();return J?(n.scale(ze,ze,[1/xe,1/xe,1]),me||n.rotateZ(ze,ze,ie.angle)):n.multiply(ze,ie.labelPlaneMatrix,ge),ze}function Or(ge,J,me,ie,xe){if(J){var ze=n.clone(ge);return n.scale(ze,ze,[xe,xe,1]),me||n.rotateZ(ze,ze,-ie.angle),ze}else return ie.glCoordMatrix}function Br(ge,J){var me=[ge.x,ge.y,0,1];Mr(me,me,J);var ie=me[3];return{point:new n.Point(me[0]/ie,me[1]/ie),signedDistanceFromCamera:ie}}function qr(ge,J){return .5+.5*(ge/J)}function vn(ge,J){var me=ge[0]/ge[3],ie=ge[1]/ge[3],xe=me>=-J[0]&&me<=J[0]&&ie>=-J[1]&&ie<=J[1];return xe}function fn(ge,J,me,ie,xe,ze,je,st){var mt=ie?ge.textSizeData:ge.iconSizeData,Bt=n.evaluateSizeForZoom(mt,me.transform.zoom),Jt=[256/me.width*2+1,256/me.height*2+1],ur=ie?ge.text.dynamicLayoutVertexArray:ge.icon.dynamicLayoutVertexArray;ur.clear();for(var yr=ge.lineVertexArray,Ir=ie?ge.text.placedSymbolArray:ge.icon.placedSymbolArray,Wr=me.transform.width/me.transform.height,Gr=!1,Hr=0;Hr<Ir.length;Hr++){var Qr=Ir.get(Hr);if(Qr.hidden||Qr.writingMode===n.WritingMode.vertical&&!Gr){ei(Qr.numGlyphs,ur);continue}Gr=!1;var sn=[Qr.anchorX,Qr.anchorY,0,1];if(n.transformMat4(sn,sn,J),!vn(sn,Jt)){ei(Qr.numGlyphs,ur);continue}var Sn=sn[3],Fn=qr(me.transform.cameraToCenterDistance,Sn),Gn=n.evaluateSizeForFeature(mt,Bt,Qr),Zn=je?Gn/Fn:Gn*Fn,Yn=new n.Point(Qr.anchorX,Qr.anchorY),ri=Br(Yn,xe).point,fi={},ui=jn(Qr,Zn,!1,st,J,xe,ze,ge.glyphOffsetArray,yr,ur,ri,Yn,fi,Wr);Gr=ui.useVertical,(ui.notEnoughRoom||Gr||ui.needsFlipping&&jn(Qr,Zn,!0,st,J,xe,ze,ge.glyphOffsetArray,yr,ur,ri,Yn,fi,Wr).notEnoughRoom)&&ei(Qr.numGlyphs,ur)}ie?ge.text.dynamicLayoutVertexBuffer.updateData(ur):ge.icon.dynamicLayoutVertexBuffer.updateData(ur)}function Tn(ge,J,me,ie,xe,ze,je,st,mt,Bt,Jt){var ur=st.glyphStartIndex+st.numGlyphs,yr=st.lineStartIndex,Ir=st.lineStartIndex+st.lineLength,Wr=J.getoffsetX(st.glyphStartIndex),Gr=J.getoffsetX(ur-1),Hr=si(ge*Wr,me,ie,xe,ze,je,st.segment,yr,Ir,mt,Bt,Jt);if(!Hr)return null;var Qr=si(ge*Gr,me,ie,xe,ze,je,st.segment,yr,Ir,mt,Bt,Jt);return Qr?{first:Hr,last:Qr}:null}function Pn(ge,J,me,ie){if(ge===n.WritingMode.horizontal){var xe=Math.abs(me.y-J.y),ze=Math.abs(me.x-J.x)*ie;if(xe>ze)return{useVertical:!0}}return(ge===n.WritingMode.vertical?J.y<me.y:J.x>me.x)?{needsFlipping:!0}:null}function jn(ge,J,me,ie,xe,ze,je,st,mt,Bt,Jt,ur,yr,Ir){var Wr=J/24,Gr=ge.lineOffsetX*Wr,Hr=ge.lineOffsetY*Wr,Qr;if(ge.numGlyphs>1){var sn=ge.glyphStartIndex+ge.numGlyphs,Sn=ge.lineStartIndex,Fn=ge.lineStartIndex+ge.lineLength,Gn=Tn(Wr,st,Gr,Hr,me,Jt,ur,ge,mt,ze,yr);if(!Gn)return{notEnoughRoom:!0};var Zn=Br(Gn.first.point,je).point,Yn=Br(Gn.last.point,je).point;if(ie&&!me){var ri=Pn(ge.writingMode,Zn,Yn,Ir);if(ri)return ri}Qr=[Gn.first];for(var fi=ge.glyphStartIndex+1;fi<sn-1;fi++)Qr.push(si(Wr*st.getoffsetX(fi),Gr,Hr,me,Jt,ur,ge.segment,Sn,Fn,mt,ze,yr));Qr.push(Gn.last)}else{if(ie&&!me){var ui=Br(ur,xe).point,pi=ge.lineStartIndex+ge.segment+1,wi=new n.Point(mt.getx(pi),mt.gety(pi)),_i=Br(wi,xe),Hi=_i.signedDistanceFromCamera>0?_i.point:qn(ur,wi,ui,1,xe),sa=Pn(ge.writingMode,ui,Hi,Ir);if(sa)return sa}var Wi=si(Wr*st.getoffsetX(ge.glyphStartIndex),Gr,Hr,me,Jt,ur,ge.segment,ge.lineStartIndex,ge.lineStartIndex+ge.lineLength,mt,ze,yr);if(!Wi)return{notEnoughRoom:!0};Qr=[Wi]}for(var Ki=0,Li=Qr;Ki<Li.length;Ki+=1){var la=Li[Ki];n.addDynamicAttributes(Bt,la.point,la.angle)}return{}}function qn(ge,J,me,ie,xe){var ze=Br(ge.add(ge.sub(J)._unit()),xe).point,je=me.sub(ze);return me.add(je._mult(ie/je.mag()))}function si(ge,J,me,ie,xe,ze,je,st,mt,Bt,Jt,ur){var yr=ie?ge-J:ge+J,Ir=yr>0?1:-1,Wr=0;ie&&(Ir*=-1,Wr=Math.PI),Ir<0&&(Wr+=Math.PI);for(var Gr=Ir>0?st+je:st+je+1,Hr=xe,Qr=xe,sn=0,Sn=0,Fn=Math.abs(yr),Gn=[];sn+Sn<=Fn;){if(Gr+=Ir,Gr<st||Gr>=mt)return null;if(Qr=Hr,Gn.push(Hr),Hr=ur[Gr],Hr===void 0){var Zn=new n.Point(Bt.getx(Gr),Bt.gety(Gr)),Yn=Br(Zn,Jt);if(Yn.signedDistanceFromCamera>0)Hr=ur[Gr]=Yn.point;else{var ri=Gr-Ir,fi=sn===0?ze:new n.Point(Bt.getx(ri),Bt.gety(ri));Hr=qn(fi,Zn,Qr,Fn-sn+1,Jt)}}sn+=Sn,Sn=Qr.dist(Hr)}var ui=(Fn-sn)/Sn,pi=Hr.sub(Qr),wi=pi.mult(ui)._add(Qr);wi._add(pi._unit()._perp()._mult(me*Ir));var _i=Wr+Math.atan2(Hr.y-Qr.y,Hr.x-Qr.x);return Gn.push(wi),{point:wi,angle:_i,path:Gn}}var ti=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ei(ge,J){for(var me=0;me<ge;me++){var ie=J.length;J.resize(ie+4),J.float32.set(ti,ie*3)}}function Mr(ge,J,me){var ie=J[0],xe=J[1];return ge[0]=me[0]*ie+me[4]*xe+me[12],ge[1]=me[1]*ie+me[5]*xe+me[13],ge[3]=me[3]*ie+me[7]*xe+me[15],ge}var on=100,nn=function(J,me,ie){me===void 0&&(me=new xr(J.width+2*on,J.height+2*on,25)),ie===void 0&&(ie=new xr(J.width+2*on,J.height+2*on,25)),this.transform=J,this.grid=me,this.ignoredGrid=ie,this.pitchfactor=Math.cos(J._pitch)*J.cameraToCenterDistance,this.screenRightBoundary=J.width+on,this.screenBottomBoundary=J.height+on,this.gridRightBoundary=J.width+2*on,this.gridBottomBoundary=J.height+2*on};nn.prototype.placeCollisionBox=function(J,me,ie,xe,ze){var je=this.projectAndGetPerspectiveRatio(xe,J.anchorPointX,J.anchorPointY),st=ie*je.perspectiveRatio,mt=J.x1*st+je.point.x,Bt=J.y1*st+je.point.y,Jt=J.x2*st+je.point.x,ur=J.y2*st+je.point.y;return!this.isInsideGrid(mt,Bt,Jt,ur)||!me&&this.grid.hitTest(mt,Bt,Jt,ur,ze)?{box:[],offscreen:!1}:{box:[mt,Bt,Jt,ur],offscreen:this.isOffscreen(mt,Bt,Jt,ur)}},nn.prototype.placeCollisionCircles=function(J,me,ie,xe,ze,je,st,mt,Bt,Jt,ur,yr,Ir){var Wr=[],Gr=new n.Point(me.anchorX,me.anchorY),Hr=Br(Gr,je),Qr=qr(this.transform.cameraToCenterDistance,Hr.signedDistanceFromCamera),sn=Jt?ze/Qr:ze*Qr,Sn=sn/n.ONE_EM,Fn=Br(Gr,st).point,Gn={},Zn=me.lineOffsetX*Sn,Yn=me.lineOffsetY*Sn,ri=Tn(Sn,xe,Zn,Yn,!1,Fn,Gr,me,ie,st,Gn),fi=!1,ui=!1,pi=!0;if(ri){for(var wi=yr*.5*Qr+Ir,_i=new n.Point(-on,-on),Hi=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),sa=new Dn,Wi=ri.first,Ki=ri.last,Li=[],la=Wi.path.length-1;la>=1;la--)Li.push(Wi.path[la]);for(var ha=1;ha<Ki.path.length;ha++)Li.push(Ki.path[ha]);var da=wi*2.5;if(mt){var Qi=Li.map(function(fu){return Br(fu,mt)});Qi.some(function(fu){return fu.signedDistanceFromCamera<=0})?Li=[]:Li=Qi.map(function(fu){return fu.point})}var Sa=[];if(Li.length>0){for(var Vi=Li[0].clone(),qi=Li[0].clone(),ja=1;ja<Li.length;ja++)Vi.x=Math.min(Vi.x,Li[ja].x),Vi.y=Math.min(Vi.y,Li[ja].y),qi.x=Math.max(qi.x,Li[ja].x),qi.y=Math.max(qi.y,Li[ja].y);Vi.x>=_i.x&&qi.x<=Hi.x&&Vi.y>=_i.y&&qi.y<=Hi.y?Sa=[Li]:qi.x<_i.x||Vi.x>Hi.x||qi.y<_i.y||Vi.y>Hi.y?Sa=[]:Sa=n.clipLine([Li],_i.x,_i.y,Hi.x,Hi.y)}for(var fo=0,cl=Sa;fo<cl.length;fo+=1){var hl=cl[fo];sa.reset(hl,wi*.25);var ou=0;sa.length<=.5*wi?ou=1:ou=Math.ceil(sa.paddedLength/da)+1;for(var su=0;su<ou;su++){var Uu=su/Math.max(ou-1,1),lu=sa.lerp(Uu),vs=lu.x+on,wf=lu.y+on;Wr.push(vs,wf,wi,0);var Zo=vs-wi,Ks=wf-wi,uu=vs+wi,zl=wf+wi;if(pi=pi&&this.isOffscreen(Zo,Ks,uu,zl),ui=ui||this.isInsideGrid(Zo,Ks,uu,zl),!J&&this.grid.hitTestCircle(vs,wf,wi,ur)&&(fi=!0,!Bt))return{circles:[],offscreen:!1,collisionDetected:fi}}}}return{circles:!Bt&&fi||!ui?[]:Wr,offscreen:pi,collisionDetected:fi}},nn.prototype.queryRenderedSymbols=function(J){if(J.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var me=[],ie=1/0,xe=1/0,ze=-1/0,je=-1/0,st=0,mt=J;st<mt.length;st+=1){var Bt=mt[st],Jt=new n.Point(Bt.x+on,Bt.y+on);ie=Math.min(ie,Jt.x),xe=Math.min(xe,Jt.y),ze=Math.max(ze,Jt.x),je=Math.max(je,Jt.y),me.push(Jt)}for(var ur=this.grid.query(ie,xe,ze,je).concat(this.ignoredGrid.query(ie,xe,ze,je)),yr={},Ir={},Wr=0,Gr=ur;Wr<Gr.length;Wr+=1){var Hr=Gr[Wr],Qr=Hr.key;if(yr[Qr.bucketInstanceId]===void 0&&(yr[Qr.bucketInstanceId]={}),!yr[Qr.bucketInstanceId][Qr.featureIndex]){var sn=[new n.Point(Hr.x1,Hr.y1),new n.Point(Hr.x2,Hr.y1),new n.Point(Hr.x2,Hr.y2),new n.Point(Hr.x1,Hr.y2)];n.polygonIntersectsPolygon(me,sn)&&(yr[Qr.bucketInstanceId][Qr.featureIndex]=!0,Ir[Qr.bucketInstanceId]===void 0&&(Ir[Qr.bucketInstanceId]=[]),Ir[Qr.bucketInstanceId].push(Qr.featureIndex))}}return Ir},nn.prototype.insertCollisionBox=function(J,me,ie,xe,ze){var je=me?this.ignoredGrid:this.grid,st={bucketInstanceId:ie,featureIndex:xe,collisionGroupID:ze};je.insert(st,J[0],J[1],J[2],J[3])},nn.prototype.insertCollisionCircles=function(J,me,ie,xe,ze){for(var je=me?this.ignoredGrid:this.grid,st={bucketInstanceId:ie,featureIndex:xe,collisionGroupID:ze},mt=0;mt<J.length;mt+=4)je.insertCircle(st,J[mt],J[mt+1],J[mt+2])},nn.prototype.projectAndGetPerspectiveRatio=function(J,me,ie){var xe=[me,ie,0,1];Mr(xe,xe,J);var ze=new n.Point((xe[0]/xe[3]+1)/2*this.transform.width+on,(-xe[1]/xe[3]+1)/2*this.transform.height+on);return{point:ze,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/xe[3])}},nn.prototype.isOffscreen=function(J,me,ie,xe){return ie<on||J>=this.screenRightBoundary||xe<on||me>this.screenBottomBoundary},nn.prototype.isInsideGrid=function(J,me,ie,xe){return ie>=0&&J<this.gridRightBoundary&&xe>=0&&me<this.gridBottomBoundary},nn.prototype.getViewportMatrix=function(){var J=n.identity([]);return n.translate(J,J,[-on,-on,0]),J};function gn(ge,J,me){return J*(n.EXTENT/(ge.tileSize*Math.pow(2,me-ge.tileID.overscaledZ)))}var Nn=function(J,me,ie,xe){J?this.opacity=Math.max(0,Math.min(1,J.opacity+(J.placed?me:-me))):this.opacity=xe&&ie?1:0,this.placed=ie};Nn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var En=function(J,me,ie,xe,ze){this.text=new Nn(J?J.text:null,me,ie,ze),this.icon=new Nn(J?J.icon:null,me,xe,ze)};En.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Cn=function(J,me,ie){this.text=J,this.icon=me,this.skipFade=ie},Hn=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},ii=function(J,me,ie,xe,ze){this.bucketInstanceId=J,this.featureIndex=me,this.sourceLayerIndex=ie,this.bucketIndex=xe,this.tileID=ze},Pi=function(J){this.crossSourceCollisions=J,this.maxGroupID=0,this.collisionGroups={}};Pi.prototype.get=function(J){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[J]){var me=++this.maxGroupID;this.collisionGroups[J]={ID:me,predicate:function(ie){return ie.collisionGroupID===me}}}return this.collisionGroups[J]};function ji(ge,J,me,ie,xe){var ze=n.getAnchorAlignment(ge),je=ze.horizontalAlign,st=ze.verticalAlign,mt=-(je-.5)*J,Bt=-(st-.5)*me,Jt=n.evaluateVariableOffset(ge,ie);return new n.Point(mt+Jt[0]*xe,Bt+Jt[1]*xe)}function jt(ge,J,me,ie,xe,ze){var je=ge.x1,st=ge.x2,mt=ge.y1,Bt=ge.y2,Jt=ge.anchorPointX,ur=ge.anchorPointY,yr=new n.Point(J,me);return ie&&yr._rotate(xe?ze:-ze),{x1:je+yr.x,y1:mt+yr.y,x2:st+yr.x,y2:Bt+yr.y,anchorPointX:Jt,anchorPointY:ur}}var wr=function(J,me,ie,xe){this.transform=J.clone(),this.collisionIndex=new nn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=me,this.retainedQueryData={},this.collisionGroups=new Pi(ie),this.collisionCircleArrays={},this.prevPlacement=xe,xe&&(xe.prevPlacement=void 0),this.placedOrientations={}};wr.prototype.getBucketParts=function(J,me,ie,xe){var ze=ie.getBucket(me),je=ie.latestFeatureIndex;if(!(!ze||!je||me.id!==ze.layerIds[0])){var st=ie.collisionBoxArray,mt=ze.layers[0].layout,Bt=Math.pow(2,this.transform.zoom-ie.tileID.overscaledZ),Jt=ie.tileSize/n.EXTENT,ur=this.transform.calculatePosMatrix(ie.tileID.toUnwrapped()),yr=mt.get("text-pitch-alignment")==="map",Ir=mt.get("text-rotation-alignment")==="map",Wr=gn(ie,1,this.transform.zoom),Gr=Ar(ur,yr,Ir,this.transform,Wr),Hr=null;if(yr){var Qr=Or(ur,yr,Ir,this.transform,Wr);Hr=n.multiply([],this.transform.labelPlaneMatrix,Qr)}this.retainedQueryData[ze.bucketInstanceId]=new ii(ze.bucketInstanceId,je,ze.sourceLayerIndex,ze.index,ie.tileID);var sn={bucket:ze,layout:mt,posMatrix:ur,textLabelPlaneMatrix:Gr,labelToScreenMatrix:Hr,scale:Bt,textPixelRatio:Jt,holdingForFade:ie.holdingForFade(),collisionBoxArray:st,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(ze.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ze.sourceID)};if(xe)for(var Sn=0,Fn=ze.sortKeyRanges;Sn<Fn.length;Sn+=1){var Gn=Fn[Sn],Zn=Gn.sortKey,Yn=Gn.symbolInstanceStart,ri=Gn.symbolInstanceEnd;J.push({sortKey:Zn,symbolInstanceStart:Yn,symbolInstanceEnd:ri,parameters:sn})}else J.push({symbolInstanceStart:0,symbolInstanceEnd:ze.symbolInstances.length,parameters:sn})}},wr.prototype.attemptAnchorPlacement=function(J,me,ie,xe,ze,je,st,mt,Bt,Jt,ur,yr,Ir,Wr,Gr){var Hr=[yr.textOffset0,yr.textOffset1],Qr=ji(J,ie,xe,Hr,ze),sn=this.collisionIndex.placeCollisionBox(jt(me,Qr.x,Qr.y,je,st,this.transform.angle),ur,mt,Bt,Jt.predicate);if(Gr){var Sn=this.collisionIndex.placeCollisionBox(jt(Gr,Qr.x,Qr.y,je,st,this.transform.angle),ur,mt,Bt,Jt.predicate);if(Sn.box.length===0)return}if(sn.box.length>0){var Fn;return this.prevPlacement&&this.prevPlacement.variableOffsets[yr.crossTileID]&&this.prevPlacement.placements[yr.crossTileID]&&this.prevPlacement.placements[yr.crossTileID].text&&(Fn=this.prevPlacement.variableOffsets[yr.crossTileID].anchor),this.variableOffsets[yr.crossTileID]={textOffset:Hr,width:ie,height:xe,anchor:J,textBoxScale:ze,prevAnchor:Fn},this.markUsedJustification(Ir,J,yr,Wr),Ir.allowVerticalPlacement&&(this.markUsedOrientation(Ir,Wr,yr),this.placedOrientations[yr.crossTileID]=Wr),{shift:Qr,placedGlyphBoxes:sn}}},wr.prototype.placeLayerBucketPart=function(J,me,ie){var xe=this,ze=J.parameters,je=ze.bucket,st=ze.layout,mt=ze.posMatrix,Bt=ze.textLabelPlaneMatrix,Jt=ze.labelToScreenMatrix,ur=ze.textPixelRatio,yr=ze.holdingForFade,Ir=ze.collisionBoxArray,Wr=ze.partiallyEvaluatedTextSize,Gr=ze.collisionGroup,Hr=st.get("text-optional"),Qr=st.get("icon-optional"),sn=st.get("text-allow-overlap"),Sn=st.get("icon-allow-overlap"),Fn=st.get("text-rotation-alignment")==="map",Gn=st.get("text-pitch-alignment")==="map",Zn=st.get("icon-text-fit")!=="none",Yn=st.get("symbol-z-order")==="viewport-y",ri=sn&&(Sn||!je.hasIconData()||Qr),fi=Sn&&(sn||!je.hasTextData()||Hr);!je.collisionArrays&&Ir&&je.deserializeCollisionBoxes(Ir);var ui=function(Wi,Ki){if(!me[Wi.crossTileID]){if(yr){xe.placements[Wi.crossTileID]=new Cn(!1,!1,!1);return}var Li=!1,la=!1,ha=!0,da=null,Qi={box:null,offscreen:null},Sa={box:null,offscreen:null},Vi=null,qi=null,ja=null,fo=0,cl=0,hl=0;Ki.textFeatureIndex?fo=Ki.textFeatureIndex:Wi.useRuntimeCollisionCircles&&(fo=Wi.featureIndex),Ki.verticalTextFeatureIndex&&(cl=Ki.verticalTextFeatureIndex);var ou=Ki.textBox;if(ou){var su=function(Qa){var Ds=n.WritingMode.horizontal;if(je.allowVerticalPlacement&&!Qa&&xe.prevPlacement){var _s=xe.prevPlacement.placedOrientations[Wi.crossTileID];_s&&(xe.placedOrientations[Wi.crossTileID]=_s,Ds=_s,xe.markUsedOrientation(je,Ds,Wi))}return Ds},Uu=function(Qa,Ds){if(je.allowVerticalPlacement&&Wi.numVerticalGlyphVertices>0&&Ki.verticalTextBox)for(var _s=0,jv=je.writingModes;_s<jv.length;_s+=1){var fp=jv[_s];if(fp===n.WritingMode.vertical?(Qi=Ds(),Sa=Qi):Qi=Qa(),Qi&&Qi.box&&Qi.box.length)break}else Qi=Qa()};if(st.get("text-variable-anchor")){var Zo=st.get("text-variable-anchor");if(xe.prevPlacement&&xe.prevPlacement.variableOffsets[Wi.crossTileID]){var Ks=xe.prevPlacement.variableOffsets[Wi.crossTileID];Zo.indexOf(Ks.anchor)>0&&(Zo=Zo.filter(function(Qa){return Qa!==Ks.anchor}),Zo.unshift(Ks.anchor))}var uu=function(Qa,Ds,_s){for(var jv=Qa.x2-Qa.x1,fp=Qa.y2-Qa.y1,Zm=Wi.textBoxScale,jm=Zn&&!Sn?Ds:null,lv={box:[],offscreen:!1},Xm=sn?Zo.length*2:Zo.length,Xv=0;Xv<Xm;++Xv){var Km=Zo[Xv%Zo.length],Jm=Xv>=Zo.length,cp=xe.attemptAnchorPlacement(Km,Qa,jv,fp,Zm,Fn,Gn,ur,mt,Gr,Jm,Wi,je,_s,jm);if(cp&&(lv=cp.placedGlyphBoxes,lv&&lv.box&&lv.box.length)){Li=!0,da=cp.shift;break}}return lv},zl=function(){return uu(ou,Ki.iconBox,n.WritingMode.horizontal)},fu=function(){var Qa=Ki.verticalTextBox,Ds=Qi&&Qi.box&&Qi.box.length;return je.allowVerticalPlacement&&!Ds&&Wi.numVerticalGlyphVertices>0&&Qa?uu(Qa,Ki.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}};Uu(zl,fu),Qi&&(Li=Qi.box,ha=Qi.offscreen);var Wv=su(Qi&&Qi.box);if(!Li&&xe.prevPlacement){var nc=xe.prevPlacement.variableOffsets[Wi.crossTileID];nc&&(xe.variableOffsets[Wi.crossTileID]=nc,xe.markUsedJustification(je,nc.anchor,Wi,Wv))}}else{var lu=function(Qa,Ds){var _s=xe.collisionIndex.placeCollisionBox(Qa,sn,ur,mt,Gr.predicate);return _s&&_s.box&&_s.box.length&&(xe.markUsedOrientation(je,Ds,Wi),xe.placedOrientations[Wi.crossTileID]=Ds),_s},vs=function(){return lu(ou,n.WritingMode.horizontal)},wf=function(){var Qa=Ki.verticalTextBox;return je.allowVerticalPlacement&&Wi.numVerticalGlyphVertices>0&&Qa?lu(Qa,n.WritingMode.vertical):{box:null,offscreen:null}};Uu(vs,wf),su(Qi&&Qi.box&&Qi.box.length)}}if(Vi=Qi,Li=Vi&&Vi.box&&Vi.box.length>0,ha=Vi&&Vi.offscreen,Wi.useRuntimeCollisionCircles){var Bo=je.text.placedSymbolArray.get(Wi.centerJustifiedTextSymbolIndex),ov=n.evaluateSizeForFeature(je.textSizeData,Wr,Bo),rs=st.get("text-padding"),sv=Wi.collisionCircleDiameter;qi=xe.collisionIndex.placeCollisionCircles(sn,Bo,je.lineVertexArray,je.glyphOffsetArray,ov,mt,Bt,Jt,ie,Gn,Gr.predicate,sv,rs),Li=sn||qi.circles.length>0&&!qi.collisionDetected,ha=ha&&qi.offscreen}if(Ki.iconFeatureIndex&&(hl=Ki.iconFeatureIndex),Ki.iconBox){var Gv=function(Qa){var Ds=Zn&&da?jt(Qa,da.x,da.y,Fn,Gn,xe.transform.angle):Qa;return xe.collisionIndex.placeCollisionBox(Ds,Sn,ur,mt,Gr.predicate)};Sa&&Sa.box&&Sa.box.length&&Ki.verticalIconBox?(ja=Gv(Ki.verticalIconBox),la=ja.box.length>0):(ja=Gv(Ki.iconBox),la=ja.box.length>0),ha=ha&&ja.offscreen}var Yv=Hr||Wi.numHorizontalGlyphVertices===0&&Wi.numVerticalGlyphVertices===0,ig=Qr||Wi.numIconVertices===0;if(!Yv&&!ig?la=Li=la&&Li:ig?Yv||(la=la&&Li):Li=la&&Li,Li&&Vi&&Vi.box&&(Sa&&Sa.box&&cl?xe.collisionIndex.insertCollisionBox(Vi.box,st.get("text-ignore-placement"),je.bucketInstanceId,cl,Gr.ID):xe.collisionIndex.insertCollisionBox(Vi.box,st.get("text-ignore-placement"),je.bucketInstanceId,fo,Gr.ID)),la&&ja&&xe.collisionIndex.insertCollisionBox(ja.box,st.get("icon-ignore-placement"),je.bucketInstanceId,hl,Gr.ID),qi&&(Li&&xe.collisionIndex.insertCollisionCircles(qi.circles,st.get("text-ignore-placement"),je.bucketInstanceId,fo,Gr.ID),ie)){var Zv=je.bucketInstanceId,Xc=xe.collisionCircleArrays[Zv];Xc===void 0&&(Xc=xe.collisionCircleArrays[Zv]=new Hn);for(var Kc=0;Kc<qi.circles.length;Kc+=4)Xc.circles.push(qi.circles[Kc+0]),Xc.circles.push(qi.circles[Kc+1]),Xc.circles.push(qi.circles[Kc+2]),Xc.circles.push(qi.collisionDetected?1:0)}xe.placements[Wi.crossTileID]=new Cn(Li||ri,la||fi,ha||je.justReloaded),me[Wi.crossTileID]=!0}};if(Yn)for(var pi=je.getSortedSymbolIndexes(this.transform.angle),wi=pi.length-1;wi>=0;--wi){var _i=pi[wi];ui(je.symbolInstances.get(_i),je.collisionArrays[_i])}else for(var Hi=J.symbolInstanceStart;Hi<J.symbolInstanceEnd;Hi++)ui(je.symbolInstances.get(Hi),je.collisionArrays[Hi]);if(ie&&je.bucketInstanceId in this.collisionCircleArrays){var sa=this.collisionCircleArrays[je.bucketInstanceId];n.invert(sa.invProjMatrix,mt),sa.viewportMatrix=this.collisionIndex.getViewportMatrix()}je.justReloaded=!1},wr.prototype.markUsedJustification=function(J,me,ie,xe){var ze={left:ie.leftJustifiedTextSymbolIndex,center:ie.centerJustifiedTextSymbolIndex,right:ie.rightJustifiedTextSymbolIndex},je;xe===n.WritingMode.vertical?je=ie.verticalPlacedTextSymbolIndex:je=ze[n.getAnchorJustification(me)];for(var st=[ie.leftJustifiedTextSymbolIndex,ie.centerJustifiedTextSymbolIndex,ie.rightJustifiedTextSymbolIndex,ie.verticalPlacedTextSymbolIndex],mt=0,Bt=st;mt<Bt.length;mt+=1){var Jt=Bt[mt];Jt>=0&&(je>=0&&Jt!==je?J.text.placedSymbolArray.get(Jt).crossTileID=0:J.text.placedSymbolArray.get(Jt).crossTileID=ie.crossTileID)}},wr.prototype.markUsedOrientation=function(J,me,ie){for(var xe=me===n.WritingMode.horizontal||me===n.WritingMode.horizontalOnly?me:0,ze=me===n.WritingMode.vertical?me:0,je=[ie.leftJustifiedTextSymbolIndex,ie.centerJustifiedTextSymbolIndex,ie.rightJustifiedTextSymbolIndex],st=0,mt=je;st<mt.length;st+=1){var Bt=mt[st];J.text.placedSymbolArray.get(Bt).placedOrientation=xe}ie.verticalPlacedTextSymbolIndex&&(J.text.placedSymbolArray.get(ie.verticalPlacedTextSymbolIndex).placedOrientation=ze)},wr.prototype.commit=function(J){this.commitTime=J,this.zoomAtLastRecencyCheck=this.transform.zoom;var me=this.prevPlacement,ie=!1;this.prevZoomAdjustment=me?me.zoomAdjustment(this.transform.zoom):0;var xe=me?me.symbolFadeChange(J):1,ze=me?me.opacities:{},je=me?me.variableOffsets:{},st=me?me.placedOrientations:{};for(var mt in this.placements){var Bt=this.placements[mt],Jt=ze[mt];Jt?(this.opacities[mt]=new En(Jt,xe,Bt.text,Bt.icon),ie=ie||Bt.text!==Jt.text.placed||Bt.icon!==Jt.icon.placed):(this.opacities[mt]=new En(null,xe,Bt.text,Bt.icon,Bt.skipFade),ie=ie||Bt.text||Bt.icon)}for(var ur in ze){var yr=ze[ur];if(!this.opacities[ur]){var Ir=new En(yr,xe,!1,!1);Ir.isHidden()||(this.opacities[ur]=Ir,ie=ie||yr.text.placed||yr.icon.placed)}}for(var Wr in je)!this.variableOffsets[Wr]&&this.opacities[Wr]&&!this.opacities[Wr].isHidden()&&(this.variableOffsets[Wr]=je[Wr]);for(var Gr in st)!this.placedOrientations[Gr]&&this.opacities[Gr]&&!this.opacities[Gr].isHidden()&&(this.placedOrientations[Gr]=st[Gr]);ie?this.lastPlacementChangeTime=J:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=me?me.lastPlacementChangeTime:J)},wr.prototype.updateLayerOpacities=function(J,me){for(var ie={},xe=0,ze=me;xe<ze.length;xe+=1){var je=ze[xe],st=je.getBucket(J);st&&je.latestFeatureIndex&&J.id===st.layerIds[0]&&this.updateBucketOpacities(st,ie,je.collisionBoxArray)}},wr.prototype.updateBucketOpacities=function(J,me,ie){var xe=this;J.hasTextData()&&J.text.opacityVertexArray.clear(),J.hasIconData()&&J.icon.opacityVertexArray.clear(),J.hasIconCollisionBoxData()&&J.iconCollisionBox.collisionVertexArray.clear(),J.hasTextCollisionBoxData()&&J.textCollisionBox.collisionVertexArray.clear();var ze=J.layers[0].layout,je=new En(null,0,!1,!1,!0),st=ze.get("text-allow-overlap"),mt=ze.get("icon-allow-overlap"),Bt=ze.get("text-variable-anchor"),Jt=ze.get("text-rotation-alignment")==="map",ur=ze.get("text-pitch-alignment")==="map",yr=ze.get("icon-text-fit")!=="none",Ir=new En(null,0,st&&(mt||!J.hasIconData()||ze.get("icon-optional")),mt&&(st||!J.hasTextData()||ze.get("text-optional")),!0);!J.collisionArrays&&ie&&(J.hasIconCollisionBoxData()||J.hasTextCollisionBoxData())&&J.deserializeCollisionBoxes(ie);for(var Wr=function(sn,Sn,Fn){for(var Gn=0;Gn<Sn/4;Gn++)sn.opacityVertexArray.emplaceBack(Fn)},Gr=function(sn){var Sn=J.symbolInstances.get(sn),Fn=Sn.numHorizontalGlyphVertices,Gn=Sn.numVerticalGlyphVertices,Zn=Sn.crossTileID,Yn=me[Zn],ri=xe.opacities[Zn];Yn?ri=je:ri||(ri=Ir,xe.opacities[Zn]=ri),me[Zn]=!0;var fi=Fn>0||Gn>0,ui=Sn.numIconVertices>0,pi=xe.placedOrientations[Sn.crossTileID],wi=pi===n.WritingMode.vertical,_i=pi===n.WritingMode.horizontal||pi===n.WritingMode.horizontalOnly;if(fi){var Hi=zr(ri.text),sa=wi?dn:Hi;Wr(J.text,Fn,sa);var Wi=_i?dn:Hi;Wr(J.text,Gn,Wi);var Ki=ri.text.isHidden();[Sn.rightJustifiedTextSymbolIndex,Sn.centerJustifiedTextSymbolIndex,Sn.leftJustifiedTextSymbolIndex].forEach(function(hl){hl>=0&&(J.text.placedSymbolArray.get(hl).hidden=Ki||wi?1:0)}),Sn.verticalPlacedTextSymbolIndex>=0&&(J.text.placedSymbolArray.get(Sn.verticalPlacedTextSymbolIndex).hidden=Ki||_i?1:0);var Li=xe.variableOffsets[Sn.crossTileID];Li&&xe.markUsedJustification(J,Li.anchor,Sn,pi);var la=xe.placedOrientations[Sn.crossTileID];la&&(xe.markUsedJustification(J,"left",Sn,la),xe.markUsedOrientation(J,la,Sn))}if(ui){var ha=zr(ri.icon),da=!(yr&&Sn.verticalPlacedIconSymbolIndex&&wi);if(Sn.placedIconSymbolIndex>=0){var Qi=da?ha:dn;Wr(J.icon,Sn.numIconVertices,Qi),J.icon.placedSymbolArray.get(Sn.placedIconSymbolIndex).hidden=ri.icon.isHidden()}if(Sn.verticalPlacedIconSymbolIndex>=0){var Sa=da?dn:ha;Wr(J.icon,Sn.numVerticalIconVertices,Sa),J.icon.placedSymbolArray.get(Sn.verticalPlacedIconSymbolIndex).hidden=ri.icon.isHidden()}}if(J.hasIconCollisionBoxData()||J.hasTextCollisionBoxData()){var Vi=J.collisionArrays[sn];if(Vi){var qi=new n.Point(0,0);if(Vi.textBox||Vi.verticalTextBox){var ja=!0;if(Bt){var fo=xe.variableOffsets[Zn];fo?(qi=ji(fo.anchor,fo.width,fo.height,fo.textOffset,fo.textBoxScale),Jt&&qi._rotate(ur?xe.transform.angle:-xe.transform.angle)):ja=!1}Vi.textBox&&an(J.textCollisionBox.collisionVertexArray,ri.text.placed,!ja||wi,qi.x,qi.y),Vi.verticalTextBox&&an(J.textCollisionBox.collisionVertexArray,ri.text.placed,!ja||_i,qi.x,qi.y)}var cl=Boolean(!_i&&Vi.verticalIconBox);Vi.iconBox&&an(J.iconCollisionBox.collisionVertexArray,ri.icon.placed,cl,yr?qi.x:0,yr?qi.y:0),Vi.verticalIconBox&&an(J.iconCollisionBox.collisionVertexArray,ri.icon.placed,!cl,yr?qi.x:0,yr?qi.y:0)}}},Hr=0;Hr<J.symbolInstances.length;Hr++)Gr(Hr);if(J.sortFeatures(this.transform.angle),this.retainedQueryData[J.bucketInstanceId]&&(this.retainedQueryData[J.bucketInstanceId].featureSortOrder=J.featureSortOrder),J.hasTextData()&&J.text.opacityVertexBuffer&&J.text.opacityVertexBuffer.updateData(J.text.opacityVertexArray),J.hasIconData()&&J.icon.opacityVertexBuffer&&J.icon.opacityVertexBuffer.updateData(J.icon.opacityVertexArray),J.hasIconCollisionBoxData()&&J.iconCollisionBox.collisionVertexBuffer&&J.iconCollisionBox.collisionVertexBuffer.updateData(J.iconCollisionBox.collisionVertexArray),J.hasTextCollisionBoxData()&&J.textCollisionBox.collisionVertexBuffer&&J.textCollisionBox.collisionVertexBuffer.updateData(J.textCollisionBox.collisionVertexArray),J.bucketInstanceId in this.collisionCircleArrays){var Qr=this.collisionCircleArrays[J.bucketInstanceId];J.placementInvProjMatrix=Qr.invProjMatrix,J.placementViewportMatrix=Qr.viewportMatrix,J.collisionCircleArray=Qr.circles,delete this.collisionCircleArrays[J.bucketInstanceId]}},wr.prototype.symbolFadeChange=function(J){return this.fadeDuration===0?1:(J-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},wr.prototype.zoomAdjustment=function(J){return Math.max(0,(this.transform.zoom-J)/1.5)},wr.prototype.hasTransitions=function(J){return this.stale||J-this.lastPlacementChangeTime<this.fadeDuration},wr.prototype.stillRecent=function(J,me){var ie=this.zoomAtLastRecencyCheck===me?1-this.zoomAdjustment(me):1;return this.zoomAtLastRecencyCheck=me,this.commitTime+this.fadeDuration*ie>J},wr.prototype.setStale=function(){this.stale=!0};function an(ge,J,me,ie,xe){ge.emplaceBack(J?1:0,me?1:0,ie||0,xe||0),ge.emplaceBack(J?1:0,me?1:0,ie||0,xe||0),ge.emplaceBack(J?1:0,me?1:0,ie||0,xe||0),ge.emplaceBack(J?1:0,me?1:0,ie||0,xe||0)}var cn=Math.pow(2,25),hn=Math.pow(2,24),Ln=Math.pow(2,17),wn=Math.pow(2,16),un=Math.pow(2,9),Rr=Math.pow(2,8),Cr=Math.pow(2,1);function zr(ge){if(ge.opacity===0&&!ge.placed)return 0;if(ge.opacity===1&&ge.placed)return 4294967295;var J=ge.placed?1:0,me=Math.floor(ge.opacity*127);return me*cn+J*hn+me*Ln+J*wn+me*un+J*Rr+me*Cr+J}var dn=0,In=function(J){this._sortAcrossTiles=J.layout.get("symbol-z-order")!=="viewport-y"&&J.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};In.prototype.continuePlacement=function(J,me,ie,xe,ze){for(var je=this._bucketParts;this._currentTileIndex<J.length;){var st=J[this._currentTileIndex];if(me.getBucketParts(je,xe,st,this._sortAcrossTiles),this._currentTileIndex++,ze())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,je.sort(function(Bt,Jt){return Bt.sortKey-Jt.sortKey}));this._currentPartIndex<je.length;){var mt=je[this._currentPartIndex];if(me.placeLayerBucketPart(mt,this._seenCrossTileIDs,ie),this._currentPartIndex++,ze())return!0}return!1};var Wn=function(J,me,ie,xe,ze,je,st){this.placement=new wr(J,ze,je,st),this._currentPlacementIndex=me.length-1,this._forceFullPlacement=ie,this._showCollisionBoxes=xe,this._done=!1};Wn.prototype.isDone=function(){return this._done},Wn.prototype.continuePlacement=function(J,me,ie){for(var xe=this,ze=n.browser.now(),je=function(){var ur=n.browser.now()-ze;return xe._forceFullPlacement?!1:ur>2};this._currentPlacementIndex>=0;){var st=J[this._currentPlacementIndex],mt=me[st],Bt=this.placement.collisionIndex.transform.zoom;if(mt.type==="symbol"&&(!mt.minzoom||mt.minzoom<=Bt)&&(!mt.maxzoom||mt.maxzoom>Bt)){this._inProgressLayer||(this._inProgressLayer=new In(mt));var Jt=this._inProgressLayer.continuePlacement(ie[mt.source],this.placement,this._showCollisionBoxes,mt,je);if(Jt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Wn.prototype.commit=function(J){return this.placement.commit(J),this.placement};var yn=512/n.EXTENT/2,zn=function(J,me,ie){this.tileID=J,this.indexedSymbolInstances={},this.bucketInstanceId=ie;for(var xe=0;xe<me.length;xe++){var ze=me.get(xe),je=ze.key;this.indexedSymbolInstances[je]||(this.indexedSymbolInstances[je]=[]),this.indexedSymbolInstances[je].push({crossTileID:ze.crossTileID,coord:this.getScaledCoordinates(ze,J)})}};zn.prototype.getScaledCoordinates=function(J,me){var ie=me.canonical.z-this.tileID.canonical.z,xe=yn/Math.pow(2,ie);return{x:Math.floor((me.canonical.x*n.EXTENT+J.anchorX)*xe),y:Math.floor((me.canonical.y*n.EXTENT+J.anchorY)*xe)}},zn.prototype.findMatches=function(J,me,ie){for(var xe=this.tileID.canonical.z<me.canonical.z?1:Math.pow(2,this.tileID.canonical.z-me.canonical.z),ze=0;ze<J.length;ze++){var je=J.get(ze);if(!je.crossTileID){var st=this.indexedSymbolInstances[je.key];if(st)for(var mt=this.getScaledCoordinates(je,me),Bt=0,Jt=st;Bt<Jt.length;Bt+=1){var ur=Jt[Bt];if(Math.abs(ur.coord.x-mt.x)<=xe&&Math.abs(ur.coord.y-mt.y)<=xe&&!ie[ur.crossTileID]){ie[ur.crossTileID]=!0,je.crossTileID=ur.crossTileID;break}}}}};var $n=function(){this.maxCrossTileID=0};$n.prototype.generate=function(){return++this.maxCrossTileID};var li=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};li.prototype.handleWrapJump=function(J){var me=Math.round((J-this.lng)/360);if(me!==0)for(var ie in this.indexes){var xe=this.indexes[ie],ze={};for(var je in xe){var st=xe[je];st.tileID=st.tileID.unwrapTo(st.tileID.wrap+me),ze[st.tileID.key]=st}this.indexes[ie]=ze}this.lng=J},li.prototype.addBucket=function(J,me,ie){if(this.indexes[J.overscaledZ]&&this.indexes[J.overscaledZ][J.key]){if(this.indexes[J.overscaledZ][J.key].bucketInstanceId===me.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(J.overscaledZ,this.indexes[J.overscaledZ][J.key])}for(var xe=0;xe<me.symbolInstances.length;xe++){var ze=me.symbolInstances.get(xe);ze.crossTileID=0}this.usedCrossTileIDs[J.overscaledZ]||(this.usedCrossTileIDs[J.overscaledZ]={});var je=this.usedCrossTileIDs[J.overscaledZ];for(var st in this.indexes){var mt=this.indexes[st];if(Number(st)>J.overscaledZ)for(var Bt in mt){var Jt=mt[Bt];Jt.tileID.isChildOf(J)&&Jt.findMatches(me.symbolInstances,J,je)}else{var ur=J.scaledTo(Number(st)),yr=mt[ur.key];yr&&yr.findMatches(me.symbolInstances,J,je)}}for(var Ir=0;Ir<me.symbolInstances.length;Ir++){var Wr=me.symbolInstances.get(Ir);Wr.crossTileID||(Wr.crossTileID=ie.generate(),je[Wr.crossTileID]=!0)}return this.indexes[J.overscaledZ]===void 0&&(this.indexes[J.overscaledZ]={}),this.indexes[J.overscaledZ][J.key]=new zn(J,me.symbolInstances,me.bucketInstanceId),!0},li.prototype.removeBucketCrossTileIDs=function(J,me){for(var ie in me.indexedSymbolInstances)for(var xe=0,ze=me.indexedSymbolInstances[ie];xe<ze.length;xe+=1){var je=ze[xe];delete this.usedCrossTileIDs[J][je.crossTileID]}},li.prototype.removeStaleBuckets=function(J){var me=!1;for(var ie in this.indexes){var xe=this.indexes[ie];for(var ze in xe)J[xe[ze].bucketInstanceId]||(this.removeBucketCrossTileIDs(ie,xe[ze]),delete xe[ze],me=!0)}return me};var ai=function(){this.layerIndexes={},this.crossTileIDs=new $n,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ai.prototype.addLayer=function(J,me,ie){var xe=this.layerIndexes[J.id];xe===void 0&&(xe=this.layerIndexes[J.id]=new li);var ze=!1,je={};xe.handleWrapJump(ie);for(var st=0,mt=me;st<mt.length;st+=1){var Bt=mt[st],Jt=Bt.getBucket(J);!Jt||J.id!==Jt.layerIds[0]||(Jt.bucketInstanceId||(Jt.bucketInstanceId=++this.maxBucketInstanceId),xe.addBucket(Bt.tileID,Jt,this.crossTileIDs)&&(ze=!0),je[Jt.bucketInstanceId]=!0)}return xe.removeStaleBuckets(je)&&(ze=!0),ze},ai.prototype.pruneUnusedLayers=function(J){var me={};J.forEach(function(xe){me[xe]=!0});for(var ie in this.layerIndexes)me[ie]||delete this.layerIndexes[ie]};var oi=function(ge,J){return n.emitValidationErrors(ge,J&&J.filter(function(me){return me.identifier!=="source.canvas"}))},di=n.pick(zt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),to=n.pick(zt,["setCenter","setZoom","setBearing","setPitch"]),bo=rr(),So=function(ge){function J(me,ie){var xe=this;ie===void 0&&(ie={}),ge.call(this),this.map=me,this.dispatcher=new O(Dt(),this),this.imageManager=new M,this.imageManager.setEventedParent(this),this.glyphManager=new P(me._requestManager,ie.localIdeographFontFamily),this.lineAtlas=new N(256,512),this.crossTileSymbolIndex=new ai,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var ze=this;this._rtlTextPluginCallback=J.registerForPluginStateChange(function(je){var st={pluginStatus:je.pluginStatus,pluginURL:je.pluginURL};ze.dispatcher.broadcast("syncRTLPluginState",st,function(mt,Bt){if(n.triggerPluginCompletionEvent(mt),Bt){var Jt=Bt.every(function(yr){return yr});if(Jt)for(var ur in ze.sourceCaches)ze.sourceCaches[ur].reload()}})}),this.on("data",function(je){if(!(je.dataType!=="source"||je.sourceDataType!=="metadata")){var st=xe.sourceCaches[je.sourceId];if(st){var mt=st.getSource();if(!(!mt||!mt.vectorLayerIds))for(var Bt in xe._layers){var Jt=xe._layers[Bt];Jt.source===mt.id&&xe._validateLayer(Jt)}}}})}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.loadURL=function(ie,xe){var ze=this;xe===void 0&&(xe={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var je=typeof xe.validate=="boolean"?xe.validate:!n.isMapboxURL(ie);ie=this.map._requestManager.normalizeStyleURL(ie,xe.accessToken);var st=this.map._requestManager.transformRequest(ie,n.ResourceType.Style);this._request=n.getJSON(st,function(mt,Bt){ze._request=null,mt?ze.fire(new n.ErrorEvent(mt)):Bt&&ze._load(Bt,je)})},J.prototype.loadJSON=function(ie,xe){var ze=this;xe===void 0&&(xe={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){ze._request=null,ze._load(ie,xe.validate!==!1)})},J.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(bo,!1)},J.prototype._load=function(ie,xe){if(!(xe&&oi(this,n.validateStyle(ie)))){this._loaded=!0,this.stylesheet=ie;for(var ze in ie.sources)this.addSource(ze,ie.sources[ze],{validate:!1});ie.sprite?this._loadSprite(ie.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ie.glyphs);var je=lr(this.stylesheet.layers);this._order=je.map(function(Jt){return Jt.id}),this._layers={},this._serializedLayers={};for(var st=0,mt=je;st<mt.length;st+=1){var Bt=mt[st];Bt=n.createStyleLayer(Bt),Bt.setEventedParent(this,{layer:{id:Bt.id}}),this._layers[Bt.id]=Bt,this._serializedLayers[Bt.id]=Bt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},J.prototype._loadSprite=function(ie){var xe=this;this._spriteRequest=c(ie,this.map._requestManager,function(ze,je){if(xe._spriteRequest=null,ze)xe.fire(new n.ErrorEvent(ze));else if(je)for(var st in je)xe.imageManager.addImage(st,je[st]);xe.imageManager.setLoaded(!0),xe._availableImages=xe.imageManager.listImages(),xe.dispatcher.broadcast("setImages",xe._availableImages),xe.fire(new n.Event("data",{dataType:"style"}))})},J.prototype._validateLayer=function(ie){var xe=this.sourceCaches[ie.source];if(xe){var ze=ie.sourceLayer;if(ze){var je=xe.getSource();(je.type==="geojson"||je.vectorLayerIds&&je.vectorLayerIds.indexOf(ze)===-1)&&this.fire(new n.ErrorEvent(new Error('Source layer "'+ze+'" does not exist on source "'+je.id+'" as specified by style layer "'+ie.id+'"')))}}},J.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ie in this.sourceCaches)if(!this.sourceCaches[ie].loaded())return!1;return!!this.imageManager.isLoaded()},J.prototype._serializeLayers=function(ie){for(var xe=[],ze=0,je=ie;ze<je.length;ze+=1){var st=je[ze],mt=this._layers[st];mt.type!=="custom"&&xe.push(mt.serialize())}return xe},J.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ie in this.sourceCaches)if(this.sourceCaches[ie].hasTransition())return!0;for(var xe in this._layers)if(this._layers[xe].hasTransition())return!0;return!1},J.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},J.prototype.update=function(ie){if(this._loaded){var xe=this._changed;if(this._changed){var ze=Object.keys(this._updatedLayers),je=Object.keys(this._removedLayers);(ze.length||je.length)&&this._updateWorkerLayers(ze,je);for(var st in this._updatedSources){var mt=this._updatedSources[st];mt==="reload"?this._reloadSource(st):mt==="clear"&&this._clearSource(st)}this._updateTilesForChangedImages();for(var Bt in this._updatedPaintProps)this._layers[Bt].updateTransitions(ie);this.light.updateTransitions(ie),this._resetUpdates()}for(var Jt in this.sourceCaches)this.sourceCaches[Jt].used=!1;for(var ur=0,yr=this._order;ur<yr.length;ur+=1){var Ir=yr[ur],Wr=this._layers[Ir];Wr.recalculate(ie,this._availableImages),!Wr.isHidden(ie.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}this.light.recalculate(ie),this.z=ie.zoom,xe&&this.fire(new n.Event("data",{dataType:"style"}))}},J.prototype._updateTilesForChangedImages=function(){var ie=Object.keys(this._changedImages);if(ie.length){for(var xe in this.sourceCaches)this.sourceCaches[xe].reloadTilesForDependencies(["icons","patterns"],ie);this._changedImages={}}},J.prototype._updateWorkerLayers=function(ie,xe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ie),removedIds:xe})},J.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},J.prototype.setState=function(ie){var xe=this;if(this._checkLoaded(),oi(this,n.validateStyle(ie)))return!1;ie=n.clone$1(ie),ie.layers=lr(ie.layers);var ze=_n(this.serialize(),ie).filter(function(st){return!(st.command in to)});if(ze.length===0)return!1;var je=ze.filter(function(st){return!(st.command in di)});if(je.length>0)throw new Error("Unimplemented: "+je.map(function(st){return st.command}).join(", ")+".");return ze.forEach(function(st){st.command!=="setTransition"&&xe[st.command].apply(xe,st.args)}),this.stylesheet=ie,!0},J.prototype.addImage=function(ie,xe){if(this.getImage(ie))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ie,xe),this._availableImages=this.imageManager.listImages(),this._changedImages[ie]=!0,this._changed=!0,this.fire(new n.Event("data",{dataType:"style"}))},J.prototype.updateImage=function(ie,xe){this.imageManager.updateImage(ie,xe)},J.prototype.getImage=function(ie){return this.imageManager.getImage(ie)},J.prototype.removeImage=function(ie){if(!this.getImage(ie))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ie),this._availableImages=this.imageManager.listImages(),this._changedImages[ie]=!0,this._changed=!0,this.fire(new n.Event("data",{dataType:"style"}))},J.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},J.prototype.addSource=function(ie,xe,ze){var je=this;if(ze===void 0&&(ze={}),this._checkLoaded(),this.sourceCaches[ie]!==void 0)throw new Error("There is already a source with this ID");if(!xe.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(xe).join(", ")+".");var st=["vector","raster","geojson","video","image"],mt=st.indexOf(xe.type)>=0;if(!(mt&&this._validate(n.validateStyle.source,"sources."+ie,xe,null,ze))){this.map&&this.map._collectResourceTiming&&(xe.collectResourceTiming=!0);var Bt=this.sourceCaches[ie]=new Ft(ie,xe,this.dispatcher);Bt.style=this,Bt.setEventedParent(this,function(){return{isSourceLoaded:je.loaded(),source:Bt.serialize(),sourceId:ie}}),Bt.onAdd(this.map),this._changed=!0}},J.prototype.removeSource=function(ie){if(this._checkLoaded(),this.sourceCaches[ie]===void 0)throw new Error("There is no source with this ID");for(var xe in this._layers)if(this._layers[xe].source===ie)return this.fire(new n.ErrorEvent(new Error('Source "'+ie+'" cannot be removed while layer "'+xe+'" is using it.')));var ze=this.sourceCaches[ie];delete this.sourceCaches[ie],delete this._updatedSources[ie],ze.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ie})),ze.setEventedParent(null),ze.clearTiles(),ze.onRemove&&ze.onRemove(this.map),this._changed=!0},J.prototype.setGeoJSONSourceData=function(ie,xe){this._checkLoaded();var ze=this.sourceCaches[ie].getSource();ze.setData(xe),this._changed=!0},J.prototype.getSource=function(ie){return this.sourceCaches[ie]&&this.sourceCaches[ie].getSource()},J.prototype.addLayer=function(ie,xe,ze){ze===void 0&&(ze={}),this._checkLoaded();var je=ie.id;if(this.getLayer(je)){this.fire(new n.ErrorEvent(new Error('Layer with id "'+je+'" already exists on this map')));return}var st;if(ie.type==="custom"){if(oi(this,n.validateCustomStyleLayer(ie)))return;st=n.createStyleLayer(ie)}else{if(typeof ie.source=="object"&&(this.addSource(je,ie.source),ie=n.clone$1(ie),ie=n.extend(ie,{source:je})),this._validate(n.validateStyle.layer,"layers."+je,ie,{arrayIndex:-1},ze))return;st=n.createStyleLayer(ie),this._validateLayer(st),st.setEventedParent(this,{layer:{id:je}}),this._serializedLayers[st.id]=st.serialize()}var mt=xe?this._order.indexOf(xe):this._order.length;if(xe&&mt===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+xe+'" does not exist on this map.')));return}if(this._order.splice(mt,0,je),this._layerOrderChanged=!0,this._layers[je]=st,this._removedLayers[je]&&st.source&&st.type!=="custom"){var Bt=this._removedLayers[je];delete this._removedLayers[je],Bt.type!==st.type?this._updatedSources[st.source]="clear":(this._updatedSources[st.source]="reload",this.sourceCaches[st.source].pause())}this._updateLayer(st),st.onAdd&&st.onAdd(this.map)},J.prototype.moveLayer=function(ie,xe){this._checkLoaded(),this._changed=!0;var ze=this._layers[ie];if(!ze){this.fire(new n.ErrorEvent(new Error("The layer '"+ie+"' does not exist in the map's style and cannot be moved.")));return}if(ie!==xe){var je=this._order.indexOf(ie);this._order.splice(je,1);var st=xe?this._order.indexOf(xe):this._order.length;if(xe&&st===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+xe+'" does not exist on this map.')));return}this._order.splice(st,0,ie),this._layerOrderChanged=!0}},J.prototype.removeLayer=function(ie){this._checkLoaded();var xe=this._layers[ie];if(!xe){this.fire(new n.ErrorEvent(new Error("The layer '"+ie+"' does not exist in the map's style and cannot be removed.")));return}xe.setEventedParent(null);var ze=this._order.indexOf(ie);this._order.splice(ze,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ie]=xe,delete this._layers[ie],delete this._serializedLayers[ie],delete this._updatedLayers[ie],delete this._updatedPaintProps[ie],xe.onRemove&&xe.onRemove(this.map)},J.prototype.getLayer=function(ie){return this._layers[ie]},J.prototype.hasLayer=function(ie){return ie in this._layers},J.prototype.setLayerZoomRange=function(ie,xe,ze){this._checkLoaded();var je=this.getLayer(ie);if(!je){this.fire(new n.ErrorEvent(new Error("The layer '"+ie+"' does not exist in the map's style and cannot have zoom extent.")));return}je.minzoom===xe&&je.maxzoom===ze||(xe!=null&&(je.minzoom=xe),ze!=null&&(je.maxzoom=ze),this._updateLayer(je))},J.prototype.setFilter=function(ie,xe,ze){ze===void 0&&(ze={}),this._checkLoaded();var je=this.getLayer(ie);if(!je){this.fire(new n.ErrorEvent(new Error("The layer '"+ie+"' does not exist in the map's style and cannot be filtered.")));return}if(!n.deepEqual(je.filter,xe)){if(xe==null){je.filter=void 0,this._updateLayer(je);return}this._validate(n.validateStyle.filter,"layers."+je.id+".filter",xe,null,ze)||(je.filter=n.clone$1(xe),this._updateLayer(je))}},J.prototype.getFilter=function(ie){return n.clone$1(this.getLayer(ie).filter)},J.prototype.setLayoutProperty=function(ie,xe,ze,je){je===void 0&&(je={}),this._checkLoaded();var st=this.getLayer(ie);if(!st){this.fire(new n.ErrorEvent(new Error("The layer '"+ie+"' does not exist in the map's style and cannot be styled.")));return}n.deepEqual(st.getLayoutProperty(xe),ze)||(st.setLayoutProperty(xe,ze,je),this._updateLayer(st))},J.prototype.getLayoutProperty=function(ie,xe){var ze=this.getLayer(ie);if(!ze){this.fire(new n.ErrorEvent(new Error("The layer '"+ie+"' does not exist in the map's style.")));return}return ze.getLayoutProperty(xe)},J.prototype.setPaintProperty=function(ie,xe,ze,je){je===void 0&&(je={}),this._checkLoaded();var st=this.getLayer(ie);if(!st){this.fire(new n.ErrorEvent(new Error("The layer '"+ie+"' does not exist in the map's style and cannot be styled.")));return}if(!n.deepEqual(st.getPaintProperty(xe),ze)){var mt=st.setPaintProperty(xe,ze,je);mt&&this._updateLayer(st),this._changed=!0,this._updatedPaintProps[ie]=!0}},J.prototype.getPaintProperty=function(ie,xe){return this.getLayer(ie).getPaintProperty(xe)},J.prototype.setFeatureState=function(ie,xe){this._checkLoaded();var ze=ie.source,je=ie.sourceLayer,st=this.sourceCaches[ze];if(st===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var mt=st.getSource().type;if(mt==="geojson"&&je){this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(mt==="vector"&&!je){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ie.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),st.setFeatureState(je,ie.id,xe)},J.prototype.removeFeatureState=function(ie,xe){this._checkLoaded();var ze=ie.source,je=this.sourceCaches[ze];if(je===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var st=je.getSource().type,mt=st==="vector"?ie.sourceLayer:void 0;if(st==="vector"&&!mt){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(xe&&typeof ie.id!="string"&&typeof ie.id!="number"){this.fire(new n.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}je.removeFeatureState(mt,ie.id,xe)},J.prototype.getFeatureState=function(ie){this._checkLoaded();var xe=ie.source,ze=ie.sourceLayer,je=this.sourceCaches[xe];if(je===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+xe+"' does not exist in the map's style.")));return}var st=je.getSource().type;if(st==="vector"&&!ze){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ie.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),je.getFeatureState(ze,ie.id)},J.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},J.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(ie){return ie.serialize()}),layers:this._serializeLayers(this._order)},function(ie){return ie!==void 0})},J.prototype._updateLayer=function(ie){this._updatedLayers[ie.id]=!0,ie.source&&!this._updatedSources[ie.source]&&this.sourceCaches[ie.source].getSource().type!=="raster"&&(this._updatedSources[ie.source]="reload",this.sourceCaches[ie.source].pause()),this._changed=!0},J.prototype._flattenAndSortRenderedFeatures=function(ie){for(var xe=this,ze=function(_i){return xe._layers[_i].type==="fill-extrusion"},je={},st=[],mt=this._order.length-1;mt>=0;mt--){var Bt=this._order[mt];if(ze(Bt)){je[Bt]=mt;for(var Jt=0,ur=ie;Jt<ur.length;Jt+=1){var yr=ur[Jt],Ir=yr[Bt];if(Ir)for(var Wr=0,Gr=Ir;Wr<Gr.length;Wr+=1){var Hr=Gr[Wr];st.push(Hr)}}}}st.sort(function(_i,Hi){return Hi.intersectionZ-_i.intersectionZ});for(var Qr=[],sn=this._order.length-1;sn>=0;sn--){var Sn=this._order[sn];if(ze(Sn))for(var Fn=st.length-1;Fn>=0;Fn--){var Gn=st[Fn].feature;if(je[Gn.layer.id]<sn)break;Qr.push(Gn),st.pop()}else for(var Zn=0,Yn=ie;Zn<Yn.length;Zn+=1){var ri=Yn[Zn],fi=ri[Sn];if(fi)for(var ui=0,pi=fi;ui<pi.length;ui+=1){var wi=pi[ui];Qr.push(wi.feature)}}}return Qr},J.prototype.queryRenderedFeatures=function(ie,xe,ze){xe&&xe.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",xe.filter,null,xe);var je={};if(xe&&xe.layers){if(!Array.isArray(xe.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var st=0,mt=xe.layers;st<mt.length;st+=1){var Bt=mt[st],Jt=this._layers[Bt];if(!Jt)return this.fire(new n.ErrorEvent(new Error("The layer '"+Bt+"' does not exist in the map's style and cannot be queried for features."))),[];je[Jt.source]=!0}}var ur=[];xe.availableImages=this._availableImages;for(var yr in this.sourceCaches)xe.layers&&!je[yr]||ur.push(te(this.sourceCaches[yr],this._layers,this._serializedLayers,ie,xe,ze));return this.placement&&ur.push(q(this._layers,this._serializedLayers,this.sourceCaches,ie,xe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ur)},J.prototype.querySourceFeatures=function(ie,xe){xe&&xe.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",xe.filter,null,xe);var ze=this.sourceCaches[ie];return ze?he(ze,xe):[]},J.prototype.addSourceType=function(ie,xe,ze){if(J.getSourceType(ie))return ze(new Error('A source type called "'+ie+'" already exists.'));if(J.setSourceType(ie,xe),!xe.workerSourceURL)return ze(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ie,url:xe.workerSourceURL},ze)},J.prototype.getLight=function(){return this.light.getLight()},J.prototype.setLight=function(ie,xe){xe===void 0&&(xe={}),this._checkLoaded();var ze=this.light.getLight(),je=!1;for(var st in ie)if(!n.deepEqual(ie[st],ze[st])){je=!0;break}if(je){var mt={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ie,xe),this.light.updateTransitions(mt)}},J.prototype._validate=function(ie,xe,ze,je,st){return st===void 0&&(st={}),st&&st.validate===!1?!1:oi(this,ie.call(n.validateStyle,n.extend({key:xe,style:this.serialize(),value:ze,styleSpec:n.styleSpec},je)))},J.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ie in this._layers){var xe=this._layers[ie];xe.setEventedParent(null)}for(var ze in this.sourceCaches)this.sourceCaches[ze].clearTiles(),this.sourceCaches[ze].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},J.prototype._clearSource=function(ie){this.sourceCaches[ie].clearTiles()},J.prototype._reloadSource=function(ie){this.sourceCaches[ie].resume(),this.sourceCaches[ie].reload()},J.prototype._updateSources=function(ie){for(var xe in this.sourceCaches)this.sourceCaches[xe].update(ie)},J.prototype._generateCollisionBoxes=function(){for(var ie in this.sourceCaches)this._reloadSource(ie)},J.prototype._updatePlacement=function(ie,xe,ze,je,st){st===void 0&&(st=!1);for(var mt=!1,Bt=!1,Jt={},ur=0,yr=this._order;ur<yr.length;ur+=1){var Ir=yr[ur],Wr=this._layers[Ir];if(Wr.type==="symbol"){if(!Jt[Wr.source]){var Gr=this.sourceCaches[Wr.source];Jt[Wr.source]=Gr.getRenderableIds(!0).map(function(Zn){return Gr.getTileByID(Zn)}).sort(function(Zn,Yn){return Yn.tileID.overscaledZ-Zn.tileID.overscaledZ||(Zn.tileID.isLessThan(Yn.tileID)?-1:1)})}var Hr=this.crossTileSymbolIndex.addLayer(Wr,Jt[Wr.source],ie.center.lng);mt=mt||Hr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),st=st||this._layerOrderChanged||ze===0,(st||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),ie.zoom))&&(this.pauseablePlacement=new Wn(ie,this._order,st,xe,ze,je,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Jt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),Bt=!0),mt&&this.pauseablePlacement.placement.setStale()),Bt||mt)for(var Qr=0,sn=this._order;Qr<sn.length;Qr+=1){var Sn=sn[Qr],Fn=this._layers[Sn];Fn.type==="symbol"&&this.placement.updateLayerOpacities(Fn,Jt[Fn.source])}var Gn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now());return Gn},J.prototype._releaseSymbolFadeTiles=function(){for(var ie in this.sourceCaches)this.sourceCaches[ie].releaseSymbolFadeTiles()},J.prototype.getImages=function(ie,xe,ze){this.imageManager.getImages(xe.icons,ze),this._updateTilesForChangedImages();var je=this.sourceCaches[xe.source];je&&je.setDependencies(xe.tileID.key,xe.type,xe.icons)},J.prototype.getGlyphs=function(ie,xe,ze){this.glyphManager.getGlyphs(xe.stacks,ze)},J.prototype.getResource=function(ie,xe,ze){return n.makeRequest(xe,ze)},J}(n.Evented);So.getSourceType=Q,So.setSourceType=$,So.registerForPluginStateChange=n.registerForPluginStateChange;var ko=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),Eo=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,_f=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,ta=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,wu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Xl=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ro="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Io=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Sc=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Tu="void main() {gl_FragColor=vec4(1.0);}",ka="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Au=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vo=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Ja=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Wo="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",wo="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",$o="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Ts="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",Ns="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",so="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Ec="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",As=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lo=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,kf=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Us=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Ms=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,If=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Ff=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Oh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Mu=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Nh=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Uh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,zf=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hh="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Vh=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Cc="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",Wh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gh=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Of=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ml=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Sl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Kl=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,qu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yh=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Hs=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lc="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Bf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zh=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,qo=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,El=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Su=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Jl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Ss=ya(Eo,_f),Vs=ya(ta,wu),Nf=ya(Xl,ro),Ql=ya(Io,Sc),rl=ya(Tu,ka),Ha=ya(Au,Vo),Uf=ya(Ja,Wo),ef=ya(wo,$o),$l=ya(Ts,Ns),Pc=ya(so,Ec),Rc=ya(As,lo),ql=ya(kf,Us),eu=ya(Ms,If),no=ya(Ff,Oh),tf=ya(Mu,Bh),jh=ya(Nh,Uh),Hf=ya(zf,Hh),Xh=ya(Vh,Cc),rf=ya(Wh,Gh),Eu=ya(Of,Ml),Vf=ya(Sl,Kl),Wf=ya(qu,Yh),Cu=ya(Hs,Lc),Gf=ya(Bf,Zh),nf=ya(qo,El),Yf=ya(Su,Jl);function ya(ge,J){var me=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ie={};return ge=ge.replace(me,function(xe,ze,je,st,mt){return ie[mt]=!0,ze==="define"?`
#ifndef HAS_UNIFORM_u_`+mt+`
varying `+je+" "+st+" "+mt+`;
#else
uniform `+je+" "+st+" u_"+mt+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+mt+`
    `+je+" "+st+" "+mt+" = u_"+mt+`;
#endif
`}),J=J.replace(me,function(xe,ze,je,st,mt){var Bt=st==="float"?"vec2":"vec4",Jt=mt.match(/color/)?"color":Bt;return ie[mt]?ze==="define"?`
#ifndef HAS_UNIFORM_u_`+mt+`
uniform lowp float u_`+mt+`_t;
attribute `+je+" "+Bt+" a_"+mt+`;
varying `+je+" "+st+" "+mt+`;
#else
uniform `+je+" "+st+" u_"+mt+`;
#endif
`:Jt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+mt+`
    `+mt+" = a_"+mt+`;
#else
    `+je+" "+st+" "+mt+" = u_"+mt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+mt+`
    `+mt+" = unpack_mix_"+Jt+"(a_"+mt+", u_"+mt+`_t);
#else
    `+je+" "+st+" "+mt+" = u_"+mt+`;
#endif
`:ze==="define"?`
#ifndef HAS_UNIFORM_u_`+mt+`
uniform lowp float u_`+mt+`_t;
attribute `+je+" "+Bt+" a_"+mt+`;
#else
uniform `+je+" "+st+" u_"+mt+`;
#endif
`:Jt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+mt+`
    `+je+" "+st+" "+mt+" = a_"+mt+`;
#else
    `+je+" "+st+" "+mt+" = u_"+mt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+mt+`
    `+je+" "+st+" "+mt+" = unpack_mix_"+Jt+"(a_"+mt+", u_"+mt+`_t);
#else
    `+je+" "+st+" "+mt+" = u_"+mt+`;
#endif
`}),{fragmentSource:ge,vertexSource:J}}var Dc=Object.freeze({__proto__:null,prelude:Ss,background:Vs,backgroundPattern:Nf,circle:Ql,clippingMask:rl,heatmap:Ha,heatmapTexture:Uf,collisionBox:ef,collisionCircle:$l,debug:Pc,fill:Rc,fillOutline:ql,fillOutlinePattern:eu,fillPattern:no,fillExtrusion:tf,fillExtrusionPattern:jh,hillshadePrepare:Hf,hillshade:Xh,line:rf,lineGradient:Eu,linePattern:Vf,lineSDF:Wf,raster:Cu,symbolIcon:Gf,symbolSDF:nf,symbolTextAndIcon:Yf}),ls=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ls.prototype.bind=function(J,me,ie,xe,ze,je,st,mt){this.context=J;for(var Bt=this.boundPaintVertexBuffers.length!==xe.length,Jt=0;!Bt&&Jt<xe.length;Jt++)this.boundPaintVertexBuffers[Jt]!==xe[Jt]&&(Bt=!0);var ur=!this.vao||this.boundProgram!==me||this.boundLayoutVertexBuffer!==ie||Bt||this.boundIndexBuffer!==ze||this.boundVertexOffset!==je||this.boundDynamicVertexBuffer!==st||this.boundDynamicVertexBuffer2!==mt;!J.extVertexArrayObject||ur?this.freshBind(me,ie,xe,ze,je,st,mt):(J.bindVertexArrayOES.set(this.vao),st&&st.bind(),ze&&ze.dynamicDraw&&ze.bind(),mt&&mt.bind())},ls.prototype.freshBind=function(J,me,ie,xe,ze,je,st){var mt,Bt=J.numAttributes,Jt=this.context,ur=Jt.gl;if(Jt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Jt.extVertexArrayObject.createVertexArrayOES(),Jt.bindVertexArrayOES.set(this.vao),mt=0,this.boundProgram=J,this.boundLayoutVertexBuffer=me,this.boundPaintVertexBuffers=ie,this.boundIndexBuffer=xe,this.boundVertexOffset=ze,this.boundDynamicVertexBuffer=je,this.boundDynamicVertexBuffer2=st;else{mt=Jt.currentNumAttributes||0;for(var yr=Bt;yr<mt;yr++)ur.disableVertexAttribArray(yr)}me.enableAttributes(ur,J);for(var Ir=0,Wr=ie;Ir<Wr.length;Ir+=1){var Gr=Wr[Ir];Gr.enableAttributes(ur,J)}je&&je.enableAttributes(ur,J),st&&st.enableAttributes(ur,J),me.bind(),me.setVertexAttribPointers(ur,J,ze);for(var Hr=0,Qr=ie;Hr<Qr.length;Hr+=1){var sn=Qr[Hr];sn.bind(),sn.setVertexAttribPointers(ur,J,ze)}je&&(je.bind(),je.setVertexAttribPointers(ur,J,ze)),xe&&xe.bind(),st&&(st.bind(),st.setVertexAttribPointers(ur,J,ze)),Jt.currentNumAttributes=Bt},ls.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var tu=function(J,me,ie,xe,ze){var je=J.gl;this.program=je.createProgram();var st=ie?ie.defines():[];ze&&st.push("#define OVERDRAW_INSPECTOR;");var mt=st.concat(Ss.fragmentSource,me.fragmentSource).join(`
`),Bt=st.concat(Ss.vertexSource,me.vertexSource).join(`
`),Jt=je.createShader(je.FRAGMENT_SHADER);if(je.isContextLost()){this.failedToCreate=!0;return}je.shaderSource(Jt,mt),je.compileShader(Jt),je.attachShader(this.program,Jt);var ur=je.createShader(je.VERTEX_SHADER);if(je.isContextLost()){this.failedToCreate=!0;return}je.shaderSource(ur,Bt),je.compileShader(ur),je.attachShader(this.program,ur);for(var yr=ie?ie.layoutAttributes:[],Ir=0;Ir<yr.length;Ir++)je.bindAttribLocation(this.program,Ir,yr[Ir].name);je.linkProgram(this.program),je.deleteShader(ur),je.deleteShader(Jt),this.numAttributes=je.getProgramParameter(this.program,je.ACTIVE_ATTRIBUTES),this.attributes={};for(var Wr={},Gr=0;Gr<this.numAttributes;Gr++){var Hr=je.getActiveAttrib(this.program,Gr);Hr&&(this.attributes[Hr.name]=je.getAttribLocation(this.program,Hr.name))}for(var Qr=je.getProgramParameter(this.program,je.ACTIVE_UNIFORMS),sn=0;sn<Qr;sn++){var Sn=je.getActiveUniform(this.program,sn);Sn&&(Wr[Sn.name]=je.getUniformLocation(this.program,Sn.name))}this.fixedUniforms=xe(J,Wr),this.binderUniforms=ie?ie.getUniforms(J,Wr):[]};tu.prototype.draw=function(J,me,ie,xe,ze,je,st,mt,Bt,Jt,ur,yr,Ir,Wr,Gr,Hr){var Qr,sn=J.gl;if(!this.failedToCreate){J.program.set(this.program),J.setDepthMode(ie),J.setStencilMode(xe),J.setColorMode(ze),J.setCullFace(je);for(var Sn in this.fixedUniforms)this.fixedUniforms[Sn].set(st[Sn]);Wr&&Wr.setUniforms(J,this.binderUniforms,yr,{zoom:Ir});for(var Fn=(Qr={},Qr[sn.LINES]=2,Qr[sn.TRIANGLES]=3,Qr[sn.LINE_STRIP]=1,Qr)[me],Gn=0,Zn=ur.get();Gn<Zn.length;Gn+=1){var Yn=Zn[Gn],ri=Yn.vaos||(Yn.vaos={}),fi=ri[mt]||(ri[mt]=new ls);fi.bind(J,this,Bt,Wr?Wr.getPaintVertexBuffers():[],Jt,Yn.vertexOffset,Gr,Hr),sn.drawElements(me,Yn.primitiveLength*Fn,sn.UNSIGNED_SHORT,Yn.primitiveOffset*Fn*2)}}};function Cl(ge,J,me){var ie=1/gn(me,1,J.transform.tileZoom),xe=Math.pow(2,me.tileID.overscaledZ),ze=me.tileSize*Math.pow(2,J.transform.tileZoom)/xe,je=ze*(me.tileID.canonical.x+me.tileID.wrap*xe),st=ze*me.tileID.canonical.y;return{u_image:0,u_texsize:me.imageAtlasTexture.size,u_scale:[ie,ge.fromScale,ge.toScale],u_fade:ge.t,u_pixel_coord_upper:[je>>16,st>>16],u_pixel_coord_lower:[je&65535,st&65535]}}function Zf(ge,J,me,ie){var xe=me.imageManager.getPattern(ge.from.toString()),ze=me.imageManager.getPattern(ge.to.toString()),je=me.imageManager.getPixelSize(),st=je.width,mt=je.height,Bt=Math.pow(2,ie.tileID.overscaledZ),Jt=ie.tileSize*Math.pow(2,me.transform.tileZoom)/Bt,ur=Jt*(ie.tileID.canonical.x+ie.tileID.wrap*Bt),yr=Jt*ie.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:xe.tl,u_pattern_br_a:xe.br,u_pattern_tl_b:ze.tl,u_pattern_br_b:ze.br,u_texsize:[st,mt],u_mix:J.t,u_pattern_size_a:xe.displaySize,u_pattern_size_b:ze.displaySize,u_scale_a:J.fromScale,u_scale_b:J.toScale,u_tile_units_to_pixels:1/gn(ie,1,me.transform.tileZoom),u_pixel_coord_upper:[ur>>16,yr>>16],u_pixel_coord_lower:[ur&65535,yr&65535]}}var Wa=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_lightpos:new n.Uniform3f(ge,J.u_lightpos),u_lightintensity:new n.Uniform1f(ge,J.u_lightintensity),u_lightcolor:new n.Uniform3f(ge,J.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ge,J.u_vertical_gradient),u_opacity:new n.Uniform1f(ge,J.u_opacity)}},Lu=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_lightpos:new n.Uniform3f(ge,J.u_lightpos),u_lightintensity:new n.Uniform1f(ge,J.u_lightintensity),u_lightcolor:new n.Uniform3f(ge,J.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ge,J.u_vertical_gradient),u_height_factor:new n.Uniform1f(ge,J.u_height_factor),u_image:new n.Uniform1i(ge,J.u_image),u_texsize:new n.Uniform2f(ge,J.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ge,J.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ge,J.u_pixel_coord_lower),u_scale:new n.Uniform3f(ge,J.u_scale),u_fade:new n.Uniform1f(ge,J.u_fade),u_opacity:new n.Uniform1f(ge,J.u_opacity)}},Fo=function(ge,J,me,ie){var xe=J.style.light,ze=xe.properties.get("position"),je=[ze.x,ze.y,ze.z],st=n.create$1();xe.properties.get("anchor")==="viewport"&&n.fromRotation(st,-J.transform.angle),n.transformMat3(je,je,st);var mt=xe.properties.get("color");return{u_matrix:ge,u_lightpos:je,u_lightintensity:xe.properties.get("intensity"),u_lightcolor:[mt.r,mt.g,mt.b],u_vertical_gradient:+me,u_opacity:ie}},Ws=function(ge,J,me,ie,xe,ze,je){return n.extend(Fo(ge,J,me,ie),Cl(ze,J,je),{u_height_factor:-Math.pow(2,xe.overscaledZ)/je.tileSize/8})},Gs=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix)}},nl=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_image:new n.Uniform1i(ge,J.u_image),u_texsize:new n.Uniform2f(ge,J.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ge,J.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ge,J.u_pixel_coord_lower),u_scale:new n.Uniform3f(ge,J.u_scale),u_fade:new n.Uniform1f(ge,J.u_fade)}},il=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_world:new n.Uniform2f(ge,J.u_world)}},al=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_world:new n.Uniform2f(ge,J.u_world),u_image:new n.Uniform1i(ge,J.u_image),u_texsize:new n.Uniform2f(ge,J.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ge,J.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ge,J.u_pixel_coord_lower),u_scale:new n.Uniform3f(ge,J.u_scale),u_fade:new n.Uniform1f(ge,J.u_fade)}},us=function(ge){return{u_matrix:ge}},Es=function(ge,J,me,ie){return n.extend(us(ge),Cl(me,J,ie))},Pu=function(ge,J){return{u_matrix:ge,u_world:J}},Ru=function(ge,J,me,ie,xe){return n.extend(Es(ge,J,me,ie),{u_world:xe})},af=function(ge,J){return{u_camera_to_center_distance:new n.Uniform1f(ge,J.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(ge,J.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(ge,J.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(ge,J.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(ge,J.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(ge,J.u_matrix)}},Kh=function(ge,J,me,ie){var xe=ge.transform,ze,je;if(ie.paint.get("circle-pitch-alignment")==="map"){var st=gn(me,1,xe.zoom);ze=!0,je=[st,st]}else ze=!1,je=xe.pixelsToGLUnits;return{u_camera_to_center_distance:xe.cameraToCenterDistance,u_scale_with_map:+(ie.paint.get("circle-pitch-scale")==="map"),u_matrix:ge.translatePosMatrix(J.posMatrix,me,ie.paint.get("circle-translate"),ie.paint.get("circle-translate-anchor")),u_pitch_with_map:+ze,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:je}},Jh=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_camera_to_center_distance:new n.Uniform1f(ge,J.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(ge,J.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(ge,J.u_extrude_scale),u_overscale_factor:new n.Uniform1f(ge,J.u_overscale_factor)}},Qh=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_inv_matrix:new n.UniformMatrix4f(ge,J.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(ge,J.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(ge,J.u_viewport_size)}},$h=function(ge,J,me){var ie=gn(me,1,J.zoom),xe=Math.pow(2,J.zoom-me.tileID.overscaledZ),ze=me.tileID.overscaleFactor();return{u_matrix:ge,u_camera_to_center_distance:J.cameraToCenterDistance,u_pixels_to_tile_units:ie,u_extrude_scale:[J.pixelsToGLUnits[0]/(ie*xe),J.pixelsToGLUnits[1]/(ie*xe)],u_overscale_factor:ze}},of=function(ge,J,me){return{u_matrix:ge,u_inv_matrix:J,u_camera_to_center_distance:me.cameraToCenterDistance,u_viewport_size:[me.width,me.height]}},_c=function(ge,J){return{u_color:new n.UniformColor(ge,J.u_color),u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_overlay:new n.Uniform1i(ge,J.u_overlay),u_overlay_scale:new n.Uniform1f(ge,J.u_overlay_scale)}},ru=function(ge,J,me){return me===void 0&&(me=1),{u_matrix:ge,u_color:J,u_overlay:0,u_overlay_scale:me}},uo=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix)}},zo=function(ge){return{u_matrix:ge}},Du=function(ge,J){return{u_extrude_scale:new n.Uniform1f(ge,J.u_extrude_scale),u_intensity:new n.Uniform1f(ge,J.u_intensity),u_matrix:new n.UniformMatrix4f(ge,J.u_matrix)}},Ll=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_world:new n.Uniform2f(ge,J.u_world),u_image:new n.Uniform1i(ge,J.u_image),u_color_ramp:new n.Uniform1i(ge,J.u_color_ramp),u_opacity:new n.Uniform1f(ge,J.u_opacity)}},_u=function(ge,J,me,ie){return{u_matrix:ge,u_extrude_scale:gn(J,1,me),u_intensity:ie}},sf=function(ge,J,me,ie){var xe=n.create();n.ortho(xe,0,ge.width,ge.height,0,0,1);var ze=ge.context.gl;return{u_matrix:xe,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:me,u_color_ramp:ie,u_opacity:J.paint.get("heatmap-opacity")}},qh=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_image:new n.Uniform1i(ge,J.u_image),u_latrange:new n.Uniform2f(ge,J.u_latrange),u_light:new n.Uniform2f(ge,J.u_light),u_shadow:new n.UniformColor(ge,J.u_shadow),u_highlight:new n.UniformColor(ge,J.u_highlight),u_accent:new n.UniformColor(ge,J.u_accent)}},kc=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_image:new n.Uniform1i(ge,J.u_image),u_dimension:new n.Uniform2f(ge,J.u_dimension),u_zoom:new n.Uniform1f(ge,J.u_zoom),u_maxzoom:new n.Uniform1f(ge,J.u_maxzoom),u_unpack:new n.Uniform4f(ge,J.u_unpack)}},Ic=function(ge,J,me){var ie=me.paint.get("hillshade-shadow-color"),xe=me.paint.get("hillshade-highlight-color"),ze=me.paint.get("hillshade-accent-color"),je=me.paint.get("hillshade-illumination-direction")*(Math.PI/180);me.paint.get("hillshade-illumination-anchor")==="viewport"&&(je-=ge.transform.angle);var st=!ge.options.moving;return{u_matrix:ge.transform.calculatePosMatrix(J.tileID.toUnwrapped(),st),u_image:0,u_latrange:ol(ge,J.tileID),u_light:[me.paint.get("hillshade-exaggeration"),je],u_shadow:ie,u_highlight:xe,u_accent:ze}},jf=function(ge,J,me){var ie=J.stride,xe=n.create();return n.ortho(xe,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(xe,xe,[0,-n.EXTENT,0]),{u_matrix:xe,u_image:1,u_dimension:[ie,ie],u_zoom:ge.overscaledZ,u_maxzoom:me,u_unpack:J.getUnpackVector()}};function ol(ge,J){var me=Math.pow(2,J.canonical.z),ie=J.canonical.y;return[new n.MercatorCoordinate(0,ie/me).toLngLat().lat,new n.MercatorCoordinate(0,(ie+1)/me).toLngLat().lat]}var Ga=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_ratio:new n.Uniform1f(ge,J.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ge,J.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ge,J.u_units_to_pixels)}},Cs=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_ratio:new n.Uniform1f(ge,J.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ge,J.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ge,J.u_units_to_pixels),u_image:new n.Uniform1i(ge,J.u_image)}},Xf=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_texsize:new n.Uniform2f(ge,J.u_texsize),u_ratio:new n.Uniform1f(ge,J.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ge,J.u_device_pixel_ratio),u_image:new n.Uniform1i(ge,J.u_image),u_units_to_pixels:new n.Uniform2f(ge,J.u_units_to_pixels),u_scale:new n.Uniform3f(ge,J.u_scale),u_fade:new n.Uniform1f(ge,J.u_fade)}},Fc=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_ratio:new n.Uniform1f(ge,J.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ge,J.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ge,J.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(ge,J.u_patternscale_a),u_patternscale_b:new n.Uniform2f(ge,J.u_patternscale_b),u_sdfgamma:new n.Uniform1f(ge,J.u_sdfgamma),u_image:new n.Uniform1i(ge,J.u_image),u_tex_y_a:new n.Uniform1f(ge,J.u_tex_y_a),u_tex_y_b:new n.Uniform1f(ge,J.u_tex_y_b),u_mix:new n.Uniform1f(ge,J.u_mix)}},Pl=function(ge,J,me){var ie=ge.transform;return{u_matrix:Zs(ge,J,me),u_ratio:1/gn(J,1,ie.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/ie.pixelsToGLUnits[0],1/ie.pixelsToGLUnits[1]]}},lf=function(ge,J,me){return n.extend(Pl(ge,J,me),{u_image:0})},fs=function(ge,J,me,ie){var xe=ge.transform,ze=Ys(J,xe);return{u_matrix:Zs(ge,J,me),u_texsize:J.imageAtlasTexture.size,u_ratio:1/gn(J,1,xe.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[ze,ie.fromScale,ie.toScale],u_fade:ie.t,u_units_to_pixels:[1/xe.pixelsToGLUnits[0],1/xe.pixelsToGLUnits[1]]}},uf=function(ge,J,me,ie,xe){var ze=ge.transform,je=ge.lineAtlas,st=Ys(J,ze),mt=me.layout.get("line-cap")==="round",Bt=je.getDash(ie.from,mt),Jt=je.getDash(ie.to,mt),ur=Bt.width*xe.fromScale,yr=Jt.width*xe.toScale;return n.extend(Pl(ge,J,me),{u_patternscale_a:[st/ur,-Bt.height/2],u_patternscale_b:[st/yr,-Jt.height/2],u_sdfgamma:je.width/(Math.min(ur,yr)*256*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Bt.y,u_tex_y_b:Jt.y,u_mix:xe.t})};function Ys(ge,J){return 1/gn(ge,1,J.tileZoom)}function Zs(ge,J,me){return ge.translatePosMatrix(J.tileID.posMatrix,J,me.paint.get("line-translate"),me.paint.get("line-translate-anchor"))}var Kf=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_tl_parent:new n.Uniform2f(ge,J.u_tl_parent),u_scale_parent:new n.Uniform1f(ge,J.u_scale_parent),u_buffer_scale:new n.Uniform1f(ge,J.u_buffer_scale),u_fade_t:new n.Uniform1f(ge,J.u_fade_t),u_opacity:new n.Uniform1f(ge,J.u_opacity),u_image0:new n.Uniform1i(ge,J.u_image0),u_image1:new n.Uniform1i(ge,J.u_image1),u_brightness_low:new n.Uniform1f(ge,J.u_brightness_low),u_brightness_high:new n.Uniform1f(ge,J.u_brightness_high),u_saturation_factor:new n.Uniform1f(ge,J.u_saturation_factor),u_contrast_factor:new n.Uniform1f(ge,J.u_contrast_factor),u_spin_weights:new n.Uniform3f(ge,J.u_spin_weights)}},nu=function(ge,J,me,ie,xe){return{u_matrix:ge,u_tl_parent:J,u_scale_parent:me,u_buffer_scale:1,u_fade_t:ie.mix,u_opacity:ie.opacity*xe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:xe.paint.get("raster-brightness-min"),u_brightness_high:xe.paint.get("raster-brightness-max"),u_saturation_factor:ff(xe.paint.get("raster-saturation")),u_contrast_factor:Rl(xe.paint.get("raster-contrast")),u_spin_weights:fa(xe.paint.get("raster-hue-rotate"))}};function fa(ge){ge*=Math.PI/180;var J=Math.sin(ge),me=Math.cos(ge);return[(2*me+1)/3,(-Math.sqrt(3)*J-me+1)/3,(Math.sqrt(3)*J-me+1)/3]}function Rl(ge){return ge>0?1/(1-ge):1+ge}function ff(ge){return ge>0?1-1/(1.001-ge):-ge}var cf=function(ge,J){return{u_is_size_zoom_constant:new n.Uniform1i(ge,J.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ge,J.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ge,J.u_size_t),u_size:new n.Uniform1f(ge,J.u_size),u_camera_to_center_distance:new n.Uniform1f(ge,J.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ge,J.u_pitch),u_rotate_symbol:new n.Uniform1i(ge,J.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ge,J.u_aspect_ratio),u_fade_change:new n.Uniform1f(ge,J.u_fade_change),u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ge,J.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ge,J.u_coord_matrix),u_is_text:new n.Uniform1i(ge,J.u_is_text),u_pitch_with_map:new n.Uniform1i(ge,J.u_pitch_with_map),u_texsize:new n.Uniform2f(ge,J.u_texsize),u_texture:new n.Uniform1i(ge,J.u_texture)}},sl=function(ge,J){return{u_is_size_zoom_constant:new n.Uniform1i(ge,J.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ge,J.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ge,J.u_size_t),u_size:new n.Uniform1f(ge,J.u_size),u_camera_to_center_distance:new n.Uniform1f(ge,J.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ge,J.u_pitch),u_rotate_symbol:new n.Uniform1i(ge,J.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ge,J.u_aspect_ratio),u_fade_change:new n.Uniform1f(ge,J.u_fade_change),u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ge,J.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ge,J.u_coord_matrix),u_is_text:new n.Uniform1i(ge,J.u_is_text),u_pitch_with_map:new n.Uniform1i(ge,J.u_pitch_with_map),u_texsize:new n.Uniform2f(ge,J.u_texsize),u_texture:new n.Uniform1i(ge,J.u_texture),u_gamma_scale:new n.Uniform1f(ge,J.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ge,J.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ge,J.u_is_halo)}},ev=function(ge,J){return{u_is_size_zoom_constant:new n.Uniform1i(ge,J.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ge,J.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ge,J.u_size_t),u_size:new n.Uniform1f(ge,J.u_size),u_camera_to_center_distance:new n.Uniform1f(ge,J.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ge,J.u_pitch),u_rotate_symbol:new n.Uniform1i(ge,J.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ge,J.u_aspect_ratio),u_fade_change:new n.Uniform1f(ge,J.u_fade_change),u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ge,J.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ge,J.u_coord_matrix),u_is_text:new n.Uniform1i(ge,J.u_is_text),u_pitch_with_map:new n.Uniform1i(ge,J.u_pitch_with_map),u_texsize:new n.Uniform2f(ge,J.u_texsize),u_texsize_icon:new n.Uniform2f(ge,J.u_texsize_icon),u_texture:new n.Uniform1i(ge,J.u_texture),u_texture_icon:new n.Uniform1i(ge,J.u_texture_icon),u_gamma_scale:new n.Uniform1f(ge,J.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ge,J.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ge,J.u_is_halo)}},Jf=function(ge,J,me,ie,xe,ze,je,st,mt,Bt){var Jt=xe.transform;return{u_is_size_zoom_constant:+(ge==="constant"||ge==="source"),u_is_size_feature_constant:+(ge==="constant"||ge==="camera"),u_size_t:J?J.uSizeT:0,u_size:J?J.uSize:0,u_camera_to_center_distance:Jt.cameraToCenterDistance,u_pitch:Jt.pitch/360*2*Math.PI,u_rotate_symbol:+me,u_aspect_ratio:Jt.width/Jt.height,u_fade_change:xe.options.fadeDuration?xe.symbolFadeChange:1,u_matrix:ze,u_label_plane_matrix:je,u_coord_matrix:st,u_is_text:+mt,u_pitch_with_map:+ie,u_texsize:Bt,u_texture:0}},iu=function(ge,J,me,ie,xe,ze,je,st,mt,Bt,Jt){var ur=xe.transform;return n.extend(Jf(ge,J,me,ie,xe,ze,je,st,mt,Bt),{u_gamma_scale:ie?Math.cos(ur._pitch)*ur.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+Jt})},Qf=function(ge,J,me,ie,xe,ze,je,st,mt,Bt){return n.extend(iu(ge,J,me,ie,xe,ze,je,st,!0,mt,!0),{u_texsize_icon:Bt,u_texture_icon:1})},zc=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_opacity:new n.Uniform1f(ge,J.u_opacity),u_color:new n.UniformColor(ge,J.u_color)}},js=function(ge,J){return{u_matrix:new n.UniformMatrix4f(ge,J.u_matrix),u_opacity:new n.Uniform1f(ge,J.u_opacity),u_image:new n.Uniform1i(ge,J.u_image),u_pattern_tl_a:new n.Uniform2f(ge,J.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(ge,J.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(ge,J.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(ge,J.u_pattern_br_b),u_texsize:new n.Uniform2f(ge,J.u_texsize),u_mix:new n.Uniform1f(ge,J.u_mix),u_pattern_size_a:new n.Uniform2f(ge,J.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(ge,J.u_pattern_size_b),u_scale_a:new n.Uniform1f(ge,J.u_scale_a),u_scale_b:new n.Uniform1f(ge,J.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(ge,J.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ge,J.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(ge,J.u_tile_units_to_pixels)}},ll=function(ge,J,me){return{u_matrix:ge,u_opacity:J,u_color:me}},Dl=function(ge,J,me,ie,xe,ze){return n.extend(Zf(ie,ze,me,xe),{u_matrix:ge,u_opacity:J})},_l={fillExtrusion:Wa,fillExtrusionPattern:Lu,fill:Gs,fillPattern:nl,fillOutline:il,fillOutlinePattern:al,circle:af,collisionBox:Jh,collisionCircle:Qh,debug:_c,clippingMask:uo,heatmap:Du,heatmapTexture:Ll,hillshade:qh,hillshadePrepare:kc,line:Ga,lineGradient:Cs,linePattern:Xf,lineSDF:Fc,raster:Kf,symbolIcon:cf,symbolSDF:sl,symbolTextAndIcon:ev,background:zc,backgroundPattern:js},Oo;function Go(ge,J,me,ie,xe,ze,je){for(var st=ge.context,mt=st.gl,Bt=ge.useProgram("collisionBox"),Jt=[],ur=0,yr=0,Ir=0;Ir<ie.length;Ir++){var Wr=ie[Ir],Gr=J.getTile(Wr),Hr=Gr.getBucket(me);if(Hr){var Qr=Wr.posMatrix;(xe[0]!==0||xe[1]!==0)&&(Qr=ge.translatePosMatrix(Wr.posMatrix,Gr,xe,ze));var sn=je?Hr.textCollisionBox:Hr.iconCollisionBox,Sn=Hr.collisionCircleArray;if(Sn.length>0){var Fn=n.create(),Gn=Qr;n.mul(Fn,Hr.placementInvProjMatrix,ge.transform.glCoordMatrix),n.mul(Fn,Fn,Hr.placementViewportMatrix),Jt.push({circleArray:Sn,circleOffset:yr,transform:Gn,invTransform:Fn}),ur+=Sn.length/4,yr=ur}sn&&Bt.draw(st,mt.LINES,Fr.disabled,Yt.disabled,ge.colorModeForRenderPass(),Et.disabled,$h(Qr,ge.transform,Gr),me.id,sn.layoutVertexBuffer,sn.indexBuffer,sn.segments,null,ge.transform.zoom,null,null,sn.collisionVertexBuffer)}}if(!(!je||!Jt.length)){var Zn=ge.useProgram("collisionCircle"),Yn=new n.StructArrayLayout2f1f2i16;Yn.resize(ur*4),Yn._trim();for(var ri=0,fi=0,ui=Jt;fi<ui.length;fi+=1)for(var pi=ui[fi],wi=0;wi<pi.circleArray.length/4;wi++){var _i=wi*4,Hi=pi.circleArray[_i+0],sa=pi.circleArray[_i+1],Wi=pi.circleArray[_i+2],Ki=pi.circleArray[_i+3];Yn.emplace(ri++,Hi,sa,Wi,Ki,0),Yn.emplace(ri++,Hi,sa,Wi,Ki,1),Yn.emplace(ri++,Hi,sa,Wi,Ki,2),Yn.emplace(ri++,Hi,sa,Wi,Ki,3)}(!Oo||Oo.length<ur*2)&&(Oo=kl(ur));for(var Li=st.createIndexBuffer(Oo,!0),la=st.createVertexBuffer(Yn,n.collisionCircleLayout.members,!0),ha=0,da=Jt;ha<da.length;ha+=1){var Qi=da[ha],Sa=of(Qi.transform,Qi.invTransform,ge.transform);Zn.draw(st,mt.TRIANGLES,Fr.disabled,Yt.disabled,ge.colorModeForRenderPass(),Et.disabled,Sa,me.id,la,Li,n.SegmentVector.simpleSegment(0,Qi.circleOffset*2,Qi.circleArray.length,Qi.circleArray.length/2),null,ge.transform.zoom,null,null,null)}la.destroy(),Li.destroy()}}function kl(ge){var J=ge*2,me=new n.StructArrayLayout3ui6;me.resize(J),me._trim();for(var ie=0;ie<J;ie++){var xe=ie*6;me.uint16[xe+0]=ie*4+0,me.uint16[xe+1]=ie*4+1,me.uint16[xe+2]=ie*4+2,me.uint16[xe+3]=ie*4+2,me.uint16[xe+4]=ie*4+3,me.uint16[xe+5]=ie*4+0}return me}var Oc=n.identity(new Float32Array(16));function au(ge,J,me,ie,xe){if(ge.renderPass==="translucent"){var ze=Yt.disabled,je=ge.colorModeForRenderPass(),st=me.layout.get("text-variable-anchor");st&&Bc(ie,ge,me,J,me.layout.get("text-rotation-alignment"),me.layout.get("text-pitch-alignment"),xe),me.paint.get("icon-opacity").constantOr(1)!==0&&ul(ge,J,me,ie,!1,me.paint.get("icon-translate"),me.paint.get("icon-translate-anchor"),me.layout.get("icon-rotation-alignment"),me.layout.get("icon-pitch-alignment"),me.layout.get("icon-keep-upright"),ze,je),me.paint.get("text-opacity").constantOr(1)!==0&&ul(ge,J,me,ie,!0,me.paint.get("text-translate"),me.paint.get("text-translate-anchor"),me.layout.get("text-rotation-alignment"),me.layout.get("text-pitch-alignment"),me.layout.get("text-keep-upright"),ze,je),J.map.showCollisionBoxes&&(Go(ge,J,me,ie,me.paint.get("text-translate"),me.paint.get("text-translate-anchor"),!0),Go(ge,J,me,ie,me.paint.get("icon-translate"),me.paint.get("icon-translate-anchor"),!1))}}function hf(ge,J,me,ie,xe,ze){var je=n.getAnchorAlignment(ge),st=je.horizontalAlign,mt=je.verticalAlign,Bt=-(st-.5)*J,Jt=-(mt-.5)*me,ur=n.evaluateVariableOffset(ge,ie);return new n.Point((Bt/xe+ur[0])*ze,(Jt/xe+ur[1])*ze)}function Bc(ge,J,me,ie,xe,ze,je){for(var st=J.transform,mt=xe==="map",Bt=ze==="map",Jt=0,ur=ge;Jt<ur.length;Jt+=1){var yr=ur[Jt],Ir=ie.getTile(yr),Wr=Ir.getBucket(me);if(!(!Wr||!Wr.text||!Wr.text.segments.get().length)){var Gr=Wr.textSizeData,Hr=n.evaluateSizeForZoom(Gr,st.zoom),Qr=gn(Ir,1,J.transform.zoom),sn=Ar(yr.posMatrix,Bt,mt,J.transform,Qr),Sn=me.layout.get("icon-text-fit")!=="none"&&Wr.hasIconData();if(Hr){var Fn=Math.pow(2,st.zoom-Ir.tileID.overscaledZ);cs(Wr,mt,Bt,je,n.symbolSize,st,sn,yr.posMatrix,Fn,Hr,Sn)}}}}function cs(ge,J,me,ie,xe,ze,je,st,mt,Bt,Jt){var ur=ge.text.placedSymbolArray,yr=ge.text.dynamicLayoutVertexArray,Ir=ge.icon.dynamicLayoutVertexArray,Wr={};yr.clear();for(var Gr=0;Gr<ur.length;Gr++){var Hr=ur.get(Gr),Qr=ge.allowVerticalPlacement&&!Hr.placedOrientation,sn=!Hr.hidden&&Hr.crossTileID&&!Qr?ie[Hr.crossTileID]:null;if(!sn)ei(Hr.numGlyphs,yr);else{var Sn=new n.Point(Hr.anchorX,Hr.anchorY),Fn=Br(Sn,me?st:je),Gn=qr(ze.cameraToCenterDistance,Fn.signedDistanceFromCamera),Zn=xe.evaluateSizeForFeature(ge.textSizeData,Bt,Hr)*Gn/n.ONE_EM;me&&(Zn*=ge.tilePixelRatio/mt);for(var Yn=sn.width,ri=sn.height,fi=sn.anchor,ui=sn.textOffset,pi=sn.textBoxScale,wi=hf(fi,Yn,ri,ui,pi,Zn),_i=me?Br(Sn.add(wi),je).point:Fn.point.add(J?wi.rotate(-ze.angle):wi),Hi=ge.allowVerticalPlacement&&Hr.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,sa=0;sa<Hr.numGlyphs;sa++)n.addDynamicAttributes(yr,_i,Hi);Jt&&Hr.associatedIconIndex>=0&&(Wr[Hr.associatedIconIndex]={shiftedAnchor:_i,angle:Hi})}}if(Jt){Ir.clear();for(var Wi=ge.icon.placedSymbolArray,Ki=0;Ki<Wi.length;Ki++){var Li=Wi.get(Ki);if(Li.hidden)ei(Li.numGlyphs,Ir);else{var la=Wr[Ki];if(!la)ei(Li.numGlyphs,Ir);else for(var ha=0;ha<Li.numGlyphs;ha++)n.addDynamicAttributes(Ir,la.shiftedAnchor,la.angle)}}ge.icon.dynamicLayoutVertexBuffer.updateData(Ir)}ge.text.dynamicLayoutVertexBuffer.updateData(yr)}function $f(ge,J,me){return me.iconsInText&&J?"symbolTextAndIcon":ge?"symbolSDF":"symbolIcon"}function ul(ge,J,me,ie,xe,ze,je,st,mt,Bt,Jt,ur){for(var yr=ge.context,Ir=yr.gl,Wr=ge.transform,Gr=st==="map",Hr=mt==="map",Qr=Gr&&me.layout.get("symbol-placement")!=="point",sn=Gr&&!Hr&&!Qr,Sn=me.layout.get("symbol-sort-key").constantOr(1)!==void 0,Fn=ge.depthModeForSublayer(0,Fr.ReadOnly),Gn=me.layout.get("text-variable-anchor"),Zn=[],Yn=0,ri=ie;Yn<ri.length;Yn+=1){var fi=ri[Yn],ui=J.getTile(fi),pi=ui.getBucket(me);if(pi){var wi=xe?pi.text:pi.icon;if(!(!wi||!wi.segments.get().length)){var _i=wi.programConfigurations.get(me.id),Hi=xe||pi.sdfIcons,sa=xe?pi.textSizeData:pi.iconSizeData,Wi=Hr||Wr.pitch!==0,Ki=ge.useProgram($f(Hi,xe,pi),_i),Li=n.evaluateSizeForZoom(sa,Wr.zoom),la=void 0,ha=[0,0],da=void 0,Qi=void 0,Sa=null,Vi=void 0;if(xe){if(da=ui.glyphAtlasTexture,Qi=Ir.LINEAR,la=ui.glyphAtlasTexture.size,pi.iconsInText){ha=ui.imageAtlasTexture.size,Sa=ui.imageAtlasTexture;var qi=sa.kind==="composite"||sa.kind==="camera";Vi=Wi||ge.options.rotating||ge.options.zooming||qi?Ir.LINEAR:Ir.NEAREST}}else{var ja=me.layout.get("icon-size").constantOr(0)!==1||pi.iconsNeedLinear;da=ui.imageAtlasTexture,Qi=Hi||ge.options.rotating||ge.options.zooming||ja||Wi?Ir.LINEAR:Ir.NEAREST,la=ui.imageAtlasTexture.size}var fo=gn(ui,1,ge.transform.zoom),cl=Ar(fi.posMatrix,Hr,Gr,ge.transform,fo),hl=Or(fi.posMatrix,Hr,Gr,ge.transform,fo),ou=Gn&&pi.hasTextData(),su=me.layout.get("icon-text-fit")!=="none"&&ou&&pi.hasIconData();Qr&&fn(pi,fi.posMatrix,ge,xe,cl,hl,Hr,Bt);var Uu=ge.translatePosMatrix(fi.posMatrix,ui,ze,je),lu=Qr||xe&&Gn||su?Oc:cl,vs=ge.translatePosMatrix(hl,ui,ze,je,!0),wf=Hi&&me.paint.get(xe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Zo=void 0;Hi?pi.iconsInText?Zo=Qf(sa.kind,Li,sn,Hr,ge,Uu,lu,vs,la,ha):Zo=iu(sa.kind,Li,sn,Hr,ge,Uu,lu,vs,xe,la,!0):Zo=Jf(sa.kind,Li,sn,Hr,ge,Uu,lu,vs,xe,la);var Ks={program:Ki,buffers:wi,uniformValues:Zo,atlasTexture:da,atlasTextureIcon:Sa,atlasInterpolation:Qi,atlasInterpolationIcon:Vi,isSDF:Hi,hasHalo:wf};if(Sn)for(var uu=wi.segments.get(),zl=0,fu=uu;zl<fu.length;zl+=1){var Wv=fu[zl];Zn.push({segments:new n.SegmentVector([Wv]),sortKey:Wv.sortKey,state:Ks})}else Zn.push({segments:wi.segments,sortKey:0,state:Ks})}}}Sn&&Zn.sort(function(Gv,Yv){return Gv.sortKey-Yv.sortKey});for(var nc=0,Bo=Zn;nc<Bo.length;nc+=1){var ov=Bo[nc],rs=ov.state;if(yr.activeTexture.set(Ir.TEXTURE0),rs.atlasTexture.bind(rs.atlasInterpolation,Ir.CLAMP_TO_EDGE),rs.atlasTextureIcon&&(yr.activeTexture.set(Ir.TEXTURE1),rs.atlasTextureIcon&&rs.atlasTextureIcon.bind(rs.atlasInterpolationIcon,Ir.CLAMP_TO_EDGE)),rs.isSDF){var sv=rs.uniformValues;rs.hasHalo&&(sv.u_is_halo=1,ku(rs.buffers,ov.segments,me,ge,rs.program,Fn,Jt,ur,sv)),sv.u_is_halo=0}ku(rs.buffers,ov.segments,me,ge,rs.program,Fn,Jt,ur,rs.uniformValues)}}function ku(ge,J,me,ie,xe,ze,je,st,mt){var Bt=ie.context,Jt=Bt.gl;xe.draw(Bt,Jt.TRIANGLES,ze,je,st,Et.disabled,mt,me.id,ge.layoutVertexBuffer,ge.indexBuffer,J,me.paint,ie.transform.zoom,ge.programConfigurations.get(me.id),ge.dynamicLayoutVertexBuffer,ge.opacityVertexBuffer)}function Xs(ge,J,me,ie){if(ge.renderPass==="translucent"){var xe=me.paint.get("circle-opacity"),ze=me.paint.get("circle-stroke-width"),je=me.paint.get("circle-stroke-opacity"),st=me.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(xe.constantOr(1)===0&&(ze.constantOr(1)===0||je.constantOr(1)===0))){for(var mt=ge.context,Bt=mt.gl,Jt=ge.depthModeForSublayer(0,Fr.ReadOnly),ur=Yt.disabled,yr=ge.colorModeForRenderPass(),Ir=[],Wr=0;Wr<ie.length;Wr++){var Gr=ie[Wr],Hr=J.getTile(Gr),Qr=Hr.getBucket(me);if(Qr){var sn=Qr.programConfigurations.get(me.id),Sn=ge.useProgram("circle",sn),Fn=Qr.layoutVertexBuffer,Gn=Qr.indexBuffer,Zn=Kh(ge,Gr,Hr,me),Yn={programConfiguration:sn,program:Sn,layoutVertexBuffer:Fn,indexBuffer:Gn,uniformValues:Zn};if(st)for(var ri=Qr.segments.get(),fi=0,ui=ri;fi<ui.length;fi+=1){var pi=ui[fi];Ir.push({segments:new n.SegmentVector([pi]),sortKey:pi.sortKey,state:Yn})}else Ir.push({segments:Qr.segments,sortKey:0,state:Yn})}}st&&Ir.sort(function(Qi,Sa){return Qi.sortKey-Sa.sortKey});for(var wi=0,_i=Ir;wi<_i.length;wi+=1){var Hi=_i[wi],sa=Hi.state,Wi=sa.programConfiguration,Ki=sa.program,Li=sa.layoutVertexBuffer,la=sa.indexBuffer,ha=sa.uniformValues,da=Hi.segments;Ki.draw(mt,Bt.TRIANGLES,Jt,ur,yr,Et.disabled,ha,me.id,Li,la,da,me.paint,ge.transform.zoom,Wi)}}}}function tv(ge,J,me,ie){if(me.paint.get("heatmap-opacity")!==0)if(ge.renderPass==="offscreen"){var xe=ge.context,ze=xe.gl,je=Yt.disabled,st=new lt([ze.ONE,ze.ONE],n.Color.transparent,[!0,!0,!0,!0]);qf(xe,ge,me),xe.clear({color:n.Color.transparent});for(var mt=0;mt<ie.length;mt++){var Bt=ie[mt];if(!J.hasRenderableParent(Bt)){var Jt=J.getTile(Bt),ur=Jt.getBucket(me);if(ur){var yr=ur.programConfigurations.get(me.id),Ir=ge.useProgram("heatmap",yr),Wr=ge.transform,Gr=Wr.zoom;Ir.draw(xe,ze.TRIANGLES,Fr.disabled,je,st,Et.disabled,_u(Bt.posMatrix,Jt,Gr,me.paint.get("heatmap-intensity")),me.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,me.paint,ge.transform.zoom,yr)}}}xe.viewport.set([0,0,ge.width,ge.height])}else ge.renderPass==="translucent"&&(ge.context.setColorMode(ge.colorModeForRenderPass()),To(ge,me))}function qf(ge,J,me){var ie=ge.gl;ge.activeTexture.set(ie.TEXTURE1),ge.viewport.set([0,0,J.width/4,J.height/4]);var xe=me.heatmapFbo;if(xe)ie.bindTexture(ie.TEXTURE_2D,xe.colorAttachment.get()),ge.bindFramebuffer.set(xe.framebuffer);else{var ze=ie.createTexture();ie.bindTexture(ie.TEXTURE_2D,ze),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_WRAP_S,ie.CLAMP_TO_EDGE),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_WRAP_T,ie.CLAMP_TO_EDGE),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MIN_FILTER,ie.LINEAR),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MAG_FILTER,ie.LINEAR),xe=me.heatmapFbo=ge.createFramebuffer(J.width/4,J.height/4,!1),vf(ge,J,ze,xe)}}function vf(ge,J,me,ie){var xe=ge.gl,ze=ge.extRenderToTextureHalfFloat?ge.extTextureHalfFloat.HALF_FLOAT_OES:xe.UNSIGNED_BYTE;xe.texImage2D(xe.TEXTURE_2D,0,xe.RGBA,J.width/4,J.height/4,0,xe.RGBA,ze,null),ie.colorAttachment.set(me)}function To(ge,J){var me=ge.context,ie=me.gl,xe=J.heatmapFbo;if(xe){me.activeTexture.set(ie.TEXTURE0),ie.bindTexture(ie.TEXTURE_2D,xe.colorAttachment.get()),me.activeTexture.set(ie.TEXTURE1);var ze=J.colorRampTexture;ze||(ze=J.colorRampTexture=new n.Texture(me,J.colorRamp,ie.RGBA)),ze.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),ge.useProgram("heatmapTexture").draw(me,ie.TRIANGLES,Fr.disabled,Yt.disabled,ge.colorModeForRenderPass(),Et.disabled,sf(ge,J,0,1),J.id,ge.viewportBuffer,ge.quadTriangleIndexBuffer,ge.viewportSegments,J.paint,ge.transform.zoom)}}function Nc(ge,J,me,ie){if(ge.renderPass==="translucent"){var xe=me.paint.get("line-opacity"),ze=me.paint.get("line-width");if(!(xe.constantOr(1)===0||ze.constantOr(1)===0)){var je=ge.depthModeForSublayer(0,Fr.ReadOnly),st=ge.colorModeForRenderPass(),mt=me.paint.get("line-dasharray"),Bt=me.paint.get("line-pattern"),Jt=Bt.constantOr(1),ur=me.paint.get("line-gradient"),yr=me.getCrossfadeParameters(),Ir=Jt?"linePattern":mt?"lineSDF":ur?"lineGradient":"line",Wr=ge.context,Gr=Wr.gl,Hr=!0;if(ur){Wr.activeTexture.set(Gr.TEXTURE0);var Qr=me.gradientTexture;if(!me.gradient)return;Qr||(Qr=me.gradientTexture=new n.Texture(Wr,me.gradient,Gr.RGBA)),Qr.bind(Gr.LINEAR,Gr.CLAMP_TO_EDGE)}for(var sn=0,Sn=ie;sn<Sn.length;sn+=1){var Fn=Sn[sn],Gn=J.getTile(Fn);if(!(Jt&&!Gn.patternsLoaded())){var Zn=Gn.getBucket(me);if(Zn){var Yn=Zn.programConfigurations.get(me.id),ri=ge.context.program.get(),fi=ge.useProgram(Ir,Yn),ui=Hr||fi.program!==ri,pi=Bt.constantOr(null);if(pi&&Gn.imageAtlas){var wi=Gn.imageAtlas,_i=wi.patternPositions[pi.to.toString()],Hi=wi.patternPositions[pi.from.toString()];_i&&Hi&&Yn.setConstantPatternPositions(_i,Hi)}var sa=Jt?fs(ge,Gn,me,yr):mt?uf(ge,Gn,me,mt,yr):ur?lf(ge,Gn,me):Pl(ge,Gn,me);Jt?(Wr.activeTexture.set(Gr.TEXTURE0),Gn.imageAtlasTexture.bind(Gr.LINEAR,Gr.CLAMP_TO_EDGE),Yn.updatePaintBuffers(yr)):mt&&(ui||ge.lineAtlas.dirty)&&(Wr.activeTexture.set(Gr.TEXTURE0),ge.lineAtlas.bind(Wr)),fi.draw(Wr,Gr.TRIANGLES,je,ge.stencilModeForClipping(Fn),st,Et.disabled,sa,me.id,Zn.layoutVertexBuffer,Zn.indexBuffer,Zn.segments,me.paint,ge.transform.zoom,Yn),Hr=!1}}}}}}function Iu(ge,J,me,ie){var xe=me.paint.get("fill-color"),ze=me.paint.get("fill-opacity");if(ze.constantOr(1)!==0){var je=ge.colorModeForRenderPass(),st=me.paint.get("fill-pattern"),mt=ge.opaquePassEnabledForLayer()&&!st.constantOr(1)&&xe.constantOr(n.Color.transparent).a===1&&ze.constantOr(0)===1?"opaque":"translucent";if(ge.renderPass===mt){var Bt=ge.depthModeForSublayer(1,ge.renderPass==="opaque"?Fr.ReadWrite:Fr.ReadOnly);Ls(ge,J,me,ie,Bt,je,!1)}if(ge.renderPass==="translucent"&&me.paint.get("fill-antialias")){var Jt=ge.depthModeForSublayer(me.getPaintProperty("fill-outline-color")?2:0,Fr.ReadOnly);Ls(ge,J,me,ie,Jt,je,!0)}}}function Ls(ge,J,me,ie,xe,ze,je){var st=ge.context.gl,mt=me.paint.get("fill-pattern"),Bt=mt&&mt.constantOr(1),Jt=me.getCrossfadeParameters(),ur,yr,Ir,Wr,Gr;je?(yr=Bt&&!me.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ur=st.LINES):(yr=Bt?"fillPattern":"fill",ur=st.TRIANGLES);for(var Hr=0,Qr=ie;Hr<Qr.length;Hr+=1){var sn=Qr[Hr],Sn=J.getTile(sn);if(!(Bt&&!Sn.patternsLoaded())){var Fn=Sn.getBucket(me);if(Fn){var Gn=Fn.programConfigurations.get(me.id),Zn=ge.useProgram(yr,Gn);Bt&&(ge.context.activeTexture.set(st.TEXTURE0),Sn.imageAtlasTexture.bind(st.LINEAR,st.CLAMP_TO_EDGE),Gn.updatePaintBuffers(Jt));var Yn=mt.constantOr(null);if(Yn&&Sn.imageAtlas){var ri=Sn.imageAtlas,fi=ri.patternPositions[Yn.to.toString()],ui=ri.patternPositions[Yn.from.toString()];fi&&ui&&Gn.setConstantPatternPositions(fi,ui)}var pi=ge.translatePosMatrix(sn.posMatrix,Sn,me.paint.get("fill-translate"),me.paint.get("fill-translate-anchor"));if(!je)Wr=Fn.indexBuffer,Gr=Fn.segments,Ir=Bt?Es(pi,ge,Jt,Sn):us(pi);else{Wr=Fn.indexBuffer2,Gr=Fn.segments2;var wi=[st.drawingBufferWidth,st.drawingBufferHeight];Ir=yr==="fillOutlinePattern"&&Bt?Ru(pi,ge,Jt,Sn,wi):Pu(pi,wi)}Zn.draw(ge.context,ur,xe,ge.stencilModeForClipping(sn),ze,Et.disabled,Ir,me.id,Fn.layoutVertexBuffer,Wr,Gr,me.paint,ge.transform.zoom,Gn)}}}}function Fu(ge,J,me,ie){var xe=me.paint.get("fill-extrusion-opacity");if(xe!==0&&ge.renderPass==="translucent"){var ze=new Fr(ge.context.gl.LEQUAL,Fr.ReadWrite,ge.depthRangeFor3D);if(xe===1&&!me.paint.get("fill-extrusion-pattern").constantOr(1)){var je=ge.colorModeForRenderPass();fl(ge,J,me,ie,ze,Yt.disabled,je)}else fl(ge,J,me,ie,ze,Yt.disabled,lt.disabled),fl(ge,J,me,ie,ze,ge.stencilModeFor3D(),ge.colorModeForRenderPass())}}function fl(ge,J,me,ie,xe,ze,je){for(var st=ge.context,mt=st.gl,Bt=me.paint.get("fill-extrusion-pattern"),Jt=Bt.constantOr(1),ur=me.getCrossfadeParameters(),yr=me.paint.get("fill-extrusion-opacity"),Ir=0,Wr=ie;Ir<Wr.length;Ir+=1){var Gr=Wr[Ir],Hr=J.getTile(Gr),Qr=Hr.getBucket(me);if(Qr){var sn=Qr.programConfigurations.get(me.id),Sn=ge.useProgram(Jt?"fillExtrusionPattern":"fillExtrusion",sn);Jt&&(ge.context.activeTexture.set(mt.TEXTURE0),Hr.imageAtlasTexture.bind(mt.LINEAR,mt.CLAMP_TO_EDGE),sn.updatePaintBuffers(ur));var Fn=Bt.constantOr(null);if(Fn&&Hr.imageAtlas){var Gn=Hr.imageAtlas,Zn=Gn.patternPositions[Fn.to.toString()],Yn=Gn.patternPositions[Fn.from.toString()];Zn&&Yn&&sn.setConstantPatternPositions(Zn,Yn)}var ri=ge.translatePosMatrix(Gr.posMatrix,Hr,me.paint.get("fill-extrusion-translate"),me.paint.get("fill-extrusion-translate-anchor")),fi=me.paint.get("fill-extrusion-vertical-gradient"),ui=Jt?Ws(ri,ge,fi,yr,Gr,ur,Hr):Fo(ri,ge,fi,yr);Sn.draw(st,st.gl.TRIANGLES,xe,ze,je,Et.backCCW,ui,me.id,Qr.layoutVertexBuffer,Qr.indexBuffer,Qr.segments,me.paint,ge.transform.zoom,sn)}}}function df(ge,J,me,ie){if(!(ge.renderPass!=="offscreen"&&ge.renderPass!=="translucent")){for(var xe=ge.context,ze=J.getSource().maxzoom,je=ge.depthModeForSublayer(0,Fr.ReadOnly),st=ge.colorModeForRenderPass(),mt=ge.renderPass==="translucent"?ge.stencilConfigForOverlap(ie):[{},ie],Bt=mt[0],Jt=mt[1],ur=0,yr=Jt;ur<yr.length;ur+=1){var Ir=yr[ur],Wr=J.getTile(Ir);Wr.needsHillshadePrepare&&ge.renderPass==="offscreen"?ec(ge,Wr,me,ze,je,Yt.disabled,st):ge.renderPass==="translucent"&&Uc(ge,Wr,me,je,Bt[Ir.overscaledZ],st)}xe.viewport.set([0,0,ge.width,ge.height])}}function Uc(ge,J,me,ie,xe,ze){var je=ge.context,st=je.gl,mt=J.fbo;if(mt){var Bt=ge.useProgram("hillshade");je.activeTexture.set(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,mt.colorAttachment.get());var Jt=Ic(ge,J,me);Bt.draw(je,st.TRIANGLES,ie,xe,ze,Et.disabled,Jt,me.id,ge.rasterBoundsBuffer,ge.quadTriangleIndexBuffer,ge.rasterBoundsSegments)}}function ec(ge,J,me,ie,xe,ze,je){var st=ge.context,mt=st.gl,Bt=J.dem;if(Bt&&Bt.data){var Jt=Bt.dim,ur=Bt.stride,yr=Bt.getPixels();if(st.activeTexture.set(mt.TEXTURE1),st.pixelStoreUnpackPremultiplyAlpha.set(!1),J.demTexture=J.demTexture||ge.getTileTexture(ur),J.demTexture){var Ir=J.demTexture;Ir.update(yr,{premultiply:!1}),Ir.bind(mt.NEAREST,mt.CLAMP_TO_EDGE)}else J.demTexture=new n.Texture(st,yr,mt.RGBA,{premultiply:!1}),J.demTexture.bind(mt.NEAREST,mt.CLAMP_TO_EDGE);st.activeTexture.set(mt.TEXTURE0);var Wr=J.fbo;if(!Wr){var Gr=new n.Texture(st,{width:Jt,height:Jt,data:null},mt.RGBA);Gr.bind(mt.LINEAR,mt.CLAMP_TO_EDGE),Wr=J.fbo=st.createFramebuffer(Jt,Jt,!0),Wr.colorAttachment.set(Gr.texture)}st.bindFramebuffer.set(Wr.framebuffer),st.viewport.set([0,0,Jt,Jt]),ge.useProgram("hillshadePrepare").draw(st,mt.TRIANGLES,xe,ze,je,Et.disabled,jf(J.tileID,Bt,ie),me.id,ge.rasterBoundsBuffer,ge.quadTriangleIndexBuffer,ge.rasterBoundsSegments),J.needsHillshadePrepare=!1}}function tc(ge,J,me,ie){if(ge.renderPass==="translucent"&&me.paint.get("raster-opacity")!==0&&ie.length)for(var xe=ge.context,ze=xe.gl,je=J.getSource(),st=ge.useProgram("raster"),mt=ge.colorModeForRenderPass(),Bt=je instanceof re?[{},ie]:ge.stencilConfigForOverlap(ie),Jt=Bt[0],ur=Bt[1],yr=ur[ur.length-1].overscaledZ,Ir=!ge.options.moving,Wr=0,Gr=ur;Wr<Gr.length;Wr+=1){var Hr=Gr[Wr],Qr=ge.depthModeForSublayer(Hr.overscaledZ-yr,me.paint.get("raster-opacity")===1?Fr.ReadWrite:Fr.ReadOnly,ze.LESS),sn=J.getTile(Hr),Sn=ge.transform.calculatePosMatrix(Hr.toUnwrapped(),Ir);sn.registerFadeDuration(me.paint.get("raster-fade-duration"));var Fn=J.findLoadedParent(Hr,0),Gn=Il(sn,Fn,J,me,ge.transform),Zn=void 0,Yn=void 0,ri=me.paint.get("raster-resampling")==="nearest"?ze.NEAREST:ze.LINEAR;xe.activeTexture.set(ze.TEXTURE0),sn.texture.bind(ri,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),xe.activeTexture.set(ze.TEXTURE1),Fn?(Fn.texture.bind(ri,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),Zn=Math.pow(2,Fn.tileID.overscaledZ-sn.tileID.overscaledZ),Yn=[sn.tileID.canonical.x*Zn%1,sn.tileID.canonical.y*Zn%1]):sn.texture.bind(ri,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);var fi=nu(Sn,Yn||[0,0],Zn||1,Gn,me);je instanceof re?st.draw(xe,ze.TRIANGLES,Qr,Yt.disabled,mt,Et.disabled,fi,me.id,je.boundsBuffer,ge.quadTriangleIndexBuffer,je.boundsSegments):st.draw(xe,ze.TRIANGLES,Qr,Jt[Hr.overscaledZ],mt,Et.disabled,fi,me.id,ge.rasterBoundsBuffer,ge.quadTriangleIndexBuffer,ge.rasterBoundsSegments)}}function Il(ge,J,me,ie,xe){var ze=ie.paint.get("raster-fade-duration");if(ze>0){var je=n.browser.now(),st=(je-ge.timeAdded)/ze,mt=J?(je-J.timeAdded)/ze:-1,Bt=me.getSource(),Jt=xe.coveringZoomLevel({tileSize:Bt.tileSize,roundZoom:Bt.roundZoom}),ur=!J||Math.abs(J.tileID.overscaledZ-Jt)>Math.abs(ge.tileID.overscaledZ-Jt),yr=ur&&ge.refreshedUponExpiration?1:n.clamp(ur?st:1-mt,0,1);return ge.refreshedUponExpiration&&st>=1&&(ge.refreshedUponExpiration=!1),J?{opacity:1,mix:1-yr}:{opacity:yr,mix:0}}else return{opacity:1,mix:0}}function pf(ge,J,me){var ie=me.paint.get("background-color"),xe=me.paint.get("background-opacity");if(xe!==0){var ze=ge.context,je=ze.gl,st=ge.transform,mt=st.tileSize,Bt=me.paint.get("background-pattern");if(!ge.isPatternMissing(Bt)){var Jt=!Bt&&ie.a===1&&xe===1&&ge.opaquePassEnabledForLayer()?"opaque":"translucent";if(ge.renderPass===Jt){var ur=Yt.disabled,yr=ge.depthModeForSublayer(0,Jt==="opaque"?Fr.ReadWrite:Fr.ReadOnly),Ir=ge.colorModeForRenderPass(),Wr=ge.useProgram(Bt?"backgroundPattern":"background"),Gr=st.coveringTiles({tileSize:mt});Bt&&(ze.activeTexture.set(je.TEXTURE0),ge.imageManager.bind(ge.context));for(var Hr=me.getCrossfadeParameters(),Qr=0,sn=Gr;Qr<sn.length;Qr+=1){var Sn=sn[Qr],Fn=ge.transform.calculatePosMatrix(Sn.toUnwrapped()),Gn=Bt?Dl(Fn,xe,ge,Bt,{tileID:Sn,tileSize:mt},Hr):ll(Fn,xe,ie);Wr.draw(ze,je.TRIANGLES,yr,ur,Ir,Et.disabled,Gn,me.id,ge.tileExtentBuffer,ge.quadTriangleIndexBuffer,ge.tileExtentSegments)}}}}}var zu=new n.Color(1,0,0,1),Hc=new n.Color(0,1,0,1),Ou=new n.Color(0,0,1,1),Vc=new n.Color(1,0,1,1),Ke=new n.Color(0,1,1,1);function rt(ge){var J=ge.transform.padding,me=3;pt(ge,ge.transform.height-(J.top||0),me,zu),pt(ge,J.bottom||0,me,Hc),kt(ge,J.left||0,me,Ou),kt(ge,ge.transform.width-(J.right||0),me,Vc);var ie=ge.transform.centerPoint;ht(ge,ie.x,ge.transform.height-ie.y,Ke)}function ht(ge,J,me,ie){var xe=20,ze=2;Pt(ge,J-ze/2,me-xe/2,ze,xe,ie),Pt(ge,J-xe/2,me-ze/2,xe,ze,ie)}function pt(ge,J,me,ie){Pt(ge,0,J+me/2,ge.transform.width,me,ie)}function kt(ge,J,me,ie){Pt(ge,J-me/2,0,me,ge.transform.height,ie)}function Pt(ge,J,me,ie,xe,ze){var je=ge.context,st=je.gl;st.enable(st.SCISSOR_TEST),st.scissor(J*n.browser.devicePixelRatio,me*n.browser.devicePixelRatio,ie*n.browser.devicePixelRatio,xe*n.browser.devicePixelRatio),je.clear({color:ze}),st.disable(st.SCISSOR_TEST)}function Ot(ge,J,me){for(var ie=0;ie<me.length;ie++)cr(ge,J,me[ie])}function cr(ge,J,me){var ie=ge.context,xe=ie.gl,ze=me.posMatrix,je=ge.useProgram("debug"),st=Fr.disabled,mt=Yt.disabled,Bt=ge.colorModeForRenderPass(),Jt="$debug";ie.activeTexture.set(xe.TEXTURE0),ge.emptyTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),je.draw(ie,xe.LINE_STRIP,st,mt,Bt,Et.disabled,ru(ze,n.Color.red),Jt,ge.debugBuffer,ge.tileBorderIndexBuffer,ge.debugSegments);var ur=J.getTileByID(me.key).latestRawTileData,yr=ur&&ur.byteLength||0,Ir=Math.floor(yr/1024),Wr=J.getTile(me).tileSize,Gr=512/Math.min(Wr,512)*(me.overscaledZ/ge.transform.zoom)*.5,Hr=me.canonical.toString();me.overscaledZ!==me.canonical.z&&(Hr+=" => "+me.overscaledZ);var Qr=Hr+" "+Ir+"kb";gr(ge,Qr),je.draw(ie,xe.TRIANGLES,st,mt,lt.alphaBlended,Et.disabled,ru(ze,n.Color.transparent,Gr),Jt,ge.debugBuffer,ge.quadTriangleIndexBuffer,ge.debugSegments)}function gr(ge,J){ge.initDebugOverlayCanvas();var me=ge.debugOverlayCanvas,ie=ge.context.gl,xe=ge.debugOverlayCanvas.getContext("2d");xe.clearRect(0,0,me.width,me.height),xe.shadowColor="white",xe.shadowBlur=2,xe.lineWidth=1.5,xe.strokeStyle="white",xe.textBaseline="top",xe.font="bold "+36+"px Open Sans, sans-serif",xe.fillText(J,5,5),xe.strokeText(J,5,5),ge.debugOverlayTexture.update(me),ge.debugOverlayTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE)}function ir(ge,J,me){var ie=ge.context,xe=me.implementation;if(ge.renderPass==="offscreen"){var ze=xe.prerender;ze&&(ge.setCustomLayerDefaults(),ie.setColorMode(ge.colorModeForRenderPass()),ze.call(xe,ie.gl,ge.transform.customLayerMatrix()),ie.setDirty(),ge.setBaseState())}else if(ge.renderPass==="translucent"){ge.setCustomLayerDefaults(),ie.setColorMode(ge.colorModeForRenderPass()),ie.setStencilMode(Yt.disabled);var je=xe.renderingMode==="3d"?new Fr(ge.context.gl.LEQUAL,Fr.ReadWrite,ge.depthRangeFor3D):ge.depthModeForSublayer(0,Fr.ReadOnly);ie.setDepthMode(je),xe.render(ie.gl,ge.transform.customLayerMatrix()),ie.setDirty(),ge.setBaseState(),ie.bindFramebuffer.set(null)}}var Tr={symbol:au,circle:Xs,heatmap:tv,line:Nc,fill:Iu,"fill-extrusion":Fu,hillshade:df,raster:tc,background:pf,debug:Ot,custom:ir},Pr=function(J,me){this.context=new At(J),this.transform=me,this._tileTextures={},this.setup(),this.numSublayers=Ft.maxUnderzooming+Ft.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ai,this.gpuTimers={}};Pr.prototype.resize=function(J,me){if(this.width=J*n.browser.devicePixelRatio,this.height=me*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ie=0,xe=this.style._order;ie<xe.length;ie+=1){var ze=xe[ie];this.style._layers[ze].resize()}},Pr.prototype.setup=function(){var J=this.context,me=new n.StructArrayLayout2i4;me.emplaceBack(0,0),me.emplaceBack(n.EXTENT,0),me.emplaceBack(0,n.EXTENT),me.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=J.createVertexBuffer(me,ko.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var ie=new n.StructArrayLayout2i4;ie.emplaceBack(0,0),ie.emplaceBack(n.EXTENT,0),ie.emplaceBack(0,n.EXTENT),ie.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=J.createVertexBuffer(ie,ko.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var xe=new n.StructArrayLayout4i8;xe.emplaceBack(0,0,0,0),xe.emplaceBack(n.EXTENT,0,n.EXTENT,0),xe.emplaceBack(0,n.EXTENT,0,n.EXTENT),xe.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=J.createVertexBuffer(xe,j.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var ze=new n.StructArrayLayout2i4;ze.emplaceBack(0,0),ze.emplaceBack(1,0),ze.emplaceBack(0,1),ze.emplaceBack(1,1),this.viewportBuffer=J.createVertexBuffer(ze,ko.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var je=new n.StructArrayLayout1ui2;je.emplaceBack(0),je.emplaceBack(1),je.emplaceBack(3),je.emplaceBack(2),je.emplaceBack(0),this.tileBorderIndexBuffer=J.createIndexBuffer(je);var st=new n.StructArrayLayout3ui6;st.emplaceBack(0,1,2),st.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=J.createIndexBuffer(st),this.emptyTexture=new n.Texture(J,{width:1,height:1,data:new Uint8Array([0,0,0,0])},J.gl.RGBA);var mt=this.context.gl;this.stencilClearMode=new Yt({func:mt.ALWAYS,mask:0},0,255,mt.ZERO,mt.ZERO,mt.ZERO)},Pr.prototype.clearStencil=function(){var J=this.context,me=J.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ie=n.create();n.ortho(ie,0,this.width,this.height,0,0,1),n.scale(ie,ie,[me.drawingBufferWidth,me.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(J,me.TRIANGLES,Fr.disabled,this.stencilClearMode,lt.disabled,Et.disabled,zo(ie),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Pr.prototype._renderTileClippingMasks=function(J,me){if(!(this.currentStencilSource===J.source||!J.isTileClipped()||!me||!me.length)){this.currentStencilSource=J.source;var ie=this.context,xe=ie.gl;this.nextStencilID+me.length>256&&this.clearStencil(),ie.setColorMode(lt.disabled),ie.setDepthMode(Fr.disabled);var ze=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var je=0,st=me;je<st.length;je+=1){var mt=st[je],Bt=this._tileClippingMaskIDs[mt.key]=this.nextStencilID++;ze.draw(ie,xe.TRIANGLES,Fr.disabled,new Yt({func:xe.ALWAYS,mask:0},Bt,255,xe.KEEP,xe.KEEP,xe.REPLACE),lt.disabled,Et.disabled,zo(mt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Pr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var J=this.nextStencilID++,me=this.context.gl;return new Yt({func:me.NOTEQUAL,mask:255},J,255,me.KEEP,me.KEEP,me.REPLACE)},Pr.prototype.stencilModeForClipping=function(J){var me=this.context.gl;return new Yt({func:me.EQUAL,mask:255},this._tileClippingMaskIDs[J.key],0,me.KEEP,me.KEEP,me.REPLACE)},Pr.prototype.stencilConfigForOverlap=function(J){var me,ie=this.context.gl,xe=J.sort(function(Bt,Jt){return Jt.overscaledZ-Bt.overscaledZ}),ze=xe[xe.length-1].overscaledZ,je=xe[0].overscaledZ-ze+1;if(je>1){this.currentStencilSource=void 0,this.nextStencilID+je>256&&this.clearStencil();for(var st={},mt=0;mt<je;mt++)st[mt+ze]=new Yt({func:ie.GEQUAL,mask:255},mt+this.nextStencilID,255,ie.KEEP,ie.KEEP,ie.REPLACE);return this.nextStencilID+=je,[st,xe]}return[(me={},me[ze]=Yt.disabled,me),xe]},Pr.prototype.colorModeForRenderPass=function(){var J=this.context.gl;if(this._showOverdrawInspector){var me=8,ie=1/me;return new lt([J.CONSTANT_COLOR,J.ONE],new n.Color(ie,ie,ie,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?lt.unblended:lt.alphaBlended},Pr.prototype.depthModeForSublayer=function(J,me,ie){if(!this.opaquePassEnabledForLayer())return Fr.disabled;var xe=1-((1+this.currentLayer)*this.numSublayers+J)*this.depthEpsilon;return new Fr(ie||this.context.gl.LEQUAL,me,[xe,xe])},Pr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Pr.prototype.render=function(J,me){var ie=this;this.style=J,this.options=me,this.lineAtlas=J.lineAtlas,this.imageManager=J.imageManager,this.glyphManager=J.glyphManager,this.symbolFadeChange=J.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var xe=this.style._order,ze=this.style.sourceCaches;for(var je in ze){var st=ze[je];st.used&&st.prepare(this.context)}var mt={},Bt={},Jt={};for(var ur in ze){var yr=ze[ur];mt[ur]=yr.getVisibleCoordinates(),Bt[ur]=mt[ur].slice().reverse(),Jt[ur]=yr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Ir=0;Ir<xe.length;Ir++){var Wr=xe[Ir];if(this.style._layers[Wr].is3D()){this.opaquePassCutoff=Ir;break}}this.renderPass="offscreen";for(var Gr=0,Hr=xe;Gr<Hr.length;Gr+=1){var Qr=Hr[Gr],sn=this.style._layers[Qr];if(!(!sn.hasOffscreenPass()||sn.isHidden(this.transform.zoom))){var Sn=Bt[sn.source];sn.type!=="custom"&&!Sn.length||this.renderLayer(this,ze[sn.source],sn,Sn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:me.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=me.showOverdrawInspector,this.depthRangeFor3D=[0,1-(J._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=xe.length-1;this.currentLayer>=0;this.currentLayer--){var Fn=this.style._layers[xe[this.currentLayer]],Gn=ze[Fn.source],Zn=mt[Fn.source];this._renderTileClippingMasks(Fn,Zn),this.renderLayer(this,Gn,Fn,Zn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<xe.length;this.currentLayer++){var Yn=this.style._layers[xe[this.currentLayer]],ri=ze[Yn.source],fi=(Yn.type==="symbol"?Jt:Bt)[Yn.source];this._renderTileClippingMasks(Yn,mt[Yn.source]),this.renderLayer(this,ri,Yn,fi)}if(this.options.showTileBoundaries){var ui,pi,wi=n.values(this.style._layers);wi.forEach(function(_i){_i.source&&!_i.isHidden(ie.transform.zoom)&&(_i.source!==(pi&&pi.id)&&(pi=ie.style.sourceCaches[_i.source]),(!ui||ui.getSource().maxzoom<pi.getSource().maxzoom)&&(ui=pi))}),ui&&Tr.debug(this,ui,ui.getVisibleCoordinates())}this.options.showPadding&&rt(this),this.context.setDefault()},Pr.prototype.renderLayer=function(J,me,ie,xe){ie.isHidden(this.transform.zoom)||ie.type!=="background"&&ie.type!=="custom"&&!xe.length||(this.id=ie.id,this.gpuTimingStart(ie),Tr[ie.type](J,me,ie,xe,this.style.placement.variableOffsets),this.gpuTimingEnd())},Pr.prototype.gpuTimingStart=function(J){if(this.options.gpuTiming){var me=this.context.extTimerQuery,ie=this.gpuTimers[J.id];ie||(ie=this.gpuTimers[J.id]={calls:0,cpuTime:0,query:me.createQueryEXT()}),ie.calls++,me.beginQueryEXT(me.TIME_ELAPSED_EXT,ie.query)}},Pr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var J=this.context.extTimerQuery;J.endQueryEXT(J.TIME_ELAPSED_EXT)}},Pr.prototype.collectGpuTimers=function(){var J=this.gpuTimers;return this.gpuTimers={},J},Pr.prototype.queryGpuTimers=function(J){var me={};for(var ie in J){var xe=J[ie],ze=this.context.extTimerQuery,je=ze.getQueryObjectEXT(xe.query,ze.QUERY_RESULT_EXT)/(1e3*1e3);ze.deleteQueryEXT(xe.query),me[ie]=je}return me},Pr.prototype.translatePosMatrix=function(J,me,ie,xe,ze){if(!ie[0]&&!ie[1])return J;var je=ze?xe==="map"?this.transform.angle:0:xe==="viewport"?-this.transform.angle:0;if(je){var st=Math.sin(je),mt=Math.cos(je);ie=[ie[0]*mt-ie[1]*st,ie[0]*st+ie[1]*mt]}var Bt=[ze?ie[0]:gn(me,ie[0],this.transform.zoom),ze?ie[1]:gn(me,ie[1],this.transform.zoom),0],Jt=new Float32Array(16);return n.translate(Jt,J,Bt),Jt},Pr.prototype.saveTileTexture=function(J){var me=this._tileTextures[J.size[0]];me?me.push(J):this._tileTextures[J.size[0]]=[J]},Pr.prototype.getTileTexture=function(J){var me=this._tileTextures[J];return me&&me.length>0?me.pop():null},Pr.prototype.isPatternMissing=function(J){if(!J)return!1;if(!J.from||!J.to)return!0;var me=this.imageManager.getPattern(J.from.toString()),ie=this.imageManager.getPattern(J.to.toString());return!me||!ie},Pr.prototype.useProgram=function(J,me){this.cache=this.cache||{};var ie=""+J+(me?me.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ie]||(this.cache[ie]=new tu(this.context,Dc[J],me,_l[J],this._showOverdrawInspector)),this.cache[ie]},Pr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Pr.prototype.setBaseState=function(){var J=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(J.FUNC_ADD)},Pr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var J=this.context.gl;this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,J.RGBA)}},Pr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Yr=function(J,me){this.points=J,this.planes=me};Yr.fromInvProjectionMatrix=function(J,me,ie){var xe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],ze=Math.pow(2,ie),je=xe.map(function(Bt){return n.transformMat4([],Bt,J)}).map(function(Bt){return n.scale$1([],Bt,1/Bt[3]/me*ze)}),st=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],mt=st.map(function(Bt){var Jt=n.sub([],je[Bt[0]],je[Bt[1]]),ur=n.sub([],je[Bt[2]],je[Bt[1]]),yr=n.normalize([],n.cross([],Jt,ur)),Ir=-n.dot(yr,je[Bt[1]]);return yr.concat(Ir)});return new Yr(je,mt)};var Jr=function(J,me){this.min=J,this.max=me,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};Jr.prototype.quadrant=function(J){for(var me=[J%2===0,J<2],ie=n.clone$2(this.min),xe=n.clone$2(this.max),ze=0;ze<me.length;ze++)ie[ze]=me[ze]?this.min[ze]:this.center[ze],xe[ze]=me[ze]?this.center[ze]:this.max[ze];return xe[2]=this.max[2],new Jr(ie,xe)},Jr.prototype.distanceX=function(J){var me=Math.max(Math.min(this.max[0],J[0]),this.min[0]);return me-J[0]},Jr.prototype.distanceY=function(J){var me=Math.max(Math.min(this.max[1],J[1]),this.min[1]);return me-J[1]},Jr.prototype.intersects=function(J){for(var me=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ie=!0,xe=0;xe<J.planes.length;xe++){for(var ze=J.planes[xe],je=0,st=0;st<me.length;st++)je+=n.dot$1(ze,me[st])>=0;if(je===0)return 0;je!==me.length&&(ie=!1)}if(ie)return 2;for(var mt=0;mt<3;mt++){for(var Bt=Number.MAX_VALUE,Jt=-Number.MAX_VALUE,ur=0;ur<J.points.length;ur++){var yr=J.points[ur][mt]-this.min[mt];Bt=Math.min(Bt,yr),Jt=Math.max(Jt,yr)}if(Jt<0||Bt>this.max[mt]-this.min[mt])return 0}return 1};var mn=function(J,me,ie,xe){if(J===void 0&&(J=0),me===void 0&&(me=0),ie===void 0&&(ie=0),xe===void 0&&(xe=0),isNaN(J)||J<0||isNaN(me)||me<0||isNaN(ie)||ie<0||isNaN(xe)||xe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=J,this.bottom=me,this.left=ie,this.right=xe};mn.prototype.interpolate=function(J,me,ie){return me.top!=null&&J.top!=null&&(this.top=n.number(J.top,me.top,ie)),me.bottom!=null&&J.bottom!=null&&(this.bottom=n.number(J.bottom,me.bottom,ie)),me.left!=null&&J.left!=null&&(this.left=n.number(J.left,me.left,ie)),me.right!=null&&J.right!=null&&(this.right=n.number(J.right,me.right,ie)),this},mn.prototype.getCenter=function(J,me){var ie=n.clamp((this.left+J-this.right)/2,0,J),xe=n.clamp((this.top+me-this.bottom)/2,0,me);return new n.Point(ie,xe)},mn.prototype.equals=function(J){return this.top===J.top&&this.bottom===J.bottom&&this.left===J.left&&this.right===J.right},mn.prototype.clone=function(){return new mn(this.top,this.bottom,this.left,this.right)},mn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var bn=function(J,me,ie,xe,ze){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=ze===void 0?!0:ze,this._minZoom=J||0,this._maxZoom=me||22,this._minPitch=ie??0,this._maxPitch=xe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new mn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Rn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};bn.prototype.clone=function(){var J=new bn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return J.tileSize=this.tileSize,J.latRange=this.latRange,J.width=this.width,J.height=this.height,J._center=this._center,J.zoom=this.zoom,J.angle=this.angle,J._fov=this._fov,J._pitch=this._pitch,J._unmodified=this._unmodified,J._edgeInsets=this._edgeInsets.clone(),J._calcMatrices(),J},Rn.minZoom.get=function(){return this._minZoom},Rn.minZoom.set=function(ge){this._minZoom!==ge&&(this._minZoom=ge,this.zoom=Math.max(this.zoom,ge))},Rn.maxZoom.get=function(){return this._maxZoom},Rn.maxZoom.set=function(ge){this._maxZoom!==ge&&(this._maxZoom=ge,this.zoom=Math.min(this.zoom,ge))},Rn.minPitch.get=function(){return this._minPitch},Rn.minPitch.set=function(ge){this._minPitch!==ge&&(this._minPitch=ge,this.pitch=Math.max(this.pitch,ge))},Rn.maxPitch.get=function(){return this._maxPitch},Rn.maxPitch.set=function(ge){this._maxPitch!==ge&&(this._maxPitch=ge,this.pitch=Math.min(this.pitch,ge))},Rn.renderWorldCopies.get=function(){return this._renderWorldCopies},Rn.renderWorldCopies.set=function(ge){ge===void 0?ge=!0:ge===null&&(ge=!1),this._renderWorldCopies=ge},Rn.worldSize.get=function(){return this.tileSize*this.scale},Rn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Rn.size.get=function(){return new n.Point(this.width,this.height)},Rn.bearing.get=function(){return-this.angle/Math.PI*180},Rn.bearing.set=function(ge){var J=-n.wrap(ge,-180,180)*Math.PI/180;this.angle!==J&&(this._unmodified=!1,this.angle=J,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Rn.pitch.get=function(){return this._pitch/Math.PI*180},Rn.pitch.set=function(ge){var J=n.clamp(ge,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==J&&(this._unmodified=!1,this._pitch=J,this._calcMatrices())},Rn.fov.get=function(){return this._fov/Math.PI*180},Rn.fov.set=function(ge){ge=Math.max(.01,Math.min(60,ge)),this._fov!==ge&&(this._unmodified=!1,this._fov=ge/180*Math.PI,this._calcMatrices())},Rn.zoom.get=function(){return this._zoom},Rn.zoom.set=function(ge){var J=Math.min(Math.max(ge,this.minZoom),this.maxZoom);this._zoom!==J&&(this._unmodified=!1,this._zoom=J,this.scale=this.zoomScale(J),this.tileZoom=Math.floor(J),this.zoomFraction=J-this.tileZoom,this._constrain(),this._calcMatrices())},Rn.center.get=function(){return this._center},Rn.center.set=function(ge){ge.lat===this._center.lat&&ge.lng===this._center.lng||(this._unmodified=!1,this._center=ge,this._constrain(),this._calcMatrices())},Rn.padding.get=function(){return this._edgeInsets.toJSON()},Rn.padding.set=function(ge){this._edgeInsets.equals(ge)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ge,1),this._calcMatrices())},Rn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},bn.prototype.isPaddingEqual=function(J){return this._edgeInsets.equals(J)},bn.prototype.interpolatePadding=function(J,me,ie){this._unmodified=!1,this._edgeInsets.interpolate(J,me,ie),this._constrain(),this._calcMatrices()},bn.prototype.coveringZoomLevel=function(J){var me=(J.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/J.tileSize));return Math.max(0,me)},bn.prototype.getVisibleUnwrappedCoordinates=function(J){var me=[new n.UnwrappedTileID(0,J)];if(this._renderWorldCopies)for(var ie=this.pointCoordinate(new n.Point(0,0)),xe=this.pointCoordinate(new n.Point(this.width,0)),ze=this.pointCoordinate(new n.Point(this.width,this.height)),je=this.pointCoordinate(new n.Point(0,this.height)),st=Math.floor(Math.min(ie.x,xe.x,ze.x,je.x)),mt=Math.floor(Math.max(ie.x,xe.x,ze.x,je.x)),Bt=1,Jt=st-Bt;Jt<=mt+Bt;Jt++)Jt!==0&&me.push(new n.UnwrappedTileID(Jt,J));return me},bn.prototype.coveringTiles=function(J){var me=this.coveringZoomLevel(J),ie=me;if(J.minzoom!==void 0&&me<J.minzoom)return[];J.maxzoom!==void 0&&me>J.maxzoom&&(me=J.maxzoom);var xe=n.MercatorCoordinate.fromLngLat(this.center),ze=Math.pow(2,me),je=[ze*xe.x,ze*xe.y,0],st=Yr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,me),mt=J.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(mt=me);var Bt=3,Jt=function(wi){return{aabb:new Jr([wi*ze,0,0],[(wi+1)*ze,ze,0]),zoom:0,x:0,y:0,wrap:wi,fullyVisible:!1}},ur=[],yr=[],Ir=me,Wr=J.reparseOverscaled?ie:me;if(this._renderWorldCopies)for(var Gr=1;Gr<=3;Gr++)ur.push(Jt(-Gr)),ur.push(Jt(Gr));for(ur.push(Jt(0));ur.length>0;){var Hr=ur.pop(),Qr=Hr.x,sn=Hr.y,Sn=Hr.fullyVisible;if(!Sn){var Fn=Hr.aabb.intersects(st);if(Fn===0)continue;Sn=Fn===2}var Gn=Hr.aabb.distanceX(je),Zn=Hr.aabb.distanceY(je),Yn=Math.max(Math.abs(Gn),Math.abs(Zn)),ri=Bt+(1<<Ir-Hr.zoom)-2;if(Hr.zoom===Ir||Yn>ri&&Hr.zoom>=mt){yr.push({tileID:new n.OverscaledTileID(Hr.zoom===Ir?Wr:Hr.zoom,Hr.wrap,Hr.zoom,Qr,sn),distanceSq:n.sqrLen([je[0]-.5-Qr,je[1]-.5-sn])});continue}for(var fi=0;fi<4;fi++){var ui=(Qr<<1)+fi%2,pi=(sn<<1)+(fi>>1);ur.push({aabb:Hr.aabb.quadrant(fi),zoom:Hr.zoom+1,x:ui,y:pi,wrap:Hr.wrap,fullyVisible:Sn})}}return yr.sort(function(wi,_i){return wi.distanceSq-_i.distanceSq}).map(function(wi){return wi.tileID})},bn.prototype.resize=function(J,me){this.width=J,this.height=me,this.pixelsToGLUnits=[2/J,-2/me],this._constrain(),this._calcMatrices()},Rn.unmodified.get=function(){return this._unmodified},bn.prototype.zoomScale=function(J){return Math.pow(2,J)},bn.prototype.scaleZoom=function(J){return Math.log(J)/Math.LN2},bn.prototype.project=function(J){var me=n.clamp(J.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng(J.lng)*this.worldSize,n.mercatorYfromLat(me)*this.worldSize)},bn.prototype.unproject=function(J){return new n.MercatorCoordinate(J.x/this.worldSize,J.y/this.worldSize).toLngLat()},Rn.point.get=function(){return this.project(this.center)},bn.prototype.setLocationAtPoint=function(J,me){var ie=this.pointCoordinate(me),xe=this.pointCoordinate(this.centerPoint),ze=this.locationCoordinate(J),je=new n.MercatorCoordinate(ze.x-(ie.x-xe.x),ze.y-(ie.y-xe.y));this.center=this.coordinateLocation(je),this._renderWorldCopies&&(this.center=this.center.wrap())},bn.prototype.locationPoint=function(J){return this.coordinatePoint(this.locationCoordinate(J))},bn.prototype.pointLocation=function(J){return this.coordinateLocation(this.pointCoordinate(J))},bn.prototype.locationCoordinate=function(J){return n.MercatorCoordinate.fromLngLat(J)},bn.prototype.coordinateLocation=function(J){return J.toLngLat()},bn.prototype.pointCoordinate=function(J){var me=0,ie=[J.x,J.y,0,1],xe=[J.x,J.y,1,1];n.transformMat4(ie,ie,this.pixelMatrixInverse),n.transformMat4(xe,xe,this.pixelMatrixInverse);var ze=ie[3],je=xe[3],st=ie[0]/ze,mt=xe[0]/je,Bt=ie[1]/ze,Jt=xe[1]/je,ur=ie[2]/ze,yr=xe[2]/je,Ir=(me-ur)/(yr-ur);return new n.MercatorCoordinate(n.number(st,mt,Ir)/this.worldSize,n.number(Bt,Jt,Ir)/this.worldSize)},bn.prototype.coordinatePoint=function(J){var me=[J.x*this.worldSize,J.y*this.worldSize,0,1];return n.transformMat4(me,me,this.pixelMatrix),new n.Point(me[0]/me[3],me[1]/me[3])},bn.prototype.getBounds=function(){return new n.LngLatBounds().extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},bn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},bn.prototype.setMaxBounds=function(J){J?(this.lngRange=[J.getWest(),J.getEast()],this.latRange=[J.getSouth(),J.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},bn.prototype.calculatePosMatrix=function(J,me){me===void 0&&(me=!1);var ie=J.key,xe=me?this._alignedPosMatrixCache:this._posMatrixCache;if(xe[ie])return xe[ie];var ze=J.canonical,je=this.worldSize/this.zoomScale(ze.z),st=ze.x+Math.pow(2,ze.z)*J.wrap,mt=n.identity(new Float64Array(16));return n.translate(mt,mt,[st*je,ze.y*je,0]),n.scale(mt,mt,[je/n.EXTENT,je/n.EXTENT,1]),n.multiply(mt,me?this.alignedProjMatrix:this.projMatrix,mt),xe[ie]=new Float32Array(mt),xe[ie]},bn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},bn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var J=-90,me=90,ie=-180,xe=180,ze,je,st,mt,Bt=this.size,Jt=this._unmodified;if(this.latRange){var ur=this.latRange;J=n.mercatorYfromLat(ur[1])*this.worldSize,me=n.mercatorYfromLat(ur[0])*this.worldSize,ze=me-J<Bt.y?Bt.y/(me-J):0}if(this.lngRange){var yr=this.lngRange;ie=n.mercatorXfromLng(yr[0])*this.worldSize,xe=n.mercatorXfromLng(yr[1])*this.worldSize,je=xe-ie<Bt.x?Bt.x/(xe-ie):0}var Ir=this.point,Wr=Math.max(je||0,ze||0);if(Wr){this.center=this.unproject(new n.Point(je?(xe+ie)/2:Ir.x,ze?(me+J)/2:Ir.y)),this.zoom+=this.scaleZoom(Wr),this._unmodified=Jt,this._constraining=!1;return}if(this.latRange){var Gr=Ir.y,Hr=Bt.y/2;Gr-Hr<J&&(mt=J+Hr),Gr+Hr>me&&(mt=me-Hr)}if(this.lngRange){var Qr=Ir.x,sn=Bt.x/2;Qr-sn<ie&&(st=ie+sn),Qr+sn>xe&&(st=xe-sn)}(st!==void 0||mt!==void 0)&&(this.center=this.unproject(new n.Point(st!==void 0?st:Ir.x,mt!==void 0?mt:Ir.y))),this._unmodified=Jt,this._constraining=!1}},bn.prototype._calcMatrices=function(){if(this.height){var J=this._fov/2,me=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(J)*this.height;var ie=Math.PI/2+this._pitch,xe=this._fov*(.5+me.y/this.height),ze=Math.sin(xe)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-ie-xe,.01,Math.PI-.01)),je=this.point,st=je.x,mt=je.y,Bt=Math.cos(Math.PI/2-this._pitch)*ze+this.cameraToCenterDistance,Jt=Bt*1.01,ur=this.height/50,yr=new Float64Array(16);n.perspective(yr,this._fov,this.width/this.height,ur,Jt),yr[8]=-me.x*2/this.width,yr[9]=me.y*2/this.height,n.scale(yr,yr,[1,-1,1]),n.translate(yr,yr,[0,0,-this.cameraToCenterDistance]),n.rotateX(yr,yr,this._pitch),n.rotateZ(yr,yr,this.angle),n.translate(yr,yr,[-st,-mt,0]),this.mercatorMatrix=n.scale([],yr,[this.worldSize,this.worldSize,this.worldSize]),n.scale(yr,yr,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=yr,this.invProjMatrix=n.invert([],this.projMatrix);var Ir=this.width%2/2,Wr=this.height%2/2,Gr=Math.cos(this.angle),Hr=Math.sin(this.angle),Qr=st-Math.round(st)+Gr*Ir+Hr*Wr,sn=mt-Math.round(mt)+Gr*Wr+Hr*Ir,Sn=new Float64Array(yr);if(n.translate(Sn,Sn,[Qr>.5?Qr-1:Qr,sn>.5?sn-1:sn,0]),this.alignedProjMatrix=Sn,yr=n.create(),n.scale(yr,yr,[this.width/2,-this.height/2,1]),n.translate(yr,yr,[1,-1,0]),this.labelPlaneMatrix=yr,yr=n.create(),n.scale(yr,yr,[1,-1,1]),n.translate(yr,yr,[-1,-1,0]),n.scale(yr,yr,[2/this.width,2/this.height,1]),this.glCoordMatrix=yr,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),yr=n.invert(new Float64Array(16),this.pixelMatrix),!yr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=yr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},bn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var J=this.pointCoordinate(new n.Point(0,0)),me=[J.x*this.worldSize,J.y*this.worldSize,0,1],ie=n.transformMat4(me,me,this.pixelMatrix);return ie[3]/this.cameraToCenterDistance},bn.prototype.getCameraPoint=function(){var J=this._pitch,me=Math.tan(J)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,me))},bn.prototype.getCameraQueryGeometry=function(J){var me=this.getCameraPoint();if(J.length===1)return[J[0],me];for(var ie=me.x,xe=me.y,ze=me.x,je=me.y,st=0,mt=J;st<mt.length;st+=1){var Bt=mt[st];ie=Math.min(ie,Bt.x),xe=Math.min(xe,Bt.y),ze=Math.max(ze,Bt.x),je=Math.max(je,Bt.y)}return[new n.Point(ie,xe),new n.Point(ze,xe),new n.Point(ze,je),new n.Point(ie,je),new n.Point(ie,xe)]},Object.defineProperties(bn.prototype,Rn);function hi(ge,J){var me=!1,ie=null,xe=function(){ie=null,me&&(ge(),ie=setTimeout(xe,J),me=!1)};return function(){return me=!0,ie||xe(),ie}}var Ci=function(J){this._hashName=J&&encodeURIComponent(J),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=hi(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ci.prototype.addTo=function(J){return this._map=J,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ci.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ci.prototype.getHashString=function(J){var me=this._map.getCenter(),ie=Math.round(this._map.getZoom()*100)/100,xe=Math.ceil((ie*Math.LN2+Math.log(512/360/.5))/Math.LN10),ze=Math.pow(10,xe),je=Math.round(me.lng*ze)/ze,st=Math.round(me.lat*ze)/ze,mt=this._map.getBearing(),Bt=this._map.getPitch(),Jt="";if(J?Jt+="/"+je+"/"+st+"/"+ie:Jt+=ie+"/"+st+"/"+je,(mt||Bt)&&(Jt+="/"+Math.round(mt*10)/10),Bt&&(Jt+="/"+Math.round(Bt)),this._hashName){var ur=this._hashName,yr=!1,Ir=n.window.location.hash.slice(1).split("&").map(function(Wr){var Gr=Wr.split("=")[0];return Gr===ur?(yr=!0,Gr+"="+Jt):Wr}).filter(function(Wr){return Wr});return yr||Ir.push(ur+"="+Jt),"#"+Ir.join("&")}return"#"+Jt},Ci.prototype._getCurrentHash=function(){var J=this,me=n.window.location.hash.replace("#","");if(this._hashName){var ie;return me.split("&").map(function(xe){return xe.split("=")}).forEach(function(xe){xe[0]===J._hashName&&(ie=xe)}),(ie&&ie[1]||"").split("/")}return me.split("/")},Ci.prototype._onHashChange=function(){var J=this._getCurrentHash();if(J.length>=3&&!J.some(function(ie){return isNaN(ie)})){var me=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(J[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+J[2],+J[1]],zoom:+J[0],bearing:me,pitch:+(J[4]||0)}),!0}return!1},Ci.prototype._updateHashUnthrottled=function(){var J=this.getHashString();try{n.window.history.replaceState(n.window.history.state,"",J)}catch{}};var Ri={linearity:.3,easing:n.bezier(0,0,.3,1)},Di=n.extend({deceleration:2500,maxSpeed:1400},Ri),ki=n.extend({deceleration:20,maxSpeed:1400},Ri),oa=n.extend({deceleration:1e3,maxSpeed:360},Ri),Ia=n.extend({deceleration:1e3,maxSpeed:90},Ri),ma=function(J){this._map=J,this.clear()};ma.prototype.clear=function(){this._inertiaBuffer=[]},ma.prototype.record=function(J){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:J})},ma.prototype._drainInertiaBuffer=function(){for(var J=this._inertiaBuffer,me=n.browser.now(),ie=160;J.length>0&&me-J[0].time>ie;)J.shift()},ma.prototype._onMoveEnd=function(J){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var me={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},ie=0,xe=this._inertiaBuffer;ie<xe.length;ie+=1){var ze=xe[ie],je=ze.settings;me.zoom+=je.zoomDelta||0,me.bearing+=je.bearingDelta||0,me.pitch+=je.pitchDelta||0,je.panDelta&&me.pan._add(je.panDelta),je.around&&(me.around=je.around),je.pinchAround&&(me.pinchAround=je.pinchAround)}var st=this._inertiaBuffer[this._inertiaBuffer.length-1],mt=st.time-this._inertiaBuffer[0].time,Bt={};if(me.pan.mag()){var Jt=Pe(me.pan.mag(),mt,n.extend({},Di,J||{}));Bt.offset=me.pan.mult(Jt.amount/me.pan.mag()),Bt.center=this._map.transform.center,ve(Bt,Jt)}if(me.zoom){var ur=Pe(me.zoom,mt,ki);Bt.zoom=this._map.transform.zoom+ur.amount,ve(Bt,ur)}if(me.bearing){var yr=Pe(me.bearing,mt,oa);Bt.bearing=this._map.transform.bearing+n.clamp(yr.amount,-179,179),ve(Bt,yr)}if(me.pitch){var Ir=Pe(me.pitch,mt,Ia);Bt.pitch=this._map.transform.pitch+Ir.amount,ve(Bt,Ir)}if(Bt.zoom||Bt.bearing){var Wr=me.pinchAround===void 0?me.around:me.pinchAround;Bt.around=Wr?this._map.unproject(Wr):this._map.getCenter()}return this.clear(),n.extend(Bt,{noMoveStart:!0})}};function ve(ge,J){(!ge.duration||ge.duration<J.duration)&&(ge.duration=J.duration,ge.easing=J.easing)}function Pe(ge,J,me){var ie=me.maxSpeed,xe=me.linearity,ze=me.deceleration,je=n.clamp(ge*xe/(J/1e3),-ie,ie),st=Math.abs(je)/(ze*xe);return{easing:me.easing,duration:st*1e3,amount:je*(st/2)}}var He=function(ge){function J(ie,xe,ze,je){je===void 0&&(je={});var st=w.mousePos(xe.getCanvasContainer(),ze),mt=xe.unproject(st);ge.call(this,ie,n.extend({point:st,lngLat:mt,originalEvent:ze},je)),this._defaultPrevented=!1,this.target=xe}ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J;var me={defaultPrevented:{configurable:!0}};return J.prototype.preventDefault=function(){this._defaultPrevented=!0},me.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(J.prototype,me),J}(n.Event),Qe=function(ge){function J(ie,xe,ze){var je=ie==="touchend"?ze.changedTouches:ze.touches,st=w.touchPos(xe.getCanvasContainer(),je),mt=st.map(function(ur){return xe.unproject(ur)}),Bt=st.reduce(function(ur,yr,Ir,Wr){return ur.add(yr.div(Wr.length))},new n.Point(0,0)),Jt=xe.unproject(Bt);ge.call(this,ie,{points:st,point:Bt,lngLats:mt,lngLat:Jt,originalEvent:ze}),this._defaultPrevented=!1}ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J;var me={defaultPrevented:{configurable:!0}};return J.prototype.preventDefault=function(){this._defaultPrevented=!0},me.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(J.prototype,me),J}(n.Event),et=function(ge){function J(ie,xe,ze){ge.call(this,ie,{originalEvent:ze}),this._defaultPrevented=!1}ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J;var me={defaultPrevented:{configurable:!0}};return J.prototype.preventDefault=function(){this._defaultPrevented=!0},me.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(J.prototype,me),J}(n.Event),at=function(J,me){this._map=J,this._clickTolerance=me.clickTolerance};at.prototype.reset=function(){delete this._mousedownPos},at.prototype.wheel=function(J){return this._firePreventable(new et(J.type,this._map,J))},at.prototype.mousedown=function(J,me){return this._mousedownPos=me,this._firePreventable(new He(J.type,this._map,J))},at.prototype.mouseup=function(J){this._map.fire(new He(J.type,this._map,J))},at.prototype.click=function(J,me){this._mousedownPos&&this._mousedownPos.dist(me)>=this._clickTolerance||this._map.fire(new He(J.type,this._map,J))},at.prototype.dblclick=function(J){return this._firePreventable(new He(J.type,this._map,J))},at.prototype.mouseover=function(J){this._map.fire(new He(J.type,this._map,J))},at.prototype.mouseout=function(J){this._map.fire(new He(J.type,this._map,J))},at.prototype.touchstart=function(J){return this._firePreventable(new Qe(J.type,this._map,J))},at.prototype.touchmove=function(J){this._map.fire(new Qe(J.type,this._map,J))},at.prototype.touchend=function(J){this._map.fire(new Qe(J.type,this._map,J))},at.prototype.touchcancel=function(J){this._map.fire(new Qe(J.type,this._map,J))},at.prototype._firePreventable=function(J){if(this._map.fire(J),J.defaultPrevented)return{}},at.prototype.isEnabled=function(){return!0},at.prototype.isActive=function(){return!1},at.prototype.enable=function(){},at.prototype.disable=function(){};var Rt=function(J){this._map=J};Rt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Rt.prototype.mousemove=function(J){this._map.fire(new He(J.type,this._map,J))},Rt.prototype.mousedown=function(){this._delayContextMenu=!0},Rt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new He("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Rt.prototype.contextmenu=function(J){this._delayContextMenu?this._contextMenuEvent=J:this._map.fire(new He(J.type,this._map,J)),this._map.listens("contextmenu")&&J.preventDefault()},Rt.prototype.isEnabled=function(){return!0},Rt.prototype.isActive=function(){return!1},Rt.prototype.enable=function(){},Rt.prototype.disable=function(){};var ct=function(J,me){this._map=J,this._el=J.getCanvasContainer(),this._container=J.getContainer(),this._clickTolerance=me.clickTolerance||1};ct.prototype.isEnabled=function(){return!!this._enabled},ct.prototype.isActive=function(){return!!this._active},ct.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ct.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ct.prototype.mousedown=function(J,me){this.isEnabled()&&J.shiftKey&&J.button===0&&(w.disableDrag(),this._startPos=this._lastPos=me,this._active=!0)},ct.prototype.mousemoveWindow=function(J,me){if(this._active){var ie=me;if(!(this._lastPos.equals(ie)||!this._box&&ie.dist(this._startPos)<this._clickTolerance)){var xe=this._startPos;this._lastPos=ie,this._box||(this._box=w.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",J));var ze=Math.min(xe.x,ie.x),je=Math.max(xe.x,ie.x),st=Math.min(xe.y,ie.y),mt=Math.max(xe.y,ie.y);w.setTransform(this._box,"translate("+ze+"px,"+st+"px)"),this._box.style.width=je-ze+"px",this._box.style.height=mt-st+"px"}}},ct.prototype.mouseupWindow=function(J,me){var ie=this;if(this._active&&J.button===0){var xe=this._startPos,ze=me;if(this.reset(),w.suppressClick(),xe.x===ze.x&&xe.y===ze.y)this._fireEvent("boxzoomcancel",J);else return this._map.fire(new n.Event("boxzoomend",{originalEvent:J})),{cameraAnimation:function(je){return je.fitScreenCoordinates(xe,ze,ie._map.getBearing(),{linear:!0})}}}},ct.prototype.keydown=function(J){this._active&&J.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",J))},ct.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(w.remove(this._box),this._box=null),w.enableDrag(),delete this._startPos,delete this._lastPos},ct.prototype._fireEvent=function(J,me){return this._map.fire(new n.Event(J,{originalEvent:me}))};function Nt(ge,J){for(var me={},ie=0;ie<ge.length;ie++)me[ge[ie].identifier]=J[ie];return me}function er(ge){for(var J=new n.Point(0,0),me=0,ie=ge;me<ie.length;me+=1){var xe=ie[me];J._add(xe)}return J.div(ge.length)}var tr=500,Lr=500,Sr=30,Kr=function(J){this.reset(),this.numTouches=J.numTouches};Kr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Kr.prototype.touchstart=function(J,me,ie){(this.centroid||ie.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=J.timeStamp),ie.length===this.numTouches&&(this.centroid=er(me),this.touches=Nt(ie,me)))},Kr.prototype.touchmove=function(J,me,ie){if(!(this.aborted||!this.centroid)){var xe=Nt(ie,me);for(var ze in this.touches){var je=this.touches[ze],st=xe[ze];(!st||st.dist(je)>Sr)&&(this.aborted=!0)}}},Kr.prototype.touchend=function(J,me,ie){if((!this.centroid||J.timeStamp-this.startTime>Lr)&&(this.aborted=!0),ie.length===0){var xe=!this.aborted&&this.centroid;if(this.reset(),xe)return xe}};var en=function(J){this.singleTap=new Kr(J),this.numTaps=J.numTaps,this.reset()};en.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},en.prototype.touchstart=function(J,me,ie){this.singleTap.touchstart(J,me,ie)},en.prototype.touchmove=function(J,me,ie){this.singleTap.touchmove(J,me,ie)},en.prototype.touchend=function(J,me,ie){var xe=this.singleTap.touchend(J,me,ie);if(xe){var ze=J.timeStamp-this.lastTime<tr,je=!this.lastTap||this.lastTap.dist(xe)<Sr;if((!ze||!je)&&this.reset(),this.count++,this.lastTime=J.timeStamp,this.lastTap=xe,this.count===this.numTaps)return this.reset(),xe}};var Dr=function(){this._zoomIn=new en({numTouches:1,numTaps:2}),this._zoomOut=new en({numTouches:2,numTaps:1}),this.reset()};Dr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Dr.prototype.touchstart=function(J,me,ie){this._zoomIn.touchstart(J,me,ie),this._zoomOut.touchstart(J,me,ie)},Dr.prototype.touchmove=function(J,me,ie){this._zoomIn.touchmove(J,me,ie),this._zoomOut.touchmove(J,me,ie)},Dr.prototype.touchend=function(J,me,ie){var xe=this,ze=this._zoomIn.touchend(J,me,ie),je=this._zoomOut.touchend(J,me,ie);if(ze)return this._active=!0,J.preventDefault(),setTimeout(function(){return xe.reset()},0),{cameraAnimation:function(st){return st.easeTo({duration:300,zoom:st.getZoom()+1,around:st.unproject(ze)},{originalEvent:J})}};if(je)return this._active=!0,J.preventDefault(),setTimeout(function(){return xe.reset()},0),{cameraAnimation:function(st){return st.easeTo({duration:300,zoom:st.getZoom()-1,around:st.unproject(je)},{originalEvent:J})}}},Dr.prototype.touchcancel=function(){this.reset()},Dr.prototype.enable=function(){this._enabled=!0},Dr.prototype.disable=function(){this._enabled=!1,this.reset()},Dr.prototype.isEnabled=function(){return this._enabled},Dr.prototype.isActive=function(){return this._active};var Ur=0,Zr=2,tn=function(J){this.reset(),this._clickTolerance=J.clickTolerance||1};tn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},tn.prototype._correctButton=function(J,me){return!1},tn.prototype._move=function(J,me){return{}},tn.prototype.mousedown=function(J,me){if(!this._lastPoint){var ie=w.mouseButton(J);this._correctButton(J,ie)&&(this._lastPoint=me,this._eventButton=ie)}},tn.prototype.mousemoveWindow=function(J,me){var ie=this._lastPoint;if(ie&&(J.preventDefault(),!(!this._moved&&me.dist(ie)<this._clickTolerance)))return this._moved=!0,this._lastPoint=me,this._move(ie,me)},tn.prototype.mouseupWindow=function(J){var me=w.mouseButton(J);me===this._eventButton&&(this._moved&&w.suppressClick(),this.reset())},tn.prototype.enable=function(){this._enabled=!0},tn.prototype.disable=function(){this._enabled=!1,this.reset()},tn.prototype.isEnabled=function(){return this._enabled},tn.prototype.isActive=function(){return this._active};var ln=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.mousedown=function(ie,xe){ge.prototype.mousedown.call(this,ie,xe),this._lastPoint&&(this._active=!0)},J.prototype._correctButton=function(ie,xe){return xe===Ur&&!ie.ctrlKey},J.prototype._move=function(ie,xe){return{around:xe,panDelta:xe.sub(ie)}},J}(tn),jr=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype._correctButton=function(ie,xe){return xe===Ur&&ie.ctrlKey||xe===Zr},J.prototype._move=function(ie,xe){var ze=.8,je=(xe.x-ie.x)*ze;if(je)return this._active=!0,{bearingDelta:je}},J.prototype.contextmenu=function(ie){ie.preventDefault()},J}(tn),On=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype._correctButton=function(ie,xe){return xe===Ur&&ie.ctrlKey||xe===Zr},J.prototype._move=function(ie,xe){var ze=-.5,je=(xe.y-ie.y)*ze;if(je)return this._active=!0,{pitchDelta:je}},J.prototype.contextmenu=function(ie){ie.preventDefault()},J}(tn),Vn=function(J){this._minTouches=1,this._clickTolerance=J.clickTolerance||1,this.reset()};Vn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},Vn.prototype.touchstart=function(J,me,ie){return this._calculateTransform(J,me,ie)},Vn.prototype.touchmove=function(J,me,ie){if(this._active)return J.preventDefault(),this._calculateTransform(J,me,ie)},Vn.prototype.touchend=function(J,me,ie){this._calculateTransform(J,me,ie),this._active&&ie.length<this._minTouches&&this.reset()},Vn.prototype.touchcancel=function(){this.reset()},Vn.prototype._calculateTransform=function(J,me,ie){ie.length>0&&(this._active=!0);var xe=Nt(ie,me),ze=new n.Point(0,0),je=new n.Point(0,0),st=0;for(var mt in xe){var Bt=xe[mt],Jt=this._touches[mt];Jt&&(ze._add(Bt),je._add(Bt.sub(Jt)),st++,xe[mt]=Bt)}if(this._touches=xe,!(st<this._minTouches||!je.mag())){var ur=je.div(st);if(this._sum._add(ur),!(this._sum.mag()<this._clickTolerance)){var yr=ze.div(st);return{around:yr,panDelta:ur}}}},Vn.prototype.enable=function(){this._enabled=!0},Vn.prototype.disable=function(){this._enabled=!1,this.reset()},Vn.prototype.isEnabled=function(){return this._enabled},Vn.prototype.isActive=function(){return this._active};var Kn=function(){this.reset()};Kn.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Kn.prototype._start=function(J){},Kn.prototype._move=function(J,me,ie){return{}},Kn.prototype.touchstart=function(J,me,ie){this._firstTwoTouches||ie.length<2||(this._firstTwoTouches=[ie[0].identifier,ie[1].identifier],this._start([me[0],me[1]]))},Kn.prototype.touchmove=function(J,me,ie){if(this._firstTwoTouches){J.preventDefault();var xe=this._firstTwoTouches,ze=xe[0],je=xe[1],st=ni(ie,me,ze),mt=ni(ie,me,je);if(!(!st||!mt)){var Bt=this._aroundCenter?null:st.add(mt).div(2);return this._move([st,mt],Bt,J)}}},Kn.prototype.touchend=function(J,me,ie){if(this._firstTwoTouches){var xe=this._firstTwoTouches,ze=xe[0],je=xe[1],st=ni(ie,me,ze),mt=ni(ie,me,je);st&&mt||(this._active&&w.suppressClick(),this.reset())}},Kn.prototype.touchcancel=function(){this.reset()},Kn.prototype.enable=function(J){this._enabled=!0,this._aroundCenter=!!J&&J.around==="center"},Kn.prototype.disable=function(){this._enabled=!1,this.reset()},Kn.prototype.isEnabled=function(){return this._enabled},Kn.prototype.isActive=function(){return this._active};function ni(ge,J,me){for(var ie=0;ie<ge.length;ie++)if(ge[ie].identifier===me)return J[ie]}var xi=.1;function mi(ge,J){return Math.log(ge/J)/Math.LN2}var Ui=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.reset=function(){ge.prototype.reset.call(this),delete this._distance,delete this._startDistance},J.prototype._start=function(ie){this._startDistance=this._distance=ie[0].dist(ie[1])},J.prototype._move=function(ie,xe){var ze=this._distance;if(this._distance=ie[0].dist(ie[1]),!(!this._active&&Math.abs(mi(this._distance,this._startDistance))<xi))return this._active=!0,{zoomDelta:mi(this._distance,ze),pinchAround:xe}},J}(Kn),Ei=25;function Oi(ge,J){return ge.angleWith(J)*180/Math.PI}var $i=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.reset=function(){ge.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},J.prototype._start=function(ie){this._startVector=this._vector=ie[0].sub(ie[1]),this._minDiameter=ie[0].dist(ie[1])},J.prototype._move=function(ie,xe){var ze=this._vector;if(this._vector=ie[0].sub(ie[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Oi(this._vector,ze),pinchAround:xe}},J.prototype._isBelowThreshold=function(ie){this._minDiameter=Math.min(this._minDiameter,ie.mag());var xe=Math.PI*this._minDiameter,ze=Ei/xe*360,je=Oi(ie,this._startVector);return Math.abs(je)<ze},J}(Kn);function ra(ge){return Math.abs(ge.y)>Math.abs(ge.x)}var ca=100,Bn=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.reset=function(){ge.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},J.prototype._start=function(ie){this._lastPoints=ie,ra(ie[0].sub(ie[1]))&&(this._valid=!1)},J.prototype._move=function(ie,xe,ze){var je=ie[0].sub(this._lastPoints[0]),st=ie[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(je,st,ze.timeStamp),!!this._valid){this._lastPoints=ie,this._active=!0;var mt=(je.y+st.y)/2,Bt=-.5;return{pitchDelta:mt*Bt}}},J.prototype.gestureBeginsVertically=function(ie,xe,ze){if(this._valid!==void 0)return this._valid;var je=2,st=ie.mag()>=je,mt=xe.mag()>=je;if(!(!st&&!mt)){if(!st||!mt)return this._firstMove===void 0&&(this._firstMove=ze),ze-this._firstMove<ca?void 0:!1;var Bt=ie.y>0==xe.y>0;return ra(ie)&&ra(xe)&&Bt}},J}(Kn),Bi={panStep:100,bearingStep:15,pitchStep:10},Fi=function(){var J=Bi;this._panStep=J.panStep,this._bearingStep=J.bearingStep,this._pitchStep=J.pitchStep};Fi.prototype.reset=function(){this._active=!1},Fi.prototype.keydown=function(J){var me=this;if(!(J.altKey||J.ctrlKey||J.metaKey)){var ie=0,xe=0,ze=0,je=0,st=0;switch(J.keyCode){case 61:case 107:case 171:case 187:ie=1;break;case 189:case 109:case 173:ie=-1;break;case 37:J.shiftKey?xe=-1:(J.preventDefault(),je=-1);break;case 39:J.shiftKey?xe=1:(J.preventDefault(),je=1);break;case 38:J.shiftKey?ze=1:(J.preventDefault(),st=-1);break;case 40:J.shiftKey?ze=-1:(J.preventDefault(),st=1);break;default:return}return{cameraAnimation:function(mt){var Bt=mt.getZoom();mt.easeTo({duration:300,easeId:"keyboardHandler",easing:Zi,zoom:ie?Math.round(Bt)+ie*(J.shiftKey?2:1):Bt,bearing:mt.getBearing()+xe*me._bearingStep,pitch:mt.getPitch()+ze*me._pitchStep,offset:[-je*me._panStep,-st*me._panStep],center:mt.getCenter()},{originalEvent:J})}}}},Fi.prototype.enable=function(){this._enabled=!0},Fi.prototype.disable=function(){this._enabled=!1,this.reset()},Fi.prototype.isEnabled=function(){return this._enabled},Fi.prototype.isActive=function(){return this._active};function Zi(ge){return ge*(2-ge)}var La=4.000244140625,Va=1/100,Za=1/450,Ta=2,va=function(J,me){this._map=J,this._el=J.getCanvasContainer(),this._handler=me,this._delta=0,this._defaultZoomRate=Va,this._wheelZoomRate=Za,n.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};va.prototype.setZoomRate=function(J){this._defaultZoomRate=J},va.prototype.setWheelZoomRate=function(J){this._wheelZoomRate=J},va.prototype.isEnabled=function(){return!!this._enabled},va.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},va.prototype.isZooming=function(){return!!this._zooming},va.prototype.enable=function(J){this.isEnabled()||(this._enabled=!0,this._aroundCenter=J&&J.around==="center")},va.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},va.prototype.wheel=function(J){if(this.isEnabled()){var me=J.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?J.deltaY*40:J.deltaY,ie=n.browser.now(),xe=ie-(this._lastWheelEventTime||0);this._lastWheelEventTime=ie,me!==0&&me%La===0?this._type="wheel":me!==0&&Math.abs(me)<4?this._type="trackpad":xe>400?(this._type=null,this._lastValue=me,this._timeout=setTimeout(this._onTimeout,40,J)):this._type||(this._type=Math.abs(xe*me)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,me+=this._lastValue)),J.shiftKey&&me&&(me=me/4),this._type&&(this._lastWheelEvent=J,this._delta-=me,this._active||this._start(J)),J.preventDefault()}},va.prototype._onTimeout=function(J){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(J)},va.prototype._start=function(J){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var me=w.mousePos(this._el,J);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(me)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},va.prototype.renderFrame=function(){return this._onScrollFrame()},va.prototype._onScrollFrame=function(){var J=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var me=this._map.transform;if(this._delta!==0){var ie=this._type==="wheel"&&Math.abs(this._delta)>La?this._wheelZoomRate:this._defaultZoomRate,xe=Ta/(1+Math.exp(-Math.abs(this._delta*ie)));this._delta<0&&xe!==0&&(xe=1/xe);var ze=typeof this._targetZoom=="number"?me.zoomScale(this._targetZoom):me.scale;this._targetZoom=Math.min(me.maxZoom,Math.max(me.minZoom,me.scaleZoom(ze*xe))),this._type==="wheel"&&(this._startZoom=me.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var je=typeof this._targetZoom=="number"?this._targetZoom:me.zoom,st=this._startZoom,mt=this._easing,Bt=!1,Jt;if(this._type==="wheel"&&st&&mt){var ur=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),yr=mt(ur);Jt=n.number(st,je,yr),ur<1?this._frameId||(this._frameId=!0):Bt=!0}else Jt=je,Bt=!0;return this._active=!0,Bt&&(this._active=!1,this._finishTimeout=setTimeout(function(){J._zooming=!1,J._handler._triggerRenderFrame(),delete J._targetZoom,delete J._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Bt,zoomDelta:Jt-me.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},va.prototype._smoothOutEasing=function(J){var me=n.ease;if(this._prevEase){var ie=this._prevEase,xe=(n.browser.now()-ie.start)/ie.duration,ze=ie.easing(xe+.01)-ie.easing(xe),je=.27/Math.sqrt(ze*ze+1e-4)*.01,st=Math.sqrt(.27*.27-je*je);me=n.bezier(je,st,.25,1)}return this._prevEase={start:n.browser.now(),duration:J,easing:me},me},va.prototype.reset=function(){this._active=!1};var gi=function(J,me){this._clickZoom=J,this._tapZoom=me};gi.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},gi.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},gi.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},gi.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Mi=function(){this.reset()};Mi.prototype.reset=function(){this._active=!1},Mi.prototype.dblclick=function(J,me){return J.preventDefault(),{cameraAnimation:function(ie){ie.easeTo({duration:300,zoom:ie.getZoom()+(J.shiftKey?-1:1),around:ie.unproject(me)},{originalEvent:J})}}},Mi.prototype.enable=function(){this._enabled=!0},Mi.prototype.disable=function(){this._enabled=!1,this.reset()},Mi.prototype.isEnabled=function(){return this._enabled},Mi.prototype.isActive=function(){return this._active};var Aa=function(){this._tap=new en({numTouches:1,numTaps:1}),this.reset()};Aa.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Aa.prototype.touchstart=function(J,me,ie){this._swipePoint||(this._tapTime&&J.timeStamp-this._tapTime>tr&&this.reset(),this._tapTime?ie.length>0&&(this._swipePoint=me[0],this._swipeTouch=ie[0].identifier):this._tap.touchstart(J,me,ie))},Aa.prototype.touchmove=function(J,me,ie){if(!this._tapTime)this._tap.touchmove(J,me,ie);else if(this._swipePoint){if(ie[0].identifier!==this._swipeTouch)return;var xe=me[0],ze=xe.y-this._swipePoint.y;return this._swipePoint=xe,J.preventDefault(),this._active=!0,{zoomDelta:ze/128}}},Aa.prototype.touchend=function(J,me,ie){if(this._tapTime)this._swipePoint&&ie.length===0&&this.reset();else{var xe=this._tap.touchend(J,me,ie);xe&&(this._tapTime=J.timeStamp)}},Aa.prototype.touchcancel=function(){this.reset()},Aa.prototype.enable=function(){this._enabled=!0},Aa.prototype.disable=function(){this._enabled=!1,this.reset()},Aa.prototype.isEnabled=function(){return this._enabled},Aa.prototype.isActive=function(){return this._active};var Ya=function(J,me,ie){this._el=J,this._mousePan=me,this._touchPan=ie};Ya.prototype.enable=function(J){this._inertiaOptions=J||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Ya.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Ya.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Ya.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Yo=function(J,me,ie){this._pitchWithRotate=J.pitchWithRotate,this._mouseRotate=me,this._mousePitch=ie};Yo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Yo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Yo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Yo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var io=function(J,me,ie,xe){this._el=J,this._touchZoom=me,this._touchRotate=ie,this._tapDragZoom=xe,this._rotationDisabled=!1,this._enabled=!0};io.prototype.enable=function(J){this._touchZoom.enable(J),this._rotationDisabled||this._touchRotate.enable(J),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},io.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},io.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},io.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},io.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},io.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Co=function(ge){return ge.zoom||ge.drag||ge.pitch||ge.rotate},Ra=function(ge){function J(){ge.apply(this,arguments)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J}(n.Event);function es(ge){return ge.panDelta&&ge.panDelta.mag()||ge.zoomDelta||ge.bearingDelta||ge.pitchDelta}var xa=function(J,me){this._map=J,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ma(J),this._bearingSnap=me.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(me),n.bindAll(["handleEvent","handleWindowEvent"],this);var ie=this._el;this._listeners=[[ie,"touchstart",{passive:!1}],[ie,"touchmove",{passive:!1}],[ie,"touchend",void 0],[ie,"touchcancel",void 0],[ie,"mousedown",void 0],[ie,"mousemove",void 0],[ie,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[ie,"mouseover",void 0],[ie,"mouseout",void 0],[ie,"dblclick",void 0],[ie,"click",void 0],[ie,"keydown",{capture:!1}],[ie,"keyup",void 0],[ie,"wheel",{passive:!1}],[ie,"contextmenu",void 0],[n.window,"blur",void 0]];for(var xe=0,ze=this._listeners;xe<ze.length;xe+=1){var je=ze[xe],st=je[0],mt=je[1],Bt=je[2];w.addEventListener(st,mt,st===n.window.document?this.handleWindowEvent:this.handleEvent,Bt)}};xa.prototype.destroy=function(){for(var J=0,me=this._listeners;J<me.length;J+=1){var ie=me[J],xe=ie[0],ze=ie[1],je=ie[2];w.removeEventListener(xe,ze,xe===n.window.document?this.handleWindowEvent:this.handleEvent,je)}},xa.prototype._addDefaultHandlers=function(J){var me=this._map,ie=me.getCanvasContainer();this._add("mapEvent",new at(me,J));var xe=me.boxZoom=new ct(me,J);this._add("boxZoom",xe);var ze=new Dr,je=new Mi;me.doubleClickZoom=new gi(je,ze),this._add("tapZoom",ze),this._add("clickZoom",je);var st=new Aa;this._add("tapDragZoom",st);var mt=me.touchPitch=new Bn;this._add("touchPitch",mt);var Bt=new jr(J),Jt=new On(J);me.dragRotate=new Yo(J,Bt,Jt),this._add("mouseRotate",Bt,["mousePitch"]),this._add("mousePitch",Jt,["mouseRotate"]);var ur=new ln(J),yr=new Vn(J);me.dragPan=new Ya(ie,ur,yr),this._add("mousePan",ur),this._add("touchPan",yr,["touchZoom","touchRotate"]);var Ir=new $i,Wr=new Ui;me.touchZoomRotate=new io(ie,Wr,Ir,st),this._add("touchRotate",Ir,["touchPan","touchZoom"]),this._add("touchZoom",Wr,["touchPan","touchRotate"]);var Gr=me.scrollZoom=new va(me,this);this._add("scrollZoom",Gr,["mousePan"]);var Hr=me.keyboard=new Fi;this._add("keyboard",Hr),this._add("blockableMapEvent",new Rt(me));for(var Qr=0,sn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Qr<sn.length;Qr+=1){var Sn=sn[Qr];J.interactive&&J[Sn]&&me[Sn].enable(J[Sn])}},xa.prototype._add=function(J,me,ie){this._handlers.push({handlerName:J,handler:me,allowed:ie}),this._handlersById[J]=me},xa.prototype.stop=function(){if(!this._updatingCamera){for(var J=0,me=this._handlers;J<me.length;J+=1){var ie=me[J],xe=ie.handler;xe.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},xa.prototype.isActive=function(){for(var J=0,me=this._handlers;J<me.length;J+=1){var ie=me[J],xe=ie.handler;if(xe.isActive())return!0}return!1},xa.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},xa.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},xa.prototype.isMoving=function(){return Boolean(Co(this._eventsInProgress))||this.isZooming()},xa.prototype._blockedByActive=function(J,me,ie){for(var xe in J)if(xe!==ie&&(!me||me.indexOf(xe)<0))return!0;return!1},xa.prototype.handleWindowEvent=function(J){this.handleEvent(J,J.type+"Window")},xa.prototype._getMapTouches=function(J){for(var me=[],ie=0,xe=J;ie<xe.length;ie+=1){var ze=xe[ie],je=ze.target;this._el.contains(je)&&me.push(ze)}return me},xa.prototype.handleEvent=function(J,me){if(J.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var ie=J.type==="renderFrame"?void 0:J,xe={needsRenderFrame:!1},ze={},je={},st=J.touches?this._getMapTouches(J.touches):void 0,mt=st?w.touchPos(this._el,st):w.mousePos(this._el,J),Bt=0,Jt=this._handlers;Bt<Jt.length;Bt+=1){var ur=Jt[Bt],yr=ur.handlerName,Ir=ur.handler,Wr=ur.allowed;if(Ir.isEnabled()){var Gr=void 0;this._blockedByActive(je,Wr,yr)?Ir.reset():Ir[me||J.type]&&(Gr=Ir[me||J.type](J,mt,st),this.mergeHandlerResult(xe,ze,Gr,yr,ie),Gr&&Gr.needsRenderFrame&&this._triggerRenderFrame()),(Gr||Ir.isActive())&&(je[yr]=Ir)}}var Hr={};for(var Qr in this._previousActiveHandlers)je[Qr]||(Hr[Qr]=ie);this._previousActiveHandlers=je,(Object.keys(Hr).length||es(xe))&&(this._changes.push([xe,ze,Hr]),this._triggerRenderFrame()),(Object.keys(je).length||es(xe))&&this._map._stop(!0),this._updatingCamera=!1;var sn=xe.cameraAnimation;sn&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],sn(this._map))},xa.prototype.mergeHandlerResult=function(J,me,ie,xe,ze){if(ie){n.extend(J,ie);var je={handlerName:xe,originalEvent:ie.originalEvent||ze};ie.zoomDelta!==void 0&&(me.zoom=je),ie.panDelta!==void 0&&(me.drag=je),ie.pitchDelta!==void 0&&(me.pitch=je),ie.bearingDelta!==void 0&&(me.rotate=je)}},xa.prototype._applyChanges=function(){for(var J={},me={},ie={},xe=0,ze=this._changes;xe<ze.length;xe+=1){var je=ze[xe],st=je[0],mt=je[1],Bt=je[2];st.panDelta&&(J.panDelta=(J.panDelta||new n.Point(0,0))._add(st.panDelta)),st.zoomDelta&&(J.zoomDelta=(J.zoomDelta||0)+st.zoomDelta),st.bearingDelta&&(J.bearingDelta=(J.bearingDelta||0)+st.bearingDelta),st.pitchDelta&&(J.pitchDelta=(J.pitchDelta||0)+st.pitchDelta),st.around!==void 0&&(J.around=st.around),st.pinchAround!==void 0&&(J.pinchAround=st.pinchAround),st.noInertia&&(J.noInertia=st.noInertia),n.extend(me,mt),n.extend(ie,Bt)}this._updateMapTransform(J,me,ie),this._changes=[]},xa.prototype._updateMapTransform=function(J,me,ie){var xe=this._map,ze=xe.transform;if(!es(J))return this._fireEvents(me,ie);var je=J.panDelta,st=J.zoomDelta,mt=J.bearingDelta,Bt=J.pitchDelta,Jt=J.around,ur=J.pinchAround;ur!==void 0&&(Jt=ur),xe._stop(!0),Jt=Jt||xe.transform.centerPoint;var yr=ze.pointLocation(je?Jt.sub(je):Jt);mt&&(ze.bearing+=mt),Bt&&(ze.pitch+=Bt),st&&(ze.zoom+=st),ze.setLocationAtPoint(yr,Jt),this._map._update(),J.noInertia||this._inertia.record(J),this._fireEvents(me,ie)},xa.prototype._fireEvents=function(J,me){var ie=this,xe=Co(this._eventsInProgress),ze=Co(J),je={};for(var st in J){var mt=J[st],Bt=mt.originalEvent;this._eventsInProgress[st]||(je[st+"start"]=Bt),this._eventsInProgress[st]=J[st]}!xe&&ze&&this._fireEvent("movestart",ze.originalEvent);for(var Jt in je)this._fireEvent(Jt,je[Jt]);J.rotate&&(this._bearingChanged=!0),ze&&this._fireEvent("move",ze.originalEvent);for(var ur in J){var yr=J[ur],Ir=yr.originalEvent;this._fireEvent(ur,Ir)}var Wr={},Gr;for(var Hr in this._eventsInProgress){var Qr=this._eventsInProgress[Hr],sn=Qr.handlerName,Sn=Qr.originalEvent;this._handlersById[sn].isActive()||(delete this._eventsInProgress[Hr],Gr=me[sn]||Sn,Wr[Hr+"end"]=Gr)}for(var Fn in Wr)this._fireEvent(Fn,Wr[Fn]);var Gn=Co(this._eventsInProgress);if((xe||ze)&&!Gn){this._updatingCamera=!0;var Zn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Yn=function(ri){return ri!==0&&-ie._bearingSnap<ri&&ri<ie._bearingSnap};Zn?(Yn(Zn.bearing||this._map.getBearing())&&(Zn.bearing=0),this._map.easeTo(Zn,{originalEvent:Gr})):(this._map.fire(new n.Event("moveend",{originalEvent:Gr})),Yn(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},xa.prototype._fireEvent=function(J,me){this._map.fire(new n.Event(J,me?{originalEvent:me}:{}))},xa.prototype._triggerRenderFrame=function(){var J=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(me){delete J._frameId,J.handleEvent(new Ra("renderFrame",{timeStamp:me})),J._applyChanges()}))};var Ps=function(ge){function J(me,ie){ge.call(this),this._moving=!1,this._zooming=!1,this.transform=me,this._bearingSnap=ie.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},J.prototype.setCenter=function(ie,xe){return this.jumpTo({center:ie},xe)},J.prototype.panBy=function(ie,xe,ze){return ie=n.Point.convert(ie).mult(-1),this.panTo(this.transform.center,n.extend({offset:ie},xe),ze)},J.prototype.panTo=function(ie,xe,ze){return this.easeTo(n.extend({center:ie},xe),ze)},J.prototype.getZoom=function(){return this.transform.zoom},J.prototype.setZoom=function(ie,xe){return this.jumpTo({zoom:ie},xe),this},J.prototype.zoomTo=function(ie,xe,ze){return this.easeTo(n.extend({zoom:ie},xe),ze)},J.prototype.zoomIn=function(ie,xe){return this.zoomTo(this.getZoom()+1,ie,xe),this},J.prototype.zoomOut=function(ie,xe){return this.zoomTo(this.getZoom()-1,ie,xe),this},J.prototype.getBearing=function(){return this.transform.bearing},J.prototype.setBearing=function(ie,xe){return this.jumpTo({bearing:ie},xe),this},J.prototype.getPadding=function(){return this.transform.padding},J.prototype.setPadding=function(ie,xe){return this.jumpTo({padding:ie},xe),this},J.prototype.rotateTo=function(ie,xe,ze){return this.easeTo(n.extend({bearing:ie},xe),ze)},J.prototype.resetNorth=function(ie,xe){return this.rotateTo(0,n.extend({duration:1e3},ie),xe),this},J.prototype.resetNorthPitch=function(ie,xe){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},ie),xe),this},J.prototype.snapToNorth=function(ie,xe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ie,xe):this},J.prototype.getPitch=function(){return this.transform.pitch},J.prototype.setPitch=function(ie,xe){return this.jumpTo({pitch:ie},xe),this},J.prototype.cameraForBounds=function(ie,xe){return ie=n.LngLatBounds.convert(ie),this._cameraForBoxAndBearing(ie.getNorthWest(),ie.getSouthEast(),0,xe)},J.prototype._cameraForBoxAndBearing=function(ie,xe,ze,je){var st={top:0,bottom:0,right:0,left:0};if(je=n.extend({padding:st,offset:[0,0],maxZoom:this.transform.maxZoom},je),typeof je.padding=="number"){var mt=je.padding;je.padding={top:mt,bottom:mt,right:mt,left:mt}}je.padding=n.extend(st,je.padding);var Bt=this.transform,Jt=Bt.padding,ur=Bt.project(n.LngLat.convert(ie)),yr=Bt.project(n.LngLat.convert(xe)),Ir=ur.rotate(-ze*Math.PI/180),Wr=yr.rotate(-ze*Math.PI/180),Gr=new n.Point(Math.max(Ir.x,Wr.x),Math.max(Ir.y,Wr.y)),Hr=new n.Point(Math.min(Ir.x,Wr.x),Math.min(Ir.y,Wr.y)),Qr=Gr.sub(Hr),sn=(Bt.width-(Jt.left+Jt.right+je.padding.left+je.padding.right))/Qr.x,Sn=(Bt.height-(Jt.top+Jt.bottom+je.padding.top+je.padding.bottom))/Qr.y;if(Sn<0||sn<0){n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Fn=Math.min(Bt.scaleZoom(Bt.scale*Math.min(sn,Sn)),je.maxZoom),Gn=n.Point.convert(je.offset),Zn=(je.padding.left-je.padding.right)/2,Yn=(je.padding.top-je.padding.bottom)/2,ri=new n.Point(Gn.x+Zn,Gn.y+Yn),fi=ri.mult(Bt.scale/Bt.zoomScale(Fn)),ui=Bt.unproject(ur.add(yr).div(2).sub(fi));return{center:ui,zoom:Fn,bearing:ze}},J.prototype.fitBounds=function(ie,xe,ze){return this._fitInternal(this.cameraForBounds(ie,xe),xe,ze)},J.prototype.fitScreenCoordinates=function(ie,xe,ze,je,st){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(ie)),this.transform.pointLocation(n.Point.convert(xe)),ze,je),je,st)},J.prototype._fitInternal=function(ie,xe,ze){return ie?(xe=n.extend(ie,xe),delete xe.padding,xe.linear?this.easeTo(xe,ze):this.flyTo(xe,ze)):this},J.prototype.jumpTo=function(ie,xe){this.stop();var ze=this.transform,je=!1,st=!1,mt=!1;return"zoom"in ie&&ze.zoom!==+ie.zoom&&(je=!0,ze.zoom=+ie.zoom),ie.center!==void 0&&(ze.center=n.LngLat.convert(ie.center)),"bearing"in ie&&ze.bearing!==+ie.bearing&&(st=!0,ze.bearing=+ie.bearing),"pitch"in ie&&ze.pitch!==+ie.pitch&&(mt=!0,ze.pitch=+ie.pitch),ie.padding!=null&&!ze.isPaddingEqual(ie.padding)&&(ze.padding=ie.padding),this.fire(new n.Event("movestart",xe)).fire(new n.Event("move",xe)),je&&this.fire(new n.Event("zoomstart",xe)).fire(new n.Event("zoom",xe)).fire(new n.Event("zoomend",xe)),st&&this.fire(new n.Event("rotatestart",xe)).fire(new n.Event("rotate",xe)).fire(new n.Event("rotateend",xe)),mt&&this.fire(new n.Event("pitchstart",xe)).fire(new n.Event("pitch",xe)).fire(new n.Event("pitchend",xe)),this.fire(new n.Event("moveend",xe))},J.prototype.easeTo=function(ie,xe){var ze=this;this._stop(!1,ie.easeId),ie=n.extend({offset:[0,0],duration:500,easing:n.ease},ie),(ie.animate===!1||!ie.essential&&n.browser.prefersReducedMotion)&&(ie.duration=0);var je=this.transform,st=this.getZoom(),mt=this.getBearing(),Bt=this.getPitch(),Jt=this.getPadding(),ur="zoom"in ie?+ie.zoom:st,yr="bearing"in ie?this._normalizeBearing(ie.bearing,mt):mt,Ir="pitch"in ie?+ie.pitch:Bt,Wr="padding"in ie?ie.padding:je.padding,Gr=n.Point.convert(ie.offset),Hr=je.centerPoint.add(Gr),Qr=je.pointLocation(Hr),sn=n.LngLat.convert(ie.center||Qr);this._normalizeCenter(sn);var Sn=je.project(Qr),Fn=je.project(sn).sub(Sn),Gn=je.zoomScale(ur-st),Zn,Yn;ie.around&&(Zn=n.LngLat.convert(ie.around),Yn=je.locationPoint(Zn));var ri={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ur!==st,this._rotating=this._rotating||mt!==yr,this._pitching=this._pitching||Ir!==Bt,this._padding=!je.isPaddingEqual(Wr),this._easeId=ie.easeId,this._prepareEase(xe,ie.noMoveStart,ri),clearTimeout(this._easeEndTimeoutID),this._ease(function(fi){if(ze._zooming&&(je.zoom=n.number(st,ur,fi)),ze._rotating&&(je.bearing=n.number(mt,yr,fi)),ze._pitching&&(je.pitch=n.number(Bt,Ir,fi)),ze._padding&&(je.interpolatePadding(Jt,Wr,fi),Hr=je.centerPoint.add(Gr)),Zn)je.setLocationAtPoint(Zn,Yn);else{var ui=je.zoomScale(je.zoom-st),pi=ur>st?Math.min(2,Gn):Math.max(.5,Gn),wi=Math.pow(pi,1-fi),_i=je.unproject(Sn.add(Fn.mult(fi*wi)).mult(ui));je.setLocationAtPoint(je.renderWorldCopies?_i.wrap():_i,Hr)}ze._fireMoveEvents(xe)},function(fi){ze._afterEase(xe,fi)},ie),this},J.prototype._prepareEase=function(ie,xe,ze){ze===void 0&&(ze={}),this._moving=!0,!xe&&!ze.moving&&this.fire(new n.Event("movestart",ie)),this._zooming&&!ze.zooming&&this.fire(new n.Event("zoomstart",ie)),this._rotating&&!ze.rotating&&this.fire(new n.Event("rotatestart",ie)),this._pitching&&!ze.pitching&&this.fire(new n.Event("pitchstart",ie))},J.prototype._fireMoveEvents=function(ie){this.fire(new n.Event("move",ie)),this._zooming&&this.fire(new n.Event("zoom",ie)),this._rotating&&this.fire(new n.Event("rotate",ie)),this._pitching&&this.fire(new n.Event("pitch",ie))},J.prototype._afterEase=function(ie,xe){if(!(this._easeId&&xe&&this._easeId===xe)){delete this._easeId;var ze=this._zooming,je=this._rotating,st=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ze&&this.fire(new n.Event("zoomend",ie)),je&&this.fire(new n.Event("rotateend",ie)),st&&this.fire(new n.Event("pitchend",ie)),this.fire(new n.Event("moveend",ie))}},J.prototype.flyTo=function(ie,xe){var ze=this;if(!ie.essential&&n.browser.prefersReducedMotion){var je=n.pick(ie,["center","zoom","bearing","pitch","around"]);return this.jumpTo(je,xe)}this.stop(),ie=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},ie);var st=this.transform,mt=this.getZoom(),Bt=this.getBearing(),Jt=this.getPitch(),ur=this.getPadding(),yr="zoom"in ie?n.clamp(+ie.zoom,st.minZoom,st.maxZoom):mt,Ir="bearing"in ie?this._normalizeBearing(ie.bearing,Bt):Bt,Wr="pitch"in ie?+ie.pitch:Jt,Gr="padding"in ie?ie.padding:st.padding,Hr=st.zoomScale(yr-mt),Qr=n.Point.convert(ie.offset),sn=st.centerPoint.add(Qr),Sn=st.pointLocation(sn),Fn=n.LngLat.convert(ie.center||Sn);this._normalizeCenter(Fn);var Gn=st.project(Sn),Zn=st.project(Fn).sub(Gn),Yn=ie.curve,ri=Math.max(st.width,st.height),fi=ri/Hr,ui=Zn.mag();if("minZoom"in ie){var pi=n.clamp(Math.min(ie.minZoom,mt,yr),st.minZoom,st.maxZoom),wi=ri/st.zoomScale(pi-mt);Yn=Math.sqrt(wi/ui*2)}var _i=Yn*Yn;function Hi(Vi){var qi=(fi*fi-ri*ri+(Vi?-1:1)*_i*_i*ui*ui)/(2*(Vi?fi:ri)*_i*ui);return Math.log(Math.sqrt(qi*qi+1)-qi)}function sa(Vi){return(Math.exp(Vi)-Math.exp(-Vi))/2}function Wi(Vi){return(Math.exp(Vi)+Math.exp(-Vi))/2}function Ki(Vi){return sa(Vi)/Wi(Vi)}var Li=Hi(0),la=function(Vi){return Wi(Li)/Wi(Li+Yn*Vi)},ha=function(Vi){return ri*((Wi(Li)*Ki(Li+Yn*Vi)-sa(Li))/_i)/ui},da=(Hi(1)-Li)/Yn;if(Math.abs(ui)<1e-6||!isFinite(da)){if(Math.abs(ri-fi)<1e-6)return this.easeTo(ie,xe);var Qi=fi<ri?-1:1;da=Math.abs(Math.log(fi/ri))/Yn,ha=function(){return 0},la=function(Vi){return Math.exp(Qi*Yn*Vi)}}if("duration"in ie)ie.duration=+ie.duration;else{var Sa="screenSpeed"in ie?+ie.screenSpeed/Yn:+ie.speed;ie.duration=1e3*da/Sa}return ie.maxDuration&&ie.duration>ie.maxDuration&&(ie.duration=0),this._zooming=!0,this._rotating=Bt!==Ir,this._pitching=Wr!==Jt,this._padding=!st.isPaddingEqual(Gr),this._prepareEase(xe,!1),this._ease(function(Vi){var qi=Vi*da,ja=1/la(qi);st.zoom=Vi===1?yr:mt+st.scaleZoom(ja),ze._rotating&&(st.bearing=n.number(Bt,Ir,Vi)),ze._pitching&&(st.pitch=n.number(Jt,Wr,Vi)),ze._padding&&(st.interpolatePadding(ur,Gr,Vi),sn=st.centerPoint.add(Qr));var fo=Vi===1?Fn:st.unproject(Gn.add(Zn.mult(ha(qi))).mult(ja));st.setLocationAtPoint(st.renderWorldCopies?fo.wrap():fo,sn),ze._fireMoveEvents(xe)},function(){return ze._afterEase(xe)},ie),this},J.prototype.isEasing=function(){return!!this._easeFrameId},J.prototype.stop=function(){return this._stop()},J.prototype._stop=function(ie,xe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ze=this._onEaseEnd;delete this._onEaseEnd,ze.call(this,xe)}if(!ie){var je=this.handlers;je&&je.stop()}return this},J.prototype._ease=function(ie,xe,ze){ze.animate===!1||ze.duration===0?(ie(1),xe()):(this._easeStart=n.browser.now(),this._easeOptions=ze,this._onEaseFrame=ie,this._onEaseEnd=xe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},J.prototype._renderFrameCallback=function(){var ie=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ie)),ie<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},J.prototype._normalizeBearing=function(ie,xe){ie=n.wrap(ie,-180,180);var ze=Math.abs(ie-xe);return Math.abs(ie-360-xe)<ze&&(ie-=360),Math.abs(ie+360-xe)<ze&&(ie+=360),ie},J.prototype._normalizeCenter=function(ie){var xe=this.transform;if(!(!xe.renderWorldCopies||xe.lngRange)){var ze=ie.lng-xe.center.lng;ie.lng+=ze>180?-360:ze<-180?360:0}},J}(n.Evented),ts=function(J){J===void 0&&(J={}),this.options=J,n.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};ts.prototype.getDefaultPosition=function(){return"bottom-right"},ts.prototype.onAdd=function(J){var me=this.options&&this.options.compact;return this._map=J,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=w.create("div","mapboxgl-ctrl-attrib-inner",this._container),me&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),me===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ts.prototype.onRemove=function(){w.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ts.prototype._updateEditLink=function(){var J=this._editLink;J||(J=this._editLink=this._container.querySelector(".mapbox-improve-map"));var me=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(J){var ie=me.reduce(function(xe,ze,je){return ze.value&&(xe+=ze.key+"="+ze.value+(je<me.length-1?"&":"")),xe},"?");J.href=n.config.FEEDBACK_URL+"/"+ie+(this._map._hash?this._map._hash.getHashString(!0):""),J.rel="noopener nofollow"}},ts.prototype._updateData=function(J){J&&(J.sourceDataType==="metadata"||J.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},ts.prototype._updateAttributions=function(){if(this._map.style){var J=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?J=J.concat(this.options.customAttribution.map(function(mt){return typeof mt!="string"?"":mt})):typeof this.options.customAttribution=="string"&&J.push(this.options.customAttribution)),this._map.style.stylesheet){var me=this._map.style.stylesheet;this.styleOwner=me.owner,this.styleId=me.id}var ie=this._map.style.sourceCaches;for(var xe in ie){var ze=ie[xe];if(ze.used){var je=ze.getSource();je.attribution&&J.indexOf(je.attribution)<0&&J.push(je.attribution)}}J.sort(function(mt,Bt){return mt.length-Bt.length}),J=J.filter(function(mt,Bt){for(var Jt=Bt+1;Jt<J.length;Jt++)if(J[Jt].indexOf(mt)>=0)return!1;return!0});var st=J.join(" | ");st!==this._attribHTML&&(this._attribHTML=st,J.length?(this._innerContainer.innerHTML=st,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ts.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Xi=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};Xi.prototype.onAdd=function(J){this._map=J,this._container=w.create("div","mapboxgl-ctrl");var me=w.create("a","mapboxgl-ctrl-logo");return me.target="_blank",me.rel="noopener nofollow",me.href="https://www.mapbox.com/",me.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),me.setAttribute("rel","noopener nofollow"),this._container.appendChild(me),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Xi.prototype.onRemove=function(){w.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Xi.prototype.getDefaultPosition=function(){return"bottom-left"},Xi.prototype._updateLogo=function(J){(!J||J.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Xi.prototype._logoRequired=function(){if(this._map.style){var J=this._map.style.sourceCaches;for(var me in J){var ie=J[me].getSource();if(ie.mapbox_logo)return!0}return!1}},Xi.prototype._updateCompact=function(){var J=this._container.children;if(J.length){var me=J[0];this._map.getCanvasContainer().offsetWidth<250?me.classList.add("mapboxgl-compact"):me.classList.remove("mapboxgl-compact")}};var Ma=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ma.prototype.add=function(J){var me=++this._id,ie=this._queue;return ie.push({callback:J,id:me,cancelled:!1}),me},Ma.prototype.remove=function(J){for(var me=this._currentlyRunning,ie=me?this._queue.concat(me):this._queue,xe=0,ze=ie;xe<ze.length;xe+=1){var je=ze[xe];if(je.id===J){je.cancelled=!0;return}}},Ma.prototype.run=function(J){J===void 0&&(J=0);var me=this._currentlyRunning=this._queue;this._queue=[];for(var ie=0,xe=me;ie<xe.length;ie+=1){var ze=xe[ie];if(!ze.cancelled&&(ze.callback(J),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ma.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Wc={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},rc=n.window.HTMLImageElement,rv=n.window.HTMLElement,gf=n.window.ImageBitmap,Gc=-2,Uv=22,hs=0,yf=60,ip={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Gc,maxZoom:Uv,minPitch:hs,maxPitch:yf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},ap=function(ge){function J(ie){var xe=this;if(ie=n.extend({},ip,ie),ie.minZoom!=null&&ie.maxZoom!=null&&ie.minZoom>ie.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ie.minPitch!=null&&ie.maxPitch!=null&&ie.minPitch>ie.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ie.minPitch!=null&&ie.minPitch<hs)throw new Error("minPitch must be greater than or equal to "+hs);if(ie.maxPitch!=null&&ie.maxPitch>yf)throw new Error("maxPitch must be less than or equal to "+yf);var ze=new bn(ie.minZoom,ie.maxZoom,ie.minPitch,ie.maxPitch,ie.renderWorldCopies);if(ge.call(this,ze,ie),this._interactive=ie.interactive,this._maxTileCacheSize=ie.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ie.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ie.preserveDrawingBuffer,this._antialias=ie.antialias,this._trackResize=ie.trackResize,this._bearingSnap=ie.bearingSnap,this._refreshExpiredTiles=ie.refreshExpiredTiles,this._fadeDuration=ie.fadeDuration,this._crossSourceCollisions=ie.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ie.collectResourceTiming,this._renderTaskQueue=new Ma,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},Wc,ie.locale),this._requestManager=new n.RequestManager(ie.transformRequest,ie.accessToken),typeof ie.container=="string"){if(this._container=n.window.document.getElementById(ie.container),!this._container)throw new Error("Container '"+ie.container+"' not found.")}else if(ie.container instanceof rv)this._container=ie.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ie.maxBounds&&this.setMaxBounds(ie.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return xe._update(!1)}),this.on("moveend",function(){return xe._update(!1)}),this.on("zoom",function(){return xe._update(!0)}),typeof n.window<"u"&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new xa(this,ie);var je=typeof ie.hash=="string"&&ie.hash||void 0;this._hash=ie.hash&&new Ci(je).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ie.center,zoom:ie.zoom,bearing:ie.bearing,pitch:ie.pitch}),ie.bounds&&(this.resize(),this.fitBounds(ie.bounds,n.extend({},ie.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ie.localIdeographFontFamily,ie.style&&this.setStyle(ie.style,{localIdeographFontFamily:ie.localIdeographFontFamily}),ie.attributionControl&&this.addControl(new ts({customAttribution:ie.customAttribution})),this.addControl(new Xi,ie.logoPosition),this.on("style.load",function(){xe.transform.unmodified&&xe.jumpTo(xe.style.stylesheet)}),this.on("data",function(st){xe._update(st.dataType==="style"),xe.fire(new n.Event(st.dataType+"data",st))}),this.on("dataloading",function(st){xe.fire(new n.Event(st.dataType+"dataloading",st))})}ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J;var me={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return J.prototype._getMapId=function(){return this._mapId},J.prototype.addControl=function(xe,ze){if(ze===void 0&&xe.getDefaultPosition&&(ze=xe.getDefaultPosition()),ze===void 0&&(ze="top-right"),!xe||!xe.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var je=xe.onAdd(this);this._controls.push(xe);var st=this._controlPositions[ze];return ze.indexOf("bottom")!==-1?st.insertBefore(je,st.firstChild):st.appendChild(je),this},J.prototype.removeControl=function(xe){if(!xe||!xe.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ze=this._controls.indexOf(xe);return ze>-1&&this._controls.splice(ze,1),xe.onRemove(this),this},J.prototype.resize=function(xe){var ze=this._containerDimensions(),je=ze[0],st=ze[1];this._resizeCanvas(je,st),this.transform.resize(je,st),this.painter.resize(je,st);var mt=!this._moving;return mt&&(this.stop(),this.fire(new n.Event("movestart",xe)).fire(new n.Event("move",xe))),this.fire(new n.Event("resize",xe)),mt&&this.fire(new n.Event("moveend",xe)),this},J.prototype.getBounds=function(){return this.transform.getBounds()},J.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},J.prototype.setMaxBounds=function(xe){return this.transform.setMaxBounds(n.LngLatBounds.convert(xe)),this._update()},J.prototype.setMinZoom=function(xe){if(xe=xe??Gc,xe>=Gc&&xe<=this.transform.maxZoom)return this.transform.minZoom=xe,this._update(),this.getZoom()<xe&&this.setZoom(xe),this;throw new Error("minZoom must be between "+Gc+" and the current maxZoom, inclusive")},J.prototype.getMinZoom=function(){return this.transform.minZoom},J.prototype.setMaxZoom=function(xe){if(xe=xe??Uv,xe>=this.transform.minZoom)return this.transform.maxZoom=xe,this._update(),this.getZoom()>xe&&this.setZoom(xe),this;throw new Error("maxZoom must be greater than the current minZoom")},J.prototype.getMaxZoom=function(){return this.transform.maxZoom},J.prototype.setMinPitch=function(xe){if(xe=xe??hs,xe<hs)throw new Error("minPitch must be greater than or equal to "+hs);if(xe>=hs&&xe<=this.transform.maxPitch)return this.transform.minPitch=xe,this._update(),this.getPitch()<xe&&this.setPitch(xe),this;throw new Error("minPitch must be between "+hs+" and the current maxPitch, inclusive")},J.prototype.getMinPitch=function(){return this.transform.minPitch},J.prototype.setMaxPitch=function(xe){if(xe=xe??yf,xe>yf)throw new Error("maxPitch must be less than or equal to "+yf);if(xe>=this.transform.minPitch)return this.transform.maxPitch=xe,this._update(),this.getPitch()>xe&&this.setPitch(xe),this;throw new Error("maxPitch must be greater than the current minPitch")},J.prototype.getMaxPitch=function(){return this.transform.maxPitch},J.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},J.prototype.setRenderWorldCopies=function(xe){return this.transform.renderWorldCopies=xe,this._update()},J.prototype.project=function(xe){return this.transform.locationPoint(n.LngLat.convert(xe))},J.prototype.unproject=function(xe){return this.transform.pointLocation(n.Point.convert(xe))},J.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},J.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},J.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},J.prototype._createDelegatedListener=function(xe,ze,je){var st=this,mt;if(xe==="mouseenter"||xe==="mouseover"){var Bt=!1,Jt=function(Hr){var Qr=st.getLayer(ze)?st.queryRenderedFeatures(Hr.point,{layers:[ze]}):[];Qr.length?Bt||(Bt=!0,je.call(st,new He(xe,st,Hr.originalEvent,{features:Qr}))):Bt=!1},ur=function(){Bt=!1};return{layer:ze,listener:je,delegates:{mousemove:Jt,mouseout:ur}}}else if(xe==="mouseleave"||xe==="mouseout"){var yr=!1,Ir=function(Hr){var Qr=st.getLayer(ze)?st.queryRenderedFeatures(Hr.point,{layers:[ze]}):[];Qr.length?yr=!0:yr&&(yr=!1,je.call(st,new He(xe,st,Hr.originalEvent)))},Wr=function(Hr){yr&&(yr=!1,je.call(st,new He(xe,st,Hr.originalEvent)))};return{layer:ze,listener:je,delegates:{mousemove:Ir,mouseout:Wr}}}else{var Gr=function(Hr){var Qr=st.getLayer(ze)?st.queryRenderedFeatures(Hr.point,{layers:[ze]}):[];Qr.length&&(Hr.features=Qr,je.call(st,Hr),delete Hr.features)};return{layer:ze,listener:je,delegates:(mt={},mt[xe]=Gr,mt)}}},J.prototype.on=function(xe,ze,je){if(je===void 0)return ge.prototype.on.call(this,xe,ze);var st=this._createDelegatedListener(xe,ze,je);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[xe]=this._delegatedListeners[xe]||[],this._delegatedListeners[xe].push(st);for(var mt in st.delegates)this.on(mt,st.delegates[mt]);return this},J.prototype.once=function(xe,ze,je){if(je===void 0)return ge.prototype.once.call(this,xe,ze);var st=this._createDelegatedListener(xe,ze,je);for(var mt in st.delegates)this.once(mt,st.delegates[mt]);return this},J.prototype.off=function(xe,ze,je){var st=this;if(je===void 0)return ge.prototype.off.call(this,xe,ze);var mt=function(Bt){for(var Jt=Bt[xe],ur=0;ur<Jt.length;ur++){var yr=Jt[ur];if(yr.layer===ze&&yr.listener===je){for(var Ir in yr.delegates)st.off(Ir,yr.delegates[Ir]);return Jt.splice(ur,1),st}}};return this._delegatedListeners&&this._delegatedListeners[xe]&&mt(this._delegatedListeners),this},J.prototype.queryRenderedFeatures=function(xe,ze){if(!this.style)return[];ze===void 0&&xe!==void 0&&!(xe instanceof n.Point)&&!Array.isArray(xe)&&(ze=xe,xe=void 0),ze=ze||{},xe=xe||[[0,0],[this.transform.width,this.transform.height]];var je;if(xe instanceof n.Point||typeof xe[0]=="number")je=[n.Point.convert(xe)];else{var st=n.Point.convert(xe[0]),mt=n.Point.convert(xe[1]);je=[st,new n.Point(mt.x,st.y),mt,new n.Point(st.x,mt.y),st]}return this.style.queryRenderedFeatures(je,ze,this.transform)},J.prototype.querySourceFeatures=function(xe,ze){return this.style.querySourceFeatures(xe,ze)},J.prototype.setStyle=function(xe,ze){return ze=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ze),ze.diff!==!1&&ze.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&xe?(this._diffStyle(xe,ze),this):(this._localIdeographFontFamily=ze.localIdeographFontFamily,this._updateStyle(xe,ze))},J.prototype._getUIString=function(xe){var ze=this._locale[xe];if(ze==null)throw new Error("Missing UI string '"+xe+"'");return ze},J.prototype._updateStyle=function(xe,ze){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),xe)this.style=new So(this,ze||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof xe=="string"?this.style.loadURL(xe):this.style.loadJSON(xe),this},J.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new So(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},J.prototype._diffStyle=function(xe,ze){var je=this;if(typeof xe=="string"){var st=this._requestManager.normalizeStyleURL(xe),mt=this._requestManager.transformRequest(st,n.ResourceType.Style);n.getJSON(mt,function(Bt,Jt){Bt?je.fire(new n.ErrorEvent(Bt)):Jt&&je._updateDiff(Jt,ze)})}else typeof xe=="object"&&this._updateDiff(xe,ze)},J.prototype._updateDiff=function(xe,ze){try{this.style.setState(xe)&&this._update(!0)}catch(je){n.warnOnce("Unable to perform style diff: "+(je.message||je.error||je)+".  Rebuilding the style from scratch."),this._updateStyle(xe,ze)}},J.prototype.getStyle=function(){if(this.style)return this.style.serialize()},J.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},J.prototype.addSource=function(xe,ze){return this._lazyInitEmptyStyle(),this.style.addSource(xe,ze),this._update(!0)},J.prototype.isSourceLoaded=function(xe){var ze=this.style&&this.style.sourceCaches[xe];if(ze===void 0){this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+xe+"'")));return}return ze.loaded()},J.prototype.areTilesLoaded=function(){var xe=this.style&&this.style.sourceCaches;for(var ze in xe){var je=xe[ze],st=je._tiles;for(var mt in st){var Bt=st[mt];if(!(Bt.state==="loaded"||Bt.state==="errored"))return!1}}return!0},J.prototype.addSourceType=function(xe,ze,je){return this._lazyInitEmptyStyle(),this.style.addSourceType(xe,ze,je)},J.prototype.removeSource=function(xe){return this.style.removeSource(xe),this._update(!0)},J.prototype.getSource=function(xe){return this.style.getSource(xe)},J.prototype.addImage=function(xe,ze,je){je===void 0&&(je={});var st=je.pixelRatio;st===void 0&&(st=1);var mt=je.sdf;mt===void 0&&(mt=!1);var Bt=je.stretchX,Jt=je.stretchY,ur=je.content;this._lazyInitEmptyStyle();var yr=0;if(ze instanceof rc||gf&&ze instanceof gf){var Ir=n.browser.getImageData(ze),Wr=Ir.width,Gr=Ir.height,Hr=Ir.data;this.style.addImage(xe,{data:new n.RGBAImage({width:Wr,height:Gr},Hr),pixelRatio:st,stretchX:Bt,stretchY:Jt,content:ur,sdf:mt,version:yr})}else{if(ze.width===void 0||ze.height===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Qr=ze.width,sn=ze.height,Sn=ze.data,Fn=ze;this.style.addImage(xe,{data:new n.RGBAImage({width:Qr,height:sn},new Uint8Array(Sn)),pixelRatio:st,stretchX:Bt,stretchY:Jt,content:ur,sdf:mt,version:yr,userImage:Fn}),Fn.onAdd&&Fn.onAdd(this,xe)}},J.prototype.updateImage=function(xe,ze){var je=this.style.getImage(xe);if(!je)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var st=ze instanceof rc||gf&&ze instanceof gf?n.browser.getImageData(ze):ze,mt=st.width,Bt=st.height,Jt=st.data;if(mt===void 0||Bt===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(mt!==je.data.width||Bt!==je.data.height)return this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var ur=!(ze instanceof rc||gf&&ze instanceof gf);je.data.replace(Jt,ur),this.style.updateImage(xe,je)},J.prototype.hasImage=function(xe){return xe?!!this.style.getImage(xe):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},J.prototype.removeImage=function(xe){this.style.removeImage(xe)},J.prototype.loadImage=function(xe,ze){n.getImage(this._requestManager.transformRequest(xe,n.ResourceType.Image),ze)},J.prototype.listImages=function(){return this.style.listImages()},J.prototype.addLayer=function(xe,ze){return this._lazyInitEmptyStyle(),this.style.addLayer(xe,ze),this._update(!0)},J.prototype.moveLayer=function(xe,ze){return this.style.moveLayer(xe,ze),this._update(!0)},J.prototype.removeLayer=function(xe){return this.style.removeLayer(xe),this._update(!0)},J.prototype.getLayer=function(xe){return this.style.getLayer(xe)},J.prototype.setLayerZoomRange=function(xe,ze,je){return this.style.setLayerZoomRange(xe,ze,je),this._update(!0)},J.prototype.setFilter=function(xe,ze,je){return je===void 0&&(je={}),this.style.setFilter(xe,ze,je),this._update(!0)},J.prototype.getFilter=function(xe){return this.style.getFilter(xe)},J.prototype.setPaintProperty=function(xe,ze,je,st){return st===void 0&&(st={}),this.style.setPaintProperty(xe,ze,je,st),this._update(!0)},J.prototype.getPaintProperty=function(xe,ze){return this.style.getPaintProperty(xe,ze)},J.prototype.setLayoutProperty=function(xe,ze,je,st){return st===void 0&&(st={}),this.style.setLayoutProperty(xe,ze,je,st),this._update(!0)},J.prototype.getLayoutProperty=function(xe,ze){return this.style.getLayoutProperty(xe,ze)},J.prototype.setLight=function(xe,ze){return ze===void 0&&(ze={}),this._lazyInitEmptyStyle(),this.style.setLight(xe,ze),this._update(!0)},J.prototype.getLight=function(){return this.style.getLight()},J.prototype.setFeatureState=function(xe,ze){return this.style.setFeatureState(xe,ze),this._update()},J.prototype.removeFeatureState=function(xe,ze){return this.style.removeFeatureState(xe,ze),this._update()},J.prototype.getFeatureState=function(xe){return this.style.getFeatureState(xe)},J.prototype.getContainer=function(){return this._container},J.prototype.getCanvasContainer=function(){return this._canvasContainer},J.prototype.getCanvas=function(){return this._canvas},J.prototype._containerDimensions=function(){var xe=0,ze=0;return this._container&&(xe=this._container.clientWidth||400,ze=this._container.clientHeight||300),[xe,ze]},J.prototype._detectMissingCSS=function(){var xe=n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");xe!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},J.prototype._setupContainer=function(){var xe=this._container;xe.classList.add("mapboxgl-map");var ze=this._missingCSSCanary=w.create("div","mapboxgl-canary",xe);ze.style.visibility="hidden",this._detectMissingCSS();var je=this._canvasContainer=w.create("div","mapboxgl-canvas-container",xe);this._interactive&&je.classList.add("mapboxgl-interactive"),this._canvas=w.create("canvas","mapboxgl-canvas",je),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var st=this._containerDimensions();this._resizeCanvas(st[0],st[1]);var mt=this._controlContainer=w.create("div","mapboxgl-control-container",xe),Bt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Jt){Bt[Jt]=w.create("div","mapboxgl-ctrl-"+Jt,mt)})},J.prototype._resizeCanvas=function(xe,ze){var je=n.browser.devicePixelRatio||1;this._canvas.width=je*xe,this._canvas.height=je*ze,this._canvas.style.width=xe+"px",this._canvas.style.height=ze+"px"},J.prototype._setupPainter=function(){var xe=n.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ze=this._canvas.getContext("webgl",xe)||this._canvas.getContext("experimental-webgl",xe);if(!ze){this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Pr(ze,this.transform),n.webpSupported.testSupport(ze)},J.prototype._contextLost=function(xe){xe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:xe}))},J.prototype._contextRestored=function(xe){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:xe}))},J.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},J.prototype._update=function(xe){return this.style?(this._styleDirty=this._styleDirty||xe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},J.prototype._requestRenderFrame=function(xe){return this._update(),this._renderTaskQueue.add(xe)},J.prototype._cancelRenderFrame=function(xe){this._renderTaskQueue.remove(xe)},J.prototype._render=function(xe){var ze=this,je,st=0,mt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(je=mt.createQueryEXT(),mt.beginQueryEXT(mt.TIME_ELAPSED_EXT,je),st=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(xe),!this._removed){var Bt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Jt=this.transform.zoom,ur=n.browser.now();this.style.zoomHistory.update(Jt,ur);var yr=new n.EvaluationParameters(Jt,{now:ur,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ir=yr.crossFadingFactor();(Ir!==1||Ir!==this._crossFadingFactor)&&(Bt=!0,this._crossFadingFactor=Ir),this.style.update(yr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||Bt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Wr=n.browser.now()-st;mt.endQueryEXT(mt.TIME_ELAPSED_EXT,je),setTimeout(function(){var Qr=mt.getQueryObjectEXT(je,mt.QUERY_RESULT_EXT)/1e6;mt.deleteQueryEXT(je),ze.fire(new n.Event("gpu-timing-frame",{cpuTime:Wr,gpuTime:Qr}))},50)}if(this.listens("gpu-timing-layer")){var Gr=this.painter.collectGpuTimers();setTimeout(function(){var Qr=ze.painter.queryGpuTimers(Gr);ze.fire(new n.Event("gpu-timing-layer",{layerTimes:Qr}))},50)}var Hr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Hr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new n.Event("idle"))),this}},J.prototype.remove=function(){this._hash&&this._hash.remove();for(var xe=0,ze=this._controls;xe<ze.length;xe+=1){var je=ze[xe];je.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof n.window<"u"&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var st=this.painter.context.gl.getExtension("WEBGL_lose_context");st&&st.loseContext(),nv(this._canvasContainer),nv(this._controlContainer),nv(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},J.prototype.triggerRepaint=function(){var xe=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(ze){xe._frame=null,xe._render(ze)}))},J.prototype._onWindowOnline=function(){this._update()},J.prototype._onWindowResize=function(xe){this._trackResize&&this.resize({originalEvent:xe})._update()},me.showTileBoundaries.get=function(){return!!this._showTileBoundaries},me.showTileBoundaries.set=function(ie){this._showTileBoundaries!==ie&&(this._showTileBoundaries=ie,this._update())},me.showPadding.get=function(){return!!this._showPadding},me.showPadding.set=function(ie){this._showPadding!==ie&&(this._showPadding=ie,this._update())},me.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},me.showCollisionBoxes.set=function(ie){this._showCollisionBoxes!==ie&&(this._showCollisionBoxes=ie,ie?this.style._generateCollisionBoxes():this._update())},me.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},me.showOverdrawInspector.set=function(ie){this._showOverdrawInspector!==ie&&(this._showOverdrawInspector=ie,this._update())},me.repaint.get=function(){return!!this._repaint},me.repaint.set=function(ie){this._repaint!==ie&&(this._repaint=ie,this.triggerRepaint())},me.vertices.get=function(){return!!this._vertices},me.vertices.set=function(ie){this._vertices=ie,this._update()},J.prototype._setCacheLimits=function(xe,ze){n.setCacheLimits(xe,ze)},me.version.get=function(){return n.version},Object.defineProperties(J.prototype,me),J}(Ps);function nv(ge){ge.parentNode&&ge.parentNode.removeChild(ge)}var Hv={showCompass:!0,showZoom:!0,visualizePitch:!1},Bu=function(J){var me=this;this.options=n.extend({},Hv,J),this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ie){return ie.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ie){return me._map.zoomIn({},{originalEvent:ie})}),w.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ie){return me._map.zoomOut({},{originalEvent:ie})}),w.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ie){me.options.visualizePitch?me._map.resetNorthPitch({},{originalEvent:ie}):me._map.resetNorth({},{originalEvent:ie})}),this._compassIcon=w.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Bu.prototype._updateZoomButtons=function(){var J=this._map.getZoom();this._zoomInButton.disabled=J===this._map.getMaxZoom(),this._zoomOutButton.disabled=J===this._map.getMinZoom()},Bu.prototype._rotateCompassArrow=function(){var J=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=J},Bu.prototype.onAdd=function(J){return this._map=J,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Rs(this._map,this._compass,this.options.visualizePitch)),this._container},Bu.prototype.onRemove=function(){w.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Bu.prototype._createButton=function(J,me){var ie=w.create("button",J,this._container);return ie.type="button",ie.addEventListener("click",me),ie},Bu.prototype._setButtonTitle=function(J,me){var ie=this._map._getUIString("NavigationControl."+me);J.title=ie,J.setAttribute("aria-label",ie)};var Rs=function(J,me,ie){ie===void 0&&(ie=!1),this._clickTolerance=10,this.element=me,this.mouseRotate=new jr({clickTolerance:J.dragRotate._mouseRotate._clickTolerance}),this.map=J,ie&&(this.mousePitch=new On({clickTolerance:J.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),w.addEventListener(me,"mousedown",this.mousedown),w.addEventListener(me,"touchstart",this.touchstart,{passive:!1}),w.addEventListener(me,"touchmove",this.touchmove),w.addEventListener(me,"touchend",this.touchend),w.addEventListener(me,"touchcancel",this.reset)};Rs.prototype.down=function(J,me){this.mouseRotate.mousedown(J,me),this.mousePitch&&this.mousePitch.mousedown(J,me),w.disableDrag()},Rs.prototype.move=function(J,me){var ie=this.map,xe=this.mouseRotate.mousemoveWindow(J,me);if(xe&&xe.bearingDelta&&ie.setBearing(ie.getBearing()+xe.bearingDelta),this.mousePitch){var ze=this.mousePitch.mousemoveWindow(J,me);ze&&ze.pitchDelta&&ie.setPitch(ie.getPitch()+ze.pitchDelta)}},Rs.prototype.off=function(){var J=this.element;w.removeEventListener(J,"mousedown",this.mousedown),w.removeEventListener(J,"touchstart",this.touchstart,{passive:!1}),w.removeEventListener(J,"touchmove",this.touchmove),w.removeEventListener(J,"touchend",this.touchend),w.removeEventListener(J,"touchcancel",this.reset),this.offTemp()},Rs.prototype.offTemp=function(){w.enableDrag(),w.removeEventListener(n.window,"mousemove",this.mousemove),w.removeEventListener(n.window,"mouseup",this.mouseup)},Rs.prototype.mousedown=function(J){this.down(n.extend({},J,{ctrlKey:!0,preventDefault:function(){return J.preventDefault()}}),w.mousePos(this.element,J)),w.addEventListener(n.window,"mousemove",this.mousemove),w.addEventListener(n.window,"mouseup",this.mouseup)},Rs.prototype.mousemove=function(J){this.move(J,w.mousePos(this.element,J))},Rs.prototype.mouseup=function(J){this.mouseRotate.mouseupWindow(J),this.mousePitch&&this.mousePitch.mouseupWindow(J),this.offTemp()},Rs.prototype.touchstart=function(J){J.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=w.touchPos(this.element,J.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return J.preventDefault()}},this._startPos))},Rs.prototype.touchmove=function(J){J.targetTouches.length!==1?this.reset():(this._lastPos=w.touchPos(this.element,J.targetTouches)[0],this.move({preventDefault:function(){return J.preventDefault()}},this._lastPos))},Rs.prototype.touchend=function(J){J.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Rs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Nu(ge,J,me){if(ge=new n.LngLat(ge.lng,ge.lat),J){var ie=new n.LngLat(ge.lng-360,ge.lat),xe=new n.LngLat(ge.lng+360,ge.lat),ze=me.locationPoint(ge).distSqr(J);me.locationPoint(ie).distSqr(J)<ze?ge=ie:me.locationPoint(xe).distSqr(J)<ze&&(ge=xe)}for(;Math.abs(ge.lng-me.center.lng)>180;){var je=me.locationPoint(ge);if(je.x>=0&&je.y>=0&&je.x<=me.width&&je.y<=me.height)break;ge.lng>me.center.lng?ge.lng-=360:ge.lng+=360}return ge}var iv={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Vv(ge,J,me){var ie=ge.classList;for(var xe in iv)ie.remove("mapboxgl-"+me+"-anchor-"+xe);ie.add("mapboxgl-"+me+"-anchor-"+J)}var Yc=function(ge){function J(me,ie){var xe=this;if(ge.call(this),(me instanceof n.window.HTMLElement||ie)&&(me=n.extend({element:me},ie)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=me&&me.anchor||"center",this._color=me&&me.color||"#3FB1CE",this._draggable=me&&me.draggable||!1,this._state="inactive",this._rotation=me&&me.rotation||0,this._rotationAlignment=me&&me.rotationAlignment||"auto",this._pitchAlignment=me&&me.pitchAlignment&&me.pitchAlignment!=="auto"?me.pitchAlignment:this._rotationAlignment,!me||!me.element){this._defaultMarker=!0,this._element=w.create("div"),this._element.setAttribute("aria-label","Map marker");var ze=w.createNS("http://www.w3.org/2000/svg","svg");ze.setAttributeNS(null,"display","block"),ze.setAttributeNS(null,"height","41px"),ze.setAttributeNS(null,"width","27px"),ze.setAttributeNS(null,"viewBox","0 0 27 41");var je=w.createNS("http://www.w3.org/2000/svg","g");je.setAttributeNS(null,"stroke","none"),je.setAttributeNS(null,"stroke-width","1"),je.setAttributeNS(null,"fill","none"),je.setAttributeNS(null,"fill-rule","evenodd");var st=w.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"fill-rule","nonzero");var mt=w.createNS("http://www.w3.org/2000/svg","g");mt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),mt.setAttributeNS(null,"fill","#000000");for(var Bt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],Jt=0,ur=Bt;Jt<ur.length;Jt+=1){var yr=ur[Jt],Ir=w.createNS("http://www.w3.org/2000/svg","ellipse");Ir.setAttributeNS(null,"opacity","0.04"),Ir.setAttributeNS(null,"cx","10.5"),Ir.setAttributeNS(null,"cy","5.80029008"),Ir.setAttributeNS(null,"rx",yr.rx),Ir.setAttributeNS(null,"ry",yr.ry),mt.appendChild(Ir)}var Wr=w.createNS("http://www.w3.org/2000/svg","g");Wr.setAttributeNS(null,"fill",this._color);var Gr=w.createNS("http://www.w3.org/2000/svg","path");Gr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Wr.appendChild(Gr);var Hr=w.createNS("http://www.w3.org/2000/svg","g");Hr.setAttributeNS(null,"opacity","0.25"),Hr.setAttributeNS(null,"fill","#000000");var Qr=w.createNS("http://www.w3.org/2000/svg","path");Qr.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Hr.appendChild(Qr);var sn=w.createNS("http://www.w3.org/2000/svg","g");sn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),sn.setAttributeNS(null,"fill","#FFFFFF");var Sn=w.createNS("http://www.w3.org/2000/svg","g");Sn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Fn=w.createNS("http://www.w3.org/2000/svg","circle");Fn.setAttributeNS(null,"fill","#000000"),Fn.setAttributeNS(null,"opacity","0.25"),Fn.setAttributeNS(null,"cx","5.5"),Fn.setAttributeNS(null,"cy","5.5"),Fn.setAttributeNS(null,"r","5.4999962");var Gn=w.createNS("http://www.w3.org/2000/svg","circle");Gn.setAttributeNS(null,"fill","#FFFFFF"),Gn.setAttributeNS(null,"cx","5.5"),Gn.setAttributeNS(null,"cy","5.5"),Gn.setAttributeNS(null,"r","5.4999962"),Sn.appendChild(Fn),Sn.appendChild(Gn),st.appendChild(mt),st.appendChild(Wr),st.appendChild(Hr),st.appendChild(sn),st.appendChild(Sn),ze.appendChild(st),this._element.appendChild(ze),this._offset=n.Point.convert(me&&me.offset||[0,-14])}else this._element=me.element,this._offset=n.Point.convert(me&&me.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Zn){Zn.preventDefault()}),this._element.addEventListener("mousedown",function(Zn){Zn.preventDefault()}),this._element.addEventListener("focus",function(){var Zn=xe._map.getContainer();Zn.scrollTop=0,Zn.scrollLeft=0}),Vv(this._element,this._anchor,"marker"),this._popup=null}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.addTo=function(ie){return this.remove(),this._map=ie,ie.getCanvasContainer().appendChild(this._element),ie.on("move",this._update),ie.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},J.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),w.remove(this._element),this._popup&&this._popup.remove(),this},J.prototype.getLngLat=function(){return this._lngLat},J.prototype.setLngLat=function(ie){return this._lngLat=n.LngLat.convert(ie),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},J.prototype.getElement=function(){return this._element},J.prototype.setPopup=function(ie){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ie){if(!("offset"in ie.options)){var xe=38.1,ze=13.5,je=Math.sqrt(Math.pow(ze,2)/2);ie.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-xe],"bottom-left":[je,(xe-ze+je)*-1],"bottom-right":[-je,(xe-ze+je)*-1],left:[ze,(xe-ze)*-1],right:[-ze,(xe-ze)*-1]}:this._offset}this._popup=ie,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},J.prototype._onKeyPress=function(ie){var xe=ie.code,ze=ie.charCode||ie.keyCode;(xe==="Space"||xe==="Enter"||ze===32||ze===13)&&this.togglePopup()},J.prototype._onMapClick=function(ie){var xe=ie.originalEvent.target,ze=this._element;this._popup&&(xe===ze||ze.contains(xe))&&this.togglePopup()},J.prototype.getPopup=function(){return this._popup},J.prototype.togglePopup=function(){var ie=this._popup;if(ie)ie.isOpen()?ie.remove():ie.addTo(this._map);else return this;return this},J.prototype._update=function(ie){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Nu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var xe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?xe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(xe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ze="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?ze="rotateX(0deg)":this._pitchAlignment==="map"&&(ze="rotateX("+this._map.getPitch()+"deg)"),(!ie||ie.type==="moveend")&&(this._pos=this._pos.round()),w.setTransform(this._element,iv[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ze+" "+xe)}},J.prototype.getOffset=function(){return this._offset},J.prototype.setOffset=function(ie){return this._offset=n.Point.convert(ie),this._update(),this},J.prototype._onMove=function(ie){this._pos=ie.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag"))},J.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"},J.prototype._addDragHandler=function(ie){this._element.contains(ie.originalEvent.target)&&(ie.preventDefault(),this._positionDelta=ie.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},J.prototype.setDraggable=function(ie){return this._draggable=!!ie,this._map&&(ie?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},J.prototype.isDraggable=function(){return this._draggable},J.prototype.setRotation=function(ie){return this._rotation=ie||0,this._update(),this},J.prototype.getRotation=function(){return this._rotation},J.prototype.setRotationAlignment=function(ie){return this._rotationAlignment=ie||"auto",this._update(),this},J.prototype.getRotationAlignment=function(){return this._rotationAlignment},J.prototype.setPitchAlignment=function(ie){return this._pitchAlignment=ie&&ie!=="auto"?ie:this._rotationAlignment,this._update(),this},J.prototype.getPitchAlignment=function(){return this._pitchAlignment},J}(n.Evented),op={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},mf;function av(ge){mf!==void 0?ge(mf):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(function(J){mf=J.state!=="denied",ge(mf)}):(mf=!!n.window.navigator.geolocation,ge(mf))}var Zc=0,xf=!1,sp=function(ge){function J(me){ge.call(this),this.options=n.extend({},op,me),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.onAdd=function(ie){return this._map=ie,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),av(this._setupUI),this._container},J.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),w.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Zc=0,xf=!1},J.prototype._isOutOfMapMaxBounds=function(ie){var xe=this._map.getMaxBounds(),ze=ie.coords;return xe&&(ze.longitude<xe.getWest()||ze.longitude>xe.getEast()||ze.latitude<xe.getSouth()||ze.latitude>xe.getNorth())},J.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},J.prototype._onSuccess=function(ie){if(this._map){if(this._isOutOfMapMaxBounds(ie)){this._setErrorState(),this.fire(new n.Event("outofmaxbounds",ie)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ie,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ie),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ie),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",ie)),this._finish()}},J.prototype._updateCamera=function(ie){var xe=new n.LngLat(ie.coords.longitude,ie.coords.latitude),ze=ie.coords.accuracy,je=this._map.getBearing(),st=n.extend({bearing:je},this.options.fitBoundsOptions);this._map.fitBounds(xe.toBounds(ze),st,{geolocateSource:!0})},J.prototype._updateMarker=function(ie){if(ie){var xe=new n.LngLat(ie.coords.longitude,ie.coords.latitude);this._accuracyCircleMarker.setLngLat(xe).addTo(this._map),this._userLocationDotMarker.setLngLat(xe).addTo(this._map),this._accuracy=ie.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},J.prototype._updateCircleRadius=function(){var ie=this._map._container.clientHeight/2,xe=this._map.unproject([0,ie]),ze=this._map.unproject([1,ie]),je=xe.distanceTo(ze),st=Math.ceil(2*this._accuracy/je);this._circleElement.style.width=st+"px",this._circleElement.style.height=st+"px"},J.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},J.prototype._onError=function(ie){if(this._map){if(this.options.trackUserLocation)if(ie.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var xe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=xe,this._geolocateButton.setAttribute("aria-label",xe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ie.code===3&&xf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",ie)),this._finish()}},J.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},J.prototype._setupUI=function(ie){var xe=this;if(this._container.addEventListener("contextmenu",function(st){return st.preventDefault()}),this._geolocateButton=w.create("button","mapboxgl-ctrl-geolocate",this._container),w.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ie===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ze=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ze,this._geolocateButton.setAttribute("aria-label",ze)}else{var je=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=je,this._geolocateButton.setAttribute("aria-label",je)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=w.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Yc(this._dotElement),this._circleElement=w.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Yc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(st){var mt=st.originalEvent&&st.originalEvent.type==="resize";!st.geolocateSource&&xe._watchState==="ACTIVE_LOCK"&&!mt&&(xe._watchState="BACKGROUND",xe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),xe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),xe.fire(new n.Event("trackuserlocationend")))})},J.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Zc--,xf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Zc++;var ie;Zc>1?(ie={maximumAge:6e5,timeout:0},xf=!0):(ie=this.options.positionOptions,xf=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ie)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},J.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},J}(n.Evented),$0={maxWidth:100,unit:"metric"},bf=function(J){this.options=n.extend({},$0,J),n.bindAll(["_onMove","setUnit"],this)};bf.prototype.getDefaultPosition=function(){return"bottom-left"},bf.prototype._onMove=function(){lp(this._map,this._container,this.options)},bf.prototype.onAdd=function(J){return this._map=J,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",J.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},bf.prototype.onRemove=function(){w.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},bf.prototype.setUnit=function(J){this.options.unit=J,lp(this._map,this._container,this.options)};function lp(ge,J,me){var ie=me&&me.maxWidth||100,xe=ge._container.clientHeight/2,ze=ge.unproject([0,xe]),je=ge.unproject([ie,xe]),st=ze.distanceTo(je);if(me&&me.unit==="imperial"){var mt=3.2808*st;if(mt>5280){var Bt=mt/5280;jc(J,ie,Bt,ge._getUIString("ScaleControl.Miles"))}else jc(J,ie,mt,ge._getUIString("ScaleControl.Feet"))}else if(me&&me.unit==="nautical"){var Jt=st/1852;jc(J,ie,Jt,ge._getUIString("ScaleControl.NauticalMiles"))}else st>=1e3?jc(J,ie,st/1e3,ge._getUIString("ScaleControl.Kilometers")):jc(J,ie,st,ge._getUIString("ScaleControl.Meters"))}function jc(ge,J,me,ie){var xe=eg(me),ze=xe/me;ge.style.width=J*ze+"px",ge.innerHTML=xe+"&nbsp;"+ie}function q0(ge){var J=Math.pow(10,Math.ceil(-Math.log(ge)/Math.LN10));return Math.round(ge*J)/J}function eg(ge){var J=Math.pow(10,(""+Math.floor(ge)).length-1),me=ge/J;return me=me>=10?10:me>=5?5:me>=3?3:me>=2?2:me>=1?1:q0(me),J*me}var Fl=function(J){this._fullscreen=!1,J&&J.container&&(J.container instanceof n.window.HTMLElement?this._container=J.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};Fl.prototype.onAdd=function(J){return this._map=J,this._container||(this._container=this._map.getContainer()),this._controlContainer=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Fl.prototype.onRemove=function(){w.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Fl.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},Fl.prototype._setupUI=function(){var J=this._fullscreenButton=w.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);w.create("span","mapboxgl-ctrl-icon",J).setAttribute("aria-hidden",!0),J.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Fl.prototype._updateTitle=function(){var J=this._getTitle();this._fullscreenButton.setAttribute("aria-label",J),this._fullscreenButton.title=J},Fl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Fl.prototype._isFullscreen=function(){return this._fullscreen},Fl.prototype._changeIcon=function(){var J=n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement;J===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Fl.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var tg={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},rg=function(ge){function J(me){ge.call(this),this.options=n.extend(Object.create(tg),me),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ge&&(J.__proto__=ge),J.prototype=Object.create(ge&&ge.prototype),J.prototype.constructor=J,J.prototype.addTo=function(ie){return this._map&&this.remove(),this._map=ie,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},J.prototype.isOpen=function(){return!!this._map},J.prototype.remove=function(){return this._content&&w.remove(this._content),this._container&&(w.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},J.prototype.getLngLat=function(){return this._lngLat},J.prototype.setLngLat=function(ie){return this._lngLat=n.LngLat.convert(ie),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},J.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},J.prototype.getElement=function(){return this._container},J.prototype.setText=function(ie){return this.setDOMContent(n.window.document.createTextNode(ie))},J.prototype.setHTML=function(ie){var xe=n.window.document.createDocumentFragment(),ze=n.window.document.createElement("body"),je;for(ze.innerHTML=ie;je=ze.firstChild,!!je;)xe.appendChild(je);return this.setDOMContent(xe)},J.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},J.prototype.setMaxWidth=function(ie){return this.options.maxWidth=ie,this._update(),this},J.prototype.setDOMContent=function(ie){return this._createContent(),this._content.appendChild(ie),this._update(),this},J.prototype.addClassName=function(ie){this._container&&this._container.classList.add(ie)},J.prototype.removeClassName=function(ie){this._container&&this._container.classList.remove(ie)},J.prototype.toggleClassName=function(ie){if(this._container)return this._container.classList.toggle(ie)},J.prototype._createContent=function(){this._content&&w.remove(this._content),this._content=w.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=w.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},J.prototype._onMouseUp=function(ie){this._update(ie.point)},J.prototype._onMouseMove=function(ie){this._update(ie.point)},J.prototype._onDrag=function(ie){this._update(ie.point)},J.prototype._update=function(ie){var xe=this,ze=this._lngLat||this._trackPointer;if(!(!this._map||!ze||!this._content)&&(this._container||(this._container=w.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=w.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ir){return xe._container.classList.add(Ir)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Nu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ie))){var je=this._pos=this._trackPointer&&ie?ie:this._map.project(this._lngLat),st=this.options.anchor,mt=up(this.options.offset);if(!st){var Bt=this._container.offsetWidth,Jt=this._container.offsetHeight,ur;je.y+mt.bottom.y<Jt?ur=["top"]:je.y>this._map.transform.height-Jt?ur=["bottom"]:ur=[],je.x<Bt/2?ur.push("left"):je.x>this._map.transform.width-Bt/2&&ur.push("right"),ur.length===0?st="bottom":st=ur.join("-")}var yr=je.add(mt[st]).round();w.setTransform(this._container,iv[st]+" translate("+yr.x+"px,"+yr.y+"px)"),Vv(this._container,st,"popup")}},J.prototype._onClose=function(){this.remove()},J}(n.Evented);function up(ge){if(ge)if(typeof ge=="number"){var J=Math.round(Math.sqrt(.5*Math.pow(ge,2)));return{center:new n.Point(0,0),top:new n.Point(0,ge),"top-left":new n.Point(J,J),"top-right":new n.Point(-J,J),bottom:new n.Point(0,-ge),"bottom-left":new n.Point(J,-J),"bottom-right":new n.Point(-J,-J),left:new n.Point(ge,0),right:new n.Point(-ge,0)}}else if(ge instanceof n.Point||Array.isArray(ge)){var me=n.Point.convert(ge);return{center:me,top:me,"top-left":me,"top-right":me,bottom:me,"bottom-left":me,"bottom-right":me,left:me,right:me}}else return{center:n.Point.convert(ge.center||[0,0]),top:n.Point.convert(ge.top||[0,0]),"top-left":n.Point.convert(ge["top-left"]||[0,0]),"top-right":n.Point.convert(ge["top-right"]||[0,0]),bottom:n.Point.convert(ge.bottom||[0,0]),"bottom-left":n.Point.convert(ge["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(ge["bottom-right"]||[0,0]),left:n.Point.convert(ge.left||[0,0]),right:n.Point.convert(ge.right||[0,0])};else return up(new n.Point(0,0))}var ng={version:n.version,supported:L,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:ap,NavigationControl:Bu,GeolocateControl:sp,AttributionControl:ts,ScaleControl:bf,FullscreenControl:Fl,Popup:rg,Marker:Yc,Style:So,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:It,clearPrewarmedResources:Zt,get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(ge){n.config.ACCESS_TOKEN=ge},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(ge){n.config.API_URL=ge},get workerCount(){return Er.workerCount},set workerCount(ge){Er.workerCount=ge},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ge){n.config.MAX_PARALLEL_IMAGE_REQUESTS=ge},clearStorage:function(J){n.clearTileCache(J)},workerUrl:""};return ng}),h})},27084:function(k){k.exports=Math.log2||function(F){return Math.log(F)*Math.LOG2E}},16825:function(k,F,e){k.exports=E;var h=e(74311);function E(n,L){L||(L=n,n=window);var w=0,p=0,m=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function l(C){var S=!1;return"altKey"in C&&(S=S||C.altKey!==t.alt,t.alt=!!C.altKey),"shiftKey"in C&&(S=S||C.shiftKey!==t.shift,t.shift=!!C.shiftKey),"ctrlKey"in C&&(S=S||C.ctrlKey!==t.control,t.control=!!C.ctrlKey),"metaKey"in C&&(S=S||C.metaKey!==t.meta,t.meta=!!C.metaKey),S}function i(C,S){var D=h.x(S),T=h.y(S);"buttons"in S&&(C=S.buttons|0),(C!==w||D!==p||T!==m||l(S))&&(w=C|0,p=D||0,m=T||0,L&&L(w,p,m,t))}function f(C){i(0,C)}function v(){(w||p||m||t.shift||t.alt||t.meta||t.control)&&(p=m=0,w=0,t.shift=t.alt=t.control=t.meta=!1,L&&L(0,0,0,t))}function c(C){l(C)&&L&&L(w,p,m,t)}function x(C){h.buttons(C)===0?i(0,C):i(w,C)}function d(C){i(w|h.buttons(C),C)}function M(C){i(w&~h.buttons(C),C)}function g(){r||(r=!0,n.addEventListener("mousemove",x),n.addEventListener("mousedown",d),n.addEventListener("mouseup",M),n.addEventListener("mouseleave",f),n.addEventListener("mouseenter",f),n.addEventListener("mouseout",f),n.addEventListener("mouseover",f),n.addEventListener("blur",v),n.addEventListener("keyup",c),n.addEventListener("keydown",c),n.addEventListener("keypress",c),n!==window&&(window.addEventListener("blur",v),window.addEventListener("keyup",c),window.addEventListener("keydown",c),window.addEventListener("keypress",c)))}function u(){r&&(r=!1,n.removeEventListener("mousemove",x),n.removeEventListener("mousedown",d),n.removeEventListener("mouseup",M),n.removeEventListener("mouseleave",f),n.removeEventListener("mouseenter",f),n.removeEventListener("mouseout",f),n.removeEventListener("mouseover",f),n.removeEventListener("blur",v),n.removeEventListener("keyup",c),n.removeEventListener("keydown",c),n.removeEventListener("keypress",c),n!==window&&(window.removeEventListener("blur",v),window.removeEventListener("keyup",c),window.removeEventListener("keydown",c),window.removeEventListener("keypress",c)))}g();var y={element:n};return Object.defineProperties(y,{enabled:{get:function(){return r},set:function(C){C?g():u()},enumerable:!0},buttons:{get:function(){return w},enumerable:!0},x:{get:function(){return p},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),y}},48956:function(k){var F={left:0,top:0};k.exports=e;function e(E,n,L){n=n||E.currentTarget||E.srcElement,Array.isArray(L)||(L=[0,0]);var w=E.clientX||0,p=E.clientY||0,m=h(n);return L[0]=w-m.left,L[1]=p-m.top,L}function h(E){return E===window||E===document||E===document.body?F:E.getBoundingClientRect()}},74311:function(k,F){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var w=L.which;if(w===2)return 4;if(w===3)return 2;if(w>0)return 1<<w-1}else if("button"in L){var w=L.button;if(w===1)return 4;if(w===2)return 2;if(w>=0)return 1<<w}}return 0}F.buttons=e;function h(L){return L.target||L.srcElement||window}F.element=h;function E(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var w=h(L),p=w.getBoundingClientRect();return L.clientX-p.left}return 0}F.x=E;function n(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var w=h(L),p=w.getBoundingClientRect();return L.clientY-p.top}return 0}F.y=n},1195:function(k,F,e){var h=e(75686);k.exports=E;function E(n,L,w){typeof n=="function"&&(w=!!L,L=n,n=window);var p=h("ex",n),m=function(t){w&&t.preventDefault();var r=t.deltaX||0,l=t.deltaY||0,i=t.deltaZ||0,f=t.deltaMode,v=1;switch(f){case 1:v=p;break;case 2:v=window.innerHeight;break}if(r*=v,l*=v,i*=v,r||l||i)return L(r,l,i,t)};return n.addEventListener("wheel",m),m}},7417:function(k,F,e){var h;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(n,L,w){L[n]=L[n]||w(),k.exports?k.exports=L[n]:(h=function(){return L[n]}.call(F,e,F,k),h!==void 0&&(k.exports=h))})("Promise",typeof e.g<"u"?e.g:this,function(){var n,L,w,p=Object.prototype.toString,m=typeof setImmediate<"u"?function(y){return setImmediate(y)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(y,C,S,D){return Object.defineProperty(y,C,{value:S,writable:!0,configurable:D!==!1})}}catch{n=function(C,S,D){return C[S]=D,C}}w=function(){var y,C,S;function D(T,P){this.fn=T,this.self=P,this.next=void 0}return{add:function(P,A){S=new D(P,A),C?C.next=S:y=S,C=S,S=void 0},drain:function(){var P=y;for(y=C=L=void 0;P;)P.fn.call(P.self),P=P.next}}}();function t(u,y){w.add(u,y),L||(L=m(w.drain))}function r(u){var y,C=typeof u;return u!=null&&(C=="object"||C=="function")&&(y=u.then),typeof y=="function"?y:!1}function l(){for(var u=0;u<this.chain.length;u++)i(this,this.state===1?this.chain[u].success:this.chain[u].failure,this.chain[u]);this.chain.length=0}function i(u,y,C){var S,D;try{y===!1?C.reject(u.msg):(y===!0?S=u.msg:S=y.call(void 0,u.msg),S===C.promise?C.reject(TypeError("Promise-chain cycle")):(D=r(S))?D.call(S,C.resolve,C.reject):C.resolve(S))}catch(T){C.reject(T)}}function f(u){var y,C=this;if(!C.triggered){C.triggered=!0,C.def&&(C=C.def);try{(y=r(u))?t(function(){var S=new x(C);try{y.call(u,function(){f.apply(S,arguments)},function(){v.apply(S,arguments)})}catch(D){v.call(S,D)}}):(C.msg=u,C.state=1,C.chain.length>0&&t(l,C))}catch(S){v.call(new x(C),S)}}}function v(u){var y=this;y.triggered||(y.triggered=!0,y.def&&(y=y.def),y.msg=u,y.state=2,y.chain.length>0&&t(l,y))}function c(u,y,C,S){for(var D=0;D<y.length;D++)(function(P){u.resolve(y[P]).then(function(a){C(P,a)},S)})(D)}function x(u){this.def=u,this.triggered=!1}function d(u){this.promise=u,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function M(u){if(typeof u!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var y=new d(this);this.then=function(S,D){var T={success:typeof S=="function"?S:!0,failure:typeof D=="function"?D:!1};return T.promise=new this.constructor(function(A,a){if(typeof A!="function"||typeof a!="function")throw TypeError("Not a function");T.resolve=A,T.reject=a}),y.chain.push(T),y.state!==0&&t(l,y),T.promise},this.catch=function(S){return this.then(void 0,S)};try{u.call(void 0,function(S){f.call(y,S)},function(S){v.call(y,S)})}catch(C){v.call(y,C)}}var g=n({},"constructor",M,!1);return M.prototype=g,n(g,"__NPO__",0,!1),n(M,"resolve",function(y){var C=this;return y&&typeof y=="object"&&y.__NPO__===1?y:new C(function(D,T){if(typeof D!="function"||typeof T!="function")throw TypeError("Not a function");D(y)})}),n(M,"reject",function(y){return new this(function(S,D){if(typeof S!="function"||typeof D!="function")throw TypeError("Not a function");D(y)})}),n(M,"all",function(y){var C=this;return p.call(y)!="[object Array]"?C.reject(TypeError("Not an array")):y.length===0?C.resolve([]):new C(function(D,T){if(typeof D!="function"||typeof T!="function")throw TypeError("Not a function");var P=y.length,A=Array(P),a=0;c(C,y,function(b,N){A[b]=N,++a===P&&D(A)},T)})}),n(M,"race",function(y){var C=this;return p.call(y)!="[object Array]"?C.reject(TypeError("Not an array")):new C(function(D,T){if(typeof D!="function"||typeof T!="function")throw TypeError("Not a function");c(C,y,function(A,a){D(a)},T)})}),M})},18625:function(k){var F=Math.PI,e=p(120);k.exports=h;function h(m){for(var t,r=[],l=0,i=0,f=0,v=0,c=null,x=null,d=0,M=0,g=0,u=m.length;g<u;g++){var y=m[g],C=y[0];switch(C){case"M":f=y[1],v=y[2];break;case"A":y=L(d,M,y[1],y[2],p(y[3]),y[4],y[5],y[6],y[7]),y.unshift("C"),y.length>7&&(r.push(y.splice(0,7)),y.unshift("C"));break;case"S":var S=d,D=M;(t=="C"||t=="S")&&(S+=S-l,D+=D-i),y=["C",S,D,y[1],y[2],y[3],y[4]];break;case"T":t=="Q"||t=="T"?(c=d*2-c,x=M*2-x):(c=d,x=M),y=n(d,M,c,x,y[1],y[2]);break;case"Q":c=y[1],x=y[2],y=n(d,M,y[1],y[2],y[3],y[4]);break;case"L":y=E(d,M,y[1],y[2]);break;case"H":y=E(d,M,y[1],M);break;case"V":y=E(d,M,d,y[1]);break;case"Z":y=E(d,M,f,v);break}t=C,d=y[y.length-2],M=y[y.length-1],y.length>4?(l=y[y.length-4],i=y[y.length-3]):(l=d,i=M),r.push(y)}return r}function E(m,t,r,l){return["C",m,t,r,l,r,l]}function n(m,t,r,l,i,f){return["C",m/3+.6666666666666666*r,t/3+.6666666666666666*l,i/3+.6666666666666666*r,f/3+.6666666666666666*l,i,f]}function L(m,t,r,l,i,f,v,c,x,d){if(d)A=d[0],a=d[1],T=d[2],P=d[3];else{var M=w(m,t,-i);m=M.x,t=M.y,M=w(c,x,-i),c=M.x,x=M.y;var g=(m-c)/2,u=(t-x)/2,y=g*g/(r*r)+u*u/(l*l);y>1&&(y=Math.sqrt(y),r=y*r,l=y*l);var C=r*r,S=l*l,D=(f==v?-1:1)*Math.sqrt(Math.abs((C*S-C*u*u-S*g*g)/(C*u*u+S*g*g)));D==1/0&&(D=1);var T=D*r*u/l+(m+c)/2,P=D*-l*g/r+(t+x)/2,A=Math.asin(((t-P)/l).toFixed(9)),a=Math.asin(((x-P)/l).toFixed(9));A=m<T?F-A:A,a=c<T?F-a:a,A<0&&(A=F*2+A),a<0&&(a=F*2+a),v&&A>a&&(A=A-F*2),!v&&a>A&&(a=a-F*2)}if(Math.abs(a-A)>e){var R=a,b=c,N=x;a=A+e*(v&&a>A?1:-1),c=T+r*Math.cos(a),x=P+l*Math.sin(a);var O=L(c,x,r,l,i,0,v,b,N,[a,R,T,P])}var Y=Math.tan((a-A)/4),B=4/3*r*Y,W=4/3*l*Y,H=[2*m-(m+B*Math.sin(A)),2*t-(t-W*Math.cos(A)),c+B*Math.sin(a),x-W*Math.cos(a),c,x];if(d)return H;O&&(H=H.concat(O));for(var U=0;U<H.length;){var G=w(H[U],H[U+1],i);H[U++]=G.x,H[U++]=G.y}return H}function w(m,t,r){return{x:m*Math.cos(r)-t*Math.sin(r),y:m*Math.sin(r)+t*Math.cos(r)}}function p(m){return m*(F/180)}},56131:function(k){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var F=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function E(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function n(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var w={},p=0;p<10;p++)w["_"+String.fromCharCode(p)]=p;var m=Object.getOwnPropertyNames(w).map(function(r){return w[r]});if(m.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}k.exports=n()?Object.assign:function(L,w){for(var p,m=E(L),t,r=1;r<arguments.length;r++){p=Object(arguments[r]);for(var l in p)e.call(p,l)&&(m[l]=p[l]);if(F){t=F(p);for(var i=0;i<t.length;i++)h.call(p,t[i])&&(m[t[i]]=p[t[i]])}}return m}},65848:function(k){var F=function(e){return e!==e};k.exports=function(h,E){return h===0&&E===0?1/h===1/E:!!(h===E||F(h)&&F(E))}},64003:function(k,F,e){var h=e(17045),E=e(68222),n=e(65848),L=e(27015),w=e(55572),p=E(L(),Object);h(p,{getPolyfill:L,implementation:n,shim:w}),k.exports=p},27015:function(k,F,e){var h=e(65848);k.exports=function(){return typeof Object.is=="function"?Object.is:h}},55572:function(k,F,e){var h=e(27015),E=e(17045);k.exports=function(){var L=h();return E(Object,{is:L},{is:function(){return Object.is!==L}}),L}},99019:function(k,F,e){var h;if(!Object.keys){var E=Object.prototype.hasOwnProperty,n=Object.prototype.toString,L=e(64178),w=Object.prototype.propertyIsEnumerable,p=!w.call({toString:null},"toString"),m=w.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(v){var c=v.constructor;return c&&c.prototype===v},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},i=function(){if(typeof window>"u")return!1;for(var v in window)try{if(!l["$"+v]&&E.call(window,v)&&window[v]!==null&&typeof window[v]=="object")try{r(window[v])}catch{return!0}}catch{return!0}return!1}(),f=function(v){if(typeof window>"u"||!i)return r(v);try{return r(v)}catch{return!1}};h=function(c){var x=c!==null&&typeof c=="object",d=n.call(c)==="[object Function]",M=L(c),g=x&&n.call(c)==="[object String]",u=[];if(!x&&!d&&!M)throw new TypeError("Object.keys called on a non-object");var y=m&&d;if(g&&c.length>0&&!E.call(c,0))for(var C=0;C<c.length;++C)u.push(String(C));if(M&&c.length>0)for(var S=0;S<c.length;++S)u.push(String(S));else for(var D in c)!(y&&D==="prototype")&&E.call(c,D)&&u.push(String(D));if(p)for(var T=f(c),P=0;P<t.length;++P)!(T&&t[P]==="constructor")&&E.call(c,t[P])&&u.push(t[P]);return u}}k.exports=h},8709:function(k,F,e){var h=Array.prototype.slice,E=e(64178),n=Object.keys,L=n?function(m){return n(m)}:e(99019),w=Object.keys;L.shim=function(){if(Object.keys){var m=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);m||(Object.keys=function(r){return E(r)?w(h.call(r)):w(r)})}else Object.keys=L;return Object.keys||L},k.exports=L},64178:function(k){var F=Object.prototype.toString;k.exports=function(h){var E=F.call(h),n=E==="[object Arguments]";return n||(n=E!=="[object Array]"&&h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&F.call(h.callee)==="[object Function]"),n}},88641:function(k){function F(E,n){if(typeof E!="string")return[E];var L=[E];typeof n=="string"||Array.isArray(n)?n={brackets:n}:n||(n={});var w=n.brackets?Array.isArray(n.brackets)?n.brackets:[n.brackets]:["{}","[]","()"],p=n.escape||"___",m=!!n.flat;w.forEach(function(l){var i=new RegExp(["\\",l[0],"[^\\",l[0],"\\",l[1],"]*\\",l[1]].join("")),f=[];function v(c,x,d){var M=L.push(c.slice(l[0].length,-l[1].length))-1;return f.push(M),p+M+p}L.forEach(function(c,x){for(var d,M=0;c!=d;)if(d=c,c=c.replace(i,v),M++>1e4)throw Error("References have circular dependency. Please, check them.");L[x]=c}),f=f.reverse(),L=L.map(function(c){return f.forEach(function(x){c=c.replace(new RegExp("(\\"+p+x+"\\"+p+")","g"),l[0]+"$1"+l[1])}),c})});var t=new RegExp("\\"+p+"([0-9]+)\\"+p);function r(l,i,f){for(var v=[],c,x=0;c=t.exec(l);){if(x++>1e4)throw Error("Circular references in parenthesis");v.push(l.slice(0,c.index)),v.push(r(i[c[1]],i)),l=l.slice(c.index+c[0].length)}return v.push(l),v}return m?L:r(L[0],L)}function e(E,n){if(n&&n.flat){var L=n&&n.escape||"___",w=E[0],p;if(!w)return"";for(var m=new RegExp("\\"+L+"([0-9]+)\\"+L),t=0;w!=p;){if(t++>1e4)throw Error("Circular references in "+E);p=w,w=w.replace(m,r)}return w}return E.reduce(function l(i,f){return Array.isArray(f)&&(f=f.reduce(l,"")),i+f},"");function r(l,i){if(E[i]==null)throw Error("Reference "+i+"is undefined");return E[i]}}function h(E,n){return Array.isArray(E)?e(E,n):F(E,n)}h.parse=F,h.stringify=e,k.exports=h},18863:function(k,F,e){var h=e(71299);k.exports=E;function E(n){var L;return arguments.length>1&&(n=arguments),typeof n=="string"?n=n.split(/\s/).map(parseFloat):typeof n=="number"&&(n=[n]),n.length&&typeof n[0]=="number"?n.length===1?L={width:n[0],height:n[0],x:0,y:0}:n.length===2?L={width:n[0],height:n[1],x:0,y:0}:L={x:n[0],y:n[1],width:n[2]-n[0]||0,height:n[3]-n[1]||0}:n&&(n=h(n,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:n.left||0,y:n.top||0},n.width==null?n.right?L.width=n.right-L.x:L.width=0:L.width=n.width,n.height==null?n.bottom?L.height=n.bottom-L.y:L.height=0:L.height=n.height),L}},95616:function(k){k.exports=h;var F={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function h(L){var w=[];return L.replace(e,function(p,m,t){var r=m.toLowerCase();for(t=n(t),r=="m"&&t.length>2&&(w.push([m].concat(t.splice(0,2))),r="l",m=m=="m"?"l":"L");;){if(t.length==F[r])return t.unshift(m),w.push(t);if(t.length<F[r])throw new Error("malformed path data");w.push([m].concat(t.splice(0,F[r])))}}),w}var E=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function n(L){var w=L.match(E);return w?w.map(Number):[]}},25677:function(k){k.exports=function(e,h){h||(h=[0,""]),e=String(e);var E=parseFloat(e,10);return h[0]=E,h[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",h}},9748:function(k,F,e){var h=e(90386);(function(){var E,n,L,w,p,m;typeof performance<"u"&&performance!==null&&performance.now?k.exports=function(){return performance.now()}:typeof h<"u"&&h!==null&&h.hrtime?(k.exports=function(){return(E()-p)/1e6},n=h.hrtime,E=function(){var t;return t=n(),t[0]*1e9+t[1]},w=E(),m=h.uptime()*1e9,p=w-m):Date.now?(k.exports=function(){return Date.now()-L},L=Date.now()):(k.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},71299:function(k){k.exports=function(E,n,L){var w={},p,m;if(typeof n=="string"&&(n=e(n)),Array.isArray(n)){var t={};for(m=0;m<n.length;m++)t[n[m]]=!0;n=t}for(p in n)n[p]=e(n[p]);var r={};for(p in n){var l=n[p];if(Array.isArray(l))for(m=0;m<l.length;m++){var i=l[m];if(L&&(r[i]=!0),i in E){if(w[p]=E[i],L)for(var f=m;f<l.length;f++)r[l[f]]=!0;break}}else p in E&&(n[p]&&(w[p]=E[p]),L&&(r[p]=!0))}if(L)for(p in E)r[p]||(w[p]=E[p]);return w};var F={};function e(h){return F[h]?F[h]:(typeof h=="string"&&(h=F[h]=h.split(/\s*,\s*|\s+/)),h)}},38258:function(k){k.exports=function(e,h,E,n){var L=e[0],w=e[1],p=!1;E===void 0&&(E=0),n===void 0&&(n=h.length);for(var m=n-E,t=0,r=m-1;t<m;r=t++){var l=h[t+E][0],i=h[t+E][1],f=h[r+E][0],v=h[r+E][1],c=i>w!=v>w&&L<(f-l)*(w-i)/(v-i)+l;c&&(p=!p)}return p}},52142:function(k,F,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var h=e(69444),E=e(29023),n=e(87263),L=e(11328),w=e(55968),p=e(10670),m=!1,t=E(),r;r={buildLog:function(i){return i===!0?m=h():i===!1&&(m=!1),m===!1?!1:m.list},epsilon:function(i){return t.epsilon(i)},segments:function(i){var f=n(!0,t,m);return i.regions.forEach(f.addRegion),{segments:f.calculate(i.inverted),inverted:i.inverted}},combine:function(i,f){var v=n(!1,t,m);return{combined:v.calculate(i.segments,i.inverted,f.segments,f.inverted),inverted1:i.inverted,inverted2:f.inverted}},selectUnion:function(i){return{segments:w.union(i.combined,m),inverted:i.inverted1||i.inverted2}},selectIntersect:function(i){return{segments:w.intersect(i.combined,m),inverted:i.inverted1&&i.inverted2}},selectDifference:function(i){return{segments:w.difference(i.combined,m),inverted:i.inverted1&&!i.inverted2}},selectDifferenceRev:function(i){return{segments:w.differenceRev(i.combined,m),inverted:!i.inverted1&&i.inverted2}},selectXor:function(i){return{segments:w.xor(i.combined,m),inverted:i.inverted1!==i.inverted2}},polygon:function(i){return{regions:L(i.segments,t,m),inverted:i.inverted}},polygonFromGeoJSON:function(i){return p.toPolygon(r,i)},polygonToGeoJSON:function(i){return p.fromPolygon(r,t,i)},union:function(i,f){return l(i,f,r.selectUnion)},intersect:function(i,f){return l(i,f,r.selectIntersect)},difference:function(i,f){return l(i,f,r.selectDifference)},differenceRev:function(i,f){return l(i,f,r.selectDifferenceRev)},xor:function(i,f){return l(i,f,r.selectXor)}};function l(i,f,v){var c=r.segments(i),x=r.segments(f),d=r.combine(c,x),M=v(d);return r.polygon(M)}typeof window=="object"&&(window.PolyBool=r),k.exports=r},69444:function(k){function F(){var e,h=0,E=!1;function n(L,w){return e.list.push({type:L,data:w?JSON.parse(JSON.stringify(w)):void 0}),e}return e={list:[],segmentId:function(){return h++},checkIntersection:function(L,w){return n("check",{seg1:L,seg2:w})},segmentChop:function(L,w){return n("div_seg",{seg:L,pt:w}),n("chop",{seg:L,pt:w})},statusRemove:function(L){return n("pop_seg",{seg:L})},segmentUpdate:function(L){return n("seg_update",{seg:L})},segmentNew:function(L,w){return n("new_seg",{seg:L,primary:w})},segmentRemove:function(L){return n("rem_seg",{seg:L})},tempStatus:function(L,w,p){return n("temp_status",{seg:L,above:w,below:p})},rewind:function(L){return n("rewind",{seg:L})},status:function(L,w,p){return n("status",{seg:L,above:w,below:p})},vert:function(L){return L===E?e:(E=L,n("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),n("log",{txt:L})},reset:function(){return n("reset")},selected:function(L){return n("selected",{segs:L})},chainStart:function(L){return n("chain_start",{seg:L})},chainRemoveHead:function(L,w){return n("chain_rem_head",{index:L,pt:w})},chainRemoveTail:function(L,w){return n("chain_rem_tail",{index:L,pt:w})},chainNew:function(L,w){return n("chain_new",{pt1:L,pt2:w})},chainMatch:function(L){return n("chain_match",{index:L})},chainClose:function(L){return n("chain_close",{index:L})},chainAddHead:function(L,w){return n("chain_add_head",{index:L,pt:w})},chainAddTail:function(L,w){return n("chain_add_tail",{index:L,pt:w})},chainConnect:function(L,w){return n("chain_con",{index1:L,index2:w})},chainReverse:function(L){return n("chain_rev",{index:L})},chainJoin:function(L,w){return n("chain_join",{index1:L,index2:w})},done:function(){return n("done")}},e}k.exports=F},29023:function(k){function F(e){typeof e!="number"&&(e=1e-10);var h={epsilon:function(E){return typeof E=="number"&&(e=E),e},pointAboveOrOnLine:function(E,n,L){var w=n[0],p=n[1],m=L[0],t=L[1],r=E[0],l=E[1];return(m-w)*(l-p)-(t-p)*(r-w)>=-e},pointBetween:function(E,n,L){var w=E[1]-n[1],p=L[0]-n[0],m=E[0]-n[0],t=L[1]-n[1],r=m*p+w*t;if(r<e)return!1;var l=p*p+t*t;return!(r-l>-e)},pointsSameX:function(E,n){return Math.abs(E[0]-n[0])<e},pointsSameY:function(E,n){return Math.abs(E[1]-n[1])<e},pointsSame:function(E,n){return h.pointsSameX(E,n)&&h.pointsSameY(E,n)},pointsCompare:function(E,n){return h.pointsSameX(E,n)?h.pointsSameY(E,n)?0:E[1]<n[1]?-1:1:E[0]<n[0]?-1:1},pointsCollinear:function(E,n,L){var w=E[0]-n[0],p=E[1]-n[1],m=n[0]-L[0],t=n[1]-L[1];return Math.abs(w*t-m*p)<e},linesIntersect:function(E,n,L,w){var p=n[0]-E[0],m=n[1]-E[1],t=w[0]-L[0],r=w[1]-L[1],l=p*r-m*t;if(Math.abs(l)<e)return!1;var i=E[0]-L[0],f=E[1]-L[1],v=(t*f-r*i)/l,c=(p*f-m*i)/l,x={alongA:0,alongB:0,pt:[E[0]+v*p,E[1]+v*m]};return v<=-e?x.alongA=-2:v<e?x.alongA=-1:v-1<=-e?x.alongA=0:v-1<e?x.alongA=1:x.alongA=2,c<=-e?x.alongB=-2:c<e?x.alongB=-1:c-1<=-e?x.alongB=0:c-1<e?x.alongB=1:x.alongB=2,x},pointInsideRegion:function(E,n){for(var L=E[0],w=E[1],p=n[n.length-1][0],m=n[n.length-1][1],t=!1,r=0;r<n.length;r++){var l=n[r][0],i=n[r][1];i-w>e!=m-w>e&&(p-l)*(w-i)/(m-i)+l-L>e&&(t=!t),p=l,m=i}return t}};return h}k.exports=F},10670:function(k){var F={toPolygon:function(e,h){function E(w){if(w.length<=0)return e.segments({inverted:!1,regions:[]});function p(r){var l=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[l]})}for(var m=p(w[0]),t=1;t<w.length;t++)m=e.selectDifference(e.combine(m,p(w[t])));return m}if(h.type==="Polygon")return e.polygon(E(h.coordinates));if(h.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),L=0;L<h.coordinates.length;L++)n=e.selectUnion(e.combine(n,E(h.coordinates[L])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,h,E){E=e.polygon(e.segments(E));function n(v,c){return h.pointInsideRegion([(v[0][0]+v[1][0])*.5,(v[0][1]+v[1][1])*.5],c)}function L(v){return{region:v,children:[]}}var w=L(null);function p(v,c){for(var x=0;x<v.children.length;x++){var d=v.children[x];if(n(c,d.region)){p(d,c);return}}for(var M=L(c),x=0;x<v.children.length;x++){var d=v.children[x];n(d.region,c)&&(M.children.push(d),v.children.splice(x,1),x--)}v.children.push(M)}for(var m=0;m<E.regions.length;m++){var t=E.regions[m];t.length<3||p(w,t)}function r(v,c){for(var x=0,d=v[v.length-1][0],M=v[v.length-1][1],g=[],u=0;u<v.length;u++){var y=v[u][0],C=v[u][1];g.push([y,C]),x+=C*d-y*M,d=y,M=C}var S=x<0;return S!==c&&g.reverse(),g.push([g[0][0],g[0][1]]),g}var l=[];function i(v){var c=[r(v.region,!1)];l.push(c);for(var x=0;x<v.children.length;x++)c.push(f(v.children[x]))}function f(v){for(var c=0;c<v.children.length;c++)i(v.children[c]);return r(v.region,!0)}for(var m=0;m<w.children.length;m++)i(w.children[m]);return l.length<=0?{type:"Polygon",coordinates:[]}:l.length==1?{type:"Polygon",coordinates:l[0]}:{type:"MultiPolygon",coordinates:l}}};k.exports=F},87263:function(k,F,e){var h=e(26859);function E(n,L,w){function p(M,g){return{id:w?w.segmentId():-1,start:M,end:g,myFill:{above:null,below:null},otherFill:null}}function m(M,g,u){return{id:w?w.segmentId():-1,start:M,end:g,myFill:{above:u.myFill.above,below:u.myFill.below},otherFill:null}}var t=h.create();function r(M,g,u,y,C,S){var D=L.pointsCompare(g,C);return D!==0?D:L.pointsSame(u,S)?0:M!==y?M?1:-1:L.pointAboveOrOnLine(u,y?C:S,y?S:C)?1:-1}function l(M,g){t.insertBefore(M,function(u){var y=r(M.isStart,M.pt,g,u.isStart,u.pt,u.other.pt);return y<0})}function i(M,g){var u=h.node({isStart:!0,pt:M.start,seg:M,primary:g,other:null,status:null});return l(u,M.end),u}function f(M,g,u){var y=h.node({isStart:!1,pt:g.end,seg:g,primary:u,other:M,status:null});M.other=y,l(y,M.pt)}function v(M,g){var u=i(M,g);return f(u,M,g),u}function c(M,g){w&&w.segmentChop(M.seg,g),M.other.remove(),M.seg.end=g,M.other.pt=g,l(M.other,M.pt)}function x(M,g){var u=m(g,M.seg.end,M.seg);return c(M,g),v(u,M.primary)}function d(M,g){var u=h.create();function y(W,H){var U=W.seg.start,G=W.seg.end,j=H.seg.start,re=H.seg.end;return L.pointsCollinear(U,j,re)?L.pointsCollinear(G,j,re)||L.pointAboveOrOnLine(G,j,re)?1:-1:L.pointAboveOrOnLine(U,j,re)?1:-1}function C(W){return u.findTransition(function(H){var U=y(W,H.ev);return U>0})}function S(W,H){var U=W.seg,G=H.seg,j=U.start,re=U.end,ae=G.start,ue=G.end;w&&w.checkIntersection(U,G);var de=L.linesIntersect(j,re,ae,ue);if(de===!1){if(!L.pointsCollinear(j,re,ae)||L.pointsSame(j,ue)||L.pointsSame(re,ae))return!1;var ee=L.pointsSame(j,ae),X=L.pointsSame(re,ue);if(ee&&X)return H;var Q=!ee&&L.pointBetween(j,ae,ue),$=!X&&L.pointBetween(re,ae,ue);if(ee)return $?x(H,re):x(W,ue),H;Q&&(X||($?x(H,re):x(W,ue)),x(H,j))}else de.alongA===0&&(de.alongB===-1?x(W,ae):de.alongB===0?x(W,de.pt):de.alongB===1&&x(W,ue)),de.alongB===0&&(de.alongA===-1?x(H,j):de.alongA===0?x(H,de.pt):de.alongA===1&&x(H,re));return!1}for(var D=[];!t.isEmpty();){var T=t.getHead();if(w&&w.vert(T.pt[0]),T.isStart){let W=function(){if(A){var H=S(T,A);if(H)return H}return a?S(T,a):!1};var B=W;w&&w.segmentNew(T.seg,T.primary);var P=C(T),A=P.before?P.before.ev:null,a=P.after?P.after.ev:null;w&&w.tempStatus(T.seg,A?A.seg:!1,a?a.seg:!1);var R=W();if(R){if(n){var b;T.seg.myFill.below===null?b=!0:b=T.seg.myFill.above!==T.seg.myFill.below,b&&(R.seg.myFill.above=!R.seg.myFill.above)}else R.seg.otherFill=T.seg.myFill;w&&w.segmentUpdate(R.seg),T.other.remove(),T.remove()}if(t.getHead()!==T){w&&w.rewind(T.seg);continue}if(n){var b;T.seg.myFill.below===null?b=!0:b=T.seg.myFill.above!==T.seg.myFill.below,a?T.seg.myFill.below=a.seg.myFill.above:T.seg.myFill.below=M,b?T.seg.myFill.above=!T.seg.myFill.below:T.seg.myFill.above=T.seg.myFill.below}else if(T.seg.otherFill===null){var N;a?T.primary===a.primary?N=a.seg.otherFill.above:N=a.seg.myFill.above:N=T.primary?g:M,T.seg.otherFill={above:N,below:N}}w&&w.status(T.seg,A?A.seg:!1,a?a.seg:!1),T.other.status=P.insert(h.node({ev:T}))}else{var O=T.status;if(O===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(u.exists(O.prev)&&u.exists(O.next)&&S(O.prev.ev,O.next.ev),w&&w.statusRemove(O.ev.seg),O.remove(),!T.primary){var Y=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=Y}D.push(T.seg)}t.getHead().remove()}return w&&w.done(),D}return n?{addRegion:function(M){for(var g,u=M[M.length-1],y=0;y<M.length;y++){g=u,u=M[y];var C=L.pointsCompare(g,u);C!==0&&v(p(C<0?g:u,C<0?u:g),!0)}},calculate:function(M){return d(M,!1)}}:{calculate:function(M,g,u,y){return M.forEach(function(C){v(m(C.start,C.end,C),!0)}),u.forEach(function(C){v(m(C.start,C.end,C),!1)}),d(g,y)}}}k.exports=E},26859:function(k){var F={create:function(){var e={root:{root:!0,next:null},exists:function(h){return!(h===null||h===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(h,E){for(var n=e.root,L=e.root.next;L!==null;){if(E(L)){h.prev=L.prev,h.next=L,L.prev.next=h,L.prev=h;return}n=L,L=L.next}n.next=h,h.prev=n,h.next=null},findTransition:function(h){for(var E=e.root,n=e.root.next;n!==null&&!h(n);)E=n,n=n.next;return{before:E===e.root?null:E,after:n,insert:function(L){return L.prev=E,L.next=n,E.next=L,n!==null&&(n.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};k.exports=F},11328:function(k){function F(e,h,E){var n=[],L=[];return e.forEach(function(w){var p=w.start,m=w.end;if(h.pointsSame(p,m)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}E&&E.chainStart(w);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},l=t;function i(R,b,N){return l.index=R,l.matches_head=b,l.matches_pt1=N,l===t?(l=r,!1):(l=null,!0)}for(var f=0;f<n.length;f++){var v=n[f],c=v[0];v[1];var x=v[v.length-1];if(v[v.length-2],h.pointsSame(c,p)){if(i(f,!0,!0))break}else if(h.pointsSame(c,m)){if(i(f,!0,!1))break}else if(h.pointsSame(x,p)){if(i(f,!1,!0))break}else if(h.pointsSame(x,m)&&i(f,!1,!1))break}if(l===t){n.push([p,m]),E&&E.chainNew(p,m);return}if(l===r){E&&E.chainMatch(t.index);var d=t.index,M=t.matches_pt1?m:p,g=t.matches_head,v=n[d],u=g?v[0]:v[v.length-1],y=g?v[1]:v[v.length-2],C=g?v[v.length-1]:v[0],S=g?v[v.length-2]:v[1];if(h.pointsCollinear(y,u,M)&&(g?(E&&E.chainRemoveHead(t.index,M),v.shift()):(E&&E.chainRemoveTail(t.index,M),v.pop()),u=y),h.pointsSame(C,M)){n.splice(d,1),h.pointsCollinear(S,C,u)&&(g?(E&&E.chainRemoveTail(t.index,u),v.pop()):(E&&E.chainRemoveHead(t.index,u),v.shift())),E&&E.chainClose(t.index),L.push(v);return}g?(E&&E.chainAddHead(t.index,M),v.unshift(M)):(E&&E.chainAddTail(t.index,M),v.push(M));return}function D(R){E&&E.chainReverse(R),n[R].reverse()}function T(R,b){var N=n[R],O=n[b],Y=N[N.length-1],B=N[N.length-2],W=O[0],H=O[1];h.pointsCollinear(B,Y,W)&&(E&&E.chainRemoveTail(R,Y),N.pop(),Y=B),h.pointsCollinear(Y,W,H)&&(E&&E.chainRemoveHead(b,W),O.shift()),E&&E.chainJoin(R,b),n[R]=N.concat(O),n.splice(b,1)}var P=t.index,A=r.index;E&&E.chainConnect(P,A);var a=n[P].length<n[A].length;t.matches_head?r.matches_head?a?(D(P),T(P,A)):(D(A),T(A,P)):T(A,P):r.matches_head?T(P,A):a?(D(P),T(A,P)):(D(A),T(P,A))}),L}k.exports=F},55968:function(k){function F(h,E,n){var L=[];return h.forEach(function(w){var p=(w.myFill.above?8:0)+(w.myFill.below?4:0)+(w.otherFill&&w.otherFill.above?2:0)+(w.otherFill&&w.otherFill.below?1:0);E[p]!==0&&L.push({id:n?n.segmentId():-1,start:w.start,end:w.end,myFill:{above:E[p]===1,below:E[p]===2},otherFill:null})}),n&&n.selected(L),L}var e={union:function(h,E){return F(h,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],E)},intersect:function(h,E){return F(h,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],E)},difference:function(h,E){return F(h,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],E)},differenceRev:function(h,E){return F(h,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],E)},xor:function(h,E){return F(h,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],E)}};k.exports=e},14847:function(k,F,e){var h=e(21630).Transform,E=e(90715);function n(){h.call(this,{readableObjectMode:!0})}n.prototype=Object.create(h.prototype),n.prototype.constructor=n,E(n.prototype),F.OF=function(w,p,m){for(var t=p,r=0;r<m.length;)if(w[t++]!==m[r++])return!1;return!0},F.eG=function(w,p){var m=[],t=0;if(p&&p==="hex")for(;t<w.length;)m.push(parseInt(w.slice(t,t+2),16)),t+=2;else for(;t<w.length;t++)m.push(w.charCodeAt(t)&255);return m},F.mP=function(w,p){return w[p]|w[p+1]<<8},F.n8=function(w,p){return w[p+1]|w[p]<<8},F.nm=function(w,p){return w[p]|w[p+1]<<8|w[p+2]<<16|w[p+3]*16777216},F.Ag=function(w,p){return w[p+3]|w[p+2]<<8|w[p+1]<<16|w[p]*16777216};function L(w,p,m){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=w,p&&(this.code=p),m&&(this.statusCode=m)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},71371:function(k){function F(E,n){var L=new Error(E);return L.code=n,L}function e(E){try{return decodeURIComponent(escape(E))}catch{return E}}function h(E,n,L){this.input=E.subarray(n,L),this.start=n;var w=String.fromCharCode.apply(null,this.input.subarray(0,4));if(w!=="II*\0"&&w!=="MM\0*")throw F("invalid TIFF signature","EBADDATA");this.big_endian=w[0]==="M"}h.prototype.each=function(E){this.aborted=!1;var n=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:n}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,E)}},h.prototype.read_uint16=function(E){var n=this.input;if(E+2>n.length)throw F("unexpected EOF","EBADDATA");return this.big_endian?n[E]*256+n[E+1]:n[E]+n[E+1]*256},h.prototype.read_uint32=function(E){var n=this.input;if(E+4>n.length)throw F("unexpected EOF","EBADDATA");return this.big_endian?n[E]*16777216+n[E+1]*65536+n[E+2]*256+n[E+3]:n[E]+n[E+1]*256+n[E+2]*65536+n[E+3]*16777216},h.prototype.is_subifd_link=function(E,n){return E===0&&n===34665||E===0&&n===34853||E===34665&&n===40965},h.prototype.exif_format_length=function(E){switch(E){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},h.prototype.exif_format_read=function(E,n){var L;switch(E){case 1:case 2:return L=this.input[n],L;case 6:return L=this.input[n],L|(L&128)*33554430;case 3:return L=this.read_uint16(n),L;case 8:return L=this.read_uint16(n),L|(L&32768)*131070;case 4:return L=this.read_uint32(n),L;case 9:return L=this.read_uint32(n),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},h.prototype.scan_ifd=function(E,n,L){var w=this.read_uint16(n);n+=2;for(var p=0;p<w;p++){var m=this.read_uint16(n),t=this.read_uint16(n+2),r=this.read_uint32(n+4),l=this.exif_format_length(t),i=r*l,f=i<=4?n+8:this.read_uint32(n+8),v=!1;if(f+i>this.input.length)throw F("unexpected EOF","EBADDATA");for(var c=[],x=f,d=0;d<r;d++,x+=l){var M=this.exif_format_read(t,x);if(M===null){c=null;break}c.push(M)}Array.isArray(c)&&t===2&&(c=e(String.fromCharCode.apply(null,c)),c&&c[c.length-1]==="\0"&&(c=c.slice(0,-1))),this.is_subifd_link(E,m)&&Array.isArray(c)&&Number.isInteger(c[0])&&c[0]>0&&(this.ifds_to_read.push({id:m,offset:c[0]}),v=!0);var g={is_big_endian:this.big_endian,ifd:E,tag:m,format:t,count:r,entry_offset:n+this.start,data_length:i,data_offset:f+this.start,value:c,is_subifd_link:v};if(L(g)===!1){this.aborted=!0;return}n+=12}E===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(n)})},k.exports.ExifParser=h,k.exports.get_orientation=function(E){var n=0;try{return new h(E,0,E.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return n=L.value[0],!1}),n}catch{return-1}}},76767:function(k,F,e){var h=e(14847).n8,E=e(14847).Ag;function n(i,f){if(i.length<4+f)return null;var v=E(i,f);return i.length<v+f||v<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(f+4,f+8)),data:i.slice(f+8,f+v),end:f+v}}k.exports.unbox=n;function L(i,f){for(var v=0;;){var c=n(i,v);if(!c)break;switch(c.boxtype){case"ispe":f.sizes.push({width:E(c.data,4),height:E(c.data,8)});break;case"irot":f.transforms.push({type:"irot",value:c.data[0]&3});break;case"imir":f.transforms.push({type:"imir",value:c.data[0]&1});break}v=c.end}}function w(i,f,v){for(var c=0,x=0;x<v;x++)c=c*256+(i[f+x]||0);return c}function p(i,f){for(var v=i[4]>>4&15,c=i[4]&15,x=i[5]>>4&15,d=h(i,6),M=8,g=0;g<d;g++){var u=h(i,M);M+=2;var y=h(i,M);M+=2;var C=w(i,M,x);M+=x;var S=h(i,M);if(M+=2,y===0&&S===1){var D=w(i,M,v),T=w(i,M+v,c);f.item_loc[u]={length:T,offset:D+C}}M+=S*(v+c)}}function m(i,f){for(var v=h(i,4),c=6,x=0;x<v;x++){var d=n(i,c);if(!d)break;if(d.boxtype==="infe"){for(var M=h(d.data,4),g="",u=8;u<d.data.length&&d.data[u];u++)g+=String.fromCharCode(d.data[u]);f.item_inf[g]=M}c=d.end}}function t(i,f){for(var v=0;;){var c=n(i,v);if(!c)break;c.boxtype==="ipco"&&L(c.data,f),v=c.end}}function r(i,f){for(var v=4;;){var c=n(i,v);if(!c)break;c.boxtype==="iprp"&&t(c.data,f),c.boxtype==="iloc"&&p(c.data,f),c.boxtype==="iinf"&&m(c.data,f),v=c.end}}function l(i){var f=i.reduce(function(x,d){return x.width>d.width||x.width===d.width&&x.height>d.height?x:d}),v=i.reduce(function(x,d){return x.height>d.height||x.height===d.height&&x.width>d.width?x:d}),c;return f.width>v.height||f.width===v.height&&f.height>v.width?c=f:c=v,c}k.exports.readSizeFromMeta=function(i){var f={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(i,f),!!f.sizes.length){var v=l(f.sizes),c=1;f.transforms.forEach(function(d){var M={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},g={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(d.type==="imir"&&(d.value===0?c=g[c]:(c=g[c],c=M[c],c=M[c])),d.type==="irot")for(var u=0;u<d.value;u++)c=M[c]});var x=null;return f.item_inf.Exif&&(x=f.item_loc[f.item_inf.Exif]),{width:v.width,height:v.height,orientation:f.transforms.length?c:null,variants:f.sizes,exif_location:x}}},k.exports.getMimeType=function(i){var f=String.fromCharCode.apply(null,i.slice(0,4)),v={};v[f]=!0;for(var c=8;c<i.length;c+=4)v[String.fromCharCode.apply(null,i.slice(c,c+4))]=!0;if(!(!v.mif1&&!v.msf1&&!v.miaf))return f==="avif"||f==="avis"||f==="avio"?{type:"avif",mime:"image/avif"}:f==="heic"||f==="heix"?{type:"heic",mime:"image/heic"}:f==="hevc"||f==="hevx"?{type:"heic",mime:"image/heic-sequence"}:v.avif||v.avis?{type:"avif",mime:"image/avif"}:v.heic||v.heix||v.hevc||v.hevx||v.heis?v.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(k,F,e){var h=e(14847).eG,E=e(14847).OF,n=e(14847).Ag,L=e(76767),w=e(71371),p=h("ftyp");k.exports=function(m){if(E(m,4,p)){var t=L.unbox(m,0);if(t){var r=L.getMimeType(t.data);if(r){for(var l,i=t.end;;){var f=L.unbox(m,i);if(!f)break;if(i=f.end,f.boxtype==="mdat")return;if(f.boxtype==="meta"){l=f.data;break}}if(l){var v=L.readSizeFromMeta(l);if(v){var c={width:v.width,height:v.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(v.variants.length>1&&(c.variants=v.variants),v.orientation&&(c.orientation=v.orientation),v.exif_location&&v.exif_location.offset+v.exif_location.length<=m.length){var x=n(m,v.exif_location.offset),d=m.slice(v.exif_location.offset+x+4,v.exif_location.offset+v.exif_location.length),M=w.get_orientation(d);M>0&&(c.orientation=M)}return c}}}}}}},2504:function(k,F,e){var h=e(14847).eG,E=e(14847).OF,n=e(14847).mP,L=h("BM");k.exports=function(w){if(!(w.length<26)&&E(w,0,L))return{width:n(w,18),height:n(w,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(k,F,e){var h=e(14847).eG,E=e(14847).OF,n=e(14847).mP,L=h("GIF87a"),w=h("GIF89a");k.exports=function(p){if(!(p.length<10)&&!(!E(p,0,L)&&!E(p,0,w)))return{width:n(p,6),height:n(p,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(k,F,e){var h=e(14847).mP,E=0,n=1,L=16;k.exports=function(w){var p=h(w,0),m=h(w,2),t=h(w,4);if(!(p!==E||m!==n||!t)){for(var r=[],l={width:0,height:0},i=0;i<t;i++){var f=w[6+L*i]||256,v=w[6+L*i+1]||256,c={width:f,height:v};r.push(c),(f>l.width||v>l.height)&&(l=c)}return{width:l.width,height:l.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(k,F,e){var h=e(14847).n8,E=e(14847).eG,n=e(14847).OF,L=e(71371),w=E("Exif\0\0");k.exports=function(p){if(!(p.length<2)&&!(p[0]!==255||p[1]!==216||p[2]!==255))for(var m=2;;){for(;;){if(p.length-m<2)return;if(p[m++]===255)break}for(var t=p[m++],r;t===255;)t=p[m++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(p.length-m<2)return;r=h(p,m)-2,m+=2}else return;if(t===217||t===218)return;var l;if(t===225&&r>=10&&n(p,m,w)&&(l=L.get_orientation(p.slice(m+6,m+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(p.length-m<r)return;var i={width:h(p,m+3),height:h(p,m+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return l>0&&(i.orientation=l),i}m+=r}}},6303:function(k,F,e){var h=e(14847).eG,E=e(14847).OF,n=e(14847).Ag,L=h(`PNG\r

`),w=h("IHDR");k.exports=function(p){if(!(p.length<24)&&E(p,0,L)&&E(p,12,w))return{width:n(p,16),height:n(p,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(k,F,e){var h=e(14847).eG,E=e(14847).OF,n=e(14847).Ag,L=h("8BPS\0");k.exports=function(w){if(!(w.length<22)&&E(w,0,L))return{width:n(w,18),height:n(w,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(k){function F(l){return l===32||l===9||l===13||l===10}function e(l){return typeof l=="number"&&isFinite(l)&&l>0}function h(l){var i=0,f=l.length;for(l[0]===239&&l[1]===187&&l[2]===191&&(i=3);i<f&&F(l[i]);)i++;return i===f?!1:l[i]===60}var E=/<[-_.:a-zA-Z0-9][^>]*>/,n=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,w=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,p=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,m=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(l){var i=l.match(L),f=l.match(w),v=l.match(p);return{width:i&&(i[1]||i[2]),height:f&&(f[1]||f[2]),viewbox:v&&(v[1]||v[2])}}function r(l){return m.test(l)?l.match(m)[0]:"px"}k.exports=function(l){if(h(l)){for(var i="",f=0;f<l.length;f++)i+=String.fromCharCode(l[f]);var v=(i.match(E)||[""])[0];if(n.test(v)){var c=t(v),x=parseFloat(c.width),d=parseFloat(c.height);if(c.width&&c.height)return!e(x)||!e(d)?void 0:{width:x,height:d,type:"svg",mime:"image/svg+xml",wUnits:r(c.width),hUnits:r(c.height)};var M=(c.viewbox||"").split(" "),g={width:M[2],height:M[3]},u=parseFloat(g.width),y=parseFloat(g.height);if(!(!e(u)||!e(y))&&r(g.width)===r(g.height)){var C=u/y;return c.width?e(x)?{width:x,height:x/C,type:"svg",mime:"image/svg+xml",wUnits:r(c.width),hUnits:r(c.width)}:void 0:c.height?e(d)?{width:d*C,height:d,type:"svg",mime:"image/svg+xml",wUnits:r(c.height),hUnits:r(c.height)}:void 0:{width:u,height:y,type:"svg",mime:"image/svg+xml",wUnits:r(g.width),hUnits:r(g.height)}}}}}},66278:function(k,F,e){var h=e(14847).eG,E=e(14847).OF,n=e(14847).mP,L=e(14847).n8,w=e(14847).nm,p=e(14847).Ag,m=h("II*\0"),t=h("MM\0*");function r(f,v,c){return c?L(f,v):n(f,v)}function l(f,v,c){return c?p(f,v):w(f,v)}function i(f,v,c){var x=r(f,v+2,c),d=l(f,v+4,c);return d!==1||x!==3&&x!==4?null:x===3?r(f,v+8,c):l(f,v+8,c)}k.exports=function(f){if(!(f.length<8)&&!(!E(f,0,m)&&!E(f,0,t))){var v=f[0]===77,c=l(f,4,v)-8;if(!(c<0)){var x=c+8;if(!(f.length-x<2)){var d=r(f,x+0,v)*12;if(!(d<=0)&&(x+=2,!(f.length-x<d))){var M,g,u,y;for(M=0;M<d;M+=12)y=r(f,x+M,v),y===256?g=i(f,x+M,v):y===257&&(u=i(f,x+M,v));if(g&&u)return{width:g,height:u,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(k,F,e){var h=e(14847).eG,E=e(14847).OF,n=e(14847).mP,L=e(14847).nm,w=e(71371),p=h("RIFF"),m=h("WEBP");function t(i,f){if(!(i[f+3]!==157||i[f+4]!==1||i[f+5]!==42))return{width:n(i,f+6)&16383,height:n(i,f+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(i,f){if(i[f]===47){var v=L(i,f+1);return{width:(v&16383)+1,height:(v>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function l(i,f){return{width:(i[f+6]<<16|i[f+5]<<8|i[f+4])+1,height:(i[f+9]<<f|i[f+8]<<8|i[f+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}k.exports=function(i){if(!(i.length<16)&&!(!E(i,0,p)&&!E(i,8,m))){var f=12,v=null,c=0,x=L(i,4)+8;if(!(x>i.length)){for(;f+8<x;){if(i[f]===0){f++;continue}var d=String.fromCharCode.apply(null,i.slice(f,f+4)),M=L(i,f+4);d==="VP8 "&&M>=10?v=v||t(i,f+8):d==="VP8L"&&M>=9?v=v||r(i,f+8):d==="VP8X"&&M>=10?v=v||l(i,f+8):d==="EXIF"&&(c=w.get_orientation(i.slice(f+8,f+8+M)),f=1/0),f+=8+M}if(v)return c>0&&(v.orientation=c),v}}}},91497:function(k,F,e){k.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(k,F,e){var h=e(91497);function E(n){for(var L=Object.keys(h),w=0;w<L.length;w++){var p=h[L[w]](n);if(p)return p}return null}k.exports=function(L){return E(L)},k.exports.parsers=h},90386:function(k){var F=k.exports={},e,h;function E(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=E}catch{e=E}try{typeof clearTimeout=="function"?h=clearTimeout:h=n}catch{h=n}})();function L(c){if(e===setTimeout)return setTimeout(c,0);if((e===E||!e)&&setTimeout)return e=setTimeout,setTimeout(c,0);try{return e(c,0)}catch{try{return e.call(null,c,0)}catch{return e.call(this,c,0)}}}function w(c){if(h===clearTimeout)return clearTimeout(c);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(c);try{return h(c)}catch{try{return h.call(null,c)}catch{return h.call(this,c)}}}var p=[],m=!1,t,r=-1;function l(){!m||!t||(m=!1,t.length?p=t.concat(p):r=-1,p.length&&i())}function i(){if(!m){var c=L(l);m=!0;for(var x=p.length;x;){for(t=p,p=[];++r<x;)t&&t[r].run();r=-1,x=p.length}t=null,m=!1,w(c)}}F.nextTick=function(c){var x=new Array(arguments.length-1);if(arguments.length>1)for(var d=1;d<arguments.length;d++)x[d-1]=arguments[d];p.push(new f(c,x)),p.length===1&&!m&&L(i)};function f(c,x){this.fun=c,this.array=x}f.prototype.run=function(){this.fun.apply(null,this.array)},F.title="browser",F.browser=!0,F.env={},F.argv=[],F.version="",F.versions={};function v(){}F.on=v,F.addListener=v,F.once=v,F.off=v,F.removeListener=v,F.removeAllListeners=v,F.emit=v,F.prependListener=v,F.prependOnceListener=v,F.listeners=function(c){return[]},F.binding=function(c){throw new Error("process.binding is not supported")},F.cwd=function(){return"/"},F.chdir=function(c){throw new Error("process.chdir is not supported")},F.umask=function(){return 0}},5877:function(k,F,e){for(var h=e(9748),E=typeof window>"u"?e.g:window,n=["moz","webkit"],L="AnimationFrame",w=E["request"+L],p=E["cancel"+L]||E["cancelRequest"+L],m=0;!w&&m<n.length;m++)w=E[n[m]+"Request"+L],p=E[n[m]+"Cancel"+L]||E[n[m]+"CancelRequest"+L];if(!w||!p){var t=0,r=0,l=[],i=1e3/60;w=function(f){if(l.length===0){var v=h(),c=Math.max(0,i-(v-t));t=c+v,setTimeout(function(){var x=l.slice(0);l.length=0;for(var d=0;d<x.length;d++)if(!x[d].cancelled)try{x[d].callback(t)}catch(M){setTimeout(function(){throw M},0)}},Math.round(c))}return l.push({handle:++r,callback:f,cancelled:!1}),r},p=function(f){for(var v=0;v<l.length;v++)l[v].handle===f&&(l[v].cancelled=!0)}}k.exports=function(f){return w.call(E,f)},k.exports.cancel=function(){p.apply(E,arguments)},k.exports.polyfill=function(f){f||(f=E),f.requestAnimationFrame=w,f.cancelAnimationFrame=p}},3593:function(k,F,e){var h=e(21527),E=e(25075),n=e(93447),L=e(71299),w=e(56131),p=e(30120),m=e(57060),t=m.float32,r=m.fract32;k.exports=i;var l=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function i(f,v){if(typeof f=="function"?(v||(v={}),v.regl=f):v=f,v.length&&(v.positions=v),f=v.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var c=f._gl,x,d,M,g,u,y,C={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},S=[];return g=f.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),d=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),M=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),u=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),y=f.buffer({usage:"static",type:"float",data:l}),A(v),x=f({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:f.prop("range"),lineWidth:f.prop("lineWidth"),capSize:f.prop("capSize"),opacity:f.prop("opacity"),scale:f.prop("scale"),translate:f.prop("translate"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),viewport:function(R,b){return[b.viewport.x,b.viewport.y,R.viewportWidth,R.viewportHeight]}},attributes:{color:{buffer:g,offset:function(R,b){return b.offset*4},divisor:1},position:{buffer:d,offset:function(R,b){return b.offset*8},divisor:1},positionFract:{buffer:M,offset:function(R,b){return b.offset*8},divisor:1},error:{buffer:u,offset:function(R,b){return b.offset*16},divisor:1},direction:{buffer:y,stride:24,offset:0},lineOffset:{buffer:y,stride:24,offset:8},capOffset:{buffer:y,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:!1,instances:f.prop("count"),count:l.length}),w(D,{update:A,draw:T,destroy:a,regl:f,gl:c,canvas:c.canvas,groups:S}),D;function D(R){R?A(R):R===null&&a(),T()}function T(R){if(typeof R=="number")return P(R);R&&!Array.isArray(R)&&(R=[R]),f._refresh(),S.forEach(function(b,N){if(b){if(R&&(R[N]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}P(N)}})}function P(R){typeof R=="number"&&(R=S[R]),R!=null&&R&&R.count&&R.color&&R.opacity&&R.positions&&R.positions.length>1&&(R.scaleRatio=[R.scale[0]*R.viewport.width,R.scale[1]*R.viewport.height],x(R),R.after&&R.after(R))}function A(R){if(R){R.length!=null?typeof R[0]=="number"&&(R=[{positions:R}]):Array.isArray(R)||(R=[R]);var b=0,N=0;if(D.groups=S=R.map(function(G,j){var re=S[j];if(G)typeof G=="function"?G={after:G}:typeof G[0]=="number"&&(G={positions:G});else return re;return G=L(G,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),re||(S[j]=re={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},G=w({},C,G)),n(re,G,[{lineWidth:function(ae){return+ae*.5},capSize:function(ae){return+ae*.5},opacity:parseFloat,errors:function(ae){return ae=p(ae),N+=ae.length,ae},positions:function(ae,ue){return ae=p(ae,"float64"),ue.count=Math.floor(ae.length/2),ue.bounds=h(ae,2),ue.offset=b,b+=ue.count,ae}},{color:function(ae,ue){var de=ue.count;if(ae||(ae="transparent"),!Array.isArray(ae)||typeof ae[0]=="number"){var ee=ae;ae=Array(de);for(var X=0;X<de;X++)ae[X]=ee}if(ae.length<de)throw Error("Not enough colors");for(var Q=new Uint8Array(de*4),$=0;$<de;$++){var ne=E(ae[$],"uint8");Q.set(ne,$*4)}return Q},range:function(ae,ue,de){var ee=ue.bounds;return ae||(ae=ee),ue.scale=[1/(ae[2]-ae[0]),1/(ae[3]-ae[1])],ue.translate=[-ae[0],-ae[1]],ue.scaleFract=r(ue.scale),ue.translateFract=r(ue.translate),ae},viewport:function(ae){var ue;return Array.isArray(ae)?ue={x:ae[0],y:ae[1],width:ae[2]-ae[0],height:ae[3]-ae[1]}:ae?(ue={x:ae.x||ae.left||0,y:ae.y||ae.top||0},ae.right?ue.width=ae.right-ue.x:ue.width=ae.w||ae.width||0,ae.bottom?ue.height=ae.bottom-ue.y:ue.height=ae.h||ae.height||0):ue={x:0,y:0,width:c.drawingBufferWidth,height:c.drawingBufferHeight},ue}}]),re}),b||N){var O=S.reduce(function(G,j,re){return G+(j?j.count:0)},0),Y=new Float64Array(O*2),B=new Uint8Array(O*4),W=new Float32Array(O*4);S.forEach(function(G,j){if(G){var re=G.positions,ae=G.count,ue=G.offset,de=G.color,ee=G.errors;ae&&(B.set(de,ue*4),W.set(ee,ue*4),Y.set(re,ue*2))}});var H=t(Y);d(H);var U=r(Y,H);M(U),g(B),u(W)}}}function a(){d.destroy(),M.destroy(),g.destroy(),u.destroy(),y.destroy()}}},46075:function(k,F,e){var h=e(25075),E=e(21527),n=e(56131),L=e(56068),w=e(71299),p=e(30120),m=e(11474),t=e(54),r=e(57060),l=r.float32,i=r.fract32,f=e(83522),v=e(18863),c=e(6851);k.exports=x;function x(d,M){if(!(this instanceof x))return new x(d,M);if(typeof d=="function"?(M||(M={}),M.regl=d):M=d,M.length&&(M.positions=M),d=M.regl,!d.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=d._gl,this.regl=d,this.passes=[],this.shaders=x.shaders.has(d)?x.shaders.get(d):x.shaders.set(d,x.createShaders(d)).get(d),this.update(M)}x.dashMult=2,x.maxPatternLength=256,x.precisionThreshold=3e6,x.maxPoints=1e4,x.maxLines=2048,x.shaders=new f,x.createShaders=function(d){var M=d.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),g={primitive:"triangle strip",instances:d.prop("count"),count:4,offset:0,uniforms:{miterMode:function(S,D){return D.join==="round"?2:1},miterLimit:d.prop("miterLimit"),scale:d.prop("scale"),scaleFract:d.prop("scaleFract"),translateFract:d.prop("translateFract"),translate:d.prop("translate"),thickness:d.prop("thickness"),dashTexture:d.prop("dashTexture"),opacity:d.prop("opacity"),pixelRatio:d.context("pixelRatio"),id:d.prop("id"),dashLength:d.prop("dashLength"),viewport:function(S,D){return[D.viewport.x,D.viewport.y,S.viewportWidth,S.viewportHeight]},depth:d.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(S,D){return!D.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:d.prop("viewport")},viewport:d.prop("viewport")},u=d(n({vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:M,divisor:0,stride:8,offset:0},lineTop:{buffer:M,divisor:0,stride:8,offset:4},aCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:d.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:d.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:d.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},g)),y;try{y=d(n({cull:{enable:!0,face:"back"},vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:M,divisor:0,stride:8,offset:0},lineTop:{buffer:M,divisor:0,stride:8,offset:4},aColor:{buffer:d.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:d.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:d.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},g))}catch{y=u}var C=d({primitive:"triangle",elements:function(S,D){return D.triangles},offset:0,vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:d.prop("scale"),color:d.prop("fill"),scaleFract:d.prop("scaleFract"),translateFract:d.prop("translateFract"),translate:d.prop("translate"),opacity:d.prop("opacity"),pixelRatio:d.context("pixelRatio"),id:d.prop("id"),viewport:function(S,D){return[D.viewport.x,D.viewport.y,S.viewportWidth,S.viewportHeight]}},attributes:{position:{buffer:d.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:d.prop("positionFractBuffer"),stride:8,offset:8}},blend:g.blend,depth:{enable:!1},scissor:g.scissor,stencil:g.stencil,viewport:g.viewport});return{fill:C,rect:u,miter:y}},x.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},x.prototype.render=function(){for(var d,M=[],g=arguments.length;g--;)M[g]=arguments[g];M.length&&(d=this).update.apply(d,M),this.draw()},x.prototype.draw=function(){for(var d=this,M=[],g=arguments.length;g--;)M[g]=arguments[g];return(M.length?M:this.passes).forEach(function(u,y){var C;if(u&&Array.isArray(u))return(C=d).draw.apply(C,u);typeof u=="number"&&(u=d.passes[u]),u&&u.count>1&&u.opacity&&(d.regl._refresh(),u.fill&&u.triangles&&u.triangles.length>2&&d.shaders.fill(u),u.thickness&&(u.scale[0]*u.viewport.width>x.precisionThreshold||u.scale[1]*u.viewport.height>x.precisionThreshold||u.join==="rect"||!u.join&&(u.thickness<=2||u.count>=x.maxPoints)?d.shaders.rect(u):d.shaders.miter(u)))}),this},x.prototype.update=function(d){var M=this;if(d){d.length!=null?typeof d[0]=="number"&&(d=[{positions:d}]):Array.isArray(d)||(d=[d]);var g=this,u=g.regl,y=g.gl;if(d.forEach(function(P,A){var a=M.passes[A];if(P!==void 0){if(P===null){M.passes[A]=null;return}if(typeof P[0]=="number"&&(P={positions:P}),P=w(P,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),a||(M.passes[A]=a={id:A,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:u.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},P=n({},x.defaults,P)),P.thickness!=null&&(a.thickness=parseFloat(P.thickness)),P.opacity!=null&&(a.opacity=parseFloat(P.opacity)),P.miterLimit!=null&&(a.miterLimit=parseFloat(P.miterLimit)),P.overlay!=null&&(a.overlay=!!P.overlay,A<x.maxLines&&(a.depth=2*(x.maxLines-1-A%x.maxLines)/x.maxLines-1)),P.join!=null&&(a.join=P.join),P.hole!=null&&(a.hole=P.hole),P.fill!=null&&(a.fill=P.fill?h(P.fill,"uint8"):null),P.viewport!=null&&(a.viewport=v(P.viewport)),a.viewport||(a.viewport=v([y.drawingBufferWidth,y.drawingBufferHeight])),P.close!=null&&(a.close=P.close),P.positions===null&&(P.positions=[]),P.positions){var R,b;if(P.positions.x&&P.positions.y){var N=P.positions.x,O=P.positions.y;b=a.count=Math.max(N.length,O.length),R=new Float64Array(b*2);for(var Y=0;Y<b;Y++)R[Y*2]=N[Y],R[Y*2+1]=O[Y]}else R=p(P.positions,"float64"),b=a.count=Math.floor(R.length/2);var B=a.bounds=E(R,2);if(a.fill){for(var W=[],H={},U=0,G=0,j=0,re=a.count;G<re;G++){var ae=R[G*2],ue=R[G*2+1];isNaN(ae)||isNaN(ue)||ae==null||ue==null?(ae=R[U*2],ue=R[U*2+1],H[G]=U):U=G,W[j++]=ae,W[j++]=ue}if(P.splitNull){a.count-1 in H||(H[a.count]=a.count-1);var de=Object.keys(H).map(Number).sort(function(Oe,_e){return Oe-_e}),ee=[],X=0,Q=a.hole!=null?a.hole[0]:null;if(Q!=null){var $=c(de,function(Oe){return Oe>=Q});de=de.slice(0,$),de.push(Q)}for(var ne=function(Oe){var _e=W.slice(X*2,de[Oe]*2).concat(Q?W.slice(Q*2):[]),Ae=(a.hole||[]).map(function(be){return be-Q+(de[Oe]-X)}),ce=m(_e,Ae);ce=ce.map(function(be){return be+X+(be+X<de[Oe]?0:Q-de[Oe])}),ee.push.apply(ee,ce),X=de[Oe]+1},fe=0;fe<de.length;fe++)ne(fe);for(var te=0,q=ee.length;te<q;te++)H[ee[te]]!=null&&(ee[te]=H[ee[te]]);a.triangles=ee}else{for(var he=m(W,a.hole||[]),se=0,pe=he.length;se<pe;se++)H[he[se]]!=null&&(he[se]=H[he[se]]);a.triangles=he}}var we=new Float64Array(R);t(we,2,B);var Ee=new Float64Array(b*2+6);a.close?R[0]===R[b*2-2]&&R[1]===R[b*2-1]?(Ee[0]=we[b*2-4],Ee[1]=we[b*2-3]):(Ee[0]=we[b*2-2],Ee[1]=we[b*2-1]):(Ee[0]=we[0],Ee[1]=we[1]),Ee.set(we,2),a.close?R[0]===R[b*2-2]&&R[1]===R[b*2-1]?(Ee[b*2+2]=we[2],Ee[b*2+3]=we[3],a.count-=1):(Ee[b*2+2]=we[0],Ee[b*2+3]=we[1],Ee[b*2+4]=we[2],Ee[b*2+5]=we[3]):(Ee[b*2+2]=we[b*2-2],Ee[b*2+3]=we[b*2-1],Ee[b*2+4]=we[b*2-2],Ee[b*2+5]=we[b*2-1]);var Me=l(Ee);a.positionBuffer(Me);var Be=i(Ee,Me);a.positionFractBuffer(Be)}if(P.range?a.range=P.range:a.range||(a.range=a.bounds),(P.range||P.positions)&&a.count){var Ne=a.bounds,Ce=Ne[2]-Ne[0],Te=Ne[3]-Ne[1],Le=a.range[2]-a.range[0],Ve=a.range[3]-a.range[1];a.scale=[Ce/Le,Te/Ve],a.translate=[-a.range[0]/Le+Ne[0]/Le||0,-a.range[1]/Ve+Ne[1]/Ve||0],a.scaleFract=i(a.scale),a.translateFract=i(a.translate)}if(P.dashes){var We=0,Fe;if(!P.dashes||P.dashes.length<2)We=1,Fe=new Uint8Array([255,255,255,255,255,255,255,255]);else{We=0;for(var Ge=0;Ge<P.dashes.length;++Ge)We+=P.dashes[Ge];Fe=new Uint8Array(We*x.dashMult);for(var it=0,qe=255,$e=0;$e<2;$e++)for(var tt=0;tt<P.dashes.length;++tt){for(var vt=0,dt=P.dashes[tt]*x.dashMult*.5;vt<dt;++vt)Fe[it++]=qe;qe^=255}}a.dashLength=We,a.dashTexture({channels:1,data:Fe,width:Fe.length,height:1,mag:"linear",min:"linear"},0,0)}if(P.color){var gt=a.count,Mt=P.color;Mt||(Mt="transparent");var Ct=new Uint8Array(gt*4+4);if(!Array.isArray(Mt)||typeof Mt[0]=="number")for(var Wt=h(Mt,"uint8"),Xe=0;Xe<gt+1;Xe++)Ct.set(Wt,Xe*4);else{for(var ke=0;ke<gt;ke++){var Ie=h(Mt[ke],"uint8");Ct.set(Ie,ke*4)}Ct.set(h(Mt[0],"uint8"),gt*4)}a.colorBuffer({usage:"dynamic",type:"uint8",data:Ct})}}}),d.length<this.passes.length){for(var C=d.length;C<this.passes.length;C++){var S=this.passes[C];S&&(S.colorBuffer.destroy(),S.positionBuffer.destroy(),S.dashTexture.destroy())}this.passes.length=d.length}for(var D=[],T=0;T<this.passes.length;T++)this.passes[T]!==null&&D.push(this.passes[T]);return this.passes=D,this}},x.prototype.destroy=function(){return this.passes.forEach(function(d){d.colorBuffer.destroy(),d.positionBuffer.destroy(),d.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(k,F,e){function h(a,R){var b=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(b!=null){var N,O,Y,B,W=[],H=!0,U=!1;try{if(Y=(b=b.call(a)).next,R===0){if(Object(b)!==b)return;H=!1}else for(;!(H=(N=Y.call(b)).done)&&(W.push(N.value),W.length!==R);H=!0);}catch(G){U=!0,O=G}finally{try{if(!H&&b.return!=null&&(B=b.return(),Object(B)!==B))return}finally{if(U)throw O}}return W}}function E(a,R){return w(a)||h(a,R)||m(a,R)||l()}function n(a){return L(a)||p(a)||m(a)||r()}function L(a){if(Array.isArray(a))return t(a)}function w(a){if(Array.isArray(a))return a}function p(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function m(a,R){if(a){if(typeof a=="string")return t(a,R);var b=Object.prototype.toString.call(a).slice(8,-1);if(b==="Object"&&a.constructor&&(b=a.constructor.name),b==="Map"||b==="Set")return Array.from(a);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return t(a,R)}}function t(a,R){(R==null||R>a.length)&&(R=a.length);for(var b=0,N=new Array(R);b<R;b++)N[b]=a[b];return N}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=e(25075),f=e(21527),v=e(6475),c=e(88294),x=e(56131),d=e(56068),M=e(71299),g=e(93447),u=e(30120),y=e(62683),C=e(57060),S=e(18863),D=T;function T(a,R){var b=this;if(!(this instanceof T))return new T(a,R);typeof a=="function"?(R||(R={}),R.regl=a):(R=a,a=null),R&&R.length&&(R.positions=R),a=R.regl;var N=a._gl,O,Y=[],B={},W=[],H=[null],U=[null],G=255,j=100;this.tooManyColors=y,O=a.texture({data:new Uint8Array(G*4),width:G,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),x(this,{regl:a,gl:N,groups:W,markerCache:U,markerTextures:H,palette:Y,paletteIds:B,paletteTexture:O,maxColors:G,maxSize:j,canvas:N.canvas}),this.update(R);var re={uniforms:{constPointSize:!!R.constPointSize,opacity:a.prop("opacity"),paletteSize:function(ee,X){return[b.tooManyColors?0:G,O.height]},pixelRatio:a.context("pixelRatio"),scale:a.prop("scale"),scaleFract:a.prop("scaleFract"),translate:a.prop("translate"),translateFract:a.prop("translateFract"),markerTexture:a.prop("markerTexture"),paletteTexture:O},attributes:{x:function(ee,X){return X.xAttr||{buffer:X.positionBuffer,stride:8,offset:0}},y:function(ee,X){return X.yAttr||{buffer:X.positionBuffer,stride:8,offset:4}},xFract:function(ee,X){return X.xAttr?{constant:[0,0]}:{buffer:X.positionFractBuffer,stride:8,offset:0}},yFract:function(ee,X){return X.yAttr?{constant:[0,0]}:{buffer:X.positionFractBuffer,stride:8,offset:4}},size:function(ee,X){return X.size.length?{buffer:X.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(X.size*255/b.maxSize)]}},borderSize:function(ee,X){return X.borderSize.length?{buffer:X.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(X.borderSize*255/b.maxSize)]}},colorId:function(ee,X){return X.color.length?{buffer:X.colorBuffer,stride:b.tooManyColors?8:4,offset:0}:{constant:b.tooManyColors?Y.slice(X.color*4,X.color*4+4):[X.color]}},borderColorId:function(ee,X){return X.borderColor.length?{buffer:X.colorBuffer,stride:b.tooManyColors?8:4,offset:b.tooManyColors?4:2}:{constant:b.tooManyColors?Y.slice(X.borderColor*4,X.borderColor*4+4):[X.borderColor]}},isActive:function(ee,X){return X.activation===!0?{constant:[1]}:X.activation?X.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:a.prop("viewport")},viewport:a.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:a.prop("elements"),count:a.prop("count"),offset:a.prop("offset"),primitive:"points"},ae=x({},re);ae.frag=d([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ae.vert=d([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=a(ae);var ue=x({},re);ue.frag=d([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ue.vert=d([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),y&&(ue.frag=ue.frag.replace("smoothstep","smoothStep"),ae.frag=ae.frag.replace("smoothstep","smoothStep")),this.drawCircle=a(ue)}T.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},T.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},T.prototype.draw=function(){for(var a=this,R=arguments.length,b=new Array(R),N=0;N<R;N++)b[N]=arguments[N];var O=this.groups;if(b.length===1&&Array.isArray(b[0])&&(b[0][0]===null||Array.isArray(b[0][0]))&&(b=b[0]),this.regl._refresh(),b.length)for(var Y=0;Y<b.length;Y++)this.drawItem(Y,b[Y]);else O.forEach(function(B,W){a.drawItem(W)});return this},T.prototype.drawItem=function(a,R){var b=this.groups,N=b[a];if(typeof R=="number"&&(a=R,N=b[R],R=null),!!(N&&N.count&&N.opacity)){N.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,N,R));for(var O=[],Y=1;Y<N.activation.length;Y++)!N.activation[Y]||N.activation[Y]!==!0&&!N.activation[Y].data.length||O.push.apply(O,n(this.getMarkerDrawOptions(Y,N,R)));O.length&&this.drawMarker(O)}},T.prototype.getMarkerDrawOptions=function(a,R,b){var N=R.range,O=R.tree,Y=R.viewport,B=R.activation,W=R.selectionBuffer,H=R.count;if(this.regl,!O)return b?[x({},R,{markerTexture:this.markerTextures[a],activation:B[a],count:b.length,elements:b,offset:0})]:[x({},R,{markerTexture:this.markerTextures[a],activation:B[a],offset:0})];var U=[],G=O.range(N,{lod:!0,px:[(N[2]-N[0])/Y.width,(N[3]-N[1])/Y.height]});if(b){for(var j=B[a],re=j.data,ae=new Uint8Array(H),ue=0;ue<b.length;ue++){var de=b[ue];ae[de]=re?re[de]:1}W.subdata(ae)}for(var ee=G.length;ee--;){var X=E(G[ee],2),Q=X[0],$=X[1];U.push(x({},R,{markerTexture:this.markerTextures[a],activation:b?W:B[a],offset:Q,count:$-Q}))}return U},T.prototype.update=function(){for(var a=this,R=arguments.length,b=new Array(R),N=0;N<R;N++)b[N]=arguments[N];if(b.length){b.length===1&&Array.isArray(b[0])&&(b=b[0]);var O=this.groups,Y=this.gl,B=this.regl,W=this.maxSize,H=this.maxColors,U=this.palette;this.groups=O=b.map(function(G,j){var re=O[j];if(G===void 0)return re;G===null?G={positions:null}:typeof G=="function"?G={ondraw:G}:typeof G[0]=="number"&&(G={positions:G}),G=M(G,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),G.positions===null&&(G.positions=[]),G.tooManyColors!=null&&(a.tooManyColors=G.tooManyColors),re||(O[j]=re={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:B.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:B.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:B.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:B.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:B.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},G=x({},T.defaults,G)),G.positions&&!("marker"in G)&&(G.marker=re.marker,delete re.marker),G.marker&&!("positions"in G)&&(G.positions=re.positions,delete re.positions);var ae=0,ue=0;if(g(re,G,[{snap:!0,size:function(Te,Le){return Te==null&&(Te=T.defaults.size),ae+=Te&&Te.length?1:0,Te},borderSize:function(Te,Le){return Te==null&&(Te=T.defaults.borderSize),ae+=Te&&Te.length?1:0,Te},opacity:parseFloat,color:function(Te,Le){return Te==null&&(Te=T.defaults.color),Te=a.updateColor(Te),ue++,Te},borderColor:function(Te,Le){return Te==null&&(Te=T.defaults.borderColor),Te=a.updateColor(Te),ue++,Te},bounds:function(Te,Le,Ve){return"range"in Ve||(Ve.range=null),Te},positions:function(Te,Le,Ve){var We=Le.snap,Fe=Le.positionBuffer,Ge=Le.positionFractBuffer,it=Le.selectionBuffer;if(Te.x||Te.y)return Te.x.length?Le.xAttr={buffer:B.buffer(Te.x),offset:0,stride:4,count:Te.x.length}:Le.xAttr={buffer:Te.x.buffer,offset:Te.x.offset*4||0,stride:(Te.x.stride||1)*4,count:Te.x.count},Te.y.length?Le.yAttr={buffer:B.buffer(Te.y),offset:0,stride:4,count:Te.y.length}:Le.yAttr={buffer:Te.y.buffer,offset:Te.y.offset*4||0,stride:(Te.y.stride||1)*4,count:Te.y.count},Le.count=Math.max(Le.xAttr.count,Le.yAttr.count),Te;Te=u(Te,"float64");var qe=Le.count=Math.floor(Te.length/2),$e=Le.bounds=qe?f(Te,2):null;if(!Ve.range&&!Le.range&&(delete Le.range,Ve.range=$e),!Ve.marker&&!Le.marker&&(delete Le.marker,Ve.marker=null),We&&(We===!0||qe>We)?Le.tree=c(Te,{bounds:$e}):We&&We.length&&(Le.tree=We),Le.tree){var tt={primitive:"points",usage:"static",data:Le.tree,type:"uint32"};Le.elements?Le.elements(tt):Le.elements=B.elements(tt)}var vt=C.float32(Te);Fe({data:vt,usage:"dynamic"});var dt=C.fract32(Te,vt);return Ge({data:dt,usage:"dynamic"}),it({data:new Uint8Array(qe),type:"uint8",usage:"stream"}),Te}},{marker:function(Te,Le,Ve){var We=Le.activation;if(We.forEach(function(dt){return dt&&dt.destroy&&dt.destroy()}),We.length=0,!Te||typeof Te[0]=="number"){var Fe=a.addMarker(Te);We[Fe]=!0}else{for(var Ge=[],it=0,qe=Math.min(Te.length,Le.count);it<qe;it++){var $e=a.addMarker(Te[it]);Ge[$e]||(Ge[$e]=new Uint8Array(Le.count)),Ge[$e][it]=1}for(var tt=0;tt<Ge.length;tt++)if(Ge[tt]){var vt={data:Ge[tt],type:"uint8",usage:"static"};We[tt]?We[tt](vt):We[tt]=B.buffer(vt),We[tt].data=Ge[tt]}}return Te},range:function(Te,Le,Ve){var We=Le.bounds;if(We)return Te||(Te=We),Le.scale=[1/(Te[2]-Te[0]),1/(Te[3]-Te[1])],Le.translate=[-Te[0],-Te[1]],Le.scaleFract=C.fract(Le.scale),Le.translateFract=C.fract(Le.translate),Te},viewport:function(Te){var Le=S(Te||[Y.drawingBufferWidth,Y.drawingBufferHeight]);return Le}}]),ae){var de=re,ee=de.count,X=de.size,Q=de.borderSize,$=de.sizeBuffer,ne=new Uint8Array(ee*2);if(X.length||Q.length)for(var fe=0;fe<ee;fe++)ne[fe*2]=Math.round((X[fe]==null?X:X[fe])*255/W),ne[fe*2+1]=Math.round((Q[fe]==null?Q:Q[fe])*255/W);$({data:ne,usage:"dynamic"})}if(ue){var te=re,q=te.count,he=te.color,se=te.borderColor,pe=te.colorBuffer,we;if(a.tooManyColors){if(he.length||se.length){we=new Uint8Array(q*8);for(var Ee=0;Ee<q;Ee++){var Me=he[Ee];we[Ee*8]=U[Me*4],we[Ee*8+1]=U[Me*4+1],we[Ee*8+2]=U[Me*4+2],we[Ee*8+3]=U[Me*4+3];var Be=se[Ee];we[Ee*8+4]=U[Be*4],we[Ee*8+5]=U[Be*4+1],we[Ee*8+6]=U[Be*4+2],we[Ee*8+7]=U[Be*4+3]}}}else if(he.length||se.length){we=new Uint8Array(q*4+2);for(var Ne=0;Ne<q;Ne++)he[Ne]!=null&&(we[Ne*4]=he[Ne]%H,we[Ne*4+1]=Math.floor(he[Ne]/H)),se[Ne]!=null&&(we[Ne*4+2]=se[Ne]%H,we[Ne*4+3]=Math.floor(se[Ne]/H))}pe({data:we||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return re})}},T.prototype.addMarker=function(a){var R=this.markerTextures,b=this.regl,N=this.markerCache,O=a==null?0:N.indexOf(a);if(O>=0)return O;var Y;if(a instanceof Uint8Array||a instanceof Uint8ClampedArray)Y=a;else{Y=new Uint8Array(a.length);for(var B=0,W=a.length;B<W;B++)Y[B]=a[B]*255}var H=Math.floor(Math.sqrt(Y.length));return O=R.length,N.push(a),R.push(b.texture({channels:1,data:Y,radius:H,mag:"linear",min:"linear"})),O},T.prototype.updateColor=function(a){var R=this.paletteIds,b=this.palette,N=this.maxColors;Array.isArray(a)||(a=[a]);var O=[];if(typeof a[0]=="number"){var Y=[];if(Array.isArray(a))for(var B=0;B<a.length;B+=4)Y.push(a.slice(B,B+4));else for(var W=0;W<a.length;W+=4)Y.push(a.subarray(W,W+4));a=Y}for(var H=0;H<a.length;H++){var U=a[H];U=i(U,"uint8");var G=v(U,!1);if(R[G]==null){var j=b.length;R[G]=Math.floor(j/4),b[j]=U[0],b[j+1]=U[1],b[j+2]=U[2],b[j+3]=U[3]}O[H]=R[G]}return!this.tooManyColors&&b.length>N*4&&(this.tooManyColors=!0),this.updatePalette(b),O.length===1?O[0]:O},T.prototype.updatePalette=function(a){if(!this.tooManyColors){var R=this.maxColors,b=this.paletteTexture,N=Math.ceil(a.length*.25/R);if(N>1){a=a.slice();for(var O=a.length*.25%R;O<N*R;O++)a.push(0,0,0,0)}b.height<N&&b.resize(R,N),b.subimage({width:Math.min(a.length*.25,R),height:N,data:a},0,0)}},T.prototype.destroy=function(){return this.groups.forEach(function(a){a.sizeBuffer.destroy(),a.positionBuffer.destroy(),a.positionFractBuffer.destroy(),a.colorBuffer.destroy(),a.activation.forEach(function(R){return R&&R.destroy&&R.destroy()}),a.selectionBuffer.destroy(),a.elements&&a.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(a){return a&&a.destroy&&a.destroy()}),this};var P=e(56131),A=function(R,b){var N=new D(R,b),O=N.render.bind(N);return P(O,{render:O,update:N.update.bind(N),draw:N.draw.bind(N),destroy:N.destroy.bind(N),regl:N.regl,gl:N.gl,canvas:N.gl.canvas,groups:N.groups,markers:N.markerCache,palette:N.palette}),O};k.exports=A},60487:function(k,F,e){var h=e(11870),E=e(71299),n=e(21527),L=e(5877),w=e(57471),p=e(18863),m=e(30120);k.exports=t;function t(f,v){if(!(this instanceof t))return new t(f);this.traces=[],this.passes={},this.regl=f,this.scatter=h(f),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var f=this,v,c=[],x=arguments.length;x--;)c[x]=arguments[x];return c.length&&(v=this).update.apply(v,c),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){f.draw(),f.dirty=!0,f.planned=null})):(this.draw(),this.dirty=!0,L(function(){f.dirty=!1})),this)},t.prototype.update=function(){for(var f,v=[],c=arguments.length;c--;)v[c]=arguments[c];if(v.length){for(var x=0;x<v.length;x++)this.updateItem(x,v[x]);this.traces=this.traces.filter(Boolean);for(var d=[],M=0,g=0;g<this.traces.length;g++){for(var u=this.traces[g],y=this.traces[g].passes,C=0;C<y.length;C++)d.push(this.passes[y[C]]);u.passOffset=M,M+=u.passes.length}return(f=this.scatter).update.apply(f,d),this}},t.prototype.updateItem=function(f,v){var c=this,x=c.regl;if(v===null)return this.traces[f]=null,this;if(!v)return this;var d=E(v,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),M=this.traces[f]||(this.traces[f]={id:f,buffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:p([x._gl.drawingBufferWidth,x._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(d.color!=null&&(M.color=d.color),d.size!=null&&(M.size=d.size),d.marker!=null&&(M.marker=d.marker),d.borderColor!=null&&(M.borderColor=d.borderColor),d.borderSize!=null&&(M.borderSize=d.borderSize),d.opacity!=null&&(M.opacity=d.opacity),d.viewport&&(M.viewport=p(d.viewport)),d.diagonal!=null&&(M.diagonal=d.diagonal),d.upper!=null&&(M.upper=d.upper),d.lower!=null&&(M.lower=d.lower),d.data){M.buffer(m(d.data)),M.columns=d.data.length,M.count=d.data[0].length,M.bounds=[];for(var g=0;g<M.columns;g++)M.bounds[g]=n(d.data[g],1)}var u;d.range&&(M.range=d.range,u=M.range&&typeof M.range[0]!="number"),d.domain&&(M.domain=d.domain);var y=!1;d.padding!=null&&(Array.isArray(d.padding)&&d.padding.length===M.columns&&typeof d.padding[d.padding.length-1]=="number"?(M.padding=d.padding.map(i),y=!0):M.padding=i(d.padding));var C=M.columns,S=M.count,D=M.viewport.width,T=M.viewport.height,P=M.viewport.x,A=M.viewport.y,a=D/C,R=T/C;M.passes=[];for(var b=0;b<C;b++)for(var N=0;N<C;N++)if(!(!M.diagonal&&N===b)&&!(!M.upper&&b>N)&&!(!M.lower&&b<N)){var O=r(M.id,b,N),Y=this.passes[O]||(this.passes[O]={});if(d.data&&(d.transpose?Y.positions={x:{buffer:M.buffer,offset:N,count:S,stride:C},y:{buffer:M.buffer,offset:b,count:S,stride:C}}:Y.positions={x:{buffer:M.buffer,offset:N*S,count:S},y:{buffer:M.buffer,offset:b*S,count:S}},Y.bounds=l(M.bounds,b,N)),d.domain||d.viewport||d.data){var B=y?l(M.padding,b,N):M.padding;if(M.domain){var W=l(M.domain,b,N),H=W[0],U=W[1],G=W[2],j=W[3];Y.viewport=[P+H*D+B[0],A+U*T+B[1],P+G*D-B[2],A+j*T-B[3]]}else Y.viewport=[P+N*a+a*B[0],A+b*R+R*B[1],P+(N+1)*a-a*B[2],A+(b+1)*R-R*B[3]]}d.color&&(Y.color=M.color),d.size&&(Y.size=M.size),d.marker&&(Y.marker=M.marker),d.borderSize&&(Y.borderSize=M.borderSize),d.borderColor&&(Y.borderColor=M.borderColor),d.opacity&&(Y.opacity=M.opacity),d.range&&(Y.range=u?l(M.range,b,N):M.range||Y.bounds),M.passes.push(O)}return this},t.prototype.draw=function(){for(var f,v=[],c=arguments.length;c--;)v[c]=arguments[c];if(!v.length)this.scatter.draw();else{for(var x=[],d=0;d<v.length;d++)if(typeof v[d]=="number"){var M=this.traces[v[d]],g=M.passes,u=M.passOffset;x.push.apply(x,w(u,u+g.length))}else if(v[d].length){var y=v[d],C=this.traces[d],S=C.passes,D=C.passOffset;S=S.map(function(T,P){x[D+P]=y})}(f=this.scatter).draw.apply(f,x)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(f){f.buffer&&f.buffer.destroy&&f.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(f,v,c){var x=f.id!=null?f.id:f,d=v,M=c,g=x<<16|(d&255)<<8|M&255;return g}function l(f,v,c){var x,d,M,g,u=f[v],y=f[c];return u.length>2?(u[0],u[2],x=u[1],d=u[3]):u.length?(x=u[0],d=u[1]):(u.x,x=u.y,u.x+u.width,d=u.y+u.height),y.length>2?(M=y[0],g=y[2],y[1],y[3]):y.length?(M=y[0],g=y[1]):(M=y.x,y.y,g=y.x+y.width,y.y+y.height),[M,x,g,d]}function i(f){if(typeof f=="number")return[f,f,f,f];if(f.length===2)return[f[0],f[1],f[0],f[1]];var v=p(f);return[v.x,v.y,v.x+v.width,v.y+v.height]}},98580:function(k){(function(F,e){k.exports=e()})(this,function(){function F(yt,Xt){this.id=pe++,this.type=yt,this.data=Xt}function e(yt){if(yt.length===0)return[];var Xt=yt.charAt(0),Yt=yt.charAt(yt.length-1);if(1<yt.length&&Xt===Yt&&(Xt==='"'||Xt==="'"))return['"'+yt.substr(1,yt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Xt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(yt))return e(yt.substr(0,Xt.index)).concat(e(Xt[1])).concat(e(yt.substr(Xt.index+Xt[0].length)));if(Xt=yt.split("."),Xt.length===1)return['"'+yt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(yt=[],Yt=0;Yt<Xt.length;++Yt)yt=yt.concat(e(Xt[Yt]));return yt}function h(yt){return"["+e(yt).join("][")+"]"}function E(yt,Xt){if(typeof yt=="function")return new F(0,yt);if(typeof yt=="number"||typeof yt=="boolean")return new F(5,yt);if(Array.isArray(yt))return new F(6,yt.map(function(Yt,br){return E(Yt)}));if(yt instanceof F)return yt}function n(){var yt={"":0},Xt=[""];return{id:function(Yt){var br=yt[Yt];return br||(br=yt[Yt]=Xt.length,Xt.push(Yt),br)},str:function(Yt){return Xt[Yt]}}}function L(yt,Xt,Yt){function br(){var lt=window.innerWidth,xt=window.innerHeight;yt!==document.body&&(xt=hr.getBoundingClientRect(),lt=xt.right-xt.left,xt=xt.bottom-xt.top),hr.width=Yt*lt,hr.height=Yt*xt}var hr=document.createElement("canvas");se(hr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),yt.appendChild(hr),yt===document.body&&(hr.style.position="absolute",se(yt.style,{margin:0,padding:0}));var ut;return yt!==document.body&&typeof ResizeObserver=="function"?(ut=new ResizeObserver(function(){setTimeout(br)}),ut.observe(yt)):window.addEventListener("resize",br,!1),br(),{canvas:hr,onDestroy:function(){ut?ut.disconnect():window.removeEventListener("resize",br),yt.removeChild(hr)}}}function w(yt,Xt){function Yt(br){try{return yt.getContext(br,Xt)}catch{return null}}return Yt("webgl")||Yt("experimental-webgl")||Yt("webgl-experimental")}function p(yt){return typeof yt=="string"?yt.split():yt}function m(yt){return typeof yt=="string"?document.querySelector(yt):yt}function t(yt){var Xt=yt||{},Yt,br,hr,ut;yt={};var lt=[],xt=[],Tt=typeof window>"u"?1:window.devicePixelRatio,Et=!1,At={},Ft=function($t){},Ht=function(){};if(typeof Xt=="string"?Yt=document.querySelector(Xt):typeof Xt=="object"&&(typeof Xt.nodeName=="string"&&typeof Xt.appendChild=="function"&&typeof Xt.getBoundingClientRect=="function"?Yt=Xt:typeof Xt.drawArrays=="function"||typeof Xt.drawElements=="function"?(ut=Xt,hr=ut.canvas):("gl"in Xt?ut=Xt.gl:"canvas"in Xt?hr=m(Xt.canvas):"container"in Xt&&(br=m(Xt.container)),"attributes"in Xt&&(yt=Xt.attributes),"extensions"in Xt&&(lt=p(Xt.extensions)),"optionalExtensions"in Xt&&(xt=p(Xt.optionalExtensions)),"onDone"in Xt&&(Ft=Xt.onDone),"profile"in Xt&&(Et=!!Xt.profile),"pixelRatio"in Xt&&(Tt=+Xt.pixelRatio),"cachedCode"in Xt&&(At=Xt.cachedCode))),Yt&&(Yt.nodeName.toLowerCase()==="canvas"?hr=Yt:br=Yt),!ut){if(!hr){if(Yt=L(br||document.body,Ft,Tt),!Yt)return null;hr=Yt.canvas,Ht=Yt.onDestroy}yt.premultipliedAlpha===void 0&&(yt.premultipliedAlpha=!0),ut=w(hr,yt)}return ut?{gl:ut,canvas:hr,container:br,extensions:lt,optionalExtensions:xt,pixelRatio:Tt,profile:Et,cachedCode:At,onDone:Ft,onDestroy:Ht}:(Ht(),Ft("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(yt,Xt){function Yt(lt){lt=lt.toLowerCase();var xt;try{xt=br[lt]=yt.getExtension(lt)}catch{}return!!xt}for(var br={},hr=0;hr<Xt.extensions.length;++hr){var ut=Xt.extensions[hr];if(!Yt(ut))return Xt.onDestroy(),Xt.onDone('"'+ut+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Xt.optionalExtensions.forEach(Yt),{extensions:br,restore:function(){Object.keys(br).forEach(function(lt){if(br[lt]&&!Yt(lt))throw Error("(regl): error restoring extension "+lt)})}}}function l(yt,Xt){for(var Yt=Array(yt),br=0;br<yt;++br)Yt[br]=Xt(br);return Yt}function i(yt){var Xt,Yt;return Xt=(65535<yt)<<4,yt>>>=Xt,Yt=(255<yt)<<3,yt>>>=Yt,Xt|=Yt,Yt=(15<yt)<<2,yt>>>=Yt,Xt|=Yt,Yt=(3<yt)<<1,Xt|Yt|yt>>>Yt>>1}function f(){function yt(br){e:{for(var hr=16;268435456>=hr;hr*=16)if(br<=hr){br=hr;break e}br=0}return hr=Yt[i(br)>>2],0<hr.length?hr.pop():new ArrayBuffer(br)}function Xt(br){Yt[i(br.byteLength)>>2].push(br)}var Yt=l(8,function(){return[]});return{alloc:yt,free:Xt,allocType:function(br,hr){var ut=null;switch(br){case 5120:ut=new Int8Array(yt(hr),0,hr);break;case 5121:ut=new Uint8Array(yt(hr),0,hr);break;case 5122:ut=new Int16Array(yt(2*hr),0,hr);break;case 5123:ut=new Uint16Array(yt(2*hr),0,hr);break;case 5124:ut=new Int32Array(yt(4*hr),0,hr);break;case 5125:ut=new Uint32Array(yt(4*hr),0,hr);break;case 5126:ut=new Float32Array(yt(4*hr),0,hr);break;default:return null}return ut.length!==hr?ut.subarray(0,hr):ut},freeType:function(br){Xt(br.buffer)}}}function v(yt){return!!yt&&typeof yt=="object"&&Array.isArray(yt.shape)&&Array.isArray(yt.stride)&&typeof yt.offset=="number"&&yt.shape.length===yt.stride.length&&(Array.isArray(yt.data)||Ce(yt.data))}function c(yt,Xt,Yt,br,hr,ut){for(var lt=0;lt<Xt;++lt)for(var xt=yt[lt],Tt=0;Tt<Yt;++Tt)for(var Et=xt[Tt],At=0;At<br;++At)hr[ut++]=Et[At]}function x(yt,Xt,Yt,br,hr){for(var ut=1,lt=Yt+1;lt<Xt.length;++lt)ut*=Xt[lt];var xt=Xt[Yt];if(Xt.length-Yt===4){var Tt=Xt[Yt+1],Et=Xt[Yt+2];for(Xt=Xt[Yt+3],lt=0;lt<xt;++lt)c(yt[lt],Tt,Et,Xt,br,hr),hr+=ut}else for(lt=0;lt<xt;++lt)x(yt[lt],Xt,Yt+1,br,hr),hr+=ut}function d(yt){return Ve[Object.prototype.toString.call(yt)]|0}function M(yt,Xt){for(var Yt=0;Yt<Xt.length;++Yt)yt[Yt]=Xt[Yt]}function g(yt,Xt,Yt,br,hr,ut,lt){for(var xt=0,Tt=0;Tt<Yt;++Tt)for(var Et=0;Et<br;++Et)yt[xt++]=Xt[hr*Tt+ut*Et+lt]}function u(yt,Xt,Yt,br){function hr(Ft){this.id=Tt++,this.buffer=yt.createBuffer(),this.type=Ft,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Yt.profile&&(this.stats={size:0})}function ut(Ft,Ht,$t){Ft.byteLength=Ht.byteLength,yt.bufferData(Ft.type,Ht,$t)}function lt(Ft,Ht,$t,Qt,or,Er){if(Ft.usage=$t,Array.isArray(Ht)){if(Ft.dtype=Qt||5126,0<Ht.length)if(Array.isArray(Ht[0])){or=it(Ht);for(var Ze=Qt=1;Ze<or.length;++Ze)Qt*=or[Ze];Ft.dimension=Qt,Ht=Ge(Ht,or,Ft.dtype),ut(Ft,Ht,$t),Er?Ft.persistentData=Ht:Be.freeType(Ht)}else typeof Ht[0]=="number"?(Ft.dimension=or,or=Be.allocType(Ft.dtype,Ht.length),M(or,Ht),ut(Ft,or,$t),Er?Ft.persistentData=or:Be.freeType(or)):Ce(Ht[0])&&(Ft.dimension=Ht[0].length,Ft.dtype=Qt||d(Ht[0])||5126,Ht=Ge(Ht,[Ht.length,Ht[0].length],Ft.dtype),ut(Ft,Ht,$t),Er?Ft.persistentData=Ht:Be.freeType(Ht))}else if(Ce(Ht))Ft.dtype=Qt||d(Ht),Ft.dimension=or,ut(Ft,Ht,$t),Er&&(Ft.persistentData=new Uint8Array(new Uint8Array(Ht.buffer)));else if(v(Ht)){or=Ht.shape;var Ye=Ht.stride,Ze=Ht.offset,Dt=0,It=0,Zt=0,nr=0;or.length===1?(Dt=or[0],It=1,Zt=Ye[0],nr=0):or.length===2&&(Dt=or[0],It=or[1],Zt=Ye[0],nr=Ye[1]),Ft.dtype=Qt||d(Ht.data)||5126,Ft.dimension=It,or=Be.allocType(Ft.dtype,Dt*It),g(or,Ht.data,Dt,It,Zt,nr,Ze),ut(Ft,or,$t),Er?Ft.persistentData=or:Be.freeType(or)}else Ht instanceof ArrayBuffer&&(Ft.dtype=5121,Ft.dimension=or,ut(Ft,Ht,$t),Er&&(Ft.persistentData=new Uint8Array(new Uint8Array(Ht))))}function xt(Ft){Xt.bufferCount--,br(Ft),yt.deleteBuffer(Ft.buffer),Ft.buffer=null,delete Et[Ft.id]}var Tt=0,Et={};hr.prototype.bind=function(){yt.bindBuffer(this.type,this.buffer)},hr.prototype.destroy=function(){xt(this)};var At=[];return Yt.profile&&(Xt.getTotalBufferSize=function(){var Ft=0;return Object.keys(Et).forEach(function(Ht){Ft+=Et[Ht].stats.size}),Ft}),{create:function(Ft,Ht,$t,Qt){function or(Ze){var Ye=35044,Dt=null,It=0,Zt=0,nr=1;return Array.isArray(Ze)||Ce(Ze)||v(Ze)||Ze instanceof ArrayBuffer?Dt=Ze:typeof Ze=="number"?It=Ze|0:Ze&&("data"in Ze&&(Dt=Ze.data),"usage"in Ze&&(Ye=Fe[Ze.usage]),"type"in Ze&&(Zt=We[Ze.type]),"dimension"in Ze&&(nr=Ze.dimension|0),"length"in Ze&&(It=Ze.length|0)),Er.bind(),Dt?lt(Er,Dt,Ye,Zt,nr,Qt):(It&&yt.bufferData(Er.type,It,Ye),Er.dtype=Zt||5121,Er.usage=Ye,Er.dimension=nr,Er.byteLength=It),Yt.profile&&(Er.stats.size=Er.byteLength*qe[Er.dtype]),or}Xt.bufferCount++;var Er=new hr(Ht);return Et[Er.id]=Er,$t||or(Ft),or._reglType="buffer",or._buffer=Er,or.subdata=function(Ze,Ye){var Dt=(Ye||0)|0,It;if(Er.bind(),Ce(Ze)||Ze instanceof ArrayBuffer)yt.bufferSubData(Er.type,Dt,Ze);else if(Array.isArray(Ze)){if(0<Ze.length)if(typeof Ze[0]=="number"){var Zt=Be.allocType(Er.dtype,Ze.length);M(Zt,Ze),yt.bufferSubData(Er.type,Dt,Zt),Be.freeType(Zt)}else(Array.isArray(Ze[0])||Ce(Ze[0]))&&(It=it(Ze),Zt=Ge(Ze,It,Er.dtype),yt.bufferSubData(Er.type,Dt,Zt),Be.freeType(Zt))}else if(v(Ze)){It=Ze.shape;var nr=Ze.stride,lr=Zt=0,rr=0,zt=0;It.length===1?(Zt=It[0],lr=1,rr=nr[0],zt=0):It.length===2&&(Zt=It[0],lr=It[1],rr=nr[0],zt=nr[1]),It=Array.isArray(Ze.data)?Er.dtype:d(Ze.data),It=Be.allocType(It,Zt*lr),g(It,Ze.data,Zt,lr,rr,zt,Ze.offset),yt.bufferSubData(Er.type,Dt,It),Be.freeType(It)}return or},Yt.profile&&(or.stats=Er.stats),or.destroy=function(){xt(Er)},or},createStream:function(Ft,Ht){var $t=At.pop();return $t||($t=new hr(Ft)),$t.bind(),lt($t,Ht,35040,0,1,!1),$t},destroyStream:function(Ft){At.push(Ft)},clear:function(){Te(Et).forEach(xt),At.forEach(xt)},getBuffer:function(Ft){return Ft&&Ft._buffer instanceof hr?Ft._buffer:null},restore:function(){Te(Et).forEach(function(Ft){Ft.buffer=yt.createBuffer(),yt.bindBuffer(Ft.type,Ft.buffer),yt.bufferData(Ft.type,Ft.persistentData||Ft.byteLength,Ft.usage)})},_initBuffer:lt}}function y(yt,Xt,Yt,br){function hr(Ft){this.id=Tt++,xt[this.id]=this,this.buffer=Ft,this.primType=4,this.type=this.vertCount=0}function ut(Ft,Ht,$t,Qt,or,Er,Ze){Ft.buffer.bind();var Ye;if(Ht?((Ye=Ze)||Ce(Ht)&&(!v(Ht)||Ce(Ht.data))||(Ye=Xt.oes_element_index_uint?5125:5123),Yt._initBuffer(Ft.buffer,Ht,$t,Ye,3)):(yt.bufferData(34963,Er,$t),Ft.buffer.dtype=Ye||5121,Ft.buffer.usage=$t,Ft.buffer.dimension=3,Ft.buffer.byteLength=Er),Ye=Ze,!Ze){switch(Ft.buffer.dtype){case 5121:case 5120:Ye=5121;break;case 5123:case 5122:Ye=5123;break;case 5125:case 5124:Ye=5125}Ft.buffer.dtype=Ye}Ft.type=Ye,Ht=or,0>Ht&&(Ht=Ft.buffer.byteLength,Ye===5123?Ht>>=1:Ye===5125&&(Ht>>=2)),Ft.vertCount=Ht,Ht=Qt,0>Qt&&(Ht=4,Qt=Ft.buffer.dimension,Qt===1&&(Ht=0),Qt===2&&(Ht=1),Qt===3&&(Ht=4)),Ft.primType=Ht}function lt(Ft){br.elementsCount--,delete xt[Ft.id],Ft.buffer.destroy(),Ft.buffer=null}var xt={},Tt=0,Et={uint8:5121,uint16:5123};Xt.oes_element_index_uint&&(Et.uint32=5125),hr.prototype.bind=function(){this.buffer.bind()};var At=[];return{create:function(Ft,Ht){function $t(Er){if(Er)if(typeof Er=="number")Qt(Er),or.primType=4,or.vertCount=Er|0,or.type=5121;else{var Ze=null,Ye=35044,Dt=-1,It=-1,Zt=0,nr=0;Array.isArray(Er)||Ce(Er)||v(Er)?Ze=Er:("data"in Er&&(Ze=Er.data),"usage"in Er&&(Ye=Fe[Er.usage]),"primitive"in Er&&(Dt=$e[Er.primitive]),"count"in Er&&(It=Er.count|0),"type"in Er&&(nr=Et[Er.type]),"length"in Er?Zt=Er.length|0:(Zt=It,nr===5123||nr===5122?Zt*=2:(nr===5125||nr===5124)&&(Zt*=4))),ut(or,Ze,Ye,Dt,It,Zt,nr)}else Qt(),or.primType=4,or.vertCount=0,or.type=5121;return $t}var Qt=Yt.create(null,34963,!0),or=new hr(Qt._buffer);return br.elementsCount++,$t(Ft),$t._reglType="elements",$t._elements=or,$t.subdata=function(Er,Ze){return Qt.subdata(Er,Ze),$t},$t.destroy=function(){lt(or)},$t},createStream:function(Ft){var Ht=At.pop();return Ht||(Ht=new hr(Yt.create(null,34963,!0,!1)._buffer)),ut(Ht,Ft,35040,-1,-1,0,0),Ht},destroyStream:function(Ft){At.push(Ft)},getElements:function(Ft){return typeof Ft=="function"&&Ft._elements instanceof hr?Ft._elements:null},clear:function(){Te(xt).forEach(lt)}}}function C(yt){for(var Xt=Be.allocType(5123,yt.length),Yt=0;Yt<yt.length;++Yt)if(isNaN(yt[Yt]))Xt[Yt]=65535;else if(yt[Yt]===1/0)Xt[Yt]=31744;else if(yt[Yt]===-1/0)Xt[Yt]=64512;else{tt[0]=yt[Yt];var ut=vt[0],br=ut>>>31<<15,hr=(ut<<1>>>24)-127,ut=ut>>13&1023;Xt[Yt]=-24>hr?br:-14>hr?br+(ut+1024>>-14-hr):15<hr?br+31744:br+(hr+15<<10)+ut}return Xt}function S(yt){return Array.isArray(yt)||Ce(yt)}function D(yt){return"[object "+yt+"]"}function T(yt){return Array.isArray(yt)&&(yt.length===0||typeof yt[0]=="number")}function P(yt){return!!(Array.isArray(yt)&&yt.length!==0&&S(yt[0]))}function A(yt){return Object.prototype.toString.call(yt)}function a(yt){if(!yt)return!1;var Xt=A(yt);return 0<=_e.indexOf(Xt)?!0:T(yt)||P(yt)||v(yt)}function R(yt,Xt){yt.type===36193?(yt.data=C(Xt),Be.freeType(Xt)):yt.data=Xt}function b(yt,Xt,Yt,br,hr,ut){if(yt=typeof ce[yt]<"u"?ce[yt]:Mt[yt]*Ae[Xt],ut&&(yt*=6),hr){for(br=0;1<=Yt;)br+=yt*Yt*Yt,Yt/=2;return br}return yt*Yt*br}function N(yt,Xt,Yt,br,hr,ut,lt){function xt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Tt(Mr,on){Mr.internalformat=on.internalformat,Mr.format=on.format,Mr.type=on.type,Mr.compressed=on.compressed,Mr.premultiplyAlpha=on.premultiplyAlpha,Mr.flipY=on.flipY,Mr.unpackAlignment=on.unpackAlignment,Mr.colorSpace=on.colorSpace,Mr.width=on.width,Mr.height=on.height,Mr.channels=on.channels}function Et(Mr,on){if(typeof on=="object"&&on){"premultiplyAlpha"in on&&(Mr.premultiplyAlpha=on.premultiplyAlpha),"flipY"in on&&(Mr.flipY=on.flipY),"alignment"in on&&(Mr.unpackAlignment=on.alignment),"colorSpace"in on&&(Mr.colorSpace=pn[on.colorSpace]),"type"in on&&(Mr.type=Xr[on.type]);var nn=Mr.width,gn=Mr.height,Nn=Mr.channels,En=!1;"shape"in on?(nn=on.shape[0],gn=on.shape[1],on.shape.length===3&&(Nn=on.shape[2],En=!0)):("radius"in on&&(nn=gn=on.radius),"width"in on&&(nn=on.width),"height"in on&&(gn=on.height),"channels"in on&&(Nn=on.channels,En=!0)),Mr.width=nn|0,Mr.height=gn|0,Mr.channels=Nn|0,nn=!1,"format"in on&&(nn=on.format,gn=Mr.internalformat=_n[nn],Mr.format=Tn[gn],nn in Xr&&!("type"in on)&&(Mr.type=Xr[nn]),nn in Dn&&(Mr.compressed=!0),nn=!0),!En&&nn?Mr.channels=Mt[Mr.format]:En&&!nn&&Mr.channels!==gt[Mr.format]&&(Mr.format=Mr.internalformat=gt[Mr.channels])}}function At(Mr){yt.pixelStorei(37440,Mr.flipY),yt.pixelStorei(37441,Mr.premultiplyAlpha),yt.pixelStorei(37443,Mr.colorSpace),yt.pixelStorei(3317,Mr.unpackAlignment)}function Ft(){xt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ht(Mr,on){var nn=null;if(a(on)?nn=on:on&&(Et(Mr,on),"x"in on&&(Mr.xOffset=on.x|0),"y"in on&&(Mr.yOffset=on.y|0),a(on.data)&&(nn=on.data)),on.copy){var gn=hr.viewportWidth,Nn=hr.viewportHeight;Mr.width=Mr.width||gn-Mr.xOffset,Mr.height=Mr.height||Nn-Mr.yOffset,Mr.needsCopy=!0}else if(!nn)Mr.width=Mr.width||1,Mr.height=Mr.height||1,Mr.channels=Mr.channels||4;else if(Ce(nn))Mr.channels=Mr.channels||4,Mr.data=nn,"type"in on||Mr.type!==5121||(Mr.type=Ve[Object.prototype.toString.call(nn)]|0);else if(T(nn)){switch(Mr.channels=Mr.channels||4,gn=nn,Nn=gn.length,Mr.type){case 5121:case 5123:case 5125:case 5126:Nn=Be.allocType(Mr.type,Nn),Nn.set(gn),Mr.data=Nn;break;case 36193:Mr.data=C(gn)}Mr.alignment=1,Mr.needsFree=!0}else if(v(nn)){gn=nn.data,Array.isArray(gn)||Mr.type!==5121||(Mr.type=Ve[Object.prototype.toString.call(gn)]|0);var Nn=nn.shape,En=nn.stride,Cn,Hn,ii,Pi;Nn.length===3?(ii=Nn[2],Pi=En[2]):Pi=ii=1,Cn=Nn[0],Hn=Nn[1],Nn=En[0],En=En[1],Mr.alignment=1,Mr.width=Cn,Mr.height=Hn,Mr.channels=ii,Mr.format=Mr.internalformat=gt[ii],Mr.needsFree=!0,Cn=Pi,nn=nn.offset,ii=Mr.width,Pi=Mr.height,Hn=Mr.channels;for(var ji=Be.allocType(Mr.type===36193?5126:Mr.type,ii*Pi*Hn),jt=0,wr=0;wr<Pi;++wr)for(var an=0;an<ii;++an)for(var cn=0;cn<Hn;++cn)ji[jt++]=gn[Nn*an+En*wr+Cn*cn+nn];R(Mr,ji)}else if(A(nn)===Ct||A(nn)===Wt||A(nn)===Xe)A(nn)===Ct||A(nn)===Wt?Mr.element=nn:Mr.element=nn.canvas,Mr.width=Mr.element.width,Mr.height=Mr.element.height,Mr.channels=4;else if(A(nn)===ke)Mr.element=nn,Mr.width=nn.width,Mr.height=nn.height,Mr.channels=4;else if(A(nn)===Ie)Mr.element=nn,Mr.width=nn.naturalWidth,Mr.height=nn.naturalHeight,Mr.channels=4;else if(A(nn)===Oe)Mr.element=nn,Mr.width=nn.videoWidth,Mr.height=nn.videoHeight,Mr.channels=4;else if(P(nn)){for(gn=Mr.width||nn[0].length,Nn=Mr.height||nn.length,En=Mr.channels,En=S(nn[0][0])?En||nn[0][0].length:En||1,Cn=Le.shape(nn),ii=1,Pi=0;Pi<Cn.length;++Pi)ii*=Cn[Pi];ii=Be.allocType(Mr.type===36193?5126:Mr.type,ii),Le.flatten(nn,Cn,"",ii),R(Mr,ii),Mr.alignment=1,Mr.width=gn,Mr.height=Nn,Mr.channels=En,Mr.format=Mr.internalformat=gt[En],Mr.needsFree=!0}}function $t(Mr,on,nn,gn,Nn){var En=Mr.element,Cn=Mr.data,Hn=Mr.internalformat,ii=Mr.format,Pi=Mr.type,ji=Mr.width,jt=Mr.height;At(Mr),En?yt.texSubImage2D(on,Nn,nn,gn,ii,Pi,En):Mr.compressed?yt.compressedTexSubImage2D(on,Nn,nn,gn,Hn,ji,jt,Cn):Mr.needsCopy?(br(),yt.copyTexSubImage2D(on,Nn,nn,gn,Mr.xOffset,Mr.yOffset,ji,jt)):yt.texSubImage2D(on,Nn,nn,gn,ji,jt,ii,Pi,Cn)}function Qt(){return Pn.pop()||new Ft}function or(Mr){Mr.needsFree&&Be.freeType(Mr.data),Ft.call(Mr),Pn.push(Mr)}function Er(){xt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ze(Mr,on,nn){var gn=Mr.images[0]=Qt();Mr.mipmask=1,gn.width=Mr.width=on,gn.height=Mr.height=nn,gn.channels=Mr.channels=4}function Ye(Mr,on){var nn=null;if(a(on))nn=Mr.images[0]=Qt(),Tt(nn,Mr),Ht(nn,on),Mr.mipmask=1;else if(Et(Mr,on),Array.isArray(on.mipmap))for(var gn=on.mipmap,Nn=0;Nn<gn.length;++Nn)nn=Mr.images[Nn]=Qt(),Tt(nn,Mr),nn.width>>=Nn,nn.height>>=Nn,Ht(nn,gn[Nn]),Mr.mipmask|=1<<Nn;else nn=Mr.images[0]=Qt(),Tt(nn,Mr),Ht(nn,on),Mr.mipmask=1;Tt(Mr,Mr.images[0])}function Dt(Mr,on){for(var nn=Mr.images,gn=0;gn<nn.length&&nn[gn];++gn){var Nn=nn[gn],En=on,Cn=gn,Hn=Nn.element,ii=Nn.data,Pi=Nn.internalformat,ji=Nn.format,jt=Nn.type,wr=Nn.width,an=Nn.height;At(Nn),Hn?yt.texImage2D(En,Cn,ji,ji,jt,Hn):Nn.compressed?yt.compressedTexImage2D(En,Cn,Pi,wr,an,0,ii):Nn.needsCopy?(br(),yt.copyTexImage2D(En,Cn,ji,Nn.xOffset,Nn.yOffset,wr,an,0)):yt.texImage2D(En,Cn,ji,wr,an,0,ji,jt,ii||null)}}function It(){var Mr=jn.pop()||new Er;xt.call(Mr);for(var on=Mr.mipmask=0;16>on;++on)Mr.images[on]=null;return Mr}function Zt(Mr){for(var on=Mr.images,nn=0;nn<on.length;++nn)on[nn]&&or(on[nn]),on[nn]=null;jn.push(Mr)}function nr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function lr(Mr,on){"min"in on&&(Mr.minFilter=kr[on.min],0<=dt.indexOf(Mr.minFilter)&&!("faces"in on)&&(Mr.genMipmaps=!0)),"mag"in on&&(Mr.magFilter=_r[on.mag]);var nn=Mr.wrapS,gn=Mr.wrapT;if("wrap"in on){var Nn=on.wrap;typeof Nn=="string"?nn=gn=Vr[Nn]:Array.isArray(Nn)&&(nn=Vr[Nn[0]],gn=Vr[Nn[1]])}else"wrapS"in on&&(nn=Vr[on.wrapS]),"wrapT"in on&&(gn=Vr[on.wrapT]);if(Mr.wrapS=nn,Mr.wrapT=gn,"anisotropic"in on&&(Mr.anisotropic=on.anisotropic),"mipmap"in on){switch(nn=!1,typeof on.mipmap){case"string":Mr.mipmapHint=vr[on.mipmap],nn=Mr.genMipmaps=!0;break;case"boolean":nn=Mr.genMipmaps=on.mipmap;break;case"object":Mr.genMipmaps=!1,nn=!0}!nn||"min"in on||(Mr.minFilter=9984)}}function rr(Mr,on){yt.texParameteri(on,10241,Mr.minFilter),yt.texParameteri(on,10240,Mr.magFilter),yt.texParameteri(on,10242,Mr.wrapS),yt.texParameteri(on,10243,Mr.wrapT),Xt.ext_texture_filter_anisotropic&&yt.texParameteri(on,34046,Mr.anisotropic),Mr.genMipmaps&&(yt.hint(33170,Mr.mipmapHint),yt.generateMipmap(on))}function zt(Mr){xt.call(this),this.mipmask=0,this.internalformat=6408,this.id=qn++,this.refCount=1,this.target=Mr,this.texture=yt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new nr,lt.profile&&(this.stats={size:0})}function fr(Mr){yt.activeTexture(33984),yt.bindTexture(Mr.target,Mr.texture)}function dr(){var Mr=ei[0];Mr?yt.bindTexture(Mr.target,Mr.texture):yt.bindTexture(3553,null)}function pr(Mr){var on=Mr.texture,nn=Mr.unit,gn=Mr.target;0<=nn&&(yt.activeTexture(33984+nn),yt.bindTexture(gn,null),ei[nn]=null),yt.deleteTexture(on),Mr.texture=null,Mr.params=null,Mr.pixels=null,Mr.refCount=0,delete si[Mr.id],ut.textureCount--}var vr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Vr={repeat:10497,clamp:33071,mirror:33648},_r={nearest:9728,linear:9729},kr=se({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},_r),pn={none:0,browser:37444},Xr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},_n={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Dn={};Xt.ext_srgb&&(_n.srgb=35904,_n.srgba=35906),Xt.oes_texture_float&&(Xr.float32=Xr.float=5126),Xt.oes_texture_half_float&&(Xr.float16=Xr["half float"]=36193),Xt.webgl_depth_texture&&(se(_n,{depth:6402,"depth stencil":34041}),se(Xr,{uint16:5123,uint32:5125,"depth stencil":34042})),Xt.webgl_compressed_texture_s3tc&&se(Dn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Xt.webgl_compressed_texture_atc&&se(Dn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Xt.webgl_compressed_texture_pvrtc&&se(Dn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Xt.webgl_compressed_texture_etc1&&(Dn["rgb etc1"]=36196);var xr=Array.prototype.slice.call(yt.getParameter(34467));Object.keys(Dn).forEach(function(Mr){var on=Dn[Mr];0<=xr.indexOf(on)&&(_n[Mr]=on)});var Ar=Object.keys(_n);Yt.textureFormats=Ar;var Or=[];Object.keys(_n).forEach(function(Mr){Or[_n[Mr]]=Mr});var Br=[];Object.keys(Xr).forEach(function(Mr){Br[Xr[Mr]]=Mr});var qr=[];Object.keys(_r).forEach(function(Mr){qr[_r[Mr]]=Mr});var vn=[];Object.keys(kr).forEach(function(Mr){vn[kr[Mr]]=Mr});var fn=[];Object.keys(Vr).forEach(function(Mr){fn[Vr[Mr]]=Mr});var Tn=Ar.reduce(function(Mr,on){var nn=_n[on];return nn===6409||nn===6406||nn===6409||nn===6410||nn===6402||nn===34041||Xt.ext_srgb&&(nn===35904||nn===35906)?Mr[nn]=nn:nn===32855||0<=on.indexOf("rgba")?Mr[nn]=6408:Mr[nn]=6407,Mr},{}),Pn=[],jn=[],qn=0,si={},ti=Yt.maxTextureUnits,ei=Array(ti).map(function(){return null});return se(zt.prototype,{bind:function(){this.bindCount+=1;var Mr=this.unit;if(0>Mr){for(var on=0;on<ti;++on){var nn=ei[on];if(nn){if(0<nn.bindCount)continue;nn.unit=-1}ei[on]=this,Mr=on;break}lt.profile&&ut.maxTextureUnits<Mr+1&&(ut.maxTextureUnits=Mr+1),this.unit=Mr,yt.activeTexture(33984+Mr),yt.bindTexture(this.target,this.texture)}return Mr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&pr(this)}}),lt.profile&&(ut.getTotalTextureSize=function(){var Mr=0;return Object.keys(si).forEach(function(on){Mr+=si[on].stats.size}),Mr}),{create2D:function(Mr,on){function nn(Nn,En){var Cn=gn.texInfo;nr.call(Cn);var Hn=It();return typeof Nn=="number"?typeof En=="number"?Ze(Hn,Nn|0,En|0):Ze(Hn,Nn|0,Nn|0):Nn?(lr(Cn,Nn),Ye(Hn,Nn)):Ze(Hn,1,1),Cn.genMipmaps&&(Hn.mipmask=(Hn.width<<1)-1),gn.mipmask=Hn.mipmask,Tt(gn,Hn),gn.internalformat=Hn.internalformat,nn.width=Hn.width,nn.height=Hn.height,fr(gn),Dt(Hn,3553),rr(Cn,3553),dr(),Zt(Hn),lt.profile&&(gn.stats.size=b(gn.internalformat,gn.type,Hn.width,Hn.height,Cn.genMipmaps,!1)),nn.format=Or[gn.internalformat],nn.type=Br[gn.type],nn.mag=qr[Cn.magFilter],nn.min=vn[Cn.minFilter],nn.wrapS=fn[Cn.wrapS],nn.wrapT=fn[Cn.wrapT],nn}var gn=new zt(3553);return si[gn.id]=gn,ut.textureCount++,nn(Mr,on),nn.subimage=function(Nn,En,Cn,Hn){En|=0,Cn|=0,Hn|=0;var ii=Qt();return Tt(ii,gn),ii.width=0,ii.height=0,Ht(ii,Nn),ii.width=ii.width||(gn.width>>Hn)-En,ii.height=ii.height||(gn.height>>Hn)-Cn,fr(gn),$t(ii,3553,En,Cn,Hn),dr(),or(ii),nn},nn.resize=function(Nn,En){var Cn=Nn|0,Hn=En|0||Cn;if(Cn===gn.width&&Hn===gn.height)return nn;nn.width=gn.width=Cn,nn.height=gn.height=Hn,fr(gn);for(var ii=0;gn.mipmask>>ii;++ii){var Pi=Cn>>ii,ji=Hn>>ii;if(!Pi||!ji)break;yt.texImage2D(3553,ii,gn.format,Pi,ji,0,gn.format,gn.type,null)}return dr(),lt.profile&&(gn.stats.size=b(gn.internalformat,gn.type,Cn,Hn,!1,!1)),nn},nn._reglType="texture2d",nn._texture=gn,lt.profile&&(nn.stats=gn.stats),nn.destroy=function(){gn.decRef()},nn},createCube:function(Mr,on,nn,gn,Nn,En){function Cn(Pi,ji,jt,wr,an,cn){var hn,Ln=Hn.texInfo;for(nr.call(Ln),hn=0;6>hn;++hn)ii[hn]=It();if(typeof Pi=="number"||!Pi)for(Pi=Pi|0||1,hn=0;6>hn;++hn)Ze(ii[hn],Pi,Pi);else if(typeof Pi=="object")if(ji)Ye(ii[0],Pi),Ye(ii[1],ji),Ye(ii[2],jt),Ye(ii[3],wr),Ye(ii[4],an),Ye(ii[5],cn);else if(lr(Ln,Pi),Et(Hn,Pi),"faces"in Pi)for(Pi=Pi.faces,hn=0;6>hn;++hn)Tt(ii[hn],Hn),Ye(ii[hn],Pi[hn]);else for(hn=0;6>hn;++hn)Ye(ii[hn],Pi);for(Tt(Hn,ii[0]),Hn.mipmask=Ln.genMipmaps?(ii[0].width<<1)-1:ii[0].mipmask,Hn.internalformat=ii[0].internalformat,Cn.width=ii[0].width,Cn.height=ii[0].height,fr(Hn),hn=0;6>hn;++hn)Dt(ii[hn],34069+hn);for(rr(Ln,34067),dr(),lt.profile&&(Hn.stats.size=b(Hn.internalformat,Hn.type,Cn.width,Cn.height,Ln.genMipmaps,!0)),Cn.format=Or[Hn.internalformat],Cn.type=Br[Hn.type],Cn.mag=qr[Ln.magFilter],Cn.min=vn[Ln.minFilter],Cn.wrapS=fn[Ln.wrapS],Cn.wrapT=fn[Ln.wrapT],hn=0;6>hn;++hn)Zt(ii[hn]);return Cn}var Hn=new zt(34067);si[Hn.id]=Hn,ut.cubeCount++;var ii=Array(6);return Cn(Mr,on,nn,gn,Nn,En),Cn.subimage=function(Pi,ji,jt,wr,an){jt|=0,wr|=0,an|=0;var cn=Qt();return Tt(cn,Hn),cn.width=0,cn.height=0,Ht(cn,ji),cn.width=cn.width||(Hn.width>>an)-jt,cn.height=cn.height||(Hn.height>>an)-wr,fr(Hn),$t(cn,34069+Pi,jt,wr,an),dr(),or(cn),Cn},Cn.resize=function(Pi){if(Pi|=0,Pi!==Hn.width){Cn.width=Hn.width=Pi,Cn.height=Hn.height=Pi,fr(Hn);for(var ji=0;6>ji;++ji)for(var jt=0;Hn.mipmask>>jt;++jt)yt.texImage2D(34069+ji,jt,Hn.format,Pi>>jt,Pi>>jt,0,Hn.format,Hn.type,null);return dr(),lt.profile&&(Hn.stats.size=b(Hn.internalformat,Hn.type,Cn.width,Cn.height,!1,!0)),Cn}},Cn._reglType="textureCube",Cn._texture=Hn,lt.profile&&(Cn.stats=Hn.stats),Cn.destroy=function(){Hn.decRef()},Cn},clear:function(){for(var Mr=0;Mr<ti;++Mr)yt.activeTexture(33984+Mr),yt.bindTexture(3553,null),ei[Mr]=null;Te(si).forEach(pr),ut.cubeCount=0,ut.textureCount=0},getTexture:function(Mr){return null},restore:function(){for(var Mr=0;Mr<ti;++Mr){var on=ei[Mr];on&&(on.bindCount=0,on.unit=-1,ei[Mr]=null)}Te(si).forEach(function(nn){nn.texture=yt.createTexture(),yt.bindTexture(nn.target,nn.texture);for(var gn=0;32>gn;++gn)if(nn.mipmask&1<<gn)if(nn.target===3553)yt.texImage2D(3553,gn,nn.internalformat,nn.width>>gn,nn.height>>gn,0,nn.internalformat,nn.type,null);else for(var Nn=0;6>Nn;++Nn)yt.texImage2D(34069+Nn,gn,nn.internalformat,nn.width>>gn,nn.height>>gn,0,nn.internalformat,nn.type,null);rr(nn.texInfo,nn.target)})},refresh:function(){for(var Mr=0;Mr<ti;++Mr){var on=ei[Mr];on&&(on.bindCount=0,on.unit=-1,ei[Mr]=null),yt.activeTexture(33984+Mr),yt.bindTexture(3553,null),yt.bindTexture(34067,null)}}}}function O(yt,Xt,Yt,br,hr,ut){function lt(zt,fr,dr){this.target=zt,this.texture=fr,this.renderbuffer=dr;var pr=zt=0;fr?(zt=fr.width,pr=fr.height):dr&&(zt=dr.width,pr=dr.height),this.width=zt,this.height=pr}function xt(zt){zt&&(zt.texture&&zt.texture._texture.decRef(),zt.renderbuffer&&zt.renderbuffer._renderbuffer.decRef())}function Tt(zt,fr,dr){zt&&(zt.texture?zt.texture._texture.refCount+=1:zt.renderbuffer._renderbuffer.refCount+=1)}function Et(zt,fr){fr&&(fr.texture?yt.framebufferTexture2D(36160,zt,fr.target,fr.texture._texture.texture,0):yt.framebufferRenderbuffer(36160,zt,36161,fr.renderbuffer._renderbuffer.renderbuffer))}function At(zt){var fr=3553,dr=null,pr=null,vr=zt;return typeof zt=="object"&&(vr=zt.data,"target"in zt&&(fr=zt.target|0)),zt=vr._reglType,zt==="texture2d"||zt==="textureCube"?dr=vr:zt==="renderbuffer"&&(pr=vr,fr=36161),new lt(fr,dr,pr)}function Ft(zt,fr,dr,pr,vr){return dr?(zt=br.create2D({width:zt,height:fr,format:pr,type:vr}),zt._texture.refCount=0,new lt(3553,zt,null)):(zt=hr.create({width:zt,height:fr,format:pr}),zt._renderbuffer.refCount=0,new lt(36161,null,zt))}function Ht(zt){return zt&&(zt.texture||zt.renderbuffer)}function $t(zt,fr,dr){zt&&(zt.texture?zt.texture.resize(fr,dr):zt.renderbuffer&&zt.renderbuffer.resize(fr,dr),zt.width=fr,zt.height=dr)}function Qt(){this.id=lr++,rr[this.id]=this,this.framebuffer=yt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function or(zt){zt.colorAttachments.forEach(xt),xt(zt.depthAttachment),xt(zt.stencilAttachment),xt(zt.depthStencilAttachment)}function Er(zt){yt.deleteFramebuffer(zt.framebuffer),zt.framebuffer=null,ut.framebufferCount--,delete rr[zt.id]}function Ze(zt){var fr;yt.bindFramebuffer(36160,zt.framebuffer);var dr=zt.colorAttachments;for(fr=0;fr<dr.length;++fr)Et(36064+fr,dr[fr]);for(fr=dr.length;fr<Yt.maxColorAttachments;++fr)yt.framebufferTexture2D(36160,36064+fr,3553,null,0);yt.framebufferTexture2D(36160,33306,3553,null,0),yt.framebufferTexture2D(36160,36096,3553,null,0),yt.framebufferTexture2D(36160,36128,3553,null,0),Et(36096,zt.depthAttachment),Et(36128,zt.stencilAttachment),Et(33306,zt.depthStencilAttachment),yt.checkFramebufferStatus(36160),yt.isContextLost(),yt.bindFramebuffer(36160,Dt.next?Dt.next.framebuffer:null),Dt.cur=Dt.next,yt.getError()}function Ye(zt,fr){function dr(vr,Vr){var _r,kr=0,pn=0,Xr=!0,_n=!0;_r=null;var Dn=!0,xr="rgba",Ar="uint8",Or=1,Br=null,qr=null,vn=null,fn=!1;typeof vr=="number"?(kr=vr|0,pn=Vr|0||kr):vr?("shape"in vr?(pn=vr.shape,kr=pn[0],pn=pn[1]):("radius"in vr&&(kr=pn=vr.radius),"width"in vr&&(kr=vr.width),"height"in vr&&(pn=vr.height)),("color"in vr||"colors"in vr)&&(_r=vr.color||vr.colors),_r||("colorCount"in vr&&(Or=vr.colorCount|0),"colorTexture"in vr&&(Dn=!!vr.colorTexture,xr="rgba4"),"colorType"in vr&&(Ar=vr.colorType,!Dn)&&(Ar==="half float"||Ar==="float16"?xr="rgba16f":(Ar==="float"||Ar==="float32")&&(xr="rgba32f")),"colorFormat"in vr&&(xr=vr.colorFormat,0<=It.indexOf(xr)?Dn=!0:0<=Zt.indexOf(xr)&&(Dn=!1))),("depthTexture"in vr||"depthStencilTexture"in vr)&&(fn=!(!vr.depthTexture&&!vr.depthStencilTexture)),"depth"in vr&&(typeof vr.depth=="boolean"?Xr=vr.depth:(Br=vr.depth,_n=!1)),"stencil"in vr&&(typeof vr.stencil=="boolean"?_n=vr.stencil:(qr=vr.stencil,Xr=!1)),"depthStencil"in vr&&(typeof vr.depthStencil=="boolean"?Xr=_n=vr.depthStencil:(vn=vr.depthStencil,_n=Xr=!1))):kr=pn=1;var Tn=null,Pn=null,jn=null,qn=null;if(Array.isArray(_r))Tn=_r.map(At);else if(_r)Tn=[At(_r)];else for(Tn=Array(Or),_r=0;_r<Or;++_r)Tn[_r]=Ft(kr,pn,Dn,xr,Ar);for(kr=kr||Tn[0].width,pn=pn||Tn[0].height,Br?Pn=At(Br):Xr&&!_n&&(Pn=Ft(kr,pn,fn,"depth","uint32")),qr?jn=At(qr):_n&&!Xr&&(jn=Ft(kr,pn,!1,"stencil","uint8")),vn?qn=At(vn):!Br&&!qr&&_n&&Xr&&(qn=Ft(kr,pn,fn,"depth stencil","depth stencil")),Xr=null,_r=0;_r<Tn.length;++_r)Tt(Tn[_r]),Tn[_r]&&Tn[_r].texture&&(_n=Ue[Tn[_r].texture._texture.format]*nt[Tn[_r].texture._texture.type],Xr===null&&(Xr=_n));return Tt(Pn),Tt(jn),Tt(qn),or(pr),pr.width=kr,pr.height=pn,pr.colorAttachments=Tn,pr.depthAttachment=Pn,pr.stencilAttachment=jn,pr.depthStencilAttachment=qn,dr.color=Tn.map(Ht),dr.depth=Ht(Pn),dr.stencil=Ht(jn),dr.depthStencil=Ht(qn),dr.width=pr.width,dr.height=pr.height,Ze(pr),dr}var pr=new Qt;return ut.framebufferCount++,dr(zt,fr),se(dr,{resize:function(vr,Vr){var _r=Math.max(vr|0,1),kr=Math.max(Vr|0||_r,1);if(_r===pr.width&&kr===pr.height)return dr;for(var pn=pr.colorAttachments,Xr=0;Xr<pn.length;++Xr)$t(pn[Xr],_r,kr);return $t(pr.depthAttachment,_r,kr),$t(pr.stencilAttachment,_r,kr),$t(pr.depthStencilAttachment,_r,kr),pr.width=dr.width=_r,pr.height=dr.height=kr,Ze(pr),dr},_reglType:"framebuffer",_framebuffer:pr,destroy:function(){Er(pr),or(pr)},use:function(vr){Dt.setFBO({framebuffer:dr},vr)}})}var Dt={cur:null,next:null,dirty:!1,setFBO:null},It=["rgba"],Zt=["rgba4","rgb565","rgb5 a1"];Xt.ext_srgb&&Zt.push("srgba"),Xt.ext_color_buffer_half_float&&Zt.push("rgba16f","rgb16f"),Xt.webgl_color_buffer_float&&Zt.push("rgba32f");var nr=["uint8"];Xt.oes_texture_half_float&&nr.push("half float","float16"),Xt.oes_texture_float&&nr.push("float","float32");var lr=0,rr={};return se(Dt,{getFramebuffer:function(zt){return typeof zt=="function"&&zt._reglType==="framebuffer"&&(zt=zt._framebuffer,zt instanceof Qt)?zt:null},create:Ye,createCube:function(zt){function fr(pr){var vr,Vr={color:null},_r=0,kr=null;vr="rgba";var pn="uint8",Xr=1;if(typeof pr=="number"?_r=pr|0:pr?("shape"in pr?_r=pr.shape[0]:("radius"in pr&&(_r=pr.radius|0),"width"in pr?_r=pr.width|0:"height"in pr&&(_r=pr.height|0)),("color"in pr||"colors"in pr)&&(kr=pr.color||pr.colors),kr||("colorCount"in pr&&(Xr=pr.colorCount|0),"colorType"in pr&&(pn=pr.colorType),"colorFormat"in pr&&(vr=pr.colorFormat)),"depth"in pr&&(Vr.depth=pr.depth),"stencil"in pr&&(Vr.stencil=pr.stencil),"depthStencil"in pr&&(Vr.depthStencil=pr.depthStencil)):_r=1,kr)if(Array.isArray(kr))for(pr=[],vr=0;vr<kr.length;++vr)pr[vr]=kr[vr];else pr=[kr];else for(pr=Array(Xr),kr={radius:_r,format:vr,type:pn},vr=0;vr<Xr;++vr)pr[vr]=br.createCube(kr);for(Vr.color=Array(pr.length),vr=0;vr<pr.length;++vr)Xr=pr[vr],_r=_r||Xr.width,Vr.color[vr]={target:34069,data:pr[vr]};for(vr=0;6>vr;++vr){for(Xr=0;Xr<pr.length;++Xr)Vr.color[Xr].target=34069+vr;0<vr&&(Vr.depth=dr[0].depth,Vr.stencil=dr[0].stencil,Vr.depthStencil=dr[0].depthStencil),dr[vr]?dr[vr](Vr):dr[vr]=Ye(Vr)}return se(fr,{width:_r,height:_r,color:pr})}var dr=Array(6);return fr(zt),se(fr,{faces:dr,resize:function(pr){var vr=pr|0;if(vr===fr.width)return fr;var Vr=fr.color;for(pr=0;pr<Vr.length;++pr)Vr[pr].resize(vr);for(pr=0;6>pr;++pr)dr[pr].resize(vr);return fr.width=fr.height=vr,fr},_reglType:"framebufferCube",destroy:function(){dr.forEach(function(pr){pr.destroy()})}})},clear:function(){Te(rr).forEach(Er)},restore:function(){Dt.cur=null,Dt.next=null,Dt.dirty=!0,Te(rr).forEach(function(zt){zt.framebuffer=yt.createFramebuffer(),Ze(zt)})}})}function Y(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function B(yt,Xt,Yt,br,hr,ut,lt){function xt(Ze){if(Ze!==Er.currentVAO){var Ye=Xt.oes_vertex_array_object;Ze?Ye.bindVertexArrayOES(Ze.vao):Ye.bindVertexArrayOES(null),Er.currentVAO=Ze}}function Tt(Ze){if(Ze!==Er.currentVAO){if(Ze)Ze.bindAttrs();else{for(var Ye=Xt.angle_instanced_arrays,Dt=0;Dt<$t.length;++Dt){var It=$t[Dt];It.buffer?(yt.enableVertexAttribArray(Dt),It.buffer.bind(),yt.vertexAttribPointer(Dt,It.size,It.type,It.normalized,It.stride,It.offfset),Ye&&It.divisor&&Ye.vertexAttribDivisorANGLE(Dt,It.divisor)):(yt.disableVertexAttribArray(Dt),yt.vertexAttrib4f(Dt,It.x,It.y,It.z,It.w))}lt.elements?yt.bindBuffer(34963,lt.elements.buffer.buffer):yt.bindBuffer(34963,null)}Er.currentVAO=Ze}}function Et(){Te(or).forEach(function(Ze){Ze.destroy()})}function At(){this.id=++Qt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ze=Xt.oes_vertex_array_object;this.vao=Ze?Ze.createVertexArrayOES():null,or[this.id]=this,this.buffers=[]}function Ft(){Xt.oes_vertex_array_object&&Te(or).forEach(function(Ze){Ze.refresh()})}var Ht=Yt.maxAttributes,$t=Array(Ht);for(Yt=0;Yt<Ht;++Yt)$t[Yt]=new Y;var Qt=0,or={},Er={Record:Y,scope:{},state:$t,currentVAO:null,targetVAO:null,restore:Xt.oes_vertex_array_object?Ft:function(){},createVAO:function(Ze){function Ye(It){var Zt;Array.isArray(It)?(Zt=It,Dt.elements&&Dt.ownsElements&&Dt.elements.destroy(),Dt.elements=null,Dt.ownsElements=!1,Dt.offset=0,Dt.count=0,Dt.instances=-1,Dt.primitive=4):(It.elements?(Zt=It.elements,Dt.ownsElements?(typeof Zt=="function"&&Zt._reglType==="elements"?Dt.elements.destroy():Dt.elements(Zt),Dt.ownsElements=!1):ut.getElements(It.elements)?(Dt.elements=It.elements,Dt.ownsElements=!1):(Dt.elements=ut.create(It.elements),Dt.ownsElements=!0)):(Dt.elements=null,Dt.ownsElements=!1),Zt=It.attributes,Dt.offset=0,Dt.count=-1,Dt.instances=-1,Dt.primitive=4,Dt.elements&&(Dt.count=Dt.elements._elements.vertCount,Dt.primitive=Dt.elements._elements.primType),"offset"in It&&(Dt.offset=It.offset|0),"count"in It&&(Dt.count=It.count|0),"instances"in It&&(Dt.instances=It.instances|0),"primitive"in It&&(Dt.primitive=$e[It.primitive])),It={};var nr=Dt.attributes;nr.length=Zt.length;for(var lr=0;lr<Zt.length;++lr){var rr=Zt[lr],zt=nr[lr]=new Y,fr=rr.data||rr;if(Array.isArray(fr)||Ce(fr)||v(fr)){var dr;Dt.buffers[lr]&&(dr=Dt.buffers[lr],Ce(fr)&&dr._buffer.byteLength>=fr.byteLength?dr.subdata(fr):(dr.destroy(),Dt.buffers[lr]=null)),Dt.buffers[lr]||(dr=Dt.buffers[lr]=hr.create(rr,34962,!1,!0)),zt.buffer=hr.getBuffer(dr),zt.size=zt.buffer.dimension|0,zt.normalized=!1,zt.type=zt.buffer.dtype,zt.offset=0,zt.stride=0,zt.divisor=0,zt.state=1,It[lr]=1}else hr.getBuffer(rr)?(zt.buffer=hr.getBuffer(rr),zt.size=zt.buffer.dimension|0,zt.normalized=!1,zt.type=zt.buffer.dtype,zt.offset=0,zt.stride=0,zt.divisor=0,zt.state=1):hr.getBuffer(rr.buffer)?(zt.buffer=hr.getBuffer(rr.buffer),zt.size=(+rr.size||zt.buffer.dimension)|0,zt.normalized=!!rr.normalized||!1,zt.type="type"in rr?We[rr.type]:zt.buffer.dtype,zt.offset=(rr.offset||0)|0,zt.stride=(rr.stride||0)|0,zt.divisor=(rr.divisor||0)|0,zt.state=1):"x"in rr&&(zt.x=+rr.x||0,zt.y=+rr.y||0,zt.z=+rr.z||0,zt.w=+rr.w||0,zt.state=2)}for(dr=0;dr<Dt.buffers.length;++dr)!It[dr]&&Dt.buffers[dr]&&(Dt.buffers[dr].destroy(),Dt.buffers[dr]=null);return Dt.refresh(),Ye}var Dt=new At;return br.vaoCount+=1,Ye.destroy=function(){for(var It=0;It<Dt.buffers.length;++It)Dt.buffers[It]&&Dt.buffers[It].destroy();Dt.buffers.length=0,Dt.ownsElements&&(Dt.elements.destroy(),Dt.elements=null,Dt.ownsElements=!1),Dt.destroy()},Ye._vao=Dt,Ye._reglType="vao",Ye(Ze)},getVAO:function(Ze){return typeof Ze=="function"&&Ze._vao?Ze._vao:null},destroyBuffer:function(Ze){for(var Ye=0;Ye<$t.length;++Ye){var Dt=$t[Ye];Dt.buffer===Ze&&(yt.disableVertexAttribArray(Ye),Dt.buffer=null)}},setVAO:Xt.oes_vertex_array_object?xt:Tt,clear:Xt.oes_vertex_array_object?Et:function(){}};return At.prototype.bindAttrs=function(){for(var Ze=Xt.angle_instanced_arrays,Ye=this.attributes,Dt=0;Dt<Ye.length;++Dt){var It=Ye[Dt];It.buffer?(yt.enableVertexAttribArray(Dt),yt.bindBuffer(34962,It.buffer.buffer),yt.vertexAttribPointer(Dt,It.size,It.type,It.normalized,It.stride,It.offset),Ze&&It.divisor&&Ze.vertexAttribDivisorANGLE(Dt,It.divisor)):(yt.disableVertexAttribArray(Dt),yt.vertexAttrib4f(Dt,It.x,It.y,It.z,It.w))}for(Ze=Ye.length;Ze<Ht;++Ze)yt.disableVertexAttribArray(Ze);(Ze=ut.getElements(this.elements))?yt.bindBuffer(34963,Ze.buffer.buffer):yt.bindBuffer(34963,null)},At.prototype.refresh=function(){var Ze=Xt.oes_vertex_array_object;Ze&&(Ze.bindVertexArrayOES(this.vao),this.bindAttrs(),Er.currentVAO=null,Ze.bindVertexArrayOES(null))},At.prototype.destroy=function(){if(this.vao){var Ze=Xt.oes_vertex_array_object;this===Er.currentVAO&&(Er.currentVAO=null,Ze.bindVertexArrayOES(null)),Ze.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),or[this.id]&&(delete or[this.id],--br.vaoCount)},Er}function W(yt,Xt,Yt,br){function hr(Qt,or,Er,Ze){this.name=Qt,this.id=or,this.location=Er,this.info=Ze}function ut(Qt,or){for(var Er=0;Er<Qt.length;++Er)if(Qt[Er].id===or.id){Qt[Er].location=or.location;return}Qt.push(or)}function lt(Qt,or,Er){Er=Qt===35632?Et:At;var Ze=Er[or];if(!Ze){var Ye=Xt.str(or),Ze=yt.createShader(Qt);yt.shaderSource(Ze,Ye),yt.compileShader(Ze),Er[or]=Ze}return Ze}function xt(Qt,or){this.id=$t++,this.fragId=Qt,this.vertId=or,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,br.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Tt(Qt,or,Er){var Ze;Ze=lt(35632,Qt.fragId);var Ye=lt(35633,Qt.vertId);if(or=Qt.program=yt.createProgram(),yt.attachShader(or,Ze),yt.attachShader(or,Ye),Er)for(Ze=0;Ze<Er.length;++Ze)Ye=Er[Ze],yt.bindAttribLocation(or,Ye[0],Ye[1]);yt.linkProgram(or),Ye=yt.getProgramParameter(or,35718),br.profile&&(Qt.stats.uniformsCount=Ye);var Dt=Qt.uniforms;for(Ze=0;Ze<Ye;++Ze)if(Er=yt.getActiveUniform(or,Ze))if(1<Er.size)for(var It=0;It<Er.size;++It){var Zt=Er.name.replace("[0]","["+It+"]");ut(Dt,new hr(Zt,Xt.id(Zt),yt.getUniformLocation(or,Zt),Er))}else ut(Dt,new hr(Er.name,Xt.id(Er.name),yt.getUniformLocation(or,Er.name),Er));for(Ye=yt.getProgramParameter(or,35721),br.profile&&(Qt.stats.attributesCount=Ye),Qt=Qt.attributes,Ze=0;Ze<Ye;++Ze)(Er=yt.getActiveAttrib(or,Ze))&&ut(Qt,new hr(Er.name,Xt.id(Er.name),yt.getAttribLocation(or,Er.name),Er))}var Et={},At={},Ft={},Ht=[],$t=0;return br.profile&&(Yt.getMaxUniformsCount=function(){var Qt=0;return Ht.forEach(function(or){or.stats.uniformsCount>Qt&&(Qt=or.stats.uniformsCount)}),Qt},Yt.getMaxAttributesCount=function(){var Qt=0;return Ht.forEach(function(or){or.stats.attributesCount>Qt&&(Qt=or.stats.attributesCount)}),Qt}),{clear:function(){var Qt=yt.deleteShader.bind(yt);Te(Et).forEach(Qt),Et={},Te(At).forEach(Qt),At={},Ht.forEach(function(or){yt.deleteProgram(or.program)}),Ht.length=0,Ft={},Yt.shaderCount=0},program:function(Qt,or,Er,Ze){var Ye=Ft[or];Ye||(Ye=Ft[or]={});var Dt=Ye[Qt];if(Dt&&(Dt.refCount++,!Ze))return Dt;var It=new xt(or,Qt);return Yt.shaderCount++,Tt(It,Er,Ze),Dt||(Ye[Qt]=It),Ht.push(It),se(It,{destroy:function(){if(It.refCount--,0>=It.refCount){yt.deleteProgram(It.program);var Zt=Ht.indexOf(It);Ht.splice(Zt,1),Yt.shaderCount--}0>=Ye[It.vertId].refCount&&(yt.deleteShader(At[It.vertId]),delete At[It.vertId],delete Ft[It.fragId][It.vertId]),Object.keys(Ft[It.fragId]).length||(yt.deleteShader(Et[It.fragId]),delete Et[It.fragId],delete Ft[It.fragId])}})},restore:function(){Et={},At={};for(var Qt=0;Qt<Ht.length;++Qt)Tt(Ht[Qt],null,Ht[Qt].attributes.map(function(or){return[or.location,or.name]}))},shader:lt,frag:-1,vert:-1}}function H(yt,Xt,Yt,br,hr,ut,lt){function xt(Et){var At;At=Xt.next===null?5121:Xt.next.colorAttachments[0].texture._texture.type;var Ft=0,Ht=0,$t=br.framebufferWidth,Qt=br.framebufferHeight,or=null;return Ce(Et)?or=Et:Et&&(Ft=Et.x|0,Ht=Et.y|0,$t=(Et.width||br.framebufferWidth-Ft)|0,Qt=(Et.height||br.framebufferHeight-Ht)|0,or=Et.data||null),Yt(),Et=$t*Qt*4,or||(At===5121?or=new Uint8Array(Et):At===5126&&(or=or||new Float32Array(Et))),yt.pixelStorei(3333,4),yt.readPixels(Ft,Ht,$t,Qt,6408,At,or),or}function Tt(Et){var At;return Xt.setFBO({framebuffer:Et.framebuffer},function(){At=xt(Et)}),At}return function(Et){return Et&&"framebuffer"in Et?Tt(Et):xt(Et)}}function U(yt){for(var Xt=Array(yt.length>>2),br=0;br<Xt.length;br++)Xt[br]=0;for(br=0;br<8*yt.length;br+=8)Xt[br>>5]|=(yt.charCodeAt(br/8)&255)<<24-br%32;var Yt=8*yt.length;yt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var br=Array(64),hr,ut,lt,xt,Tt,Et,At,Ft,Ht,$t,Qt;for(Xt[Yt>>5]|=128<<24-Yt%32,Xt[(Yt+64>>9<<4)+15]=Yt,Ft=0;Ft<Xt.length;Ft+=16){for(Yt=yt[0],hr=yt[1],ut=yt[2],lt=yt[3],xt=yt[4],Tt=yt[5],Et=yt[6],At=yt[7],Ht=0;64>Ht;Ht++){if(16>Ht)br[Ht]=Xt[Ht+Ft];else{$t=Ht,Qt=br[Ht-2],Qt=re(Qt,17)^re(Qt,19)^Qt>>>10,Qt=ae(Qt,br[Ht-7]);var or;or=br[Ht-15],or=re(or,7)^re(or,18)^or>>>3,br[$t]=ae(ae(Qt,or),br[Ht-16])}$t=xt,$t=re($t,6)^re($t,11)^re($t,25),$t=ae(ae(ae(ae(At,$t),xt&Tt^~xt&Et),ot[Ht]),br[Ht]),At=Yt,At=re(At,2)^re(At,13)^re(At,22),Qt=ae(At,Yt&hr^Yt&ut^hr&ut),At=Et,Et=Tt,Tt=xt,xt=ae(lt,$t),lt=ut,ut=hr,hr=Yt,Yt=ae($t,Qt)}yt[0]=ae(Yt,yt[0]),yt[1]=ae(hr,yt[1]),yt[2]=ae(ut,yt[2]),yt[3]=ae(lt,yt[3]),yt[4]=ae(xt,yt[4]),yt[5]=ae(Tt,yt[5]),yt[6]=ae(Et,yt[6]),yt[7]=ae(At,yt[7])}for(Xt="",br=0;br<32*yt.length;br+=8)Xt+=String.fromCharCode(yt[br>>5]>>>24-br%32&255);return Xt}function G(yt){for(var Xt="",Yt,br=0;br<yt.length;br++)Yt=yt.charCodeAt(br),Xt+="0123456789abcdef".charAt(Yt>>>4&15)+"0123456789abcdef".charAt(Yt&15);return Xt}function j(yt){for(var Xt="",Yt=-1,br,hr;++Yt<yt.length;)br=yt.charCodeAt(Yt),hr=Yt+1<yt.length?yt.charCodeAt(Yt+1):0,55296<=br&&56319>=br&&56320<=hr&&57343>=hr&&(br=65536+((br&1023)<<10)+(hr&1023),Yt++),127>=br?Xt+=String.fromCharCode(br):2047>=br?Xt+=String.fromCharCode(192|br>>>6&31,128|br&63):65535>=br?Xt+=String.fromCharCode(224|br>>>12&15,128|br>>>6&63,128|br&63):2097151>=br&&(Xt+=String.fromCharCode(240|br>>>18&7,128|br>>>12&63,128|br>>>6&63,128|br&63));return Xt}function re(yt,Xt){return yt>>>Xt|yt<<32-Xt}function ae(yt,Xt){var Yt=(yt&65535)+(Xt&65535);return(yt>>16)+(Xt>>16)+(Yt>>16)<<16|Yt&65535}function ue(yt){return Array.prototype.slice.call(yt)}function de(yt){return ue(yt).join("")}function ee(yt){function Xt(){var At=[],Ft=[];return se(function(){At.push.apply(At,ue(arguments))},{def:function(){var Ht="v"+hr++;return Ft.push(Ht),0<arguments.length&&(At.push(Ht,"="),At.push.apply(At,ue(arguments)),At.push(";")),Ht},toString:function(){return de([0<Ft.length?"var "+Ft.join(",")+";":"",de(At)])}})}function Yt(){function At(or,Er){Ht(or,Er,"=",Ft.def(or,Er),";")}var Ft=Xt(),Ht=Xt(),$t=Ft.toString,Qt=Ht.toString;return se(function(){Ft.apply(Ft,ue(arguments))},{def:Ft.def,entry:Ft,exit:Ht,save:At,set:function(or,Er,Ze){At(or,Er),Ft(or,Er,"=",Ze,";")},toString:function(){return $t()+Qt()}})}var br=yt&&yt.cache,hr=0,ut=[],lt=[],xt=[],Tt=Xt(),Et={};return{global:Tt,link:function(At,Ft){var Ht=Ft&&Ft.stable;if(!Ht){for(var $t=0;$t<lt.length;++$t)if(lt[$t]===At&&!xt[$t])return ut[$t]}return $t="g"+hr++,ut.push($t),lt.push(At),xt.push(Ht),$t},block:Xt,proc:function(At,Ft){function Ht(){var Er="a"+$t.length;return $t.push(Er),Er}var $t=[];Ft=Ft||0;for(var Qt=0;Qt<Ft;++Qt)Ht();var Qt=Yt(),or=Qt.toString;return Et[At]=se(Qt,{arg:Ht,toString:function(){return de(["function(",$t.join(),"){",or(),"}"])}})},scope:Yt,cond:function(){var At=de(arguments),Ft=Yt(),Ht=Yt(),$t=Ft.toString,Qt=Ht.toString;return se(Ft,{then:function(){return Ft.apply(Ft,ue(arguments)),this},else:function(){return Ht.apply(Ht,ue(arguments)),this},toString:function(){var or=Qt();return or&&(or="else{"+or+"}"),de(["if(",At,"){",$t(),"}",or])}})},compile:function(){var At=['"use strict";',Tt,"return {"];Object.keys(Et).forEach(function($t){At.push('"',$t,'":',Et[$t].toString(),",")}),At.push("}");var Ft=de(At).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ht;return br&&(Ht=G(U(j(Ft))),br[Ht])?br[Ht].apply(null,lt):(Ft=Function.apply(null,ut.concat(Ft)),br&&(br[Ht]=Ft),Ft.apply(null,lt))}}}function X(yt){return Array.isArray(yt)||Ce(yt)||v(yt)}function Q(yt){return yt.sort(function(Xt,Yt){return Xt==="viewport"?-1:Yt==="viewport"?1:Xt<Yt?-1:1})}function $(yt,Xt,Yt,br){this.thisDep=yt,this.contextDep=Xt,this.propDep=Yt,this.append=br}function ne(yt){return yt&&!(yt.thisDep||yt.contextDep||yt.propDep)}function fe(yt){return new $(!1,!1,!1,yt)}function te(yt,Xt){var Yt=yt.type;if(Yt===0)return Yt=yt.data.length,new $(!0,1<=Yt,2<=Yt,Xt);if(Yt===4)return Yt=yt.data,new $(Yt.thisDep,Yt.contextDep,Yt.propDep,Xt);if(Yt===5)return new $(!1,!1,!1,Xt);if(Yt===6){for(var br=Yt=!1,hr=!1,ut=0;ut<yt.data.length;++ut){var lt=yt.data[ut];lt.type===1?hr=!0:lt.type===2?br=!0:lt.type===3?Yt=!0:lt.type===0?(Yt=!0,lt=lt.data,1<=lt&&(br=!0),2<=lt&&(hr=!0)):lt.type===4&&(Yt=Yt||lt.data.thisDep,br=br||lt.data.contextDep,hr=hr||lt.data.propDep)}return new $(Yt,br,hr,Xt)}return new $(Yt===3,Yt===2,Yt===1,Xt)}function q(yt,Xt,Yt,br,hr,ut,lt,xt,Tt,Et,At,Ft,Ht,$t,Qt,or){function Er(jt){return jt.replace(".","_")}function Ze(jt,wr,an){var cn=Er(jt);En.push(jt),Nn[cn]=gn[cn]=!!an,Cn[cn]=wr}function Ye(jt,wr,an){var cn=Er(jt);En.push(jt),Array.isArray(an)?(gn[cn]=an.slice(),Nn[cn]=an.slice()):gn[cn]=Nn[cn]=an,Hn[cn]=wr}function Dt(){var jt=ee({cache:Qt}),wr=jt.link,an=jt.global;jt.id=ji++,jt.batchId="0";var cn=wr(ii),hn=jt.shared={props:"a0"};Object.keys(ii).forEach(function(Cr){hn[Cr]=an.def(cn,".",Cr)});var Ln=jt.next={},wn=jt.current={};Object.keys(Hn).forEach(function(Cr){Array.isArray(gn[Cr])&&(Ln[Cr]=an.def(hn.next,".",Cr),wn[Cr]=an.def(hn.current,".",Cr))});var un=jt.constants={};Object.keys(Pi).forEach(function(Cr){un[Cr]=an.def(JSON.stringify(Pi[Cr]))}),jt.invoke=function(Cr,zr){switch(zr.type){case 0:var dn=["this",hn.context,hn.props,jt.batchId];return Cr.def(wr(zr.data),".call(",dn.slice(0,Math.max(zr.data.length+1,4)),")");case 1:return Cr.def(hn.props,zr.data);case 2:return Cr.def(hn.context,zr.data);case 3:return Cr.def("this",zr.data);case 4:return zr.data.append(jt,Cr),zr.data.ref;case 5:return zr.data.toString();case 6:return zr.data.map(function(In){return jt.invoke(Cr,In)})}},jt.attribCache={};var Rr={};return jt.scopeAttrib=function(Cr){if(Cr=Xt.id(Cr),Cr in Rr)return Rr[Cr];var zr=Et.scope[Cr];return zr||(zr=Et.scope[Cr]=new ti),Rr[Cr]=wr(zr)},jt}function It(jt){var wr=jt.static;jt=jt.dynamic;var an;if("profile"in wr){var cn=!!wr.profile;an=fe(function(Ln,wn){return cn}),an.enable=cn}else if("profile"in jt){var hn=jt.profile;an=te(hn,function(Ln,wn){return Ln.invoke(wn,hn)})}return an}function Zt(jt,wr){var an=jt.static,cn=jt.dynamic;if("framebuffer"in an){var hn=an.framebuffer;return hn?(hn=xt.getFramebuffer(hn),fe(function(wn,un){var Rr=wn.link(hn),Cr=wn.shared;return un.set(Cr.framebuffer,".next",Rr),Cr=Cr.context,un.set(Cr,".framebufferWidth",Rr+".width"),un.set(Cr,".framebufferHeight",Rr+".height"),Rr})):fe(function(wn,un){var Rr=wn.shared;return un.set(Rr.framebuffer,".next","null"),Rr=Rr.context,un.set(Rr,".framebufferWidth",Rr+".drawingBufferWidth"),un.set(Rr,".framebufferHeight",Rr+".drawingBufferHeight"),"null"})}if("framebuffer"in cn){var Ln=cn.framebuffer;return te(Ln,function(wn,un){var zr=wn.invoke(un,Ln),Rr=wn.shared,Cr=Rr.framebuffer,zr=un.def(Cr,".getFramebuffer(",zr,")");return un.set(Cr,".next",zr),Rr=Rr.context,un.set(Rr,".framebufferWidth",zr+"?"+zr+".width:"+Rr+".drawingBufferWidth"),un.set(Rr,".framebufferHeight",zr+"?"+zr+".height:"+Rr+".drawingBufferHeight"),zr})}return null}function nr(jt,wr,an){function cn(un){if(un in hn){var Rr=hn[un];un=!0;var Cr=Rr.x|0,zr=Rr.y|0,dn,In;return"width"in Rr?dn=Rr.width|0:un=!1,"height"in Rr?In=Rr.height|0:un=!1,new $(!un&&wr&&wr.thisDep,!un&&wr&&wr.contextDep,!un&&wr&&wr.propDep,function(yn,zn){var $n=yn.shared.context,li=dn;"width"in Rr||(li=zn.def($n,".","framebufferWidth","-",Cr));var ai=In;return"height"in Rr||(ai=zn.def($n,".","framebufferHeight","-",zr)),[Cr,zr,li,ai]})}if(un in Ln){var Wn=Ln[un];return un=te(Wn,function(yn,zn){var di=yn.invoke(zn,Wn),$n=yn.shared.context,li=zn.def(di,".x|0"),ai=zn.def(di,".y|0"),oi=zn.def('"width" in ',di,"?",di,".width|0:","(",$n,".","framebufferWidth","-",li,")"),di=zn.def('"height" in ',di,"?",di,".height|0:","(",$n,".","framebufferHeight","-",ai,")");return[li,ai,oi,di]}),wr&&(un.thisDep=un.thisDep||wr.thisDep,un.contextDep=un.contextDep||wr.contextDep,un.propDep=un.propDep||wr.propDep),un}return wr?new $(wr.thisDep,wr.contextDep,wr.propDep,function(yn,zn){var $n=yn.shared.context;return[0,0,zn.def($n,".","framebufferWidth"),zn.def($n,".","framebufferHeight")]}):null}var hn=jt.static,Ln=jt.dynamic;if(jt=cn("viewport")){var wn=jt;jt=new $(jt.thisDep,jt.contextDep,jt.propDep,function(un,Rr){var Cr=wn.append(un,Rr),zr=un.shared.context;return Rr.set(zr,".viewportWidth",Cr[2]),Rr.set(zr,".viewportHeight",Cr[3]),Cr})}return{viewport:jt,scissor_box:cn("scissor.box")}}function lr(jt,wr){var an=jt.static;if(typeof an.frag=="string"&&typeof an.vert=="string"){if(0<Object.keys(wr.dynamic).length)return null;var an=wr.static,cn=Object.keys(an);if(0<cn.length&&typeof an[cn[0]]=="number"){for(var hn=[],Ln=0;Ln<cn.length;++Ln)hn.push([an[cn[Ln]]|0,cn[Ln]]);return hn}}return null}function rr(jt,wr,an){function cn(Cr){if(Cr in hn){var zr=Xt.id(hn[Cr]);return Cr=fe(function(){return zr}),Cr.id=zr,Cr}if(Cr in Ln){var dn=Ln[Cr];return te(dn,function(In,Wn){var yn=In.invoke(Wn,dn);return Wn.def(In.shared.strings,".id(",yn,")")})}return null}var hn=jt.static,Ln=jt.dynamic,wn=cn("frag"),un=cn("vert"),Rr=null;return ne(wn)&&ne(un)?(Rr=At.program(un.id,wn.id,null,an),jt=fe(function(Cr,zr){return Cr.link(Rr)})):jt=new $(wn&&wn.thisDep||un&&un.thisDep,wn&&wn.contextDep||un&&un.contextDep,wn&&wn.propDep||un&&un.propDep,function(Cr,zr){var dn=Cr.shared.shader,In;In=wn?wn.append(Cr,zr):zr.def(dn,".","frag");var Wn;return Wn=un?un.append(Cr,zr):zr.def(dn,".","vert"),zr.def(dn+".program("+Wn+","+In+")")}),{frag:wn,vert:un,progVar:jt,program:Rr}}function zt(jt,wr){function an(yn,zn){if(yn in cn){var $n=cn[yn]|0;return zn?Ln.offset=$n:Ln.instances=$n,fe(function(ai,oi){return zn&&(ai.OFFSET=$n),$n})}if(yn in hn){var li=hn[yn];return te(li,function(ai,oi){var di=ai.invoke(oi,li);return zn&&(ai.OFFSET=di),di})}if(zn){if(Rr)return fe(function(ai,oi){return ai.OFFSET=0});if(wn)return new $(un.thisDep,un.contextDep,un.propDep,function(ai,oi){return oi.def(ai.shared.vao+".currentVAO?"+ai.shared.vao+".currentVAO.offset:0")})}else if(wn)return new $(un.thisDep,un.contextDep,un.propDep,function(ai,oi){return oi.def(ai.shared.vao+".currentVAO?"+ai.shared.vao+".currentVAO.instances:-1")});return null}var cn=jt.static,hn=jt.dynamic,Ln={},wn=!1,un=function(){if("vao"in cn){var yn=cn.vao;return yn!==null&&Et.getVAO(yn)===null&&(yn=Et.createVAO(yn)),wn=!0,Ln.vao=yn,fe(function($n){var li=Et.getVAO(yn);return li?$n.link(li):"null"})}if("vao"in hn){wn=!0;var zn=hn.vao;return te(zn,function($n,li){var ai=$n.invoke(li,zn);return li.def($n.shared.vao+".getVAO("+ai+")")})}return null}(),Rr=!1,Cr=function(){if("elements"in cn){var yn=cn.elements;if(Ln.elements=yn,X(yn)){var zn=Ln.elements=ut.create(yn,!0),yn=ut.getElements(zn);Rr=!0}else yn&&(yn=ut.getElements(yn),Rr=!0);return zn=fe(function(li,ai){if(yn){var oi=li.link(yn);return li.ELEMENTS=oi}return li.ELEMENTS=null}),zn.value=yn,zn}if("elements"in hn){Rr=!0;var $n=hn.elements;return te($n,function(li,ai){var oi=li.shared,to=oi.isBufferArgs,oi=oi.elements,bo=li.invoke(ai,$n),di=ai.def("null"),to=ai.def(to,"(",bo,")"),bo=li.cond(to).then(di,"=",oi,".createStream(",bo,");").else(di,"=",oi,".getElements(",bo,");");return ai.entry(bo),ai.exit(li.cond(to).then(oi,".destroyStream(",di,");")),li.ELEMENTS=di})}return wn?new $(un.thisDep,un.contextDep,un.propDep,function(li,ai){return ai.def(li.shared.vao+".currentVAO?"+li.shared.elements+".getElements("+li.shared.vao+".currentVAO.elements):null")}):null}(),zr=an("offset",!0),dn=function(){if("primitive"in cn){var yn=cn.primitive;return Ln.primitive=yn,fe(function($n,li){return $e[yn]})}if("primitive"in hn){var zn=hn.primitive;return te(zn,function($n,li){var ai=$n.constants.primTypes,oi=$n.invoke(li,zn);return li.def(ai,"[",oi,"]")})}return Rr?ne(Cr)?Cr.value?fe(function($n,li){return li.def($n.ELEMENTS,".primType")}):fe(function(){return 4}):new $(Cr.thisDep,Cr.contextDep,Cr.propDep,function($n,li){var ai=$n.ELEMENTS;return li.def(ai,"?",ai,".primType:",4)}):wn?new $(un.thisDep,un.contextDep,un.propDep,function($n,li){return li.def($n.shared.vao+".currentVAO?"+$n.shared.vao+".currentVAO.primitive:4")}):null}(),In=function(){if("count"in cn){var yn=cn.count|0;return Ln.count=yn,fe(function(){return yn})}if("count"in hn){var zn=hn.count;return te(zn,function($n,li){return $n.invoke(li,zn)})}return Rr?ne(Cr)?Cr?zr?new $(zr.thisDep,zr.contextDep,zr.propDep,function($n,li){return li.def($n.ELEMENTS,".vertCount-",$n.OFFSET)}):fe(function($n,li){return li.def($n.ELEMENTS,".vertCount")}):fe(function(){return-1}):new $(Cr.thisDep||zr.thisDep,Cr.contextDep||zr.contextDep,Cr.propDep||zr.propDep,function($n,li){var ai=$n.ELEMENTS;return $n.OFFSET?li.def(ai,"?",ai,".vertCount-",$n.OFFSET,":-1"):li.def(ai,"?",ai,".vertCount:-1")}):wn?new $(un.thisDep,un.contextDep,un.propDep,function($n,li){return li.def($n.shared.vao,".currentVAO?",$n.shared.vao,".currentVAO.count:-1")}):null}(),Wn=an("instances",!1);return{elements:Cr,primitive:dn,count:In,instances:Wn,offset:zr,vao:un,vaoActive:wn,elementsActive:Rr,static:Ln}}function fr(jt,wr){var an=jt.static,cn=jt.dynamic,hn={};return En.forEach(function(Ln){function wn(Rr,Cr){if(Ln in an){var zr=Rr(an[Ln]);hn[un]=fe(function(){return zr})}else if(Ln in cn){var dn=cn[Ln];hn[un]=te(dn,function(In,Wn){return Cr(In,Wn,In.invoke(Wn,dn))})}}var un=Er(Ln);switch(Ln){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return wn(function(Rr){return Rr},function(Rr,Cr,zr){return zr});case"depth.func":return wn(function(Rr){return Vt[Rr]},function(Rr,Cr,zr){return Cr.def(Rr.constants.compareFuncs,"[",zr,"]")});case"depth.range":return wn(function(Rr){return Rr},function(Rr,Cr,zr){return Rr=Cr.def("+",zr,"[0]"),Cr=Cr.def("+",zr,"[1]"),[Rr,Cr]});case"blend.func":return wn(function(Rr){return[Ut["srcRGB"in Rr?Rr.srcRGB:Rr.src],Ut["dstRGB"in Rr?Rr.dstRGB:Rr.dst],Ut["srcAlpha"in Rr?Rr.srcAlpha:Rr.src],Ut["dstAlpha"in Rr?Rr.dstAlpha:Rr.dst]]},function(Rr,Cr,zr){function dn(zn,$n){return Cr.def('"',zn,$n,'" in ',zr,"?",zr,".",zn,$n,":",zr,".",zn)}Rr=Rr.constants.blendFuncs;var In=dn("src","RGB"),yn=dn("dst","RGB"),In=Cr.def(Rr,"[",In,"]"),Wn=Cr.def(Rr,"[",dn("src","Alpha"),"]"),yn=Cr.def(Rr,"[",yn,"]");return Rr=Cr.def(Rr,"[",dn("dst","Alpha"),"]"),[In,yn,Wn,Rr]});case"blend.equation":return wn(function(Rr){if(typeof Rr=="string")return[ei[Rr],ei[Rr]];if(typeof Rr=="object")return[ei[Rr.rgb],ei[Rr.alpha]]},function(Rr,Cr,zr){var dn=Rr.constants.blendEquations,In=Cr.def(),Wn=Cr.def();return Rr=Rr.cond("typeof ",zr,'==="string"'),Rr.then(In,"=",Wn,"=",dn,"[",zr,"];"),Rr.else(In,"=",dn,"[",zr,".rgb];",Wn,"=",dn,"[",zr,".alpha];"),Cr(Rr),[In,Wn]});case"blend.color":return wn(function(Rr){return l(4,function(Cr){return+Rr[Cr]})},function(Rr,Cr,zr){return l(4,function(dn){return Cr.def("+",zr,"[",dn,"]")})});case"stencil.mask":return wn(function(Rr){return Rr|0},function(Rr,Cr,zr){return Cr.def(zr,"|0")});case"stencil.func":return wn(function(Rr){return[Vt[Rr.cmp||"keep"],Rr.ref||0,"mask"in Rr?Rr.mask:-1]},function(Rr,Cr,zr){Rr=Cr.def('"cmp" in ',zr,"?",Rr.constants.compareFuncs,"[",zr,".cmp]",":",7680);var dn=Cr.def(zr,".ref|0");return Cr=Cr.def('"mask" in ',zr,"?",zr,".mask|0:-1"),[Rr,dn,Cr]});case"stencil.opFront":case"stencil.opBack":return wn(function(Rr){return[Ln==="stencil.opBack"?1029:1028,Lt[Rr.fail||"keep"],Lt[Rr.zfail||"keep"],Lt[Rr.zpass||"keep"]]},function(Rr,Cr,zr){function dn(Wn){return Cr.def('"',Wn,'" in ',zr,"?",In,"[",zr,".",Wn,"]:",7680)}var In=Rr.constants.stencilOps;return[Ln==="stencil.opBack"?1029:1028,dn("fail"),dn("zfail"),dn("zpass")]});case"polygonOffset.offset":return wn(function(Rr){return[Rr.factor|0,Rr.units|0]},function(Rr,Cr,zr){return Rr=Cr.def(zr,".factor|0"),Cr=Cr.def(zr,".units|0"),[Rr,Cr]});case"cull.face":return wn(function(Rr){var Cr=0;return Rr==="front"?Cr=1028:Rr==="back"&&(Cr=1029),Cr},function(Rr,Cr,zr){return Cr.def(zr,'==="front"?',1028,":",1029)});case"lineWidth":return wn(function(Rr){return Rr},function(Rr,Cr,zr){return zr});case"frontFace":return wn(function(Rr){return Kt[Rr]},function(Rr,Cr,zr){return Cr.def(zr+'==="cw"?2304:2305')});case"colorMask":return wn(function(Rr){return Rr.map(function(Cr){return!!Cr})},function(Rr,Cr,zr){return l(4,function(dn){return"!!"+zr+"["+dn+"]"})});case"sample.coverage":return wn(function(Rr){return["value"in Rr?Rr.value:1,!!Rr.invert]},function(Rr,Cr,zr){return Rr=Cr.def('"value" in ',zr,"?+",zr,".value:1"),Cr=Cr.def("!!",zr,".invert"),[Rr,Cr]})}}),hn}function dr(jt,wr){var an=jt.static,cn=jt.dynamic,hn={};return Object.keys(an).forEach(function(Ln){var wn=an[Ln],un;if(typeof wn=="number"||typeof wn=="boolean")un=fe(function(){return wn});else if(typeof wn=="function"){var Rr=wn._reglType;Rr==="texture2d"||Rr==="textureCube"?un=fe(function(Cr){return Cr.link(wn)}):(Rr==="framebuffer"||Rr==="framebufferCube")&&(un=fe(function(Cr){return Cr.link(wn.color[0])}))}else S(wn)&&(un=fe(function(Cr){return Cr.global.def("[",l(wn.length,function(zr){return wn[zr]}),"]")}));un.value=wn,hn[Ln]=un}),Object.keys(cn).forEach(function(Ln){var wn=cn[Ln];hn[Ln]=te(wn,function(un,Rr){return un.invoke(Rr,wn)})}),hn}function pr(jt,wr){var an=jt.static,cn=jt.dynamic,hn={};return Object.keys(an).forEach(function(Ln){var wn=an[Ln],un=Xt.id(Ln),Rr=new ti;if(X(wn))Rr.state=1,Rr.buffer=hr.getBuffer(hr.create(wn,34962,!1,!0)),Rr.type=0;else{var Cr=hr.getBuffer(wn);if(Cr)Rr.state=1,Rr.buffer=Cr,Rr.type=0;else if("constant"in wn){var zr=wn.constant;Rr.buffer="null",Rr.state=2,typeof zr=="number"?Rr.x=zr:wt.forEach(function($n,li){li<zr.length&&(Rr[$n]=zr[li])})}else{var Cr=X(wn.buffer)?hr.getBuffer(hr.create(wn.buffer,34962,!1,!0)):hr.getBuffer(wn.buffer),dn=wn.offset|0,In=wn.stride|0,Wn=wn.size|0,yn=!!wn.normalized,zn=0;"type"in wn&&(zn=We[wn.type]),wn=wn.divisor|0,Rr.buffer=Cr,Rr.state=1,Rr.size=Wn,Rr.normalized=yn,Rr.type=zn||Cr.dtype,Rr.offset=dn,Rr.stride=In,Rr.divisor=wn}}hn[Ln]=fe(function($n,li){var ai=$n.attribCache;if(un in ai)return ai[un];var oi={isStream:!1};return Object.keys(Rr).forEach(function(di){oi[di]=Rr[di]}),Rr.buffer&&(oi.buffer=$n.link(Rr.buffer),oi.type=oi.type||oi.buffer+".dtype"),ai[un]=oi})}),Object.keys(cn).forEach(function(Ln){var wn=cn[Ln];hn[Ln]=te(wn,function(un,Rr){function Cr(ai){Rr(yn[ai],"=",zr,".",ai,"|0;")}var zr=un.invoke(Rr,wn),Wn=un.shared,dn=un.constants,In=Wn.isBufferArgs,Wn=Wn.buffer,yn={isStream:Rr.def(!1)},zn=new ti;zn.state=1,Object.keys(zn).forEach(function(ai){yn[ai]=Rr.def(""+zn[ai])});var $n=yn.buffer,li=yn.type;return Rr("if(",In,"(",zr,")){",yn.isStream,"=true;",$n,"=",Wn,".createStream(",34962,",",zr,");",li,"=",$n,".dtype;","}else{",$n,"=",Wn,".getBuffer(",zr,");","if(",$n,"){",li,"=",$n,".dtype;",'}else if("constant" in ',zr,"){",yn.state,"=",2,";","if(typeof "+zr+'.constant === "number"){',yn[wt[0]],"=",zr,".constant;",wt.slice(1).map(function(ai){return yn[ai]}).join("="),"=0;","}else{",wt.map(function(ai,oi){return yn[ai]+"="+zr+".constant.length>"+oi+"?"+zr+".constant["+oi+"]:0;"}).join(""),"}}else{","if(",In,"(",zr,".buffer)){",$n,"=",Wn,".createStream(",34962,",",zr,".buffer);","}else{",$n,"=",Wn,".getBuffer(",zr,".buffer);","}",li,'="type" in ',zr,"?",dn.glTypes,"[",zr,".type]:",$n,".dtype;",yn.normalized,"=!!",zr,".normalized;"),Cr("size"),Cr("offset"),Cr("stride"),Cr("divisor"),Rr("}}"),Rr.exit("if(",yn.isStream,"){",Wn,".destroyStream(",$n,");","}"),yn})}),hn}function vr(jt){var wr=jt.static,an=jt.dynamic,cn={};return Object.keys(wr).forEach(function(hn){var Ln=wr[hn];cn[hn]=fe(function(wn,un){return typeof Ln=="number"||typeof Ln=="boolean"?""+Ln:wn.link(Ln)})}),Object.keys(an).forEach(function(hn){var Ln=an[hn];cn[hn]=te(Ln,function(wn,un){return wn.invoke(un,Ln)})}),cn}function Vr(jt,wr,an,cn,hn){function Ln(zn){var $n=un[zn];$n&&(Cr[zn]=$n)}var wn=lr(jt,wr),In=Zt(jt),un=nr(jt,In),Rr=zt(jt),Cr=fr(jt),zr=rr(jt,hn,wn);Ln("viewport"),Ln(Er("scissor.box"));var dn=0<Object.keys(Cr).length,In={framebuffer:In,draw:Rr,shader:zr,state:Cr,dirty:dn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(In.profile=It(jt),In.uniforms=dr(an),In.drawVAO=In.scopeVAO=Rr.vao,!In.drawVAO&&zr.program&&!wn&&Yt.angle_instanced_arrays&&Rr.static.elements){var Wn=!0;if(jt=zr.program.attributes.map(function(zn){return zn=wr.static[zn],Wn=Wn&&!!zn,zn}),Wn&&0<jt.length){var yn=Et.getVAO(Et.createVAO({attributes:jt,elements:Rr.static.elements}));In.drawVAO=new $(null,null,null,function(zn,$n){return zn.link(yn)}),In.useVAO=!0}}return wn?In.useVAO=!0:In.attributes=pr(wr),In.context=vr(cn),In}function _r(jt,wr,an){var cn=jt.shared.context,hn=jt.scope();Object.keys(an).forEach(function(Ln){wr.save(cn,"."+Ln);var wn=an[Ln].append(jt,wr);Array.isArray(wn)?hn(cn,".",Ln,"=[",wn.join(),"];"):hn(cn,".",Ln,"=",wn,";")}),wr(hn)}function kr(jt,wr,an,cn){var un=jt.shared,hn=un.gl,Ln=un.framebuffer,wn;on&&(wn=wr.def(un.extensions,".webgl_draw_buffers"));var Rr=jt.constants,un=Rr.drawBuffer,Rr=Rr.backBuffer;jt=an?an.append(jt,wr):wr.def(Ln,".next"),cn||wr("if(",jt,"!==",Ln,".cur){"),wr("if(",jt,"){",hn,".bindFramebuffer(",36160,",",jt,".framebuffer);"),on&&wr(wn,".drawBuffersWEBGL(",un,"[",jt,".colorAttachments.length]);"),wr("}else{",hn,".bindFramebuffer(",36160,",null);"),on&&wr(wn,".drawBuffersWEBGL(",Rr,");"),wr("}",Ln,".cur=",jt,";"),cn||wr("}")}function pn(jt,wr,an){var cn=jt.shared,hn=cn.gl,Ln=jt.current,wn=jt.next,un=cn.current,Rr=cn.next,Cr=jt.cond(un,".dirty");En.forEach(function(zr){if(zr=Er(zr),!(zr in an.state)){var dn,In;if(zr in wn){dn=wn[zr],In=Ln[zr];var Wn=l(gn[zr].length,function(yn){return Cr.def(dn,"[",yn,"]")});Cr(jt.cond(Wn.map(function(yn,zn){return yn+"!=="+In+"["+zn+"]"}).join("||")).then(hn,".",Hn[zr],"(",Wn,");",Wn.map(function(yn,zn){return In+"["+zn+"]="+yn}).join(";"),";"))}else dn=Cr.def(Rr,".",zr),Wn=jt.cond(dn,"!==",un,".",zr),Cr(Wn),zr in Cn?Wn(jt.cond(dn).then(hn,".enable(",Cn[zr],");").else(hn,".disable(",Cn[zr],");"),un,".",zr,"=",dn,";"):Wn(hn,".",Hn[zr],"(",dn,");",un,".",zr,"=",dn,";")}}),Object.keys(an.state).length===0&&Cr(un,".dirty=false;"),wr(Cr)}function Xr(jt,wr,an,cn){var hn=jt.shared,Ln=jt.current,wn=hn.current,un=hn.gl,Rr;Q(Object.keys(an)).forEach(function(Cr){var zr=an[Cr];if(!cn||cn(zr)){var dn=zr.append(jt,wr);if(Cn[Cr]){var In=Cn[Cr];ne(zr)?(Rr=jt.link(dn,{stable:!0}),wr(jt.cond(Rr).then(un,".enable(",In,");").else(un,".disable(",In,");")),wr(wn,".",Cr,"=",Rr,";")):(wr(jt.cond(dn).then(un,".enable(",In,");").else(un,".disable(",In,");")),wr(wn,".",Cr,"=",dn,";"))}else if(S(dn)){var Wn=Ln[Cr];wr(un,".",Hn[Cr],"(",dn,");",dn.map(function(yn,zn){return Wn+"["+zn+"]="+yn}).join(";"),";")}else ne(zr)?(Rr=jt.link(dn,{stable:!0}),wr(un,".",Hn[Cr],"(",Rr,");",wn,".",Cr,"=",Rr,";")):wr(un,".",Hn[Cr],"(",dn,");",wn,".",Cr,"=",dn,";")}})}function _n(jt,wr){Mr&&(jt.instancing=wr.def(jt.shared.extensions,".angle_instanced_arrays"))}function Dn(jt,wr,an,cn,hn){function Ln(){return typeof performance>"u"?"Date.now()":"performance.now()"}function wn(zn){Wn=wr.def(),zn(Wn,"=",Ln(),";"),typeof hn=="string"?zn(zr,".count+=",hn,";"):zn(zr,".count++;"),$t&&(cn?(yn=wr.def(),zn(yn,"=",In,".getNumPendingQueries();")):zn(In,".beginQuery(",zr,");"))}function un(zn){zn(zr,".cpuTime+=",Ln(),"-",Wn,";"),$t&&(cn?zn(In,".pushScopeStats(",yn,",",In,".getNumPendingQueries(),",zr,");"):zn(In,".endQuery();"))}function Rr(zn){var $n=wr.def(dn,".profile");wr(dn,".profile=",zn,";"),wr.exit(dn,".profile=",$n,";")}var Cr=jt.shared,zr=jt.stats,dn=Cr.current,In=Cr.timer;an=an.profile;var Wn,yn;if(an){if(ne(an)){an.enable?(wn(wr),un(wr.exit),Rr("true")):Rr("false");return}an=an.append(jt,wr),Rr(an)}else an=wr.def(dn,".profile");Cr=jt.block(),wn(Cr),wr("if(",an,"){",Cr,"}"),jt=jt.block(),un(jt),wr.exit("if(",an,"){",jt,"}")}function xr(jt,wr,an,cn,hn){function Ln(Rr){switch(Rr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function wn(Rr,Cr,zr){function dn(){wr("if(!",zn,".buffer){",Wn,".enableVertexAttribArray(",yn,");}");var oi=zr.type,di;di=zr.size?wr.def(zr.size,"||",Cr):Cr,wr("if(",zn,".type!==",oi,"||",zn,".size!==",di,"||",ai.map(function(to){return zn+"."+to+"!=="+zr[to]}).join("||"),"){",Wn,".bindBuffer(",34962,",",$n,".buffer);",Wn,".vertexAttribPointer(",[yn,di,oi,zr.normalized,zr.stride,zr.offset],");",zn,".type=",oi,";",zn,".size=",di,";",ai.map(function(to){return zn+"."+to+"="+zr[to]+";"}).join(""),"}"),Mr&&(oi=zr.divisor,wr("if(",zn,".divisor!==",oi,"){",jt.instancing,".vertexAttribDivisorANGLE(",[yn,oi],");",zn,".divisor=",oi,";}"))}function In(){wr("if(",zn,".buffer){",Wn,".disableVertexAttribArray(",yn,");",zn,".buffer=null;","}if(",wt.map(function(oi,di){return zn+"."+oi+"!=="+li[di]}).join("||"),"){",Wn,".vertexAttrib4f(",yn,",",li,");",wt.map(function(oi,di){return zn+"."+oi+"="+li[di]+";"}).join(""),"}")}var Wn=un.gl,yn=wr.def(Rr,".location"),zn=wr.def(un.attributes,"[",yn,"]");Rr=zr.state;var $n=zr.buffer,li=[zr.x,zr.y,zr.z,zr.w],ai=["buffer","normalized","offset","stride"];Rr===1?dn():Rr===2?In():(wr("if(",Rr,"===",1,"){"),dn(),wr("}else{"),In(),wr("}"))}var un=jt.shared;cn.forEach(function(Rr){var Cr=Rr.name,zr=an.attributes[Cr],dn;if(zr){if(!hn(zr))return;dn=zr.append(jt,wr)}else{if(!hn(ar))return;var In=jt.scopeAttrib(Cr);dn={},Object.keys(new ti).forEach(function(Wn){dn[Wn]=wr.def(In,".",Wn)})}wn(jt.link(Rr),Ln(Rr.info.type),dn)})}function Ar(jt,wr,an,cn,hn,Ln){for(var wn=jt.shared,un=wn.gl,Rr,Cr=0;Cr<cn.length;++Cr){var Wn=cn[Cr],zr=Wn.name,dn=Wn.info.type,In=an.uniforms[zr],Wn=jt.link(Wn)+".location",yn;if(In){if(!hn(In))continue;if(ne(In)){if(zr=In.value,dn===35678||dn===35680)dn=jt.link(zr._texture||zr.color[0]._texture),wr(un,".uniform1i(",Wn,",",dn+".bind());"),wr.exit(dn,".unbind();");else if(dn===35674||dn===35675||dn===35676)zr=jt.global.def("new Float32Array(["+Array.prototype.slice.call(zr)+"])"),In=2,dn===35675?In=3:dn===35676&&(In=4),wr(un,".uniformMatrix",In,"fv(",Wn,",false,",zr,");");else{switch(dn){case 5126:Rr="1f";break;case 35664:Rr="2f";break;case 35665:Rr="3f";break;case 35666:Rr="4f";break;case 35670:Rr="1i";break;case 5124:Rr="1i";break;case 35671:Rr="2i";break;case 35667:Rr="2i";break;case 35672:Rr="3i";break;case 35668:Rr="3i";break;case 35673:Rr="4i";break;case 35669:Rr="4i"}wr(un,".uniform",Rr,"(",Wn,",",S(zr)?Array.prototype.slice.call(zr):zr,");")}continue}else yn=In.append(jt,wr)}else{if(!hn(ar))continue;yn=wr.def(wn.uniforms,"[",Xt.id(zr),"]")}switch(dn===35678?wr("if(",yn,"&&",yn,'._reglType==="framebuffer"){',yn,"=",yn,".color[0];","}"):dn===35680&&wr("if(",yn,"&&",yn,'._reglType==="framebufferCube"){',yn,"=",yn,".color[0];","}"),zr=1,dn){case 35678:case 35680:dn=wr.def(yn,"._texture"),wr(un,".uniform1i(",Wn,",",dn,".bind());"),wr.exit(dn,".unbind();");continue;case 5124:case 35670:Rr="1i";break;case 35667:case 35671:Rr="2i",zr=2;break;case 35668:case 35672:Rr="3i",zr=3;break;case 35669:case 35673:Rr="4i",zr=4;break;case 5126:Rr="1f";break;case 35664:Rr="2f",zr=2;break;case 35665:Rr="3f",zr=3;break;case 35666:Rr="4f",zr=4;break;case 35674:Rr="Matrix2fv";break;case 35675:Rr="Matrix3fv";break;case 35676:Rr="Matrix4fv"}if(Rr.charAt(0)==="M"){wr(un,".uniform",Rr,"(",Wn,",");var Wn=Math.pow(dn-35674+2,2),zn=jt.global.def("new Float32Array(",Wn,")");Array.isArray(yn)?wr("false,(",l(Wn,function(ai){return zn+"["+ai+"]="+yn[ai]}),",",zn,")"):wr("false,(Array.isArray(",yn,")||",yn," instanceof Float32Array)?",yn,":(",l(Wn,function(ai){return zn+"["+ai+"]="+yn+"["+ai+"]"}),",",zn,")"),wr(");")}else{if(1<zr){for(var dn=[],$n=[],In=0;In<zr;++In)Array.isArray(yn)?$n.push(yn[In]):$n.push(wr.def(yn+"["+In+"]")),Ln&&dn.push(wr.def());Ln&&wr("if(!",jt.batchId,"||",dn.map(function(li,ai){return li+"!=="+$n[ai]}).join("||"),"){",dn.map(function(li,ai){return li+"="+$n[ai]+";"}).join("")),wr(un,".uniform",Rr,"(",Wn,",",$n.join(","),");")}else Ln&&(dn=wr.def(),wr("if(!",jt.batchId,"||",dn,"!==",yn,"){",dn,"=",yn,";")),wr(un,".uniform",Rr,"(",Wn,",",yn,");");Ln&&wr("}")}}}function Or(jt,wr,an,cn){function hn(oi){var di=zr[oi];return di?di.contextDep&&cn.contextDynamic||di.propDep?di.append(jt,an):di.append(jt,wr):wr.def(Cr,".",oi)}function Ln(){function oi(){an($n,".drawElementsInstancedANGLE(",[In,yn,li,Wn+"<<(("+li+"-5121)>>1)",zn],");")}function di(){an($n,".drawArraysInstancedANGLE(",[In,Wn,yn,zn],");")}dn&&dn!=="null"?ai?oi():(an("if(",dn,"){"),oi(),an("}else{"),di(),an("}")):di()}function wn(){function oi(){an(Rr+".drawElements("+[In,yn,li,Wn+"<<(("+li+"-5121)>>1)"]+");")}function di(){an(Rr+".drawArrays("+[In,Wn,yn]+");")}dn&&dn!=="null"?ai?oi():(an("if(",dn,"){"),oi(),an("}else{"),di(),an("}")):di()}var un=jt.shared,Rr=un.gl,Cr=un.draw,zr=cn.draw,dn=function(){var oi=zr.elements,di=wr;return oi?((oi.contextDep&&cn.contextDynamic||oi.propDep)&&(di=an),oi=oi.append(jt,di),zr.elementsActive&&di("if("+oi+")"+Rr+".bindBuffer(34963,"+oi+".buffer.buffer);")):(oi=di.def(),di(oi,"=",Cr,".","elements",";","if(",oi,"){",Rr,".bindBuffer(",34963,",",oi,".buffer.buffer);}","else if(",un.vao,".currentVAO){",oi,"=",jt.shared.elements+".getElements("+un.vao,".currentVAO.elements);",nn?"":"if("+oi+")"+Rr+".bindBuffer(34963,"+oi+".buffer.buffer);","}")),oi}(),In=hn("primitive"),Wn=hn("offset"),yn=function(){var oi=zr.count,di=wr;return oi?((oi.contextDep&&cn.contextDynamic||oi.propDep)&&(di=an),oi=oi.append(jt,di)):oi=di.def(Cr,".","count"),oi}();if(typeof yn=="number"){if(yn===0)return}else an("if(",yn,"){"),an.exit("}");var zn,$n;Mr&&(zn=hn("instances"),$n=jt.instancing);var li=dn+".type",ai=zr.elements&&ne(zr.elements)&&!zr.vaoActive;Mr&&(typeof zn!="number"||0<=zn)?typeof zn=="string"?(an("if(",zn,">0){"),Ln(),an("}else if(",zn,"<0){"),wn(),an("}")):Ln():wn()}function Br(jt,wr,an,cn,hn){return wr=Dt(),hn=wr.proc("body",hn),Mr&&(wr.instancing=hn.def(wr.shared.extensions,".angle_instanced_arrays")),jt(wr,hn,an,cn),wr.compile().body}function qr(jt,wr,an,cn){_n(jt,wr),an.useVAO?an.drawVAO?wr(jt.shared.vao,".setVAO(",an.drawVAO.append(jt,wr),");"):wr(jt.shared.vao,".setVAO(",jt.shared.vao,".targetVAO);"):(wr(jt.shared.vao,".setVAO(null);"),xr(jt,wr,an,cn.attributes,function(){return!0})),Ar(jt,wr,an,cn.uniforms,function(){return!0},!1),Or(jt,wr,wr,an)}function vn(jt,wr){var an=jt.proc("draw",1);_n(jt,an),_r(jt,an,wr.context),kr(jt,an,wr.framebuffer),pn(jt,an,wr),Xr(jt,an,wr.state),Dn(jt,an,wr,!1,!0);var cn=wr.shader.progVar.append(jt,an);if(an(jt.shared.gl,".useProgram(",cn,".program);"),wr.shader.program)qr(jt,an,wr,wr.shader.program);else{an(jt.shared.vao,".setVAO(null);");var hn=jt.global.def("{}"),Ln=an.def(cn,".id"),wn=an.def(hn,"[",Ln,"]");an(jt.cond(wn).then(wn,".call(this,a0);").else(wn,"=",hn,"[",Ln,"]=",jt.link(function(un){return Br(qr,jt,wr,un,1)}),"(",cn,");",wn,".call(this,a0);"))}0<Object.keys(wr.state).length&&an(jt.shared.current,".dirty=true;"),jt.shared.vao&&an(jt.shared.vao,".setVAO(null);")}function fn(jt,wr,an,cn){function hn(){return!0}jt.batchId="a1",_n(jt,wr),xr(jt,wr,an,cn.attributes,hn),Ar(jt,wr,an,cn.uniforms,hn,!1),Or(jt,wr,wr,an)}function Tn(jt,wr,an,cn){function hn(dn){return dn.contextDep&&wn||dn.propDep}function Ln(dn){return!hn(dn)}_n(jt,wr);var wn=an.contextDep,un=wr.def(),Rr=wr.def();jt.shared.props=Rr,jt.batchId=un;var Cr=jt.scope(),zr=jt.scope();wr(Cr.entry,"for(",un,"=0;",un,"<","a1",";++",un,"){",Rr,"=","a0","[",un,"];",zr,"}",Cr.exit),an.needsContext&&_r(jt,zr,an.context),an.needsFramebuffer&&kr(jt,zr,an.framebuffer),Xr(jt,zr,an.state,hn),an.profile&&hn(an.profile)&&Dn(jt,zr,an,!1,!0),cn?(an.useVAO?an.drawVAO?hn(an.drawVAO)?zr(jt.shared.vao,".setVAO(",an.drawVAO.append(jt,zr),");"):Cr(jt.shared.vao,".setVAO(",an.drawVAO.append(jt,Cr),");"):Cr(jt.shared.vao,".setVAO(",jt.shared.vao,".targetVAO);"):(Cr(jt.shared.vao,".setVAO(null);"),xr(jt,Cr,an,cn.attributes,Ln),xr(jt,zr,an,cn.attributes,hn)),Ar(jt,Cr,an,cn.uniforms,Ln,!1),Ar(jt,zr,an,cn.uniforms,hn,!0),Or(jt,Cr,zr,an)):(wr=jt.global.def("{}"),cn=an.shader.progVar.append(jt,zr),Rr=zr.def(cn,".id"),Cr=zr.def(wr,"[",Rr,"]"),zr(jt.shared.gl,".useProgram(",cn,".program);","if(!",Cr,"){",Cr,"=",wr,"[",Rr,"]=",jt.link(function(dn){return Br(fn,jt,an,dn,2)}),"(",cn,");}",Cr,".call(this,a0[",un,"],",un,");"))}function Pn(jt,wr){function an(Cr){return Cr.contextDep&&hn||Cr.propDep}var cn=jt.proc("batch",2);jt.batchId="0",_n(jt,cn);var hn=!1,Ln=!0;Object.keys(wr.context).forEach(function(Cr){hn=hn||wr.context[Cr].propDep}),hn||(_r(jt,cn,wr.context),Ln=!1);var wn=wr.framebuffer,un=!1;if(wn?(wn.propDep?hn=un=!0:wn.contextDep&&hn&&(un=!0),un||kr(jt,cn,wn)):kr(jt,cn,null),wr.state.viewport&&wr.state.viewport.propDep&&(hn=!0),pn(jt,cn,wr),Xr(jt,cn,wr.state,function(Cr){return!an(Cr)}),wr.profile&&an(wr.profile)||Dn(jt,cn,wr,!1,"a1"),wr.contextDep=hn,wr.needsContext=Ln,wr.needsFramebuffer=un,Ln=wr.shader.progVar,Ln.contextDep&&hn||Ln.propDep)Tn(jt,cn,wr,null);else if(Ln=Ln.append(jt,cn),cn(jt.shared.gl,".useProgram(",Ln,".program);"),wr.shader.program)Tn(jt,cn,wr,wr.shader.program);else{cn(jt.shared.vao,".setVAO(null);");var wn=jt.global.def("{}"),un=cn.def(Ln,".id"),Rr=cn.def(wn,"[",un,"]");cn(jt.cond(Rr).then(Rr,".call(this,a0,a1);").else(Rr,"=",wn,"[",un,"]=",jt.link(function(dn){return Br(Tn,jt,wr,dn,2)}),"(",Ln,");",Rr,".call(this,a0,a1);"))}0<Object.keys(wr.state).length&&cn(jt.shared.current,".dirty=true;"),jt.shared.vao&&cn(jt.shared.vao,".setVAO(null);")}function jn(jt,wr){function an(un){var Rr=wr.shader[un];Rr&&(Rr=Rr.append(jt,cn),isNaN(Rr)?cn.set(hn.shader,"."+un,Rr):cn.set(hn.shader,"."+un,jt.link(Rr,{stable:!0})))}var cn=jt.proc("scope",3);jt.batchId="a2";var hn=jt.shared,Ln=hn.current;if(_r(jt,cn,wr.context),wr.framebuffer&&wr.framebuffer.append(jt,cn),Q(Object.keys(wr.state)).forEach(function(un){var Rr=wr.state[un],Cr=Rr.append(jt,cn);S(Cr)?Cr.forEach(function(zr,dn){isNaN(zr)?cn.set(jt.next[un],"["+dn+"]",zr):cn.set(jt.next[un],"["+dn+"]",jt.link(zr,{stable:!0}))}):ne(Rr)?cn.set(hn.next,"."+un,jt.link(Cr,{stable:!0})):cn.set(hn.next,"."+un,Cr)}),Dn(jt,cn,wr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(un){var Rr=wr.draw[un];Rr&&(Rr=Rr.append(jt,cn),isNaN(Rr)?cn.set(hn.draw,"."+un,Rr):cn.set(hn.draw,"."+un,jt.link(Rr),{stable:!0}))}),Object.keys(wr.uniforms).forEach(function(un){var Rr=wr.uniforms[un].append(jt,cn);Array.isArray(Rr)&&(Rr="["+Rr.map(function(Cr){return isNaN(Cr)?Cr:jt.link(Cr,{stable:!0})})+"]"),cn.set(hn.uniforms,"["+jt.link(Xt.id(un),{stable:!0})+"]",Rr)}),Object.keys(wr.attributes).forEach(function(un){var Rr=wr.attributes[un].append(jt,cn),Cr=jt.scopeAttrib(un);Object.keys(new ti).forEach(function(zr){cn.set(Cr,"."+zr,Rr[zr])})}),wr.scopeVAO){var wn=wr.scopeVAO.append(jt,cn);isNaN(wn)?cn.set(hn.vao,".targetVAO",wn):cn.set(hn.vao,".targetVAO",jt.link(wn,{stable:!0}))}an("vert"),an("frag"),0<Object.keys(wr.state).length&&(cn(Ln,".dirty=true;"),cn.exit(Ln,".dirty=true;")),cn("a1(",jt.shared.context,",a0,",jt.batchId,");")}function qn(jt){if(typeof jt=="object"&&!S(jt)){for(var wr=Object.keys(jt),an=0;an<wr.length;++an)if(we.isDynamic(jt[wr[an]]))return!0;return!1}}function si(jt,wr,an){function cn(dn,In){wn.forEach(function(Wn){var yn=hn[Wn];we.isDynamic(yn)&&(yn=dn.invoke(In,yn),In(zr,".",Wn,"=",yn,";"))})}var hn=wr.static[an];if(hn&&qn(hn)){var Ln=jt.global,wn=Object.keys(hn),un=!1,Rr=!1,Cr=!1,zr=jt.global.def("{}");wn.forEach(function(dn){var In=hn[dn];if(we.isDynamic(In))typeof In=="function"&&(In=hn[dn]=we.unbox(In)),dn=te(In,null),un=un||dn.thisDep,Cr=Cr||dn.propDep,Rr=Rr||dn.contextDep;else{switch(Ln(zr,".",dn,"="),typeof In){case"number":Ln(In);break;case"string":Ln('"',In,'"');break;case"object":Array.isArray(In)&&Ln("[",In.join(),"]");break;default:Ln(jt.link(In))}Ln(";")}}),wr.dynamic[an]=new we.DynamicVariable(4,{thisDep:un,contextDep:Rr,propDep:Cr,ref:zr,append:cn}),delete wr.static[an]}}var ti=Et.Record,ei={add:32774,subtract:32778,"reverse subtract":32779};Yt.ext_blend_minmax&&(ei.min=32775,ei.max=32776);var Mr=Yt.angle_instanced_arrays,on=Yt.webgl_draw_buffers,nn=Yt.oes_vertex_array_object,gn={dirty:!0,profile:or.profile},Nn={},En=[],Cn={},Hn={};Ze("dither",3024),Ze("blend.enable",3042),Ye("blend.color","blendColor",[0,0,0,0]),Ye("blend.equation","blendEquationSeparate",[32774,32774]),Ye("blend.func","blendFuncSeparate",[1,0,1,0]),Ze("depth.enable",2929,!0),Ye("depth.func","depthFunc",513),Ye("depth.range","depthRange",[0,1]),Ye("depth.mask","depthMask",!0),Ye("colorMask","colorMask",[!0,!0,!0,!0]),Ze("cull.enable",2884),Ye("cull.face","cullFace",1029),Ye("frontFace","frontFace",2305),Ye("lineWidth","lineWidth",1),Ze("polygonOffset.enable",32823),Ye("polygonOffset.offset","polygonOffset",[0,0]),Ze("sample.alpha",32926),Ze("sample.enable",32928),Ye("sample.coverage","sampleCoverage",[1,!1]),Ze("stencil.enable",2960),Ye("stencil.mask","stencilMask",-1),Ye("stencil.func","stencilFunc",[519,0,-1]),Ye("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ye("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ze("scissor.enable",3089),Ye("scissor.box","scissor",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]),Ye("viewport","viewport",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]);var ii={gl:yt,context:Ht,strings:Xt,next:Nn,current:gn,draw:Ft,elements:ut,buffer:hr,shader:At,attributes:Et.state,vao:Et,uniforms:Tt,framebuffer:xt,extensions:Yt,timer:$t,isBufferArgs:X},Pi={primTypes:$e,compareFuncs:Vt,blendFuncs:Ut,blendEquations:ei,stencilOps:Lt,glTypes:We,orientationType:Kt};on&&(Pi.backBuffer=[1029],Pi.drawBuffer=l(br.maxDrawbuffers,function(jt){return jt===0?[0]:l(jt,function(wr){return 36064+wr})}));var ji=0;return{next:Nn,current:gn,procs:function(){var jt=Dt(),wr=jt.proc("poll"),an=jt.proc("refresh"),cn=jt.block();wr(cn),an(cn);var Rr=jt.shared,hn=Rr.gl,Ln=Rr.next,wn=Rr.current;cn(wn,".dirty=false;"),kr(jt,wr),kr(jt,an,null,!0);var un;Mr&&(un=jt.link(Mr)),Yt.oes_vertex_array_object&&an(jt.link(Yt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Rr=an.def(Rr.attributes),Cr=an.def(0),zr=jt.cond(Cr,".buffer");zr.then(hn,".enableVertexAttribArray(i);",hn,".bindBuffer(",34962,",",Cr,".buffer.buffer);",hn,".vertexAttribPointer(i,",Cr,".size,",Cr,".type,",Cr,".normalized,",Cr,".stride,",Cr,".offset);").else(hn,".disableVertexAttribArray(i);",hn,".vertexAttrib4f(i,",Cr,".x,",Cr,".y,",Cr,".z,",Cr,".w);",Cr,".buffer=null;");var dn=jt.link(br.maxAttributes,{stable:!0});return an("for(var i=0;i<",dn,";++i){",Cr,"=",Rr,"[i];",zr,"}"),Mr&&an("for(var i=0;i<",dn,";++i){",un,".vertexAttribDivisorANGLE(i,",Rr,"[i].divisor);","}"),an(jt.shared.vao,".currentVAO=null;",jt.shared.vao,".setVAO(",jt.shared.vao,".targetVAO);"),Object.keys(Cn).forEach(function(In){var Wn=Cn[In],yn=cn.def(Ln,".",In),zn=jt.block();zn("if(",yn,"){",hn,".enable(",Wn,")}else{",hn,".disable(",Wn,")}",wn,".",In,"=",yn,";"),an(zn),wr("if(",yn,"!==",wn,".",In,"){",zn,"}")}),Object.keys(Hn).forEach(function(In){var Wn=Hn[In],yn=gn[In],zn,$n,li=jt.block();li(hn,".",Wn,"("),S(yn)?(Wn=yn.length,zn=jt.global.def(Ln,".",In),$n=jt.global.def(wn,".",In),li(l(Wn,function(ai){return zn+"["+ai+"]"}),");",l(Wn,function(ai){return $n+"["+ai+"]="+zn+"["+ai+"];"}).join("")),wr("if(",l(Wn,function(ai){return zn+"["+ai+"]!=="+$n+"["+ai+"]"}).join("||"),"){",li,"}")):(zn=cn.def(Ln,".",In),$n=cn.def(wn,".",In),li(zn,");",wn,".",In,"=",zn,";"),wr("if(",zn,"!==",$n,"){",li,"}")),an(li)}),jt.compile()}(),compile:function(jt,wr,an,cn,hn){var Ln=Dt();Ln.stats=Ln.link(hn),Object.keys(wr.static).forEach(function(un){si(Ln,wr,un)}),_t.forEach(function(un){si(Ln,jt,un)});var wn=Vr(jt,wr,an,cn,Ln);return wn.shader.program&&(wn.shader.program.attributes.sort(function(un,Rr){return un.name<Rr.name?-1:1}),wn.shader.program.uniforms.sort(function(un,Rr){return un.name<Rr.name?-1:1})),vn(Ln,wn),jn(Ln,wn),Pn(Ln,wn),se(Ln.compile(),{destroy:function(){wn.shader.program.destroy()}})}}}function he(yt,Xt){for(var Yt=0;Yt<yt.length;++Yt)if(yt[Yt]===Xt)return Yt;return-1}var se=function(yt,Xt){for(var Yt=Object.keys(Xt),br=0;br<Yt.length;++br)yt[Yt[br]]=Xt[Yt[br]];return yt},pe=0,we={DynamicVariable:F,define:function(yt,Xt){return new F(yt,h(Xt+""))},isDynamic:function(yt){return typeof yt=="function"&&!yt._reglType||yt instanceof F},unbox:E,accessor:h},Ee={next:typeof requestAnimationFrame=="function"?function(yt){return requestAnimationFrame(yt)}:function(yt){return setTimeout(yt,16)},cancel:typeof cancelAnimationFrame=="function"?function(yt){return cancelAnimationFrame(yt)}:clearTimeout},Me=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Be=f();Be.zero=f();var Ne=function(yt,Xt){var Yt=1;Xt.ext_texture_filter_anisotropic&&(Yt=yt.getParameter(34047));var br=1,hr=1;Xt.webgl_draw_buffers&&(br=yt.getParameter(34852),hr=yt.getParameter(36063));var ut=!!Xt.oes_texture_float;if(ut){ut=yt.createTexture(),yt.bindTexture(3553,ut),yt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var lt=yt.createFramebuffer();if(yt.bindFramebuffer(36160,lt),yt.framebufferTexture2D(36160,36064,3553,ut,0),yt.bindTexture(3553,null),yt.checkFramebufferStatus(36160)!==36053)ut=!1;else{yt.viewport(0,0,1,1),yt.clearColor(1,0,0,1),yt.clear(16384);var xt=Be.allocType(5126,4);yt.readPixels(0,0,1,1,6408,5126,xt),yt.getError()?ut=!1:(yt.deleteFramebuffer(lt),yt.deleteTexture(ut),ut=xt[0]===1),Be.freeType(xt)}}return xt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(xt=yt.createTexture(),lt=Be.allocType(5121,36),yt.activeTexture(33984),yt.bindTexture(34067,xt),yt.texImage2D(34069,0,6408,3,3,0,6408,5121,lt),Be.freeType(lt),yt.bindTexture(34067,null),yt.deleteTexture(xt),xt=!yt.getError()),{colorBits:[yt.getParameter(3410),yt.getParameter(3411),yt.getParameter(3412),yt.getParameter(3413)],depthBits:yt.getParameter(3414),stencilBits:yt.getParameter(3415),subpixelBits:yt.getParameter(3408),extensions:Object.keys(Xt).filter(function(Tt){return!!Xt[Tt]}),maxAnisotropic:Yt,maxDrawbuffers:br,maxColorAttachments:hr,pointSizeDims:yt.getParameter(33901),lineWidthDims:yt.getParameter(33902),maxViewportDims:yt.getParameter(3386),maxCombinedTextureUnits:yt.getParameter(35661),maxCubeMapSize:yt.getParameter(34076),maxRenderbufferSize:yt.getParameter(34024),maxTextureUnits:yt.getParameter(34930),maxTextureSize:yt.getParameter(3379),maxAttributes:yt.getParameter(34921),maxVertexUniforms:yt.getParameter(36347),maxVertexTextureUnits:yt.getParameter(35660),maxVaryingVectors:yt.getParameter(36348),maxFragmentUniforms:yt.getParameter(36349),glsl:yt.getParameter(35724),renderer:yt.getParameter(7937),vendor:yt.getParameter(7936),version:yt.getParameter(7938),readFloat:ut,npotTextureCube:xt}},Ce=function(yt){return yt instanceof Uint8Array||yt instanceof Uint16Array||yt instanceof Uint32Array||yt instanceof Int8Array||yt instanceof Int16Array||yt instanceof Int32Array||yt instanceof Float32Array||yt instanceof Float64Array||yt instanceof Uint8ClampedArray},Te=function(yt){return Object.keys(yt).map(function(Xt){return yt[Xt]})},Le={shape:function(yt){for(var Xt=[];yt.length;yt=yt[0])Xt.push(yt.length);return Xt},flatten:function(yt,Xt,Yt,br){var hr=1;if(Xt.length)for(var ut=0;ut<Xt.length;++ut)hr*=Xt[ut];else hr=0;switch(Yt=br||Be.allocType(Yt,hr),Xt.length){case 0:break;case 1:for(br=Xt[0],Xt=0;Xt<br;++Xt)Yt[Xt]=yt[Xt];break;case 2:for(br=Xt[0],Xt=Xt[1],ut=hr=0;ut<br;++ut)for(var lt=yt[ut],xt=0;xt<Xt;++xt)Yt[hr++]=lt[xt];break;case 3:c(yt,Xt[0],Xt[1],Xt[2],Yt,0);break;default:x(yt,Xt,0,Yt,0)}return Yt}},Ve={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},We={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Fe={dynamic:35048,stream:35040,static:35044},Ge=Le.flatten,it=Le.shape,qe=[];qe[5120]=1,qe[5122]=2,qe[5124]=4,qe[5121]=1,qe[5123]=2,qe[5125]=4,qe[5126]=4;var $e={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},tt=new Float32Array(1),vt=new Uint32Array(tt.buffer),dt=[9984,9986,9985,9987],gt=[0,6409,6410,6407,6408],Mt={};Mt[6409]=Mt[6406]=Mt[6402]=1,Mt[34041]=Mt[6410]=2,Mt[6407]=Mt[35904]=3,Mt[6408]=Mt[35906]=4;var Ct=D("HTMLCanvasElement"),Wt=D("OffscreenCanvas"),Xe=D("CanvasRenderingContext2D"),ke=D("ImageBitmap"),Ie=D("HTMLImageElement"),Oe=D("HTMLVideoElement"),_e=Object.keys(Ve).concat([Ct,Wt,Xe,ke,Ie,Oe]),Ae=[];Ae[5121]=1,Ae[5126]=4,Ae[36193]=2,Ae[5123]=2,Ae[5125]=4;var ce=[];ce[32854]=2,ce[32855]=2,ce[36194]=2,ce[34041]=4,ce[33776]=.5,ce[33777]=.5,ce[33778]=1,ce[33779]=1,ce[35986]=.5,ce[35987]=1,ce[34798]=1,ce[35840]=.5,ce[35841]=.25,ce[35842]=.5,ce[35843]=.25,ce[36196]=.5;var be=[];be[32854]=2,be[32855]=2,be[36194]=2,be[33189]=2,be[36168]=1,be[34041]=4,be[35907]=4,be[34836]=16,be[34842]=8,be[34843]=6;var Re=function(yt,Xt,Yt,br,hr){function ut(Ft){this.id=Et++,this.refCount=1,this.renderbuffer=Ft,this.format=32854,this.height=this.width=0,hr.profile&&(this.stats={size:0})}function lt(Ft){var Ht=Ft.renderbuffer;yt.bindRenderbuffer(36161,null),yt.deleteRenderbuffer(Ht),Ft.renderbuffer=null,Ft.refCount=0,delete At[Ft.id],br.renderbufferCount--}var xt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Xt.ext_srgb&&(xt.srgba=35907),Xt.ext_color_buffer_half_float&&(xt.rgba16f=34842,xt.rgb16f=34843),Xt.webgl_color_buffer_float&&(xt.rgba32f=34836);var Tt=[];Object.keys(xt).forEach(function(Ft){Tt[xt[Ft]]=Ft});var Et=0,At={};return ut.prototype.decRef=function(){0>=--this.refCount&&lt(this)},hr.profile&&(br.getTotalRenderbufferSize=function(){var Ft=0;return Object.keys(At).forEach(function(Ht){Ft+=At[Ht].stats.size}),Ft}),{create:function(Ft,Ht){function $t(or,Er){var Ze=0,Ye=0,Dt=32854;if(typeof or=="object"&&or?("shape"in or?(Ye=or.shape,Ze=Ye[0]|0,Ye=Ye[1]|0):("radius"in or&&(Ze=Ye=or.radius|0),"width"in or&&(Ze=or.width|0),"height"in or&&(Ye=or.height|0)),"format"in or&&(Dt=xt[or.format])):typeof or=="number"?(Ze=or|0,Ye=typeof Er=="number"?Er|0:Ze):or||(Ze=Ye=1),Ze!==Qt.width||Ye!==Qt.height||Dt!==Qt.format)return $t.width=Qt.width=Ze,$t.height=Qt.height=Ye,Qt.format=Dt,yt.bindRenderbuffer(36161,Qt.renderbuffer),yt.renderbufferStorage(36161,Dt,Ze,Ye),hr.profile&&(Qt.stats.size=be[Qt.format]*Qt.width*Qt.height),$t.format=Tt[Qt.format],$t}var Qt=new ut(yt.createRenderbuffer());return At[Qt.id]=Qt,br.renderbufferCount++,$t(Ft,Ht),$t.resize=function(or,Er){var Ze=or|0,Ye=Er|0||Ze;return Ze===Qt.width&&Ye===Qt.height||($t.width=Qt.width=Ze,$t.height=Qt.height=Ye,yt.bindRenderbuffer(36161,Qt.renderbuffer),yt.renderbufferStorage(36161,Qt.format,Ze,Ye),hr.profile&&(Qt.stats.size=be[Qt.format]*Qt.width*Qt.height)),$t},$t._reglType="renderbuffer",$t._renderbuffer=Qt,hr.profile&&($t.stats=Qt.stats),$t.destroy=function(){Qt.decRef()},$t},clear:function(){Te(At).forEach(lt)},restore:function(){Te(At).forEach(function(Ft){Ft.renderbuffer=yt.createRenderbuffer(),yt.bindRenderbuffer(36161,Ft.renderbuffer),yt.renderbufferStorage(36161,Ft.format,Ft.width,Ft.height)}),yt.bindRenderbuffer(36161,null)}}},Ue=[];Ue[6408]=4,Ue[6407]=3;var nt=[];nt[5121]=1,nt[5126]=4,nt[36193]=2;var ot=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],wt=["x","y","z","w"],_t="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ut={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Vt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Lt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Kt={cw:2304,ccw:2305},ar=new $(!1,!1,!1,function(){}),Fr=function(yt,Xt){function Yt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function br(At,Ft,Ht){var $t=lt.pop()||new Yt;$t.startQueryIndex=At,$t.endQueryIndex=Ft,$t.sum=0,$t.stats=Ht,xt.push($t)}if(!Xt.ext_disjoint_timer_query)return null;var hr=[],ut=[],lt=[],xt=[],Tt=[],Et=[];return{beginQuery:function(At){var Ft=hr.pop()||Xt.ext_disjoint_timer_query.createQueryEXT();Xt.ext_disjoint_timer_query.beginQueryEXT(35007,Ft),ut.push(Ft),br(ut.length-1,ut.length,At)},endQuery:function(){Xt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:br,update:function(){var At,Ft;if(At=ut.length,At!==0){Et.length=Math.max(Et.length,At+1),Tt.length=Math.max(Tt.length,At+1),Tt[0]=0;var Ht=Et[0]=0;for(Ft=At=0;Ft<ut.length;++Ft){var $t=ut[Ft];Xt.ext_disjoint_timer_query.getQueryObjectEXT($t,34919)?(Ht+=Xt.ext_disjoint_timer_query.getQueryObjectEXT($t,34918),hr.push($t)):ut[At++]=$t,Tt[Ft+1]=Ht,Et[Ft+1]=At}for(ut.length=At,Ft=At=0;Ft<xt.length;++Ft){var Ht=xt[Ft],Qt=Ht.startQueryIndex,$t=Ht.endQueryIndex;Ht.sum+=Tt[$t]-Tt[Qt],Qt=Et[Qt],$t=Et[$t],$t===Qt?(Ht.stats.gpuTime+=Ht.sum/1e6,lt.push(Ht)):(Ht.startQueryIndex=Qt,Ht.endQueryIndex=$t,xt[At++]=Ht)}xt.length=At}},getNumPendingQueries:function(){return ut.length},clear:function(){hr.push.apply(hr,ut);for(var At=0;At<hr.length;At++)Xt.ext_disjoint_timer_query.deleteQueryEXT(hr[At]);ut.length=0,hr.length=0},restore:function(){ut.length=0,hr.length=0}}};return function(yt){function Xt(){if(Dn.length===0)Dt&&Dt.update(),Br=null;else{Br=Ee.next(Xt),At();for(var vn=Dn.length-1;0<=vn;--vn){var fn=Dn[vn];fn&&fn(nr,null,0)}$t.flush(),Dt&&Dt.update()}}function Yt(){!Br&&0<Dn.length&&(Br=Ee.next(Xt))}function br(){Br&&(Ee.cancel(Xt),Br=null)}function hr(vn){vn.preventDefault(),br(),xr.forEach(function(fn){fn()})}function ut(vn){$t.getError(),or.restore(),pr.restore(),zt.restore(),vr.restore(),Vr.restore(),_r.restore(),dr.restore(),Dt&&Dt.restore(),kr.procs.refresh(),Yt(),Ar.forEach(function(fn){fn()})}function lt(vn){function fn(gn,Nn){var En={},Cn={};return Object.keys(gn).forEach(function(Hn){var ii=gn[Hn];if(we.isDynamic(ii))Cn[Hn]=we.unbox(ii,Hn);else{if(Nn&&Array.isArray(ii)){for(var Pi=0;Pi<ii.length;++Pi)if(we.isDynamic(ii[Pi])){Cn[Hn]=we.unbox(ii,Hn);return}}En[Hn]=ii}}),{dynamic:Cn,static:En}}function Tn(gn){for(;nn.length<gn;)nn.push(null);return nn}var Pn=fn(vn.context||{},!0),jn=fn(vn.uniforms||{},!0),qn=fn(vn.attributes||{},!1);vn=fn(function(gn){function Nn(Cn){if(Cn in En){var Hn=En[Cn];delete En[Cn],Object.keys(Hn).forEach(function(ii){En[Cn+"."+ii]=Hn[ii]})}}var En=se({},gn);return delete En.uniforms,delete En.attributes,delete En.context,delete En.vao,"stencil"in En&&En.stencil.op&&(En.stencil.opBack=En.stencil.opFront=En.stencil.op,delete En.stencil.op),Nn("blend"),Nn("depth"),Nn("cull"),Nn("stencil"),Nn("polygonOffset"),Nn("scissor"),Nn("sample"),"vao"in gn&&(En.vao=gn.vao),En}(vn),!1);var si={gpuTime:0,cpuTime:0,count:0},ti=kr.compile(vn,qn,jn,Pn,si),ei=ti.draw,Mr=ti.batch,on=ti.scope,nn=[];return se(function(gn,Nn){var En;if(typeof gn=="function")return on.call(this,null,gn,0);if(typeof Nn=="function")if(typeof gn=="number")for(En=0;En<gn;++En)on.call(this,null,Nn,En);else if(Array.isArray(gn))for(En=0;En<gn.length;++En)on.call(this,gn[En],Nn,En);else return on.call(this,gn,Nn,0);else if(typeof gn=="number"){if(0<gn)return Mr.call(this,Tn(gn|0),gn|0)}else if(Array.isArray(gn)){if(gn.length)return Mr.call(this,gn,gn.length)}else return ei.call(this,gn)},{stats:si,destroy:function(){ti.destroy()}})}function xt(vn,fn){var Tn=0;kr.procs.poll();var Pn=fn.color;Pn&&($t.clearColor(+Pn[0]||0,+Pn[1]||0,+Pn[2]||0,+Pn[3]||0),Tn|=16384),"depth"in fn&&($t.clearDepth(+fn.depth),Tn|=256),"stencil"in fn&&($t.clearStencil(fn.stencil|0),Tn|=1024),$t.clear(Tn)}function Tt(vn){return Dn.push(vn),Yt(),{cancel:function(){function fn(){var Pn=he(Dn,fn);Dn[Pn]=Dn[Dn.length-1],--Dn.length,0>=Dn.length&&br()}var Tn=he(Dn,vn);Dn[Tn]=fn}}}function Et(){var vn=Xr.viewport,fn=Xr.scissor_box;vn[0]=vn[1]=fn[0]=fn[1]=0,nr.viewportWidth=nr.framebufferWidth=nr.drawingBufferWidth=vn[2]=fn[2]=$t.drawingBufferWidth,nr.viewportHeight=nr.framebufferHeight=nr.drawingBufferHeight=vn[3]=fn[3]=$t.drawingBufferHeight}function At(){nr.tick+=1,nr.time=Ht(),Et(),kr.procs.poll()}function Ft(){vr.refresh(),Et(),kr.procs.refresh(),Dt&&Dt.update()}function Ht(){return(Me()-It)/1e3}if(yt=t(yt),!yt)return null;var $t=yt.gl,Qt=$t.getContextAttributes();$t.isContextLost();var or=r($t,yt);if(!or)return null;var pn=n(),Er={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ze=yt.cachedCode||{},Ye=or.extensions,Dt=Fr($t,Ye),It=Me(),lr=$t.drawingBufferWidth,Zt=$t.drawingBufferHeight,nr={tick:0,time:0,viewportWidth:lr,viewportHeight:Zt,framebufferWidth:lr,framebufferHeight:Zt,drawingBufferWidth:lr,drawingBufferHeight:Zt,pixelRatio:yt.pixelRatio},lr={elements:null,primitive:4,count:-1,offset:0,instances:-1},rr=Ne($t,Ye),zt=u($t,Er,yt,function(vn){return dr.destroyBuffer(vn)}),fr=y($t,Ye,zt,Er),dr=B($t,Ye,rr,Er,zt,fr,lr),pr=W($t,pn,Er,yt),vr=N($t,Ye,rr,function(){kr.procs.poll()},nr,Er,yt),Vr=Re($t,Ye,rr,Er,yt),_r=O($t,Ye,rr,vr,Vr,Er),kr=q($t,pn,Ye,rr,zt,fr,vr,_r,{},dr,pr,lr,nr,Dt,Ze,yt),pn=H($t,_r,kr.procs.poll,nr),Xr=kr.next,_n=$t.canvas,Dn=[],xr=[],Ar=[],Or=[yt.onDestroy],Br=null;_n&&(_n.addEventListener("webglcontextlost",hr,!1),_n.addEventListener("webglcontextrestored",ut,!1));var qr=_r.setFBO=lt({framebuffer:we.define.call(null,1,"framebuffer")});return Ft(),Qt=se(lt,{clear:function(vn){if("framebuffer"in vn)if(vn.framebuffer&&vn.framebuffer_reglType==="framebufferCube")for(var fn=0;6>fn;++fn)qr(se({framebuffer:vn.framebuffer.faces[fn]},vn),xt);else qr(vn,xt);else xt(null,vn)},prop:we.define.bind(null,1),context:we.define.bind(null,2),this:we.define.bind(null,3),draw:lt({}),buffer:function(vn){return zt.create(vn,34962,!1,!1)},elements:function(vn){return fr.create(vn,!1)},texture:vr.create2D,cube:vr.createCube,renderbuffer:Vr.create,framebuffer:_r.create,framebufferCube:_r.createCube,vao:dr.createVAO,attributes:Qt,frame:Tt,on:function(vn,fn){var Tn;switch(vn){case"frame":return Tt(fn);case"lost":Tn=xr;break;case"restore":Tn=Ar;break;case"destroy":Tn=Or}return Tn.push(fn),{cancel:function(){for(var Pn=0;Pn<Tn.length;++Pn)if(Tn[Pn]===fn){Tn[Pn]=Tn[Tn.length-1],Tn.pop();break}}}},limits:rr,hasExtension:function(vn){return 0<=rr.extensions.indexOf(vn.toLowerCase())},read:pn,destroy:function(){Dn.length=0,br(),_n&&(_n.removeEventListener("webglcontextlost",hr),_n.removeEventListener("webglcontextrestored",ut)),pr.clear(),_r.clear(),Vr.clear(),dr.clear(),vr.clear(),fr.clear(),zt.clear(),Dt&&Dt.clear(),Or.forEach(function(vn){vn()})},_gl:$t,_refresh:Ft,poll:function(){At(),Dt&&Dt.update()},now:Ht,stats:Er,getCachedCode:function(){return Ze},preloadCachedCode:function(vn){Object.entries(vn).forEach(function(fn){Ze[fn[0]]=fn[1]})}}),yt.onDone(null,Qt),Qt}})},71665:function(k,F,e){var h=e(12856),E=h.Buffer;function n(w,p){for(var m in w)p[m]=w[m]}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?k.exports=h:(n(h,F),F.Buffer=L);function L(w,p,m){return E(w,p,m)}L.prototype=Object.create(E.prototype),n(E,L),L.from=function(w,p,m){if(typeof w=="number")throw new TypeError("Argument must not be a number");return E(w,p,m)},L.alloc=function(w,p,m){if(typeof w!="number")throw new TypeError("Argument must be a number");var t=E(w);return p!==void 0?typeof m=="string"?t.fill(p,m):t.fill(p):t.fill(0),t},L.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return E(w)},L.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return h.SlowBuffer(w)}},21630:function(k,F,e){k.exports=n;var h=e(15398).EventEmitter,E=e(42018);E(n,h),n.Readable=e(40410),n.Writable=e(37493),n.Duplex=e(37865),n.Transform=e(74308),n.PassThrough=e(66897),n.finished=e(12726),n.pipeline=e(10168),n.Stream=n;function n(){h.call(this)}n.prototype.pipe=function(L,w){var p=this;function m(c){L.writable&&L.write(c)===!1&&p.pause&&p.pause()}p.on("data",m);function t(){p.readable&&p.resume&&p.resume()}L.on("drain",t),!L._isStdio&&(!w||w.end!==!1)&&(p.on("end",l),p.on("close",i));var r=!1;function l(){r||(r=!0,L.end())}function i(){r||(r=!0,typeof L.destroy=="function"&&L.destroy())}function f(c){if(v(),h.listenerCount(this,"error")===0)throw c}p.on("error",f),L.on("error",f);function v(){p.removeListener("data",m),L.removeListener("drain",t),p.removeListener("end",l),p.removeListener("close",i),p.removeListener("error",f),L.removeListener("error",f),p.removeListener("end",v),p.removeListener("close",v),L.removeListener("close",v)}return p.on("end",v),p.on("close",v),L.on("close",v),L.emit("pipe",p),L}},74322:function(k){function F(p,m){p.prototype=Object.create(m.prototype),p.prototype.constructor=p,p.__proto__=m}var e={};function h(p,m,t){t||(t=Error);function r(i,f,v){return typeof m=="string"?m:m(i,f,v)}var l=function(i){F(f,i);function f(v,c,x){return i.call(this,r(v,c,x))||this}return f}(t);l.prototype.name=t.name,l.prototype.code=p,e[p]=l}function E(p,m){if(Array.isArray(p)){var t=p.length;return p=p.map(function(r){return String(r)}),t>2?"one of ".concat(m," ").concat(p.slice(0,t-1).join(", "),", or ")+p[t-1]:t===2?"one of ".concat(m," ").concat(p[0]," or ").concat(p[1]):"of ".concat(m," ").concat(p[0])}else return"of ".concat(m," ").concat(String(p))}function n(p,m,t){return p.substr(!t||t<0?0:+t,m.length)===m}function L(p,m,t){return(t===void 0||t>p.length)&&(t=p.length),p.substring(t-m.length,t)===m}function w(p,m,t){return typeof t!="number"&&(t=0),t+m.length>p.length?!1:p.indexOf(m,t)!==-1}h("ERR_INVALID_OPT_VALUE",function(p,m){return'The value "'+m+'" is invalid for option "'+p+'"'},TypeError),h("ERR_INVALID_ARG_TYPE",function(p,m,t){var r;typeof m=="string"&&n(m,"not ")?(r="must not be",m=m.replace(/^not /,"")):r="must be";var l;if(L(p," argument"))l="The ".concat(p," ").concat(r," ").concat(E(m,"type"));else{var i=w(p,".")?"property":"argument";l='The "'.concat(p,'" ').concat(i," ").concat(r," ").concat(E(m,"type"))}return l+=". Received type ".concat(typeof t),l},TypeError),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),h("ERR_METHOD_NOT_IMPLEMENTED",function(p){return"The "+p+" method is not implemented"}),h("ERR_STREAM_PREMATURE_CLOSE","Premature close"),h("ERR_STREAM_DESTROYED",function(p){return"Cannot call "+p+" after a stream was destroyed"}),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),h("ERR_STREAM_WRITE_AFTER_END","write after end"),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_UNKNOWN_ENCODING",function(p){return"Unknown encoding: "+p},TypeError),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),k.exports.q=e},37865:function(k,F,e){var h=e(90386),E=Object.keys||function(i){var f=[];for(var v in i)f.push(v);return f};k.exports=t;var n=e(40410),L=e(37493);e(42018)(t,n);for(var w=E(L.prototype),p=0;p<w.length;p++){var m=w[p];t.prototype[m]||(t.prototype[m]=L.prototype[m])}function t(i){if(!(this instanceof t))return new t(i);n.call(this,i),L.call(this,i),this.allowHalfOpen=!0,i&&(i.readable===!1&&(this.readable=!1),i.writable===!1&&(this.writable=!1),i.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||h.nextTick(l,this)}function l(i){i.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},66897:function(k,F,e){k.exports=E;var h=e(74308);e(42018)(E,h);function E(n){if(!(this instanceof E))return new E(n);h.call(this,n)}E.prototype._transform=function(n,L,w){w(null,n)}},40410:function(k,F,e){var h=e(90386);k.exports=a;var E;a.ReadableState=A,e(15398).EventEmitter;var n=function(q,he){return q.listeners(he).length},L=e(71405),w=e(12856).Buffer,p=e.g.Uint8Array||function(){};function m(te){return w.from(te)}function t(te){return w.isBuffer(te)||te instanceof p}var r=e(40964),l;r&&r.debuglog?l=r.debuglog("stream"):l=function(){};var i=e(31125),f=e(65756),v=e(56306),c=v.getHighWaterMark,x=e(74322).q,d=x.ERR_INVALID_ARG_TYPE,M=x.ERR_STREAM_PUSH_AFTER_EOF,g=x.ERR_METHOD_NOT_IMPLEMENTED,u=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,C,S;e(42018)(a,L);var D=f.errorOrDestroy,T=["error","close","destroy","pause","resume"];function P(te,q,he){if(typeof te.prependListener=="function")return te.prependListener(q,he);!te._events||!te._events[q]?te.on(q,he):Array.isArray(te._events[q])?te._events[q].unshift(he):te._events[q]=[he,te._events[q]]}function A(te,q,he){E=E||e(37865),te=te||{},typeof he!="boolean"&&(he=q instanceof E),this.objectMode=!!te.objectMode,he&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=c(this,te,"readableHighWaterMark",he),this.buffer=new i,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(y||(y=e(68019).s),this.decoder=new y(te.encoding),this.encoding=te.encoding)}function a(te){if(E=E||e(37865),!(this instanceof a))return new a(te);var q=this instanceof E;this._readableState=new A(te,this,q),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),L.call(this)}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),a.prototype.destroy=f.destroy,a.prototype._undestroy=f.undestroy,a.prototype._destroy=function(te,q){q(te)},a.prototype.push=function(te,q){var he=this._readableState,se;return he.objectMode?se=!0:typeof te=="string"&&(q=q||he.defaultEncoding,q!==he.encoding&&(te=w.from(te,q),q=""),se=!0),R(this,te,q,!1,se)},a.prototype.unshift=function(te){return R(this,te,null,!0,!1)};function R(te,q,he,se,pe){l("readableAddChunk",q);var we=te._readableState;if(q===null)we.reading=!1,W(te,we);else{var Ee;if(pe||(Ee=N(we,q)),Ee)D(te,Ee);else if(we.objectMode||q&&q.length>0)if(typeof q!="string"&&!we.objectMode&&Object.getPrototypeOf(q)!==w.prototype&&(q=m(q)),se)we.endEmitted?D(te,new u):b(te,we,q,!0);else if(we.ended)D(te,new M);else{if(we.destroyed)return!1;we.reading=!1,we.decoder&&!he?(q=we.decoder.write(q),we.objectMode||q.length!==0?b(te,we,q,!1):G(te,we)):b(te,we,q,!1)}else se||(we.reading=!1,G(te,we))}return!we.ended&&(we.length<we.highWaterMark||we.length===0)}function b(te,q,he,se){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,te.emit("data",he)):(q.length+=q.objectMode?1:he.length,se?q.buffer.unshift(he):q.buffer.push(he),q.needReadable&&H(te)),G(te,q)}function N(te,q){var he;return!t(q)&&typeof q!="string"&&q!==void 0&&!te.objectMode&&(he=new d("chunk",["string","Buffer","Uint8Array"],q)),he}a.prototype.isPaused=function(){return this._readableState.flowing===!1},a.prototype.setEncoding=function(te){y||(y=e(68019).s);var q=new y(te);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var he=this._readableState.buffer.head,se="";he!==null;)se+=q.write(he.data),he=he.next;return this._readableState.buffer.clear(),se!==""&&this._readableState.buffer.push(se),this._readableState.length=se.length,this};var O=1073741824;function Y(te){return te>=O?te=O:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function B(te,q){return te<=0||q.length===0&&q.ended?0:q.objectMode?1:te!==te?q.flowing&&q.length?q.buffer.head.data.length:q.length:(te>q.highWaterMark&&(q.highWaterMark=Y(te)),te<=q.length?te:q.ended?q.length:(q.needReadable=!0,0))}a.prototype.read=function(te){l("read",te),te=parseInt(te,10);var q=this._readableState,he=te;if(te!==0&&(q.emittedReadable=!1),te===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return l("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?$(this):H(this),null;if(te=B(te,q),te===0&&q.ended)return q.length===0&&$(this),null;var se=q.needReadable;l("need readable",se),(q.length===0||q.length-te<q.highWaterMark)&&(se=!0,l("length less than watermark",se)),q.ended||q.reading?(se=!1,l("reading or ended",se)):se&&(l("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(te=B(he,q)));var pe;return te>0?pe=Q(te,q):pe=null,pe===null?(q.needReadable=q.length<=q.highWaterMark,te=0):(q.length-=te,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),he!==te&&q.ended&&$(this)),pe!==null&&this.emit("data",pe),pe};function W(te,q){if(l("onEofChunk"),!q.ended){if(q.decoder){var he=q.decoder.end();he&&he.length&&(q.buffer.push(he),q.length+=q.objectMode?1:he.length)}q.ended=!0,q.sync?H(te):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,U(te)))}}function H(te){var q=te._readableState;l("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(l("emitReadable",q.flowing),q.emittedReadable=!0,h.nextTick(U,te))}function U(te){var q=te._readableState;l("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(te.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,X(te)}function G(te,q){q.readingMore||(q.readingMore=!0,h.nextTick(j,te,q))}function j(te,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var he=q.length;if(l("maybeReadMore read 0"),te.read(0),he===q.length)break}q.readingMore=!1}a.prototype._read=function(te){D(this,new g("_read()"))},a.prototype.pipe=function(te,q){var he=this,se=this._readableState;switch(se.pipesCount){case 0:se.pipes=te;break;case 1:se.pipes=[se.pipes,te];break;default:se.pipes.push(te);break}se.pipesCount+=1,l("pipe count=%d opts=%j",se.pipesCount,q);var pe=(!q||q.end!==!1)&&te!==h.stdout&&te!==h.stderr,we=pe?Me:Fe;se.endEmitted?h.nextTick(we):he.once("end",we),te.on("unpipe",Ee);function Ee(Ge,it){l("onunpipe"),Ge===he&&it&&it.hasUnpiped===!1&&(it.hasUnpiped=!0,Ce())}function Me(){l("onend"),te.end()}var Be=re(he);te.on("drain",Be);var Ne=!1;function Ce(){l("cleanup"),te.removeListener("close",Ve),te.removeListener("finish",We),te.removeListener("drain",Be),te.removeListener("error",Le),te.removeListener("unpipe",Ee),he.removeListener("end",Me),he.removeListener("end",Fe),he.removeListener("data",Te),Ne=!0,se.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&Be()}he.on("data",Te);function Te(Ge){l("ondata");var it=te.write(Ge);l("dest.write",it),it===!1&&((se.pipesCount===1&&se.pipes===te||se.pipesCount>1&&fe(se.pipes,te)!==-1)&&!Ne&&(l("false write response, pause",se.awaitDrain),se.awaitDrain++),he.pause())}function Le(Ge){l("onerror",Ge),Fe(),te.removeListener("error",Le),n(te,"error")===0&&D(te,Ge)}P(te,"error",Le);function Ve(){te.removeListener("finish",We),Fe()}te.once("close",Ve);function We(){l("onfinish"),te.removeListener("close",Ve),Fe()}te.once("finish",We);function Fe(){l("unpipe"),he.unpipe(te)}return te.emit("pipe",he),se.flowing||(l("pipe resume"),he.resume()),te};function re(te){return function(){var he=te._readableState;l("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&n(te,"data")&&(he.flowing=!0,X(te))}}a.prototype.unpipe=function(te){var q=this._readableState,he={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return te&&te!==q.pipes?this:(te||(te=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,te&&te.emit("unpipe",this,he),this);if(!te){var se=q.pipes,pe=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var we=0;we<pe;we++)se[we].emit("unpipe",this,{hasUnpiped:!1});return this}var Ee=fe(q.pipes,te);return Ee===-1?this:(q.pipes.splice(Ee,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),te.emit("unpipe",this,he),this)},a.prototype.on=function(te,q){var he=L.prototype.on.call(this,te,q),se=this._readableState;return te==="data"?(se.readableListening=this.listenerCount("readable")>0,se.flowing!==!1&&this.resume()):te==="readable"&&!se.endEmitted&&!se.readableListening&&(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,l("on readable",se.length,se.reading),se.length?H(this):se.reading||h.nextTick(ue,this)),he},a.prototype.addListener=a.prototype.on,a.prototype.removeListener=function(te,q){var he=L.prototype.removeListener.call(this,te,q);return te==="readable"&&h.nextTick(ae,this),he},a.prototype.removeAllListeners=function(te){var q=L.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&h.nextTick(ae,this),q};function ae(te){var q=te._readableState;q.readableListening=te.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:te.listenerCount("data")>0&&te.resume()}function ue(te){l("readable nexttick read 0"),te.read(0)}a.prototype.resume=function(){var te=this._readableState;return te.flowing||(l("resume"),te.flowing=!te.readableListening,de(this,te)),te.paused=!1,this};function de(te,q){q.resumeScheduled||(q.resumeScheduled=!0,h.nextTick(ee,te,q))}function ee(te,q){l("resume",q.reading),q.reading||te.read(0),q.resumeScheduled=!1,te.emit("resume"),X(te),q.flowing&&!q.reading&&te.read(0)}a.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(te){var q=te._readableState;for(l("flow",q.flowing);q.flowing&&te.read()!==null;);}a.prototype.wrap=function(te){var q=this,he=this._readableState,se=!1;te.on("end",function(){if(l("wrapped end"),he.decoder&&!he.ended){var Ee=he.decoder.end();Ee&&Ee.length&&q.push(Ee)}q.push(null)}),te.on("data",function(Ee){if(l("wrapped data"),he.decoder&&(Ee=he.decoder.write(Ee)),!(he.objectMode&&Ee==null)&&!(!he.objectMode&&(!Ee||!Ee.length))){var Me=q.push(Ee);Me||(se=!0,te.pause())}});for(var pe in te)this[pe]===void 0&&typeof te[pe]=="function"&&(this[pe]=function(Me){return function(){return te[Me].apply(te,arguments)}}(pe));for(var we=0;we<T.length;we++)te.on(T[we],this.emit.bind(this,T[we]));return this._read=function(Ee){l("wrapped _read",Ee),se&&(se=!1,te.resume())},this},typeof Symbol=="function"&&(a.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=e(68221)),C(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),a._fromList=Q,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Q(te,q){if(q.length===0)return null;var he;return q.objectMode?he=q.buffer.shift():!te||te>=q.length?(q.decoder?he=q.buffer.join(""):q.buffer.length===1?he=q.buffer.first():he=q.buffer.concat(q.length),q.buffer.clear()):he=q.buffer.consume(te,q.decoder),he}function $(te){var q=te._readableState;l("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,h.nextTick(ne,q,te))}function ne(te,q){if(l("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,q.readable=!1,q.emit("end"),te.autoDestroy)){var he=q._writableState;(!he||he.autoDestroy&&he.finished)&&q.destroy()}}typeof Symbol=="function"&&(a.from=function(te,q){return S===void 0&&(S=e(31748)),S(a,te,q)});function fe(te,q){for(var he=0,se=te.length;he<se;he++)if(te[he]===q)return he;return-1}},74308:function(k,F,e){k.exports=t;var h=e(74322).q,E=h.ERR_METHOD_NOT_IMPLEMENTED,n=h.ERR_MULTIPLE_CALLBACK,L=h.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=h.ERR_TRANSFORM_WITH_LENGTH_0,p=e(37865);e(42018)(t,p);function m(i,f){var v=this._transformState;v.transforming=!1;var c=v.writecb;if(c===null)return this.emit("error",new n);v.writechunk=null,v.writecb=null,f!=null&&this.push(f),c(i);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function t(i){if(!(this instanceof t))return new t(i);p.call(this,i),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.on("prefinish",r)}function r(){var i=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,v){l(i,f,v)}):l(this,null,null)}t.prototype.push=function(i,f){return this._transformState.needTransform=!1,p.prototype.push.call(this,i,f)},t.prototype._transform=function(i,f,v){v(new E("_transform()"))},t.prototype._write=function(i,f,v){var c=this._transformState;if(c.writecb=v,c.writechunk=i,c.writeencoding=f,!c.transforming){var x=this._readableState;(c.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},t.prototype._read=function(i){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},t.prototype._destroy=function(i,f){p.prototype._destroy.call(this,i,function(v){f(v)})};function l(i,f,v){if(f)return i.emit("error",f);if(v!=null&&i.push(v),i._writableState.length)throw new w;if(i._transformState.transforming)throw new L;return i.push(null)}},37493:function(k,F,e){var h=e(90386);k.exports=A;function E(X){var Q=this;this.next=null,this.entry=null,this.finish=function(){ee(Q,X)}}var n;A.WritableState=T;var L={deprecate:e(20588)},w=e(71405),p=e(12856).Buffer,m=e.g.Uint8Array||function(){};function t(X){return p.from(X)}function r(X){return p.isBuffer(X)||X instanceof m}var l=e(65756),i=e(56306),f=i.getHighWaterMark,v=e(74322).q,c=v.ERR_INVALID_ARG_TYPE,x=v.ERR_METHOD_NOT_IMPLEMENTED,d=v.ERR_MULTIPLE_CALLBACK,M=v.ERR_STREAM_CANNOT_PIPE,g=v.ERR_STREAM_DESTROYED,u=v.ERR_STREAM_NULL_VALUES,y=v.ERR_STREAM_WRITE_AFTER_END,C=v.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;e(42018)(A,w);function D(){}function T(X,Q,$){n=n||e(37865),X=X||{},typeof $!="boolean"&&($=Q instanceof n),this.objectMode=!!X.objectMode,$&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=f(this,X,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=X.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(fe){W(Q,fe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}T.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,$=[];Q;)$.push(Q),Q=Q.next;return $},function(){try{Object.defineProperty(T.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var P;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(Q){return P.call(this,Q)?!0:this!==A?!1:Q&&Q._writableState instanceof T}})):P=function(Q){return Q instanceof this};function A(X){n=n||e(37865);var Q=this instanceof n;if(!Q&&!P.call(A,this))return new A(X);this._writableState=new T(X,this,Q),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),w.call(this)}A.prototype.pipe=function(){S(this,new M)};function a(X,Q){var $=new y;S(X,$),h.nextTick(Q,$)}function R(X,Q,$,ne){var fe;return $===null?fe=new u:typeof $!="string"&&!Q.objectMode&&(fe=new c("chunk",["string","Buffer"],$)),fe?(S(X,fe),h.nextTick(ne,fe),!1):!0}A.prototype.write=function(X,Q,$){var ne=this._writableState,fe=!1,te=!ne.objectMode&&r(X);return te&&!p.isBuffer(X)&&(X=t(X)),typeof Q=="function"&&($=Q,Q=null),te?Q="buffer":Q||(Q=ne.defaultEncoding),typeof $!="function"&&($=D),ne.ending?a(this,$):(te||R(this,ne,X,$))&&(ne.pendingcb++,fe=N(this,ne,te,X,Q,$)),fe},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&G(this,X))},A.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new C(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(X,Q,$){return!X.objectMode&&X.decodeStrings!==!1&&typeof Q=="string"&&(Q=p.from(Q,$)),Q}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function N(X,Q,$,ne,fe,te){if(!$){var q=b(Q,ne,fe);ne!==q&&($=!0,fe="buffer",ne=q)}var he=Q.objectMode?1:ne.length;Q.length+=he;var se=Q.length<Q.highWaterMark;if(se||(Q.needDrain=!0),Q.writing||Q.corked){var pe=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:ne,encoding:fe,isBuf:$,callback:te,next:null},pe?pe.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else O(X,Q,!1,he,ne,fe,te);return se}function O(X,Q,$,ne,fe,te,q){Q.writelen=ne,Q.writecb=q,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new g("write")):$?X._writev(fe,Q.onwrite):X._write(fe,te,Q.onwrite),Q.sync=!1}function Y(X,Q,$,ne,fe){--Q.pendingcb,$?(h.nextTick(fe,ne),h.nextTick(ue,X,Q),X._writableState.errorEmitted=!0,S(X,ne)):(fe(ne),X._writableState.errorEmitted=!0,S(X,ne),ue(X,Q))}function B(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function W(X,Q){var $=X._writableState,ne=$.sync,fe=$.writecb;if(typeof fe!="function")throw new d;if(B($),Q)Y(X,$,ne,Q,fe);else{var te=j($)||X.destroyed;!te&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&G(X,$),ne?h.nextTick(H,X,$,te,fe):H(X,$,te,fe)}}function H(X,Q,$,ne){$||U(X,Q),Q.pendingcb--,ne(),ue(X,Q)}function U(X,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,X.emit("drain"))}function G(X,Q){Q.bufferProcessing=!0;var $=Q.bufferedRequest;if(X._writev&&$&&$.next){var ne=Q.bufferedRequestCount,fe=new Array(ne),te=Q.corkedRequestsFree;te.entry=$;for(var q=0,he=!0;$;)fe[q]=$,$.isBuf||(he=!1),$=$.next,q+=1;fe.allBuffers=he,O(X,Q,!0,Q.length,fe,"",te.finish),Q.pendingcb++,Q.lastBufferedRequest=null,te.next?(Q.corkedRequestsFree=te.next,te.next=null):Q.corkedRequestsFree=new E(Q),Q.bufferedRequestCount=0}else{for(;$;){var se=$.chunk,pe=$.encoding,we=$.callback,Ee=Q.objectMode?1:se.length;if(O(X,Q,!1,Ee,se,pe,we),$=$.next,Q.bufferedRequestCount--,Q.writing)break}$===null&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=$,Q.bufferProcessing=!1}A.prototype._write=function(X,Q,$){$(new x("_write()"))},A.prototype._writev=null,A.prototype.end=function(X,Q,$){var ne=this._writableState;return typeof X=="function"?($=X,X=null,Q=null):typeof Q=="function"&&($=Q,Q=null),X!=null&&this.write(X,Q),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||de(this,ne,$),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function re(X,Q){X._final(function($){Q.pendingcb--,$&&S(X,$),Q.prefinished=!0,X.emit("prefinish"),ue(X,Q)})}function ae(X,Q){!Q.prefinished&&!Q.finalCalled&&(typeof X._final=="function"&&!Q.destroyed?(Q.pendingcb++,Q.finalCalled=!0,h.nextTick(re,X,Q)):(Q.prefinished=!0,X.emit("prefinish")))}function ue(X,Q){var $=j(Q);if($&&(ae(X,Q),Q.pendingcb===0&&(Q.finished=!0,X.emit("finish"),Q.autoDestroy))){var ne=X._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&X.destroy()}return $}function de(X,Q,$){Q.ending=!0,ue(X,Q),$&&(Q.finished?h.nextTick($):X.once("finish",$)),Q.ended=!0,X.writable=!1}function ee(X,Q,$){var ne=X.entry;for(X.entry=null;ne;){var fe=ne.callback;Q.pendingcb--,fe($),ne=ne.next}Q.corkedRequestsFree.next=X}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Q){this._writableState&&(this._writableState.destroyed=Q)}}),A.prototype.destroy=l.destroy,A.prototype._undestroy=l.undestroy,A.prototype._destroy=function(X,Q){Q(X)}},68221:function(k,F,e){var h=e(90386),E;function n(u,y,C){return y in u?Object.defineProperty(u,y,{value:C,enumerable:!0,configurable:!0,writable:!0}):u[y]=C,u}var L=e(12726),w=Symbol("lastResolve"),p=Symbol("lastReject"),m=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),l=Symbol("handlePromise"),i=Symbol("stream");function f(u,y){return{value:u,done:y}}function v(u){var y=u[w];if(y!==null){var C=u[i].read();C!==null&&(u[r]=null,u[w]=null,u[p]=null,y(f(C,!1)))}}function c(u){h.nextTick(v,u)}function x(u,y){return function(C,S){u.then(function(){if(y[t]){C(f(void 0,!0));return}y[l](C,S)},S)}}var d=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((E={get stream(){return this[i]},next:function(){var y=this,C=this[m];if(C!==null)return Promise.reject(C);if(this[t])return Promise.resolve(f(void 0,!0));if(this[i].destroyed)return new Promise(function(P,A){h.nextTick(function(){y[m]?A(y[m]):P(f(void 0,!0))})});var S=this[r],D;if(S)D=new Promise(x(S,this));else{var T=this[i].read();if(T!==null)return Promise.resolve(f(T,!1));D=new Promise(this[l])}return this[r]=D,D}},n(E,Symbol.asyncIterator,function(){return this}),n(E,"return",function(){var y=this;return new Promise(function(C,S){y[i].destroy(null,function(D){if(D){S(D);return}C(f(void 0,!0))})})}),E),d),g=function(y){var C,S=Object.create(M,(C={},n(C,i,{value:y,writable:!0}),n(C,w,{value:null,writable:!0}),n(C,p,{value:null,writable:!0}),n(C,m,{value:null,writable:!0}),n(C,t,{value:y._readableState.endEmitted,writable:!0}),n(C,l,{value:function(T,P){var A=S[i].read();A?(S[r]=null,S[w]=null,S[p]=null,T(f(A,!1))):(S[w]=T,S[p]=P)},writable:!0}),C));return S[r]=null,L(y,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var T=S[p];T!==null&&(S[r]=null,S[w]=null,S[p]=null,T(D)),S[m]=D;return}var P=S[w];P!==null&&(S[r]=null,S[w]=null,S[p]=null,P(f(void 0,!0))),S[t]=!0}),y.on("readable",c.bind(null,S)),S};k.exports=g},31125:function(k,F,e){function h(v,c){var x=Object.keys(v);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(v);c&&(d=d.filter(function(M){return Object.getOwnPropertyDescriptor(v,M).enumerable})),x.push.apply(x,d)}return x}function E(v){for(var c=1;c<arguments.length;c++){var x=arguments[c]!=null?arguments[c]:{};c%2?h(Object(x),!0).forEach(function(d){n(v,d,x[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(x)):h(Object(x)).forEach(function(d){Object.defineProperty(v,d,Object.getOwnPropertyDescriptor(x,d))})}return v}function n(v,c,x){return c in v?Object.defineProperty(v,c,{value:x,enumerable:!0,configurable:!0,writable:!0}):v[c]=x,v}function L(v,c){if(!(v instanceof c))throw new TypeError("Cannot call a class as a function")}function w(v,c){for(var x=0;x<c.length;x++){var d=c[x];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(v,d.key,d)}}function p(v,c,x){return c&&w(v.prototype,c),x&&w(v,x),v}var m=e(12856),t=m.Buffer,r=e(69862),l=r.inspect,i=l&&l.custom||"inspect";function f(v,c,x){t.prototype.copy.call(v,c,x)}k.exports=function(){function v(){L(this,v),this.head=null,this.tail=null,this.length=0}return p(v,[{key:"push",value:function(x){var d={data:x,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}},{key:"unshift",value:function(x){var d={data:x,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var d=this.head,M=""+d.data;d=d.next;)M+=x+d.data;return M}},{key:"concat",value:function(x){if(this.length===0)return t.alloc(0);for(var d=t.allocUnsafe(x>>>0),M=this.head,g=0;M;)f(M.data,d,g),g+=M.data.length,M=M.next;return d}},{key:"consume",value:function(x,d){var M;return x<this.head.data.length?(M=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?M=this.shift():M=d?this._getString(x):this._getBuffer(x),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var d=this.head,M=1,g=d.data;for(x-=g.length;d=d.next;){var u=d.data,y=x>u.length?u.length:x;if(y===u.length?g+=u:g+=u.slice(0,x),x-=y,x===0){y===u.length?(++M,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=u.slice(y));break}++M}return this.length-=M,g}},{key:"_getBuffer",value:function(x){var d=t.allocUnsafe(x),M=this.head,g=1;for(M.data.copy(d),x-=M.data.length;M=M.next;){var u=M.data,y=x>u.length?u.length:x;if(u.copy(d,d.length-x,0,y),x-=y,x===0){y===u.length?(++g,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=u.slice(y));break}++g}return this.length-=g,d}},{key:i,value:function(x,d){return l(this,E({},d,{depth:0,customInspect:!1}))}}]),v}()},65756:function(k,F,e){var h=e(90386);function E(t,r){var l=this,i=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return i||f?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,h.nextTick(p,this,t)):h.nextTick(p,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(v){!r&&v?l._writableState?l._writableState.errorEmitted?h.nextTick(L,l):(l._writableState.errorEmitted=!0,h.nextTick(n,l,v)):h.nextTick(n,l,v):r?(h.nextTick(L,l),r(v)):h.nextTick(L,l)}),this)}function n(t,r){p(t,r),L(t)}function L(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function p(t,r){t.emit("error",r)}function m(t,r){var l=t._readableState,i=t._writableState;l&&l.autoDestroy||i&&i.autoDestroy?t.destroy(r):t.emit("error",r)}k.exports={destroy:E,undestroy:w,errorOrDestroy:m}},12726:function(k,F,e){var h=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function E(p){var m=!1;return function(){if(!m){m=!0;for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];p.apply(this,r)}}}function n(){}function L(p){return p.setHeader&&typeof p.abort=="function"}function w(p,m,t){if(typeof m=="function")return w(p,null,m);m||(m={}),t=E(t||n);var r=m.readable||m.readable!==!1&&p.readable,l=m.writable||m.writable!==!1&&p.writable,i=function(){p.writable||v()},f=p._writableState&&p._writableState.finished,v=function(){l=!1,f=!0,r||t.call(p)},c=p._readableState&&p._readableState.endEmitted,x=function(){r=!1,c=!0,l||t.call(p)},d=function(y){t.call(p,y)},M=function(){var y;if(r&&!c)return(!p._readableState||!p._readableState.ended)&&(y=new h),t.call(p,y);if(l&&!f)return(!p._writableState||!p._writableState.ended)&&(y=new h),t.call(p,y)},g=function(){p.req.on("finish",v)};return L(p)?(p.on("complete",v),p.on("abort",M),p.req?g():p.on("request",g)):l&&!p._writableState&&(p.on("end",i),p.on("close",i)),p.on("end",x),p.on("finish",v),m.error!==!1&&p.on("error",d),p.on("close",M),function(){p.removeListener("complete",v),p.removeListener("abort",M),p.removeListener("request",g),p.req&&p.req.removeListener("finish",v),p.removeListener("end",i),p.removeListener("close",i),p.removeListener("finish",v),p.removeListener("end",x),p.removeListener("error",d),p.removeListener("close",M)}}k.exports=w},31748:function(k){k.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(k,F,e){var h;function E(v){var c=!1;return function(){c||(c=!0,v.apply(void 0,arguments))}}var n=e(74322).q,L=n.ERR_MISSING_ARGS,w=n.ERR_STREAM_DESTROYED;function p(v){if(v)throw v}function m(v){return v.setHeader&&typeof v.abort=="function"}function t(v,c,x,d){d=E(d);var M=!1;v.on("close",function(){M=!0}),h===void 0&&(h=e(12726)),h(v,{readable:c,writable:x},function(u){if(u)return d(u);M=!0,d()});var g=!1;return function(u){if(!M&&!g){if(g=!0,m(v))return v.abort();if(typeof v.destroy=="function")return v.destroy();d(u||new w("pipe"))}}}function r(v){v()}function l(v,c){return v.pipe(c)}function i(v){return!v.length||typeof v[v.length-1]!="function"?p:v.pop()}function f(){for(var v=arguments.length,c=new Array(v),x=0;x<v;x++)c[x]=arguments[x];var d=i(c);if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new L("streams");var M,g=c.map(function(u,y){var C=y<c.length-1,S=y>0;return t(u,C,S,function(D){M||(M=D),D&&g.forEach(r),!C&&(g.forEach(r),d(M))})});return c.reduce(l)}k.exports=f},56306:function(k,F,e){var h=e(74322).q.ERR_INVALID_OPT_VALUE;function E(L,w,p){return L.highWaterMark!=null?L.highWaterMark:w?L[p]:null}function n(L,w,p,m){var t=E(w,m,p);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=m?p:"highWaterMark";throw new h(r,t)}return Math.floor(t)}return L.objectMode?16:16384}k.exports={getHighWaterMark:n}},71405:function(k,F,e){k.exports=e(15398).EventEmitter},68019:function(k,F,e){var h=e(71665).Buffer,E=h.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(g){if(!g)return"utf8";for(var u;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(u)return;g=(""+g).toLowerCase(),u=!0}}function L(g){var u=n(g);if(typeof u!="string"&&(h.isEncoding===E||!E(g)))throw new Error("Unknown encoding: "+g);return u||g}F.s=w;function w(g){this.encoding=L(g);var u;switch(this.encoding){case"utf16le":this.text=f,this.end=v,u=4;break;case"utf8":this.fillLast=r,u=4;break;case"base64":this.text=c,this.end=x,u=3;break;default:this.write=d,this.end=M;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=h.allocUnsafe(u)}w.prototype.write=function(g){if(g.length===0)return"";var u,y;if(this.lastNeed){if(u=this.fillLast(g),u===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<g.length?u?u+this.text(g,y):this.text(g,y):u||""},w.prototype.end=i,w.prototype.text=l,w.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function p(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function m(g,u,y){var C=u.length-1;if(C<y)return 0;var S=p(u[C]);return S>=0?(S>0&&(g.lastNeed=S-1),S):--C<y||S===-2?0:(S=p(u[C]),S>=0?(S>0&&(g.lastNeed=S-2),S):--C<y||S===-2?0:(S=p(u[C]),S>=0?(S>0&&(S===2?S=0:g.lastNeed=S-3),S):0))}function t(g,u,y){if((u[0]&192)!==128)return g.lastNeed=0,"�";if(g.lastNeed>1&&u.length>1){if((u[1]&192)!==128)return g.lastNeed=1,"�";if(g.lastNeed>2&&u.length>2&&(u[2]&192)!==128)return g.lastNeed=2,"�"}}function r(g){var u=this.lastTotal-this.lastNeed,y=t(this,g);if(y!==void 0)return y;if(this.lastNeed<=g.length)return g.copy(this.lastChar,u,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,u,0,g.length),this.lastNeed-=g.length}function l(g,u){var y=m(this,g,u);if(!this.lastNeed)return g.toString("utf8",u);this.lastTotal=y;var C=g.length-(y-this.lastNeed);return g.copy(this.lastChar,0,C),g.toString("utf8",u,C)}function i(g){var u=g&&g.length?this.write(g):"";return this.lastNeed?u+"�":u}function f(g,u){if((g.length-u)%2===0){var y=g.toString("utf16le",u);if(y){var C=y.charCodeAt(y.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",u,g.length-1)}function v(g){var u=g&&g.length?this.write(g):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return u+this.lastChar.toString("utf16le",0,y)}return u}function c(g,u){var y=(g.length-u)%3;return y===0?g.toString("base64",u):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",u,g.length-y))}function x(g){var u=g&&g.length?this.write(g):"";return this.lastNeed?u+this.lastChar.toString("base64",0,3-this.lastNeed):u}function d(g){return g.toString(this.encoding)}function M(g){return g&&g.length?this.write(g):""}},90715:function(k,F,e){var h=e(32791),E=e(41633)("stream-parser");k.exports=m;var n=-1,L=0,w=1,p=2;function m(g){var u=g&&typeof g._transform=="function",y=g&&typeof g._write=="function";if(!u&&!y)throw new Error("must pass a Writable or Transform stream in");E("extending Parser into stream"),g._bytes=r,g._skipBytes=l,u&&(g._passthrough=i),u?g._transform=v:g._write=f}function t(g){E("initializing parser stream"),g._parserBytesLeft=0,g._parserBuffers=[],g._parserBuffered=0,g._parserState=n,g._parserCallback=null,typeof g.push=="function"&&(g._parserOutput=g.push.bind(g)),g._parserInit=!0}function r(g,u){h(!this._parserCallback,'there is already a "callback" set!'),h(isFinite(g)&&g>0,'can only buffer a finite number of bytes > 0, got "'+g+'"'),this._parserInit||t(this),E("buffering %o bytes",g),this._parserBytesLeft=g,this._parserCallback=u,this._parserState=L}function l(g,u){h(!this._parserCallback,'there is already a "callback" set!'),h(g>0,'can only skip > 0 bytes, got "'+g+'"'),this._parserInit||t(this),E("skipping %o bytes",g),this._parserBytesLeft=g,this._parserCallback=u,this._parserState=w}function i(g,u){h(!this._parserCallback,'There is already a "callback" set!'),h(g>0,'can only pass through > 0 bytes, got "'+g+'"'),this._parserInit||t(this),E("passing through %o bytes",g),this._parserBytesLeft=g,this._parserCallback=u,this._parserState=p}function f(g,u,y){this._parserInit||t(this),E("write(%o bytes)",g.length),typeof u=="function"&&(y=u),d(this,g,null,y)}function v(g,u,y){this._parserInit||t(this),E("transform(%o bytes)",g.length),typeof u!="function"&&(u=this._parserOutput),d(this,g,u,y)}function c(g,u,y,C){return g._parserBytesLeft<=0?C(new Error("got data but not currently parsing anything")):u.length<=g._parserBytesLeft?function(){return x(g,u,y,C)}:function(){var S=u.slice(0,g._parserBytesLeft);return x(g,S,y,function(D){if(D)return C(D);if(u.length>S.length)return function(){return c(g,u.slice(S.length),y,C)}})}}function x(g,u,y,C){if(g._parserBytesLeft-=u.length,E("%o bytes left for stream piece",g._parserBytesLeft),g._parserState===L?(g._parserBuffers.push(u),g._parserBuffered+=u.length):g._parserState===p&&y(u),g._parserBytesLeft===0){var S=g._parserCallback;if(S&&g._parserState===L&&g._parserBuffers.length>1&&(u=Buffer.concat(g._parserBuffers,g._parserBuffered)),g._parserState!==L&&(u=null),g._parserCallback=null,g._parserBuffered=0,g._parserState=n,g._parserBuffers.splice(0),S){var D=[];u&&D.push(u),y&&D.push(y);var T=S.length>D.length;T&&D.push(M(C));var P=S.apply(g,D);if(!T||C===P)return C}}else return C}var d=M(c);function M(g){return function(){for(var u=g.apply(this,arguments);typeof u=="function";)u=u();return u}}},41633:function(k,F,e){var h=e(90386);F=k.exports=e(74469),F.log=L,F.formatArgs=n,F.save=w,F.load=p,F.useColors=E,F.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:m(),F.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function E(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}F.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function n(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+F.humanize(this.diff),!!r){var l="color: "+this.color;t.splice(1,0,l,"color: inherit");var i=0,f=0;t[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(i++,v==="%c"&&(f=i))}),t.splice(f,0,l)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function w(t){try{t==null?F.storage.removeItem("debug"):F.storage.debug=t}catch{}}function p(){var t;try{t=F.storage.debug}catch{}return!t&&typeof h<"u"&&"env"in h&&(t={}.DEBUG),t}F.enable(p());function m(){try{return window.localStorage}catch{}}},74469:function(k,F,e){F=k.exports=n.debug=n.default=n,F.coerce=m,F.disable=w,F.enable=L,F.enabled=p,F.humanize=e(11375),F.names=[],F.skips=[],F.formatters={};var h;function E(t){var r=0,l;for(l in t)r=(r<<5)-r+t.charCodeAt(l),r|=0;return F.colors[Math.abs(r)%F.colors.length]}function n(t){function r(){if(r.enabled){var l=r,i=+new Date,f=i-(h||i);l.diff=f,l.prev=h,l.curr=i,h=i;for(var v=new Array(arguments.length),c=0;c<v.length;c++)v[c]=arguments[c];v[0]=F.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var x=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(M,g){if(M==="%%")return M;x++;var u=F.formatters[g];if(typeof u=="function"){var y=v[x];M=u.call(l,y),v.splice(x,1),x--}return M}),F.formatArgs.call(l,v);var d=r.log||F.log||console.log.bind(console);d.apply(l,v)}}return r.namespace=t,r.enabled=F.enabled(t),r.useColors=F.useColors(),r.color=E(t),typeof F.init=="function"&&F.init(r),r}function L(t){F.save(t),F.names=[],F.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),l=r.length,i=0;i<l;i++)r[i]&&(t=r[i].replace(/\*/g,".*?"),t[0]==="-"?F.skips.push(new RegExp("^"+t.substr(1)+"$")):F.names.push(new RegExp("^"+t+"$")))}function w(){F.enable("")}function p(t){var r,l;for(r=0,l=F.skips.length;r<l;r++)if(F.skips[r].test(t))return!1;for(r=0,l=F.names.length;r<l;r++)if(F.names[r].test(t))return!0;return!1}function m(t){return t instanceof Error?t.stack||t.message:t}},11375:function(k){var F=1e3,e=F*60,h=e*60,E=h*24,n=E*365.25;k.exports=function(t,r){r=r||{};var l=typeof t;if(l==="string"&&t.length>0)return L(t);if(l==="number"&&isNaN(t)===!1)return r.long?p(t):w(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function L(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var l=parseFloat(r[1]),i=(r[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return l*n;case"days":case"day":case"d":return l*E;case"hours":case"hour":case"hrs":case"hr":case"h":return l*h;case"minutes":case"minute":case"mins":case"min":case"m":return l*e;case"seconds":case"second":case"secs":case"sec":case"s":return l*F;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function w(t){return t>=E?Math.round(t/E)+"d":t>=h?Math.round(t/h)+"h":t>=e?Math.round(t/e)+"m":t>=F?Math.round(t/F)+"s":t+"ms"}function p(t){return m(t,E,"day")||m(t,h,"hour")||m(t,e,"minute")||m(t,F,"second")||t+" ms"}function m(t,r,l){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+l:Math.ceil(t/r)+" "+l+"s"}},99011:function(k,F,e){var h=e(88641);k.exports=function(n,L,w){if(n==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");w?(typeof w=="string"||Array.isArray(w))&&(w={ignore:w}):w={},w.escape==null&&(w.escape=!0),w.ignore==null?w.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof w.ignore=="string"&&(w.ignore=[w.ignore]),w.ignore=w.ignore.map(function(v){return v.length===1&&(v=v+v),v}));var p=h.parse(n,{flat:!0,brackets:w.ignore}),m=p[0],t=m.split(L);if(w.escape){for(var r=[],l=0;l<t.length;l++){var i=t[l],f=t[l+1];i[i.length-1]==="\\"&&i[i.length-2]!=="\\"?(r.push(i+L+f),l++):r.push(i)}t=r}for(var l=0;l<t.length;l++)p[0]=t[l],t[l]=h.stringify(p,{flat:!0});return t}},68664:function(k){k.exports=F;function F(e){for(var h=e.length,E=new Array(h),n=new Array(h),L=new Array(h),w=new Array(h),p=new Array(h),m=new Array(h),t=0;t<h;++t)E[t]=-1,n[t]=0,L[t]=!1,w[t]=0,p[t]=-1,m[t]=[];var r=0,l=[],i=[];function f(d){var M=[d],g=[d];for(E[d]=n[d]=r,L[d]=!0,r+=1;g.length>0;){d=g[g.length-1];var u=e[d];if(w[d]<u.length){for(var y=w[d];y<u.length;++y){var C=u[y];if(E[C]<0){E[C]=n[C]=r,L[C]=!0,r+=1,M.push(C),g.push(C);break}else L[C]&&(n[d]=Math.min(n[d],n[C])|0);p[C]>=0&&m[d].push(p[C])}w[d]=y}else{if(n[d]===E[d]){for(var S=[],D=[],T=0,y=M.length-1;y>=0;--y){var P=M[y];if(L[P]=!1,S.push(P),D.push(m[P]),T+=m[P].length,p[P]=l.length,P===d){M.length=y;break}}l.push(S);for(var A=new Array(T),y=0;y<D.length;y++)for(var a=0;a<D[y].length;a++)A[--T]=D[y][a];i.push(A)}g.pop()}}}for(var t=0;t<h;++t)E[t]<0&&f(t);for(var v,t=0;t<i.length;t++){var c=i[t];if(c.length!==0){c.sort(function(M,g){return M-g}),v=[c[0]];for(var x=1;x<c.length;x++)c[x]!==c[x-1]&&v.push(c[x]);i[t]=v}}return{components:l,adjacencyList:i}}},7095:function(k,F,e){e.r(F);var h=function(){function t(r,l){var i=[],f=!0,v=!1,c=void 0;try{for(var x=r[Symbol.iterator](),d;!(f=(d=x.next()).done)&&(i.push(d.value),!(l&&i.length===l));f=!0);}catch(M){v=!0,c=M}finally{try{!f&&x.return&&x.return()}finally{if(v)throw c}}return i}return function(r,l){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=Math.PI*2,n=function(r,l,i,f,v,c,x){var d=r.x,M=r.y;d*=l,M*=i;var g=f*d-v*M,u=v*d+f*M;return{x:g+c,y:u+x}},L=function(r,l){var i=l===1.5707963267948966?.551915024494:l===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(l/4),f=Math.cos(r),v=Math.sin(r),c=Math.cos(r+l),x=Math.sin(r+l);return[{x:f-v*i,y:v+f*i},{x:c+x*i,y:x-c*i},{x:c,y:x}]},w=function(r,l,i,f){var v=r*f-l*i<0?-1:1,c=r*i+l*f;return c>1&&(c=1),c<-1&&(c=-1),v*Math.acos(c)},p=function(r,l,i,f,v,c,x,d,M,g,u,y){var C=Math.pow(v,2),S=Math.pow(c,2),D=Math.pow(u,2),T=Math.pow(y,2),P=C*S-C*T-S*D;P<0&&(P=0),P/=C*T+S*D,P=Math.sqrt(P)*(x===d?-1:1);var A=P*v/c*y,a=P*-c/v*u,R=g*A-M*a+(r+i)/2,b=M*A+g*a+(l+f)/2,N=(u-A)/v,O=(y-a)/c,Y=(-u-A)/v,B=(-y-a)/c,W=w(1,0,N,O),H=w(N,O,Y,B);return d===0&&H>0&&(H-=E),d===1&&H<0&&(H+=E),[R,b,W,H]},m=function(r){var l=r.px,i=r.py,f=r.cx,v=r.cy,c=r.rx,x=r.ry,d=r.xAxisRotation,M=d===void 0?0:d,g=r.largeArcFlag,u=g===void 0?0:g,y=r.sweepFlag,C=y===void 0?0:y,S=[];if(c===0||x===0)return[];var D=Math.sin(M*E/360),T=Math.cos(M*E/360),P=T*(l-f)/2+D*(i-v)/2,A=-D*(l-f)/2+T*(i-v)/2;if(P===0&&A===0)return[];c=Math.abs(c),x=Math.abs(x);var a=Math.pow(P,2)/Math.pow(c,2)+Math.pow(A,2)/Math.pow(x,2);a>1&&(c*=Math.sqrt(a),x*=Math.sqrt(a));var R=p(l,i,f,v,c,x,u,C,D,T,P,A),b=h(R,4),N=b[0],O=b[1],Y=b[2],B=b[3],W=Math.abs(B)/(E/4);Math.abs(1-W)<1e-7&&(W=1);var H=Math.max(Math.ceil(W),1);B/=H;for(var U=0;U<H;U++)S.push(L(Y,B)),Y+=B;return S.map(function(G){var j=n(G[0],c,x,T,D,N,O),re=j.x,ae=j.y,ue=n(G[1],c,x,T,D,N,O),de=ue.x,ee=ue.y,X=n(G[2],c,x,T,D,N,O),Q=X.x,$=X.y;return{x1:re,y1:ae,x2:de,y2:ee,x:Q,y:$}})};F.default=m},1750:function(k,F,e){var h=e(95616),E=e(65185),n=e(29988),L=e(89546),w=e(32791);k.exports=p;function p(m){if(Array.isArray(m)&&m.length===1&&typeof m[0]=="string"&&(m=m[0]),typeof m=="string"&&(w(L(m),"String is not an SVG path."),m=h(m)),w(Array.isArray(m),"Argument should be a string or an array of path segments."),m=E(m),m=n(m),!m.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,l=m.length;r<l;r++)for(var i=m[r].slice(1),f=0;f<i.length;f+=2)i[f+0]<t[0]&&(t[0]=i[f+0]),i[f+1]<t[1]&&(t[1]=i[f+1]),i[f+0]>t[2]&&(t[2]=i[f+0]),i[f+1]>t[3]&&(t[3]=i[f+1]);return t}},29988:function(k,F,e){k.exports=E;var h=e(7095);function E(w){for(var p,m=[],t=0,r=0,l=0,i=0,f=null,v=null,c=0,x=0,d=0,M=w.length;d<M;d++){var g=w[d],u=g[0];switch(u){case"M":l=g[1],i=g[2];break;case"A":var y=h({px:c,py:x,cx:g[6],cy:g[7],rx:g[1],ry:g[2],xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5]});if(!y.length)continue;for(var C=0,S;C<y.length;C++)S=y[C],g=["C",S.x1,S.y1,S.x2,S.y2,S.x,S.y],C<y.length-1&&m.push(g);break;case"S":var D=c,T=x;(p=="C"||p=="S")&&(D+=D-t,T+=T-r),g=["C",D,T,g[1],g[2],g[3],g[4]];break;case"T":p=="Q"||p=="T"?(f=c*2-f,v=x*2-v):(f=c,v=x),g=L(c,x,f,v,g[1],g[2]);break;case"Q":f=g[1],v=g[2],g=L(c,x,g[1],g[2],g[3],g[4]);break;case"L":g=n(c,x,g[1],g[2]);break;case"H":g=n(c,x,g[1],x);break;case"V":g=n(c,x,c,g[1]);break;case"Z":g=n(c,x,l,i);break}p=u,c=g[g.length-2],x=g[g.length-1],g.length>4?(t=g[g.length-4],r=g[g.length-3]):(t=c,r=x),m.push(g)}return m}function n(w,p,m,t){return["C",w,p,m,t,m,t]}function L(w,p,m,t,r,l){return["C",w/3+.6666666666666666*m,p/3+.6666666666666666*t,r/3+.6666666666666666*m,l/3+.6666666666666666*t,r,l]}},82019:function(k,F,e){var h=e(1750),E=e(95616),n=e(31457),L=e(89546),w=e(44781),p=document.createElement("canvas"),m=p.getContext("2d");k.exports=t;function t(i,f){if(!L(i))throw Error("Argument should be valid svg path string");f||(f={});var v,c;f.shape?(v=f.shape[0],c=f.shape[1]):(v=p.width=f.w||f.width||200,c=p.height=f.h||f.height||200);var x=Math.min(v,c),d=f.stroke||0,M=f.viewbox||f.viewBox||h(i),g=[v/(M[2]-M[0]),c/(M[3]-M[1])],u=Math.min(g[0]||0,g[1]||0)/2;if(m.fillStyle="black",m.fillRect(0,0,v,c),m.fillStyle="white",d&&(typeof d!="number"&&(d=1),d>0?m.strokeStyle="white":m.strokeStyle="black",m.lineWidth=Math.abs(d)),m.translate(v*.5,c*.5),m.scale(u,u),l()){var y=new Path2D(i);m.fill(y),d&&m.stroke(y)}else{var C=E(i);n(m,C),m.fill(),d&&m.stroke()}m.setTransform(1,0,0,1,0,0);var S=w(m,{cutoff:f.cutoff!=null?f.cutoff:.5,radius:f.radius!=null?f.radius:x*.5});return S}var r;function l(){if(r!=null)return r;var i=document.createElement("canvas").getContext("2d");if(i.canvas.width=i.canvas.height=1,!window.Path2D)return r=!1;var f=new Path2D("M0,0h1v1h-1v-1Z");i.fillStyle="black",i.fill(f);var v=i.getImageData(0,0,1,1);return r=v&&v.data&&v.data[3]===255}},84267:function(k,F,e){var h;(function(E){var n=/^\s+/,L=/\s+$/,w=0,p=E.round,m=E.min,t=E.max,r=E.random;function l(q,he){if(q=q||"",he=he||{},q instanceof l)return q;if(!(this instanceof l))return new l(q,he);var se=i(q);this._originalInput=q,this._r=se.r,this._g=se.g,this._b=se.b,this._a=se.a,this._roundA=p(100*this._a)/100,this._format=he.format||se.format,this._gradientType=he.gradientType,this._r<1&&(this._r=p(this._r)),this._g<1&&(this._g=p(this._g)),this._b<1&&(this._b=p(this._b)),this._ok=se.ok,this._tc_id=w++}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var q=this.toRgb();return(q.r*299+q.g*587+q.b*114)/1e3},getLuminance:function(){var q=this.toRgb(),he,se,pe,we,Ee,Me;return he=q.r/255,se=q.g/255,pe=q.b/255,he<=.03928?we=he/12.92:we=E.pow((he+.055)/1.055,2.4),se<=.03928?Ee=se/12.92:Ee=E.pow((se+.055)/1.055,2.4),pe<=.03928?Me=pe/12.92:Me=E.pow((pe+.055)/1.055,2.4),.2126*we+.7152*Ee+.0722*Me},setAlpha:function(q){return this._a=U(q),this._roundA=p(100*this._a)/100,this},toHsv:function(){var q=x(this._r,this._g,this._b);return{h:q.h*360,s:q.s,v:q.v,a:this._a}},toHsvString:function(){var q=x(this._r,this._g,this._b),he=p(q.h*360),se=p(q.s*100),pe=p(q.v*100);return this._a==1?"hsv("+he+", "+se+"%, "+pe+"%)":"hsva("+he+", "+se+"%, "+pe+"%, "+this._roundA+")"},toHsl:function(){var q=v(this._r,this._g,this._b);return{h:q.h*360,s:q.s,l:q.l,a:this._a}},toHslString:function(){var q=v(this._r,this._g,this._b),he=p(q.h*360),se=p(q.s*100),pe=p(q.l*100);return this._a==1?"hsl("+he+", "+se+"%, "+pe+"%)":"hsla("+he+", "+se+"%, "+pe+"%, "+this._roundA+")"},toHex:function(q){return M(this._r,this._g,this._b,q)},toHexString:function(q){return"#"+this.toHex(q)},toHex8:function(q){return g(this._r,this._g,this._b,this._a,q)},toHex8String:function(q){return"#"+this.toHex8(q)},toRgb:function(){return{r:p(this._r),g:p(this._g),b:p(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+p(this._r)+", "+p(this._g)+", "+p(this._b)+")":"rgba("+p(this._r)+", "+p(this._g)+", "+p(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:p(G(this._r,255)*100)+"%",g:p(G(this._g,255)*100)+"%",b:p(G(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+p(G(this._r,255)*100)+"%, "+p(G(this._g,255)*100)+"%, "+p(G(this._b,255)*100)+"%)":"rgba("+p(G(this._r,255)*100)+"%, "+p(G(this._g,255)*100)+"%, "+p(G(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:W[M(this._r,this._g,this._b,!0)]||!1},toFilter:function(q){var he="#"+u(this._r,this._g,this._b,this._a),se=he,pe=this._gradientType?"GradientType = 1, ":"";if(q){var we=l(q);se="#"+u(we._r,we._g,we._b,we._a)}return"progid:DXImageTransform.Microsoft.gradient("+pe+"startColorstr="+he+",endColorstr="+se+")"},toString:function(q){var he=!!q;q=q||this._format;var se=!1,pe=this._a<1&&this._a>=0,we=!he&&pe&&(q==="hex"||q==="hex6"||q==="hex3"||q==="hex4"||q==="hex8"||q==="name");return we?q==="name"&&this._a===0?this.toName():this.toRgbString():(q==="rgb"&&(se=this.toRgbString()),q==="prgb"&&(se=this.toPercentageRgbString()),(q==="hex"||q==="hex6")&&(se=this.toHexString()),q==="hex3"&&(se=this.toHexString(!0)),q==="hex4"&&(se=this.toHex8String(!0)),q==="hex8"&&(se=this.toHex8String()),q==="name"&&(se=this.toName()),q==="hsl"&&(se=this.toHslString()),q==="hsv"&&(se=this.toHsvString()),se||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(q,he){var se=q.apply(null,[this].concat([].slice.call(he)));return this._r=se._r,this._g=se._g,this._b=se._b,this.setAlpha(se._a),this},lighten:function(){return this._applyModification(D,arguments)},brighten:function(){return this._applyModification(T,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(q,he){return q.apply(null,[this].concat([].slice.call(he)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(a,arguments)},monochromatic:function(){return this._applyCombination(Y,arguments)},splitcomplement:function(){return this._applyCombination(N,arguments)},triad:function(){return this._applyCombination(R,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},l.fromRatio=function(q,he){if(typeof q=="object"){var se={};for(var pe in q)q.hasOwnProperty(pe)&&(pe==="a"?se[pe]=q[pe]:se[pe]=ee(q[pe]));q=se}return l(q,he)};function i(q){var he={r:0,g:0,b:0},se=1,pe=null,we=null,Ee=null,Me=!1,Be=!1;return typeof q=="string"&&(q=fe(q)),typeof q=="object"&&(ne(q.r)&&ne(q.g)&&ne(q.b)?(he=f(q.r,q.g,q.b),Me=!0,Be=String(q.r).substr(-1)==="%"?"prgb":"rgb"):ne(q.h)&&ne(q.s)&&ne(q.v)?(pe=ee(q.s),we=ee(q.v),he=d(q.h,pe,we),Me=!0,Be="hsv"):ne(q.h)&&ne(q.s)&&ne(q.l)&&(pe=ee(q.s),Ee=ee(q.l),he=c(q.h,pe,Ee),Me=!0,Be="hsl"),q.hasOwnProperty("a")&&(se=q.a)),se=U(se),{ok:Me,format:q.format||Be,r:m(255,t(he.r,0)),g:m(255,t(he.g,0)),b:m(255,t(he.b,0)),a:se}}function f(q,he,se){return{r:G(q,255)*255,g:G(he,255)*255,b:G(se,255)*255}}function v(q,he,se){q=G(q,255),he=G(he,255),se=G(se,255);var pe=t(q,he,se),we=m(q,he,se),Ee,Me,Be=(pe+we)/2;if(pe==we)Ee=Me=0;else{var Ne=pe-we;switch(Me=Be>.5?Ne/(2-pe-we):Ne/(pe+we),pe){case q:Ee=(he-se)/Ne+(he<se?6:0);break;case he:Ee=(se-q)/Ne+2;break;case se:Ee=(q-he)/Ne+4;break}Ee/=6}return{h:Ee,s:Me,l:Be}}function c(q,he,se){var pe,we,Ee;q=G(q,360),he=G(he,100),se=G(se,100);function Me(Ce,Te,Le){return Le<0&&(Le+=1),Le>1&&(Le-=1),Le<.16666666666666666?Ce+(Te-Ce)*6*Le:Le<.5?Te:Le<.6666666666666666?Ce+(Te-Ce)*(.6666666666666666-Le)*6:Ce}if(he===0)pe=we=Ee=se;else{var Be=se<.5?se*(1+he):se+he-se*he,Ne=2*se-Be;pe=Me(Ne,Be,q+.3333333333333333),we=Me(Ne,Be,q),Ee=Me(Ne,Be,q-.3333333333333333)}return{r:pe*255,g:we*255,b:Ee*255}}function x(q,he,se){q=G(q,255),he=G(he,255),se=G(se,255);var pe=t(q,he,se),we=m(q,he,se),Ee,Me,Be=pe,Ne=pe-we;if(Me=pe===0?0:Ne/pe,pe==we)Ee=0;else{switch(pe){case q:Ee=(he-se)/Ne+(he<se?6:0);break;case he:Ee=(se-q)/Ne+2;break;case se:Ee=(q-he)/Ne+4;break}Ee/=6}return{h:Ee,s:Me,v:Be}}function d(q,he,se){q=G(q,360)*6,he=G(he,100),se=G(se,100);var pe=E.floor(q),we=q-pe,Ee=se*(1-he),Me=se*(1-we*he),Be=se*(1-(1-we)*he),Ne=pe%6,Ce=[se,Me,Ee,Ee,Be,se][Ne],Te=[Be,se,se,Me,Ee,Ee][Ne],Le=[Ee,Ee,Be,se,se,Me][Ne];return{r:Ce*255,g:Te*255,b:Le*255}}function M(q,he,se,pe){var we=[de(p(q).toString(16)),de(p(he).toString(16)),de(p(se).toString(16))];return pe&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0):we.join("")}function g(q,he,se,pe,we){var Ee=[de(p(q).toString(16)),de(p(he).toString(16)),de(p(se).toString(16)),de(X(pe))];return we&&Ee[0].charAt(0)==Ee[0].charAt(1)&&Ee[1].charAt(0)==Ee[1].charAt(1)&&Ee[2].charAt(0)==Ee[2].charAt(1)&&Ee[3].charAt(0)==Ee[3].charAt(1)?Ee[0].charAt(0)+Ee[1].charAt(0)+Ee[2].charAt(0)+Ee[3].charAt(0):Ee.join("")}function u(q,he,se,pe){var we=[de(X(pe)),de(p(q).toString(16)),de(p(he).toString(16)),de(p(se).toString(16))];return we.join("")}l.equals=function(q,he){return!q||!he?!1:l(q).toRgbString()==l(he).toRgbString()},l.random=function(){return l.fromRatio({r:r(),g:r(),b:r()})};function y(q,he){he=he===0?0:he||10;var se=l(q).toHsl();return se.s-=he/100,se.s=j(se.s),l(se)}function C(q,he){he=he===0?0:he||10;var se=l(q).toHsl();return se.s+=he/100,se.s=j(se.s),l(se)}function S(q){return l(q).desaturate(100)}function D(q,he){he=he===0?0:he||10;var se=l(q).toHsl();return se.l+=he/100,se.l=j(se.l),l(se)}function T(q,he){he=he===0?0:he||10;var se=l(q).toRgb();return se.r=t(0,m(255,se.r-p(255*-(he/100)))),se.g=t(0,m(255,se.g-p(255*-(he/100)))),se.b=t(0,m(255,se.b-p(255*-(he/100)))),l(se)}function P(q,he){he=he===0?0:he||10;var se=l(q).toHsl();return se.l-=he/100,se.l=j(se.l),l(se)}function A(q,he){var se=l(q).toHsl(),pe=(se.h+he)%360;return se.h=pe<0?360+pe:pe,l(se)}function a(q){var he=l(q).toHsl();return he.h=(he.h+180)%360,l(he)}function R(q){var he=l(q).toHsl(),se=he.h;return[l(q),l({h:(se+120)%360,s:he.s,l:he.l}),l({h:(se+240)%360,s:he.s,l:he.l})]}function b(q){var he=l(q).toHsl(),se=he.h;return[l(q),l({h:(se+90)%360,s:he.s,l:he.l}),l({h:(se+180)%360,s:he.s,l:he.l}),l({h:(se+270)%360,s:he.s,l:he.l})]}function N(q){var he=l(q).toHsl(),se=he.h;return[l(q),l({h:(se+72)%360,s:he.s,l:he.l}),l({h:(se+216)%360,s:he.s,l:he.l})]}function O(q,he,se){he=he||6,se=se||30;var pe=l(q).toHsl(),we=360/se,Ee=[l(q)];for(pe.h=(pe.h-(we*he>>1)+720)%360;--he;)pe.h=(pe.h+we)%360,Ee.push(l(pe));return Ee}function Y(q,he){he=he||6;for(var se=l(q).toHsv(),pe=se.h,we=se.s,Ee=se.v,Me=[],Be=1/he;he--;)Me.push(l({h:pe,s:we,v:Ee})),Ee=(Ee+Be)%1;return Me}l.mix=function(q,he,se){se=se===0?0:se||50;var pe=l(q).toRgb(),we=l(he).toRgb(),Ee=se/100,Me={r:(we.r-pe.r)*Ee+pe.r,g:(we.g-pe.g)*Ee+pe.g,b:(we.b-pe.b)*Ee+pe.b,a:(we.a-pe.a)*Ee+pe.a};return l(Me)},l.readability=function(q,he){var se=l(q),pe=l(he);return(E.max(se.getLuminance(),pe.getLuminance())+.05)/(E.min(se.getLuminance(),pe.getLuminance())+.05)},l.isReadable=function(q,he,se){var pe=l.readability(q,he),we,Ee;switch(Ee=!1,we=te(se),we.level+we.size){case"AAsmall":case"AAAlarge":Ee=pe>=4.5;break;case"AAlarge":Ee=pe>=3;break;case"AAAsmall":Ee=pe>=7;break}return Ee},l.mostReadable=function(q,he,se){var pe=null,we=0,Ee,Me,Be,Ne;se=se||{},Me=se.includeFallbackColors,Be=se.level,Ne=se.size;for(var Ce=0;Ce<he.length;Ce++)Ee=l.readability(q,he[Ce]),Ee>we&&(we=Ee,pe=l(he[Ce]));return l.isReadable(q,pe,{level:Be,size:Ne})||!Me?pe:(se.includeFallbackColors=!1,l.mostReadable(q,["#fff","#000"],se))};var B=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=l.hexNames=H(B);function H(q){var he={};for(var se in q)q.hasOwnProperty(se)&&(he[q[se]]=se);return he}function U(q){return q=parseFloat(q),(isNaN(q)||q<0||q>1)&&(q=1),q}function G(q,he){ae(q)&&(q="100%");var se=ue(q);return q=m(he,t(0,parseFloat(q))),se&&(q=parseInt(q*he,10)/100),E.abs(q-he)<1e-6?1:q%he/parseFloat(he)}function j(q){return m(1,t(0,q))}function re(q){return parseInt(q,16)}function ae(q){return typeof q=="string"&&q.indexOf(".")!=-1&&parseFloat(q)===1}function ue(q){return typeof q=="string"&&q.indexOf("%")!=-1}function de(q){return q.length==1?"0"+q:""+q}function ee(q){return q<=1&&(q=q*100+"%"),q}function X(q){return E.round(parseFloat(q)*255).toString(16)}function Q(q){return re(q)/255}var $=function(){var q="[-\\+]?\\d+%?",he="[-\\+]?\\d*\\.\\d+%?",se="(?:"+he+")|(?:"+q+")",pe="[\\s|\\(]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")\\s*\\)?",we="[\\s|\\(]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")\\s*\\)?";return{CSS_UNIT:new RegExp(se),rgb:new RegExp("rgb"+pe),rgba:new RegExp("rgba"+we),hsl:new RegExp("hsl"+pe),hsla:new RegExp("hsla"+we),hsv:new RegExp("hsv"+pe),hsva:new RegExp("hsva"+we),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ne(q){return!!$.CSS_UNIT.exec(q)}function fe(q){q=q.replace(n,"").replace(L,"").toLowerCase();var he=!1;if(B[q])q=B[q],he=!0;else if(q=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var se;return(se=$.rgb.exec(q))?{r:se[1],g:se[2],b:se[3]}:(se=$.rgba.exec(q))?{r:se[1],g:se[2],b:se[3],a:se[4]}:(se=$.hsl.exec(q))?{h:se[1],s:se[2],l:se[3]}:(se=$.hsla.exec(q))?{h:se[1],s:se[2],l:se[3],a:se[4]}:(se=$.hsv.exec(q))?{h:se[1],s:se[2],v:se[3]}:(se=$.hsva.exec(q))?{h:se[1],s:se[2],v:se[3],a:se[4]}:(se=$.hex8.exec(q))?{r:re(se[1]),g:re(se[2]),b:re(se[3]),a:Q(se[4]),format:he?"name":"hex8"}:(se=$.hex6.exec(q))?{r:re(se[1]),g:re(se[2]),b:re(se[3]),format:he?"name":"hex"}:(se=$.hex4.exec(q))?{r:re(se[1]+""+se[1]),g:re(se[2]+""+se[2]),b:re(se[3]+""+se[3]),a:Q(se[4]+""+se[4]),format:he?"name":"hex8"}:(se=$.hex3.exec(q))?{r:re(se[1]+""+se[1]),g:re(se[2]+""+se[2]),b:re(se[3]+""+se[3]),format:he?"name":"hex"}:!1}function te(q){var he,se;return q=q||{level:"AA",size:"small"},he=(q.level||"AA").toUpperCase(),se=(q.size||"small").toLowerCase(),he!=="AA"&&he!=="AAA"&&(he="AA"),se!=="small"&&se!=="large"&&(se="small"),{level:he,size:se}}k.exports?k.exports=l:(h=function(){return l}.call(F,e,F,k),h!==void 0&&(k.exports=h))})(Math)},57060:function(k){k.exports=h,k.exports.float32=k.exports.float=h,k.exports.fract32=k.exports.fract=e;var F=new Float32Array(1);function e(E,n){if(E.length){if(E instanceof Float32Array)return new Float32Array(E.length);n instanceof Float32Array||(n=h(E));for(var L=0,w=n.length;L<w;L++)n[L]=E[L]-n[L];return n}return h(E-h(E))}function h(E){return E.length?E instanceof Float32Array?E:new Float32Array(E):(F[0]=E,F[0])}},75686:function(k,F,e){var h=e(25677);k.exports=w;var E=96;function n(p,m){var t=h(getComputedStyle(p).getPropertyValue(m));return t[0]*w(t[1],p)}function L(p,m){var t=document.createElement("div");t.style["font-size"]="128"+p,m.appendChild(t);var r=n(t,"font-size")/128;return m.removeChild(t),r}function w(p,m){switch(m=m||document.body,p=(p||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),p){case"%":return m.clientHeight/100;case"ch":case"ex":return L(p,m);case"em":return n(m,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return E;case"cm":return E/2.54;case"mm":return E/25.4;case"pt":return E/72;case"pc":return E/6}return 1}},96892:function(k,F,e){e.d(F,{zL:function(){return L}});function h(m,t){for(var r,l=m.length,i=l-t;i<--l;)r=m[i],m[i++]=m[l],m[l]=r}function E(m){return m}function n(m){if(m==null)return E;var t,r,l=m.scale[0],i=m.scale[1],f=m.translate[0],v=m.translate[1];return function(c,x){x||(t=r=0);var d=2,M=c.length,g=new Array(M);for(g[0]=(t+=c[0])*l+f,g[1]=(r+=c[1])*i+v;d<M;)g[d]=c[d],++d;return g}}function L(m,t){return typeof t=="string"&&(t=m.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return w(m,r)})}:w(m,t)}function w(m,t){var r=t.id,l=t.bbox,i=t.properties==null?{}:t.properties,f=p(m,t);return r==null&&l==null?{type:"Feature",properties:i,geometry:f}:l==null?{type:"Feature",id:r,properties:i,geometry:f}:{type:"Feature",id:r,bbox:l,properties:i,geometry:f}}function p(m,t){var r=n(m.transform),l=m.arcs;function i(M,g){g.length&&g.pop();for(var u=l[M<0?~M:M],y=0,C=u.length;y<C;++y)g.push(r(u[y],y));M<0&&h(g,C)}function f(M){return r(M)}function v(M){for(var g=[],u=0,y=M.length;u<y;++u)i(M[u],g);return g.length<2&&g.push(g[0]),g}function c(M){for(var g=v(M);g.length<4;)g.push(g[0]);return g}function x(M){return M.map(c)}function d(M){var g=M.type,u;switch(g){case"GeometryCollection":return{type:g,geometries:M.geometries.map(d)};case"Point":u=f(M.coordinates);break;case"MultiPoint":u=M.coordinates.map(f);break;case"LineString":u=v(M.arcs);break;case"MultiLineString":u=M.arcs.map(v);break;case"Polygon":u=x(M.arcs);break;case"MultiPolygon":u=M.arcs.map(x);break;default:return null}return{type:g,coordinates:u}}return d(t)}},73116:function(k,F,e){var h=e(24511);k.exports=function(E){if(typeof E!="function"||!hasOwnProperty.call(E,"length"))return!1;try{if(typeof E.length!="number"||typeof E.call!="function"||typeof E.apply!="function")return!1}catch{return!1}return!h(E)}},69190:function(k,F,e){var h=e(24582),E=e(47403),n=e(9234),L=e(6048),w=function(p,m){return p.replace("%v",L(m))};k.exports=function(p,m,t){if(!E(t))throw new TypeError(w(m,p));if(!h(p)){if("default"in t)return t.default;if(t.isOptional)return null}var r=n(t.errorMessage);throw h(r)||(r=m),new TypeError(w(r,p))}},18497:function(k){k.exports=function(F){try{return F.toString()}catch{try{return String(F)}catch{return null}}}},6048:function(k,F,e){var h=e(18497),E=/[\n\r\u2028\u2029]/g;k.exports=function(n){var L=h(n);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+"…"),L=L.replace(E,function(w){switch(w){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},47403:function(k,F,e){var h=e(24582),E={object:!0,function:!0,undefined:!0};k.exports=function(n){return h(n)?hasOwnProperty.call(E,typeof n):!1}},82527:function(k,F,e){var h=e(69190),E=e(84985);k.exports=function(n){return E(n)?n:h(n,"%v is not a plain function",arguments[1])}},84985:function(k,F,e){var h=e(73116),E=/^\s*class[\s{/}]/,n=Function.prototype.toString;k.exports=function(L){return!(!h(L)||E.test(n.call(L)))}},24511:function(k,F,e){var h=e(47403);k.exports=function(E){if(!h(E))return!1;try{return E.constructor?E.constructor.prototype===E:!1}catch{return!1}}},9234:function(k,F,e){var h=e(24582),E=e(47403),n=Object.prototype.toString;k.exports=function(L){if(!h(L))return null;if(E(L)){var w=L.toString;if(typeof w!="function"||w===n)return null}try{return""+L}catch{return null}}},10424:function(k,F,e){var h=e(69190),E=e(24582);k.exports=function(n){return E(n)?n:h(n,"Cannot use %v",arguments[1])}},24582:function(k){var F=void 0;k.exports=function(e){return e!==F&&e!==null}},58404:function(k,F,e){var h=e(13547),E=e(12129),n=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:E([32,0]),UINT16:E([32,0]),UINT32:E([32,0]),BIGUINT64:E([32,0]),INT8:E([32,0]),INT16:E([32,0]),INT32:E([32,0]),BIGINT64:E([32,0]),FLOAT:E([32,0]),DOUBLE:E([32,0]),DATA:E([32,0]),UINT8C:E([32,0]),BUFFER:E([32,0])});var L=typeof Uint8ClampedArray<"u",w=typeof BigUint64Array<"u",p=typeof BigInt64Array<"u",m=e.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=E([32,0])),m.BIGUINT64||(m.BIGUINT64=E([32,0])),m.BIGINT64||(m.BIGINT64=E([32,0])),m.BUFFER||(m.BUFFER=E([32,0]));var t=m.DATA,r=m.BUFFER;F.free=function(a){if(n.isBuffer(a))r[h.log2(a.length)].push(a);else{if(Object.prototype.toString.call(a)!=="[object ArrayBuffer]"&&(a=a.buffer),!a)return;var R=a.length||a.byteLength,b=h.log2(R)|0;t[b].push(a)}};function l(A){if(A){var a=A.length||A.byteLength,R=h.log2(a);t[R].push(A)}}function i(A){l(A.buffer)}F.freeUint8=F.freeUint16=F.freeUint32=F.freeBigUint64=F.freeInt8=F.freeInt16=F.freeInt32=F.freeBigInt64=F.freeFloat32=F.freeFloat=F.freeFloat64=F.freeDouble=F.freeUint8Clamped=F.freeDataView=i,F.freeArrayBuffer=l,F.freeBuffer=function(a){r[h.log2(a.length)].push(a)},F.malloc=function(a,R){if(R===void 0||R==="arraybuffer")return f(a);switch(R){case"uint8":return v(a);case"uint16":return c(a);case"uint32":return x(a);case"int8":return d(a);case"int16":return M(a);case"int32":return g(a);case"float":case"float32":return u(a);case"double":case"float64":return y(a);case"uint8_clamped":return C(a);case"bigint64":return D(a);case"biguint64":return S(a);case"buffer":return P(a);case"data":case"dataview":return T(a);default:return null}return null};function f(a){var a=h.nextPow2(a),R=h.log2(a),b=t[R];return b.length>0?b.pop():new ArrayBuffer(a)}F.mallocArrayBuffer=f;function v(A){return new Uint8Array(f(A),0,A)}F.mallocUint8=v;function c(A){return new Uint16Array(f(2*A),0,A)}F.mallocUint16=c;function x(A){return new Uint32Array(f(4*A),0,A)}F.mallocUint32=x;function d(A){return new Int8Array(f(A),0,A)}F.mallocInt8=d;function M(A){return new Int16Array(f(2*A),0,A)}F.mallocInt16=M;function g(A){return new Int32Array(f(4*A),0,A)}F.mallocInt32=g;function u(A){return new Float32Array(f(4*A),0,A)}F.mallocFloat32=F.mallocFloat=u;function y(A){return new Float64Array(f(8*A),0,A)}F.mallocFloat64=F.mallocDouble=y;function C(A){return L?new Uint8ClampedArray(f(A),0,A):v(A)}F.mallocUint8Clamped=C;function S(A){return w?new BigUint64Array(f(8*A),0,A):null}F.mallocBigUint64=S;function D(A){return p?new BigInt64Array(f(8*A),0,A):null}F.mallocBigInt64=D;function T(A){return new DataView(f(A),0,A)}F.mallocDataView=T;function P(A){A=h.nextPow2(A);var a=h.log2(A),R=r[a];return R.length>0?R.pop():new n(A)}F.mallocBuffer=P,F.clearCache=function(){for(var a=0;a<32;++a)m.UINT8[a].length=0,m.UINT16[a].length=0,m.UINT32[a].length=0,m.INT8[a].length=0,m.INT16[a].length=0,m.INT32[a].length=0,m.FLOAT[a].length=0,m.DOUBLE[a].length=0,m.BIGUINT64[a].length=0,m.BIGINT64[a].length=0,m.UINT8C[a].length=0,t[a].length=0,r[a].length=0}},90448:function(k){var F=/[\'\"]/;k.exports=function(h){return h?(F.test(h.charAt(0))&&(h=h.substr(1)),F.test(h.charAt(h.length-1))&&(h=h.substr(0,h.length-1)),h):""}},93447:function(k){k.exports=function(e,h,E){Array.isArray(E)||(E=[].slice.call(arguments,2));for(var n=0,L=E.length;n<L;n++){var w=E[n];for(var p in w)if(!(h[p]!==void 0&&!Array.isArray(h[p])&&e[p]===h[p])&&p in h){var m;if(w[p]===!0)m=h[p];else{if(w[p]===!1)continue;if(typeof w[p]=="function"&&(m=w[p](h[p],e,h),m===void 0))continue}e[p]=m}}return e}},20588:function(k,F,e){k.exports=h;function h(n,L){if(E("noDeprecation"))return n;var w=!1;function p(){if(!w){if(E("throwDeprecation"))throw new Error(L);E("traceDeprecation")?console.trace(L):console.warn(L),w=!0}return n.apply(this,arguments)}return p}function E(n){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[n];return L==null?!1:String(L).toLowerCase()==="true"}},45920:function(k){k.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(k,F,e){var h=e(47216),E=e(65481),n=e(21099),L=e(9187);function w(Ee){return Ee.call.bind(Ee)}var p=typeof BigInt<"u",m=typeof Symbol<"u",t=w(Object.prototype.toString),r=w(Number.prototype.valueOf),l=w(String.prototype.valueOf),i=w(Boolean.prototype.valueOf);if(p)var f=w(BigInt.prototype.valueOf);if(m)var v=w(Symbol.prototype.valueOf);function c(Ee,Me){if(typeof Ee!="object")return!1;try{return Me(Ee),!0}catch{return!1}}F.isArgumentsObject=h,F.isGeneratorFunction=E,F.isTypedArray=L;function x(Ee){return typeof Promise<"u"&&Ee instanceof Promise||Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"&&typeof Ee.catch=="function"}F.isPromise=x;function d(Ee){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ee):L(Ee)||re(Ee)}F.isArrayBufferView=d;function M(Ee){return n(Ee)==="Uint8Array"}F.isUint8Array=M;function g(Ee){return n(Ee)==="Uint8ClampedArray"}F.isUint8ClampedArray=g;function u(Ee){return n(Ee)==="Uint16Array"}F.isUint16Array=u;function y(Ee){return n(Ee)==="Uint32Array"}F.isUint32Array=y;function C(Ee){return n(Ee)==="Int8Array"}F.isInt8Array=C;function S(Ee){return n(Ee)==="Int16Array"}F.isInt16Array=S;function D(Ee){return n(Ee)==="Int32Array"}F.isInt32Array=D;function T(Ee){return n(Ee)==="Float32Array"}F.isFloat32Array=T;function P(Ee){return n(Ee)==="Float64Array"}F.isFloat64Array=P;function A(Ee){return n(Ee)==="BigInt64Array"}F.isBigInt64Array=A;function a(Ee){return n(Ee)==="BigUint64Array"}F.isBigUint64Array=a;function R(Ee){return t(Ee)==="[object Map]"}R.working=typeof Map<"u"&&R(new Map);function b(Ee){return typeof Map>"u"?!1:R.working?R(Ee):Ee instanceof Map}F.isMap=b;function N(Ee){return t(Ee)==="[object Set]"}N.working=typeof Set<"u"&&N(new Set);function O(Ee){return typeof Set>"u"?!1:N.working?N(Ee):Ee instanceof Set}F.isSet=O;function Y(Ee){return t(Ee)==="[object WeakMap]"}Y.working=typeof WeakMap<"u"&&Y(new WeakMap);function B(Ee){return typeof WeakMap>"u"?!1:Y.working?Y(Ee):Ee instanceof WeakMap}F.isWeakMap=B;function W(Ee){return t(Ee)==="[object WeakSet]"}W.working=typeof WeakSet<"u"&&W(new WeakSet);function H(Ee){return W(Ee)}F.isWeakSet=H;function U(Ee){return t(Ee)==="[object ArrayBuffer]"}U.working=typeof ArrayBuffer<"u"&&U(new ArrayBuffer);function G(Ee){return typeof ArrayBuffer>"u"?!1:U.working?U(Ee):Ee instanceof ArrayBuffer}F.isArrayBuffer=G;function j(Ee){return t(Ee)==="[object DataView]"}j.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&j(new DataView(new ArrayBuffer(1),0,1));function re(Ee){return typeof DataView>"u"?!1:j.working?j(Ee):Ee instanceof DataView}F.isDataView=re;var ae=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ue(Ee){return t(Ee)==="[object SharedArrayBuffer]"}function de(Ee){return typeof ae>"u"?!1:(typeof ue.working>"u"&&(ue.working=ue(new ae)),ue.working?ue(Ee):Ee instanceof ae)}F.isSharedArrayBuffer=de;function ee(Ee){return t(Ee)==="[object AsyncFunction]"}F.isAsyncFunction=ee;function X(Ee){return t(Ee)==="[object Map Iterator]"}F.isMapIterator=X;function Q(Ee){return t(Ee)==="[object Set Iterator]"}F.isSetIterator=Q;function $(Ee){return t(Ee)==="[object Generator]"}F.isGeneratorObject=$;function ne(Ee){return t(Ee)==="[object WebAssembly.Module]"}F.isWebAssemblyCompiledModule=ne;function fe(Ee){return c(Ee,r)}F.isNumberObject=fe;function te(Ee){return c(Ee,l)}F.isStringObject=te;function q(Ee){return c(Ee,i)}F.isBooleanObject=q;function he(Ee){return p&&c(Ee,f)}F.isBigIntObject=he;function se(Ee){return m&&c(Ee,v)}F.isSymbolObject=se;function pe(Ee){return fe(Ee)||te(Ee)||q(Ee)||he(Ee)||se(Ee)}F.isBoxedPrimitive=pe;function we(Ee){return typeof Uint8Array<"u"&&(G(Ee)||de(Ee))}F.isAnyArrayBuffer=we,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ee){Object.defineProperty(F,Ee,{enumerable:!1,value:function(){throw new Error(Ee+" is not supported in userland")}})})},43827:function(k,F,e){var h=e(90386),E=Object.getOwnPropertyDescriptors||function(ae){for(var ue=Object.keys(ae),de={},ee=0;ee<ue.length;ee++)de[ue[ee]]=Object.getOwnPropertyDescriptor(ae,ue[ee]);return de},n=/%[sdj%]/g;F.format=function(re){if(!S(re)){for(var ae=[],ue=0;ue<arguments.length;ue++)ae.push(m(arguments[ue]));return ae.join(" ")}for(var ue=1,de=arguments,ee=de.length,X=String(re).replace(n,function($){if($==="%%")return"%";if(ue>=ee)return $;switch($){case"%s":return String(de[ue++]);case"%d":return Number(de[ue++]);case"%j":try{return JSON.stringify(de[ue++])}catch{return"[Circular]"}default:return $}}),Q=de[ue];ue<ee;Q=de[++ue])u(Q)||!A(Q)?X+=" "+Q:X+=" "+m(Q);return X},F.deprecate=function(re,ae){if(typeof h<"u"&&h.noDeprecation===!0)return re;if(typeof h>"u")return function(){return F.deprecate(re,ae).apply(this,arguments)};var ue=!1;function de(){if(!ue){if(h.throwDeprecation)throw new Error(ae);h.traceDeprecation?console.trace(ae):console.error(ae),ue=!0}return re.apply(this,arguments)}return de};var L={},w=/^$/;if({}.NODE_DEBUG){var p={}.NODE_DEBUG;p=p.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),w=new RegExp("^"+p+"$","i")}F.debuglog=function(re){if(re=re.toUpperCase(),!L[re])if(w.test(re)){var ae=h.pid;L[re]=function(){var ue=F.format.apply(F,arguments);console.error("%s %d: %s",re,ae,ue)}}else L[re]=function(){};return L[re]};function m(re,ae){var ue={seen:[],stylize:r};return arguments.length>=3&&(ue.depth=arguments[2]),arguments.length>=4&&(ue.colors=arguments[3]),g(ae)?ue.showHidden=ae:ae&&F._extend(ue,ae),T(ue.showHidden)&&(ue.showHidden=!1),T(ue.depth)&&(ue.depth=2),T(ue.colors)&&(ue.colors=!1),T(ue.customInspect)&&(ue.customInspect=!0),ue.colors&&(ue.stylize=t),i(ue,re,ue.depth)}F.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t(re,ae){var ue=m.styles[ae];return ue?"\x1B["+m.colors[ue][0]+"m"+re+"\x1B["+m.colors[ue][1]+"m":re}function r(re,ae){return re}function l(re){var ae={};return re.forEach(function(ue,de){ae[ue]=!0}),ae}function i(re,ae,ue){if(re.customInspect&&ae&&b(ae.inspect)&&ae.inspect!==F.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var de=ae.inspect(ue,re);return S(de)||(de=i(re,de,ue)),de}var ee=f(re,ae);if(ee)return ee;var X=Object.keys(ae),Q=l(X);if(re.showHidden&&(X=Object.getOwnPropertyNames(ae)),R(ae)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return v(ae);if(X.length===0){if(b(ae)){var $=ae.name?": "+ae.name:"";return re.stylize("[Function"+$+"]","special")}if(P(ae))return re.stylize(RegExp.prototype.toString.call(ae),"regexp");if(a(ae))return re.stylize(Date.prototype.toString.call(ae),"date");if(R(ae))return v(ae)}var ne="",fe=!1,te=["{","}"];if(M(ae)&&(fe=!0,te=["[","]"]),b(ae)){var q=ae.name?": "+ae.name:"";ne=" [Function"+q+"]"}if(P(ae)&&(ne=" "+RegExp.prototype.toString.call(ae)),a(ae)&&(ne=" "+Date.prototype.toUTCString.call(ae)),R(ae)&&(ne=" "+v(ae)),X.length===0&&(!fe||ae.length==0))return te[0]+ne+te[1];if(ue<0)return P(ae)?re.stylize(RegExp.prototype.toString.call(ae),"regexp"):re.stylize("[Object]","special");re.seen.push(ae);var he;return fe?he=c(re,ae,ue,Q,X):he=X.map(function(se){return x(re,ae,ue,Q,se,fe)}),re.seen.pop(),d(he,ne,te)}function f(re,ae){if(T(ae))return re.stylize("undefined","undefined");if(S(ae)){var ue="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return re.stylize(ue,"string")}if(C(ae))return re.stylize(""+ae,"number");if(g(ae))return re.stylize(""+ae,"boolean");if(u(ae))return re.stylize("null","null")}function v(re){return"["+Error.prototype.toString.call(re)+"]"}function c(re,ae,ue,de,ee){for(var X=[],Q=0,$=ae.length;Q<$;++Q)H(ae,String(Q))?X.push(x(re,ae,ue,de,String(Q),!0)):X.push("");return ee.forEach(function(ne){ne.match(/^\d+$/)||X.push(x(re,ae,ue,de,ne,!0))}),X}function x(re,ae,ue,de,ee,X){var Q,$,ne;if(ne=Object.getOwnPropertyDescriptor(ae,ee)||{value:ae[ee]},ne.get?ne.set?$=re.stylize("[Getter/Setter]","special"):$=re.stylize("[Getter]","special"):ne.set&&($=re.stylize("[Setter]","special")),H(de,ee)||(Q="["+ee+"]"),$||(re.seen.indexOf(ne.value)<0?(u(ue)?$=i(re,ne.value,null):$=i(re,ne.value,ue-1),$.indexOf(`
`)>-1&&(X?$=$.split(`
`).map(function(fe){return"  "+fe}).join(`
`).slice(2):$=`
`+$.split(`
`).map(function(fe){return"   "+fe}).join(`
`))):$=re.stylize("[Circular]","special")),T(Q)){if(X&&ee.match(/^\d+$/))return $;Q=JSON.stringify(""+ee),Q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Q=Q.slice(1,-1),Q=re.stylize(Q,"name")):(Q=Q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Q=re.stylize(Q,"string"))}return Q+": "+$}function d(re,ae,ue){var de=re.reduce(function(ee,X){return X.indexOf(`
`)>=0,ee+X.replace(/\u001b\[\d\d?m/g,"").length+1},0);return de>60?ue[0]+(ae===""?"":ae+`
 `)+" "+re.join(`,
  `)+" "+ue[1]:ue[0]+ae+" "+re.join(", ")+" "+ue[1]}F.types=e(4936);function M(re){return Array.isArray(re)}F.isArray=M;function g(re){return typeof re=="boolean"}F.isBoolean=g;function u(re){return re===null}F.isNull=u;function y(re){return re==null}F.isNullOrUndefined=y;function C(re){return typeof re=="number"}F.isNumber=C;function S(re){return typeof re=="string"}F.isString=S;function D(re){return typeof re=="symbol"}F.isSymbol=D;function T(re){return re===void 0}F.isUndefined=T;function P(re){return A(re)&&O(re)==="[object RegExp]"}F.isRegExp=P,F.types.isRegExp=P;function A(re){return typeof re=="object"&&re!==null}F.isObject=A;function a(re){return A(re)&&O(re)==="[object Date]"}F.isDate=a,F.types.isDate=a;function R(re){return A(re)&&(O(re)==="[object Error]"||re instanceof Error)}F.isError=R,F.types.isNativeError=R;function b(re){return typeof re=="function"}F.isFunction=b;function N(re){return re===null||typeof re=="boolean"||typeof re=="number"||typeof re=="string"||typeof re=="symbol"||typeof re>"u"}F.isPrimitive=N,F.isBuffer=e(45920);function O(re){return Object.prototype.toString.call(re)}function Y(re){return re<10?"0"+re.toString(10):re.toString(10)}var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function W(){var re=new Date,ae=[Y(re.getHours()),Y(re.getMinutes()),Y(re.getSeconds())].join(":");return[re.getDate(),B[re.getMonth()],ae].join(" ")}F.log=function(){console.log("%s - %s",W(),F.format.apply(F,arguments))},F.inherits=e(42018),F._extend=function(re,ae){if(!ae||!A(ae))return re;for(var ue=Object.keys(ae),de=ue.length;de--;)re[ue[de]]=ae[ue[de]];return re};function H(re,ae){return Object.prototype.hasOwnProperty.call(re,ae)}var U=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;F.promisify=function(ae){if(typeof ae!="function")throw new TypeError('The "original" argument must be of type Function');if(U&&ae[U]){var ue=ae[U];if(typeof ue!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ue,U,{value:ue,enumerable:!1,writable:!1,configurable:!0}),ue}function ue(){for(var de,ee,X=new Promise(function(ne,fe){de=ne,ee=fe}),Q=[],$=0;$<arguments.length;$++)Q.push(arguments[$]);Q.push(function(ne,fe){ne?ee(ne):de(fe)});try{ae.apply(this,Q)}catch(ne){ee(ne)}return X}return Object.setPrototypeOf(ue,Object.getPrototypeOf(ae)),U&&Object.defineProperty(ue,U,{value:ue,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ue,E(ae))},F.promisify.custom=U;function G(re,ae){if(!re){var ue=new Error("Promise was rejected with a falsy value");ue.reason=re,re=ue}return ae(re)}function j(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');function ae(){for(var ue=[],de=0;de<arguments.length;de++)ue.push(arguments[de]);var ee=ue.pop();if(typeof ee!="function")throw new TypeError("The last argument must be of type Function");var X=this,Q=function(){return ee.apply(X,arguments)};re.apply(this,ue).then(function($){h.nextTick(Q.bind(null,null,$))},function($){h.nextTick(G.bind(null,$,Q))})}return Object.setPrototypeOf(ae,Object.getPrototypeOf(re)),Object.defineProperties(ae,E(re)),ae}F.callbackify=j},40372:function(k,F,e){var h=e(86249);k.exports=function(n){return h("webgl",n)}},21099:function(k,F,e){var h=e(31353),E=e(72077),n=e(6614),L=e(40383),w=n("Object.prototype.toString"),p=e(84543)(),m=typeof globalThis>"u"?e.g:globalThis,t=E(),r=n("String.prototype.slice"),l={},i=Object.getPrototypeOf;p&&L&&i&&h(t,function(c){if(typeof m[c]=="function"){var x=new m[c];if(Symbol.toStringTag in x){var d=i(x),M=L(d,Symbol.toStringTag);if(!M){var g=i(d);M=L(g,Symbol.toStringTag)}l[c]=M.get}}});var f=function(x){var d=!1;return h(l,function(M,g){if(!d)try{var u=M.call(x);u===g&&(d=u)}catch{}}),d},v=e(9187);k.exports=function(x){return v(x)?!p||!(Symbol.toStringTag in x)?r(w(x),8,-1):f(x):!1}},3961:function(k,F,e){var h=e(63489),E=e(56131),n=h.instance();function L(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}L.prototype=new h.baseCalendar,E(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(v,c){if(typeof v=="string"){var x=v.match(p);return x?x[0]:""}var d=this._validateYear(v),M=v.month(),g=""+this.toChineseMonth(d,M);return c&&g.length<2&&(g="0"+g),this.isIntercalaryMonth(d,M)&&(g+="i"),g},monthNames:function(v){if(typeof v=="string"){var c=v.match(m);return c?c[0]:""}var x=this._validateYear(v),d=v.month(),M=this.toChineseMonth(x,d),g=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][M-1];return this.isIntercalaryMonth(x,d)&&(g="闰"+g),g},monthNamesShort:function(v){if(typeof v=="string"){var c=v.match(t);return c?c[0]:""}var x=this._validateYear(v),d=v.month(),M=this.toChineseMonth(x,d),g=["一","二","三","四","五","六","七","八","九","十","十一","十二"][M-1];return this.isIntercalaryMonth(x,d)&&(g="闰"+g),g},parseMonth:function(v,c){v=this._validateYear(v);var x=parseInt(c),d;if(isNaN(x))c[0]==="闰"&&(d=!0,c=c.substring(1)),c[c.length-1]==="月"&&(c=c.substring(0,c.length-1)),x=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(c);else{var M=c[c.length-1];d=M==="i"||M==="I"}var g=this.toMonthIndex(v,x,d);return g},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(v,c){if(v.year&&(v=v.year()),typeof v!="number"||v<1888||v>2111)throw c.replace(/\{0\}/,this.local.name);return v},toMonthIndex:function(v,c,x){var d=this.intercalaryMonth(v),M=x&&c!==d;if(M||c<1||c>12)throw h.local.invalidMonth.replace(/\{0\}/,this.local.name);var g;return d?!x&&c<=d?g=c-1:g=c:g=c-1,g},toChineseMonth:function(v,c){v.year&&(v=v.year(),c=v.month());var x=this.intercalaryMonth(v),d=x?12:11;if(c<0||c>d)throw h.local.invalidMonth.replace(/\{0\}/,this.local.name);var M;return x?c<x?M=c+1:M=c:M=c+1,M},intercalaryMonth:function(v){v=this._validateYear(v);var c=r[v-r[0]],x=c>>13;return x},isIntercalaryMonth:function(v,c){v.year&&(v=v.year(),c=v.month());var x=this.intercalaryMonth(v);return!!x&&x===c},leapYear:function(v){return this.intercalaryMonth(v)!==0},weekOfYear:function(v,c,x){var d=this._validateYear(v,h.local.invalidyear),M=l[d-l[0]],g=M>>9&4095,u=M>>5&15,y=M&31,C;C=n.newDate(g,u,y),C.add(4-(C.dayOfWeek()||7),"d");var S=this.toJD(v,c,x)-C.toJD();return 1+Math.floor(S/7)},monthsInYear:function(v){return this.leapYear(v)?13:12},daysInMonth:function(v,c){v.year&&(c=v.month(),v=v.year()),v=this._validateYear(v);var x=r[v-r[0]],d=x>>13,M=d?12:11;if(c>M)throw h.local.invalidMonth.replace(/\{0\}/,this.local.name);var g=x&1<<12-c?30:29;return g},weekDay:function(v,c,x){return(this.dayOfWeek(v,c,x)||7)<6},toJD:function(v,c,x){var d=this._validate(v,g,x,h.local.invalidDate);v=this._validateYear(d.year()),c=d.month(),x=d.day();var M=this.isIntercalaryMonth(v,c),g=this.toChineseMonth(v,c),u=f(v,g,x,M);return n.toJD(u.year,u.month,u.day)},fromJD:function(v){var c=n.fromJD(v),x=i(c.year(),c.month(),c.day()),d=this.toMonthIndex(x.year,x.month,x.isIntercalary);return this.newDate(x.year,d,x.day)},fromString:function(v){var c=v.match(w),x=this._validateYear(+c[1]),d=+c[2],M=!!c[3],g=this.toMonthIndex(x,d,M),u=+c[4];return this.newDate(x,g,u)},add:function(v,c,x){var d=v.year(),M=v.month(),g=this.isIntercalaryMonth(d,M),u=this.toChineseMonth(d,M),y=Object.getPrototypeOf(L.prototype).add.call(this,v,c,x);if(x==="y"){var C=y.year(),S=y.month(),D=this.isIntercalaryMonth(C,u),T=g&&D?this.toMonthIndex(C,u,!0):this.toMonthIndex(C,u,!1);T!==S&&y.month(T)}return y}});var w=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,p=/^\d?\d[iI]?/m,m=/^闰?十?[一二三四五六七八九]?月/m,t=/^闰?十?[一二三四五六七八九]?/m;h.calendars.chinese=L;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],l=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function i(v,c,x,d){var M,g;if(typeof v=="object")M=v,g=c||{};else{var u=typeof v=="number"&&v>=1888&&v<=2111;if(!u)throw new Error("Solar year outside range 1888-2111");var y=typeof c=="number"&&c>=1&&c<=12;if(!y)throw new Error("Solar month outside range 1 - 12");var C=typeof x=="number"&&x>=1&&x<=31;if(!C)throw new Error("Solar day outside range 1 - 31");M={year:v,month:c,day:x},g=d||{}}var S=l[M.year-l[0]],D=M.year<<9|M.month<<5|M.day;g.year=D>=S?M.year:M.year-1,S=l[g.year-l[0]];var T=S>>9&4095,P=S>>5&15,A=S&31,a,R=new Date(T,P-1,A),b=new Date(M.year,M.month-1,M.day);a=Math.round((b-R)/864e5);var N=r[g.year-r[0]],O;for(O=0;O<13;O++){var Y=N&1<<12-O?30:29;if(a<Y)break;a-=Y}var B=N>>13;return!B||O<B?(g.isIntercalary=!1,g.month=1+O):O===B?(g.isIntercalary=!0,g.month=O):(g.isIntercalary=!1,g.month=O),g.day=1+a,g}function f(v,c,x,d,M){var g,u;if(typeof v=="object")u=v,g=c||{};else{var y=typeof v=="number"&&v>=1888&&v<=2111;if(!y)throw new Error("Lunar year outside range 1888-2111");var C=typeof c=="number"&&c>=1&&c<=12;if(!C)throw new Error("Lunar month outside range 1 - 12");var S=typeof x=="number"&&x>=1&&x<=30;if(!S)throw new Error("Lunar day outside range 1 - 30");var D;typeof d=="object"?(D=!1,g=d):(D=!!d,g=M||{}),u={year:v,month:c,day:x,isIntercalary:D}}var T;T=u.day-1;var P=r[u.year-r[0]],A=P>>13,a;A&&(u.month>A||u.isIntercalary)?a=u.month:a=u.month-1;for(var R=0;R<a;R++){var b=P&1<<12-R?30:29;T+=b}var N=l[u.year-l[0]],O=N>>9&4095,Y=N>>5&15,B=N&31,W=new Date(O,Y-1,B+T);return g.year=W.getFullYear(),g.month=1+W.getMonth(),g.day=W.getDate(),g}},38751:function(k,F,e){var h=e(63489),E=e(56131);function n(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar,E(n.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var w=this._validate(p,this.minMonth,this.minDay,h.local.invalidYear),p=w.year()+(w.year()<0?1:0);return p%4===3||p%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,h.local.invalidYear||h.regionalOptions[""].invalidYear),13},weekOfYear:function(L,w,p){var m=this.newDate(L,w,p);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(L,w){var p=this._validate(L,w,this.minDay,h.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===13&&this.leapYear(p.year())?1:0)},weekDay:function(L,w,p){return(this.dayOfWeek(L,w,p)||7)<6},toJD:function(L,w,p){var m=this._validate(L,w,p,h.local.invalidDate);return L=m.year(),L<0&&L++,m.day()+(m.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var w=Math.floor(L)+.5-this.jdEpoch,p=Math.floor((w-Math.floor((w+366)/1461))/365)+1;p<=0&&p--,w=Math.floor(L)+.5-this.newDate(p,1,1).toJD();var m=Math.floor(w/30)+1,t=w-(m-1)*30+1;return this.newDate(p,m,t)}}),h.calendars.coptic=n},86825:function(k,F,e){var h=e(63489),E=e(56131);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar,E(n.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(w){return this._validate(w,this.minMonth,this.minDay,h.local.invalidYear),!1},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,h.local.invalidYear),13},daysInYear:function(w){return this._validate(w,this.minMonth,this.minDay,h.local.invalidYear),400},weekOfYear:function(w,p,m){var t=this.newDate(w,p,m);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(w,p){var m=this._validate(w,p,this.minDay,h.local.invalidMonth);return this.daysPerMonth[m.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(w,p,m){var t=this._validate(w,p,m,h.local.invalidDate);return(t.day()+1)%8},weekDay:function(w,p,m){var t=this.dayOfWeek(w,p,m);return t>=2&&t<=6},extraInfo:function(w,p,m){var t=this._validate(w,p,m,h.local.invalidDate);return{century:L[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(w,p,m){var t=this._validate(w,p,m,h.local.invalidDate);return w=t.year()+(t.year()<0?1:0),p=t.month(),m=t.day(),m+(p>1?16:0)+(p>2?(p-2)*32:0)+(w-1)*400+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w+.5)-Math.floor(this.jdEpoch)-1;var p=Math.floor(w/400)+1;w-=(p-1)*400,w+=w>15?16:0;var m=Math.floor(w/32)+1,t=w-(m-1)*32+1;return this.newDate(p<=0?p-1:p,m,t)}});var L={20:"Fruitbat",21:"Anchovy"};h.calendars.discworld=n},37715:function(k,F,e){var h=e(63489),E=e(56131);function n(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar,E(n.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var w=this._validate(p,this.minMonth,this.minDay,h.local.invalidYear),p=w.year()+(w.year()<0?1:0);return p%4===3||p%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,h.local.invalidYear||h.regionalOptions[""].invalidYear),13},weekOfYear:function(L,w,p){var m=this.newDate(L,w,p);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(L,w){var p=this._validate(L,w,this.minDay,h.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===13&&this.leapYear(p.year())?1:0)},weekDay:function(L,w,p){return(this.dayOfWeek(L,w,p)||7)<6},toJD:function(L,w,p){var m=this._validate(L,w,p,h.local.invalidDate);return L=m.year(),L<0&&L++,m.day()+(m.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var w=Math.floor(L)+.5-this.jdEpoch,p=Math.floor((w-Math.floor((w+366)/1461))/365)+1;p<=0&&p--,w=Math.floor(L)+.5-this.newDate(p,1,1).toJD();var m=Math.floor(w/30)+1,t=w-(m-1)*30+1;return this.newDate(p,m,t)}}),h.calendars.ethiopian=n},99384:function(k,F,e){var h=e(63489),E=e(56131);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar,E(n.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var p=this._validate(w,this.minMonth,this.minDay,h.local.invalidYear);return this._leapYear(p.year())},_leapYear:function(w){return w=w<0?w+1:w,L(w*7+1,19)<7},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,h.local.invalidYear),this._leapYear(w.year?w.year():w)?13:12},weekOfYear:function(w,p,m){var t=this.newDate(w,p,m);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(w){var p=this._validate(w,this.minMonth,this.minDay,h.local.invalidYear);return w=p.year(),this.toJD(w===-1?1:w+1,7,1)-this.toJD(w,7,1)},daysInMonth:function(w,p){return w.year&&(p=w.month(),w=w.year()),this._validate(w,p,this.minDay,h.local.invalidMonth),p===12&&this.leapYear(w)||p===8&&L(this.daysInYear(w),10)===5?30:p===9&&L(this.daysInYear(w),10)===3?29:this.daysPerMonth[p-1]},weekDay:function(w,p,m){return this.dayOfWeek(w,p,m)!==6},extraInfo:function(w,p,m){var t=this._validate(w,p,m,h.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(w,p,m){var t=this._validate(w,p,m,h.local.invalidDate);w=t.year(),p=t.month(),m=t.day();var r=w<=0?w+1:w,l=this.jdEpoch+this._delay1(r)+this._delay2(r)+m+1;if(p<7){for(var i=7;i<=this.monthsInYear(w);i++)l+=this.daysInMonth(w,i);for(var i=1;i<p;i++)l+=this.daysInMonth(w,i)}else for(var i=7;i<p;i++)l+=this.daysInMonth(w,i);return l},_delay1:function(w){var p=Math.floor((235*w-234)/19),m=12084+13753*p,t=p*29+Math.floor(m/25920);return L(3*(t+1),7)<3&&t++,t},_delay2:function(w){var p=this._delay1(w-1),m=this._delay1(w),t=this._delay1(w+1);return t-m===356?2:m-p===382?1:0},fromJD:function(w){w=Math.floor(w)+.5;for(var p=Math.floor((w-this.jdEpoch)*98496/35975351)-1;w>=this.toJD(p===-1?1:p+1,7,1);)p++;for(var m=w<this.toJD(p,1,1)?7:1;w>this.toJD(p,m,this.daysInMonth(p,m));)m++;var t=w-this.toJD(p,m,1)+1;return this.newDate(p,m,t)}});function L(w,p){return w-p*Math.floor(w/p)}h.calendars.hebrew=n},43805:function(k,F,e){var h=e(63489),E=e(56131);function n(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar,E(n.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var w=this._validate(L,this.minMonth,this.minDay,h.local.invalidYear);return(w.year()*11+14)%30<11},weekOfYear:function(L,w,p){var m=this.newDate(L,w,p);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,w){var p=this._validate(L,w,this.minDay,h.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(L,w,p){return this.dayOfWeek(L,w,p)!==5},toJD:function(L,w,p){var m=this._validate(L,w,p,h.local.invalidDate);return L=m.year(),w=m.month(),p=m.day(),L=L<=0?L+1:L,p+Math.ceil(29.5*(w-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var w=Math.floor((30*(L-this.jdEpoch)+10646)/10631);w=w<=0?w-1:w;var p=Math.min(12,Math.ceil((L-29-this.toJD(w,1,1))/29.5)+1),m=L-this.toJD(w,p,1)+1;return this.newDate(w,p,m)}}),h.calendars.islamic=n},88874:function(k,F,e){var h=e(63489),E=e(56131);function n(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar,E(n.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var w=this._validate(p,this.minMonth,this.minDay,h.local.invalidYear),p=w.year()<0?w.year()+1:w.year();return p%4===0},weekOfYear:function(L,w,p){var m=this.newDate(L,w,p);return m.add(4-(m.dayOfWeek()||7),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(L,w){var p=this._validate(L,w,this.minDay,h.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(L,w,p){return(this.dayOfWeek(L,w,p)||7)<6},toJD:function(L,w,p){var m=this._validate(L,w,p,h.local.invalidDate);return L=m.year(),w=m.month(),p=m.day(),L<0&&L++,w<=2&&(L--,w+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(w+1))+p-1524.5},fromJD:function(L){var w=Math.floor(L+.5),p=w+1524,m=Math.floor((p-122.1)/365.25),t=Math.floor(365.25*m),r=Math.floor((p-t)/30.6001),l=r-Math.floor(r<14?1:13),i=m-Math.floor(l>2?4716:4715),f=p-t-Math.floor(30.6001*r);return i<=0&&i--,this.newDate(i,l,f)}}),h.calendars.julian=n},83290:function(k,F,e){var h=e(63489),E=e(56131);function n(p){this.local=this.regionalOptions[p||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar,E(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(p){return this._validate(p,this.minMonth,this.minDay,h.local.invalidYear),!1},formatYear:function(p){var m=this._validate(p,this.minMonth,this.minDay,h.local.invalidYear);p=m.year();var t=Math.floor(p/400);p=p%400,p+=p<0?400:0;var r=Math.floor(p/20);return t+"."+r+"."+p%20},forYear:function(p){if(p=p.split("."),p.length<3)throw"Invalid Mayan year";for(var m=0,t=0;t<p.length;t++){var r=parseInt(p[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";m=m*20+r}return m},monthsInYear:function(p){return this._validate(p,this.minMonth,this.minDay,h.local.invalidYear),18},weekOfYear:function(p,m,t){return this._validate(p,m,t,h.local.invalidDate),0},daysInYear:function(p){return this._validate(p,this.minMonth,this.minDay,h.local.invalidYear),360},daysInMonth:function(p,m){return this._validate(p,m,this.minDay,h.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(p,m,t){var r=this._validate(p,m,t,h.local.invalidDate);return r.day()},weekDay:function(p,m,t){return this._validate(p,m,t,h.local.invalidDate),!0},extraInfo:function(p,m,t){var r=this._validate(p,m,t,h.local.invalidDate),l=r.toJD(),i=this._toHaab(l),f=this._toTzolkin(l);return{haabMonthName:this.local.haabMonths[i[0]-1],haabMonth:i[0],haabDay:i[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(p){p-=this.jdEpoch;var m=L(p+8+(18-1)*20,365);return[Math.floor(m/20)+1,L(m,20)]},_toTzolkin:function(p){return p-=this.jdEpoch,[w(p+20,20),w(p+4,13)]},toJD:function(p,m,t){var r=this._validate(p,m,t,h.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(p){p=Math.floor(p)+.5-this.jdEpoch;var m=Math.floor(p/360);p=p%360,p+=p<0?360:0;var t=Math.floor(p/20),r=p%20;return this.newDate(m,t,r)}});function L(p,m){return p-m*Math.floor(p/m)}function w(p,m){return L(p-1,m)+1}h.calendars.mayan=n},29108:function(k,F,e){var h=e(63489),E=e(56131);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar;var L=h.instance("gregorian");E(n.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var p=this._validate(w,this.minMonth,this.minDay,h.local.invalidYear||h.regionalOptions[""].invalidYear);return L.leapYear(p.year()+(p.year()<1?1:0)+1469)},weekOfYear:function(w,p,m){var t=this.newDate(w,p,m);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(w,p){var m=this._validate(w,p,this.minDay,h.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(m.month()===12&&this.leapYear(m.year())?1:0)},weekDay:function(w,p,m){return(this.dayOfWeek(w,p,m)||7)<6},toJD:function(r,p,m){var t=this._validate(r,p,m,h.local.invalidMonth),r=t.year();r<0&&r++;for(var l=t.day(),i=1;i<t.month();i++)l+=this.daysPerMonth[i-1];return l+L.toJD(r+1468,3,13)},fromJD:function(w){w=Math.floor(w+.5);for(var p=Math.floor((w-(this.jdEpoch-1))/366);w>=this.toJD(p+1,1,1);)p++;for(var m=w-Math.floor(this.toJD(p,1,1)+.5)+1,t=1;m>this.daysInMonth(p,t);)m-=this.daysInMonth(p,t),t++;return this.newDate(p,t,m)}}),h.calendars.nanakshahi=n},55422:function(k,F,e){var h=e(63489),E=e(56131);function n(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar,E(n.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,w,p){var m=this.newDate(L,w,p);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInYear:function(L){var w=this._validate(L,this.minMonth,this.minDay,h.local.invalidYear);if(L=w.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var p=0,m=this.minMonth;m<=12;m++)p+=this.NEPALI_CALENDAR_DATA[L][m];return p},daysInMonth:function(L,w){return L.year&&(w=L.month(),L=L.year()),this._validate(L,w,this.minDay,h.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[w-1]:this.NEPALI_CALENDAR_DATA[L][w]},weekDay:function(L,w,p){return this.dayOfWeek(L,w,p)!==6},toJD:function(L,w,p){var m=this._validate(L,w,p,h.local.invalidDate);L=m.year(),w=m.month(),p=m.day();var t=h.instance(),r=0,l=w,i=L;this._createMissingCalendarData(L);var f=L-(l>9||l===9&&p>=this.NEPALI_CALENDAR_DATA[i][0]?56:57);for(w!==9&&(r=p,l--);l!==9;)l<=0&&(l=12,i--),r+=this.NEPALI_CALENDAR_DATA[i][l],l--;return w===9?(r+=p-this.NEPALI_CALENDAR_DATA[i][0],r<0&&(r+=t.daysInYear(f))):r+=this.NEPALI_CALENDAR_DATA[i][9]-this.NEPALI_CALENDAR_DATA[i][0],t.newDate(f,1,1).add(r,"d").toJD()},fromJD:function(L){var w=h.instance(),p=w.fromJD(L),m=p.year(),t=p.dayOfYear(),r=m+56;this._createMissingCalendarData(r);for(var l=9,i=this.NEPALI_CALENDAR_DATA[r][0],f=this.NEPALI_CALENDAR_DATA[r][l]-i+1;t>f;)l++,l>12&&(l=1,r++),f+=this.NEPALI_CALENDAR_DATA[r][l];var v=this.NEPALI_CALENDAR_DATA[r][l]-(f-t);return this.newDate(r,l,v)},_createMissingCalendarData:function(L){var w=this.daysPerMonth.slice(0);w.unshift(17);for(var p=L-1;p<L+2;p++)typeof this.NEPALI_CALENDAR_DATA[p]>"u"&&(this.NEPALI_CALENDAR_DATA[p]=w)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),h.calendars.nepali=n},94320:function(k,F,e){var h=e(63489),E=e(56131);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar,E(n.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(w){var p=this._validate(w,this.minMonth,this.minDay,h.local.invalidYear);return((p.year()-(p.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(w,p,m){var t=this.newDate(w,p,m);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(w,p){var m=this._validate(w,p,this.minDay,h.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(m.month()===12&&this.leapYear(m.year())?1:0)},weekDay:function(w,p,m){return this.dayOfWeek(w,p,m)!==5},toJD:function(w,p,m){var t=this._validate(w,p,m,h.local.invalidDate);w=t.year(),p=t.month(),m=t.day();var r=w-(w>=0?474:473),l=474+L(r,2820);return m+(p<=7?(p-1)*31:(p-1)*30+6)+Math.floor((l*682-110)/2816)+(l-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w)+.5;var p=w-this.toJD(475,1,1),m=Math.floor(p/1029983),t=L(p,1029983),r=2820;if(t!==1029982){var l=Math.floor(t/366),i=L(t,366);r=Math.floor((2134*l+2816*i+2815)/1028522)+l+1}var f=r+2820*m+474;f=f<=0?f-1:f;var v=w-this.toJD(f,1,1)+1,c=v<=186?Math.ceil(v/31):Math.ceil((v-6)/30),x=w-this.toJD(f,c,1)+1;return this.newDate(f,c,x)}});function L(w,p){return w-p*Math.floor(w/p)}h.calendars.persian=n,h.calendars.jalali=n},31320:function(k,F,e){var h=e(63489),E=e(56131),n=h.instance();function L(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}L.prototype=new h.baseCalendar,E(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(m){var p=this._validate(m,this.minMonth,this.minDay,h.local.invalidYear),m=this._t2gYear(p.year());return n.leapYear(m)},weekOfYear:function(r,p,m){var t=this._validate(r,this.minMonth,this.minDay,h.local.invalidYear),r=this._t2gYear(t.year());return n.weekOfYear(r,t.month(),t.day())},daysInMonth:function(w,p){var m=this._validate(w,p,this.minDay,h.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(m.month()===2&&this.leapYear(m.year())?1:0)},weekDay:function(w,p,m){return(this.dayOfWeek(w,p,m)||7)<6},toJD:function(r,p,m){var t=this._validate(r,p,m,h.local.invalidDate),r=this._t2gYear(t.year());return n.toJD(r,t.month(),t.day())},fromJD:function(w){var p=n.fromJD(w),m=this._g2tYear(p.year());return this.newDate(m,p.month(),p.day())},_t2gYear:function(w){return w+this.yearsOffset+(w>=-this.yearsOffset&&w<=-1?1:0)},_g2tYear:function(w){return w-this.yearsOffset-(w>=1&&w<=this.yearsOffset?1:0)}}),h.calendars.taiwan=L},51367:function(k,F,e){var h=e(63489),E=e(56131),n=h.instance();function L(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}L.prototype=new h.baseCalendar,E(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(m){var p=this._validate(m,this.minMonth,this.minDay,h.local.invalidYear),m=this._t2gYear(p.year());return n.leapYear(m)},weekOfYear:function(r,p,m){var t=this._validate(r,this.minMonth,this.minDay,h.local.invalidYear),r=this._t2gYear(t.year());return n.weekOfYear(r,t.month(),t.day())},daysInMonth:function(w,p){var m=this._validate(w,p,this.minDay,h.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(m.month()===2&&this.leapYear(m.year())?1:0)},weekDay:function(w,p,m){return(this.dayOfWeek(w,p,m)||7)<6},toJD:function(r,p,m){var t=this._validate(r,p,m,h.local.invalidDate),r=this._t2gYear(t.year());return n.toJD(r,t.month(),t.day())},fromJD:function(w){var p=n.fromJD(w),m=this._g2tYear(p.year());return this.newDate(m,p.month(),p.day())},_t2gYear:function(w){return w-this.yearsOffset-(w>=1&&w<=this.yearsOffset?1:0)},_g2tYear:function(w){return w+this.yearsOffset+(w>=-this.yearsOffset&&w<=-1?1:0)}}),h.calendars.thai=L},21457:function(k,F,e){var h=e(63489),E=e(56131);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new h.baseCalendar,E(n.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(w){var p=this._validate(w,this.minMonth,this.minDay,h.local.invalidYear);return this.daysInYear(p.year())===355},weekOfYear:function(w,p,m){var t=this.newDate(w,p,m);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(w){for(var p=0,m=1;m<=12;m++)p+=this.daysInMonth(w,m);return p},daysInMonth:function(w,p){for(var m=this._validate(w,p,this.minDay,h.local.invalidMonth),t=m.toJD()-24e5+.5,r=0,l=0;l<L.length;l++){if(L[l]>t)return L[r]-L[r-1];r++}return 30},weekDay:function(w,p,m){return this.dayOfWeek(w,p,m)!==5},toJD:function(w,p,m){var t=this._validate(w,p,m,h.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,l=t.day()+L[r-1]-1;return l+24e5-.5},fromJD:function(w){for(var p=w-24e5+.5,m=0,t=0;t<L.length&&!(L[t]>p);t++)m++;var r=m+15292,l=Math.floor((r-1)/12),i=l+1,f=r-12*l,v=p-L[m-1]+1;return this.newDate(i,f,v)},isValid:function(w,p,m){var t=h.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(w=w.year!=null?w.year:w,t=w>=1276&&w<=1500),t},_validate:function(w,p,m,t){var r=h.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),h.calendars.ummalqura=n;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(k,F,e){var h=e(56131);function E(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}h(E.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var l=this._localCals[t+"-"+r];if(!l&&this.calendars[t]&&(l=new this.calendars[t](r),this._localCals[t+"-"+r]=l),!l)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return l},newDate:function(t,r,l,i,f){return i=(t!=null&&t.year?t.calendar():typeof i=="string"?this.instance(i,f):i)||this.instance(),i.newDate(t,r,l)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(l){return t[l]})}},substituteChineseDigits:function(t,r){return function(l){for(var i="",f=0;l>0;){var v=l%10;i=(v===0?"":t[v]+r[f])+i,f++,l=Math.floor(l/10)}return i.indexOf(t[1]+r[1])===0&&(i=i.substr(1)),i||t[0]}}});function n(t,r,l,i){if(this._calendar=t,this._year=r,this._month=l,this._day=i,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(m.local.invalidDate||m.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}h(n.prototype,{newDate:function(t,r,l){return this._calendar.newDate(t??this,r,l)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,l){if(!this._calendar.isValid(t,r,l))throw(m.local.invalidDate||m.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=l,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(m.local.differentCalendars||m.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function w(){this.shortYearCutoff="+10"}h(w.prototype,{_validateLevel:0,newDate:function(t,r,l){return t==null?this.today():(t.year&&(this._validate(t,r,l,m.local.invalidDate||m.regionalOptions[""].invalidDate),l=t.day(),r=t.month(),t=t.year()),new n(this,t,r,l))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+L(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var l=this._validate(t,r,this.minDay,m.local.invalidMonth||m.regionalOptions[""].invalidMonth);return(l.month()+this.monthsInYear(l)-this.firstMonth)%this.monthsInYear(l)+this.minMonth},fromMonthOfYear:function(t,r){var l=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,l,this.minDay,m.local.invalidMonth||m.regionalOptions[""].invalidMonth),l},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,l){var i=this._validate(t,r,l,m.local.invalidDate||m.regionalOptions[""].invalidDate);return i.toJD()-this.newDate(i.year(),this.fromMonthOfYear(i.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,l){var i=this._validate(t,r,l,m.local.invalidDate||m.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(i))+2)%this.daysInWeek()},extraInfo:function(t,r,l){return this._validate(t,r,l,m.local.invalidDate||m.regionalOptions[""].invalidDate),{}},add:function(t,r,l){return this._validate(t,this.minMonth,this.minDay,m.local.invalidDate||m.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,l),r,l)},_add:function(t,r,l){if(this._validateLevel++,l==="d"||l==="w"){var i=t.toJD()+r*(l==="w"?this.daysInWeek():1),f=t.calendar().fromJD(i);return this._validateLevel--,[f.year(),f.month(),f.day()]}try{var v=t.year()+(l==="y"?r:0),c=t.monthOfYear()+(l==="m"?r:0),f=t.day(),x=function(g){for(;c<g.minMonth;)v--,c+=g.monthsInYear(v);for(var u=g.monthsInYear(v);c>u-1+g.minMonth;)v++,c-=u,u=g.monthsInYear(v)};l==="y"?(t.month()!==this.fromMonthOfYear(v,c)&&(c=this.newDate(v,t.month(),this.minDay).monthOfYear()),c=Math.min(c,this.monthsInYear(v)),f=Math.min(f,this.daysInMonth(v,this.fromMonthOfYear(v,c)))):l==="m"&&(x(this),f=Math.min(f,this.daysInMonth(v,this.fromMonthOfYear(v,c))));var d=[v,this.fromMonthOfYear(v,c),f];return this._validateLevel--,d}catch(M){throw this._validateLevel--,M}},_correctAdd:function(t,r,l,i){if(!this.hasYearZero&&(i==="y"||i==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var f={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[i],v=l<0?-1:1;r=this._add(t,l*f[0]+v*f[1],f[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,l){this._validate(t,this.minMonth,this.minDay,m.local.invalidDate||m.regionalOptions[""].invalidDate);var i=l==="y"?r:t.year(),f=l==="m"?r:t.month(),v=l==="d"?r:t.day();return(l==="y"||l==="m")&&(v=Math.min(v,this.daysInMonth(i,f))),t.date(i,f,v)},isValid:function(t,r,l){this._validateLevel++;var i=this.hasYearZero||t!==0;if(i){var f=this.newDate(t,r,this.minDay);i=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(f)&&l>=this.minDay&&l-this.minDay<this.daysInMonth(f)}return this._validateLevel--,i},toJSDate:function(t,r,l){var i=this._validate(t,r,l,m.local.invalidDate||m.regionalOptions[""].invalidDate);return m.instance().fromJD(this.toJD(i)).toJSDate()},fromJSDate:function(t){return this.fromJD(m.instance().fromJSDate(t).toJD())},_validate:function(t,r,l,i){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(m.local.differentCalendars||m.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,l))throw i.replace(/\{0\}/,this.local.name);var f=this.newDate(t,r,l);return this._validateLevel--,f}catch(v){throw this._validateLevel--,v}}});function p(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}p.prototype=new w,h(p.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),l=r.year()+(r.year()<0?1:0);return l%4===0&&(l%100!==0||l%400===0)},weekOfYear:function(t,r,l){var i=this.newDate(t,r,l);return i.add(4-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var l=this._validate(t,r,this.minDay,m.local.invalidMonth||m.regionalOptions[""].invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(t,r,l){return(this.dayOfWeek(t,r,l)||7)<6},toJD:function(t,r,l){var i=this._validate(t,r,l,m.local.invalidDate||m.regionalOptions[""].invalidDate);t=i.year(),r=i.month(),l=i.day(),t<0&&t++,r<3&&(r+=12,t--);var f=Math.floor(t/100),v=2-f+Math.floor(f/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+l+v-1524.5},fromJD:function(t){var r=Math.floor(t+.5),l=Math.floor((r-186721625e-2)/36524.25);l=r+1+l-Math.floor(l/4);var i=l+1524,f=Math.floor((i-122.1)/365.25),v=Math.floor(365.25*f),c=Math.floor((i-v)/30.6001),x=i-v-Math.floor(c*30.6001),d=c-(c>13.5?13:1),M=f-(d>2.5?4716:4715);return M<=0&&M--,this.newDate(M,d,x)},toJSDate:function(t,r,l){var i=this._validate(t,r,l,m.local.invalidDate||m.regionalOptions[""].invalidDate),f=new Date(i.year(),i.month()-1,i.day());return f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f.setHours(f.getHours()>12?f.getHours()+2:0),f},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var m=k.exports=new E;m.cdate=n,m.baseCalendar=w,m.calendars.gregorian=p},94338:function(k,F,e){var h=e(56131),E=e(63489);h(E.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),E.local=E.regionalOptions[""],h(E.cdate.prototype,{formatDate:function(n,L){return typeof n!="string"&&(L=n,n=""),this._calendar.formatDate(n||"",this,L)}}),h(E.baseCalendar.prototype,{UNIX_EPOCH:E.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:E.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(n,L,w){if(typeof n!="string"&&(w=L,L=n,n=""),!L)return"";if(L.calendar()!==this)throw E.local.invalidFormat||E.regionalOptions[""].invalidFormat;n=n||this.local.dateFormat,w=w||{};var p=w.dayNamesShort||this.local.dayNamesShort,m=w.dayNames||this.local.dayNames,t=w.monthNumbers||this.local.monthNumbers,r=w.monthNamesShort||this.local.monthNamesShort,l=w.monthNames||this.local.monthNames;w.calculateWeek||this.local.calculateWeek;for(var i=function(S,D){for(var T=1;C+T<n.length&&n.charAt(C+T)===S;)T++;return C+=T-1,Math.floor(T/(D||1))>1},f=function(S,D,T,P){var A=""+D;if(i(S,P))for(;A.length<T;)A="0"+A;return A},v=function(S,D,T,P){return i(S)?P[D]:T[D]},c=this,x=function(S){return typeof t=="function"?t.call(c,S,i("m")):g(f("m",S.month(),2))},d=function(S,D){return D?typeof l=="function"?l.call(c,S):l[S.month()-c.minMonth]:typeof r=="function"?r.call(c,S):r[S.month()-c.minMonth]},M=this.local.digits,g=function(S){return w.localNumbers&&M?M(S):S},u="",y=!1,C=0;C<n.length;C++)if(y)n.charAt(C)==="'"&&!i("'")?y=!1:u+=n.charAt(C);else switch(n.charAt(C)){case"d":u+=g(f("d",L.day(),2));break;case"D":u+=v("D",L.dayOfWeek(),p,m);break;case"o":u+=f("o",L.dayOfYear(),3);break;case"w":u+=f("w",L.weekOfYear(),2);break;case"m":u+=x(L);break;case"M":u+=d(L,i("M"));break;case"y":u+=i("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":i("Y",2),u+=L.formatYear();break;case"J":u+=L.toJD();break;case"@":u+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":u+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":i("'")?u+="'":y=!0;break;default:u+=n.charAt(C)}return u},parseDate:function(n,L,w){if(L==null)throw E.local.invalidArguments||E.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;n=n||this.local.dateFormat,w=w||{};var p=w.shortYearCutoff||this.shortYearCutoff;p=typeof p!="string"?p:this.today().year()%100+parseInt(p,10);for(var m=w.dayNamesShort||this.local.dayNamesShort,t=w.dayNames||this.local.dayNames,r=w.parseMonth||this.local.parseMonth,l=w.monthNumbers||this.local.monthNumbers,i=w.monthNamesShort||this.local.monthNamesShort,f=w.monthNames||this.local.monthNames,v=-1,c=-1,x=-1,d=-1,M=-1,g=!1,u=!1,y=function(O,Y){for(var B=1;R+B<n.length&&n.charAt(R+B)===O;)B++;return R+=B-1,Math.floor(B/(Y||1))>1},C=function(O,Y){var B=y(O,Y),W=[2,3,B?4:2,B?4:2,10,11,20]["oyYJ@!".indexOf(O)+1],H=new RegExp("^-?\\d{1,"+W+"}"),U=L.substring(a).match(H);if(!U)throw(E.local.missingNumberAt||E.regionalOptions[""].missingNumberAt).replace(/\{0\}/,a);return a+=U[0].length,parseInt(U[0],10)},S=this,D=function(){if(typeof l=="function"){y("m");var O=l.call(S,L.substring(a));return a+=O.length,O}return C("m")},T=function(O,Y,B,W){for(var H=y(O,W)?B:Y,U=0;U<H.length;U++)if(L.substr(a,H[U].length).toLowerCase()===H[U].toLowerCase())return a+=H[U].length,U+S.minMonth;throw(E.local.unknownNameAt||E.regionalOptions[""].unknownNameAt).replace(/\{0\}/,a)},P=function(){if(typeof f=="function"){var O=y("M")?f.call(S,L.substring(a)):i.call(S,L.substring(a));return a+=O.length,O}return T("M",i,f)},A=function(){if(L.charAt(a)!==n.charAt(R))throw(E.local.unexpectedLiteralAt||E.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,a);a++},a=0,R=0;R<n.length;R++)if(u)n.charAt(R)==="'"&&!y("'")?u=!1:A();else switch(n.charAt(R)){case"d":d=C("d");break;case"D":T("D",m,t);break;case"o":M=C("o");break;case"w":C("w");break;case"m":x=D();break;case"M":x=P();break;case"y":var b=R;g=!y("y",2),R=b,c=C("y",2);break;case"Y":c=C("Y",2);break;case"J":v=C("J")+.5,L.charAt(a)==="."&&(a++,C("J"));break;case"@":v=C("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":v=C("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":a=L.length;break;case"'":y("'")?A():u=!0;break;default:A()}if(a<L.length)throw E.local.unexpectedText||E.regionalOptions[""].unexpectedText;if(c===-1?c=this.today().year():c<100&&g&&(c+=p===-1?1900:this.today().year()-this.today().year()%100-(c<=p?0:100)),typeof x=="string"&&(x=r.call(this,c,x)),M>-1){x=1,d=M;for(var N=this.daysInMonth(c,x);d>N;N=this.daysInMonth(c,x))x++,d-=N}return v>-1?this.fromJD(v):this.newDate(c,x,d)},determineDate:function(n,L,w,p,m){w&&typeof w!="object"&&(m=p,p=w,w=null),typeof p!="string"&&(m=p,p="");var t=this,r=function(l){try{return t.parseDate(p,l,m)}catch{}l=l.toLowerCase();for(var i=(l.match(/^c/)&&w?w.newDate():null)||t.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,v=f.exec(l);v;)i.add(parseInt(v[1],10),v[2]||"d"),v=f.exec(l);return i};return L=L?L.newDate():null,n=n==null?L:typeof n=="string"?r(n):typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?L:t.today().add(n,"d"):t.newDate(n),n}})},69862:function(){},40964:function(){},72077:function(k,F,e){var h=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],E=typeof globalThis>"u"?e.g:globalThis;k.exports=function(){for(var L=[],w=0;w<h.length;w++)typeof E[h[w]]=="function"&&(L[L.length]=h[w]);return L}},81684:function(k,F,e){e.d(F,{sX:function(){return Ce},k4:function(){return fe}});function h(Te,Le,Ve){Te.prototype=Le.prototype=Ve,Ve.constructor=Te}function E(Te,Le){var Ve=Object.create(Te.prototype);for(var We in Le)Ve[We]=Le[We];return Ve}function n(){}var L=.7,w=1/L,p="\\s*([+-]?\\d+)\\s*",m="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,l=new RegExp("^rgb\\(".concat(p,",").concat(p,",").concat(p,"\\)$")),i=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),f=new RegExp("^rgba\\(".concat(p,",").concat(p,",").concat(p,",").concat(m,"\\)$")),v=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(m,"\\)$")),c=new RegExp("^hsl\\(".concat(m,",").concat(t,",").concat(t,"\\)$")),x=new RegExp("^hsla\\(".concat(m,",").concat(t,",").concat(t,",").concat(m,"\\)$")),d={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};h(n,C,{copy:function(Le){return Object.assign(new this.constructor,this,Le)},displayable:function(){return this.rgb().displayable()},hex:M,formatHex:M,formatHex8:g,formatHsl:u,formatRgb:y,toString:y});function M(){return this.rgb().formatHex()}function g(){return this.rgb().formatHex8()}function u(){return W(this).formatHsl()}function y(){return this.rgb().formatRgb()}function C(Te){var Le,Ve;return Te=(Te+"").trim().toLowerCase(),(Le=r.exec(Te))?(Ve=Le[1].length,Le=parseInt(Le[1],16),Ve===6?S(Le):Ve===3?new A(Le>>8&15|Le>>4&240,Le>>4&15|Le&240,(Le&15)<<4|Le&15,1):Ve===8?D(Le>>24&255,Le>>16&255,Le>>8&255,(Le&255)/255):Ve===4?D(Le>>12&15|Le>>8&240,Le>>8&15|Le>>4&240,Le>>4&15|Le&240,((Le&15)<<4|Le&15)/255):null):(Le=l.exec(Te))?new A(Le[1],Le[2],Le[3],1):(Le=i.exec(Te))?new A(Le[1]*255/100,Le[2]*255/100,Le[3]*255/100,1):(Le=f.exec(Te))?D(Le[1],Le[2],Le[3],Le[4]):(Le=v.exec(Te))?D(Le[1]*255/100,Le[2]*255/100,Le[3]*255/100,Le[4]):(Le=c.exec(Te))?B(Le[1],Le[2]/100,Le[3]/100,1):(Le=x.exec(Te))?B(Le[1],Le[2]/100,Le[3]/100,Le[4]):d.hasOwnProperty(Te)?S(d[Te]):Te==="transparent"?new A(NaN,NaN,NaN,0):null}function S(Te){return new A(Te>>16&255,Te>>8&255,Te&255,1)}function D(Te,Le,Ve,We){return We<=0&&(Te=Le=Ve=NaN),new A(Te,Le,Ve,We)}function T(Te){return Te instanceof n||(Te=C(Te)),Te?(Te=Te.rgb(),new A(Te.r,Te.g,Te.b,Te.opacity)):new A}function P(Te,Le,Ve,We){return arguments.length===1?T(Te):new A(Te,Le,Ve,We??1)}function A(Te,Le,Ve,We){this.r=+Te,this.g=+Le,this.b=+Ve,this.opacity=+We}h(A,P,E(n,{brighter:function(Le){return Le=Le==null?w:Math.pow(w,Le),new A(this.r*Le,this.g*Le,this.b*Le,this.opacity)},darker:function(Le){return Le=Le==null?L:Math.pow(L,Le),new A(this.r*Le,this.g*Le,this.b*Le,this.opacity)},rgb:function(){return this},clamp:function(){return new A(O(this.r),O(this.g),O(this.b),N(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a,formatHex:a,formatHex8:R,formatRgb:b,toString:b}));function a(){return"#".concat(Y(this.r)).concat(Y(this.g)).concat(Y(this.b))}function R(){return"#".concat(Y(this.r)).concat(Y(this.g)).concat(Y(this.b)).concat(Y((isNaN(this.opacity)?1:this.opacity)*255))}function b(){var Te=N(this.opacity);return"".concat(Te===1?"rgb(":"rgba(").concat(O(this.r),", ").concat(O(this.g),", ").concat(O(this.b)).concat(Te===1?")":", ".concat(Te,")"))}function N(Te){return isNaN(Te)?1:Math.max(0,Math.min(1,Te))}function O(Te){return Math.max(0,Math.min(255,Math.round(Te)||0))}function Y(Te){return Te=O(Te),(Te<16?"0":"")+Te.toString(16)}function B(Te,Le,Ve,We){return We<=0?Te=Le=Ve=NaN:Ve<=0||Ve>=1?Te=Le=NaN:Le<=0&&(Te=NaN),new U(Te,Le,Ve,We)}function W(Te){if(Te instanceof U)return new U(Te.h,Te.s,Te.l,Te.opacity);if(Te instanceof n||(Te=C(Te)),!Te)return new U;if(Te instanceof U)return Te;Te=Te.rgb();var Le=Te.r/255,Ve=Te.g/255,We=Te.b/255,Fe=Math.min(Le,Ve,We),Ge=Math.max(Le,Ve,We),it=NaN,qe=Ge-Fe,$e=(Ge+Fe)/2;return qe?(Le===Ge?it=(Ve-We)/qe+(Ve<We)*6:Ve===Ge?it=(We-Le)/qe+2:it=(Le-Ve)/qe+4,qe/=$e<.5?Ge+Fe:2-Ge-Fe,it*=60):qe=$e>0&&$e<1?0:it,new U(it,qe,$e,Te.opacity)}function H(Te,Le,Ve,We){return arguments.length===1?W(Te):new U(Te,Le,Ve,We??1)}function U(Te,Le,Ve,We){this.h=+Te,this.s=+Le,this.l=+Ve,this.opacity=+We}h(U,H,E(n,{brighter:function(Le){return Le=Le==null?w:Math.pow(w,Le),new U(this.h,this.s,this.l*Le,this.opacity)},darker:function(Le){return Le=Le==null?L:Math.pow(L,Le),new U(this.h,this.s,this.l*Le,this.opacity)},rgb:function(){var Le=this.h%360+(this.h<0)*360,Ve=isNaN(Le)||isNaN(this.s)?0:this.s,We=this.l,Fe=We+(We<.5?We:1-We)*Ve,Ge=2*We-Fe;return new A(re(Le>=240?Le-240:Le+120,Ge,Fe),re(Le,Ge,Fe),re(Le<120?Le+240:Le-120,Ge,Fe),this.opacity)},clamp:function(){return new U(G(this.h),j(this.s),j(this.l),N(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Le=N(this.opacity);return"".concat(Le===1?"hsl(":"hsla(").concat(G(this.h),", ").concat(j(this.s)*100,"%, ").concat(j(this.l)*100,"%").concat(Le===1?")":", ".concat(Le,")"))}}));function G(Te){return Te=(Te||0)%360,Te<0?Te+360:Te}function j(Te){return Math.max(0,Math.min(1,Te||0))}function re(Te,Le,Ve){return(Te<60?Le+(Ve-Le)*Te/60:Te<180?Ve:Te<240?Le+(Ve-Le)*(240-Te)/60:Le)*255}var ae=function(Te){return function(){return Te}};function ue(Te,Le){return function(Ve){return Te+Ve*Le}}function de(Te,Le,Ve){return Te=Math.pow(Te,Ve),Le=Math.pow(Le,Ve)-Te,Ve=1/Ve,function(We){return Math.pow(Te+We*Le,Ve)}}function ee(Te){return(Te=+Te)==1?X:function(Le,Ve){return Ve-Le?de(Le,Ve,Te):ae(isNaN(Le)?Ve:Le)}}function X(Te,Le){var Ve=Le-Te;return Ve?ue(Te,Ve):ae(isNaN(Te)?Le:Te)}var Q=function Te(Le){var Ve=ee(Le);function We(Fe,Ge){var it=Ve((Fe=P(Fe)).r,(Ge=P(Ge)).r),qe=Ve(Fe.g,Ge.g),$e=Ve(Fe.b,Ge.b),tt=X(Fe.opacity,Ge.opacity);return function(vt){return Fe.r=it(vt),Fe.g=qe(vt),Fe.b=$e(vt),Fe.opacity=tt(vt),Fe+""}}return We.gamma=Te,We}(1);function $(Te,Le){var Ve=Le?Le.length:0,We=Te?Math.min(Ve,Te.length):0,Fe=new Array(We),Ge=new Array(Ve),it;for(it=0;it<We;++it)Fe[it]=Ce(Te[it],Le[it]);for(;it<Ve;++it)Ge[it]=Le[it];return function(qe){for(it=0;it<We;++it)Ge[it]=Fe[it](qe);return Ge}}function ne(Te,Le){var Ve=new Date;return Te=+Te,Le=+Le,function(We){return Ve.setTime(Te*(1-We)+Le*We),Ve}}function fe(Te,Le){return Te=+Te,Le=+Le,function(Ve){return Te*(1-Ve)+Le*Ve}}function te(Te){return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},te(Te)}function q(Te,Le){var Ve={},We={},Fe;(Te===null||te(Te)!=="object")&&(Te={}),(Le===null||te(Le)!=="object")&&(Le={});for(Fe in Le)Fe in Te?Ve[Fe]=Ce(Te[Fe],Le[Fe]):We[Fe]=Le[Fe];return function(Ge){for(Fe in Ve)We[Fe]=Ve[Fe](Ge);return We}}var he=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=new RegExp(he.source,"g");function pe(Te){return function(){return Te}}function we(Te){return function(Le){return Te(Le)+""}}function Ee(Te,Le){var Ve=he.lastIndex=se.lastIndex=0,We,Fe,Ge,it=-1,qe=[],$e=[];for(Te=Te+"",Le=Le+"";(We=he.exec(Te))&&(Fe=se.exec(Le));)(Ge=Fe.index)>Ve&&(Ge=Le.slice(Ve,Ge),qe[it]?qe[it]+=Ge:qe[++it]=Ge),(We=We[0])===(Fe=Fe[0])?qe[it]?qe[it]+=Fe:qe[++it]=Fe:(qe[++it]=null,$e.push({i:it,x:fe(We,Fe)})),Ve=se.lastIndex;return Ve<Le.length&&(Ge=Le.slice(Ve),qe[it]?qe[it]+=Ge:qe[++it]=Ge),qe.length<2?$e[0]?we($e[0].x):pe(Le):(Le=$e.length,function(tt){for(var vt=0,dt;vt<Le;++vt)qe[(dt=$e[vt]).i]=dt.x(tt);return qe.join("")})}function Me(Te,Le){Le||(Le=[]);var Ve=Te?Math.min(Le.length,Te.length):0,We=Le.slice(),Fe;return function(Ge){for(Fe=0;Fe<Ve;++Fe)We[Fe]=Te[Fe]*(1-Ge)+Le[Fe]*Ge;return We}}function Be(Te){return ArrayBuffer.isView(Te)&&!(Te instanceof DataView)}function Ne(Te){return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},Ne(Te)}function Ce(Te,Le){var Ve=Ne(Le),We;return Le==null||Ve==="boolean"?ae(Le):(Ve==="number"?fe:Ve==="string"?(We=C(Le))?(Le=We,Q):Ee:Le instanceof C?Q:Le instanceof Date?ne:Be(Le)?Me:Array.isArray(Le)?$:typeof Le.valueOf!="function"&&typeof Le.toString!="function"||isNaN(Le)?q:fe)(Te,Le)}},40402:function(k){k.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(k){k.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(k){k.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(k){k.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(k){k.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(k){k.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},V={};function K(k){var F=V[k];if(F!==void 0)return F.exports;var e=V[k]={exports:{}};return _[k].call(e.exports,e,e.exports,K),e.exports}(function(){K.n=function(k){var F=k&&k.__esModule?function(){return k.default}:function(){return k};return K.d(F,{a:F}),F}})(),function(){K.d=function(k,F){for(var e in F)K.o(F,e)&&!K.o(k,e)&&Object.defineProperty(k,e,{enumerable:!0,get:F[e]})}}(),function(){K.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){K.o=function(k,F){return Object.prototype.hasOwnProperty.call(k,F)}}(),function(){K.r=function(k){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})}}();var le=K(27909);return le}()})})(sR);(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=V(sS),_=V(d2);function V(k){return k&&k.__esModule?k:{default:k}}var K=(0,o.default)(_.default),le=K;s.default=le})(oS);const lR=AA(oS);function uR(){const s=async()=>{await Ib.get(Fm.server+"heatmap").then(le=>{_(le.data)}).catch(le=>{console.log(le)})};bi.useEffect(()=>{s()},[]);const[o,_]=bi.useState([]),[V,K]=bi.useState({data:null});return bi.useEffect(()=>{o.length>0&&K({data:{x:o.map(le=>le.x),y:o.map(le=>le.y),mode:"markers",marker:{size:20,color:"rgba(0, 0, 0, 0.2)"},type:"scatter"}})},[o]),Gi("div",{className:"h-[inherit] w-full flex items-center justify-center",children:(o==null?void 0:o.length)>0&&Gi(lR,{data:[V.data],layout:{title:"Scatter Plot Heatmap",xaxis:{title:"X Axis"},yaxis:{title:"Y Axis"}}})})}function fR(){return Pf("div",{className:"w-full flex justify-center items-center h-full flex-col",children:[Gi("h1",{className:"my-10 md:text-2xl text-lg text-center",children:"Heatmap"}),Gi("div",{className:"md:h-[30rem] h-full w-full",children:Gi(uR,{})})]})}const fS=O0.createContext({session:{personal:{userid:""},isLoggedIn:!1},setSession:()=>{}});function cR(s){return Gi("nav",{className:"bg-white border-gray-200 dark:bg-gray-900 dark:border-gray-700 shadow-2xl mb-10",children:Pf("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4",children:[Gi(Gp,{to:"/",className:"flex items-center",children:Gi("span",{className:"self-center md:text-lg text-base font-semibold whitespace-nowrap dark:text-white",children:"Point Analytics"})}),Pf("button",{"data-collapse-toggle":"navbar-multi-level",type:"button",className:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"navbar-multi-level","aria-expanded":"false",children:[Gi("span",{className:"sr-only",children:"Open main menu"}),Gi("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",children:Gi("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1 1h15M1 7h15M1 13h15"})})]}),Gi("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-multi-level",children:Pf("ul",{className:"flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[Gi("li",{children:Gi(Gp,{to:"/",className:"block py-2 pl-3 pr-4 text-white bg-blue-700 hover:text-blue-500 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500 dark:bg-blue-600 md:dark:bg-transparent",children:"Heatmap"})}),(s==null?void 0:s.isLoggedIn)&&Gi("li",{children:Gi(Gp,{to:"/profile",className:"block py-2 pl-3 pr-4 text-white bg-blue-700 hover:text-blue-500 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500 dark:bg-blue-600 md:dark:bg-transparent",children:"Profile"})}),s!=null&&s.isLoggedIn?Gi("li",{children:Gi("span",{onClick:s==null?void 0:s.logout,className:"cursor-pointer block py-2 pl-3 pr-4 text-white bg-red-700 hover:text-red-500 rounded md:bg-transparent md:text-red-700 md:p-0 md:dark:text-red-500 dark:bg-red-600 md:dark:bg-transparent",children:"Logout"})}):Gi("li",{children:Gi(Gp,{to:"/login",className:"block py-2 pl-3 pr-4 text-white bg-blue-700 hover:text-blue-500 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500 dark:bg-blue-600 md:dark:bg-transparent",children:"Login"})})]})})]})})}function WT(s){let o=Rm(),_={personal:{userid:""},isLoggedIn:!1};const[V,K]=bi.useState(_);bi.useEffect(()=>{let F=JSON.parse(sessionStorage.getItem("loggedin"));F&&K({..._,personal:F.data,isLoggedIn:!0})},[]);const le={session:V,setSession:K},k=async()=>{sessionStorage.removeItem("access_token"),sessionStorage.removeItem("refresh_token"),sessionStorage.removeItem("loggedin"),K({...V,personal:_.personal,isLoggedIn:!1}),o("/")};return Gi(kC,{children:Pf(fS.Provider,{value:le,children:[Gi(cR,{isLoggedIn:V.isLoggedIn,__init_session:_,setSession:K,logout:k}),Gi("div",{className:"md:mx-10 mx-2",children:s.children})]})})}function GT(){return bi.useEffect(()=>{window.location.href=`${Fm.admin}`},[]),Gi("div",{})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Z0(s){return s+.5|0}const vh=(s,o,_)=>Math.max(Math.min(s,_),o);function Yp(s){return vh(Z0(s*2.55),0,255)}function Sh(s){return vh(Z0(s*255),0,255)}function vc(s){return vh(Z0(s/2.55)/100,0,1)}function YT(s){return vh(Z0(s*100),0,100)}const hu={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},p2=[..."0123456789ABCDEF"],hR=s=>p2[s&15],vR=s=>p2[(s&240)>>4]+p2[s&15],Wg=s=>(s&240)>>4===(s&15),dR=s=>Wg(s.r)&&Wg(s.g)&&Wg(s.b)&&Wg(s.a);function pR(s){var o=s.length,_;return s[0]==="#"&&(o===4||o===5?_={r:255&hu[s[1]]*17,g:255&hu[s[2]]*17,b:255&hu[s[3]]*17,a:o===5?hu[s[4]]*17:255}:(o===7||o===9)&&(_={r:hu[s[1]]<<4|hu[s[2]],g:hu[s[3]]<<4|hu[s[4]],b:hu[s[5]]<<4|hu[s[6]],a:o===9?hu[s[7]]<<4|hu[s[8]]:255})),_}const gR=(s,o)=>s<255?o(s):"";function yR(s){var o=dR(s)?hR:vR;return s?"#"+o(s.r)+o(s.g)+o(s.b)+gR(s.a,o):void 0}const mR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cS(s,o,_){const V=o*Math.min(_,1-_),K=(le,k=(le+s/30)%12)=>_-V*Math.max(Math.min(k-3,9-k,1),-1);return[K(0),K(8),K(4)]}function xR(s,o,_){const V=(K,le=(K+s/60)%6)=>_-_*o*Math.max(Math.min(le,4-le,1),0);return[V(5),V(3),V(1)]}function bR(s,o,_){const V=cS(s,1,.5);let K;for(o+_>1&&(K=1/(o+_),o*=K,_*=K),K=0;K<3;K++)V[K]*=1-o-_,V[K]+=o;return V}function wR(s,o,_,V,K){return s===K?(o-_)/V+(o<_?6:0):o===K?(_-s)/V+2:(s-o)/V+4}function Fb(s){const _=s.r/255,V=s.g/255,K=s.b/255,le=Math.max(_,V,K),k=Math.min(_,V,K),F=(le+k)/2;let e,h,E;return le!==k&&(E=le-k,h=F>.5?E/(2-le-k):E/(le+k),e=wR(_,V,K,E,le),e=e*60+.5),[e|0,h||0,F]}function zb(s,o,_,V){return(Array.isArray(o)?s(o[0],o[1],o[2]):s(o,_,V)).map(Sh)}function Ob(s,o,_){return zb(cS,s,o,_)}function TR(s,o,_){return zb(bR,s,o,_)}function AR(s,o,_){return zb(xR,s,o,_)}function hS(s){return(s%360+360)%360}function MR(s){const o=mR.exec(s);let _=255,V;if(!o)return;o[5]!==V&&(_=o[6]?Yp(+o[5]):Sh(+o[5]));const K=hS(+o[2]),le=+o[3]/100,k=+o[4]/100;return o[1]==="hwb"?V=TR(K,le,k):o[1]==="hsv"?V=AR(K,le,k):V=Ob(K,le,k),{r:V[0],g:V[1],b:V[2],a:_}}function SR(s,o){var _=Fb(s);_[0]=hS(_[0]+o),_=Ob(_),s.r=_[0],s.g=_[1],s.b=_[2]}function ER(s){if(!s)return;const o=Fb(s),_=o[0],V=YT(o[1]),K=YT(o[2]);return s.a<255?`hsla(${_}, ${V}%, ${K}%, ${vc(s.a)})`:`hsl(${_}, ${V}%, ${K}%)`}const ZT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function CR(){const s={},o=Object.keys(jT),_=Object.keys(ZT);let V,K,le,k,F;for(V=0;V<o.length;V++){for(k=F=o[V],K=0;K<_.length;K++)le=_[K],F=F.replace(le,ZT[le]);le=parseInt(jT[k],16),s[F]=[le>>16&255,le>>8&255,le&255]}return s}let Gg;function LR(s){Gg||(Gg=CR(),Gg.transparent=[0,0,0,0]);const o=Gg[s.toLowerCase()];return o&&{r:o[0],g:o[1],b:o[2],a:o.length===4?o[3]:255}}const PR=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function RR(s){const o=PR.exec(s);let _=255,V,K,le;if(o){if(o[7]!==V){const k=+o[7];_=o[8]?Yp(k):vh(k*255,0,255)}return V=+o[1],K=+o[3],le=+o[5],V=255&(o[2]?Yp(V):vh(V,0,255)),K=255&(o[4]?Yp(K):vh(K,0,255)),le=255&(o[6]?Yp(le):vh(le,0,255)),{r:V,g:K,b:le,a:_}}}function DR(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${vc(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const ex=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,vd=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function _R(s,o,_){const V=vd(vc(s.r)),K=vd(vc(s.g)),le=vd(vc(s.b));return{r:Sh(ex(V+_*(vd(vc(o.r))-V))),g:Sh(ex(K+_*(vd(vc(o.g))-K))),b:Sh(ex(le+_*(vd(vc(o.b))-le))),a:s.a+_*(o.a-s.a)}}function Yg(s,o,_){if(s){let V=Fb(s);V[o]=Math.max(0,Math.min(V[o]+V[o]*_,o===0?360:1)),V=Ob(V),s.r=V[0],s.g=V[1],s.b=V[2]}}function vS(s,o){return s&&Object.assign(o||{},s)}function XT(s){var o={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(o={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(o.a=Sh(s[3]))):(o=vS(s,{r:0,g:0,b:0,a:1}),o.a=Sh(o.a)),o}function kR(s){return s.charAt(0)==="r"?RR(s):MR(s)}class D0{constructor(o){if(o instanceof D0)return o;const _=typeof o;let V;_==="object"?V=XT(o):_==="string"&&(V=pR(o)||LR(o)||kR(o)),this._rgb=V,this._valid=!!V}get valid(){return this._valid}get rgb(){var o=vS(this._rgb);return o&&(o.a=vc(o.a)),o}set rgb(o){this._rgb=XT(o)}rgbString(){return this._valid?DR(this._rgb):void 0}hexString(){return this._valid?yR(this._rgb):void 0}hslString(){return this._valid?ER(this._rgb):void 0}mix(o,_){if(o){const V=this.rgb,K=o.rgb;let le;const k=_===le?.5:_,F=2*k-1,e=V.a-K.a,h=((F*e===-1?F:(F+e)/(1+F*e))+1)/2;le=1-h,V.r=255&h*V.r+le*K.r+.5,V.g=255&h*V.g+le*K.g+.5,V.b=255&h*V.b+le*K.b+.5,V.a=k*V.a+(1-k)*K.a,this.rgb=V}return this}interpolate(o,_){return o&&(this._rgb=_R(this._rgb,o._rgb,_)),this}clone(){return new D0(this.rgb)}alpha(o){return this._rgb.a=Sh(o),this}clearer(o){const _=this._rgb;return _.a*=1-o,this}greyscale(){const o=this._rgb,_=Z0(o.r*.3+o.g*.59+o.b*.11);return o.r=o.g=o.b=_,this}opaquer(o){const _=this._rgb;return _.a*=1+o,this}negate(){const o=this._rgb;return o.r=255-o.r,o.g=255-o.g,o.b=255-o.b,this}lighten(o){return Yg(this._rgb,2,o),this}darken(o){return Yg(this._rgb,2,-o),this}saturate(o){return Yg(this._rgb,1,o),this}desaturate(o){return Yg(this._rgb,1,-o),this}rotate(o){return SR(this._rgb,o),this}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function lc(){}const IR=(()=>{let s=0;return()=>s++})();function oo(s){return s===null||typeof s>"u"}function Ba(s){if(Array.isArray&&Array.isArray(s))return!0;const o=Object.prototype.toString.call(s);return o.slice(0,7)==="[object"&&o.slice(-6)==="Array]"}function pa(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Ho(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function Nl(s,o){return Ho(s)?s:o}function ua(s,o){return typeof s>"u"?o:s}const FR=(s,o)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*o:+s;function za(s,o,_){if(s&&typeof s.call=="function")return s.apply(_,o)}function Oa(s,o,_,V){let K,le,k;if(Ba(s))if(le=s.length,V)for(K=le-1;K>=0;K--)o.call(_,s[K],K);else for(K=0;K<le;K++)o.call(_,s[K],K);else if(pa(s))for(k=Object.keys(s),le=k.length,K=0;K<le;K++)o.call(_,s[k[K]],k[K])}function tm(s,o){let _,V,K,le;if(!s||!o||s.length!==o.length)return!1;for(_=0,V=s.length;_<V;++_)if(K=s[_],le=o[_],K.datasetIndex!==le.datasetIndex||K.index!==le.index)return!1;return!0}function rm(s){if(Ba(s))return s.map(rm);if(pa(s)){const o=Object.create(null),_=Object.keys(s),V=_.length;let K=0;for(;K<V;++K)o[_[K]]=rm(s[_[K]]);return o}return s}function dS(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function zR(s,o,_,V){if(!dS(s))return;const K=o[s],le=_[s];pa(K)&&pa(le)?_0(K,le,V):o[s]=rm(le)}function _0(s,o,_){const V=Ba(o)?o:[o],K=V.length;if(!pa(s))return s;_=_||{};const le=_.merger||zR;let k;for(let F=0;F<K;++F){if(k=V[F],!pa(k))continue;const e=Object.keys(k);for(let h=0,E=e.length;h<E;++h)le(e[h],s,k,_)}return s}function o0(s,o){return _0(s,o,{merger:OR})}function OR(s,o,_){if(!dS(s))return;const V=o[s],K=_[s];pa(V)&&pa(K)?o0(V,K):Object.prototype.hasOwnProperty.call(o,s)||(o[s]=rm(K))}const KT={"":s=>s,x:s=>s.x,y:s=>s.y};function BR(s){const o=s.split("."),_=[];let V="";for(const K of o)V+=K,V.endsWith("\\")?V=V.slice(0,-1)+".":(_.push(V),V="");return _}function NR(s){const o=BR(s);return _=>{for(const V of o){if(V==="")break;_=_&&_[V]}return _}}function nm(s,o){return(KT[o]||(KT[o]=NR(o)))(s)}function Bb(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Yl=s=>typeof s<"u",Al=s=>typeof s=="function",JT=(s,o)=>{if(s.size!==o.size)return!1;for(const _ of s)if(!o.has(_))return!1;return!0};function UR(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Na=Math.PI,Wl=2*Na,HR=Wl+Na,im=Number.POSITIVE_INFINITY,Nb=Na/180,ms=Na/2,vu=Na/4,am=Na*2/3,dh=Math.log10,Vd=Math.sign;function s0(s,o,_){return Math.abs(s-o)<_}function QT(s){const o=Math.round(s);s=s0(s,o,s/1e3)?o:s;const _=Math.pow(10,Math.floor(dh(s))),V=s/_;return(V<=1?1:V<=2?2:V<=5?5:10)*_}function VR(s){const o=[],_=Math.sqrt(s);let V;for(V=1;V<_;V++)s%V===0&&(o.push(V),o.push(s/V));return _===(_|0)&&o.push(_),o.sort((K,le)=>K-le).pop(),o}function Iv(s){return!isNaN(parseFloat(s))&&isFinite(s)}function WR(s,o){const _=Math.round(s);return _-o<=s&&_+o>=s}function pS(s,o,_){let V,K,le;for(V=0,K=s.length;V<K;V++)le=s[V][_],isNaN(le)||(o.min=Math.min(o.min,le),o.max=Math.max(o.max,le))}function xs(s){return s*(Na/180)}function zm(s){return s*(180/Na)}function $T(s){if(!Ho(s))return;let o=1,_=0;for(;Math.round(s*o)/o!==s;)o*=10,_++;return _}function GR(s,o){const _=o.x-s.x,V=o.y-s.y,K=Math.sqrt(_*_+V*V);let le=Math.atan2(V,_);return le<-.5*Na&&(le+=Wl),{angle:le,distance:K}}function Wd(s,o){return Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2))}function YR(s,o){return(s-o+HR)%Wl-Na}function ju(s){return(s%Wl+Wl)%Wl}function gS(s,o,_,V){const K=ju(s),le=ju(o),k=ju(_),F=ju(le-K),e=ju(k-K),h=ju(K-le),E=ju(K-k);return K===le||K===k||V&&le===k||F>e&&h<E}function Ku(s,o,_){return Math.max(o,Math.min(_,s))}function ZR(s){return Ku(s,-32768,32767)}function Zp(s,o,_,V=1e-6){return s>=Math.min(o,_)-V&&s<=Math.max(o,_)+V}function Ub(s,o,_){_=_||(k=>s[k]<o);let V=s.length-1,K=0,le;for(;V-K>1;)le=K+V>>1,_(le)?K=le:V=le;return{lo:K,hi:V}}const Av=(s,o,_,V)=>Ub(s,_,V?K=>{const le=s[K][o];return le<_||le===_&&s[K+1][o]===_}:K=>s[K][o]<_),jR=(s,o,_)=>Ub(s,_,V=>s[V][o]>=_);function XR(s,o,_){let V=0,K=s.length;for(;V<K&&s[V]<o;)V++;for(;K>V&&s[K-1]>_;)K--;return V>0||K<s.length?s.slice(V,K):s}const yS=["push","pop","shift","splice","unshift"];function KR(s,o){if(s._chartjs){s._chartjs.listeners.push(o);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),yS.forEach(_=>{const V="_onData"+Bb(_),K=s[_];Object.defineProperty(s,_,{configurable:!0,enumerable:!1,value(...le){const k=K.apply(this,le);return s._chartjs.listeners.forEach(F=>{typeof F[V]=="function"&&F[V](...le)}),k}})})}function qT(s,o){const _=s._chartjs;if(!_)return;const V=_.listeners,K=V.indexOf(o);K!==-1&&V.splice(K,1),!(V.length>0)&&(yS.forEach(le=>{delete s[le]}),delete s._chartjs)}function JR(s){const o=new Set(s);return o.size===s.length?s:Array.from(o)}const mS=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function xS(s,o){let _=[],V=!1;return function(...K){_=K,V||(V=!0,mS.call(window,()=>{V=!1,s.apply(o,_)}))}}function QR(s,o){let _;return function(...V){return o?(clearTimeout(_),_=setTimeout(s,o,V)):s.apply(this,V),o}}const bS=s=>s==="start"?"left":s==="end"?"right":"center",Bl=(s,o,_)=>s==="start"?o:s==="end"?_:(o+_)/2,$R=(s,o,_,V)=>s===(V?"left":"right")?_:s==="center"?(o+_)/2:o;function qR(s,o,_){const V=o.length;let K=0,le=V;if(s._sorted){const{iScale:k,_parsed:F}=s,e=k.axis,{min:h,max:E,minDefined:n,maxDefined:L}=k.getUserBounds();n&&(K=Ku(Math.min(Av(F,e,h).lo,_?V:Av(o,e,k.getPixelForValue(h)).lo),0,V-1)),L?le=Ku(Math.max(Av(F,k.axis,E,!0).hi+1,_?0:Av(o,e,k.getPixelForValue(E),!0).hi+1),K,V)-K:le=V-K}return{start:K,count:le}}function eD(s){const{xScale:o,yScale:_,_scaleRanges:V}=s,K={xmin:o.min,xmax:o.max,ymin:_.min,ymax:_.max};if(!V)return s._scaleRanges=K,!0;const le=V.xmin!==o.min||V.xmax!==o.max||V.ymin!==_.min||V.ymax!==_.max;return Object.assign(V,K),le}const Zg=s=>s===0||s===1,e5=(s,o,_)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-o)*Wl/_)),t5=(s,o,_)=>Math.pow(2,-10*s)*Math.sin((s-o)*Wl/_)+1,l0={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*ms)+1,easeOutSine:s=>Math.sin(s*ms),easeInOutSine:s=>-.5*(Math.cos(Na*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Zg(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Zg(s)?s:e5(s,.075,.3),easeOutElastic:s=>Zg(s)?s:t5(s,.075,.3),easeInOutElastic(s){return Zg(s)?s:s<.5?.5*e5(s*2,.1125,.45):.5+.5*t5(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let o=1.70158;return(s/=.5)<1?.5*(s*s*(((o*=1.525)+1)*s-o)):.5*((s-=2)*s*(((o*=1.525)+1)*s+o)+2)},easeInBounce:s=>1-l0.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?l0.easeInBounce(s*2)*.5:l0.easeOutBounce(s*2-1)*.5+.5};function Hb(s){if(s&&typeof s=="object"){const o=s.toString();return o==="[object CanvasPattern]"||o==="[object CanvasGradient]"}return!1}function r5(s){return Hb(s)?s:new D0(s)}function tx(s){return Hb(s)?s:new D0(s).saturate(.5).darken(.1).hexString()}const tD=["x","y","borderWidth","radius","tension"],rD=["color","borderColor","backgroundColor"];function nD(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:o=>o!=="onProgress"&&o!=="onComplete"&&o!=="fn"}),s.set("animations",{colors:{type:"color",properties:rD},numbers:{type:"number",properties:tD}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:o=>o|0}}}})}function iD(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const n5=new Map;function aD(s,o){o=o||{};const _=s+JSON.stringify(o);let V=n5.get(_);return V||(V=new Intl.NumberFormat(s,o),n5.set(_,V)),V}function Vb(s,o,_){return aD(o,_).format(s)}const wS={values(s){return Ba(s)?s:""+s},numeric(s,o,_){if(s===0)return"0";const V=this.chart.options.locale;let K,le=s;if(_.length>1){const h=Math.max(Math.abs(_[0].value),Math.abs(_[_.length-1].value));(h<1e-4||h>1e15)&&(K="scientific"),le=oD(s,_)}const k=dh(Math.abs(le)),F=isNaN(k)?1:Math.max(Math.min(-1*Math.floor(k),20),0),e={notation:K,minimumFractionDigits:F,maximumFractionDigits:F};return Object.assign(e,this.options.ticks.format),Vb(s,V,e)},logarithmic(s,o,_){if(s===0)return"0";const V=_[o].significand||s/Math.pow(10,Math.floor(dh(s)));return[1,2,3,5,10,15].includes(V)||o>.8*_.length?wS.numeric.call(this,s,o,_):""}};function oD(s,o){let _=o.length>3?o[2].value-o[1].value:o[1].value-o[0].value;return Math.abs(_)>=1&&s!==Math.floor(s)&&(_=s-Math.floor(s)),_}var Om={formatters:wS};function sD(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(o,_)=>_.lineWidth,tickColor:(o,_)=>_.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Om.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:o=>!o.startsWith("before")&&!o.startsWith("after")&&o!=="callback"&&o!=="parser",_indexable:o=>o!=="borderDash"&&o!=="tickBorderDash"&&o!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:o=>o!=="backdropPadding"&&o!=="callback",_indexable:o=>o!=="backdropPadding"})}const Fv=Object.create(null),g2=Object.create(null);function u0(s,o){if(!o)return s;const _=o.split(".");for(let V=0,K=_.length;V<K;++V){const le=_[V];s=s[le]||(s[le]=Object.create(null))}return s}function rx(s,o,_){return typeof o=="string"?_0(u0(s,o),_):_0(u0(s,""),o)}class lD{constructor(o,_){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=V=>V.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(V,K)=>tx(K.backgroundColor),this.hoverBorderColor=(V,K)=>tx(K.borderColor),this.hoverColor=(V,K)=>tx(K.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(o),this.apply(_)}set(o,_){return rx(this,o,_)}get(o){return u0(this,o)}describe(o,_){return rx(g2,o,_)}override(o,_){return rx(Fv,o,_)}route(o,_,V,K){const le=u0(this,o),k=u0(this,V),F="_"+_;Object.defineProperties(le,{[F]:{value:le[_],writable:!0},[_]:{enumerable:!0,get(){const e=this[F],h=k[K];return pa(e)?Object.assign({},h,e):ua(e,h)},set(e){this[F]=e}}})}apply(o){o.forEach(_=>_(this))}}var yo=new lD({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nD,iD,sD]);function uD(s){return!s||oo(s.size)||oo(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function om(s,o,_,V,K){let le=o[K];return le||(le=o[K]=s.measureText(K).width,_.push(K)),le>V&&(V=le),V}function fD(s,o,_,V){V=V||{};let K=V.data=V.data||{},le=V.garbageCollect=V.garbageCollect||[];V.font!==o&&(K=V.data={},le=V.garbageCollect=[],V.font=o),s.save(),s.font=o;let k=0;const F=_.length;let e,h,E,n,L;for(e=0;e<F;e++)if(n=_[e],n!=null&&!Ba(n))k=om(s,K,le,k,n);else if(Ba(n))for(h=0,E=n.length;h<E;h++)L=n[h],L!=null&&!Ba(L)&&(k=om(s,K,le,k,L));s.restore();const w=le.length/2;if(w>_.length){for(e=0;e<w;e++)delete K[le[e]];le.splice(0,w)}return k}function vv(s,o,_){const V=s.currentDevicePixelRatio,K=_!==0?Math.max(_/2,.5):0;return Math.round((o-K)*V)/V+K}function i5(s,o){o=o||s.getContext("2d"),o.save(),o.resetTransform(),o.clearRect(0,0,s.width,s.height),o.restore()}function y2(s,o,_,V){TS(s,o,_,V,null)}function TS(s,o,_,V,K){let le,k,F,e,h,E,n,L;const w=o.pointStyle,p=o.rotation,m=o.radius;let t=(p||0)*Nb;if(w&&typeof w=="object"&&(le=w.toString(),le==="[object HTMLImageElement]"||le==="[object HTMLCanvasElement]")){s.save(),s.translate(_,V),s.rotate(t),s.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),s.restore();return}if(!(isNaN(m)||m<=0)){switch(s.beginPath(),w){default:K?s.ellipse(_,V,K/2,m,0,0,Wl):s.arc(_,V,m,0,Wl),s.closePath();break;case"triangle":E=K?K/2:m,s.moveTo(_+Math.sin(t)*E,V-Math.cos(t)*m),t+=am,s.lineTo(_+Math.sin(t)*E,V-Math.cos(t)*m),t+=am,s.lineTo(_+Math.sin(t)*E,V-Math.cos(t)*m),s.closePath();break;case"rectRounded":h=m*.516,e=m-h,k=Math.cos(t+vu)*e,n=Math.cos(t+vu)*(K?K/2-h:e),F=Math.sin(t+vu)*e,L=Math.sin(t+vu)*(K?K/2-h:e),s.arc(_-n,V-F,h,t-Na,t-ms),s.arc(_+L,V-k,h,t-ms,t),s.arc(_+n,V+F,h,t,t+ms),s.arc(_-L,V+k,h,t+ms,t+Na),s.closePath();break;case"rect":if(!p){e=Math.SQRT1_2*m,E=K?K/2:e,s.rect(_-E,V-e,2*E,2*e);break}t+=vu;case"rectRot":n=Math.cos(t)*(K?K/2:m),k=Math.cos(t)*m,F=Math.sin(t)*m,L=Math.sin(t)*(K?K/2:m),s.moveTo(_-n,V-F),s.lineTo(_+L,V-k),s.lineTo(_+n,V+F),s.lineTo(_-L,V+k),s.closePath();break;case"crossRot":t+=vu;case"cross":n=Math.cos(t)*(K?K/2:m),k=Math.cos(t)*m,F=Math.sin(t)*m,L=Math.sin(t)*(K?K/2:m),s.moveTo(_-n,V-F),s.lineTo(_+n,V+F),s.moveTo(_+L,V-k),s.lineTo(_-L,V+k);break;case"star":n=Math.cos(t)*(K?K/2:m),k=Math.cos(t)*m,F=Math.sin(t)*m,L=Math.sin(t)*(K?K/2:m),s.moveTo(_-n,V-F),s.lineTo(_+n,V+F),s.moveTo(_+L,V-k),s.lineTo(_-L,V+k),t+=vu,n=Math.cos(t)*(K?K/2:m),k=Math.cos(t)*m,F=Math.sin(t)*m,L=Math.sin(t)*(K?K/2:m),s.moveTo(_-n,V-F),s.lineTo(_+n,V+F),s.moveTo(_+L,V-k),s.lineTo(_-L,V+k);break;case"line":k=K?K/2:Math.cos(t)*m,F=Math.sin(t)*m,s.moveTo(_-k,V-F),s.lineTo(_+k,V+F);break;case"dash":s.moveTo(_,V),s.lineTo(_+Math.cos(t)*(K?K/2:m),V+Math.sin(t)*m);break;case!1:s.closePath();break}s.fill(),o.borderWidth>0&&s.stroke()}}function gc(s,o,_){return _=_||.5,!o||s&&s.x>o.left-_&&s.x<o.right+_&&s.y>o.top-_&&s.y<o.bottom+_}function Bm(s,o){s.save(),s.beginPath(),s.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),s.clip()}function Nm(s){s.restore()}function cD(s,o,_,V,K){if(!o)return s.lineTo(_.x,_.y);if(K==="middle"){const le=(o.x+_.x)/2;s.lineTo(le,o.y),s.lineTo(le,_.y)}else K==="after"!=!!V?s.lineTo(o.x,_.y):s.lineTo(_.x,o.y);s.lineTo(_.x,_.y)}function hD(s,o,_,V){if(!o)return s.lineTo(_.x,_.y);s.bezierCurveTo(V?o.cp1x:o.cp2x,V?o.cp1y:o.cp2y,V?_.cp2x:_.cp1x,V?_.cp2y:_.cp1y,_.x,_.y)}function vD(s,o){o.translation&&s.translate(o.translation[0],o.translation[1]),oo(o.rotation)||s.rotate(o.rotation),o.color&&(s.fillStyle=o.color),o.textAlign&&(s.textAlign=o.textAlign),o.textBaseline&&(s.textBaseline=o.textBaseline)}function dD(s,o,_,V,K){if(K.strikethrough||K.underline){const le=s.measureText(V),k=o-le.actualBoundingBoxLeft,F=o+le.actualBoundingBoxRight,e=_-le.actualBoundingBoxAscent,h=_+le.actualBoundingBoxDescent,E=K.strikethrough?(e+h)/2:h;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=K.decorationWidth||2,s.moveTo(k,E),s.lineTo(F,E),s.stroke()}}function pD(s,o){const _=s.fillStyle;s.fillStyle=o.color,s.fillRect(o.left,o.top,o.width,o.height),s.fillStyle=_}function Gd(s,o,_,V,K,le={}){const k=Ba(o)?o:[o],F=le.strokeWidth>0&&le.strokeColor!=="";let e,h;for(s.save(),s.font=K.string,vD(s,le),e=0;e<k.length;++e)h=k[e],le.backdrop&&pD(s,le.backdrop),F&&(le.strokeColor&&(s.strokeStyle=le.strokeColor),oo(le.strokeWidth)||(s.lineWidth=le.strokeWidth),s.strokeText(h,_,V,le.maxWidth)),s.fillText(h,_,V,le.maxWidth),dD(s,_,V,h,le),V+=Number(K.lineHeight);s.restore()}function k0(s,o){const{x:_,y:V,w:K,h:le,radius:k}=o;s.arc(_+k.topLeft,V+k.topLeft,k.topLeft,1.5*Na,Na,!0),s.lineTo(_,V+le-k.bottomLeft),s.arc(_+k.bottomLeft,V+le-k.bottomLeft,k.bottomLeft,Na,ms,!0),s.lineTo(_+K-k.bottomRight,V+le),s.arc(_+K-k.bottomRight,V+le-k.bottomRight,k.bottomRight,ms,0,!0),s.lineTo(_+K,V+k.topRight),s.arc(_+K-k.topRight,V+k.topRight,k.topRight,0,-ms,!0),s.lineTo(_+k.topLeft,V)}const gD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mD(s,o){const _=(""+s).match(gD);if(!_||_[1]==="normal")return o*1.2;switch(s=+_[2],_[3]){case"px":return s;case"%":s/=100;break}return o*s}const xD=s=>+s||0;function AS(s,o){const _={},V=pa(o),K=V?Object.keys(o):o,le=pa(s)?V?k=>ua(s[k],s[o[k]]):k=>s[k]:()=>s;for(const k of K)_[k]=xD(le(k));return _}function bD(s){return AS(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Cv(s){return AS(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Qo(s){const o=bD(s);return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function _o(s,o){s=s||{},o=o||yo.font;let _=ua(s.size,o.size);typeof _=="string"&&(_=parseInt(_,10));let V=ua(s.style,o.style);V&&!(""+V).match(yD)&&(console.warn('Invalid font style specified: "'+V+'"'),V=void 0);const K={family:ua(s.family,o.family),lineHeight:mD(ua(s.lineHeight,o.lineHeight),_),size:_,style:V,weight:ua(s.weight,o.weight),string:""};return K.string=uD(K),K}function jg(s,o,_,V){let K=!0,le,k,F;for(le=0,k=s.length;le<k;++le)if(F=s[le],F!==void 0&&(o!==void 0&&typeof F=="function"&&(F=F(o),K=!1),_!==void 0&&Ba(F)&&(F=F[_%F.length],K=!1),F!==void 0))return V&&!K&&(V.cacheable=!1),F}function wD(s,o,_){const{min:V,max:K}=s,le=FR(o,(K-V)/2),k=(F,e)=>_&&F===0?0:F+e;return{min:k(V,-Math.abs(le)),max:k(K,le)}}function zh(s,o){return Object.assign(Object.create(s),o)}function Wb(s,o=[""],_,V,K=()=>s[0]){const le=_||s;typeof V>"u"&&(V=CS("_fallback",s));const k={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:le,_fallback:V,_getTarget:K,override:F=>Wb([F,...s],o,le,V)};return new Proxy(k,{deleteProperty(F,e){return delete F[e],delete F._keys,delete s[0][e],!0},get(F,e){return SS(F,e,()=>PD(e,o,s,F))},getOwnPropertyDescriptor(F,e){return Reflect.getOwnPropertyDescriptor(F._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(F,e){return o5(F).includes(e)},ownKeys(F){return o5(F)},set(F,e,h){const E=F._storage||(F._storage=K());return F[e]=E[e]=h,delete F._keys,!0}})}function Yd(s,o,_,V){const K={_cacheable:!1,_proxy:s,_context:o,_subProxy:_,_stack:new Set,_descriptors:MS(s,V),setContext:le=>Yd(s,le,_,V),override:le=>Yd(s.override(le),o,_,V)};return new Proxy(K,{deleteProperty(le,k){return delete le[k],delete s[k],!0},get(le,k,F){return SS(le,k,()=>AD(le,k,F))},getOwnPropertyDescriptor(le,k){return le._descriptors.allKeys?Reflect.has(s,k)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,k)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(le,k){return Reflect.has(s,k)},ownKeys(){return Reflect.ownKeys(s)},set(le,k,F){return s[k]=F,delete le[k],!0}})}function MS(s,o={scriptable:!0,indexable:!0}){const{_scriptable:_=o.scriptable,_indexable:V=o.indexable,_allKeys:K=o.allKeys}=s;return{allKeys:K,scriptable:_,indexable:V,isScriptable:Al(_)?_:()=>_,isIndexable:Al(V)?V:()=>V}}const TD=(s,o)=>s?s+Bb(o):o,Gb=(s,o)=>pa(o)&&s!=="adapters"&&(Object.getPrototypeOf(o)===null||o.constructor===Object);function SS(s,o,_){if(Object.prototype.hasOwnProperty.call(s,o))return s[o];const V=_();return s[o]=V,V}function AD(s,o,_){const{_proxy:V,_context:K,_subProxy:le,_descriptors:k}=s;let F=V[o];return Al(F)&&k.isScriptable(o)&&(F=MD(o,F,s,_)),Ba(F)&&F.length&&(F=SD(o,F,s,k.isIndexable)),Gb(o,F)&&(F=Yd(F,K,le&&le[o],k)),F}function MD(s,o,_,V){const{_proxy:K,_context:le,_subProxy:k,_stack:F}=_;if(F.has(s))throw new Error("Recursion detected: "+Array.from(F).join("->")+"->"+s);F.add(s);let e=o(le,k||V);return F.delete(s),Gb(s,e)&&(e=Yb(K._scopes,K,s,e)),e}function SD(s,o,_,V){const{_proxy:K,_context:le,_subProxy:k,_descriptors:F}=_;if(typeof le.index<"u"&&V(s))return o[le.index%o.length];if(pa(o[0])){const e=o,h=K._scopes.filter(E=>E!==e);o=[];for(const E of e){const n=Yb(h,K,s,E);o.push(Yd(n,le,k&&k[s],F))}}return o}function ES(s,o,_){return Al(s)?s(o,_):s}const ED=(s,o)=>s===!0?o:typeof s=="string"?nm(o,s):void 0;function CD(s,o,_,V,K){for(const le of o){const k=ED(_,le);if(k){s.add(k);const F=ES(k._fallback,_,K);if(typeof F<"u"&&F!==_&&F!==V)return F}else if(k===!1&&typeof V<"u"&&_!==V)return null}return!1}function Yb(s,o,_,V){const K=o._rootScopes,le=ES(o._fallback,_,V),k=[...s,...K],F=new Set;F.add(V);let e=a5(F,k,_,le||_,V);return e===null||typeof le<"u"&&le!==_&&(e=a5(F,k,le,e,V),e===null)?!1:Wb(Array.from(F),[""],K,le,()=>LD(o,_,V))}function a5(s,o,_,V,K){for(;_;)_=CD(s,o,_,V,K);return _}function LD(s,o,_){const V=s._getTarget();o in V||(V[o]={});const K=V[o];return Ba(K)&&pa(_)?_:K||{}}function PD(s,o,_,V){let K;for(const le of o)if(K=CS(TD(le,s),_),typeof K<"u")return Gb(s,K)?Yb(_,V,s,K):K}function CS(s,o){for(const _ of o){if(!_)continue;const V=_[s];if(typeof V<"u")return V}}function o5(s){let o=s._keys;return o||(o=s._keys=RD(s._scopes)),o}function RD(s){const o=new Set;for(const _ of s)for(const V of Object.keys(_).filter(K=>!K.startsWith("_")))o.add(V);return Array.from(o)}const DD=Number.EPSILON||1e-14,Zd=(s,o)=>o<s.length&&!s[o].skip&&s[o],LS=s=>s==="x"?"y":"x";function _D(s,o,_,V){const K=s.skip?o:s,le=o,k=_.skip?o:_,F=Wd(le,K),e=Wd(k,le);let h=F/(F+e),E=e/(F+e);h=isNaN(h)?0:h,E=isNaN(E)?0:E;const n=V*h,L=V*E;return{previous:{x:le.x-n*(k.x-K.x),y:le.y-n*(k.y-K.y)},next:{x:le.x+L*(k.x-K.x),y:le.y+L*(k.y-K.y)}}}function kD(s,o,_){const V=s.length;let K,le,k,F,e,h=Zd(s,0);for(let E=0;E<V-1;++E)if(e=h,h=Zd(s,E+1),!(!e||!h)){if(s0(o[E],0,DD)){_[E]=_[E+1]=0;continue}K=_[E]/o[E],le=_[E+1]/o[E],F=Math.pow(K,2)+Math.pow(le,2),!(F<=9)&&(k=3/Math.sqrt(F),_[E]=K*k*o[E],_[E+1]=le*k*o[E])}}function ID(s,o,_="x"){const V=LS(_),K=s.length;let le,k,F,e=Zd(s,0);for(let h=0;h<K;++h){if(k=F,F=e,e=Zd(s,h+1),!F)continue;const E=F[_],n=F[V];k&&(le=(E-k[_])/3,F[`cp1${_}`]=E-le,F[`cp1${V}`]=n-le*o[h]),e&&(le=(e[_]-E)/3,F[`cp2${_}`]=E+le,F[`cp2${V}`]=n+le*o[h])}}function FD(s,o="x"){const _=LS(o),V=s.length,K=Array(V).fill(0),le=Array(V);let k,F,e,h=Zd(s,0);for(k=0;k<V;++k)if(F=e,e=h,h=Zd(s,k+1),!!e){if(h){const E=h[o]-e[o];K[k]=E!==0?(h[_]-e[_])/E:0}le[k]=F?h?Vd(K[k-1])!==Vd(K[k])?0:(K[k-1]+K[k])/2:K[k-1]:K[k]}kD(s,K,le),ID(s,le,o)}function Xg(s,o,_){return Math.max(Math.min(s,_),o)}function zD(s,o){let _,V,K,le,k,F=gc(s[0],o);for(_=0,V=s.length;_<V;++_)k=le,le=F,F=_<V-1&&gc(s[_+1],o),le&&(K=s[_],k&&(K.cp1x=Xg(K.cp1x,o.left,o.right),K.cp1y=Xg(K.cp1y,o.top,o.bottom)),F&&(K.cp2x=Xg(K.cp2x,o.left,o.right),K.cp2y=Xg(K.cp2y,o.top,o.bottom)))}function OD(s,o,_,V,K){let le,k,F,e;if(o.spanGaps&&(s=s.filter(h=>!h.skip)),o.cubicInterpolationMode==="monotone")FD(s,K);else{let h=V?s[s.length-1]:s[0];for(le=0,k=s.length;le<k;++le)F=s[le],e=_D(h,F,s[Math.min(le+1,k-(V?0:1))%k],o.tension),F.cp1x=e.previous.x,F.cp1y=e.previous.y,F.cp2x=e.next.x,F.cp2y=e.next.y,h=F}o.capBezierPoints&&zD(s,_)}function PS(){return typeof window<"u"&&typeof document<"u"}function Zb(s){let o=s.parentNode;return o&&o.toString()==="[object ShadowRoot]"&&(o=o.host),o}function sm(s,o,_){let V;return typeof s=="string"?(V=parseInt(s,10),s.indexOf("%")!==-1&&(V=V/100*o.parentNode[_])):V=s,V}const Um=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function BD(s,o){return Um(s).getPropertyValue(o)}const ND=["top","right","bottom","left"];function Lv(s,o,_){const V={};_=_?"-"+_:"";for(let K=0;K<4;K++){const le=ND[K];V[le]=parseFloat(s[o+"-"+le+_])||0}return V.width=V.left+V.right,V.height=V.top+V.bottom,V}const UD=(s,o,_)=>(s>0||o>0)&&(!_||!_.shadowRoot);function HD(s,o){const _=s.touches,V=_&&_.length?_[0]:s,{offsetX:K,offsetY:le}=V;let k=!1,F,e;if(UD(K,le,s.target))F=K,e=le;else{const h=o.getBoundingClientRect();F=V.clientX-h.left,e=V.clientY-h.top,k=!0}return{x:F,y:e,box:k}}function mv(s,o){if("native"in s)return s;const{canvas:_,currentDevicePixelRatio:V}=o,K=Um(_),le=K.boxSizing==="border-box",k=Lv(K,"padding"),F=Lv(K,"border","width"),{x:e,y:h,box:E}=HD(s,_),n=k.left+(E&&F.left),L=k.top+(E&&F.top);let{width:w,height:p}=o;return le&&(w-=k.width+F.width,p-=k.height+F.height),{x:Math.round((e-n)/w*_.width/V),y:Math.round((h-L)/p*_.height/V)}}function VD(s,o,_){let V,K;if(o===void 0||_===void 0){const le=Zb(s);if(!le)o=s.clientWidth,_=s.clientHeight;else{const k=le.getBoundingClientRect(),F=Um(le),e=Lv(F,"border","width"),h=Lv(F,"padding");o=k.width-h.width-e.width,_=k.height-h.height-e.height,V=sm(F.maxWidth,le,"clientWidth"),K=sm(F.maxHeight,le,"clientHeight")}}return{width:o,height:_,maxWidth:V||im,maxHeight:K||im}}const Kg=s=>Math.round(s*10)/10;function WD(s,o,_,V){const K=Um(s),le=Lv(K,"margin"),k=sm(K.maxWidth,s,"clientWidth")||im,F=sm(K.maxHeight,s,"clientHeight")||im,e=VD(s,o,_);let{width:h,height:E}=e;if(K.boxSizing==="content-box"){const L=Lv(K,"border","width"),w=Lv(K,"padding");h-=w.width+L.width,E-=w.height+L.height}return h=Math.max(0,h-le.width),E=Math.max(0,V?h/V:E-le.height),h=Kg(Math.min(h,k,e.maxWidth)),E=Kg(Math.min(E,F,e.maxHeight)),h&&!E&&(E=Kg(h/2)),(o!==void 0||_!==void 0)&&V&&e.height&&E>e.height&&(E=e.height,h=Kg(Math.floor(E*V))),{width:h,height:E}}function s5(s,o,_){const V=o||1,K=Math.floor(s.height*V),le=Math.floor(s.width*V);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const k=s.canvas;return k.style&&(_||!k.style.height&&!k.style.width)&&(k.style.height=`${s.height}px`,k.style.width=`${s.width}px`),s.currentDevicePixelRatio!==V||k.height!==K||k.width!==le?(s.currentDevicePixelRatio=V,k.height=K,k.width=le,s.ctx.setTransform(V,0,0,V,0,0),!0):!1}const GD=function(){let s=!1;try{const o={get passive(){return s=!0,!1}};window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{}return s}();function l5(s,o){const _=BD(s,o),V=_&&_.match(/^(\d+)(\.\d+)?px$/);return V?+V[1]:void 0}function xv(s,o,_,V){return{x:s.x+_*(o.x-s.x),y:s.y+_*(o.y-s.y)}}function YD(s,o,_,V){return{x:s.x+_*(o.x-s.x),y:V==="middle"?_<.5?s.y:o.y:V==="after"?_<1?s.y:o.y:_>0?o.y:s.y}}function ZD(s,o,_,V){const K={x:s.cp2x,y:s.cp2y},le={x:o.cp1x,y:o.cp1y},k=xv(s,K,_),F=xv(K,le,_),e=xv(le,o,_),h=xv(k,F,_),E=xv(F,e,_);return xv(h,E,_)}const jD=function(s,o){return{x(_){return s+s+o-_},setWidth(_){o=_},textAlign(_){return _==="center"?_:_==="right"?"left":"right"},xPlus(_,V){return _-V},leftForLtr(_,V){return _-V}}},XD=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,o){return s+o},leftForLtr(s,o){return s}}};function kd(s,o,_){return s?jD(o,_):XD()}function RS(s,o){let _,V;(o==="ltr"||o==="rtl")&&(_=s.canvas.style,V=[_.getPropertyValue("direction"),_.getPropertyPriority("direction")],_.setProperty("direction",o,"important"),s.prevTextDirection=V)}function DS(s,o){o!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",o[0],o[1]))}function _S(s){return s==="angle"?{between:gS,compare:YR,normalize:ju}:{between:Zp,compare:(o,_)=>o-_,normalize:o=>o}}function u5({start:s,end:o,count:_,loop:V,style:K}){return{start:s%_,end:o%_,loop:V&&(o-s+1)%_===0,style:K}}function KD(s,o,_){const{property:V,start:K,end:le}=_,{between:k,normalize:F}=_S(V),e=o.length;let{start:h,end:E,loop:n}=s,L,w;if(n){for(h+=e,E+=e,L=0,w=e;L<w&&k(F(o[h%e][V]),K,le);++L)h--,E--;h%=e,E%=e}return E<h&&(E+=e),{start:h,end:E,loop:n,style:s.style}}function JD(s,o,_){if(!_)return[s];const{property:V,start:K,end:le}=_,k=o.length,{compare:F,between:e,normalize:h}=_S(V),{start:E,end:n,loop:L,style:w}=KD(s,o,_),p=[];let m=!1,t=null,r,l,i;const f=()=>e(K,i,r)&&F(K,i)!==0,v=()=>F(le,r)===0||e(le,i,r),c=()=>m||f(),x=()=>!m||v();for(let d=E,M=E;d<=n;++d)l=o[d%k],!l.skip&&(r=h(l[V]),r!==i&&(m=e(r,K,le),t===null&&c()&&(t=F(r,K)===0?d:M),t!==null&&x()&&(p.push(u5({start:t,end:d,loop:L,count:k,style:w})),t=null),M=d,i=r));return t!==null&&p.push(u5({start:t,end:n,loop:L,count:k,style:w})),p}function QD(s,o){const _=[],V=s.segments;for(let K=0;K<V.length;K++){const le=JD(V[K],s.points,o);le.length&&_.push(...le)}return _}function $D(s,o,_,V){let K=0,le=o-1;if(_&&!V)for(;K<o&&!s[K].skip;)K++;for(;K<o&&s[K].skip;)K++;for(K%=o,_&&(le+=K);le>K&&s[le%o].skip;)le--;return le%=o,{start:K,end:le}}function qD(s,o,_,V){const K=s.length,le=[];let k=o,F=s[o],e;for(e=o+1;e<=_;++e){const h=s[e%K];h.skip||h.stop?F.skip||(V=!1,le.push({start:o%K,end:(e-1)%K,loop:V}),o=k=h.stop?e:null):(k=e,F.skip&&(o=e)),F=h}return k!==null&&le.push({start:o%K,end:k%K,loop:V}),le}function e_(s,o){const _=s.points,V=s.options.spanGaps,K=_.length;if(!K)return[];const le=!!s._loop,{start:k,end:F}=$D(_,K,le,V);if(V===!0)return f5(s,[{start:k,end:F,loop:le}],_,o);const e=F<k?F+K:F,h=!!s._fullLoop&&k===0&&F===K-1;return f5(s,qD(_,k,e,h),_,o)}function f5(s,o,_,V){return!V||!V.setContext||!_?o:t_(s,o,_,V)}function t_(s,o,_,V){const K=s._chart.getContext(),le=c5(s.options),{_datasetIndex:k,options:{spanGaps:F}}=s,e=_.length,h=[];let E=le,n=o[0].start,L=n;function w(p,m,t,r){const l=F?-1:1;if(p!==m){for(p+=e;_[p%e].skip;)p-=l;for(;_[m%e].skip;)m+=l;p%e!==m%e&&(h.push({start:p%e,end:m%e,loop:t,style:r}),E=r,n=m%e)}}for(const p of o){n=F?n:p.start;let m=_[n%e],t;for(L=n+1;L<=p.end;L++){const r=_[L%e];t=c5(V.setContext(zh(K,{type:"segment",p0:m,p1:r,p0DataIndex:(L-1)%e,p1DataIndex:L%e,datasetIndex:k}))),r_(t,E)&&w(n,L-1,p.loop,E),m=r,E=t}n<L-1&&w(n,L-1,p.loop,E)}return h}function c5(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function r_(s,o){if(!o)return!1;const _=[],V=function(K,le){return Hb(le)?(_.includes(le)||_.push(le),_.indexOf(le)):le};return JSON.stringify(s,V)!==JSON.stringify(o,V)}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class n_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(o,_,V,K){const le=_.listeners[K],k=_.duration;le.forEach(F=>F({chart:o,initial:_.initial,numSteps:k,currentStep:Math.min(V-_.start,k)}))}_refresh(){this._request||(this._running=!0,this._request=mS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(o=Date.now()){let _=0;this._charts.forEach((V,K)=>{if(!V.running||!V.items.length)return;const le=V.items;let k=le.length-1,F=!1,e;for(;k>=0;--k)e=le[k],e._active?(e._total>V.duration&&(V.duration=e._total),e.tick(o),F=!0):(le[k]=le[le.length-1],le.pop());F&&(K.draw(),this._notify(K,V,o,"progress")),le.length||(V.running=!1,this._notify(K,V,o,"complete"),V.initial=!1),_+=le.length}),this._lastDate=o,_===0&&(this._running=!1)}_getAnims(o){const _=this._charts;let V=_.get(o);return V||(V={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},_.set(o,V)),V}listen(o,_,V){this._getAnims(o).listeners[_].push(V)}add(o,_){!_||!_.length||this._getAnims(o).items.push(..._)}has(o){return this._getAnims(o).items.length>0}start(o){const _=this._charts.get(o);_&&(_.running=!0,_.start=Date.now(),_.duration=_.items.reduce((V,K)=>Math.max(V,K._duration),0),this._refresh())}running(o){if(!this._running)return!1;const _=this._charts.get(o);return!(!_||!_.running||!_.items.length)}stop(o){const _=this._charts.get(o);if(!_||!_.items.length)return;const V=_.items;let K=V.length-1;for(;K>=0;--K)V[K].cancel();_.items=[],this._notify(o,_,Date.now(),"complete")}remove(o){return this._charts.delete(o)}}var uc=new n_;const h5="transparent",i_={boolean(s,o,_){return _>.5?o:s},color(s,o,_){const V=r5(s||h5),K=V.valid&&r5(o||h5);return K&&K.valid?K.mix(V,_).hexString():o},number(s,o,_){return s+(o-s)*_}};class a_{constructor(o,_,V,K){const le=_[V];K=jg([o.to,K,le,o.from]);const k=jg([o.from,le,K]);this._active=!0,this._fn=o.fn||i_[o.type||typeof k],this._easing=l0[o.easing]||l0.linear,this._start=Math.floor(Date.now()+(o.delay||0)),this._duration=this._total=Math.floor(o.duration),this._loop=!!o.loop,this._target=_,this._prop=V,this._from=k,this._to=K,this._promises=void 0}active(){return this._active}update(o,_,V){if(this._active){this._notify(!1);const K=this._target[this._prop],le=V-this._start,k=this._duration-le;this._start=V,this._duration=Math.floor(Math.max(k,o.duration)),this._total+=le,this._loop=!!o.loop,this._to=jg([o.to,_,K,o.from]),this._from=jg([o.from,K,_])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(o){const _=o-this._start,V=this._duration,K=this._prop,le=this._from,k=this._loop,F=this._to;let e;if(this._active=le!==F&&(k||_<V),!this._active){this._target[K]=F,this._notify(!0);return}if(_<0){this._target[K]=le;return}e=_/V%2,e=k&&e>1?2-e:e,e=this._easing(Math.min(1,Math.max(0,e))),this._target[K]=this._fn(le,F,e)}wait(){const o=this._promises||(this._promises=[]);return new Promise((_,V)=>{o.push({res:_,rej:V})})}_notify(o){const _=o?"res":"rej",V=this._promises||[];for(let K=0;K<V.length;K++)V[K][_]()}}class jb{constructor(o,_){this._chart=o,this._properties=new Map,this.configure(_)}configure(o){if(!pa(o))return;const _=Object.keys(yo.animation),V=this._properties;Object.getOwnPropertyNames(o).forEach(K=>{const le=o[K];if(!pa(le))return;const k={};for(const F of _)k[F]=le[F];(Ba(le.properties)&&le.properties||[K]).forEach(F=>{(F===K||!V.has(F))&&V.set(F,k)})})}_animateOptions(o,_){const V=_.options,K=s_(o,V);if(!K)return[];const le=this._createAnimations(K,V);return V.$shared&&o_(o.options.$animations,V).then(()=>{o.options=V},()=>{}),le}_createAnimations(o,_){const V=this._properties,K=[],le=o.$animations||(o.$animations={}),k=Object.keys(_),F=Date.now();let e;for(e=k.length-1;e>=0;--e){const h=k[e];if(h.charAt(0)==="$")continue;if(h==="options"){K.push(...this._animateOptions(o,_));continue}const E=_[h];let n=le[h];const L=V.get(h);if(n)if(L&&n.active()){n.update(L,E,F);continue}else n.cancel();if(!L||!L.duration){o[h]=E;continue}le[h]=n=new a_(L,o,h,E),K.push(n)}return K}update(o,_){if(this._properties.size===0){Object.assign(o,_);return}const V=this._createAnimations(o,_);if(V.length)return uc.add(this._chart,V),!0}}function o_(s,o){const _=[],V=Object.keys(o);for(let K=0;K<V.length;K++){const le=s[V[K]];le&&le.active()&&_.push(le.wait())}return Promise.all(_)}function s_(s,o){if(!o)return;let _=s.options;if(!_){s.options=o;return}return _.$shared&&(s.options=_=Object.assign({},_,{$shared:!1,$animations:{}})),_}function v5(s,o){const _=s&&s.options||{},V=_.reverse,K=_.min===void 0?o:0,le=_.max===void 0?o:0;return{start:V?le:K,end:V?K:le}}function l_(s,o,_){if(_===!1)return!1;const V=v5(s,_),K=v5(o,_);return{top:K.end,right:V.end,bottom:K.start,left:V.start}}function u_(s){let o,_,V,K;return pa(s)?(o=s.top,_=s.right,V=s.bottom,K=s.left):o=_=V=K=s,{top:o,right:_,bottom:V,left:K,disabled:s===!1}}function kS(s,o){const _=[],V=s._getSortedDatasetMetas(o);let K,le;for(K=0,le=V.length;K<le;++K)_.push(V[K].index);return _}function d5(s,o,_,V={}){const K=s.keys,le=V.mode==="single";let k,F,e,h;if(o!==null){for(k=0,F=K.length;k<F;++k){if(e=+K[k],e===_){if(V.all)continue;break}h=s.values[e],Ho(h)&&(le||o===0||Vd(o)===Vd(h))&&(o+=h)}return o}}function f_(s){const o=Object.keys(s),_=new Array(o.length);let V,K,le;for(V=0,K=o.length;V<K;++V)le=o[V],_[V]={x:le,y:s[le]};return _}function p5(s,o){const _=s&&s.options.stacked;return _||_===void 0&&o.stack!==void 0}function c_(s,o,_){return`${s.id}.${o.id}.${_.stack||_.type}`}function h_(s){const{min:o,max:_,minDefined:V,maxDefined:K}=s.getUserBounds();return{min:V?o:Number.NEGATIVE_INFINITY,max:K?_:Number.POSITIVE_INFINITY}}function v_(s,o,_){const V=s[o]||(s[o]={});return V[_]||(V[_]={})}function g5(s,o,_,V){for(const K of o.getMatchingVisibleMetas(V).reverse()){const le=s[K.index];if(_&&le>0||!_&&le<0)return K.index}return null}function y5(s,o){const{chart:_,_cachedMeta:V}=s,K=_._stacks||(_._stacks={}),{iScale:le,vScale:k,index:F}=V,e=le.axis,h=k.axis,E=c_(le,k,V),n=o.length;let L;for(let w=0;w<n;++w){const p=o[w],{[e]:m,[h]:t}=p,r=p._stacks||(p._stacks={});L=r[h]=v_(K,E,m),L[F]=t,L._top=g5(L,k,!0,V.type),L._bottom=g5(L,k,!1,V.type);const l=L._visualValues||(L._visualValues={});l[F]=t}}function nx(s,o){const _=s.scales;return Object.keys(_).filter(V=>_[V].axis===o).shift()}function d_(s,o){return zh(s,{active:!1,dataset:void 0,datasetIndex:o,index:o,mode:"default",type:"dataset"})}function p_(s,o,_){return zh(s,{active:!1,dataIndex:o,parsed:void 0,raw:void 0,element:_,index:o,mode:"default",type:"data"})}function Fp(s,o){const _=s.controller.index,V=s.vScale&&s.vScale.axis;if(V){o=o||s._parsed;for(const K of o){const le=K._stacks;if(!le||le[V]===void 0||le[V][_]===void 0)return;delete le[V][_],le[V]._visualValues!==void 0&&le[V]._visualValues[_]!==void 0&&delete le[V]._visualValues[_]}}}const ix=s=>s==="reset"||s==="none",m5=(s,o)=>o?s:Object.assign({},s),g_=(s,o,_)=>s&&!o.hidden&&o._stacked&&{keys:kS(_,!0),values:null};class f0{constructor(o,_){this.chart=o,this._ctx=o.ctx,this.index=_,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const o=this._cachedMeta;this.configure(),this.linkScales(),o._stacked=p5(o.vScale,o),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(o){this.index!==o&&Fp(this._cachedMeta),this.index=o}linkScales(){const o=this.chart,_=this._cachedMeta,V=this.getDataset(),K=(n,L,w,p)=>n==="x"?L:n==="r"?p:w,le=_.xAxisID=ua(V.xAxisID,nx(o,"x")),k=_.yAxisID=ua(V.yAxisID,nx(o,"y")),F=_.rAxisID=ua(V.rAxisID,nx(o,"r")),e=_.indexAxis,h=_.iAxisID=K(e,le,k,F),E=_.vAxisID=K(e,k,le,F);_.xScale=this.getScaleForId(le),_.yScale=this.getScaleForId(k),_.rScale=this.getScaleForId(F),_.iScale=this.getScaleForId(h),_.vScale=this.getScaleForId(E)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(o){return this.chart.scales[o]}_getOtherScale(o){const _=this._cachedMeta;return o===_.iScale?_.vScale:_.iScale}reset(){this._update("reset")}_destroy(){const o=this._cachedMeta;this._data&&qT(this._data,this),o._stacked&&Fp(o)}_dataCheck(){const o=this.getDataset(),_=o.data||(o.data=[]),V=this._data;if(pa(_))this._data=f_(_);else if(V!==_){if(V){qT(V,this);const K=this._cachedMeta;Fp(K),K._parsed=[]}_&&Object.isExtensible(_)&&KR(_,this),this._syncList=[],this._data=_}}addElements(){const o=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(o.dataset=new this.datasetElementType)}buildOrUpdateElements(o){const _=this._cachedMeta,V=this.getDataset();let K=!1;this._dataCheck();const le=_._stacked;_._stacked=p5(_.vScale,_),_.stack!==V.stack&&(K=!0,Fp(_),_.stack=V.stack),this._resyncElements(o),(K||le!==_._stacked)&&y5(this,_._parsed)}configure(){const o=this.chart.config,_=o.datasetScopeKeys(this._type),V=o.getOptionScopes(this.getDataset(),_,!0);this.options=o.createResolver(V,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(o,_){const{_cachedMeta:V,_data:K}=this,{iScale:le,_stacked:k}=V,F=le.axis;let e=o===0&&_===K.length?!0:V._sorted,h=o>0&&V._parsed[o-1],E,n,L;if(this._parsing===!1)V._parsed=K,V._sorted=!0,L=K;else{Ba(K[o])?L=this.parseArrayData(V,K,o,_):pa(K[o])?L=this.parseObjectData(V,K,o,_):L=this.parsePrimitiveData(V,K,o,_);const w=()=>n[F]===null||h&&n[F]<h[F];for(E=0;E<_;++E)V._parsed[E+o]=n=L[E],e&&(w()&&(e=!1),h=n);V._sorted=e}k&&y5(this,L)}parsePrimitiveData(o,_,V,K){const{iScale:le,vScale:k}=o,F=le.axis,e=k.axis,h=le.getLabels(),E=le===k,n=new Array(K);let L,w,p;for(L=0,w=K;L<w;++L)p=L+V,n[L]={[F]:E||le.parse(h[p],p),[e]:k.parse(_[p],p)};return n}parseArrayData(o,_,V,K){const{xScale:le,yScale:k}=o,F=new Array(K);let e,h,E,n;for(e=0,h=K;e<h;++e)E=e+V,n=_[E],F[e]={x:le.parse(n[0],E),y:k.parse(n[1],E)};return F}parseObjectData(o,_,V,K){const{xScale:le,yScale:k}=o,{xAxisKey:F="x",yAxisKey:e="y"}=this._parsing,h=new Array(K);let E,n,L,w;for(E=0,n=K;E<n;++E)L=E+V,w=_[L],h[E]={x:le.parse(nm(w,F),L),y:k.parse(nm(w,e),L)};return h}getParsed(o){return this._cachedMeta._parsed[o]}getDataElement(o){return this._cachedMeta.data[o]}applyStack(o,_,V){const K=this.chart,le=this._cachedMeta,k=_[o.axis],F={keys:kS(K,!0),values:_._stacks[o.axis]._visualValues};return d5(F,k,le.index,{mode:V})}updateRangeFromParsed(o,_,V,K){const le=V[_.axis];let k=le===null?NaN:le;const F=K&&V._stacks[_.axis];K&&F&&(K.values=F,k=d5(K,le,this._cachedMeta.index)),o.min=Math.min(o.min,k),o.max=Math.max(o.max,k)}getMinMax(o,_){const V=this._cachedMeta,K=V._parsed,le=V._sorted&&o===V.iScale,k=K.length,F=this._getOtherScale(o),e=g_(_,V,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:E,max:n}=h_(F);let L,w;function p(){w=K[L];const m=w[F.axis];return!Ho(w[o.axis])||E>m||n<m}for(L=0;L<k&&!(!p()&&(this.updateRangeFromParsed(h,o,w,e),le));++L);if(le){for(L=k-1;L>=0;--L)if(!p()){this.updateRangeFromParsed(h,o,w,e);break}}return h}getAllParsedValues(o){const _=this._cachedMeta._parsed,V=[];let K,le,k;for(K=0,le=_.length;K<le;++K)k=_[K][o.axis],Ho(k)&&V.push(k);return V}getMaxOverflow(){return!1}getLabelAndValue(o){const _=this._cachedMeta,V=_.iScale,K=_.vScale,le=this.getParsed(o);return{label:V?""+V.getLabelForValue(le[V.axis]):"",value:K?""+K.getLabelForValue(le[K.axis]):""}}_update(o){const _=this._cachedMeta;this.update(o||"default"),_._clip=u_(ua(this.options.clip,l_(_.xScale,_.yScale,this.getMaxOverflow())))}update(o){}draw(){const o=this._ctx,_=this.chart,V=this._cachedMeta,K=V.data||[],le=_.chartArea,k=[],F=this._drawStart||0,e=this._drawCount||K.length-F,h=this.options.drawActiveElementsOnTop;let E;for(V.dataset&&V.dataset.draw(o,le,F,e),E=F;E<F+e;++E){const n=K[E];n.hidden||(n.active&&h?k.push(n):n.draw(o,le))}for(E=0;E<k.length;++E)k[E].draw(o,le)}getStyle(o,_){const V=_?"active":"default";return o===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(V):this.resolveDataElementOptions(o||0,V)}getContext(o,_,V){const K=this.getDataset();let le;if(o>=0&&o<this._cachedMeta.data.length){const k=this._cachedMeta.data[o];le=k.$context||(k.$context=p_(this.getContext(),o,k)),le.parsed=this.getParsed(o),le.raw=K.data[o],le.index=le.dataIndex=o}else le=this.$context||(this.$context=d_(this.chart.getContext(),this.index)),le.dataset=K,le.index=le.datasetIndex=this.index;return le.active=!!_,le.mode=V,le}resolveDatasetElementOptions(o){return this._resolveElementOptions(this.datasetElementType.id,o)}resolveDataElementOptions(o,_){return this._resolveElementOptions(this.dataElementType.id,_,o)}_resolveElementOptions(o,_="default",V){const K=_==="active",le=this._cachedDataOpts,k=o+"-"+_,F=le[k],e=this.enableOptionSharing&&Yl(V);if(F)return m5(F,e);const h=this.chart.config,E=h.datasetElementScopeKeys(this._type,o),n=K?[`${o}Hover`,"hover",o,""]:[o,""],L=h.getOptionScopes(this.getDataset(),E),w=Object.keys(yo.elements[o]),p=()=>this.getContext(V,K,_),m=h.resolveNamedOptions(L,w,p,n);return m.$shared&&(m.$shared=e,le[k]=Object.freeze(m5(m,e))),m}_resolveAnimations(o,_,V){const K=this.chart,le=this._cachedDataOpts,k=`animation-${_}`,F=le[k];if(F)return F;let e;if(K.options.animation!==!1){const E=this.chart.config,n=E.datasetAnimationScopeKeys(this._type,_),L=E.getOptionScopes(this.getDataset(),n);e=E.createResolver(L,this.getContext(o,V,_))}const h=new jb(K,e&&e.animations);return e&&e._cacheable&&(le[k]=Object.freeze(h)),h}getSharedOptions(o){if(o.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},o))}includeOptions(o,_){return!_||ix(o)||this.chart._animationsDisabled}_getSharedOptions(o,_){const V=this.resolveDataElementOptions(o,_),K=this._sharedOptions,le=this.getSharedOptions(V),k=this.includeOptions(_,le)||le!==K;return this.updateSharedOptions(le,_,V),{sharedOptions:le,includeOptions:k}}updateElement(o,_,V,K){ix(K)?Object.assign(o,V):this._resolveAnimations(_,K).update(o,V)}updateSharedOptions(o,_,V){o&&!ix(_)&&this._resolveAnimations(void 0,_).update(o,V)}_setStyle(o,_,V,K){o.active=K;const le=this.getStyle(_,K);this._resolveAnimations(_,V,K).update(o,{options:!K&&this.getSharedOptions(le)||le})}removeHoverStyle(o,_,V){this._setStyle(o,V,"active",!1)}setHoverStyle(o,_,V){this._setStyle(o,V,"active",!0)}_removeDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!1)}_setDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!0)}_resyncElements(o){const _=this._data,V=this._cachedMeta.data;for(const[F,e,h]of this._syncList)this[F](e,h);this._syncList=[];const K=V.length,le=_.length,k=Math.min(le,K);k&&this.parse(0,k),le>K?this._insertElements(K,le-K,o):le<K&&this._removeElements(le,K-le)}_insertElements(o,_,V=!0){const K=this._cachedMeta,le=K.data,k=o+_;let F;const e=h=>{for(h.length+=_,F=h.length-1;F>=k;F--)h[F]=h[F-_]};for(e(le),F=o;F<k;++F)le[F]=new this.dataElementType;this._parsing&&e(K._parsed),this.parse(o,_),V&&this.updateElements(le,o,_,"reset")}updateElements(o,_,V,K){}_removeElements(o,_){const V=this._cachedMeta;if(this._parsing){const K=V._parsed.splice(o,_);V._stacked&&Fp(V,K)}V.data.splice(o,_)}_sync(o){if(this._parsing)this._syncList.push(o);else{const[_,V,K]=o;this[_](V,K)}this.chart._dataChanges.push([this.index,...o])}_onDataPush(){const o=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-o,o])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(o,_){_&&this._sync(["_removeElements",o,_]);const V=arguments.length-2;V&&this._sync(["_insertElements",o,V])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ji(f0,"defaults",{}),Ji(f0,"datasetElementType",null),Ji(f0,"dataElementType",null);class Ay extends f0{getLabelAndValue(o){const _=this._cachedMeta,V=this.chart.data.labels||[],{xScale:K,yScale:le}=_,k=this.getParsed(o),F=K.getLabelForValue(k.x),e=le.getLabelForValue(k.y);return{label:V[o]||"",value:"("+F+", "+e+")"}}update(o){const _=this._cachedMeta,{data:V=[]}=_,K=this.chart._animationsDisabled;let{start:le,count:k}=qR(_,V,K);if(this._drawStart=le,this._drawCount=k,eD(_)&&(le=0,k=V.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:F,_dataset:e}=_;F._chart=this.chart,F._datasetIndex=this.index,F._decimated=!!e._decimated,F.points=V;const h=this.resolveDatasetElementOptions(o);h.segment=this.options.segment,this.updateElement(F,void 0,{animated:!K,options:h},o)}else this.datasetElementType&&(delete _.dataset,this.datasetElementType=!1);this.updateElements(V,le,k,o)}addElements(){const{showLine:o}=this.options;!this.datasetElementType&&o&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(o,_,V,K){const le=K==="reset",{iScale:k,vScale:F,_stacked:e,_dataset:h}=this._cachedMeta,E=this.resolveDataElementOptions(_,K),n=this.getSharedOptions(E),L=this.includeOptions(K,n),w=k.axis,p=F.axis,{spanGaps:m,segment:t}=this.options,r=Iv(m)?m:Number.POSITIVE_INFINITY,l=this.chart._animationsDisabled||le||K==="none";let i=_>0&&this.getParsed(_-1);for(let f=_;f<_+V;++f){const v=o[f],c=this.getParsed(f),x=l?v:{},d=oo(c[p]),M=x[w]=k.getPixelForValue(c[w],f),g=x[p]=le||d?F.getBasePixel():F.getPixelForValue(e?this.applyStack(F,c,e):c[p],f);x.skip=isNaN(M)||isNaN(g)||d,x.stop=f>0&&Math.abs(c[w]-i[w])>r,t&&(x.parsed=c,x.raw=h.data[f]),L&&(x.options=n||this.resolveDataElementOptions(f,v.active?"active":K)),l||this.updateElement(v,f,x,K),i=c}this.updateSharedOptions(n,K,E)}getMaxOverflow(){const o=this._cachedMeta,_=o.data||[];if(!this.options.showLine){let F=0;for(let e=_.length-1;e>=0;--e)F=Math.max(F,_[e].size(this.resolveDataElementOptions(e))/2);return F>0&&F}const V=o.dataset,K=V.options&&V.options.borderWidth||0;if(!_.length)return K;const le=_[0].size(this.resolveDataElementOptions(0)),k=_[_.length-1].size(this.resolveDataElementOptions(_.length-1));return Math.max(K,le,k)/2}}Ji(Ay,"id","scatter"),Ji(Ay,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ji(Ay,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function dv(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xb{constructor(o){Ji(this,"options");this.options=o||{}}static override(o){Object.assign(Xb.prototype,o)}init(){}formats(){return dv()}parse(){return dv()}format(){return dv()}add(){return dv()}diff(){return dv()}startOf(){return dv()}endOf(){return dv()}}var y_={_date:Xb};function m_(s,o,_,V){const{controller:K,data:le,_sorted:k}=s,F=K._cachedMeta.iScale;if(F&&o===F.axis&&o!=="r"&&k&&le.length){const e=F._reversePixels?jR:Av;if(V){if(K._sharedOptions){const h=le[0],E=typeof h.getRange=="function"&&h.getRange(o);if(E){const n=e(le,o,_-E),L=e(le,o,_+E);return{lo:n.lo,hi:L.hi}}}}else return e(le,o,_)}return{lo:0,hi:le.length-1}}function j0(s,o,_,V,K){const le=s.getSortedVisibleDatasetMetas(),k=_[o];for(let F=0,e=le.length;F<e;++F){const{index:h,data:E}=le[F],{lo:n,hi:L}=m_(le[F],o,k,K);for(let w=n;w<=L;++w){const p=E[w];p.skip||V(p,h,w)}}}function x_(s){const o=s.indexOf("x")!==-1,_=s.indexOf("y")!==-1;return function(V,K){const le=o?Math.abs(V.x-K.x):0,k=_?Math.abs(V.y-K.y):0;return Math.sqrt(Math.pow(le,2)+Math.pow(k,2))}}function ax(s,o,_,V,K){const le=[];return!K&&!s.isPointInArea(o)||j0(s,_,o,function(F,e,h){!K&&!gc(F,s.chartArea,0)||F.inRange(o.x,o.y,V)&&le.push({element:F,datasetIndex:e,index:h})},!0),le}function b_(s,o,_,V){let K=[];function le(k,F,e){const{startAngle:h,endAngle:E}=k.getProps(["startAngle","endAngle"],V),{angle:n}=GR(k,{x:o.x,y:o.y});gS(n,h,E)&&K.push({element:k,datasetIndex:F,index:e})}return j0(s,_,o,le),K}function w_(s,o,_,V,K,le){let k=[];const F=x_(_);let e=Number.POSITIVE_INFINITY;function h(E,n,L){const w=E.inRange(o.x,o.y,K);if(V&&!w)return;const p=E.getCenterPoint(K);if(!(!!le||s.isPointInArea(p))&&!w)return;const t=F(o,p);t<e?(k=[{element:E,datasetIndex:n,index:L}],e=t):t===e&&k.push({element:E,datasetIndex:n,index:L})}return j0(s,_,o,h),k}function ox(s,o,_,V,K,le){return!le&&!s.isPointInArea(o)?[]:_==="r"&&!V?b_(s,o,_,K):w_(s,o,_,V,K,le)}function x5(s,o,_,V,K){const le=[],k=_==="x"?"inXRange":"inYRange";let F=!1;return j0(s,_,o,(e,h,E)=>{e[k](o[_],K)&&(le.push({element:e,datasetIndex:h,index:E}),F=F||e.inRange(o.x,o.y,K))}),V&&!F?[]:le}var T_={evaluateInteractionItems:j0,modes:{index(s,o,_,V){const K=mv(o,s),le=_.axis||"x",k=_.includeInvisible||!1,F=_.intersect?ax(s,K,le,V,k):ox(s,K,le,!1,V,k),e=[];return F.length?(s.getSortedVisibleDatasetMetas().forEach(h=>{const E=F[0].index,n=h.data[E];n&&!n.skip&&e.push({element:n,datasetIndex:h.index,index:E})}),e):[]},dataset(s,o,_,V){const K=mv(o,s),le=_.axis||"xy",k=_.includeInvisible||!1;let F=_.intersect?ax(s,K,le,V,k):ox(s,K,le,!1,V,k);if(F.length>0){const e=F[0].datasetIndex,h=s.getDatasetMeta(e).data;F=[];for(let E=0;E<h.length;++E)F.push({element:h[E],datasetIndex:e,index:E})}return F},point(s,o,_,V){const K=mv(o,s),le=_.axis||"xy",k=_.includeInvisible||!1;return ax(s,K,le,V,k)},nearest(s,o,_,V){const K=mv(o,s),le=_.axis||"xy",k=_.includeInvisible||!1;return ox(s,K,le,_.intersect,V,k)},x(s,o,_,V){const K=mv(o,s);return x5(s,K,"x",_.intersect,V)},y(s,o,_,V){const K=mv(o,s);return x5(s,K,"y",_.intersect,V)}}};const IS=["left","top","right","bottom"];function zp(s,o){return s.filter(_=>_.pos===o)}function b5(s,o){return s.filter(_=>IS.indexOf(_.pos)===-1&&_.box.axis===o)}function Op(s,o){return s.sort((_,V)=>{const K=o?V:_,le=o?_:V;return K.weight===le.weight?K.index-le.index:K.weight-le.weight})}function A_(s){const o=[];let _,V,K,le,k,F;for(_=0,V=(s||[]).length;_<V;++_)K=s[_],{position:le,options:{stack:k,stackWeight:F=1}}=K,o.push({index:_,box:K,pos:le,horizontal:K.isHorizontal(),weight:K.weight,stack:k&&le+k,stackWeight:F});return o}function M_(s){const o={};for(const _ of s){const{stack:V,pos:K,stackWeight:le}=_;if(!V||!IS.includes(K))continue;const k=o[V]||(o[V]={count:0,placed:0,weight:0,size:0});k.count++,k.weight+=le}return o}function S_(s,o){const _=M_(s),{vBoxMaxWidth:V,hBoxMaxHeight:K}=o;let le,k,F;for(le=0,k=s.length;le<k;++le){F=s[le];const{fullSize:e}=F.box,h=_[F.stack],E=h&&F.stackWeight/h.weight;F.horizontal?(F.width=E?E*V:e&&o.availableWidth,F.height=K):(F.width=V,F.height=E?E*K:e&&o.availableHeight)}return _}function E_(s){const o=A_(s),_=Op(o.filter(h=>h.box.fullSize),!0),V=Op(zp(o,"left"),!0),K=Op(zp(o,"right")),le=Op(zp(o,"top"),!0),k=Op(zp(o,"bottom")),F=b5(o,"x"),e=b5(o,"y");return{fullSize:_,leftAndTop:V.concat(le),rightAndBottom:K.concat(e).concat(k).concat(F),chartArea:zp(o,"chartArea"),vertical:V.concat(K).concat(e),horizontal:le.concat(k).concat(F)}}function w5(s,o,_,V){return Math.max(s[_],o[_])+Math.max(s[V],o[V])}function FS(s,o){s.top=Math.max(s.top,o.top),s.left=Math.max(s.left,o.left),s.bottom=Math.max(s.bottom,o.bottom),s.right=Math.max(s.right,o.right)}function C_(s,o,_,V){const{pos:K,box:le}=_,k=s.maxPadding;if(!pa(K)){_.size&&(s[K]-=_.size);const n=V[_.stack]||{size:0,count:1};n.size=Math.max(n.size,_.horizontal?le.height:le.width),_.size=n.size/n.count,s[K]+=_.size}le.getPadding&&FS(k,le.getPadding());const F=Math.max(0,o.outerWidth-w5(k,s,"left","right")),e=Math.max(0,o.outerHeight-w5(k,s,"top","bottom")),h=F!==s.w,E=e!==s.h;return s.w=F,s.h=e,_.horizontal?{same:h,other:E}:{same:E,other:h}}function L_(s){const o=s.maxPadding;function _(V){const K=Math.max(o[V]-s[V],0);return s[V]+=K,K}s.y+=_("top"),s.x+=_("left"),_("right"),_("bottom")}function P_(s,o){const _=o.maxPadding;function V(K){const le={left:0,top:0,right:0,bottom:0};return K.forEach(k=>{le[k]=Math.max(o[k],_[k])}),le}return V(s?["left","right"]:["top","bottom"])}function jp(s,o,_,V){const K=[];let le,k,F,e,h,E;for(le=0,k=s.length,h=0;le<k;++le){F=s[le],e=F.box,e.update(F.width||o.w,F.height||o.h,P_(F.horizontal,o));const{same:n,other:L}=C_(o,_,F,V);h|=n&&K.length,E=E||L,e.fullSize||K.push(F)}return h&&jp(K,o,_,V)||E}function Jg(s,o,_,V,K){s.top=_,s.left=o,s.right=o+V,s.bottom=_+K,s.width=V,s.height=K}function T5(s,o,_,V){const K=_.padding;let{x:le,y:k}=o;for(const F of s){const e=F.box,h=V[F.stack]||{count:1,placed:0,weight:1},E=F.stackWeight/h.weight||1;if(F.horizontal){const n=o.w*E,L=h.size||e.height;Yl(h.start)&&(k=h.start),e.fullSize?Jg(e,K.left,k,_.outerWidth-K.right-K.left,L):Jg(e,o.left+h.placed,k,n,L),h.start=k,h.placed+=n,k=e.bottom}else{const n=o.h*E,L=h.size||e.width;Yl(h.start)&&(le=h.start),e.fullSize?Jg(e,le,K.top,L,_.outerHeight-K.bottom-K.top):Jg(e,le,o.top+h.placed,L,n),h.start=le,h.placed+=n,le=e.right}}o.x=le,o.y=k}var ph={addBox(s,o){s.boxes||(s.boxes=[]),o.fullSize=o.fullSize||!1,o.position=o.position||"top",o.weight=o.weight||0,o._layers=o._layers||function(){return[{z:0,draw(_){o.draw(_)}}]},s.boxes.push(o)},removeBox(s,o){const _=s.boxes?s.boxes.indexOf(o):-1;_!==-1&&s.boxes.splice(_,1)},configure(s,o,_){o.fullSize=_.fullSize,o.position=_.position,o.weight=_.weight},update(s,o,_,V){if(!s)return;const K=Qo(s.options.layout.padding),le=Math.max(o-K.width,0),k=Math.max(_-K.height,0),F=E_(s.boxes),e=F.vertical,h=F.horizontal;Oa(s.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const E=e.reduce((m,t)=>t.box.options&&t.box.options.display===!1?m:m+1,0)||1,n=Object.freeze({outerWidth:o,outerHeight:_,padding:K,availableWidth:le,availableHeight:k,vBoxMaxWidth:le/2/E,hBoxMaxHeight:k/2}),L=Object.assign({},K);FS(L,Qo(V));const w=Object.assign({maxPadding:L,w:le,h:k,x:K.left,y:K.top},K),p=S_(e.concat(h),n);jp(F.fullSize,w,n,p),jp(e,w,n,p),jp(h,w,n,p)&&jp(e,w,n,p),L_(w),T5(F.leftAndTop,w,n,p),w.x+=w.w,w.y+=w.h,T5(F.rightAndBottom,w,n,p),s.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Oa(F.chartArea,m=>{const t=m.box;Object.assign(t,s.chartArea),t.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class zS{acquireContext(o,_){}releaseContext(o){return!1}addEventListener(o,_,V){}removeEventListener(o,_,V){}getDevicePixelRatio(){return 1}getMaximumSize(o,_,V,K){return _=Math.max(0,_||o.width),V=V||o.height,{width:_,height:Math.max(0,K?Math.floor(_/K):V)}}isAttached(o){return!0}updateConfig(o){}}class R_ extends zS{acquireContext(o){return o&&o.getContext&&o.getContext("2d")||null}updateConfig(o){o.options.animation=!1}}const My="$chartjs",D_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},A5=s=>s===null||s==="";function __(s,o){const _=s.style,V=s.getAttribute("height"),K=s.getAttribute("width");if(s[My]={initial:{height:V,width:K,style:{display:_.display,height:_.height,width:_.width}}},_.display=_.display||"block",_.boxSizing=_.boxSizing||"border-box",A5(K)){const le=l5(s,"width");le!==void 0&&(s.width=le)}if(A5(V))if(s.style.height==="")s.height=s.width/(o||2);else{const le=l5(s,"height");le!==void 0&&(s.height=le)}return s}const OS=GD?{passive:!0}:!1;function k_(s,o,_){s.addEventListener(o,_,OS)}function I_(s,o,_){s.canvas.removeEventListener(o,_,OS)}function F_(s,o){const _=D_[s.type]||s.type,{x:V,y:K}=mv(s,o);return{type:_,chart:o,native:s,x:V!==void 0?V:null,y:K!==void 0?K:null}}function lm(s,o){for(const _ of s)if(_===o||_.contains(o))return!0}function z_(s,o,_){const V=s.canvas,K=new MutationObserver(le=>{let k=!1;for(const F of le)k=k||lm(F.addedNodes,V),k=k&&!lm(F.removedNodes,V);k&&_()});return K.observe(document,{childList:!0,subtree:!0}),K}function O_(s,o,_){const V=s.canvas,K=new MutationObserver(le=>{let k=!1;for(const F of le)k=k||lm(F.removedNodes,V),k=k&&!lm(F.addedNodes,V);k&&_()});return K.observe(document,{childList:!0,subtree:!0}),K}const I0=new Map;let M5=0;function BS(){const s=window.devicePixelRatio;s!==M5&&(M5=s,I0.forEach((o,_)=>{_.currentDevicePixelRatio!==s&&o()}))}function B_(s,o){I0.size||window.addEventListener("resize",BS),I0.set(s,o)}function N_(s){I0.delete(s),I0.size||window.removeEventListener("resize",BS)}function U_(s,o,_){const V=s.canvas,K=V&&Zb(V);if(!K)return;const le=xS((F,e)=>{const h=K.clientWidth;_(F,e),h<K.clientWidth&&_()},window),k=new ResizeObserver(F=>{const e=F[0],h=e.contentRect.width,E=e.contentRect.height;h===0&&E===0||le(h,E)});return k.observe(K),B_(s,le),k}function sx(s,o,_){_&&_.disconnect(),o==="resize"&&N_(s)}function H_(s,o,_){const V=s.canvas,K=xS(le=>{s.ctx!==null&&_(F_(le,s))},s);return k_(V,o,K),K}class V_ extends zS{acquireContext(o,_){const V=o&&o.getContext&&o.getContext("2d");return V&&V.canvas===o?(__(o,_),V):null}releaseContext(o){const _=o.canvas;if(!_[My])return!1;const V=_[My].initial;["height","width"].forEach(le=>{const k=V[le];oo(k)?_.removeAttribute(le):_.setAttribute(le,k)});const K=V.style||{};return Object.keys(K).forEach(le=>{_.style[le]=K[le]}),_.width=_.width,delete _[My],!0}addEventListener(o,_,V){this.removeEventListener(o,_);const K=o.$proxies||(o.$proxies={}),k={attach:z_,detach:O_,resize:U_}[_]||H_;K[_]=k(o,_,V)}removeEventListener(o,_){const V=o.$proxies||(o.$proxies={}),K=V[_];if(!K)return;({attach:sx,detach:sx,resize:sx}[_]||I_)(o,_,K),V[_]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(o,_,V,K){return WD(o,_,V,K)}isAttached(o){const _=Zb(o);return!!(_&&_.isConnected)}}function W_(s){return!PS()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?R_:V_}var oy;let bu=(oy=class{constructor(){Ji(this,"x");Ji(this,"y");Ji(this,"active",!1);Ji(this,"options");Ji(this,"$animations")}tooltipPosition(o){const{x:_,y:V}=this.getProps(["x","y"],o);return{x:_,y:V}}hasValue(){return Iv(this.x)&&Iv(this.y)}getProps(o,_){const V=this.$animations;if(!_||!V)return this;const K={};return o.forEach(le=>{K[le]=V[le]&&V[le].active()?V[le]._to:this[le]}),K}},Ji(oy,"defaults",{}),Ji(oy,"defaultRoutes"),oy);function G_(s,o){const _=s.options.ticks,V=Y_(s),K=Math.min(_.maxTicksLimit||V,V),le=_.major.enabled?j_(o):[],k=le.length,F=le[0],e=le[k-1],h=[];if(k>K)return X_(o,h,le,k/K),h;const E=Z_(le,o,K);if(k>0){let n,L;const w=k>1?Math.round((e-F)/(k-1)):null;for(Qg(o,h,E,oo(w)?0:F-w,F),n=0,L=k-1;n<L;n++)Qg(o,h,E,le[n],le[n+1]);return Qg(o,h,E,e,oo(w)?o.length:e+w),h}return Qg(o,h,E),h}function Y_(s){const o=s.options.offset,_=s._tickSize(),V=s._length/_+(o?0:1),K=s._maxLength/_;return Math.floor(Math.min(V,K))}function Z_(s,o,_){const V=K_(s),K=o.length/_;if(!V)return Math.max(K,1);const le=VR(V);for(let k=0,F=le.length-1;k<F;k++){const e=le[k];if(e>K)return e}return Math.max(K,1)}function j_(s){const o=[];let _,V;for(_=0,V=s.length;_<V;_++)s[_].major&&o.push(_);return o}function X_(s,o,_,V){let K=0,le=_[0],k;for(V=Math.ceil(V),k=0;k<s.length;k++)k===le&&(o.push(s[k]),K++,le=_[K*V])}function Qg(s,o,_,V,K){const le=ua(V,0),k=Math.min(ua(K,s.length),s.length);let F=0,e,h,E;for(_=Math.ceil(_),K&&(e=K-V,_=e/Math.floor(e/_)),E=le;E<0;)F++,E=Math.round(le+F*_);for(h=Math.max(le,0);h<k;h++)h===E&&(o.push(s[h]),F++,E=Math.round(le+F*_))}function K_(s){const o=s.length;let _,V;if(o<2)return!1;for(V=s[0],_=1;_<o;++_)if(s[_]-s[_-1]!==V)return!1;return V}const J_=s=>s==="left"?"right":s==="right"?"left":s,S5=(s,o,_)=>o==="top"||o==="left"?s[o]+_:s[o]-_,E5=(s,o)=>Math.min(o||s,s);function C5(s,o){const _=[],V=s.length/o,K=s.length;let le=0;for(;le<K;le+=V)_.push(s[Math.floor(le)]);return _}function Q_(s,o,_){const V=s.ticks.length,K=Math.min(o,V-1),le=s._startPixel,k=s._endPixel,F=1e-6;let e=s.getPixelForTick(K),h;if(!(_&&(V===1?h=Math.max(e-le,k-e):o===0?h=(s.getPixelForTick(1)-e)/2:h=(e-s.getPixelForTick(K-1))/2,e+=K<o?h:-h,e<le-F||e>k+F)))return e}function $_(s,o){Oa(s,_=>{const V=_.gc,K=V.length/2;let le;if(K>o){for(le=0;le<K;++le)delete _.data[V[le]];V.splice(0,K)}})}function Bp(s){return s.drawTicks?s.tickLength:0}function L5(s,o){if(!s.display)return 0;const _=_o(s.font,o),V=Qo(s.padding);return(Ba(s.text)?s.text.length:1)*_.lineHeight+V.height}function q_(s,o){return zh(s,{scale:o,type:"scale"})}function ek(s,o,_){return zh(s,{tick:_,index:o,type:"tick"})}function tk(s,o,_){let V=bS(s);return(_&&o!=="right"||!_&&o==="right")&&(V=J_(V)),V}function rk(s,o,_,V){const{top:K,left:le,bottom:k,right:F,chart:e}=s,{chartArea:h,scales:E}=e;let n=0,L,w,p;const m=k-K,t=F-le;if(s.isHorizontal()){if(w=Bl(V,le,F),pa(_)){const r=Object.keys(_)[0],l=_[r];p=E[r].getPixelForValue(l)+m-o}else _==="center"?p=(h.bottom+h.top)/2+m-o:p=S5(s,_,o);L=F-le}else{if(pa(_)){const r=Object.keys(_)[0],l=_[r];w=E[r].getPixelForValue(l)-t+o}else _==="center"?w=(h.left+h.right)/2-t+o:w=S5(s,_,o);p=Bl(V,k,K),n=_==="left"?-ms:ms}return{titleX:w,titleY:p,maxWidth:L,rotation:n}}class ep extends bu{constructor(o){super(),this.id=o.id,this.type=o.type,this.options=void 0,this.ctx=o.ctx,this.chart=o.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(o){this.options=o.setContext(this.getContext()),this.axis=o.axis,this._userMin=this.parse(o.min),this._userMax=this.parse(o.max),this._suggestedMin=this.parse(o.suggestedMin),this._suggestedMax=this.parse(o.suggestedMax)}parse(o,_){return o}getUserBounds(){let{_userMin:o,_userMax:_,_suggestedMin:V,_suggestedMax:K}=this;return o=Nl(o,Number.POSITIVE_INFINITY),_=Nl(_,Number.NEGATIVE_INFINITY),V=Nl(V,Number.POSITIVE_INFINITY),K=Nl(K,Number.NEGATIVE_INFINITY),{min:Nl(o,V),max:Nl(_,K),minDefined:Ho(o),maxDefined:Ho(_)}}getMinMax(o){let{min:_,max:V,minDefined:K,maxDefined:le}=this.getUserBounds(),k;if(K&&le)return{min:_,max:V};const F=this.getMatchingVisibleMetas();for(let e=0,h=F.length;e<h;++e)k=F[e].controller.getMinMax(this,o),K||(_=Math.min(_,k.min)),le||(V=Math.max(V,k.max));return _=le&&_>V?V:_,V=K&&_>V?_:V,{min:Nl(_,Nl(V,_)),max:Nl(V,Nl(_,V))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const o=this.chart.data;return this.options.labels||(this.isHorizontal()?o.xLabels:o.yLabels)||o.labels||[]}getLabelItems(o=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(o))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){za(this.options.beforeUpdate,[this])}update(o,_,V){const{beginAtZero:K,grace:le,ticks:k}=this.options,F=k.sampleSize;this.beforeUpdate(),this.maxWidth=o,this.maxHeight=_,this._margins=V=Object.assign({left:0,right:0,top:0,bottom:0},V),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+V.left+V.right:this.height+V.top+V.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wD(this,le,K),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const e=F<this.ticks.length;this._convertTicksToLabels(e?C5(this.ticks,F):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),k.display&&(k.autoSkip||k.source==="auto")&&(this.ticks=G_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),e&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let o=this.options.reverse,_,V;this.isHorizontal()?(_=this.left,V=this.right):(_=this.top,V=this.bottom,o=!o),this._startPixel=_,this._endPixel=V,this._reversePixels=o,this._length=V-_,this._alignToPixels=this.options.alignToPixels}afterUpdate(){za(this.options.afterUpdate,[this])}beforeSetDimensions(){za(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){za(this.options.afterSetDimensions,[this])}_callHooks(o){this.chart.notifyPlugins(o,this.getContext()),za(this.options[o],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){za(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(o){const _=this.options.ticks;let V,K,le;for(V=0,K=o.length;V<K;V++)le=o[V],le.label=za(_.callback,[le.value,V,o],this)}afterTickToLabelConversion(){za(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){za(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const o=this.options,_=o.ticks,V=E5(this.ticks.length,o.ticks.maxTicksLimit),K=_.minRotation||0,le=_.maxRotation;let k=K,F,e,h;if(!this._isVisible()||!_.display||K>=le||V<=1||!this.isHorizontal()){this.labelRotation=K;return}const E=this._getLabelSizes(),n=E.widest.width,L=E.highest.height,w=Ku(this.chart.width-n,0,this.maxWidth);F=o.offset?this.maxWidth/V:w/(V-1),n+6>F&&(F=w/(V-(o.offset?.5:1)),e=this.maxHeight-Bp(o.grid)-_.padding-L5(o.title,this.chart.options.font),h=Math.sqrt(n*n+L*L),k=zm(Math.min(Math.asin(Ku((E.highest.height+6)/F,-1,1)),Math.asin(Ku(e/h,-1,1))-Math.asin(Ku(L/h,-1,1)))),k=Math.max(K,Math.min(le,k))),this.labelRotation=k}afterCalculateLabelRotation(){za(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){za(this.options.beforeFit,[this])}fit(){const o={width:0,height:0},{chart:_,options:{ticks:V,title:K,grid:le}}=this,k=this._isVisible(),F=this.isHorizontal();if(k){const e=L5(K,_.options.font);if(F?(o.width=this.maxWidth,o.height=Bp(le)+e):(o.height=this.maxHeight,o.width=Bp(le)+e),V.display&&this.ticks.length){const{first:h,last:E,widest:n,highest:L}=this._getLabelSizes(),w=V.padding*2,p=xs(this.labelRotation),m=Math.cos(p),t=Math.sin(p);if(F){const r=V.mirror?0:t*n.width+m*L.height;o.height=Math.min(this.maxHeight,o.height+r+w)}else{const r=V.mirror?0:m*n.width+t*L.height;o.width=Math.min(this.maxWidth,o.width+r+w)}this._calculatePadding(h,E,t,m)}}this._handleMargins(),F?(this.width=this._length=_.width-this._margins.left-this._margins.right,this.height=o.height):(this.width=o.width,this.height=this._length=_.height-this._margins.top-this._margins.bottom)}_calculatePadding(o,_,V,K){const{ticks:{align:le,padding:k},position:F}=this.options,e=this.labelRotation!==0,h=F!=="top"&&this.axis==="x";if(this.isHorizontal()){const E=this.getPixelForTick(0)-this.left,n=this.right-this.getPixelForTick(this.ticks.length-1);let L=0,w=0;e?h?(L=K*o.width,w=V*_.height):(L=V*o.height,w=K*_.width):le==="start"?w=_.width:le==="end"?L=o.width:le!=="inner"&&(L=o.width/2,w=_.width/2),this.paddingLeft=Math.max((L-E+k)*this.width/(this.width-E),0),this.paddingRight=Math.max((w-n+k)*this.width/(this.width-n),0)}else{let E=_.height/2,n=o.height/2;le==="start"?(E=0,n=o.height):le==="end"&&(E=_.height,n=0),this.paddingTop=E+k,this.paddingBottom=n+k}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){za(this.options.afterFit,[this])}isHorizontal(){const{axis:o,position:_}=this.options;return _==="top"||_==="bottom"||o==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(o){this.beforeTickToLabelConversion(),this.generateTickLabels(o);let _,V;for(_=0,V=o.length;_<V;_++)oo(o[_].label)&&(o.splice(_,1),V--,_--);this.afterTickToLabelConversion()}_getLabelSizes(){let o=this._labelSizes;if(!o){const _=this.options.ticks.sampleSize;let V=this.ticks;_<V.length&&(V=C5(V,_)),this._labelSizes=o=this._computeLabelSizes(V,V.length,this.options.ticks.maxTicksLimit)}return o}_computeLabelSizes(o,_,V){const{ctx:K,_longestTextCache:le}=this,k=[],F=[],e=Math.floor(_/E5(_,V));let h=0,E=0,n,L,w,p,m,t,r,l,i,f,v;for(n=0;n<_;n+=e){if(p=o[n].label,m=this._resolveTickFontOptions(n),K.font=t=m.string,r=le[t]=le[t]||{data:{},gc:[]},l=m.lineHeight,i=f=0,!oo(p)&&!Ba(p))i=om(K,r.data,r.gc,i,p),f=l;else if(Ba(p))for(L=0,w=p.length;L<w;++L)v=p[L],!oo(v)&&!Ba(v)&&(i=om(K,r.data,r.gc,i,v),f+=l);k.push(i),F.push(f),h=Math.max(i,h),E=Math.max(f,E)}$_(le,_);const c=k.indexOf(h),x=F.indexOf(E),d=M=>({width:k[M]||0,height:F[M]||0});return{first:d(0),last:d(_-1),widest:d(c),highest:d(x),widths:k,heights:F}}getLabelForValue(o){return o}getPixelForValue(o,_){return NaN}getValueForPixel(o){}getPixelForTick(o){const _=this.ticks;return o<0||o>_.length-1?null:this.getPixelForValue(_[o].value)}getPixelForDecimal(o){this._reversePixels&&(o=1-o);const _=this._startPixel+o*this._length;return ZR(this._alignToPixels?vv(this.chart,_,0):_)}getDecimalForPixel(o){const _=(o-this._startPixel)/this._length;return this._reversePixels?1-_:_}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:o,max:_}=this;return o<0&&_<0?_:o>0&&_>0?o:0}getContext(o){const _=this.ticks||[];if(o>=0&&o<_.length){const V=_[o];return V.$context||(V.$context=ek(this.getContext(),o,V))}return this.$context||(this.$context=q_(this.chart.getContext(),this))}_tickSize(){const o=this.options.ticks,_=xs(this.labelRotation),V=Math.abs(Math.cos(_)),K=Math.abs(Math.sin(_)),le=this._getLabelSizes(),k=o.autoSkipPadding||0,F=le?le.widest.width+k:0,e=le?le.highest.height+k:0;return this.isHorizontal()?e*V>F*K?F/V:e/K:e*K<F*V?e/V:F/K}_isVisible(){const o=this.options.display;return o!=="auto"?!!o:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(o){const _=this.axis,V=this.chart,K=this.options,{grid:le,position:k,border:F}=K,e=le.offset,h=this.isHorizontal(),n=this.ticks.length+(e?1:0),L=Bp(le),w=[],p=F.setContext(this.getContext()),m=p.display?p.width:0,t=m/2,r=function(T){return vv(V,T,m)};let l,i,f,v,c,x,d,M,g,u,y,C;if(k==="top")l=r(this.bottom),x=this.bottom-L,M=l-t,u=r(o.top)+t,C=o.bottom;else if(k==="bottom")l=r(this.top),u=o.top,C=r(o.bottom)-t,x=l+t,M=this.top+L;else if(k==="left")l=r(this.right),c=this.right-L,d=l-t,g=r(o.left)+t,y=o.right;else if(k==="right")l=r(this.left),g=o.left,y=r(o.right)-t,c=l+t,d=this.left+L;else if(_==="x"){if(k==="center")l=r((o.top+o.bottom)/2+.5);else if(pa(k)){const T=Object.keys(k)[0],P=k[T];l=r(this.chart.scales[T].getPixelForValue(P))}u=o.top,C=o.bottom,x=l+t,M=x+L}else if(_==="y"){if(k==="center")l=r((o.left+o.right)/2);else if(pa(k)){const T=Object.keys(k)[0],P=k[T];l=r(this.chart.scales[T].getPixelForValue(P))}c=l-t,d=c-L,g=o.left,y=o.right}const S=ua(K.ticks.maxTicksLimit,n),D=Math.max(1,Math.ceil(n/S));for(i=0;i<n;i+=D){const T=this.getContext(i),P=le.setContext(T),A=F.setContext(T),a=P.lineWidth,R=P.color,b=A.dash||[],N=A.dashOffset,O=P.tickWidth,Y=P.tickColor,B=P.tickBorderDash||[],W=P.tickBorderDashOffset;f=Q_(this,i,e),f!==void 0&&(v=vv(V,f,a),h?c=d=g=y=v:x=M=u=C=v,w.push({tx1:c,ty1:x,tx2:d,ty2:M,x1:g,y1:u,x2:y,y2:C,width:a,color:R,borderDash:b,borderDashOffset:N,tickWidth:O,tickColor:Y,tickBorderDash:B,tickBorderDashOffset:W}))}return this._ticksLength=n,this._borderValue=l,w}_computeLabelItems(o){const _=this.axis,V=this.options,{position:K,ticks:le}=V,k=this.isHorizontal(),F=this.ticks,{align:e,crossAlign:h,padding:E,mirror:n}=le,L=Bp(V.grid),w=L+E,p=n?-E:w,m=-xs(this.labelRotation),t=[];let r,l,i,f,v,c,x,d,M,g,u,y,C="middle";if(K==="top")c=this.bottom-p,x=this._getXAxisLabelAlignment();else if(K==="bottom")c=this.top+p,x=this._getXAxisLabelAlignment();else if(K==="left"){const D=this._getYAxisLabelAlignment(L);x=D.textAlign,v=D.x}else if(K==="right"){const D=this._getYAxisLabelAlignment(L);x=D.textAlign,v=D.x}else if(_==="x"){if(K==="center")c=(o.top+o.bottom)/2+w;else if(pa(K)){const D=Object.keys(K)[0],T=K[D];c=this.chart.scales[D].getPixelForValue(T)+w}x=this._getXAxisLabelAlignment()}else if(_==="y"){if(K==="center")v=(o.left+o.right)/2-w;else if(pa(K)){const D=Object.keys(K)[0],T=K[D];v=this.chart.scales[D].getPixelForValue(T)}x=this._getYAxisLabelAlignment(L).textAlign}_==="y"&&(e==="start"?C="top":e==="end"&&(C="bottom"));const S=this._getLabelSizes();for(r=0,l=F.length;r<l;++r){i=F[r],f=i.label;const D=le.setContext(this.getContext(r));d=this.getPixelForTick(r)+le.labelOffset,M=this._resolveTickFontOptions(r),g=M.lineHeight,u=Ba(f)?f.length:1;const T=u/2,P=D.color,A=D.textStrokeColor,a=D.textStrokeWidth;let R=x;k?(v=d,x==="inner"&&(r===l-1?R=this.options.reverse?"left":"right":r===0?R=this.options.reverse?"right":"left":R="center"),K==="top"?h==="near"||m!==0?y=-u*g+g/2:h==="center"?y=-S.highest.height/2-T*g+g:y=-S.highest.height+g/2:h==="near"||m!==0?y=g/2:h==="center"?y=S.highest.height/2-T*g:y=S.highest.height-u*g,n&&(y*=-1),m!==0&&!D.showLabelBackdrop&&(v+=g/2*Math.sin(m))):(c=d,y=(1-u)*g/2);let b;if(D.showLabelBackdrop){const N=Qo(D.backdropPadding),O=S.heights[r],Y=S.widths[r];let B=y-N.top,W=0-N.left;switch(C){case"middle":B-=O/2;break;case"bottom":B-=O;break}switch(x){case"center":W-=Y/2;break;case"right":W-=Y;break}b={left:W,top:B,width:Y+N.width,height:O+N.height,color:D.backdropColor}}t.push({label:f,font:M,textOffset:y,options:{rotation:m,color:P,strokeColor:A,strokeWidth:a,textAlign:R,textBaseline:C,translation:[v,c],backdrop:b}})}return t}_getXAxisLabelAlignment(){const{position:o,ticks:_}=this.options;if(-xs(this.labelRotation))return o==="top"?"left":"right";let K="center";return _.align==="start"?K="left":_.align==="end"?K="right":_.align==="inner"&&(K="inner"),K}_getYAxisLabelAlignment(o){const{position:_,ticks:{crossAlign:V,mirror:K,padding:le}}=this.options,k=this._getLabelSizes(),F=o+le,e=k.widest.width;let h,E;return _==="left"?K?(E=this.right+le,V==="near"?h="left":V==="center"?(h="center",E+=e/2):(h="right",E+=e)):(E=this.right-F,V==="near"?h="right":V==="center"?(h="center",E-=e/2):(h="left",E=this.left)):_==="right"?K?(E=this.left+le,V==="near"?h="right":V==="center"?(h="center",E-=e/2):(h="left",E-=e)):(E=this.left+F,V==="near"?h="left":V==="center"?(h="center",E+=e/2):(h="right",E=this.right)):h="right",{textAlign:h,x:E}}_computeLabelArea(){if(this.options.ticks.mirror)return;const o=this.chart,_=this.options.position;if(_==="left"||_==="right")return{top:0,left:this.left,bottom:o.height,right:this.right};if(_==="top"||_==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:o.width}}drawBackground(){const{ctx:o,options:{backgroundColor:_},left:V,top:K,width:le,height:k}=this;_&&(o.save(),o.fillStyle=_,o.fillRect(V,K,le,k),o.restore())}getLineWidthForValue(o){const _=this.options.grid;if(!this._isVisible()||!_.display)return 0;const K=this.ticks.findIndex(le=>le.value===o);return K>=0?_.setContext(this.getContext(K)).lineWidth:0}drawGrid(o){const _=this.options.grid,V=this.ctx,K=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(o));let le,k;const F=(e,h,E)=>{!E.width||!E.color||(V.save(),V.lineWidth=E.width,V.strokeStyle=E.color,V.setLineDash(E.borderDash||[]),V.lineDashOffset=E.borderDashOffset,V.beginPath(),V.moveTo(e.x,e.y),V.lineTo(h.x,h.y),V.stroke(),V.restore())};if(_.display)for(le=0,k=K.length;le<k;++le){const e=K[le];_.drawOnChartArea&&F({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),_.drawTicks&&F({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:o,ctx:_,options:{border:V,grid:K}}=this,le=V.setContext(this.getContext()),k=V.display?le.width:0;if(!k)return;const F=K.setContext(this.getContext(0)).lineWidth,e=this._borderValue;let h,E,n,L;this.isHorizontal()?(h=vv(o,this.left,k)-k/2,E=vv(o,this.right,F)+F/2,n=L=e):(n=vv(o,this.top,k)-k/2,L=vv(o,this.bottom,F)+F/2,h=E=e),_.save(),_.lineWidth=le.width,_.strokeStyle=le.color,_.beginPath(),_.moveTo(h,n),_.lineTo(E,L),_.stroke(),_.restore()}drawLabels(o){if(!this.options.ticks.display)return;const V=this.ctx,K=this._computeLabelArea();K&&Bm(V,K);const le=this.getLabelItems(o);for(const k of le){const F=k.options,e=k.font,h=k.label,E=k.textOffset;Gd(V,h,0,E,e,F)}K&&Nm(V)}drawTitle(){const{ctx:o,options:{position:_,title:V,reverse:K}}=this;if(!V.display)return;const le=_o(V.font),k=Qo(V.padding),F=V.align;let e=le.lineHeight/2;_==="bottom"||_==="center"||pa(_)?(e+=k.bottom,Ba(V.text)&&(e+=le.lineHeight*(V.text.length-1))):e+=k.top;const{titleX:h,titleY:E,maxWidth:n,rotation:L}=rk(this,e,_,F);Gd(o,V.text,0,0,le,{color:V.color,maxWidth:n,rotation:L,textAlign:tk(F,_,K),textBaseline:"middle",translation:[h,E]})}draw(o){this._isVisible()&&(this.drawBackground(),this.drawGrid(o),this.drawBorder(),this.drawTitle(),this.drawLabels(o))}_layers(){const o=this.options,_=o.ticks&&o.ticks.z||0,V=ua(o.grid&&o.grid.z,-1),K=ua(o.border&&o.border.z,0);return!this._isVisible()||this.draw!==ep.prototype.draw?[{z:_,draw:le=>{this.draw(le)}}]:[{z:V,draw:le=>{this.drawBackground(),this.drawGrid(le),this.drawTitle()}},{z:K,draw:()=>{this.drawBorder()}},{z:_,draw:le=>{this.drawLabels(le)}}]}getMatchingVisibleMetas(o){const _=this.chart.getSortedVisibleDatasetMetas(),V=this.axis+"AxisID",K=[];let le,k;for(le=0,k=_.length;le<k;++le){const F=_[le];F[V]===this.id&&(!o||F.type===o)&&K.push(F)}return K}_resolveTickFontOptions(o){const _=this.options.ticks.setContext(this.getContext(o));return _o(_.font)}_maxDigits(){const o=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/o}}class $g{constructor(o,_,V){this.type=o,this.scope=_,this.override=V,this.items=Object.create(null)}isForType(o){return Object.prototype.isPrototypeOf.call(this.type.prototype,o.prototype)}register(o){const _=Object.getPrototypeOf(o);let V;ak(_)&&(V=this.register(_));const K=this.items,le=o.id,k=this.scope+"."+le;if(!le)throw new Error("class does not have id: "+o);return le in K||(K[le]=o,nk(o,k,V),this.override&&yo.override(o.id,o.overrides)),k}get(o){return this.items[o]}unregister(o){const _=this.items,V=o.id,K=this.scope;V in _&&delete _[V],K&&V in yo[K]&&(delete yo[K][V],this.override&&delete Fv[V])}}function nk(s,o,_){const V=_0(Object.create(null),[_?yo.get(_):{},yo.get(o),s.defaults]);yo.set(o,V),s.defaultRoutes&&ik(o,s.defaultRoutes),s.descriptors&&yo.describe(o,s.descriptors)}function ik(s,o){Object.keys(o).forEach(_=>{const V=_.split("."),K=V.pop(),le=[s].concat(V).join("."),k=o[_].split("."),F=k.pop(),e=k.join(".");yo.route(le,K,e,F)})}function ak(s){return"id"in s&&"defaults"in s}class ok{constructor(){this.controllers=new $g(f0,"datasets",!0),this.elements=new $g(bu,"elements"),this.plugins=new $g(Object,"plugins"),this.scales=new $g(ep,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...o){this._each("register",o)}remove(...o){this._each("unregister",o)}addControllers(...o){this._each("register",o,this.controllers)}addElements(...o){this._each("register",o,this.elements)}addPlugins(...o){this._each("register",o,this.plugins)}addScales(...o){this._each("register",o,this.scales)}getController(o){return this._get(o,this.controllers,"controller")}getElement(o){return this._get(o,this.elements,"element")}getPlugin(o){return this._get(o,this.plugins,"plugin")}getScale(o){return this._get(o,this.scales,"scale")}removeControllers(...o){this._each("unregister",o,this.controllers)}removeElements(...o){this._each("unregister",o,this.elements)}removePlugins(...o){this._each("unregister",o,this.plugins)}removeScales(...o){this._each("unregister",o,this.scales)}_each(o,_,V){[..._].forEach(K=>{const le=V||this._getRegistryForType(K);V||le.isForType(K)||le===this.plugins&&K.id?this._exec(o,le,K):Oa(K,k=>{const F=V||this._getRegistryForType(k);this._exec(o,F,k)})})}_exec(o,_,V){const K=Bb(o);za(V["before"+K],[],V),_[o](V),za(V["after"+K],[],V)}_getRegistryForType(o){for(let _=0;_<this._typedRegistries.length;_++){const V=this._typedRegistries[_];if(V.isForType(o))return V}return this.plugins}_get(o,_,V){const K=_.get(o);if(K===void 0)throw new Error('"'+o+'" is not a registered '+V+".");return K}}var Ef=new ok;class sk{constructor(){this._init=[]}notify(o,_,V,K){_==="beforeInit"&&(this._init=this._createDescriptors(o,!0),this._notify(this._init,o,"install"));const le=K?this._descriptors(o).filter(K):this._descriptors(o),k=this._notify(le,o,_,V);return _==="afterDestroy"&&(this._notify(le,o,"stop"),this._notify(this._init,o,"uninstall")),k}_notify(o,_,V,K){K=K||{};for(const le of o){const k=le.plugin,F=k[V],e=[_,K,le.options];if(za(F,e,k)===!1&&K.cancelable)return!1}return!0}invalidate(){oo(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(o){if(this._cache)return this._cache;const _=this._cache=this._createDescriptors(o);return this._notifyStateChanges(o),_}_createDescriptors(o,_){const V=o&&o.config,K=ua(V.options&&V.options.plugins,{}),le=lk(V);return K===!1&&!_?[]:fk(o,le,K,_)}_notifyStateChanges(o){const _=this._oldCache||[],V=this._cache,K=(le,k)=>le.filter(F=>!k.some(e=>F.plugin.id===e.plugin.id));this._notify(K(_,V),o,"stop"),this._notify(K(V,_),o,"start")}}function lk(s){const o={},_=[],V=Object.keys(Ef.plugins.items);for(let le=0;le<V.length;le++)_.push(Ef.getPlugin(V[le]));const K=s.plugins||[];for(let le=0;le<K.length;le++){const k=K[le];_.indexOf(k)===-1&&(_.push(k),o[k.id]=!0)}return{plugins:_,localIds:o}}function uk(s,o){return!o&&s===!1?null:s===!0?{}:s}function fk(s,{plugins:o,localIds:_},V,K){const le=[],k=s.getContext();for(const F of o){const e=F.id,h=uk(V[e],K);h!==null&&le.push({plugin:F,options:ck(s.config,{plugin:F,local:_[e]},h,k)})}return le}function ck(s,{plugin:o,local:_},V,K){const le=s.pluginScopeKeys(o),k=s.getOptionScopes(V,le);return _&&o.defaults&&k.push(o.defaults),s.createResolver(k,K,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function m2(s,o){const _=yo.datasets[s]||{};return((o.datasets||{})[s]||{}).indexAxis||o.indexAxis||_.indexAxis||"x"}function hk(s,o){let _=s;return s==="_index_"?_=o:s==="_value_"&&(_=o==="x"?"y":"x"),_}function vk(s,o){return s===o?"_index_":"_value_"}function P5(s){if(s==="x"||s==="y"||s==="r")return s}function dk(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function x2(s,...o){if(P5(s))return s;for(const _ of o){const V=_.axis||dk(_.position)||s.length>1&&P5(s[0].toLowerCase());if(V)return V}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function R5(s,o,_){if(_[o+"AxisID"]===s)return{axis:o}}function pk(s,o){if(o.data&&o.data.datasets){const _=o.data.datasets.filter(V=>V.xAxisID===s||V.yAxisID===s);if(_.length)return R5(s,"x",_[0])||R5(s,"y",_[0])}return{}}function gk(s,o){const _=Fv[s.type]||{scales:{}},V=o.scales||{},K=m2(s.type,o),le=Object.create(null);return Object.keys(V).forEach(k=>{const F=V[k];if(!pa(F))return console.error(`Invalid scale configuration for scale: ${k}`);if(F._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${k}`);const e=x2(k,F,pk(k,s),yo.scales[F.type]),h=vk(e,K),E=_.scales||{};le[k]=o0(Object.create(null),[{axis:e},F,E[e],E[h]])}),s.data.datasets.forEach(k=>{const F=k.type||s.type,e=k.indexAxis||m2(F,o),E=(Fv[F]||{}).scales||{};Object.keys(E).forEach(n=>{const L=hk(n,e),w=k[L+"AxisID"]||L;le[w]=le[w]||Object.create(null),o0(le[w],[{axis:L},V[w],E[n]])})}),Object.keys(le).forEach(k=>{const F=le[k];o0(F,[yo.scales[F.type],yo.scale])}),le}function NS(s){const o=s.options||(s.options={});o.plugins=ua(o.plugins,{}),o.scales=gk(s,o)}function US(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function yk(s){return s=s||{},s.data=US(s.data),NS(s),s}const D5=new Map,HS=new Set;function qg(s,o){let _=D5.get(s);return _||(_=o(),D5.set(s,_),HS.add(_)),_}const Np=(s,o,_)=>{const V=nm(o,_);V!==void 0&&s.add(V)};class mk{constructor(o){this._config=yk(o),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(o){this._config.type=o}get data(){return this._config.data}set data(o){this._config.data=US(o)}get options(){return this._config.options}set options(o){this._config.options=o}get plugins(){return this._config.plugins}update(){const o=this._config;this.clearCache(),NS(o)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(o){return qg(o,()=>[[`datasets.${o}`,""]])}datasetAnimationScopeKeys(o,_){return qg(`${o}.transition.${_}`,()=>[[`datasets.${o}.transitions.${_}`,`transitions.${_}`],[`datasets.${o}`,""]])}datasetElementScopeKeys(o,_){return qg(`${o}-${_}`,()=>[[`datasets.${o}.elements.${_}`,`datasets.${o}`,`elements.${_}`,""]])}pluginScopeKeys(o){const _=o.id,V=this.type;return qg(`${V}-plugin-${_}`,()=>[[`plugins.${_}`,...o.additionalOptionScopes||[]]])}_cachedScopes(o,_){const V=this._scopeCache;let K=V.get(o);return(!K||_)&&(K=new Map,V.set(o,K)),K}getOptionScopes(o,_,V){const{options:K,type:le}=this,k=this._cachedScopes(o,V),F=k.get(_);if(F)return F;const e=new Set;_.forEach(E=>{o&&(e.add(o),E.forEach(n=>Np(e,o,n))),E.forEach(n=>Np(e,K,n)),E.forEach(n=>Np(e,Fv[le]||{},n)),E.forEach(n=>Np(e,yo,n)),E.forEach(n=>Np(e,g2,n))});const h=Array.from(e);return h.length===0&&h.push(Object.create(null)),HS.has(_)&&k.set(_,h),h}chartOptionScopes(){const{options:o,type:_}=this;return[o,Fv[_]||{},yo.datasets[_]||{},{type:_},yo,g2]}resolveNamedOptions(o,_,V,K=[""]){const le={$shared:!0},{resolver:k,subPrefixes:F}=_5(this._resolverCache,o,K);let e=k;if(bk(k,_)){le.$shared=!1,V=Al(V)?V():V;const h=this.createResolver(o,V,F);e=Yd(k,V,h)}for(const h of _)le[h]=e[h];return le}createResolver(o,_,V=[""],K){const{resolver:le}=_5(this._resolverCache,o,V);return pa(_)?Yd(le,_,void 0,K):le}}function _5(s,o,_){let V=s.get(o);V||(V=new Map,s.set(o,V));const K=_.join();let le=V.get(K);return le||(le={resolver:Wb(o,_),subPrefixes:_.filter(F=>!F.toLowerCase().includes("hover"))},V.set(K,le)),le}const xk=s=>pa(s)&&Object.getOwnPropertyNames(s).reduce((o,_)=>o||Al(s[_]),!1);function bk(s,o){const{isScriptable:_,isIndexable:V}=MS(s);for(const K of o){const le=_(K),k=V(K),F=(k||le)&&s[K];if(le&&(Al(F)||xk(F))||k&&Ba(F))return!0}return!1}var wk="4.4.0";const Tk=["top","bottom","left","right","chartArea"];function k5(s,o){return s==="top"||s==="bottom"||Tk.indexOf(s)===-1&&o==="x"}function I5(s,o){return function(_,V){return _[s]===V[s]?_[o]-V[o]:_[s]-V[s]}}function F5(s){const o=s.chart,_=o.options.animation;o.notifyPlugins("afterRender"),za(_&&_.onComplete,[s],o)}function Ak(s){const o=s.chart,_=o.options.animation;za(_&&_.onProgress,[s],o)}function VS(s){return PS()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Sy={},z5=s=>{const o=VS(s);return Object.values(Sy).filter(_=>_.canvas===o).pop()};function Mk(s,o,_){const V=Object.keys(s);for(const K of V){const le=+K;if(le>=o){const k=s[K];delete s[K],(_>0||le>o)&&(s[le+_]=k)}}}function Sk(s,o,_,V){return!_||s.type==="mouseout"?null:V?o:s}function ey(s,o,_){return s.options.clip?s[_]:o[_]}function Ek(s,o){const{xScale:_,yScale:V}=s;return _&&V?{left:ey(_,o,"left"),right:ey(_,o,"right"),top:ey(V,o,"top"),bottom:ey(V,o,"bottom")}:o}var ih;let Eh=(ih=class{static register(...o){Ef.add(...o),O5()}static unregister(...o){Ef.remove(...o),O5()}constructor(o,_){const V=this.config=new mk(_),K=VS(o),le=z5(K);if(le)throw new Error("Canvas is already in use. Chart with ID '"+le.id+"' must be destroyed before the canvas with ID '"+le.canvas.id+"' can be reused.");const k=V.createResolver(V.chartOptionScopes(),this.getContext());this.platform=new(V.platform||W_(K)),this.platform.updateConfig(V);const F=this.platform.acquireContext(K,k.aspectRatio),e=F&&F.canvas,h=e&&e.height,E=e&&e.width;if(this.id=IR(),this.ctx=F,this.canvas=e,this.width=E,this.height=h,this._options=k,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=QR(n=>this.update(n),k.resizeDelay||0),this._dataChanges=[],Sy[this.id]=this,!F||!e){console.error("Failed to create chart: can't acquire context from the given item");return}uc.listen(this,"complete",F5),uc.listen(this,"progress",Ak),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:o,maintainAspectRatio:_},width:V,height:K,_aspectRatio:le}=this;return oo(o)?_&&le?le:K?V/K:null:o}get data(){return this.config.data}set data(o){this.config.data=o}get options(){return this._options}set options(o){this.config.options=o}get registry(){return Ef}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():s5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return i5(this.canvas,this.ctx),this}stop(){return uc.stop(this),this}resize(o,_){uc.running(this)?this._resizeBeforeDraw={width:o,height:_}:this._resize(o,_)}_resize(o,_){const V=this.options,K=this.canvas,le=V.maintainAspectRatio&&this.aspectRatio,k=this.platform.getMaximumSize(K,o,_,le),F=V.devicePixelRatio||this.platform.getDevicePixelRatio(),e=this.width?"resize":"attach";this.width=k.width,this.height=k.height,this._aspectRatio=this.aspectRatio,s5(this,F,!0)&&(this.notifyPlugins("resize",{size:k}),za(V.onResize,[this,k],this),this.attached&&this._doResize(e)&&this.render())}ensureScalesHaveIDs(){const _=this.options.scales||{};Oa(_,(V,K)=>{V.id=K})}buildOrUpdateScales(){const o=this.options,_=o.scales,V=this.scales,K=Object.keys(V).reduce((k,F)=>(k[F]=!1,k),{});let le=[];_&&(le=le.concat(Object.keys(_).map(k=>{const F=_[k],e=x2(k,F),h=e==="r",E=e==="x";return{options:F,dposition:h?"chartArea":E?"bottom":"left",dtype:h?"radialLinear":E?"category":"linear"}}))),Oa(le,k=>{const F=k.options,e=F.id,h=x2(e,F),E=ua(F.type,k.dtype);(F.position===void 0||k5(F.position,h)!==k5(k.dposition))&&(F.position=k.dposition),K[e]=!0;let n=null;if(e in V&&V[e].type===E)n=V[e];else{const L=Ef.getScale(E);n=new L({id:e,type:E,ctx:this.ctx,chart:this}),V[n.id]=n}n.init(F,o)}),Oa(K,(k,F)=>{k||delete V[F]}),Oa(V,k=>{ph.configure(this,k,k.options),ph.addBox(this,k)})}_updateMetasets(){const o=this._metasets,_=this.data.datasets.length,V=o.length;if(o.sort((K,le)=>K.index-le.index),V>_){for(let K=_;K<V;++K)this._destroyDatasetMeta(K);o.splice(_,V-_)}this._sortedMetasets=o.slice(0).sort(I5("order","index"))}_removeUnreferencedMetasets(){const{_metasets:o,data:{datasets:_}}=this;o.length>_.length&&delete this._stacks,o.forEach((V,K)=>{_.filter(le=>le===V._dataset).length===0&&this._destroyDatasetMeta(K)})}buildOrUpdateControllers(){const o=[],_=this.data.datasets;let V,K;for(this._removeUnreferencedMetasets(),V=0,K=_.length;V<K;V++){const le=_[V];let k=this.getDatasetMeta(V);const F=le.type||this.config.type;if(k.type&&k.type!==F&&(this._destroyDatasetMeta(V),k=this.getDatasetMeta(V)),k.type=F,k.indexAxis=le.indexAxis||m2(F,this.options),k.order=le.order||0,k.index=V,k.label=""+le.label,k.visible=this.isDatasetVisible(V),k.controller)k.controller.updateIndex(V),k.controller.linkScales();else{const e=Ef.getController(F),{datasetElementType:h,dataElementType:E}=yo.datasets[F];Object.assign(e,{dataElementType:Ef.getElement(E),datasetElementType:h&&Ef.getElement(h)}),k.controller=new e(this,V),o.push(k.controller)}}return this._updateMetasets(),o}_resetElements(){Oa(this.data.datasets,(o,_)=>{this.getDatasetMeta(_).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(o){const _=this.config;_.update();const V=this._options=_.createResolver(_.chartOptionScopes(),this.getContext()),K=this._animationsDisabled=!V.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:o,cancelable:!0})===!1)return;const le=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let k=0;for(let h=0,E=this.data.datasets.length;h<E;h++){const{controller:n}=this.getDatasetMeta(h),L=!K&&le.indexOf(n)===-1;n.buildOrUpdateElements(L),k=Math.max(+n.getMaxOverflow(),k)}k=this._minPadding=V.layout.autoPadding?k:0,this._updateLayout(k),K||Oa(le,h=>{h.reset()}),this._updateDatasets(o),this.notifyPlugins("afterUpdate",{mode:o}),this._layers.sort(I5("z","_idx"));const{_active:F,_lastEvent:e}=this;e?this._eventHandler(e,!0):F.length&&this._updateHoverStyles(F,F,!0),this.render()}_updateScales(){Oa(this.scales,o=>{ph.removeBox(this,o)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const o=this.options,_=new Set(Object.keys(this._listeners)),V=new Set(o.events);(!JT(_,V)||!!this._responsiveListeners!==o.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:o}=this,_=this._getUniformDataChanges()||[];for(const{method:V,start:K,count:le}of _){const k=V==="_removeElements"?-le:le;Mk(o,K,k)}}_getUniformDataChanges(){const o=this._dataChanges;if(!o||!o.length)return;this._dataChanges=[];const _=this.data.datasets.length,V=le=>new Set(o.filter(k=>k[0]===le).map((k,F)=>F+","+k.splice(1).join(","))),K=V(0);for(let le=1;le<_;le++)if(!JT(K,V(le)))return;return Array.from(K).map(le=>le.split(",")).map(le=>({method:le[1],start:+le[2],count:+le[3]}))}_updateLayout(o){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ph.update(this,this.width,this.height,o);const _=this.chartArea,V=_.width<=0||_.height<=0;this._layers=[],Oa(this.boxes,K=>{V&&K.position==="chartArea"||(K.configure&&K.configure(),this._layers.push(...K._layers()))},this),this._layers.forEach((K,le)=>{K._idx=le}),this.notifyPlugins("afterLayout")}_updateDatasets(o){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:o,cancelable:!0})!==!1){for(let _=0,V=this.data.datasets.length;_<V;++_)this.getDatasetMeta(_).controller.configure();for(let _=0,V=this.data.datasets.length;_<V;++_)this._updateDataset(_,Al(o)?o({datasetIndex:_}):o);this.notifyPlugins("afterDatasetsUpdate",{mode:o})}}_updateDataset(o,_){const V=this.getDatasetMeta(o),K={meta:V,index:o,mode:_,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",K)!==!1&&(V.controller._update(_),K.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",K))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(uc.has(this)?this.attached&&!uc.running(this)&&uc.start(this):(this.draw(),F5({chart:this})))}draw(){let o;if(this._resizeBeforeDraw){const{width:V,height:K}=this._resizeBeforeDraw;this._resize(V,K),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const _=this._layers;for(o=0;o<_.length&&_[o].z<=0;++o)_[o].draw(this.chartArea);for(this._drawDatasets();o<_.length;++o)_[o].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(o){const _=this._sortedMetasets,V=[];let K,le;for(K=0,le=_.length;K<le;++K){const k=_[K];(!o||k.visible)&&V.push(k)}return V}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const o=this.getSortedVisibleDatasetMetas();for(let _=o.length-1;_>=0;--_)this._drawDataset(o[_]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(o){const _=this.ctx,V=o._clip,K=!V.disabled,le=Ek(o,this.chartArea),k={meta:o,index:o.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",k)!==!1&&(K&&Bm(_,{left:V.left===!1?0:le.left-V.left,right:V.right===!1?this.width:le.right+V.right,top:V.top===!1?0:le.top-V.top,bottom:V.bottom===!1?this.height:le.bottom+V.bottom}),o.controller.draw(),K&&Nm(_),k.cancelable=!1,this.notifyPlugins("afterDatasetDraw",k))}isPointInArea(o){return gc(o,this.chartArea,this._minPadding)}getElementsAtEventForMode(o,_,V,K){const le=T_.modes[_];return typeof le=="function"?le(this,o,V,K):[]}getDatasetMeta(o){const _=this.data.datasets[o],V=this._metasets;let K=V.filter(le=>le&&le._dataset===_).pop();return K||(K={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:_&&_.order||0,index:o,_dataset:_,_parsed:[],_sorted:!1},V.push(K)),K}getContext(){return this.$context||(this.$context=zh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(o){const _=this.data.datasets[o];if(!_)return!1;const V=this.getDatasetMeta(o);return typeof V.hidden=="boolean"?!V.hidden:!_.hidden}setDatasetVisibility(o,_){const V=this.getDatasetMeta(o);V.hidden=!_}toggleDataVisibility(o){this._hiddenIndices[o]=!this._hiddenIndices[o]}getDataVisibility(o){return!this._hiddenIndices[o]}_updateVisibility(o,_,V){const K=V?"show":"hide",le=this.getDatasetMeta(o),k=le.controller._resolveAnimations(void 0,K);Yl(_)?(le.data[_].hidden=!V,this.update()):(this.setDatasetVisibility(o,V),k.update(le,{visible:V}),this.update(F=>F.datasetIndex===o?K:void 0))}hide(o,_){this._updateVisibility(o,_,!1)}show(o,_){this._updateVisibility(o,_,!0)}_destroyDatasetMeta(o){const _=this._metasets[o];_&&_.controller&&_.controller._destroy(),delete this._metasets[o]}_stop(){let o,_;for(this.stop(),uc.remove(this),o=0,_=this.data.datasets.length;o<_;++o)this._destroyDatasetMeta(o)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:o,ctx:_}=this;this._stop(),this.config.clearCache(),o&&(this.unbindEvents(),i5(o,_),this.platform.releaseContext(_),this.canvas=null,this.ctx=null),delete Sy[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...o){return this.canvas.toDataURL(...o)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const o=this._listeners,_=this.platform,V=(le,k)=>{_.addEventListener(this,le,k),o[le]=k},K=(le,k,F)=>{le.offsetX=k,le.offsetY=F,this._eventHandler(le)};Oa(this.options.events,le=>V(le,K))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const o=this._responsiveListeners,_=this.platform,V=(e,h)=>{_.addEventListener(this,e,h),o[e]=h},K=(e,h)=>{o[e]&&(_.removeEventListener(this,e,h),delete o[e])},le=(e,h)=>{this.canvas&&this.resize(e,h)};let k;const F=()=>{K("attach",F),this.attached=!0,this.resize(),V("resize",le),V("detach",k)};k=()=>{this.attached=!1,K("resize",le),this._stop(),this._resize(0,0),V("attach",F)},_.isAttached(this.canvas)?F():k()}unbindEvents(){Oa(this._listeners,(o,_)=>{this.platform.removeEventListener(this,_,o)}),this._listeners={},Oa(this._responsiveListeners,(o,_)=>{this.platform.removeEventListener(this,_,o)}),this._responsiveListeners=void 0}updateHoverStyle(o,_,V){const K=V?"set":"remove";let le,k,F,e;for(_==="dataset"&&(le=this.getDatasetMeta(o[0].datasetIndex),le.controller["_"+K+"DatasetHoverStyle"]()),F=0,e=o.length;F<e;++F){k=o[F];const h=k&&this.getDatasetMeta(k.datasetIndex).controller;h&&h[K+"HoverStyle"](k.element,k.datasetIndex,k.index)}}getActiveElements(){return this._active||[]}setActiveElements(o){const _=this._active||[],V=o.map(({datasetIndex:le,index:k})=>{const F=this.getDatasetMeta(le);if(!F)throw new Error("No dataset found at index "+le);return{datasetIndex:le,element:F.data[k],index:k}});!tm(V,_)&&(this._active=V,this._lastEvent=null,this._updateHoverStyles(V,_))}notifyPlugins(o,_,V){return this._plugins.notify(this,o,_,V)}isPluginEnabled(o){return this._plugins._cache.filter(_=>_.plugin.id===o).length===1}_updateHoverStyles(o,_,V){const K=this.options.hover,le=(e,h)=>e.filter(E=>!h.some(n=>E.datasetIndex===n.datasetIndex&&E.index===n.index)),k=le(_,o),F=V?o:le(o,_);k.length&&this.updateHoverStyle(k,K.mode,!1),F.length&&K.mode&&this.updateHoverStyle(F,K.mode,!0)}_eventHandler(o,_){const V={event:o,replay:_,cancelable:!0,inChartArea:this.isPointInArea(o)},K=k=>(k.options.events||this.options.events).includes(o.native.type);if(this.notifyPlugins("beforeEvent",V,K)===!1)return;const le=this._handleEvent(o,_,V.inChartArea);return V.cancelable=!1,this.notifyPlugins("afterEvent",V,K),(le||V.changed)&&this.render(),this}_handleEvent(o,_,V){const{_active:K=[],options:le}=this,k=_,F=this._getActiveElements(o,K,V,k),e=UR(o),h=Sk(o,this._lastEvent,V,e);V&&(this._lastEvent=null,za(le.onHover,[o,F,this],this),e&&za(le.onClick,[o,F,this],this));const E=!tm(F,K);return(E||_)&&(this._active=F,this._updateHoverStyles(F,K,_)),this._lastEvent=h,E}_getActiveElements(o,_,V,K){if(o.type==="mouseout")return[];if(!V)return _;const le=this.options.hover;return this.getElementsAtEventForMode(o,le.mode,le,K)}},Ji(ih,"defaults",yo),Ji(ih,"instances",Sy),Ji(ih,"overrides",Fv),Ji(ih,"registry",Ef),Ji(ih,"version",wk),Ji(ih,"getChart",z5),ih);function O5(){return Oa(Eh.instances,s=>s._plugins.invalidate())}function WS(s,o,_=o){s.lineCap=ua(_.borderCapStyle,o.borderCapStyle),s.setLineDash(ua(_.borderDash,o.borderDash)),s.lineDashOffset=ua(_.borderDashOffset,o.borderDashOffset),s.lineJoin=ua(_.borderJoinStyle,o.borderJoinStyle),s.lineWidth=ua(_.borderWidth,o.borderWidth),s.strokeStyle=ua(_.borderColor,o.borderColor)}function Ck(s,o,_){s.lineTo(_.x,_.y)}function Lk(s){return s.stepped?cD:s.tension||s.cubicInterpolationMode==="monotone"?hD:Ck}function GS(s,o,_={}){const V=s.length,{start:K=0,end:le=V-1}=_,{start:k,end:F}=o,e=Math.max(K,k),h=Math.min(le,F),E=K<k&&le<k||K>F&&le>F;return{count:V,start:e,loop:o.loop,ilen:h<e&&!E?V+h-e:h-e}}function Pk(s,o,_,V){const{points:K,options:le}=o,{count:k,start:F,loop:e,ilen:h}=GS(K,_,V),E=Lk(le);let{move:n=!0,reverse:L}=V||{},w,p,m;for(w=0;w<=h;++w)p=K[(F+(L?h-w:w))%k],!p.skip&&(n?(s.moveTo(p.x,p.y),n=!1):E(s,m,p,L,le.stepped),m=p);return e&&(p=K[(F+(L?h:0))%k],E(s,m,p,L,le.stepped)),!!e}function Rk(s,o,_,V){const K=o.points,{count:le,start:k,ilen:F}=GS(K,_,V),{move:e=!0,reverse:h}=V||{};let E=0,n=0,L,w,p,m,t,r;const l=f=>(k+(h?F-f:f))%le,i=()=>{m!==t&&(s.lineTo(E,t),s.lineTo(E,m),s.lineTo(E,r))};for(e&&(w=K[l(0)],s.moveTo(w.x,w.y)),L=0;L<=F;++L){if(w=K[l(L)],w.skip)continue;const f=w.x,v=w.y,c=f|0;c===p?(v<m?m=v:v>t&&(t=v),E=(n*E+f)/++n):(i(),s.lineTo(f,v),p=c,n=0,m=t=v),r=v}i()}function b2(s){const o=s.options,_=o.borderDash&&o.borderDash.length;return!s._decimated&&!s._loop&&!o.tension&&o.cubicInterpolationMode!=="monotone"&&!o.stepped&&!_?Rk:Pk}function Dk(s){return s.stepped?YD:s.tension||s.cubicInterpolationMode==="monotone"?ZD:xv}function _k(s,o,_,V){let K=o._path;K||(K=o._path=new Path2D,o.path(K,_,V)&&K.closePath()),WS(s,o.options),s.stroke(K)}function kk(s,o,_,V){const{segments:K,options:le}=o,k=b2(o);for(const F of K)WS(s,le,F.style),s.beginPath(),k(s,o,F,{start:_,end:_+V-1})&&s.closePath(),s.stroke()}const Ik=typeof Path2D=="function";function Fk(s,o,_,V){Ik&&!o.options.segment?_k(s,o,_,V):kk(s,o,_,V)}class Xp extends bu{constructor(o){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,o&&Object.assign(this,o)}updateControlPoints(o,_){const V=this.options;if((V.tension||V.cubicInterpolationMode==="monotone")&&!V.stepped&&!this._pointsUpdated){const K=V.spanGaps?this._loop:this._fullLoop;OD(this._points,V,o,K,_),this._pointsUpdated=!0}}set points(o){this._points=o,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=e_(this,this.options.segment))}first(){const o=this.segments,_=this.points;return o.length&&_[o[0].start]}last(){const o=this.segments,_=this.points,V=o.length;return V&&_[o[V-1].end]}interpolate(o,_){const V=this.options,K=o[_],le=this.points,k=QD(this,{property:_,start:K,end:K});if(!k.length)return;const F=[],e=Dk(V);let h,E;for(h=0,E=k.length;h<E;++h){const{start:n,end:L}=k[h],w=le[n],p=le[L];if(w===p){F.push(w);continue}const m=Math.abs((K-w[_])/(p[_]-w[_])),t=e(w,p,m,V.stepped);t[_]=o[_],F.push(t)}return F.length===1?F[0]:F}pathSegment(o,_,V){return b2(this)(o,this,_,V)}path(o,_,V){const K=this.segments,le=b2(this);let k=this._loop;_=_||0,V=V||this.points.length-_;for(const F of K)k&=le(o,this,F,{start:_,end:_+V-1});return!!k}draw(o,_,V,K){const le=this.options||{};(this.points||[]).length&&le.borderWidth&&(o.save(),Fk(o,this,V,K),o.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ji(Xp,"id","line"),Ji(Xp,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ji(Xp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ji(Xp,"descriptors",{_scriptable:!0,_indexable:o=>o!=="borderDash"&&o!=="fill"});function B5(s,o,_,V){const K=s.options,{[_]:le}=s.getProps([_],V);return Math.abs(o-le)<K.radius+K.hitRadius}class Ey extends bu{constructor(_){super();Ji(this,"parsed");Ji(this,"skip");Ji(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,_&&Object.assign(this,_)}inRange(_,V,K){const le=this.options,{x:k,y:F}=this.getProps(["x","y"],K);return Math.pow(_-k,2)+Math.pow(V-F,2)<Math.pow(le.hitRadius+le.radius,2)}inXRange(_,V){return B5(this,_,"x",V)}inYRange(_,V){return B5(this,_,"y",V)}getCenterPoint(_){const{x:V,y:K}=this.getProps(["x","y"],_);return{x:V,y:K}}size(_){_=_||this.options||{};let V=_.radius||0;V=Math.max(V,V&&_.hoverRadius||0);const K=V&&_.borderWidth||0;return(V+K)*2}draw(_,V){const K=this.options;this.skip||K.radius<.1||!gc(this,V,this.size(K)/2)||(_.strokeStyle=K.borderColor,_.lineWidth=K.borderWidth,_.fillStyle=K.backgroundColor,y2(_,K,this.x,this.y))}getRange(){const _=this.options||{};return _.radius+_.hitRadius}}Ji(Ey,"id","point"),Ji(Ey,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ji(Ey,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const N5=(s,o)=>{let{boxHeight:_=o,boxWidth:V=o}=s;return s.usePointStyle&&(_=Math.min(_,o),V=s.pointStyleWidth||Math.min(V,o)),{boxWidth:V,boxHeight:_,itemHeight:Math.max(o,_)}},zk=(s,o)=>s!==null&&o!==null&&s.datasetIndex===o.datasetIndex&&s.index===o.index;class U5 extends bu{constructor(o){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,_,V){this.maxWidth=o,this.maxHeight=_,this._margins=V,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const o=this.options.labels||{};let _=za(o.generateLabels,[this.chart],this)||[];o.filter&&(_=_.filter(V=>o.filter(V,this.chart.data))),o.sort&&(_=_.sort((V,K)=>o.sort(V,K,this.chart.data))),this.options.reverse&&_.reverse(),this.legendItems=_}fit(){const{options:o,ctx:_}=this;if(!o.display){this.width=this.height=0;return}const V=o.labels,K=_o(V.font),le=K.size,k=this._computeTitleHeight(),{boxWidth:F,itemHeight:e}=N5(V,le);let h,E;_.font=K.string,this.isHorizontal()?(h=this.maxWidth,E=this._fitRows(k,le,F,e)+10):(E=this.maxHeight,h=this._fitCols(k,K,F,e)+10),this.width=Math.min(h,o.maxWidth||this.maxWidth),this.height=Math.min(E,o.maxHeight||this.maxHeight)}_fitRows(o,_,V,K){const{ctx:le,maxWidth:k,options:{labels:{padding:F}}}=this,e=this.legendHitBoxes=[],h=this.lineWidths=[0],E=K+F;let n=o;le.textAlign="left",le.textBaseline="middle";let L=-1,w=-E;return this.legendItems.forEach((p,m)=>{const t=V+_/2+le.measureText(p.text).width;(m===0||h[h.length-1]+t+2*F>k)&&(n+=E,h[h.length-(m>0?0:1)]=0,w+=E,L++),e[m]={left:0,top:w,row:L,width:t,height:K},h[h.length-1]+=t+F}),n}_fitCols(o,_,V,K){const{ctx:le,maxHeight:k,options:{labels:{padding:F}}}=this,e=this.legendHitBoxes=[],h=this.columnSizes=[],E=k-o;let n=F,L=0,w=0,p=0,m=0;return this.legendItems.forEach((t,r)=>{const{itemWidth:l,itemHeight:i}=Ok(V,_,le,t,K);r>0&&w+i+2*F>E&&(n+=L+F,h.push({width:L,height:w}),p+=L+F,m++,L=w=0),e[r]={left:p,top:w,col:m,width:l,height:i},L=Math.max(L,l),w+=i+F}),n+=L,h.push({width:L,height:w}),n}adjustHitBoxes(){if(!this.options.display)return;const o=this._computeTitleHeight(),{legendHitBoxes:_,options:{align:V,labels:{padding:K},rtl:le}}=this,k=kd(le,this.left,this.width);if(this.isHorizontal()){let F=0,e=Bl(V,this.left+K,this.right-this.lineWidths[F]);for(const h of _)F!==h.row&&(F=h.row,e=Bl(V,this.left+K,this.right-this.lineWidths[F])),h.top+=this.top+o+K,h.left=k.leftForLtr(k.x(e),h.width),e+=h.width+K}else{let F=0,e=Bl(V,this.top+o+K,this.bottom-this.columnSizes[F].height);for(const h of _)h.col!==F&&(F=h.col,e=Bl(V,this.top+o+K,this.bottom-this.columnSizes[F].height)),h.top=e,h.left+=this.left+K,h.left=k.leftForLtr(k.x(h.left),h.width),e+=h.height+K}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const o=this.ctx;Bm(o,this),this._draw(),Nm(o)}}_draw(){const{options:o,columnSizes:_,lineWidths:V,ctx:K}=this,{align:le,labels:k}=o,F=yo.color,e=kd(o.rtl,this.left,this.width),h=_o(k.font),{padding:E}=k,n=h.size,L=n/2;let w;this.drawTitle(),K.textAlign=e.textAlign("left"),K.textBaseline="middle",K.lineWidth=.5,K.font=h.string;const{boxWidth:p,boxHeight:m,itemHeight:t}=N5(k,n),r=function(c,x,d){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;K.save();const M=ua(d.lineWidth,1);if(K.fillStyle=ua(d.fillStyle,F),K.lineCap=ua(d.lineCap,"butt"),K.lineDashOffset=ua(d.lineDashOffset,0),K.lineJoin=ua(d.lineJoin,"miter"),K.lineWidth=M,K.strokeStyle=ua(d.strokeStyle,F),K.setLineDash(ua(d.lineDash,[])),k.usePointStyle){const g={radius:m*Math.SQRT2/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:M},u=e.xPlus(c,p/2),y=x+L;TS(K,g,u,y,k.pointStyleWidth&&p)}else{const g=x+Math.max((n-m)/2,0),u=e.leftForLtr(c,p),y=Cv(d.borderRadius);K.beginPath(),Object.values(y).some(C=>C!==0)?k0(K,{x:u,y:g,w:p,h:m,radius:y}):K.rect(u,g,p,m),K.fill(),M!==0&&K.stroke()}K.restore()},l=function(c,x,d){Gd(K,d.text,c,x+t/2,h,{strikethrough:d.hidden,textAlign:e.textAlign(d.textAlign)})},i=this.isHorizontal(),f=this._computeTitleHeight();i?w={x:Bl(le,this.left+E,this.right-V[0]),y:this.top+E+f,line:0}:w={x:this.left+E,y:Bl(le,this.top+f+E,this.bottom-_[0].height),line:0},RS(this.ctx,o.textDirection);const v=t+E;this.legendItems.forEach((c,x)=>{K.strokeStyle=c.fontColor,K.fillStyle=c.fontColor;const d=K.measureText(c.text).width,M=e.textAlign(c.textAlign||(c.textAlign=k.textAlign)),g=p+L+d;let u=w.x,y=w.y;e.setWidth(this.width),i?x>0&&u+g+E>this.right&&(y=w.y+=v,w.line++,u=w.x=Bl(le,this.left+E,this.right-V[w.line])):x>0&&y+v>this.bottom&&(u=w.x=u+_[w.line].width+E,w.line++,y=w.y=Bl(le,this.top+f+E,this.bottom-_[w.line].height));const C=e.x(u);if(r(C,y,c),u=$R(M,u+p+L,i?u+g:this.right,o.rtl),l(e.x(u),y,c),i)w.x+=g+E;else if(typeof c.text!="string"){const S=h.lineHeight;w.y+=YS(c,S)+E}else w.y+=v}),DS(this.ctx,o.textDirection)}drawTitle(){const o=this.options,_=o.title,V=_o(_.font),K=Qo(_.padding);if(!_.display)return;const le=kd(o.rtl,this.left,this.width),k=this.ctx,F=_.position,e=V.size/2,h=K.top+e;let E,n=this.left,L=this.width;if(this.isHorizontal())L=Math.max(...this.lineWidths),E=this.top+h,n=Bl(o.align,n,this.right-L);else{const p=this.columnSizes.reduce((m,t)=>Math.max(m,t.height),0);E=h+Bl(o.align,this.top,this.bottom-p-o.labels.padding-this._computeTitleHeight())}const w=Bl(F,n,n+L);k.textAlign=le.textAlign(bS(F)),k.textBaseline="middle",k.strokeStyle=_.color,k.fillStyle=_.color,k.font=V.string,Gd(k,_.text,w,E,V)}_computeTitleHeight(){const o=this.options.title,_=_o(o.font),V=Qo(o.padding);return o.display?_.lineHeight+V.height:0}_getLegendItemAt(o,_){let V,K,le;if(Zp(o,this.left,this.right)&&Zp(_,this.top,this.bottom)){for(le=this.legendHitBoxes,V=0;V<le.length;++V)if(K=le[V],Zp(o,K.left,K.left+K.width)&&Zp(_,K.top,K.top+K.height))return this.legendItems[V]}return null}handleEvent(o){const _=this.options;if(!Uk(o.type,_))return;const V=this._getLegendItemAt(o.x,o.y);if(o.type==="mousemove"||o.type==="mouseout"){const K=this._hoveredItem,le=zk(K,V);K&&!le&&za(_.onLeave,[o,K,this],this),this._hoveredItem=V,V&&!le&&za(_.onHover,[o,V,this],this)}else V&&za(_.onClick,[o,V,this],this)}}function Ok(s,o,_,V,K){const le=Bk(V,s,o,_),k=Nk(K,V,o.lineHeight);return{itemWidth:le,itemHeight:k}}function Bk(s,o,_,V){let K=s.text;return K&&typeof K!="string"&&(K=K.reduce((le,k)=>le.length>k.length?le:k)),o+_.size/2+V.measureText(K).width}function Nk(s,o,_){let V=s;return typeof o.text!="string"&&(V=YS(o,_)),V}function YS(s,o){const _=s.text?s.text.length:0;return o*_}function Uk(s,o){return!!((s==="mousemove"||s==="mouseout")&&(o.onHover||o.onLeave)||o.onClick&&(s==="click"||s==="mouseup"))}var Hk={id:"legend",_element:U5,start(s,o,_){const V=s.legend=new U5({ctx:s.ctx,options:_,chart:s});ph.configure(s,V,_),ph.addBox(s,V)},stop(s){ph.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,o,_){const V=s.legend;ph.configure(s,V,_),V.options=_},afterUpdate(s){const o=s.legend;o.buildLabels(),o.adjustHitBoxes()},afterEvent(s,o){o.replay||s.legend.handleEvent(o.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,o,_){const V=o.datasetIndex,K=_.chart;K.isDatasetVisible(V)?(K.hide(V),o.hidden=!0):(K.show(V),o.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const o=s.data.datasets,{labels:{usePointStyle:_,pointStyle:V,textAlign:K,color:le,useBorderRadius:k,borderRadius:F}}=s.legend.options;return s._getSortedDatasetMetas().map(e=>{const h=e.controller.getStyle(_?0:void 0),E=Qo(h.borderWidth);return{text:o[e.index].label,fillStyle:h.backgroundColor,fontColor:le,hidden:!e.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(E.width+E.height)/4,strokeStyle:h.borderColor,pointStyle:V||h.pointStyle,rotation:h.rotation,textAlign:K||h.textAlign,borderRadius:k&&(F||h.borderRadius),datasetIndex:e.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};const Kp={average(s){if(!s.length)return!1;let o,_,V=0,K=0,le=0;for(o=0,_=s.length;o<_;++o){const k=s[o].element;if(k&&k.hasValue()){const F=k.tooltipPosition();V+=F.x,K+=F.y,++le}}return{x:V/le,y:K/le}},nearest(s,o){if(!s.length)return!1;let _=o.x,V=o.y,K=Number.POSITIVE_INFINITY,le,k,F;for(le=0,k=s.length;le<k;++le){const e=s[le].element;if(e&&e.hasValue()){const h=e.getCenterPoint(),E=Wd(o,h);E<K&&(K=E,F=e)}}if(F){const e=F.tooltipPosition();_=e.x,V=e.y}return{x:_,y:V}}};function Mf(s,o){return o&&(Ba(o)?Array.prototype.push.apply(s,o):s.push(o)),s}function fc(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Vk(s,o){const{element:_,datasetIndex:V,index:K}=o,le=s.getDatasetMeta(V).controller,{label:k,value:F}=le.getLabelAndValue(K);return{chart:s,label:k,parsed:le.getParsed(K),raw:s.data.datasets[V].data[K],formattedValue:F,dataset:le.getDataset(),dataIndex:K,datasetIndex:V,element:_}}function H5(s,o){const _=s.chart.ctx,{body:V,footer:K,title:le}=s,{boxWidth:k,boxHeight:F}=o,e=_o(o.bodyFont),h=_o(o.titleFont),E=_o(o.footerFont),n=le.length,L=K.length,w=V.length,p=Qo(o.padding);let m=p.height,t=0,r=V.reduce((f,v)=>f+v.before.length+v.lines.length+v.after.length,0);if(r+=s.beforeBody.length+s.afterBody.length,n&&(m+=n*h.lineHeight+(n-1)*o.titleSpacing+o.titleMarginBottom),r){const f=o.displayColors?Math.max(F,e.lineHeight):e.lineHeight;m+=w*f+(r-w)*e.lineHeight+(r-1)*o.bodySpacing}L&&(m+=o.footerMarginTop+L*E.lineHeight+(L-1)*o.footerSpacing);let l=0;const i=function(f){t=Math.max(t,_.measureText(f).width+l)};return _.save(),_.font=h.string,Oa(s.title,i),_.font=e.string,Oa(s.beforeBody.concat(s.afterBody),i),l=o.displayColors?k+2+o.boxPadding:0,Oa(V,f=>{Oa(f.before,i),Oa(f.lines,i),Oa(f.after,i)}),l=0,_.font=E.string,Oa(s.footer,i),_.restore(),t+=p.width,{width:t,height:m}}function Wk(s,o){const{y:_,height:V}=o;return _<V/2?"top":_>s.height-V/2?"bottom":"center"}function Gk(s,o,_,V){const{x:K,width:le}=V,k=_.caretSize+_.caretPadding;if(s==="left"&&K+le+k>o.width||s==="right"&&K-le-k<0)return!0}function Yk(s,o,_,V){const{x:K,width:le}=_,{width:k,chartArea:{left:F,right:e}}=s;let h="center";return V==="center"?h=K<=(F+e)/2?"left":"right":K<=le/2?h="left":K>=k-le/2&&(h="right"),Gk(h,s,o,_)&&(h="center"),h}function V5(s,o,_){const V=_.yAlign||o.yAlign||Wk(s,_);return{xAlign:_.xAlign||o.xAlign||Yk(s,o,_,V),yAlign:V}}function Zk(s,o){let{x:_,width:V}=s;return o==="right"?_-=V:o==="center"&&(_-=V/2),_}function jk(s,o,_){let{y:V,height:K}=s;return o==="top"?V+=_:o==="bottom"?V-=K+_:V-=K/2,V}function W5(s,o,_,V){const{caretSize:K,caretPadding:le,cornerRadius:k}=s,{xAlign:F,yAlign:e}=_,h=K+le,{topLeft:E,topRight:n,bottomLeft:L,bottomRight:w}=Cv(k);let p=Zk(o,F);const m=jk(o,e,h);return e==="center"?F==="left"?p+=h:F==="right"&&(p-=h):F==="left"?p-=Math.max(E,L)+K:F==="right"&&(p+=Math.max(n,w)+K),{x:Ku(p,0,V.width-o.width),y:Ku(m,0,V.height-o.height)}}function ty(s,o,_){const V=Qo(_.padding);return o==="center"?s.x+s.width/2:o==="right"?s.x+s.width-V.right:s.x+V.left}function G5(s){return Mf([],fc(s))}function Xk(s,o,_){return zh(s,{tooltip:o,tooltipItems:_,type:"tooltip"})}function Y5(s,o){const _=o&&o.dataset&&o.dataset.tooltip&&o.dataset.tooltip.callbacks;return _?s.override(_):s}const ZS={beforeTitle:lc,title(s){if(s.length>0){const o=s[0],_=o.chart.data.labels,V=_?_.length:0;if(this&&this.options&&this.options.mode==="dataset")return o.dataset.label||"";if(o.label)return o.label;if(V>0&&o.dataIndex<V)return _[o.dataIndex]}return""},afterTitle:lc,beforeBody:lc,beforeLabel:lc,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let o=s.dataset.label||"";o&&(o+=": ");const _=s.formattedValue;return oo(_)||(o+=_),o},labelColor(s){const _=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:_.borderColor,backgroundColor:_.backgroundColor,borderWidth:_.borderWidth,borderDash:_.borderDash,borderDashOffset:_.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const _=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:_.pointStyle,rotation:_.rotation}},afterLabel:lc,afterBody:lc,beforeFooter:lc,footer:lc,afterFooter:lc};function pl(s,o,_,V){const K=s[o].call(_,V);return typeof K>"u"?ZS[o].call(_,V):K}class w2 extends bu{constructor(o){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=o.chart,this.options=o.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(o){this.options=o,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const o=this._cachedAnimations;if(o)return o;const _=this.chart,V=this.options.setContext(this.getContext()),K=V.enabled&&_.options.animation&&V.animations,le=new jb(this.chart,K);return K._cacheable&&(this._cachedAnimations=Object.freeze(le)),le}getContext(){return this.$context||(this.$context=Xk(this.chart.getContext(),this,this._tooltipItems))}getTitle(o,_){const{callbacks:V}=_,K=pl(V,"beforeTitle",this,o),le=pl(V,"title",this,o),k=pl(V,"afterTitle",this,o);let F=[];return F=Mf(F,fc(K)),F=Mf(F,fc(le)),F=Mf(F,fc(k)),F}getBeforeBody(o,_){return G5(pl(_.callbacks,"beforeBody",this,o))}getBody(o,_){const{callbacks:V}=_,K=[];return Oa(o,le=>{const k={before:[],lines:[],after:[]},F=Y5(V,le);Mf(k.before,fc(pl(F,"beforeLabel",this,le))),Mf(k.lines,pl(F,"label",this,le)),Mf(k.after,fc(pl(F,"afterLabel",this,le))),K.push(k)}),K}getAfterBody(o,_){return G5(pl(_.callbacks,"afterBody",this,o))}getFooter(o,_){const{callbacks:V}=_,K=pl(V,"beforeFooter",this,o),le=pl(V,"footer",this,o),k=pl(V,"afterFooter",this,o);let F=[];return F=Mf(F,fc(K)),F=Mf(F,fc(le)),F=Mf(F,fc(k)),F}_createItems(o){const _=this._active,V=this.chart.data,K=[],le=[],k=[];let F=[],e,h;for(e=0,h=_.length;e<h;++e)F.push(Vk(this.chart,_[e]));return o.filter&&(F=F.filter((E,n,L)=>o.filter(E,n,L,V))),o.itemSort&&(F=F.sort((E,n)=>o.itemSort(E,n,V))),Oa(F,E=>{const n=Y5(o.callbacks,E);K.push(pl(n,"labelColor",this,E)),le.push(pl(n,"labelPointStyle",this,E)),k.push(pl(n,"labelTextColor",this,E))}),this.labelColors=K,this.labelPointStyles=le,this.labelTextColors=k,this.dataPoints=F,F}update(o,_){const V=this.options.setContext(this.getContext()),K=this._active;let le,k=[];if(!K.length)this.opacity!==0&&(le={opacity:0});else{const F=Kp[V.position].call(this,K,this._eventPosition);k=this._createItems(V),this.title=this.getTitle(k,V),this.beforeBody=this.getBeforeBody(k,V),this.body=this.getBody(k,V),this.afterBody=this.getAfterBody(k,V),this.footer=this.getFooter(k,V);const e=this._size=H5(this,V),h=Object.assign({},F,e),E=V5(this.chart,V,h),n=W5(V,h,E,this.chart);this.xAlign=E.xAlign,this.yAlign=E.yAlign,le={opacity:1,x:n.x,y:n.y,width:e.width,height:e.height,caretX:F.x,caretY:F.y}}this._tooltipItems=k,this.$context=void 0,le&&this._resolveAnimations().update(this,le),o&&V.external&&V.external.call(this,{chart:this.chart,tooltip:this,replay:_})}drawCaret(o,_,V,K){const le=this.getCaretPosition(o,V,K);_.lineTo(le.x1,le.y1),_.lineTo(le.x2,le.y2),_.lineTo(le.x3,le.y3)}getCaretPosition(o,_,V){const{xAlign:K,yAlign:le}=this,{caretSize:k,cornerRadius:F}=V,{topLeft:e,topRight:h,bottomLeft:E,bottomRight:n}=Cv(F),{x:L,y:w}=o,{width:p,height:m}=_;let t,r,l,i,f,v;return le==="center"?(f=w+m/2,K==="left"?(t=L,r=t-k,i=f+k,v=f-k):(t=L+p,r=t+k,i=f-k,v=f+k),l=t):(K==="left"?r=L+Math.max(e,E)+k:K==="right"?r=L+p-Math.max(h,n)-k:r=this.caretX,le==="top"?(i=w,f=i-k,t=r-k,l=r+k):(i=w+m,f=i+k,t=r+k,l=r-k),v=i),{x1:t,x2:r,x3:l,y1:i,y2:f,y3:v}}drawTitle(o,_,V){const K=this.title,le=K.length;let k,F,e;if(le){const h=kd(V.rtl,this.x,this.width);for(o.x=ty(this,V.titleAlign,V),_.textAlign=h.textAlign(V.titleAlign),_.textBaseline="middle",k=_o(V.titleFont),F=V.titleSpacing,_.fillStyle=V.titleColor,_.font=k.string,e=0;e<le;++e)_.fillText(K[e],h.x(o.x),o.y+k.lineHeight/2),o.y+=k.lineHeight+F,e+1===le&&(o.y+=V.titleMarginBottom-F)}}_drawColorBox(o,_,V,K,le){const k=this.labelColors[V],F=this.labelPointStyles[V],{boxHeight:e,boxWidth:h}=le,E=_o(le.bodyFont),n=ty(this,"left",le),L=K.x(n),w=e<E.lineHeight?(E.lineHeight-e)/2:0,p=_.y+w;if(le.usePointStyle){const m={radius:Math.min(h,e)/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:1},t=K.leftForLtr(L,h)+h/2,r=p+e/2;o.strokeStyle=le.multiKeyBackground,o.fillStyle=le.multiKeyBackground,y2(o,m,t,r),o.strokeStyle=k.borderColor,o.fillStyle=k.backgroundColor,y2(o,m,t,r)}else{o.lineWidth=pa(k.borderWidth)?Math.max(...Object.values(k.borderWidth)):k.borderWidth||1,o.strokeStyle=k.borderColor,o.setLineDash(k.borderDash||[]),o.lineDashOffset=k.borderDashOffset||0;const m=K.leftForLtr(L,h),t=K.leftForLtr(K.xPlus(L,1),h-2),r=Cv(k.borderRadius);Object.values(r).some(l=>l!==0)?(o.beginPath(),o.fillStyle=le.multiKeyBackground,k0(o,{x:m,y:p,w:h,h:e,radius:r}),o.fill(),o.stroke(),o.fillStyle=k.backgroundColor,o.beginPath(),k0(o,{x:t,y:p+1,w:h-2,h:e-2,radius:r}),o.fill()):(o.fillStyle=le.multiKeyBackground,o.fillRect(m,p,h,e),o.strokeRect(m,p,h,e),o.fillStyle=k.backgroundColor,o.fillRect(t,p+1,h-2,e-2))}o.fillStyle=this.labelTextColors[V]}drawBody(o,_,V){const{body:K}=this,{bodySpacing:le,bodyAlign:k,displayColors:F,boxHeight:e,boxWidth:h,boxPadding:E}=V,n=_o(V.bodyFont);let L=n.lineHeight,w=0;const p=kd(V.rtl,this.x,this.width),m=function(d){_.fillText(d,p.x(o.x+w),o.y+L/2),o.y+=L+le},t=p.textAlign(k);let r,l,i,f,v,c,x;for(_.textAlign=k,_.textBaseline="middle",_.font=n.string,o.x=ty(this,t,V),_.fillStyle=V.bodyColor,Oa(this.beforeBody,m),w=F&&t!=="right"?k==="center"?h/2+E:h+2+E:0,f=0,c=K.length;f<c;++f){for(r=K[f],l=this.labelTextColors[f],_.fillStyle=l,Oa(r.before,m),i=r.lines,F&&i.length&&(this._drawColorBox(_,o,f,p,V),L=Math.max(n.lineHeight,e)),v=0,x=i.length;v<x;++v)m(i[v]),L=n.lineHeight;Oa(r.after,m)}w=0,L=n.lineHeight,Oa(this.afterBody,m),o.y-=le}drawFooter(o,_,V){const K=this.footer,le=K.length;let k,F;if(le){const e=kd(V.rtl,this.x,this.width);for(o.x=ty(this,V.footerAlign,V),o.y+=V.footerMarginTop,_.textAlign=e.textAlign(V.footerAlign),_.textBaseline="middle",k=_o(V.footerFont),_.fillStyle=V.footerColor,_.font=k.string,F=0;F<le;++F)_.fillText(K[F],e.x(o.x),o.y+k.lineHeight/2),o.y+=k.lineHeight+V.footerSpacing}}drawBackground(o,_,V,K){const{xAlign:le,yAlign:k}=this,{x:F,y:e}=o,{width:h,height:E}=V,{topLeft:n,topRight:L,bottomLeft:w,bottomRight:p}=Cv(K.cornerRadius);_.fillStyle=K.backgroundColor,_.strokeStyle=K.borderColor,_.lineWidth=K.borderWidth,_.beginPath(),_.moveTo(F+n,e),k==="top"&&this.drawCaret(o,_,V,K),_.lineTo(F+h-L,e),_.quadraticCurveTo(F+h,e,F+h,e+L),k==="center"&&le==="right"&&this.drawCaret(o,_,V,K),_.lineTo(F+h,e+E-p),_.quadraticCurveTo(F+h,e+E,F+h-p,e+E),k==="bottom"&&this.drawCaret(o,_,V,K),_.lineTo(F+w,e+E),_.quadraticCurveTo(F,e+E,F,e+E-w),k==="center"&&le==="left"&&this.drawCaret(o,_,V,K),_.lineTo(F,e+n),_.quadraticCurveTo(F,e,F+n,e),_.closePath(),_.fill(),K.borderWidth>0&&_.stroke()}_updateAnimationTarget(o){const _=this.chart,V=this.$animations,K=V&&V.x,le=V&&V.y;if(K||le){const k=Kp[o.position].call(this,this._active,this._eventPosition);if(!k)return;const F=this._size=H5(this,o),e=Object.assign({},k,this._size),h=V5(_,o,e),E=W5(o,e,h,_);(K._to!==E.x||le._to!==E.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=F.width,this.height=F.height,this.caretX=k.x,this.caretY=k.y,this._resolveAnimations().update(this,E))}}_willRender(){return!!this.opacity}draw(o){const _=this.options.setContext(this.getContext());let V=this.opacity;if(!V)return;this._updateAnimationTarget(_);const K={width:this.width,height:this.height},le={x:this.x,y:this.y};V=Math.abs(V)<.001?0:V;const k=Qo(_.padding),F=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;_.enabled&&F&&(o.save(),o.globalAlpha=V,this.drawBackground(le,o,K,_),RS(o,_.textDirection),le.y+=k.top,this.drawTitle(le,o,_),this.drawBody(le,o,_),this.drawFooter(le,o,_),DS(o,_.textDirection),o.restore())}getActiveElements(){return this._active||[]}setActiveElements(o,_){const V=this._active,K=o.map(({datasetIndex:F,index:e})=>{const h=this.chart.getDatasetMeta(F);if(!h)throw new Error("Cannot find a dataset at index "+F);return{datasetIndex:F,element:h.data[e],index:e}}),le=!tm(V,K),k=this._positionChanged(K,_);(le||k)&&(this._active=K,this._eventPosition=_,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(o,_,V=!0){if(_&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const K=this.options,le=this._active||[],k=this._getActiveElements(o,le,_,V),F=this._positionChanged(k,o),e=_||!tm(k,le)||F;return e&&(this._active=k,(K.enabled||K.external)&&(this._eventPosition={x:o.x,y:o.y},this.update(!0,_))),e}_getActiveElements(o,_,V,K){const le=this.options;if(o.type==="mouseout")return[];if(!K)return _;const k=this.chart.getElementsAtEventForMode(o,le.mode,le,V);return le.reverse&&k.reverse(),k}_positionChanged(o,_){const{caretX:V,caretY:K,options:le}=this,k=Kp[le.position].call(this,o,_);return k!==!1&&(V!==k.x||K!==k.y)}}Ji(w2,"positioners",Kp);var Kk={id:"tooltip",_element:w2,positioners:Kp,afterInit(s,o,_){_&&(s.tooltip=new w2({chart:s,options:_}))},beforeUpdate(s,o,_){s.tooltip&&s.tooltip.initialize(_)},reset(s,o,_){s.tooltip&&s.tooltip.initialize(_)},afterDraw(s){const o=s.tooltip;if(o&&o._willRender()){const _={tooltip:o};if(s.notifyPlugins("beforeTooltipDraw",{..._,cancelable:!0})===!1)return;o.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",_)}},afterEvent(s,o){if(s.tooltip){const _=o.replay;s.tooltip.handleEvent(o.event,_,o.inChartArea)&&(o.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,o)=>o.bodyFont.size,boxWidth:(s,o)=>o.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ZS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Jk(s,o){const _=[],{bounds:K,step:le,min:k,max:F,precision:e,count:h,maxTicks:E,maxDigits:n,includeBounds:L}=s,w=le||1,p=E-1,{min:m,max:t}=o,r=!oo(k),l=!oo(F),i=!oo(h),f=(t-m)/(n+1);let v=QT((t-m)/p/w)*w,c,x,d,M;if(v<1e-14&&!r&&!l)return[{value:m},{value:t}];M=Math.ceil(t/v)-Math.floor(m/v),M>p&&(v=QT(M*v/p/w)*w),oo(e)||(c=Math.pow(10,e),v=Math.ceil(v*c)/c),K==="ticks"?(x=Math.floor(m/v)*v,d=Math.ceil(t/v)*v):(x=m,d=t),r&&l&&le&&WR((F-k)/le,v/1e3)?(M=Math.round(Math.min((F-k)/v,E)),v=(F-k)/M,x=k,d=F):i?(x=r?k:x,d=l?F:d,M=h-1,v=(d-x)/M):(M=(d-x)/v,s0(M,Math.round(M),v/1e3)?M=Math.round(M):M=Math.ceil(M));const g=Math.max($T(v),$T(x));c=Math.pow(10,oo(e)?g:e),x=Math.round(x*c)/c,d=Math.round(d*c)/c;let u=0;for(r&&(L&&x!==k?(_.push({value:k}),x<k&&u++,s0(Math.round((x+u*v)*c)/c,k,Z5(k,f,s))&&u++):x<k&&u++);u<M;++u){const y=Math.round((x+u*v)*c)/c;if(l&&y>F)break;_.push({value:y})}return l&&L&&d!==F?_.length&&s0(_[_.length-1].value,F,Z5(F,f,s))?_[_.length-1].value=F:_.push({value:F}):(!l||d===F)&&_.push({value:d}),_}function Z5(s,o,{horizontal:_,minRotation:V}){const K=xs(V),le=(_?Math.sin(K):Math.cos(K))||.001,k=.75*o*(""+s).length;return Math.min(o/le,k)}class um extends ep{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(o,_){return oo(o)||(typeof o=="number"||o instanceof Number)&&!isFinite(+o)?null:+o}handleTickRangeOptions(){const{beginAtZero:o}=this.options,{minDefined:_,maxDefined:V}=this.getUserBounds();let{min:K,max:le}=this;const k=e=>K=_?K:e,F=e=>le=V?le:e;if(o){const e=Vd(K),h=Vd(le);e<0&&h<0?F(0):e>0&&h>0&&k(0)}if(K===le){let e=le===0?1:Math.abs(le*.05);F(le+e),o||k(K-e)}this.min=K,this.max=le}getTickLimit(){const o=this.options.ticks;let{maxTicksLimit:_,stepSize:V}=o,K;return V?(K=Math.ceil(this.max/V)-Math.floor(this.min/V)+1,K>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${V} would result generating up to ${K} ticks. Limiting to 1000.`),K=1e3)):(K=this.computeTickLimit(),_=_||11),_&&(K=Math.min(_,K)),K}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const o=this.options,_=o.ticks;let V=this.getTickLimit();V=Math.max(2,V);const K={maxTicks:V,bounds:o.bounds,min:o.min,max:o.max,precision:_.precision,step:_.stepSize,count:_.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:_.minRotation||0,includeBounds:_.includeBounds!==!1},le=this._range||this,k=Jk(K,le);return o.bounds==="ticks"&&pS(k,this,"value"),o.reverse?(k.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),k}configure(){const o=this.ticks;let _=this.min,V=this.max;if(super.configure(),this.options.offset&&o.length){const K=(V-_)/Math.max(o.length-1,1)/2;_-=K,V+=K}this._startValue=_,this._endValue=V,this._valueRange=V-_}getLabelForValue(o){return Vb(o,this.chart.options.locale,this.options.ticks.format)}}class T2 extends um{determineDataLimits(){const{min:o,max:_}=this.getMinMax(!0);this.min=Ho(o)?o:0,this.max=Ho(_)?_:1,this.handleTickRangeOptions()}computeTickLimit(){const o=this.isHorizontal(),_=o?this.width:this.height,V=xs(this.options.ticks.minRotation),K=(o?Math.sin(V):Math.cos(V))||.001,le=this._resolveTickFontOptions(0);return Math.ceil(_/Math.min(40,le.lineHeight/K))}getPixelForValue(o){return o===null?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getValueForPixel(o){return this._startValue+this.getDecimalForPixel(o)*this._valueRange}}Ji(T2,"id","linear"),Ji(T2,"defaults",{ticks:{callback:Om.formatters.numeric}});const F0=s=>Math.floor(dh(s)),pv=(s,o)=>Math.pow(10,F0(s)+o);function j5(s){return s/Math.pow(10,F0(s))===1}function X5(s,o,_){const V=Math.pow(10,_),K=Math.floor(s/V);return Math.ceil(o/V)-K}function Qk(s,o){const _=o-s;let V=F0(_);for(;X5(s,o,V)>10;)V++;for(;X5(s,o,V)<10;)V--;return Math.min(V,F0(s))}function $k(s,{min:o,max:_}){o=Nl(s.min,o);const V=[],K=F0(o);let le=Qk(o,_),k=le<0?Math.pow(10,Math.abs(le)):1;const F=Math.pow(10,le),e=K>le?Math.pow(10,K):0,h=Math.round((o-e)*k)/k,E=Math.floor((o-e)/F/10)*F*10;let n=Math.floor((h-E)/Math.pow(10,le)),L=Nl(s.min,Math.round((e+E+n*Math.pow(10,le))*k)/k);for(;L<_;)V.push({value:L,major:j5(L),significand:n}),n>=10?n=n<15?15:20:n++,n>=20&&(le++,n=2,k=le>=0?1:k),L=Math.round((e+E+n*Math.pow(10,le))*k)/k;const w=Nl(s.max,L);return V.push({value:w,major:j5(w),significand:n}),V}class K5 extends ep{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(o,_){const V=um.prototype.parse.apply(this,[o,_]);if(V===0){this._zero=!0;return}return Ho(V)&&V>0?V:null}determineDataLimits(){const{min:o,max:_}=this.getMinMax(!0);this.min=Ho(o)?Math.max(0,o):null,this.max=Ho(_)?Math.max(0,_):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ho(this._userMin)&&(this.min=o===pv(this.min,0)?pv(this.min,-1):pv(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:o,maxDefined:_}=this.getUserBounds();let V=this.min,K=this.max;const le=F=>V=o?V:F,k=F=>K=_?K:F;V===K&&(V<=0?(le(1),k(10)):(le(pv(V,-1)),k(pv(K,1)))),V<=0&&le(pv(K,-1)),K<=0&&k(pv(V,1)),this.min=V,this.max=K}buildTicks(){const o=this.options,_={min:this._userMin,max:this._userMax},V=$k(_,this);return o.bounds==="ticks"&&pS(V,this,"value"),o.reverse?(V.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),V}getLabelForValue(o){return o===void 0?"0":Vb(o,this.chart.options.locale,this.options.ticks.format)}configure(){const o=this.min;super.configure(),this._startValue=dh(o),this._valueRange=dh(this.max)-dh(o)}getPixelForValue(o){return(o===void 0||o===0)&&(o=this.min),o===null||isNaN(o)?NaN:this.getPixelForDecimal(o===this.min?0:(dh(o)-this._startValue)/this._valueRange)}getValueForPixel(o){const _=this.getDecimalForPixel(o);return Math.pow(10,this._startValue+_*this._valueRange)}}Ji(K5,"id","logarithmic"),Ji(K5,"defaults",{ticks:{callback:Om.formatters.logarithmic,major:{enabled:!0}}});function A2(s){const o=s.ticks;if(o.display&&s.display){const _=Qo(o.backdropPadding);return ua(o.font&&o.font.size,yo.font.size)+_.height}return 0}function qk(s,o,_){return _=Ba(_)?_:[_],{w:fD(s,o.string,_),h:_.length*o.lineHeight}}function J5(s,o,_,V,K){return s===V||s===K?{start:o-_/2,end:o+_/2}:s<V||s>K?{start:o-_,end:o}:{start:o,end:o+_}}function eI(s){const o={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},_=Object.assign({},o),V=[],K=[],le=s._pointLabels.length,k=s.options.pointLabels,F=k.centerPointLabels?Na/le:0;for(let e=0;e<le;e++){const h=k.setContext(s.getPointLabelContext(e));K[e]=h.padding;const E=s.getPointPosition(e,s.drawingArea+K[e],F),n=_o(h.font),L=qk(s.ctx,n,s._pointLabels[e]);V[e]=L;const w=ju(s.getIndexAngle(e)+F),p=Math.round(zm(w)),m=J5(p,E.x,L.w,0,180),t=J5(p,E.y,L.h,90,270);tI(_,o,w,m,t)}s.setCenterPoint(o.l-_.l,_.r-o.r,o.t-_.t,_.b-o.b),s._pointLabelItems=iI(s,V,K)}function tI(s,o,_,V,K){const le=Math.abs(Math.sin(_)),k=Math.abs(Math.cos(_));let F=0,e=0;V.start<o.l?(F=(o.l-V.start)/le,s.l=Math.min(s.l,o.l-F)):V.end>o.r&&(F=(V.end-o.r)/le,s.r=Math.max(s.r,o.r+F)),K.start<o.t?(e=(o.t-K.start)/k,s.t=Math.min(s.t,o.t-e)):K.end>o.b&&(e=(K.end-o.b)/k,s.b=Math.max(s.b,o.b+e))}function rI(s,o,_){const V=s.drawingArea,{extra:K,additionalAngle:le,padding:k,size:F}=_,e=s.getPointPosition(o,V+K+k,le),h=Math.round(zm(ju(e.angle+ms))),E=sI(e.y,F.h,h),n=aI(h),L=oI(e.x,F.w,n);return{visible:!0,x:e.x,y:E,textAlign:n,left:L,top:E,right:L+F.w,bottom:E+F.h}}function nI(s,o){if(!o)return!0;const{left:_,top:V,right:K,bottom:le}=s;return!(gc({x:_,y:V},o)||gc({x:_,y:le},o)||gc({x:K,y:V},o)||gc({x:K,y:le},o))}function iI(s,o,_){const V=[],K=s._pointLabels.length,le=s.options,{centerPointLabels:k,display:F}=le.pointLabels,e={extra:A2(le)/2,additionalAngle:k?Na/K:0};let h;for(let E=0;E<K;E++){e.padding=_[E],e.size=o[E];const n=rI(s,E,e);V.push(n),F==="auto"&&(n.visible=nI(n,h),n.visible&&(h=n))}return V}function aI(s){return s===0||s===180?"center":s<180?"left":"right"}function oI(s,o,_){return _==="right"?s-=o:_==="center"&&(s-=o/2),s}function sI(s,o,_){return _===90||_===270?s-=o/2:(_>270||_<90)&&(s-=o),s}function lI(s,o,_){const{left:V,top:K,right:le,bottom:k}=_,{backdropColor:F}=o;if(!oo(F)){const e=Cv(o.borderRadius),h=Qo(o.backdropPadding);s.fillStyle=F;const E=V-h.left,n=K-h.top,L=le-V+h.width,w=k-K+h.height;Object.values(e).some(p=>p!==0)?(s.beginPath(),k0(s,{x:E,y:n,w:L,h:w,radius:e}),s.fill()):s.fillRect(E,n,L,w)}}function uI(s,o){const{ctx:_,options:{pointLabels:V}}=s;for(let K=o-1;K>=0;K--){const le=s._pointLabelItems[K];if(!le.visible)continue;const k=V.setContext(s.getPointLabelContext(K));lI(_,k,le);const F=_o(k.font),{x:e,y:h,textAlign:E}=le;Gd(_,s._pointLabels[K],e,h+F.lineHeight/2,F,{color:k.color,textAlign:E,textBaseline:"middle"})}}function jS(s,o,_,V){const{ctx:K}=s;if(_)K.arc(s.xCenter,s.yCenter,o,0,Wl);else{let le=s.getPointPosition(0,o);K.moveTo(le.x,le.y);for(let k=1;k<V;k++)le=s.getPointPosition(k,o),K.lineTo(le.x,le.y)}}function fI(s,o,_,V,K){const le=s.ctx,k=o.circular,{color:F,lineWidth:e}=o;!k&&!V||!F||!e||_<0||(le.save(),le.strokeStyle=F,le.lineWidth=e,le.setLineDash(K.dash),le.lineDashOffset=K.dashOffset,le.beginPath(),jS(s,_,k,V),le.closePath(),le.stroke(),le.restore())}function cI(s,o,_){return zh(s,{label:_,index:o,type:"pointLabel"})}class ry extends um{constructor(o){super(o),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const o=this._padding=Qo(A2(this.options)/2),_=this.width=this.maxWidth-o.width,V=this.height=this.maxHeight-o.height;this.xCenter=Math.floor(this.left+_/2+o.left),this.yCenter=Math.floor(this.top+V/2+o.top),this.drawingArea=Math.floor(Math.min(_,V)/2)}determineDataLimits(){const{min:o,max:_}=this.getMinMax(!1);this.min=Ho(o)&&!isNaN(o)?o:0,this.max=Ho(_)&&!isNaN(_)?_:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/A2(this.options))}generateTickLabels(o){um.prototype.generateTickLabels.call(this,o),this._pointLabels=this.getLabels().map((_,V)=>{const K=za(this.options.pointLabels.callback,[_,V],this);return K||K===0?K:""}).filter((_,V)=>this.chart.getDataVisibility(V))}fit(){const o=this.options;o.display&&o.pointLabels.display?eI(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(o,_,V,K){this.xCenter+=Math.floor((o-_)/2),this.yCenter+=Math.floor((V-K)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(o,_,V,K))}getIndexAngle(o){const _=Wl/(this._pointLabels.length||1),V=this.options.startAngle||0;return ju(o*_+xs(V))}getDistanceFromCenterForValue(o){if(oo(o))return NaN;const _=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-o)*_:(o-this.min)*_}getValueForDistanceFromCenter(o){if(oo(o))return NaN;const _=o/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-_:this.min+_}getPointLabelContext(o){const _=this._pointLabels||[];if(o>=0&&o<_.length){const V=_[o];return cI(this.getContext(),o,V)}}getPointPosition(o,_,V=0){const K=this.getIndexAngle(o)-ms+V;return{x:Math.cos(K)*_+this.xCenter,y:Math.sin(K)*_+this.yCenter,angle:K}}getPointPositionForValue(o,_){return this.getPointPosition(o,this.getDistanceFromCenterForValue(_))}getBasePosition(o){return this.getPointPositionForValue(o||0,this.getBaseValue())}getPointLabelPosition(o){const{left:_,top:V,right:K,bottom:le}=this._pointLabelItems[o];return{left:_,top:V,right:K,bottom:le}}drawBackground(){const{backgroundColor:o,grid:{circular:_}}=this.options;if(o){const V=this.ctx;V.save(),V.beginPath(),jS(this,this.getDistanceFromCenterForValue(this._endValue),_,this._pointLabels.length),V.closePath(),V.fillStyle=o,V.fill(),V.restore()}}drawGrid(){const o=this.ctx,_=this.options,{angleLines:V,grid:K,border:le}=_,k=this._pointLabels.length;let F,e,h;if(_.pointLabels.display&&uI(this,k),K.display&&this.ticks.forEach((E,n)=>{if(n!==0){e=this.getDistanceFromCenterForValue(E.value);const L=this.getContext(n),w=K.setContext(L),p=le.setContext(L);fI(this,w,e,k,p)}}),V.display){for(o.save(),F=k-1;F>=0;F--){const E=V.setContext(this.getPointLabelContext(F)),{color:n,lineWidth:L}=E;!L||!n||(o.lineWidth=L,o.strokeStyle=n,o.setLineDash(E.borderDash),o.lineDashOffset=E.borderDashOffset,e=this.getDistanceFromCenterForValue(_.ticks.reverse?this.min:this.max),h=this.getPointPosition(F,e),o.beginPath(),o.moveTo(this.xCenter,this.yCenter),o.lineTo(h.x,h.y),o.stroke())}o.restore()}}drawBorder(){}drawLabels(){const o=this.ctx,_=this.options,V=_.ticks;if(!V.display)return;const K=this.getIndexAngle(0);let le,k;o.save(),o.translate(this.xCenter,this.yCenter),o.rotate(K),o.textAlign="center",o.textBaseline="middle",this.ticks.forEach((F,e)=>{if(e===0&&!_.reverse)return;const h=V.setContext(this.getContext(e)),E=_o(h.font);if(le=this.getDistanceFromCenterForValue(this.ticks[e].value),h.showLabelBackdrop){o.font=E.string,k=o.measureText(F.label).width,o.fillStyle=h.backdropColor;const n=Qo(h.backdropPadding);o.fillRect(-k/2-n.left,-le-E.size/2-n.top,k+n.width,E.size+n.height)}Gd(o,F.label,0,-le,E,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),o.restore()}drawTitle(){}}Ji(ry,"id","radialLinear"),Ji(ry,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Om.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(o){return o},padding:5,centerPointLabels:!1}}),Ji(ry,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ji(ry,"descriptors",{angleLines:{_fallback:"grid"}});const Hm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ml=Object.keys(Hm);function Q5(s,o){return s-o}function $5(s,o){if(oo(o))return null;const _=s._adapter,{parser:V,round:K,isoWeekday:le}=s._parseOpts;let k=o;return typeof V=="function"&&(k=V(k)),Ho(k)||(k=typeof V=="string"?_.parse(k,V):_.parse(k)),k===null?null:(K&&(k=K==="week"&&(Iv(le)||le===!0)?_.startOf(k,"isoWeek",le):_.startOf(k,K)),+k)}function q5(s,o,_,V){const K=ml.length;for(let le=ml.indexOf(s);le<K-1;++le){const k=Hm[ml[le]],F=k.steps?k.steps:Number.MAX_SAFE_INTEGER;if(k.common&&Math.ceil((_-o)/(F*k.size))<=V)return ml[le]}return ml[K-1]}function hI(s,o,_,V,K){for(let le=ml.length-1;le>=ml.indexOf(_);le--){const k=ml[le];if(Hm[k].common&&s._adapter.diff(K,V,k)>=o-1)return k}return ml[_?ml.indexOf(_):0]}function vI(s){for(let o=ml.indexOf(s)+1,_=ml.length;o<_;++o)if(Hm[ml[o]].common)return ml[o]}function eA(s,o,_){if(!_)s[o]=!0;else if(_.length){const{lo:V,hi:K}=Ub(_,o),le=_[V]>=o?_[V]:_[K];s[le]=!0}}function dI(s,o,_,V){const K=s._adapter,le=+K.startOf(o[0].value,V),k=o[o.length-1].value;let F,e;for(F=le;F<=k;F=+K.add(F,1,V))e=_[F],e>=0&&(o[e].major=!0);return o}function tA(s,o,_){const V=[],K={},le=o.length;let k,F;for(k=0;k<le;++k)F=o[k],K[F]=k,V.push({value:F,major:!1});return le===0||!_?V:dI(s,V,K,_)}class fm extends ep{constructor(o){super(o),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(o,_={}){const V=o.time||(o.time={}),K=this._adapter=new y_._date(o.adapters.date);K.init(_),o0(V.displayFormats,K.formats()),this._parseOpts={parser:V.parser,round:V.round,isoWeekday:V.isoWeekday},super.init(o),this._normalized=_.normalized}parse(o,_){return o===void 0?null:$5(this,o)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const o=this.options,_=this._adapter,V=o.time.unit||"day";let{min:K,max:le,minDefined:k,maxDefined:F}=this.getUserBounds();function e(h){!k&&!isNaN(h.min)&&(K=Math.min(K,h.min)),!F&&!isNaN(h.max)&&(le=Math.max(le,h.max))}(!k||!F)&&(e(this._getLabelBounds()),(o.bounds!=="ticks"||o.ticks.source!=="labels")&&e(this.getMinMax(!1))),K=Ho(K)&&!isNaN(K)?K:+_.startOf(Date.now(),V),le=Ho(le)&&!isNaN(le)?le:+_.endOf(Date.now(),V)+1,this.min=Math.min(K,le-1),this.max=Math.max(K+1,le)}_getLabelBounds(){const o=this.getLabelTimestamps();let _=Number.POSITIVE_INFINITY,V=Number.NEGATIVE_INFINITY;return o.length&&(_=o[0],V=o[o.length-1]),{min:_,max:V}}buildTicks(){const o=this.options,_=o.time,V=o.ticks,K=V.source==="labels"?this.getLabelTimestamps():this._generate();o.bounds==="ticks"&&K.length&&(this.min=this._userMin||K[0],this.max=this._userMax||K[K.length-1]);const le=this.min,k=this.max,F=XR(K,le,k);return this._unit=_.unit||(V.autoSkip?q5(_.minUnit,this.min,this.max,this._getLabelCapacity(le)):hI(this,F.length,_.minUnit,this.min,this.max)),this._majorUnit=!V.major.enabled||this._unit==="year"?void 0:vI(this._unit),this.initOffsets(K),o.reverse&&F.reverse(),tA(this,F,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(o=>+o.value))}initOffsets(o=[]){let _=0,V=0,K,le;this.options.offset&&o.length&&(K=this.getDecimalForValue(o[0]),o.length===1?_=1-K:_=(this.getDecimalForValue(o[1])-K)/2,le=this.getDecimalForValue(o[o.length-1]),o.length===1?V=le:V=(le-this.getDecimalForValue(o[o.length-2]))/2);const k=o.length<3?.5:.25;_=Ku(_,0,k),V=Ku(V,0,k),this._offsets={start:_,end:V,factor:1/(_+1+V)}}_generate(){const o=this._adapter,_=this.min,V=this.max,K=this.options,le=K.time,k=le.unit||q5(le.minUnit,_,V,this._getLabelCapacity(_)),F=ua(K.ticks.stepSize,1),e=k==="week"?le.isoWeekday:!1,h=Iv(e)||e===!0,E={};let n=_,L,w;if(h&&(n=+o.startOf(n,"isoWeek",e)),n=+o.startOf(n,h?"day":k),o.diff(V,_,k)>1e5*F)throw new Error(_+" and "+V+" are too far apart with stepSize of "+F+" "+k);const p=K.ticks.source==="data"&&this.getDataTimestamps();for(L=n,w=0;L<V;L=+o.add(L,F,k),w++)eA(E,L,p);return(L===V||K.bounds==="ticks"||w===1)&&eA(E,L,p),Object.keys(E).sort(Q5).map(m=>+m)}getLabelForValue(o){const _=this._adapter,V=this.options.time;return V.tooltipFormat?_.format(o,V.tooltipFormat):_.format(o,V.displayFormats.datetime)}format(o,_){const K=this.options.time.displayFormats,le=this._unit,k=_||K[le];return this._adapter.format(o,k)}_tickFormatFunction(o,_,V,K){const le=this.options,k=le.ticks.callback;if(k)return za(k,[o,_,V],this);const F=le.time.displayFormats,e=this._unit,h=this._majorUnit,E=e&&F[e],n=h&&F[h],L=V[_],w=h&&n&&L&&L.major;return this._adapter.format(o,K||(w?n:E))}generateTickLabels(o){let _,V,K;for(_=0,V=o.length;_<V;++_)K=o[_],K.label=this._tickFormatFunction(K.value,_,o)}getDecimalForValue(o){return o===null?NaN:(o-this.min)/(this.max-this.min)}getPixelForValue(o){const _=this._offsets,V=this.getDecimalForValue(o);return this.getPixelForDecimal((_.start+V)*_.factor)}getValueForPixel(o){const _=this._offsets,V=this.getDecimalForPixel(o)/_.factor-_.end;return this.min+V*(this.max-this.min)}_getLabelSize(o){const _=this.options.ticks,V=this.ctx.measureText(o).width,K=xs(this.isHorizontal()?_.maxRotation:_.minRotation),le=Math.cos(K),k=Math.sin(K),F=this._resolveTickFontOptions(0).size;return{w:V*le+F*k,h:V*k+F*le}}_getLabelCapacity(o){const _=this.options.time,V=_.displayFormats,K=V[_.unit]||V.millisecond,le=this._tickFormatFunction(o,0,tA(this,[o],this._majorUnit),K),k=this._getLabelSize(le),F=Math.floor(this.isHorizontal()?this.width/k.w:this.height/k.h)-1;return F>0?F:1}getDataTimestamps(){let o=this._cache.data||[],_,V;if(o.length)return o;const K=this.getMatchingVisibleMetas();if(this._normalized&&K.length)return this._cache.data=K[0].controller.getAllParsedValues(this);for(_=0,V=K.length;_<V;++_)o=o.concat(K[_].controller.getAllParsedValues(this));return this._cache.data=this.normalize(o)}getLabelTimestamps(){const o=this._cache.labels||[];let _,V;if(o.length)return o;const K=this.getLabels();for(_=0,V=K.length;_<V;++_)o.push($5(this,K[_]));return this._cache.labels=this._normalized?o:this.normalize(o)}normalize(o){return JR(o.sort(Q5))}}Ji(fm,"id","time"),Ji(fm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ny(s,o,_){let V=0,K=s.length-1,le,k,F,e;_?(o>=s[V].pos&&o<=s[K].pos&&({lo:V,hi:K}=Av(s,"pos",o)),{pos:le,time:F}=s[V],{pos:k,time:e}=s[K]):(o>=s[V].time&&o<=s[K].time&&({lo:V,hi:K}=Av(s,"time",o)),{time:le,pos:F}=s[V],{time:k,pos:e}=s[K]);const h=k-le;return h?F+(e-F)*(o-le)/h:F}class rA extends fm{constructor(o){super(o),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const o=this._getTimestampsForTable(),_=this._table=this.buildLookupTable(o);this._minPos=ny(_,this.min),this._tableRange=ny(_,this.max)-this._minPos,super.initOffsets(o)}buildLookupTable(o){const{min:_,max:V}=this,K=[],le=[];let k,F,e,h,E;for(k=0,F=o.length;k<F;++k)h=o[k],h>=_&&h<=V&&K.push(h);if(K.length<2)return[{time:_,pos:0},{time:V,pos:1}];for(k=0,F=K.length;k<F;++k)E=K[k+1],e=K[k-1],h=K[k],Math.round((E+e)/2)!==h&&le.push({time:h,pos:k/(F-1)});return le}_generate(){const o=this.min,_=this.max;let V=super.getDataTimestamps();return(!V.includes(o)||!V.length)&&V.splice(0,0,o),(!V.includes(_)||V.length===1)&&V.push(_),V.sort((K,le)=>K-le)}_getTimestampsForTable(){let o=this._cache.all||[];if(o.length)return o;const _=this.getDataTimestamps(),V=this.getLabelTimestamps();return _.length&&V.length?o=this.normalize(_.concat(V)):o=_.length?_:V,o=this._cache.all=o,o}getDecimalForValue(o){return(ny(this._table,o)-this._minPos)/this._tableRange}getValueForPixel(o){const _=this._offsets,V=this.getDecimalForPixel(o)/_.factor-_.end;return ny(this._table,V*this._tableRange+this._minPos,!0)}}Ji(rA,"id","timeseries"),Ji(rA,"defaults",fm.defaults);const XS="label";function nA(s,o){typeof s=="function"?s(o):s&&(s.current=o)}function pI(s,o){const _=s.options;_&&o&&Object.assign(_,o)}function KS(s,o){s.labels=o}function JS(s,o){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:XS;const V=[];s.datasets=o.map(K=>{const le=s.datasets.find(k=>k[_]===K[_]);return!le||!K.data||V.includes(le)?{...K}:(V.push(le),Object.assign(le,K),le)})}function gI(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XS;const _={labels:[],datasets:[]};return KS(_,s.labels),JS(_,s.datasets,o),_}function yI(s,o){const{height:_=150,width:V=300,redraw:K=!1,datasetIdKey:le,type:k,data:F,options:e,plugins:h=[],fallbackContent:E,updateMode:n,...L}=s,w=bi.useRef(null),p=bi.useRef(),m=()=>{w.current&&(p.current=new Eh(w.current,{type:k,data:gI(F,le),options:e&&{...e},plugins:h}),nA(o,p.current))},t=()=>{nA(o,null),p.current&&(p.current.destroy(),p.current=null)};return bi.useEffect(()=>{!K&&p.current&&e&&pI(p.current,e)},[K,e]),bi.useEffect(()=>{!K&&p.current&&KS(p.current.config.data,F.labels)},[K,F.labels]),bi.useEffect(()=>{!K&&p.current&&F.datasets&&JS(p.current.config.data,F.datasets,le)},[K,F.datasets]),bi.useEffect(()=>{p.current&&(K?(t(),setTimeout(m)):p.current.update(n))},[K,e,F.labels,F.datasets,n]),bi.useEffect(()=>{p.current&&(t(),setTimeout(m))},[k]),bi.useEffect(()=>(m(),()=>t()),[]),O0.createElement("canvas",Object.assign({ref:w,role:"img",height:_,width:V},L),E)}const mI=bi.forwardRef(yI);function xI(s,o){return Eh.register(o),bi.forwardRef((_,V)=>O0.createElement(mI,Object.assign({},_,{ref:V,type:s})))}const bI=xI("scatter",Ay);/*!
* chartjs-plugin-annotation v3.0.1
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2023 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const iA={modes:{point(s,o){return Cy(s,o,{intersect:!0})},nearest(s,o,_){return AI(s,o,_)},x(s,o,_){return Cy(s,o,{intersect:_.intersect,axis:"x"})},y(s,o,_){return Cy(s,o,{intersect:_.intersect,axis:"y"})}}};function Kb(s,o,_){return(iA.modes[_.mode]||iA.modes.nearest)(s,o,_)}function wI(s,o,_){return _!=="x"&&_!=="y"?s.inRange(o.x,o.y,"x",!0)||s.inRange(o.x,o.y,"y",!0):s.inRange(o.x,o.y,_,!0)}function TI(s,o,_){return _==="x"?{x:s.x,y:o.y}:_==="y"?{x:o.x,y:s.y}:o}function Cy(s,o,_){return s.visibleElements.filter(V=>_.intersect?V.inRange(o.x,o.y):wI(V,o,_.axis))}function AI(s,o,_){let V=Number.POSITIVE_INFINITY;return Cy(s,o,_).reduce((K,le)=>{const k=le.getCenterPoint(),F=TI(o,k,_.axis),e=Wd(o,F);return e<V?(K=[le],V=e):e===V&&K.push(le),K},[]).sort((K,le)=>K._index-le._index).slice(0,1)}const MI=(s,o)=>o>s||s.length>o.length&&s.slice(0,o.length)===o,Mv=.001,Vm=(s,o,_)=>Math.min(_,Math.max(o,s));function SI(s,o,_){for(const V of Object.keys(s))s[V]=Vm(s[V],o,_);return s}function EI(s,o,_,V){if(!s||!o||_<=0)return!1;const K=V/2;return Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2)<=Math.pow(_+K,2)}function QS(s,{x:o,y:_,x2:V,y2:K},le,k){const F=k/2,e=s.x>=o-F-Mv&&s.x<=V+F+Mv,h=s.y>=_-F-Mv&&s.y<=K+F+Mv;return le==="x"?e:(le==="y"||e)&&h}function tp(s,o){const{centerX:_,centerY:V}=s.getProps(["centerX","centerY"],o);return{x:_,y:V}}function CI(s,o,_,V=!0){const K=_.split(".");let le=0;for(const k of o.split(".")){const F=K[le++];if(parseInt(k,10)<parseInt(F,10))break;if(MI(F,k)){if(V)throw new Error(`${s} v${_} is not supported. v${o} or newer is required.`);return!1}}return!0}const $S=s=>typeof s=="string"&&s.endsWith("%"),qS=s=>parseFloat(s)/100,e6=s=>Vm(qS(s),0,1),iy=(s,o)=>({x:s,y:o,x2:s,y2:o,width:0,height:0}),LI={box:s=>iy(s.centerX,s.centerY),ellipse:s=>({centerX:s.centerX,centerY:s.centerX,radius:0,width:0,height:0}),label:s=>iy(s.centerX,s.centerY),line:s=>iy(s.x,s.y),point:s=>({centerX:s.centerX,centerY:s.centerY,radius:0,width:0,height:0}),polygon:s=>iy(s.centerX,s.centerY)};function Jb(s,o){return o==="start"?0:o==="end"?s:$S(o)?e6(o)*s:s/2}function Dh(s,o,_=!0){return typeof o=="number"?o:$S(o)?(_?e6(o):qS(o))*s:s}function PI(s,o){const{x:_,width:V}=s,K=o.textAlign;return K==="center"?_+V/2:K==="end"||K==="right"?_+V:_}function Qb(s,o="center"){return pa(s)?{x:ua(s.x,o),y:ua(s.y,o)}:(s=ua(s,o),{x:s,y:s})}function t6(s){return s&&(Yl(s.xValue)||Yl(s.yValue))}function X0(s,o,_){const V=_.init;if(V){if(V===!0)return n6(o,_)}else return;return RI(s,o,_)}function r6(s,o,_){let V=!1;return o.forEach(K=>{Al(s[K])?(V=!0,_[K]=s[K]):Yl(_[K])&&delete _[K]}),V}function n6(s,o){const _=o.type||"line";return LI[_](s)}function RI(s,o,_){const V=za(_.init,[{chart:s,properties:o,options:_}]);if(V===!0)return n6(o,_);if(pa(V))return V}const lx=new Map,DI=s=>isNaN(s)||s<=0,_I=s=>s.reduce(function(o,_){return o+=_.string,o},"");function Wm(s){if(s&&typeof s=="object"){const o=s.toString();return o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]"}}function $b(s,{x:o,y:_},V){V&&(s.translate(o,_),s.rotate(xs(V)),s.translate(-o,-_))}function _h(s,o){if(o&&o.borderWidth)return s.lineCap=o.borderCapStyle,s.setLineDash(o.borderDash),s.lineDashOffset=o.borderDashOffset,s.lineJoin=o.borderJoinStyle,s.lineWidth=o.borderWidth,s.strokeStyle=o.borderColor,!0}function rp(s,o){s.shadowColor=o.backgroundShadowColor,s.shadowBlur=o.shadowBlur,s.shadowOffsetX=o.shadowOffsetX,s.shadowOffsetY=o.shadowOffsetY}function qb(s,o){const _=o.content;if(Wm(_))return{width:Dh(_.width,o.width),height:Dh(_.height,o.height)};const V=o.font,K=Ba(V)?V.map(e=>_o(e)):[_o(V)],le=o.textStrokeWidth,k=Ba(_)?_:[_],F=k.join()+_I(K)+le+(s._measureText?"-spriting":"");return lx.has(F)||lx.set(F,OI(s,k,K,le)),lx.get(F)}function i6(s,o,_){const{x:V,y:K,width:le,height:k}=o;s.save(),rp(s,_);const F=_h(s,_);s.fillStyle=_.backgroundColor,s.beginPath(),k0(s,{x:V,y:K,w:le,h:k,radius:SI(Cv(_.borderRadius),0,Math.min(le,k)/2)}),s.closePath(),s.fill(),F&&(s.shadowColor=_.borderShadowColor,s.stroke()),s.restore()}function kI(s,o,_){const V=_.content;if(Wm(V)){s.save(),s.globalAlpha=UI(_.opacity,V.style.opacity),s.drawImage(V,o.x,o.y,o.width,o.height),s.restore();return}const K=Ba(V)?V:[V],le=_.font,k=Ba(le)?le.map(n=>_o(n)):[_o(le)],F=_.color,e=Ba(F)?F:[F],h=PI(o,_),E=o.y+_.textStrokeWidth/2;s.save(),s.textBaseline="middle",s.textAlign=_.textAlign,II(s,_)&&BI(s,{x:h,y:E},K,k),NI(s,{x:h,y:E},K,{fonts:k,colors:e}),s.restore()}function II(s,o){if(o.textStrokeWidth>0)return s.lineJoin="round",s.miterLimit=2,s.lineWidth=o.textStrokeWidth,s.strokeStyle=o.textStrokeColor,!0}function FI(s,o,_,V){const{radius:K,options:le}=o,k=le.pointStyle,F=le.rotation;let e=(F||0)*Nb;if(Wm(k)){s.save(),s.translate(_,V),s.rotate(e),s.drawImage(k,-k.width/2,-k.height/2,k.width,k.height),s.restore();return}DI(K)||zI(s,{x:_,y:V,radius:K,rotation:F,style:k,rad:e})}function zI(s,{x:o,y:_,radius:V,rotation:K,style:le,rad:k}){let F,e,h,E;switch(s.beginPath(),le){default:s.arc(o,_,V,0,Wl),s.closePath();break;case"triangle":s.moveTo(o+Math.sin(k)*V,_-Math.cos(k)*V),k+=am,s.lineTo(o+Math.sin(k)*V,_-Math.cos(k)*V),k+=am,s.lineTo(o+Math.sin(k)*V,_-Math.cos(k)*V),s.closePath();break;case"rectRounded":E=V*.516,h=V-E,F=Math.cos(k+vu)*h,e=Math.sin(k+vu)*h,s.arc(o-F,_-e,E,k-Na,k-ms),s.arc(o+e,_-F,E,k-ms,k),s.arc(o+F,_+e,E,k,k+ms),s.arc(o-e,_+F,E,k+ms,k+Na),s.closePath();break;case"rect":if(!K){h=Math.SQRT1_2*V,s.rect(o-h,_-h,2*h,2*h);break}k+=vu;case"rectRot":F=Math.cos(k)*V,e=Math.sin(k)*V,s.moveTo(o-F,_-e),s.lineTo(o+e,_-F),s.lineTo(o+F,_+e),s.lineTo(o-e,_+F),s.closePath();break;case"crossRot":k+=vu;case"cross":F=Math.cos(k)*V,e=Math.sin(k)*V,s.moveTo(o-F,_-e),s.lineTo(o+F,_+e),s.moveTo(o+e,_-F),s.lineTo(o-e,_+F);break;case"star":F=Math.cos(k)*V,e=Math.sin(k)*V,s.moveTo(o-F,_-e),s.lineTo(o+F,_+e),s.moveTo(o+e,_-F),s.lineTo(o-e,_+F),k+=vu,F=Math.cos(k)*V,e=Math.sin(k)*V,s.moveTo(o-F,_-e),s.lineTo(o+F,_+e),s.moveTo(o+e,_-F),s.lineTo(o-e,_+F);break;case"line":F=Math.cos(k)*V,e=Math.sin(k)*V,s.moveTo(o-F,_-e),s.lineTo(o+F,_+e);break;case"dash":s.moveTo(o,_),s.lineTo(o+Math.cos(k)*V,_+Math.sin(k)*V);break}s.fill()}function OI(s,o,_,V){s.save();const K=o.length;let le=0,k=V;for(let F=0;F<K;F++){const e=_[Math.min(F,_.length-1)];s.font=e.string;const h=o[F];le=Math.max(le,s.measureText(h).width+V),k+=e.lineHeight}return s.restore(),{width:le,height:k}}function BI(s,{x:o,y:_},V,K){s.beginPath();let le=0;V.forEach(function(k,F){const e=K[Math.min(F,K.length-1)],h=e.lineHeight;s.font=e.string,s.strokeText(k,o,_+h/2+le),le+=h}),s.stroke()}function NI(s,{x:o,y:_},V,{fonts:K,colors:le}){let k=0;V.forEach(function(F,e){const h=le[Math.min(e,le.length-1)],E=K[Math.min(e,K.length-1)],n=E.lineHeight;s.beginPath(),s.font=E.string,s.fillStyle=h,s.fillText(F,o,_+n/2+k),k+=n,s.fill()})}function UI(s,o){const _=Iv(s)?s:o;return Iv(_)?Vm(_,0,1):1}const aA={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function jd(s,o,_){return o=typeof o=="number"?o:s.parse(o),Ho(o)?s.getPixelForValue(o):_}function zv(s,o,_){const V=o[_];if(V||_==="scaleID")return V;const K=_.charAt(0),le=Object.values(s).filter(k=>k.axis&&k.axis===K);return le.length?le[0].id:K}function a6(s,o){if(s){const _=s.options.reverse,V=jd(s,o.min,_?o.end:o.start),K=jd(s,o.max,_?o.start:o.end);return{start:V,end:K}}}function o6(s,o){const{chartArea:_,scales:V}=s,K=V[zv(V,o,"xScaleID")],le=V[zv(V,o,"yScaleID")];let k=_.width/2,F=_.height/2;return K&&(k=jd(K,o.xValue,K.left+K.width/2)),le&&(F=jd(le,o.yValue,le.top+le.height/2)),{x:k,y:F}}function e3(s,o){const _=s.scales,V=_[zv(_,o,"xScaleID")],K=_[zv(_,o,"yScaleID")];if(!V&&!K)return{};let{left:le,right:k}=V||s.chartArea,{top:F,bottom:e}=K||s.chartArea;const h=oA(V,{min:o.xMin,max:o.xMax,start:le,end:k});le=h.start,k=h.end;const E=oA(K,{min:o.yMin,max:o.yMax,start:e,end:F});return F=E.start,e=E.end,{x:le,y:F,x2:k,y2:e,width:k-le,height:e-F,centerX:le+(k-le)/2,centerY:F+(e-F)/2}}function s6(s,o){if(!t6(o)){const _=e3(s,o);let V=o.radius;(!V||isNaN(V))&&(V=Math.min(_.width,_.height)/2,o.radius=V);const K=V*2,le=_.centerX+o.xAdjust,k=_.centerY+o.yAdjust;return{x:le-V,y:k-V,x2:le+V,y2:k+V,centerX:le,centerY:k,width:K,height:K,radius:V}}return VI(s,o)}function HI(s,o){const{scales:_,chartArea:V}=s,K=_[o.scaleID],le={x:V.left,y:V.top,x2:V.right,y2:V.bottom};return K?WI(K,le,o):GI(_,le,o),le}function l6(s,o){const _=e3(s,o);return _.initProperties=X0(s,_,o),_.elements=[{type:"label",optionScope:"label",properties:jI(s,_,o),initProperties:_.initProperties}],_}function VI(s,o){const _=o6(s,o),V=o.radius*2;return{x:_.x-o.radius+o.xAdjust,y:_.y-o.radius+o.yAdjust,x2:_.x+o.radius+o.xAdjust,y2:_.y+o.radius+o.yAdjust,centerX:_.x+o.xAdjust,centerY:_.y+o.yAdjust,radius:o.radius,width:V,height:V}}function oA(s,o){const _=a6(s,o)||o;return{start:Math.min(_.start,_.end),end:Math.max(_.start,_.end)}}function WI(s,o,_){const V=jd(s,_.value,NaN),K=jd(s,_.endValue,V);s.isHorizontal()?(o.x=V,o.x2=K):(o.y=V,o.y2=K)}function GI(s,o,_){for(const V of Object.keys(aA)){const K=s[zv(s,_,V)];if(K){const{min:le,max:k,start:F,end:e,startProp:h,endProp:E}=aA[V],n=a6(K,{min:_[le],max:_[k],start:K[F],end:K[e]});o[h]=n.start,o[E]=n.end}}}function YI({properties:s,options:o},_,V,K){const{x:le,x2:k,width:F}=s;return u6({start:le,end:k,size:F,borderWidth:o.borderWidth},{position:V.x,padding:{start:K.left,end:K.right},adjust:o.label.xAdjust,size:_.width})}function ZI({properties:s,options:o},_,V,K){const{y:le,y2:k,height:F}=s;return u6({start:le,end:k,size:F,borderWidth:o.borderWidth},{position:V.y,padding:{start:K.top,end:K.bottom},adjust:o.label.yAdjust,size:_.height})}function u6(s,o){const{start:_,end:V,borderWidth:K}=s,{position:le,padding:{start:k,end:F},adjust:e}=o,h=V-K-_-k-F-o.size;return _+K/2+e+Jb(h,le)}function jI(s,o,_){const V=_.label;V.backgroundColor="transparent",V.callout.display=!1;const K=Qb(V.position),le=Qo(V.padding),k=qb(s.ctx,V),F=YI({properties:o,options:_},k,K,le),e=ZI({properties:o,options:_},k,K,le),h=k.width+le.width,E=k.height+le.height;return{x:F,y:e,x2:F+h,y2:e+E,width:h,height:E,centerX:F+h/2,centerY:e+E/2,rotation:V.rotation}}function Nv(s,o,_){const V=Math.cos(_),K=Math.sin(_),le=o.x,k=o.y;return{x:le+V*(s.x-le)-K*(s.y-k),y:k+K*(s.x-le)+V*(s.y-k)}}const M2=["enter","leave"],t3=M2.concat("click");function XI(s,o,_){o.listened=r6(_,t3,o.listeners),o.moveListened=!1,o._getElements=Kb,M2.forEach(V=>{Al(_[V])&&(o.moveListened=!0)}),(!o.listened||!o.moveListened)&&o.annotations.forEach(V=>{!o.listened&&Al(V.click)&&(o.listened=!0),o.moveListened||M2.forEach(K=>{Al(V[K])&&(o.listened=!0,o.moveListened=!0)})})}function KI(s,o,_){if(s.listened)switch(o.type){case"mousemove":case"mouseout":return JI(s,o,_);case"click":return QI(s,o,_)}}function JI(s,o,_){if(!s.moveListened)return;let V;o.type==="mousemove"?V=Kb(s,o,_.interaction):V=[];const K=s.hovered;s.hovered=V;const le={state:s,event:o};let k=sA(le,"leave",K,V);return sA(le,"enter",V,K)||k}function sA({state:s,event:o},_,V,K){let le;for(const k of V)K.indexOf(k)<0&&(le=f6(k.options[_]||s.listeners[_],k,o)||le);return le}function QI(s,o,_){const V=s.listeners,K=Kb(s,o,_.interaction);let le;for(const k of K)le=f6(k.options.click||V.click,k,o)||le;return le}function f6(s,o,_){return za(s,[o.$context,_])===!0}const cm=["afterDraw","beforeDraw"];function $I(s,o,_){const V=o.visibleElements;o.hooked=r6(_,cm,o.hooks),o.hooked||V.forEach(K=>{o.hooked||cm.forEach(le=>{Al(K.options[le])&&(o.hooked=!0)})})}function lA(s,o,_){if(s.hooked){const V=o.options[_]||s.hooks[_];return za(V,[o.$context])}}function qI(s,o,_){const V=iF(s.scales,o,_);let K=uA(o,V,"min","suggestedMin");K=uA(o,V,"max","suggestedMax")||K,K&&Al(o.handleTickRangeOptions)&&o.handleTickRangeOptions()}function eF(s,o){for(const _ of s)rF(_,o)}function uA(s,o,_,V){if(Ho(o[_])&&!tF(s.options,_,V)){const K=s[_]!==o[_];return s[_]=o[_],K}}function tF(s,o,_){return Yl(s[o])||Yl(s[_])}function rF(s,o){for(const _ of["scaleID","xScaleID","yScaleID"]){const V=zv(o,s,_);V&&!o[V]&&nF(s,_)&&console.warn(`No scale found with id '${V}' for annotation '${s.id}'`)}}function nF(s,o){if(o==="scaleID")return!0;const _=o.charAt(0);for(const V of["Min","Max","Value"])if(Yl(s[_+V]))return!0;return!1}function iF(s,o,_){const V=o.axis,K=o.id,le=V+"ScaleID",k={min:ua(o.min,Number.NEGATIVE_INFINITY),max:ua(o.max,Number.POSITIVE_INFINITY)};for(const F of _)F.scaleID===K?fA(F,o,["value","endValue"],k):zv(s,F,le)===K&&fA(F,o,[V+"Min",V+"Max",V+"Value"],k);return k}function fA(s,o,_,V){for(const K of _){const le=s[K];if(Yl(le)){const k=o.parse(le);V.min=Math.min(V.min,k),V.max=Math.max(V.max,k)}}}class np extends bu{inRange(o,_,V,K){const{x:le,y:k}=Nv({x:o,y:_},this.getCenterPoint(K),xs(-this.options.rotation));return QS({x:le,y:k},this.getProps(["x","y","x2","y2"],K),V,this.options.borderWidth)}getCenterPoint(o){return tp(this,o)}draw(o){o.save(),$b(o,this.getCenterPoint(),this.options.rotation),i6(o,this,this.options),o.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(o,_){return l6(o,_)}}np.id="boxAnnotation";np.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};np.defaultRoutes={borderColor:"color",backgroundColor:"color"};np.descriptors={label:{_fallback:!0}};const c6=["left","bottom","top","right"];class K0 extends bu{inRange(o,_,V,K){const{x:le,y:k}=Nv({x:o,y:_},this.getCenterPoint(K),xs(-this.rotation));return QS({x:le,y:k},this.getProps(["x","y","x2","y2"],K),V,this.options.borderWidth)}getCenterPoint(o){return tp(this,o)}draw(o){const _=this.options,V=!Yl(this._visible)||this._visible;!_.display||!_.content||!V||(o.save(),$b(o,this.getCenterPoint(),this.rotation),oF(o,this),i6(o,this,_),kI(o,vF(this),_),o.restore())}resolveElementProperties(o,_){let V;if(t6(_))V=o6(o,_);else{const{centerX:F,centerY:e}=e3(o,_);V={x:F,y:e}}const K=Qo(_.padding),le=qb(o.ctx,_),k=aF(V,le,_,K);return{initProperties:X0(o,k,_),pointX:V.x,pointY:V.y,...k,rotation:_.rotation}}}K0.id="labelAnnotation";K0.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};K0.defaultRoutes={borderColor:"color"};function aF(s,o,_,V){const K=o.width+V.width+_.borderWidth,le=o.height+V.height+_.borderWidth,k=Qb(_.position,"center"),F=cA(s.x,K,_.xAdjust,k.x),e=cA(s.y,le,_.yAdjust,k.y);return{x:F,y:e,x2:F+K,y2:e+le,width:K,height:le,centerX:F+K/2,centerY:e+le/2}}function cA(s,o,_=0,V){return s-Jb(o,V)+_}function oF(s,o){const{pointX:_,pointY:V,options:K}=o,le=K.callout,k=le&&le.display&&cF(o,le);if(!k||dF(o,le,k))return;if(s.save(),s.beginPath(),!_h(s,le))return s.restore();const{separatorStart:e,separatorEnd:h}=sF(o,k),{sideStart:E,sideEnd:n}=uF(o,k,e);(le.margin>0||K.borderWidth===0)&&(s.moveTo(e.x,e.y),s.lineTo(h.x,h.y)),s.moveTo(E.x,E.y),s.lineTo(n.x,n.y);const L=Nv({x:_,y:V},o.getCenterPoint(),xs(-o.rotation));s.lineTo(L.x,L.y),s.stroke(),s.restore()}function sF(s,o){const{x:_,y:V,x2:K,y2:le}=s,k=lF(s,o);let F,e;return o==="left"||o==="right"?(F={x:_+k,y:V},e={x:F.x,y:le}):(F={x:_,y:V+k},e={x:K,y:F.y}),{separatorStart:F,separatorEnd:e}}function lF(s,o){const{width:_,height:V,options:K}=s,le=K.callout.margin+K.borderWidth/2;return o==="right"?_+le:o==="bottom"?V+le:-le}function uF(s,o,_){const{y:V,width:K,height:le,options:k}=s,F=k.callout.start,e=fF(o,k.callout);let h,E;return o==="left"||o==="right"?(h={x:_.x,y:V+Dh(le,F)},E={x:h.x+e,y:h.y}):(h={x:_.x+Dh(K,F),y:_.y},E={x:h.x,y:h.y+e}),{sideStart:h,sideEnd:E}}function fF(s,o){const _=o.side;return s==="left"||s==="top"?-_:_}function cF(s,o){const _=o.position;return c6.includes(_)?_:hF(s,o)}function hF(s,o){const{x:_,y:V,x2:K,y2:le,width:k,height:F,pointX:e,pointY:h,centerX:E,centerY:n,rotation:L}=s,w={x:E,y:n},p=o.start,m=Dh(k,p),t=Dh(F,p),r=[_,_+m,_+m,K],l=[V+t,le,V,le],i=[];for(let f=0;f<4;f++){const v=Nv({x:r[f],y:l[f]},w,xs(L));i.push({position:c6[f],distance:Wd(v,{x:e,y:h})})}return i.sort((f,v)=>f.distance-v.distance)[0].position}function vF({x:s,y:o,width:_,height:V,options:K}){const le=K.borderWidth/2,k=Qo(K.padding);return{x:s+k.left+le,y:o+k.top+le,width:_-k.left-k.right-K.borderWidth,height:V-k.top-k.bottom-K.borderWidth}}function dF(s,o,_){const{pointX:V,pointY:K}=s,le=o.margin;let k=V,F=K;return _==="left"?k+=le:_==="right"?k-=le:_==="top"?F+=le:_==="bottom"&&(F-=le),s.inRange(k,F)}const r3=(s,o,_)=>({x:s.x+_*(o.x-s.x),y:s.y+_*(o.y-s.y)}),S2=(s,o,_)=>r3(o,_,Math.abs((s-o.y)/(_.y-o.y))).x,hA=(s,o,_)=>r3(o,_,Math.abs((s-o.x)/(_.x-o.x))).y,Jp=s=>s*s,pF=(s,o,{x:_,y:V,x2:K,y2:le},k)=>k==="y"?{start:Math.min(V,le),end:Math.max(V,le),value:o}:{start:Math.min(_,K),end:Math.max(_,K),value:s},vA=(s,o,_,V)=>(1-V)*(1-V)*s+2*(1-V)*V*o+V*V*_,E2=(s,o,_,V)=>({x:vA(s.x,o.x,_.x,V),y:vA(s.y,o.y,_.y,V)}),dA=(s,o,_,V)=>2*(1-V)*(o-s)+2*V*(_-o),pA=(s,o,_,V)=>-Math.atan2(dA(s.x,o.x,_.x,V),dA(s.y,o.y,_.y,V))+.5*Na;class J0 extends bu{inRange(o,_,V,K){const le=this.options.borderWidth/2;if(V!=="x"&&V!=="y"){const k={mouseX:o,mouseY:_},{path:F,ctx:e}=this;if(F){_h(e,this.options);const{chart:E}=this.$context,n=o*E.currentDevicePixelRatio,L=_*E.currentDevicePixelRatio,w=e.isPointInStroke(F,n,L)||C2(this,k,K);return e.restore(),w}const h=Jp(le);return xF(this,k,h,K)||C2(this,k,K)}return gF(this,{mouseX:o,mouseY:_},V,{hBorderWidth:le,useFinalPosition:K})}getCenterPoint(o){return tp(this,o)}draw(o){const{x:_,y:V,x2:K,y2:le,cp:k,options:F}=this;if(o.save(),!_h(o,F))return o.restore();rp(o,F);const e=Math.sqrt(Math.pow(K-_,2)+Math.pow(le-V,2));if(F.curve&&k)return CF(o,this,k,e),o.restore();const{startOpts:h,endOpts:E,startAdjust:n,endAdjust:L}=h6(this),w=Math.atan2(le-V,K-_);o.translate(_,V),o.rotate(w),o.beginPath(),o.moveTo(0+n,0),o.lineTo(e-L,0),o.shadowColor=F.borderShadowColor,o.stroke(),L2(o,0,n,h),L2(o,e,-L,E),o.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(o,_){const V=HI(o,_),{x:K,y:le,x2:k,y2:F}=V,e=yF(V,o.chartArea),h=e?mF({x:K,y:le},{x:k,y:F},o.chartArea):{x:K,y:le,x2:k,y2:F,width:Math.abs(k-K),height:Math.abs(F-le)};if(h.centerX=(k+K)/2,h.centerY=(F+le)/2,h.initProperties=X0(o,h,_),_.curve){const n={x:h.x,y:h.y},L={x:h.x2,y:h.y2};h.cp=EF(h,_,Wd(n,L))}const E=bF(o,h,_.label);return E._visible=e,h.elements=[{type:"label",optionScope:"label",properties:E,initProperties:h.initProperties}],h}}J0.id="lineAnnotation";const gA={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};J0.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},gA),fill:!1,length:12,start:Object.assign({},gA),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},K0.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};J0.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};J0.defaultRoutes={borderColor:"color"};function gF(s,{mouseX:o,mouseY:_},V,{hBorderWidth:K,useFinalPosition:le}){const k=pF(o,_,s.getProps(["x","y","x2","y2"],le),V);return k.value>=k.start-K&&k.value<=k.end+K||C2(s,{mouseX:o,mouseY:_},le,V)}function yF({x:s,y:o,x2:_,y2:V},{top:K,right:le,bottom:k,left:F}){return!(s<F&&_<F||s>le&&_>le||o<K&&V<K||o>k&&V>k)}function yA({x:s,y:o},_,{top:V,right:K,bottom:le,left:k}){return s<k&&(o=hA(k,{x:s,y:o},_),s=k),s>K&&(o=hA(K,{x:s,y:o},_),s=K),o<V&&(s=S2(V,{x:s,y:o},_),o=V),o>le&&(s=S2(le,{x:s,y:o},_),o=le),{x:s,y:o}}function mF(s,o,_){const{x:V,y:K}=yA(s,o,_),{x:le,y:k}=yA(o,s,_);return{x:V,y:K,x2:le,y2:k,width:Math.abs(le-V),height:Math.abs(k-K)}}function xF(s,{mouseX:o,mouseY:_},V=Mv,K){const{x:le,y:k,x2:F,y2:e}=s.getProps(["x","y","x2","y2"],K),h=F-le,E=e-k,n=Jp(h)+Jp(E),L=n===0?-1:((o-le)*h+(_-k)*E)/n;let w,p;return L<0?(w=le,p=k):L>1?(w=F,p=e):(w=le+L*h,p=k+L*E),Jp(o-w)+Jp(_-p)<=V}function C2(s,{mouseX:o,mouseY:_},V,K){const le=s.label;return le.options.display&&le.inRange(o,_,K,V)}function bF(s,o,_){const V=_.borderWidth,K=Qo(_.padding),le=qb(s.ctx,_),k=le.width+K.width+V,F=le.height+K.height+V;return TF(o,_,{width:k,height:F,padding:K},s.chartArea)}function wF(s){const{x:o,y:_,x2:V,y2:K}=s,le=Math.atan2(K-_,V-o);return le>Na/2?le-Na:le<Na/-2?le+Na:le}function TF(s,o,_,V){const{width:K,height:le,padding:k}=_,{xAdjust:F,yAdjust:e}=o,h={x:s.x,y:s.y},E={x:s.x2,y:s.y2},n=o.rotation==="auto"?wF(s):xs(o.rotation),L=AF(K,le,n),w=MF(s,o,{labelSize:L,padding:k},V),p=s.cp?E2(h,s.cp,E,w):r3(h,E,w),m={size:L.w,min:V.left,max:V.right,padding:k.left},t={size:L.h,min:V.top,max:V.bottom,padding:k.top},r=xA(p.x,m)+F,l=xA(p.y,t)+e;return{x:r-K/2,y:l-le/2,x2:r+K/2,y2:l+le/2,centerX:r,centerY:l,pointX:p.x,pointY:p.y,width:K,height:le,rotation:zm(n)}}function AF(s,o,_){const V=Math.cos(_),K=Math.sin(_);return{w:Math.abs(s*V)+Math.abs(o*K),h:Math.abs(s*K)+Math.abs(o*V)}}function MF(s,o,_,V){let K;const le=SF(s,V);return o.position==="start"?K=mA({w:s.x2-s.x,h:s.y2-s.y},_,o,le):o.position==="end"?K=1-mA({w:s.x-s.x2,h:s.y-s.y2},_,o,le):K=Jb(1,o.position),K}function mA(s,o,_,V){const{labelSize:K,padding:le}=o,k=s.w*V.dx,F=s.h*V.dy,e=k>0&&(K.w/2+le.left-V.x)/k,h=F>0&&(K.h/2+le.top-V.y)/F;return Vm(Math.max(e,h),0,.25)}function SF(s,o){const{x:_,x2:V,y:K,y2:le}=s,k=Math.min(K,le)-o.top,F=Math.min(_,V)-o.left,e=o.bottom-Math.max(K,le),h=o.right-Math.max(_,V);return{x:Math.min(F,h),y:Math.min(k,e),dx:F<=h?1:-1,dy:k<=e?1:-1}}function xA(s,o){const{size:_,min:V,max:K,padding:le}=o,k=_/2;return _>K-V?(K+V)/2:(V>=s-le-k&&(s=V+le+k),K<=s+le+k&&(s=K-le-k),s)}function h6(s){const o=s.options,_=o.arrowHeads&&o.arrowHeads.start,V=o.arrowHeads&&o.arrowHeads.end;return{startOpts:_,endOpts:V,startAdjust:bA(s,_),endAdjust:bA(s,V)}}function bA(s,o){if(!o||!o.display)return 0;const{length:_,width:V}=o,K=s.options.borderWidth/2,le={x:_,y:V+K};return Math.abs(S2(0,le,{x:0,y:K}))}function L2(s,o,_,V){if(!V||!V.display)return;const{length:K,width:le,fill:k,backgroundColor:F,borderColor:e}=V,h=Math.abs(o-K)+_;s.beginPath(),rp(s,V),_h(s,V),s.moveTo(h,-le),s.lineTo(o+_,0),s.lineTo(h,le),k===!0?(s.fillStyle=F||e,s.closePath(),s.fill(),s.shadowColor="transparent"):s.shadowColor=V.borderShadowColor,s.stroke()}function EF(s,o,_){const{x:V,y:K,x2:le,y2:k,centerX:F,centerY:e}=s,h=Math.atan2(k-K,le-V),E=Qb(o.controlPoint,0),n={x:F+Dh(_,E.x,!1),y:e+Dh(_,E.y,!1)};return Nv(n,{x:F,y:e},h)}function wA(s,{x:o,y:_},{angle:V,adjust:K},le){!le||!le.display||(s.save(),s.translate(o,_),s.rotate(V),L2(s,0,-K,le),s.restore())}function CF(s,o,_,V){const{x:K,y:le,x2:k,y2:F,options:e}=o,{startOpts:h,endOpts:E,startAdjust:n,endAdjust:L}=h6(o),w={x:K,y:le},p={x:k,y:F},m=pA(w,_,p,0),t=pA(w,_,p,1)-Na,r=E2(w,_,p,n/V),l=E2(w,_,p,1-L/V),i=new Path2D;s.beginPath(),i.moveTo(r.x,r.y),i.quadraticCurveTo(_.x,_.y,l.x,l.y),s.shadowColor=e.borderShadowColor,s.stroke(i),o.path=i,o.ctx=s,wA(s,r,{angle:m,adjust:n},h),wA(s,l,{angle:t,adjust:L},E)}class Q0 extends bu{inRange(o,_,V,K){const le=this.options.rotation,k=this.options.borderWidth;if(V!=="x"&&V!=="y")return LF({x:o,y:_},this.getProps(["width","height","centerX","centerY"],K),le,k);const{x:F,y:e,x2:h,y2:E}=this.getProps(["x","y","x2","y2"],K),n=k/2,L=V==="y"?{start:e,end:E}:{start:F,end:h},w=Nv({x:o,y:_},this.getCenterPoint(K),xs(-le));return w[V]>=L.start-n-Mv&&w[V]<=L.end+n+Mv}getCenterPoint(o){return tp(this,o)}draw(o){const{width:_,height:V,centerX:K,centerY:le,options:k}=this;o.save(),$b(o,this.getCenterPoint(),k.rotation),rp(o,this.options),o.beginPath(),o.fillStyle=k.backgroundColor;const F=_h(o,k);o.ellipse(K,le,V/2,_/2,Na/2,0,2*Na),o.fill(),F&&(o.shadowColor=k.borderShadowColor,o.stroke()),o.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(o,_){return l6(o,_)}}Q0.id="ellipseAnnotation";Q0.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:Object.assign({},np.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Q0.defaultRoutes={borderColor:"color",backgroundColor:"color"};Q0.descriptors={label:{_fallback:!0}};function LF(s,o,_,V){const{width:K,height:le,centerX:k,centerY:F}=o,e=K/2,h=le/2;if(e<=0||h<=0)return!1;const E=xs(_||0),n=V/2||0,L=Math.cos(E),w=Math.sin(E),p=Math.pow(L*(s.x-k)+w*(s.y-F),2),m=Math.pow(w*(s.x-k)-L*(s.y-F),2);return p/Math.pow(e+n,2)+m/Math.pow(h+n,2)<=1.0001}class Gm extends bu{inRange(o,_,V,K){const{x:le,y:k,x2:F,y2:e,width:h}=this.getProps(["x","y","x2","y2","width"],K),E=this.options.borderWidth;if(V!=="x"&&V!=="y")return EI({x:o,y:_},this.getCenterPoint(K),h/2,E);const n=E/2,L=V==="y"?{start:k,end:e,value:_}:{start:le,end:F,value:o};return L.value>=L.start-n&&L.value<=L.end+n}getCenterPoint(o){return tp(this,o)}draw(o){const _=this.options,V=_.borderWidth;if(_.radius<.1)return;o.save(),o.fillStyle=_.backgroundColor,rp(o,_);const K=_h(o,_);FI(o,this,this.centerX,this.centerY),K&&!Wm(_.pointStyle)&&(o.shadowColor=_.borderShadowColor,o.stroke()),o.restore(),_.borderWidth=V}resolveElementProperties(o,_){const V=s6(o,_);return V.initProperties=X0(o,V,_),V}}Gm.id="pointAnnotation";Gm.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};Gm.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Ym extends bu{inRange(o,_,V,K){if(V!=="x"&&V!=="y")return this.options.radius>=.1&&this.elements.length>1&&RF(this.elements,o,_,K);const le=Nv({x:o,y:_},this.getCenterPoint(K),xs(-this.options.rotation)),k=this.elements.map(h=>V==="y"?h.bY:h.bX),F=Math.min(...k),e=Math.max(...k);return le[V]>=F&&le[V]<=e}getCenterPoint(o){return tp(this,o)}draw(o){const{elements:_,options:V}=this;o.save(),o.beginPath(),o.fillStyle=V.backgroundColor,rp(o,V);const K=_h(o,V);let le=!0;for(const k of _)le?(o.moveTo(k.x,k.y),le=!1):o.lineTo(k.x,k.y);o.closePath(),o.fill(),K&&(o.shadowColor=V.borderShadowColor,o.stroke()),o.restore()}resolveElementProperties(o,_){const V=s6(o,_),{sides:K,rotation:le}=_,k=[],F=2*Na/K;let e=le*Nb;for(let h=0;h<K;h++,e+=F){const E=PF(V,_,e);E.initProperties=X0(o,V,_),k.push(E)}return V.elements=k,V}}Ym.id="polygonAnnotation";Ym.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};Ym.defaultRoutes={borderColor:"color",backgroundColor:"color"};function PF({centerX:s,centerY:o},{radius:_,borderWidth:V},K){const le=V/2,k=Math.sin(K),F=Math.cos(K),e={x:s+k*_,y:o-F*_};return{type:"point",optionScope:"point",properties:{x:e.x,y:e.y,centerX:e.x,centerY:e.y,bX:s+k*(_+le),bY:o-F*(_+le)}}}function RF(s,o,_,V){let K=!1,le=s[s.length-1].getProps(["bX","bY"],V);for(const k of s){const F=k.getProps(["bX","bY"],V);F.bY>_!=le.bY>_&&o<(le.bX-F.bX)*(_-F.bY)/(le.bY-F.bY)+F.bX&&(K=!K),le=F}return K}const Ch={box:np,ellipse:Q0,label:K0,line:J0,point:Gm,polygon:Ym};Object.keys(Ch).forEach(s=>{yo.describe(`elements.${Ch[s].id}`,{_fallback:"plugins.annotation.common"})});const DF={update:Object.assign},_F=t3.concat(cm),TA=(s,o)=>pa(o)?R2(s,o):s,P2=s=>s==="color"||s==="font";function n3(s="line"){return Ch[s]?s:(console.warn(`Unknown annotation type: '${s}', defaulting to 'line'`),"line")}function kF(s,o,_,V){const K=FF(s,_.animations,V),le=o.annotations,k=BF(o.elements,le);for(let F=0;F<le.length;F++){const e=le[F],h=v6(k,F,e.type),E=e.setContext(OF(s,h,e)),n=h.resolveElementProperties(s,E);n.skip=IF(n),"elements"in n&&(zF(h,n.elements,E,K),delete n.elements),Yl(h.x)||Object.assign(h,n),Object.assign(h,n.initProperties),n.options=d6(E),K.update(h,n)}}function IF(s){return isNaN(s.x)||isNaN(s.y)}function FF(s,o,_){return _==="reset"||_==="none"||_==="resize"?DF:new jb(s,o)}function zF(s,o,_,V){const K=s.elements||(s.elements=[]);K.length=o.length;for(let le=0;le<o.length;le++){const k=o[le],F=k.properties,e=v6(K,le,k.type,k.initProperties),h=_[k.optionScope].override(k);F.options=d6(h),V.update(e,F)}}function v6(s,o,_,V){const K=Ch[n3(_)];let le=s[o];return(!le||!(le instanceof K))&&(le=s[o]=new K,Object.assign(le,V)),le}function d6(s){const o=Ch[n3(s.type)],_={};_.id=s.id,_.type=s.type,_.drawTime=s.drawTime,Object.assign(_,R2(s,o.defaults),R2(s,o.defaultRoutes));for(const V of _F)_[V]=s[V];return _}function R2(s,o){const _={};for(const V of Object.keys(o)){const K=o[V],le=s[V];P2(V)&&Ba(le)?_[V]=le.map(k=>TA(k,K)):_[V]=TA(le,K)}return _}function OF(s,o,_){return o.$context||(o.$context=Object.assign(Object.create(s.getContext()),{element:o,id:_.id,type:"annotation"}))}function BF(s,o){const _=o.length,V=s.length;if(V<_){const K=_-V;s.splice(V,0,...new Array(K))}else V>_&&s.splice(_,V-_);return s}var NF="3.0.1";const ah=new Map,UF=t3.concat(cm);var HF={id:"annotation",version:NF,beforeRegister(){CI("chart.js","4.0",Eh.version)},afterRegister(){Eh.register(Ch)},afterUnregister(){Eh.unregister(Ch)},beforeInit(s){ah.set(s,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(s,o,_){const V=ah.get(s),K=V.annotations=[];let le=_.annotations;pa(le)?Object.keys(le).forEach(k=>{const F=le[k];pa(F)&&(F.id=k,K.push(F))}):Ba(le)&&K.push(...le),eF(K,s.scales)},afterDataLimits(s,o){const _=ah.get(s);qI(s,o.scale,_.annotations.filter(V=>V.display&&V.adjustScaleRange))},afterUpdate(s,o,_){const V=ah.get(s);XI(s,V,_),kF(s,V,_,o.mode),V.visibleElements=V.elements.filter(K=>!K.skip&&K.options.display),$I(s,V,_)},beforeDatasetsDraw(s,o,_){ay(s,"beforeDatasetsDraw",_.clip)},afterDatasetsDraw(s,o,_){ay(s,"afterDatasetsDraw",_.clip)},beforeDraw(s,o,_){ay(s,"beforeDraw",_.clip)},afterDraw(s,o,_){ay(s,"afterDraw",_.clip)},beforeEvent(s,o,_){const V=ah.get(s);KI(V,o.event,_)&&(o.changed=!0)},afterDestroy(s){ah.delete(s)},_getState(s){return ah.get(s)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:s=>!UF.includes(s)&&s!=="init",annotations:{_allKeys:!1,_fallback:(s,o)=>`elements.${Ch[n3(o.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:P2,_fallback:!0},_indexable:P2}},additionalOptionScopes:[""]};function ay(s,o,_){const{ctx:V,chartArea:K}=s,le=ah.get(s);_&&Bm(V,K);const k=VF(le.visibleElements,o).sort((F,e)=>F.element.options.z-e.element.options.z);for(const F of k)WF(V,K,le,F);_&&Nm(V)}function VF(s,o){const _=[];for(const V of s)if(V.options.drawTime===o&&_.push({element:V,main:!0}),V.elements&&V.elements.length)for(const K of V.elements)K.options.display&&K.options.drawTime===o&&_.push({element:K});return _}function WF(s,o,_,V){const K=V.element;V.main?(lA(_,K,"beforeDraw"),K.draw(s,o),lA(_,K,"afterDraw")):K.draw(s,o)}Eh.register(HF);Eh.register(T2,Ey,Xp,Kk,Hk);function GF(s){const o=async()=>{await Ib.get(Fm.server+`points/${s==null?void 0:s.user_id}`).then(k=>{V(k.data)}).catch(k=>{console.log(k)})};bi.useEffect(()=>{s!=null&&s.user_id&&o()},[s]);const[_,V]=bi.useState([]),[K,le]=bi.useState({options:null,data:null});return bi.useEffect(()=>{_.length>0&&le({options:{scales:{y:{beginAtZero:!0,max:Math.max(..._.map(k=>k.y))+.2,min:Math.min(..._.map(k=>k.y))-.2},x:{beginAtZero:!0,max:Math.max(..._.map(k=>k.x))+.2,min:Math.min(..._.map(k=>k.x))-.2}},responsive:!0,plugins:{annotation:{drawTime:"afterDatasetsDraw",annotations:{xLine:{type:"line",borderColor:"black",borderWidth:1,scaleID:"x",value:0},yLine:{type:"line",borderColor:"black",borderWidth:1,scaleID:"y",value:0}}},legend:{display:!1},tooltip:{callbacks:{label:function(k){return`${k.dataset.data[k.dataIndex].label||""} (${k.dataset.data[k.dataIndex].x}, ${k.dataset.data[k.dataIndex].y})`}}}}},data:{datasets:[{label:"Point",data:_,backgroundColor:"red"}]}})},[_]),Gi("div",{className:"h-[inherit] w-full flex items-center justify-center",children:_&&K.data&&K.options&&Gi(bI,{options:K.options,data:K.data})})}function YF(){var _;const{session:s}=bi.useContext(fS);let o=Rm();return bi.useEffect(()=>{q9()&&o("/login")},[s]),Pf("div",{className:"w-full flex justify-center items-center h-full flex-col",children:[Gi("h1",{className:"my-2 md:text-2xl text-lg text-center",children:"Personal Analytics"}),Gi("h1",{className:"my-2 mt-10 mb-5 text-md text-gray-500",children:"Point Chart"}),Gi("div",{className:"md:h-96 h-full w-full",children:Gi(GF,{user_id:(_=s==null?void 0:s.personal)==null?void 0:_.userid})})]})}function ZF(){return Gi("div",{className:"App overflow-hidden",children:Gi(FP,{children:Pf(RP,{children:[Gi(dd,{path:"/",element:Gi(WT,{children:Gi(fR,{})})}),Gi(dd,{path:"/profile",element:Gi(WT,{children:Gi(YF,{})})}),Gi(dd,{path:"/admin",element:Gi(GT,{})}),Gi(dd,{path:"/admin/",element:Gi(GT,{})}),Gi(dd,{path:"/login",element:Gi(tR,{})})]})})})}fx.createRoot(document.getElementById("root")).render(Gi(O0.StrictMode,{children:Gi(ZF,{})}));
